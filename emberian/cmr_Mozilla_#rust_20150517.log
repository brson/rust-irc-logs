[00:00:11] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[00:00:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:00:15] <someircname> Hey, just wanted to say thank you to everyone for listening and suggesting various things earlier.  much appreciated.
[00:00:17] <someircname> have a great week!
[00:01:00] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[00:01:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:02:03] <dennis> simpler question I suppose, then - how best to concatenate two chars into a string?
[00:02:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:02:52] <mbrubeck> dennis: Here's a solution to your original question: http://is.gd/NbsVQv
[00:02:53] *** Quits: geri (Mibbit@moz-2k10mt.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[00:02:54] <WindowsBunny> Layl: If you're ever wondering who I am
[00:03:04] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:03:14] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:03:19] <WindowsBunny> !WindowsBunny
[00:03:19] <rustbot> Retep998, the local expert on Windows and bunnies.
[00:03:22] <WindowsBunny> Layl: ^
[00:03:25] <mbrubeck> dennis: You can use `format!("{}{}", a, b)`
[00:03:29] <Layl> ah alright
[00:03:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:03:50] <mbrubeck> dennis: or use String::push
[00:04:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:04:30] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:04:39] <mbrubeck> dennis: Oops, just noticed my answer stops too soon
[00:05:01] *** Joins: Guest___ (textual@moz-6um9co.ca.comcast.net)
[00:05:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:05:49] *** Quits: duncanmv (duncan@moz-fui057.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:05:49] <mbrubeck> I don't really like char_indices as an API.
[00:05:50] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[00:05:54] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[00:06:00] <SpaceManiac> huoy: looks like it works; unstable, though, which is sad
[00:06:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:06:27] <huoy> SpaceManiac, another solution might be to use a loader + libdaemon
[00:06:34] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: ZZZzzz…)
[00:06:37] <vikaton> is there a reason why Rust does not support function overloading?
[00:06:44] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[00:06:45] <bluss> mbrubeck: true, it's a bit restricted and you often need the right side offset (not just the left side)
[00:06:56] <vikaton> !learn vikaton boop
[00:06:56] <rustbot> Invalid format. No description specified.
[00:07:02] <vikaton> !help
[00:07:02] <rustbot> Help is what I like to do! Everyone, welcome to #rust! Please read topics first. On bot usages, I've also sent private messages.
[00:07:15] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:07:20] <mbrubeck> Fixed, but even uglier: http://is.gd/NZdF6Z
[00:07:21] <pancake> im trying to find an easy way to initialize a struct {0} is not valid and all the results i found in google seems to be deprecated syntax
[00:07:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:07:40] *** kimundi is now known as zz_kimundi
[00:07:49] <XMPPwocky> pancake: what struct?
[00:07:56] <cmr> vikaton: yes, mostly for simplicity and understanding reasons, but note that you can get a lot of what you'd usually get with overloading with generics + traits.
[00:08:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:08:19] *** Joins: SilverKey (SilverKey@moz-liif3j.res.rr.com)
[00:08:21] <vikaton> dont know those yet :)
[00:08:36] <pancake> XMPPwocky: anything like this: struct Person { pub name: str }
[00:08:42] <mbrubeck> pancake: let x = MyStruct { field1: value1, field2: value2, ... };
[00:08:58] <pancake> mbrubeck: what if this struct have a lot of fields?
[00:09:03] <mbrubeck> Person { name: "Matt" }
[00:09:09] <rkruppe> pancake: That specific struct doesn't work because str is weird. Use &str or String
[00:09:18] *** Quits: HighlightMe (Fanboy@moz-5d5.970.123.205.IP) (Ping timeout: 121 seconds)
[00:09:21] <mbrubeck> pancake: You could write a constructor function that initializes some or all of them to default values
[00:09:24] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[00:09:28] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[00:09:29] <mbrubeck> or derive the Default trait and call Person::default()
[00:09:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:09:32] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:09:36] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[00:09:41] <mbrubeck> http://doc.rust-lang.org/std/default/index.html
[00:09:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:10:07] <mbrubeck> impl Person { fn new() -> Person { Person { name: "Jane Doe" } } }
[00:10:17] <pancake> mbrubeck: the example i found about traits was using a deprecated syntax
[00:10:19] <pancake> lets try this
[00:10:29] <bluss> mbrubeck: this iterator is nicer http://is.gd/Y0qTPB
[00:10:32] <pancake> but i guess it's safer to pass all fields or use a constructor
[00:10:39] <pancake> to centralize the way it's built
[00:10:48] <bluss> dennis: ^ see link above
[00:10:49] *** Joins: tyler569 (tyler@moz-j21k4h.dyn.optonline.net)
[00:11:01] <XMPPwocky> pancake: Default is just another "constructor"
[00:11:12] <XMPPwocky> it's not implemented for everything
[00:11:13] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[00:11:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:11:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:11:56] <pancake> i see
[00:12:56] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[00:13:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:13:30] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[00:13:38] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[00:13:42] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[00:13:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:13:54] <pancake> rkruppe: shoudlnt the trait warn about this?
[00:15:05] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[00:15:11] <rkruppe> pancake: You'll probably get an inscrutable error message when you try to create an instance. It's actually a valid declaration (or will be in the future) but not what you usually want.
[00:15:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:15:34] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[00:15:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:15:53] <mbrubeck> pancake: There's also a special syntax where you can write `let mbrubeck = Person { name: "Matt", age: 34, ..some_other_person };`
[00:16:02] <mbrubeck> and it will copy all the rest of the fields from some_other_person.
[00:16:17] <mbrubeck> You can combine this with the default trait like
[00:16:17] <dennis> WOW, had no conception that the format! macro would work with non-literals
[00:16:25] *** Joins: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr)
[00:16:30] <dennis> @mbrubeck nice!!
[00:16:36] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[00:16:42] <mbrubeck> let mbrubeck = Person { name: "Matt", ..Person::default() };
[00:16:57] <pancake>         pub name: &'static str,
[00:17:03] <pancake>     let g = Hello { name: "Paco", age: 32 };
[00:17:03] <mbrubeck> bluss: awesome
[00:17:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:17:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:18:15] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[00:18:21] <adjivas> Hi @all! Please, there is a option in rustc for compile a project to a 32-bits's version?
[00:18:25] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[00:18:47] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[00:18:55] *** Quits: james4k__ (james@moz-g74jtt.consolidated.net) (Connection closed)
[00:19:12] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[00:19:13] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[00:19:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:19:26] *** mib_ilkjjs is now known as l1n3n01z
[00:19:28] <adjivas> By example, with gcc, this option is "-m32"
[00:19:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:20:07] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[00:20:46] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[00:20:51] <insaneinside> adjivas: rustc -C target-cpu=YOUR_LLVM_TRIPLE
[00:20:52] <insaneinside> ?
[00:21:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:21:22] *** Joins: slimsag (Mibbit@moz-qrnu8n.ph.cox.net)
[00:21:32] <insaneinside> adjivas: I haven't *actually* investigated that sort of thing, but it's the most obvious one to look into.
[00:21:40] *** Quits: raichoo (raichoo@moz-kp3ve1.versanet.de) (Ping timeout: 121 seconds)
[00:21:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:21:53] *** Joins: mib_yjlhys (Mibbit@moz-6ui.38s.230.94.IP)
[00:21:56] *** Quits: alinab (alina@moz-pck6hc.il.comcast.net) (Connection closed)
[00:22:17] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: Cheerio!)
[00:22:21] *** streblo|away is now known as streblo
[00:22:22] *** chris4 is now known as scape
[00:22:30] <pancake> what do {:?} means? output in json-like format?
[00:22:32] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[00:22:33] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[00:22:36] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[00:22:42] <pancake> s/output/format
[00:22:43] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:22:49] <adjivas> insaneinside: Thank you for this information! I will investigate :-) !
[00:22:52] *** streblo is now known as streblo|away
[00:22:52] *** Quits: groovy2shoes (cory@moz-0gij6g.res.rr.com) (Quit: Leaving)
[00:22:55] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[00:22:56] <bluss> Debug trait. sure, it's a bit JSON like
[00:23:07] *** Quits: mib_yjlhys (Mibbit@moz-6ui.38s.230.94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:23:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:23:16] <pancake> traitful!
[00:23:17] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[00:23:29] <bluss> mbrubeck: I'm super silly, char_indices can do the same http://is.gd/RSCCvw
[00:23:35] <bluss> didn't realize
[00:23:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:24:16] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[00:24:34] <insaneinside> adjivas: found that option via `rustc -C help`, btw ;)
[00:24:50] *** Quits: Guest___ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:24:54] *** Quits: l1n3n01z (Mibbit@moz-566.1vi.144.194.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:25:00] *** Joins: RCIX (RCIX@moz-r1pej6.reverse.softlayer.com)
[00:25:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:25:36] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:25:54] <adjivas> insaneinside: Right =D! 
[00:26:26] *** Joins: l1n3n01z (Mibbit@moz-566.1vi.144.194.IP)
[00:27:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:27:11] *** Quits: AndroUser2 (androirc@moz-7m7.t15.163.208.IP) (Ping timeout: 121 seconds)
[00:27:20] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[00:27:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:28:04] *** Quits: JuggleTux (tux@moz-ikqjs5.adslplus.ch) (Ping timeout: 121 seconds)
[00:29:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:29:05] <adjivas> insaneinside: with a "llc -mcpu=help", a list of target-cpu can be get
[00:29:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:29:31] <adjivas> insaneinside: I must go, maybe many more later!
[00:29:36] *** Parts: l1n3n01z (Mibbit@moz-566.1vi.144.194.IP) ()
[00:29:49] <adjivas> maybe see you more later*
[00:30:09] *** Joins: FallingAlways (FallingTime@moz-ruksei.cable.rogers.com)
[00:30:11] *** Quits: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr) (Quit: WeeChat 0.4.2)
[00:30:22] <pancake> extern "C" { fn printf(x: &str); } <- this works. but... am i doing it right?
[00:30:35] <pancake> unsafe { printf ("Hello C!\n"); } <- its called like this
[00:30:42] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[00:30:57] <vikaton> pancake, can I see your code?
[00:31:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:31:05] *** Joins: nwr_ (nwr@moz-f05.e0u.141.50.IP)
[00:31:13] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[00:31:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:31:41] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[00:31:55] *** Joins: james4k__ (james@moz-g74jtt.consolidated.net)
[00:31:56] *** Joins: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr)
[00:32:03] <XMPPwocky> pancake: no, that works because of very implementation-specific random chance basically
[00:32:26] *** Quits: krig (krig@moz-nf73fa.acc.umu.se) (Ping timeout: 121 seconds)
[00:32:44] <vidot_j> Hi guys, i'm creating a shell but my prompt fucked up
[00:32:53] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[00:32:53] *** rkruppe_ is now known as rkruppe
[00:32:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:33:00] <vidot_j> i print with println!("$> "); and my read
[00:33:19] <vidot_j> but my prompt ("$> ") is displayed after i wrote on standard input
[00:33:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:33:32] *** Quits: nwr (nwr@moz-f05.e0u.141.50.IP) (Ping timeout: 121 seconds)
[00:34:02] <insaneinside> vidot_j: i believe stdout is buffered.
[00:34:04] *** Joins: Rainbow (Mibbit@moz-7kt0rf.dyn.optonline.net)
[00:34:07] *** Joins: krig (krig@moz-nf73fa.acc.umu.se)
[00:34:10] <XMPPwocky> line-buffered though
[00:34:37] <desophos> is there a way to define an enum-like thing where each variant corresponds to a value instead of a type?
[00:34:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:35:05] <insaneinside> desophos: `Enum::Variant as usize`
[00:35:14] <npm> quick question: is leaq 1(%rax), %rax somehow faster than inc %rax?
[00:35:16] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[00:35:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:35:24] <insaneinside> playbot: enum Foo { A, B };  Foo::A as usize
[00:35:25] -playbot- 0
[00:35:30] <insaneinside> desophos: ^^^
[00:35:36] <XMPPwocky> npm: benchmark and see? 
[00:35:39] <XMPPwocky> i don't see why it should be
[00:35:46] <npm> because there is some weird llvm output going on
[00:36:06] <slimsag> huon: is http://huonw.github.io/simdty/simdty/ yours ? do you know if it can run on 1.0 ?
[00:36:08] *** Joins: tyoverby (tyoverby@moz-254fcd.cs.washington.edu)
[00:36:20] <desophos> well, i mean what i want is: enum Foo { A(???), B(???) }; Foo::A == 'A'
[00:36:26] <desophos> insaneinside: ^
[00:36:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:36:55] <desophos> like a weak enum i guess
[00:37:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:37:43] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[00:37:50] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[00:38:04] <desophos> it seems like that's just not the way enums work, so i'm wondering if there's some other structure i need to use for that
[00:38:19] <XMPPwocky> sounds almost dependently-typed-y?
[00:38:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:38:50] *** Quits: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr) (Connection closed)
[00:38:53] <slimsag> huon: Oh. I see it uses #[simd] now; nvm :)
[00:39:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:39:43] <insaneinside> desophos: so you mean you want to specify the value of the discriminant for each variant?
[00:39:48] <desophos> yes insaneinside 
[00:40:00] *** Quits: Twinklebear (Twinklebear@moz-tp76op.s4q2.52kr.030a.2602.IP) (Ping timeout: 121 seconds)
[00:40:08] *** Quits: WindowsBunny (Peter@moz-prmara.east.verizon.net) (Ping timeout: 121 seconds)
[00:40:19] <desophos> i think
[00:40:25] <desophos> not sure exactly what a discriminant is
[00:40:31] <insaneinside> that question is totally out of my league, but I'm guessing the answer is "Nope."
[00:40:39] <XMPPwocky> oh, you can totally do that though?
[00:40:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:40:57] <XMPPwocky> rusti: enum Foo { Meow = 1u32, Woof = 2u32 }
[00:40:57] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:40:58] -playbot- <anon>:9:27: 9:31 error: mismatched types:
[00:40:58] -playbot-  expected `isize`,
[00:40:58] -playbot- output truncated; full output at: http://bit.ly/1QSJnjj
[00:41:01] <npm> huh
[00:41:05] <XMPPwocky> rusti: enum Foo { Meow = 1, Woof = 2 }
[00:41:06] -playbot- ()
[00:41:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:41:16] <insaneinside> XMPPwocky: TIL... ;)
[00:41:19] <desophos> huh. is that all i need to do? wow
[00:41:22] <SpaceManiac> you can't do that if any of the variants are non-nullary
[00:41:27] <XMPPwocky> it only works with isize though
[00:41:48] <desophos> hmm, interesting
[00:41:58] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Ping timeout: 121 seconds)
[00:42:28] <desophos> well thanks! that's what i needed
[00:42:35] <insaneinside> playbot: enum A { B = 'B' as isize } A::B as u8 as char
[00:42:37] -playbot- 'B'
[00:42:38] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[00:42:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:42:47] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[00:42:49] <XMPPwocky> as as as as as as as
[00:42:50] <SpaceManiac> the types of the discriminants just have to match the #[repr()]
[00:43:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:43:17] *** Quits: tyler569 (tyler@moz-j21k4h.dyn.optonline.net) (Ping timeout: 121 seconds)
[00:43:24] *** Joins: thor (thor@moz-n7n1a4.res.rr.com)
[00:43:57] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[00:44:05] <insaneinside> SpaceManiac: well... yes? => http://bit.ly/1e7SQFp
[00:44:22] <insaneinside> Apparently you have to use `isize` for an enum?
[00:44:29] <SpaceManiac> I assume repr(char) is just not an option
[00:44:32] <SpaceManiac> certainly i*, u* work
[00:44:36] <npm> I guess that lea is actually faster
[00:44:38] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[00:44:41] <npm> that's so weird
[00:44:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:44:46] *** Joins: HeroesGrave (HeroesGrave@moz-9j07e1.vf.net.nz)
[00:44:46] <XMPPwocky> x86 is basically maic
[00:44:47] <Sho> amusingly enough c++ only really solved that in 11 too with enum classes allowing you to specify the size (type) of the enum, before treating one as int was sort of unreliable magic everyone did anyway
[00:44:57] <XMPPwocky> npm: now, is it faster than dec ?
[00:45:06] <npm> I don't know
[00:45:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:45:25] <npm> but it is faster than an add, and it's faster than a mov+add
[00:45:40] <npm> so... I guess I'll trust llvm
[00:46:20] <npm> oh yeah, so add/sub takes 0.5 cycles, while inc/dec take a full cycle, at least on Pentium
[00:46:23] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Connection closed)
[00:46:25] <insaneinside> Sha: actually, C++11 made it possible to *dis*allow the implicit conversion.
[00:46:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:46:41] <npm> and if lea is ~equal to add/sub...
[00:47:01] *** Quits: marsel (user@moz-jir.4tc.180.94.IP) (Ping timeout: 121 seconds)
[00:47:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:47:11] <JustAPerson> but add/sub require a literal... how are they faster
[00:47:22] <rkruppe> Pentium? Isn't that like middle ages in IT terms?
[00:47:45] <npm> I'm trying to find updated stuff
[00:48:35] <insaneinside> SpaceManiac: in any case, the error message totally says that rustc expected `isize` where it found `char`, so I think the assumption that only `isize` is allowed is very reasonable (even if it's incorrect). :)
[00:48:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:48:47] *** Quits: dawehner (quassel@moz-jms.k95.62.64.IP) (Connection closed)
[00:48:49] <rkruppe> npm: http://www.agner.org/optimize/instruction_tables.pdf ?
[00:49:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:49:05] *** Joins: dawehner (quassel@moz-jms.k95.62.64.IP)
[00:49:21] <npm> rkruppe: ah, thanks
[00:49:27] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:49:33] <npm> I don't really know why I'm doing this research
[00:49:36] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[00:49:53] <npm> It's exclusively going to be used for turning a cstr into a str, on failure
[00:49:59] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[00:50:01] <insaneinside> npm: probably because you have something better to do, and you *really* don't want to do it.
[00:50:06] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[00:50:16] <npm> insaneinside: it might be a little bit of that
[00:50:22] <npm> updating my own code
[00:50:32] <npm> doing the "how could I have been so dumb" dance
[00:50:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:50:46] *** Joins: WindowsBunny (Peter@moz-prmara.east.verizon.net)
[00:50:47] <rkruppe> But predicting actual performance by instruction and cycles per instruction is like reading tea leaves, especially if there's any memory access
[00:50:49] *** Quits: playjax (chatzilla@moz-i91i37.optusnet.com.au) (Ping timeout: 121 seconds)
[00:50:49] <Sho> insaneinside: yeah, i meant that being able to specify sizes allows you to be sure what you'll get, which solves some problems like not being able to forward-declare
[00:51:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:51:07] <npm> rkruppe: it's just a straightforward register based routine
[00:51:26] <npm> (strlen)
[00:51:27] <Layl> SpaceManiac, to clarify, rust doesn't do automatic casting
[00:51:31] <Layl> it always has to be explicit
[00:51:37] <vikaton> playbot: let mut x = "hi"; x = 3
[00:51:38] -playbot- <anon>:9:31: 9:32 error: mismatched types:
[00:51:38] -playbot-  expected `&str`,
[00:51:38] -playbot- output truncated; full output at: http://bit.ly/1e7Tin6
[00:51:51] <rkruppe> npm: I'm not saying it doesn't have its place but in my experience it misleads more often than it helps
[00:52:16] * insaneinside guesses everyone in #rust-internals is busy partying.
[00:52:19] <npm> rkruppe: I'll end up just letting llvm optimize
[00:52:22] <npm> I'm just curious
[00:52:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:52:31] <vikaton> does C++11 have type conversion with the auto keyword
[00:52:32] <rkruppe> Yes, curiosity is the best reason for anything :)
[00:52:43] <SpaceManiac> Layl: I'm aware
[00:52:54] <insaneinside> vikaton: `auto` is a type-specifier, AFAIK.
[00:52:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:52:57] *** Quits: Rainbow (Mibbit@moz-7kt0rf.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:53:00] <Layl> if  you've ever done game math, you'll appreciate this
[00:53:06] <Layl> oh all the bugs caused by accidental cast to int
[00:53:17] *** Joins: Rainbow (Mibbit@moz-7kt0rf.dyn.optonline.net)
[00:53:30] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[00:54:31] <rkruppe> Layl: The other day I had to cast e.abs() to usize, where e was an i16. In fifteen different places. That made me sad
[00:54:32] <XMPPwocky> my personal favorite is people using signed types instead of unsigned types
[00:54:40] <XMPPwocky> and then casting to a larger type
[00:54:50] <XMPPwocky> which sign-extends it and can break things awfully
[00:54:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:54:55] <vikaton> insaneinside: auto is for Type inference
[00:55:00] <npm> XMPPwocky: yuck :/
[00:55:06] <vikaton> I think
[00:55:11] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[00:55:14] *** streblo|away is now known as streblo
[00:55:19] <rkruppe> There's a reason mixing signed and unsigned numbers is verboten in C and C++ guidelines
[00:55:19] <npm> vikaton: yeah, auto type infers
[00:55:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:55:37] <npm> but it only works if the right side of the assignment actually has a real type
[00:55:44] <Layl> it's not verboten, it's *shudder* "undefined"
[00:55:48] <Sho> auto is a keyword, in variable declarations it acts as a type specifier, in some other contexts it's not technically one
[00:56:13] <npm> Layl: what's actually undefined?
[00:56:22] * insaneinside has read the C11 and C++11 standards... well, skimmed them.  He *might* know what he's talking about.  ...Mostly.
[00:56:30] <npm> like, obviously negative signed to unsigned
[00:56:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:56:54] <npm> and >(2^31 - 1) unsigned to signed
[00:56:56] <Sho> insaneinside: if you were 100% sure that'd be more suspicious than anything
[00:56:58] <Sho> :)
[00:57:10] <rkruppe> insaneinside: I've never even looked at the standard documents, but I can smartass all day because I spent so much time reading C++ questions on Stack Overflow
[00:57:15] *** Joins: jminer (Instantbird@moz-b1u.qch.163.66.IP)
[00:57:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:57:23] <npm> rkruppe: they're actually very interesting
[00:57:38] <rkruppe> Interesting, a.k.a. morbidly fascinating
[00:57:40] <npm> and you'd be surprised by the things that are undefined that people do everyday
[00:57:54] <Layl> the standard template library keeps me up at night, scared to death
[00:57:57] <npm> Also, the arguments over whether things are defined or undefined
[00:58:00] <rkruppe> It's amazing how large a language can get without collapsing under its own weight
[00:58:04] * insaneinside has a feeling #rust-offtopic may be a better place for this conversation.
[00:58:47] <rkruppe> insaneinside: Complaining about C++ has the very on topic benefit of making me feel better about Rust's warts :)
[00:58:47] <npm> agreed
[00:58:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[00:58:55] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[00:58:56] <npm> with insaneinside 
[00:59:02] *** Quits: Rainbow (Mibbit@moz-7kt0rf.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:59:13] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[00:59:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[00:59:41] *** Quits: nwr_ (nwr@moz-f05.e0u.141.50.IP) (Ping timeout: 121 seconds)
[00:59:49] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[00:59:54] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:59:58] <npm> rkruppe: like the arithmetic operator for concatting strings :'(
[01:00:19] *** Quits: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[01:00:22] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:00:27] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Quit: No Ping reply in 180 seconds.)
[01:00:27] <HeroesGrave> Does anyone know what the current roadblock to getting rust+emscripten working is?
[01:00:28] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[01:00:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:01:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:01:19] *** Quits: chc4 (chc4@moz-mjph4c.ma.comcast.net) (Ping timeout: 121 seconds)
[01:01:33] <slimsag> HeroesGrave: they use different LLVM versions... Rust was behind last I checked
[01:01:47] <slimsag> HeroesGrave: also rust LLVM has patches that are not upstreamed yet
[01:02:10] <mbrubeck> People have gotten it to work somewhat at various points, e.g. https://www.reddit.com/r/rust/comments/2ylzkx/a_game_written_with_piston_running_on_the_web_via/
[01:02:12] *** Joins: zhb (zhb@moz-oes.erg.206.121.IP)
[01:02:42] <HeroesGrave> slimsag: okay. thanks
[01:02:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:03:02] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[01:03:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:03:11] <mystor> Is it possible to move something out of a box in stable rust?
[01:03:24] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[01:04:22] *** Quits: Zalabinsky (Zalabinsky@moz-6gea57.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[01:04:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:04:49] *** Quits: Grimsley (Grimsley@moz-8t432m.dglo.vc9u.0306.2602.IP) (Quit: Leaving)
[01:04:55] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[01:05:00] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[01:05:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:05:13] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[01:05:20] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:05:38] <Layl> mystor, let value = *boxed; ?
[01:05:46] <Layl> I /think/ that might work
[01:05:56] *** Joins: lfairy (lfairy@moz-hve4m3.ihug.co.nz)
[01:06:01] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:06:06] <mbrubeck> Deref only borrows
[01:06:07] <Layl> playbot: let boxed = Box::new(5); let value = *boxed;
[01:06:08] -playbot- ()
[01:06:14] <Layl> playbot: let boxed = Box::new(5); let value = *boxed; value
[01:06:16] -playbot- 5
[01:06:17] <mbrubeck> It'll work for copy types
[01:06:18] <Layl> yep
[01:06:24] *** Joins: tyler569 (tyler@moz-j21k4h.dyn.optonline.net)
[01:06:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:06:40] * Sho is putting together a little racer-based completion plugin for Kate/KDevelop
[01:06:47] <mbrubeck> playbot: let box = Box::new(5); let value: i32 = *boxed; value
[01:06:48] -playbot- <anon>:9:17: 9:18 error: unexpected token: `=`
[01:06:48] -playbot- <anon>:9         let box = Box::new(5); let value: i32 = *boxed; value
[01:06:48] -playbot- output truncated; full output at: http://bit.ly/1e7UjLL
[01:06:53] <mbrubeck> playbot: let box = Box::new(5); let value: i32 = **boxed; value
[01:06:54] -playbot- <anon>:9:17: 9:18 error: unexpected token: `=`
[01:06:54] -playbot- <anon>:9         let box = Box::new(5); let value: i32 = **boxed; value
[01:06:54] -playbot- output truncated; full output at: http://bit.ly/1QSLaow
[01:06:55] *** streblo is now known as streblo|away
[01:06:56] <navaati> damn, can I private chat with playbot (or, is there a rust REPL online ?)
[01:06:59] <Layl> incoming vocal playbot
[01:07:01] <Layl> playbot: struct Type { v: int } let boxed = Box::new(Type { v: 5 }); let value = *boxed; value
[01:07:01] -playbot- <anon>:9:26: 9:29 error: use of undeclared type name `int`
[01:07:02] -playbot- <anon>:9         struct Type { v: int } let boxed = Box::new(Type { v: 5 }); let value = *boxed; value
[01:07:02] -playbot- output truncated; full output at: http://bit.ly/1e7UkPS
[01:07:02] <mbrubeck> playbot: let boxed = Box::new(5); let value: i32 = *boxed; value
[01:07:03] <_habnabit> how do you iterate over a vector of tuples?
[01:07:03] -playbot- 5
[01:07:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:07:09] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[01:07:12] <mbrubeck> playbot: let boxed = Box::new(5); let value: i32 = *boxed; boxed
[01:07:13] -playbot- 5
[01:07:15] <lfairy> navaati: play.rust-lang.org
[01:07:16] <mystor> Layl: Yeah - it works
[01:07:18] <Layl> playbot: struct Type { v: i32 } let boxed = Box::new(Type { v: 5 }); let value = *boxed; value
[01:07:20] -playbot- <anon>:8:5: 8:9 error: the trait `core::fmt::Debug` is not implemented for the type `main::Type` [E0277]
[01:07:20] -playbot- <anon>:8     show({
[01:07:20] -playbot- output truncated; full output at: http://bit.ly/1QSLdAL
[01:07:23] <_habnabit> `for (a, b) in vec` seems to be failing? i guess i should make a test case
[01:07:24] <Layl> egh I'll drop it
[01:07:25] <mystor> http://is.gd/T4FnBo
[01:07:33] <navaati> great, thanks
[01:08:11] <mbrubeck> _habnabit: That *should* work
[01:08:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:08:46] <mbrubeck> _habnabit: http://is.gd/QJaeyk
[01:08:50] <bug> pm also works
[01:08:51] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[01:08:59] <_habnabit> mbrubeck, hm okay
[01:09:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:09:03] <dcrewi> mbrubeck: unless the yielded values are references to the tuples
[01:09:04] <lfairy> playbot: #[derive(Debug)] struct Moved; let boxed = Box::new(Moved); let value = *boxed; value
[01:09:05] *** Joins: thombles (sid25752@moz-4st7e1.brockwell.irccloud.com)
[01:09:05] -playbot- Moved
[01:09:23] <lfairy> playbot: #[derive(Debug)] struct Moved; let boxed = Box::new(Moved); let value = *boxed; boxed
[01:09:24] -playbot- <anon>:9:89: 9:94 error: use of moved value: `boxed`
[01:09:24] -playbot- <anon>:9         #[derive(Debug)] struct Moved; let boxed = Box::new(Moved); let value = *boxed; boxed
[01:09:24] -playbot- output truncated; full output at: http://bit.ly/1e7Uua0
[01:09:36] <lfairy> Layl: ^
[01:09:45] <lfairy> current rust has a special-case for Box
[01:09:56] *** Quits: brson (brson@moz-f0v.335.39.84.IP) (Quit: leaving)
[01:10:00] <mbrubeck> ah, cool
[01:10:00] <lfairy> such that *boxed uses some magic moving thing, not Deref
[01:10:07] * mbrubeck tends to forget that box uses compiler magic
[01:10:16] * insaneinside tends to hate it.
[01:10:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:10:35] <lfairy> I think we're planning on a DerefMove, but I'm not too sure about it
[01:10:40] <p1start> No we have CoerceUnsized, we only need DerefMove to remove all stable special-casing (I think)
[01:10:44] <lfairy> what's going on with it, I mean
[01:10:50] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:10:53] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[01:10:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:11:05] <lfairy> p1start: what's coerceunsized
[01:11:07] <_habnabit> mbrubeck, short test case: http://is.gd/3k0PJm
[01:11:11] <Layl> removing that box special case is a great way to break everything a day after release
[01:11:20] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:11:37] <p1start> lfairy: Trait that allows custom pointers to coerce to DST pointers (e.g., Rc<[u8; 4]> can now coerce to Rc<[u8]>)
[01:12:17] <insaneinside> Layl: yeah?  Well, it'd be nice to be able to implement my *own* box-like types: <https://pastebin.mozilla.org/8833737>.
[01:12:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:12:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:13:02] <p1start> Layl: Removing the special case wouldn’t break anything if we had DerefMove
[01:13:02] <insaneinside> Currently (due to type erasure with CoerceUnsized) I need to employ some spooky tricks I found in the Rust source code...
[01:13:08] <insaneinside> and those don't work too well.
[01:13:13] <XMPPwocky> CoerceUnsized sure has lots of vowels in
[01:13:26] <lfairy> p1start: til
[01:13:38] <XMPPwocky> speaking of which, whaveret happened to placement box
[01:13:41] <p1start> lfairy: It’s fairly recent. Only got merged a few days ago
[01:13:42] <XMPPwocky> whatever*
[01:14:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:14:31] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[01:14:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:15:16] <vikaton> Could Rust maybe add variable Type conversion in the future?
[01:15:19] <_habnabit> in general i've been kind of confused about what `for x in &y` does over `for x in y`
[01:15:37] *** Quits: dawehner (quassel@moz-jms.k95.62.64.IP) (Ping timeout: 121 seconds)
[01:15:50] <p1start> See https://gist.github.com/P1start/4428f4df656e8941cf45 for a pointer that’s almost as useful as Box
[01:15:54] <XMPPwocky> _habnabit: for loops use IntoIterator
[01:16:10] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[01:16:10] *** Joins: wooowe (Mibbit@moz-499ogh.wi.charter.com)
[01:16:10] <XMPPwocky> _habnabit: IntoIterator is implemented for Vec, for example
[01:16:12] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[01:16:13] <XMPPwocky> in a way that consumes the Vec
[01:16:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:16:22] <p1start> I’ve probably done the destructor wrong, though
[01:16:35] <XMPPwocky> but it's also implemented on &Vec in a way that *doesn't* consume the Vec, but instead returns references to the lements.
[01:16:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:17:18] <wooowe> If a thread is sending values down the channel faster than they are consumed, what happens?
[01:17:21] <insaneinside> p1start: you're not dropping the value at all -- just deallocating the memory.
[01:17:35] <p1start> insaneinside: Yeah, I forgot to call drop_in_place
[01:17:46] <lfairy> wooowe: I'm guessing the values buffer up, but you'll have to check the docs
[01:17:57] <insaneinside> p1start: now, do it with type erasure and I'll love you forever.
[01:18:08] <p1start> insaneinside: What’s type erasure?
[01:18:11] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:18:32] <wooowe> Okay, I really hope so lol, thanks!
[01:18:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:18:40] <_habnabit> XMPPwocky, oh, interesting. so the reason that `for x in &y` gives you references to each element is because IntoIterator is specified differently for Vec and &Vec
[01:18:41] <insaneinside> p1start: what happens when you apply the CoerceUnsized on a P<X> where X: Y?
[01:18:53] <insaneinside> p1start: you get a P<Y>, right?
[01:18:59] <Mutabah> _habnabit: Yes
[01:19:10] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[01:19:14] <_habnabit> i see
[01:19:15] <p1start> insaneinside: I guess?
[01:19:39] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[01:19:40] <insaneinside> p1start: the `X` type is erased -- how will `drop_in_place` know which drop impl. to run?
[01:19:56] <_habnabit> so if y is a Vec<(i32, i32)>, then `for x in &y` gives me x: &(i32, i32) ?
[01:20:00] <p1start> insaneinside: The destructor is in the trait object’s vtable, no?
[01:20:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:20:13] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[01:20:24] <insaneinside> p1start: hmm, er.  Right.  I hope so.
[01:20:33] <insaneinside> p1start: maybe that solves my problem? 
[01:20:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:20:41] <talchas> _habnabit: correct
[01:20:48] <_habnabit> if i have an &(i32, i32), though, how do i unpack that into &i32, &i32?
[01:20:49] * insaneinside checks
[01:21:07] <p1start> insaneinside: https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects/ says that the destructor is the first thing in the vtable
[01:21:13] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:21:21] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[01:21:30] <_habnabit> i hope i don't have to do `let &x_a = x.0` etc.
[01:21:47] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:21:48] <huon> _habnabit: `let (a, b) = *x;` works
[01:21:54] <insaneinside> p1start: which is confirmed by some sketchy code in Rust's "src/arena/lib.rs". :)
[01:21:58] <huon> _habnabit: as does `let &(a, b) = x;`
[01:22:02] <p1start> huon: You mean (ref a, ref b), right?
[01:22:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:22:10] <_habnabit> huon, oic
[01:22:10] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[01:22:13] <huon> p1start: oh, yes
[01:22:18] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:22:24] <_habnabit> huon, so i could do `for &(a, b) in &y`
[01:22:27] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[01:22:31] <huon> _habnabit: yeah, as p1start if you want &i32 (rather than i32, no &) you'll need `ref`
[01:22:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:22:35] <huon> _habnabit: yep!
[01:22:45] <_habnabit> huon, awesome; thanks
[01:22:48] *** Quits: eibwen (eibwen@moz-00qdng.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:22:56] <lfairy> _habnabit: note that i32 is Copy (implicitly copyable) so you don't have to worry about it keeping it borrowed
[01:22:58] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[01:23:10] <_habnabit> lfairy, oh, yeah, that was just a quick type to type
[01:23:17] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[01:23:36] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:23:40] <_habnabit> i don't remember seeing `let &(a, b)` in the book, though. is that mentioned somewhere and i just forgot it?
[01:23:49] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[01:24:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:24:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:24:45] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[01:25:04] <huon> not sure, but patterns are composable, so in this case it's `&` to pattern match through the &, and then (...) to pattern match on the tuple
[01:25:10] <huon> so it may've mentioned them separately
[01:25:13] *** Joins: jpg (jpg@moz-ldeh9l.internode.on.net)
[01:25:15] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:25:15] <_habnabit> hm, okay
[01:25:42] <huon> e.g. (&(x, y), z) is a valid pattern too
[01:25:47] <burntsushi> panicbit: looks like you were having regex problems? per the docs, `regex_plugins` is only available on the nightly compiler: http://doc.rust-lang.org/regex/regex/index.html#the-regex!-macro
[01:25:48] <_habnabit> oh, wait, so if i do `for &(a, b) in &y` it will try to do a move for a and b?
[01:26:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:26:01] <huon> (for a type like `(&(i32, u8), f32)`)
[01:26:04] <_habnabit> looks like i really want `for &(ref a, ref b) in &y` ...?
[01:26:06] <burntsushi> panicbit: you can see the reverse dependencies of any crate, e.g., https://crates.io/crates/regex/reverse_dependencies
[01:26:07] <huon> _habnabit: no, because they're Copy
[01:26:09] <panicbit> burntsushi: That was not my original problem
[01:26:14] <p1start> insaneinside: Well I was testing to see if trait object destructors work with drop_in_place, and I got a SIGTRAP: http://is.gd/OChCLI
[01:26:17] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:26:19] <panicbit> burntsushi: Nice
[01:26:21] <_habnabit> huon, ohhh, i see
[01:26:22] <huon> _habnabit: it is legal to take an i32 by-value without invalidating the source
[01:26:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:26:31] <_habnabit> huon, ok, so my example using i32 was just throwing everyone off
[01:26:34] <panicbit> burntsushi: That's exactly what I needed!
[01:26:46] <blaenk> dude there's no way to specify a dependency predicated on a feature? so if 'nightly' feature is enabled, depend on package 'blah'
[01:26:47] <_habnabit> huon, is there another short type name that isn't copyable? ;p
[01:27:00] <insaneinside> p1start: well shit, that's the same issue I'm getting using the sketchy code.
[01:27:15] <blaenk> I'm really hating this nightly/stable split, so hairy
[01:27:36] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[01:27:43] <huon> _habnabit: 'String' is kinda short
[01:27:43] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:27:47] <_habnabit> huon, works for me
[01:27:49] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[01:27:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:28:01] *** Quits: jadbaires (jadrian@moz-bghnjr.dsl.telepac.pt) (Ping timeout: 121 seconds)
[01:28:02] <huon> _habnabit: and yeah, you'll need to use the `ref ...` pattern to bind a reference to the memory location rather than move
[01:28:07] <blaenk> oh yeah I think you can
[01:28:09] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[01:28:09] <_habnabit> huon, but ok, it looks like `for &(ref a, ref b) in &y` is what i wanted
[01:28:15] <huon> _habnabit: yep!
[01:28:19] <blaenk> [features] nightly = ["package"]
[01:28:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:28:30] *** Joins: chc4 (chc4@moz-mjph4c.ma.comcast.net)
[01:28:38] <_habnabit> ok now to figure out lifetimes
[01:28:43] <panicbit> burntsushi: I was aware that regex_macros wasn't going to work with stable but the build kept failing on the regex crate with no hint why it enabled the feature that broke the build.
[01:28:44] *** Quits: wooowe (Mibbit@moz-499ogh.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:28:45] <Mutabah> Can you expand a ty macro fragment back into a tt?
[01:29:07] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[01:29:20] <burntsushi> panicbit: ah, you mean this? https://github.com/rust-lang/regex/blob/master/regex_macros/Cargo.toml#L33
[01:29:30] <panicbit> burntsushi: Exactly
[01:29:37] <Layl> huh, can you add a feature gate to your own library?
[01:29:42] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[01:29:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:30:07] <panicbit> burntsushi: I'll probably hack some more --verbose info into cargo
[01:30:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:30:43] <panicbit> burntsushi: Couldn't hurt if cargo would spit out which crate pulls in which dependencies and enables which features
[01:31:45] <lfairy> p1start: imo, that drop message should be "You drop the bass. It flops uselessly on the ground." ;)
[01:31:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:31:59] <p1start> insaneinside: Strangely, Rc doesn’t SIGTRAP, but instead it runs the destructor twice
[01:32:05] <RCIX> so regex crate doesn't work on stable?
[01:32:11] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[01:32:16] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:32:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:32:19] <insaneinside> p1start: you mean Rc<T> instead of P<T>?
[01:32:19] <burntsushi> RCIX: it works just fine. only `regex_macros` doesn't.
[01:32:20] <desophos> rand::sample seems extraordinarily undocumented
[01:32:23] <p1start> insaneinside: Yeah
[01:32:27] <panicbit> RCIX: It does but you cant't use the regex_macros
[01:32:27] <desophos> http://doc.rust-lang.org/rand/rand/fn.sample.html
[01:32:29] <p1start> lfairy: https://i.imgur.com/4x5cHv2.gif
[01:32:43] <desophos> doesn't mention what's actually in the Vec<T> that it returns
[01:32:46] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:32:50] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:32:57] <panicbit> RCIX: Because that requires compiler plugins which not allowed in stable
[01:32:59] <RCIX> ahh kk
[01:33:10] <RCIX> now to go see if i use regex_macros
[01:33:23] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:33:26] <desophos> it appears to actually be Vec<Option<&T>>, i think?
[01:33:31] <huon> desophos: oh, yeah, that's subpar, however, the types do imply what it is
[01:33:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:34:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:34:23] <huon> a uniform selection of `amount` elements from the iterator
[01:34:40] <huon> no matter what the type iterator yields
[01:34:54] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[01:35:15] <_habnabit> ok, so i'm trying to understand how to specify lifetimes. http://is.gd/qq5xI3 the lifetimes here are obviously wrong, but this was just getting to the point where i had the right number of lifetimes for each reference. is the intent of the code clear, or should i make a diagram explaining what i think the lifetimes need to be?
[01:35:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:36:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:36:33] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[01:36:47] <HeroesGrave> _habnabit: Line 42. Change &mut self to self
[01:36:57] <blaenk> there's no way to check if a path is a directory in stable?
[01:37:02] <blaenk> in std
[01:37:16] <blaenk> I think you can do it through the Metadata struct
[01:37:17] <towler1> For the reference such as &T ,Can i know its load_path?
[01:37:19] <desophos> rusti: extern crate rand; let mut rng = rand::thread_rng(); rand::sample(&mut rng, vec![1, 2, 3], 1).pop()
[01:37:19] -playbot- <anon>:9:42: 9:58 error: unresolved name `rand::thread_rng`
[01:37:20] -playbot- <anon>:9         extern crate rand; let mut rng = rand::thread_rng(); rand::sample(&mut rng, vec![1, 2, 3], 1).pop()
[01:37:20] -playbot- output truncated; full output at: http://bit.ly/1KWqvvL
[01:37:28] <blaenk> but I can't figure out how to get the Metadata struct in a stable manner
[01:37:28] <_habnabit> HeroesGrave, i'm not sure that's sufficient; the CallbackBuilder needs a mutable reference to the CallbackManager so it can call Vec::push
[01:37:29] <desophos> ok, how do i access rand :p
[01:37:43] <blaenk> I guess the free fn
[01:37:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:37:48] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[01:37:51] *** Quits: }ls{ (uhelp@moz-rc4q4j.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[01:37:56] <HeroesGrave> _habnabit: Try it and see what happens. It compiles for me
[01:38:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:38:10] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[01:38:11] <HeroesGrave> What you're doing is passing it an &mut &mut self
[01:38:21] <_habnabit> HeroesGrave, ohhhh
[01:38:29] <_habnabit> HeroesGrave, i get it; yeah that does work now
[01:38:29] *** Joins: NMD (nick@moz-s1ae11.home4.cgocable.net)
[01:38:36] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Ping timeout: 121 seconds)
[01:38:54] <Mutabah> Ninja'd
[01:39:00] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[01:39:00] <_habnabit> HeroesGrave, so since self is already &mut i don't need to specify &mut again; i'd only need that if it was fn whatever(self, ...)
[01:39:00] <Mutabah> Yeah, 'self' is already a &mut Self
[01:39:08] *** Joins: jweathersby (Adium@moz-djc.9vm.130.40.IP)
[01:39:14] <NMD> Anyone offer any help on running rustup.sh?  I'm on Fedora 22 and it's not waiting for my sudo password so it fails
[01:39:17] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[01:39:31] <navaati> I can't find what is the type for b"meh"…
[01:39:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:39:41] *** Joins: poops (Mibbit@moz-tpjl46.co.comcast.net)
[01:39:47] <HeroesGrave> navaati: It should be a [u8; N]
[01:39:50] <Mutabah> navaati: it's &'static [u8]
[01:39:55] <mcoffin> Is there some env variable or someplace I can use to tell cargo where to look for standard libraries like libcore? I'm compiling libcore for a different target and putting it in /usr/local/lib/rustlib/<target> but I need a way to do it on TravisCI
[01:39:59] <Mutabah> ... or a static array
[01:40:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:40:13] <mcoffin> Well... cargo and rustc both really
[01:40:18] <Mutabah> mcoffin: It should look in the target directory
[01:40:22] <slimsag> HeroesGrave: I just posted a tiny comment on the cargo-emscripten project summarizing what I think the current state is with the LLVM versions: https://github.com/tomaka/cargo-emscripten/issues/9#issuecomment-102720430
[01:40:26] <Mutabah> mcoffin: rustc you can tell with -L
[01:40:44] <desophos> how can i access an extern crate with rusti? i want to demonstrate rand::sample
[01:40:52] <_habnabit> HeroesGrave, ok cool that seems to compile and give the expected output. are the lifetimes there sensible, then? the CallbackBuilder just needs to live long enough to dereference the Resource, and the CallbackManager will outlive the Builder
[01:40:56] <navaati> ok, that's what I thought… but then, why does from_utf8(b"meh") works, since from_utf8 takes a slice ?
[01:41:08] <Mutabah> navaati: It coerces to a slice
[01:41:17] *** Quits: tyoverby (tyoverby@moz-254fcd.cs.washington.edu) (Connection closed)
[01:41:28] <navaati> I'd think It'd need the & before the b"array", in order to coerce
[01:41:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:41:52] <mcoffin> Mutabah: Yea I know I could tell rustc that way... I was hoping i would be able to just set an env var and move on with my life... but no? Is there a way to tell cargo?
[01:42:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:42:10] <SpaceManiac> the byte literals are of type &'static [u8; N]
[01:42:12] <Mutabah> mcoffin: cargo should already be looking there if you pass --target
[01:42:17] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[01:42:28] *** Joins: meh (meh@moz-odufem.42-151.net24.it)
[01:42:53] <mcoffin> Mutabah: looking in /usr/local/lib/rustlib/<target>/lib?
[01:43:13] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:43:17] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[01:43:26] <Mutabah> mcoffin: Think so
[01:43:34] *** Joins: Feyn (Feyn@moz-r04.5ro.115.42.IP)
[01:43:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:43:44] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:44:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:44:06] <mcoffin> Mutabah: That's where it looks on my machine, and its worked fine, but it didn't work on Travis.... https://travis-ci.org/hackndev/zinc/jobs/62868237
[01:44:25] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:44:27] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Quit: No Ping reply in 180 seconds.)
[01:44:30] *** Joins: zerkms (Mibbit@moz-sh9.gv7.109.203.IP)
[01:45:05] *** streblo|away is now known as streblo
[01:45:13] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[01:45:18] *** Joins: esgeh1 (sg@moz-as87me.dyn.telefonica.de)
[01:45:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:45:44] *** Quits: esgeh (sg@moz-ai58bi.dyn.telefonica.de) (Ping timeout: 121 seconds)
[01:45:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:46:13] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[01:46:28] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[01:46:51] <blaenk> there's no way to get the modified time of a file in stable it seems?
[01:47:11] <blaenk> feel like I'm walking through a minefield
[01:47:18] <Mutabah> mcoffin: odd
[01:47:18] <blaenk> my dependencies are so tangled in nightly
[01:47:24] *** Quits: Nextra (Nextra@moz-re1c7j.ewe-ip-backbone.de) (Connection closed)
[01:47:26] <zerkms> Hey guys, could you please help me understand why Rust cannot infer types in this question http://stackoverflow.com/q/30282497/251311
[01:47:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:47:34] <HeroesGrave> blaenk: std::fs still has a lot of extensions to be added still
[01:47:35] *** Joins: wikkit (Mibbit@moz-5b1527.dyn.optonline.net)
[01:47:37] <zerkms> In short - for some reason it cannot infer it's a Vec with numbers
[01:47:38] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[01:47:38] <Mutabah> mcoffin: where does cargo get installed on travis?
[01:47:40] <HeroesGrave> There's an RFC somewhere
[01:47:53] <blaenk> you mean the 'extending the scope of std::fs' one?
[01:47:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:47:56] <HeroesGrave> yeah
[01:47:59] <wikkit> can someone help me with this lifetimes problem? http://is.gd/V1DQHS
[01:48:01] <blaenk> I already know that it's still being added to
[01:48:05] *** Joins: lyc_ (lyc@moz-jft.nr8.226.207.IP)
[01:48:10] <blaenk> just didn't expect that 'modified time' would be unstable
[01:48:25] <blaenk> I think I'm just gonna copy the impl for now
[01:48:31] <mcoffin> Mutabah: Fixed it. Travis installs rust under the user (/home/travis) so the path was (/home/travis/lib/rustlib/<target>/lib)
[01:48:37] <Mutabah> mcoffin: Yeah
[01:48:46] <_habnabit> i just looked over the String docs, but i didn't see anything. is there a String method to copy a string and return a new one?
[01:48:55] <blaenk> blah.clone()
[01:48:56] <niconii> zerkms: what, [2, 3, 4]? [2, 3, 4] is never a Vec
[01:49:03] <_habnabit> blaenk, oh, thanks
[01:49:08] <navaati> sooo, how does [u8; N] get coerced to &[u8] ? I checked the deref coercions mechanism and it doesn't seem to be it, since it goes from &A to &B, and [u8; N] is not a &A
[01:49:13] <blaenk> yup. thanks to the Clone implementation. it applies to anything that impls Clone
[01:49:14] <niconii> zerkms: it's not a matter of inference, arrays and vectors are completely different things
[01:49:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:49:41] *** Joins: kmc (keegan@moz-gjgn5n.compute.amazonaws.com)
[01:49:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:50:06] <HeroesGrave> wikkit: Line 11: Change &[u8] to &'a [u8]
[01:50:22] <HeroesGrave> wikkit: Line 18: remove the `.to_vec()`
[01:50:30] *** Joins: Esption (Esption@moz-3gitvr.dynamic.tds.net)
[01:50:58] *** Quits: Esption (Esption@moz-3gitvr.dynamic.tds.net) (Quit: Leaving)
[01:51:18] <niconii> zerkms: so you need vec![2, 3, 4]
[01:51:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:51:36] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[01:51:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:52:05] <zerkms> Right, got it now
[01:52:24] <blaenk> reem: you around. I really need 'staticfile' to be stable but it uses a lot of file metadata stuff. it also uses time stuff but that can be offloaded to using the 'time' crate
[01:52:31] <zerkms> Anyone keen to post an answer on SO?
[01:52:39] *** Joins: saxon (Mibbit@moz-mq2.v4c.40.198.IP)
[01:52:40] <blaenk> the metadata stuff is to get the modified-time, to facilitate caching
[01:53:00] <_habnabit> ok so as soon as i used a non-copyable type i got the same error in my test case that i get in my real code: http://is.gd/dIYa2I i'm not sure if this is something that's possible :/
[01:53:02] <niconii> zerkms: arrays are fixed-length, so you can't add or remove items from them, and they're allocated on the stack -- vectors are variable-length, so you can add and remove items, and they're allocated on the heap
[01:53:07] <blaenk> reem: one idea I have is to introduce a 'nightly' feature and 'feature gate' the caching functionality
[01:53:10] <reem> blaenk: I would not be against putting it behind a cargo feature
[01:53:17] <niconii> zerkms: so they've got pretty different semantics
[01:53:18] <reem> Just call it "cache" or something
[01:53:20] <blaenk> do you agree with that particular work around?
[01:53:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:53:22] <blaenk> ok will do
[01:53:34] <blaenk> reem: perhaps someone or I will later find the time to implement it in stable, but too much of a hassle imo
[01:53:35] <navaati> ah, f*ck, got it, byte litterals are actually refs, not owned buffers, so the deref coercion mechanism can quick in. Sorry for the noise
[01:53:47] <zerkms> niconii: I realize that, for some reason I did expect comparer will implicitly convert if for me (silly assumption though indeed)
[01:53:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:54:11] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:54:19] <saxon> i am new here, hello
[01:54:36] <_habnabit> i think the only way to solve this is to do the clone in the CallbackBuilder so that there's no borrowed refs to the resource when add_callback is called
[01:54:42] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:54:43] *** Joins: Twinklebear (Twinklebear@moz-euiv0r.s4q2.52kr.030a.2602.IP)
[01:54:45] <zerkms> How would one extract head&tail fractions of a vector though? I haven't found a library function for that, and the pattern matching for slices is marked as experimental
[01:54:55] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[01:55:04] <panicbit> saxon: hi
[01:55:14] <RCIX> ahhhh why oh why is the collections feature still unstable :(
[01:55:15] <HeroesGrave> _habnabit: Why not have the callback take the resource as an argument?
[01:55:25] <RCIX> time to try rewriting my code to use &str everywhere...
[01:55:26] <_habnabit> HeroesGrave, hmmmmm
[01:55:27] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[01:55:39] <niconii> zerkms: well, for the head, there's .first()
[01:55:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:55:52] <niconii> zerkms: there's also .tail() but that is currently unstable
[01:55:59] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[01:56:05] <_habnabit> HeroesGrave, so, move the resource so that it's owned by the CallbackManager, and then pass a mutable reference in the callback, or something?
[01:56:07] <navaati> zerkms: vector arent linked lists, so idk if head and tail have a lot of sense. But i guess you can take the equivalnet of a tail by slicing ?
[01:56:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:56:52] *** Joins: nwr (nwr@moz-flo.e0u.141.50.IP)
[01:56:58] <_habnabit> HeroesGrave, that would mean i wouldn't need the CallbackBuilder at all, i think
[01:57:20] <niconii> zerkms, navaati: ah, yeah, that's a good point, since vectors aren't linked lists, head/tail operations could end up being really inefficient depending on what you're doing
[01:57:24] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[01:57:24] <zerkms> navaati: honestly I couldn't find how I could slice with slices (documentation is a bit hard to understand for 1-day ruster)
[01:57:27] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[01:57:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:57:54] <zerkms> niconii: it's an academic pet project, so it doesn't matter that the operation is O(N)
[01:57:55] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[01:57:58] <HeroesGrave> _habnabit: If that is possible, go for it.
[01:58:00] <nathan7> zerkms: tail is &vec[1..], basically
[01:58:00] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[01:58:04] <zerkms> unless until I have something that works
[01:58:05] <HeroesGrave> Otherwise, I got this working: http://is.gd/fjSDwR
[01:58:05] <zerkms> okay
[01:58:05] <nathan7> zerkms: it's O(1)
[01:58:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[01:58:12] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[01:58:27] <_habnabit> HeroesGrave, oohhh, crap; i remember the problem now. i wasn't doing that originally because i need &Resource, i.e. polymorphism
[01:58:39] <_habnabit> HeroesGrave, so i'd need to take a Box<&Resource>, i think?
[01:58:39] <navaati> cannot find the section of slicing either in the rust book…
[01:58:50] <nathan7> slice syntax is newish
[01:58:55] <HeroesGrave> _habnabit: You can just do Box<Resource>
[01:58:58] <HeroesGrave> Or this: http://is.gd/fjSDwR
[01:59:20] <_habnabit> HeroesGrave, looking at your link
[01:59:39] <zerkms> But slice is of [T] type again
[01:59:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[01:59:45] <zerkms> and I need a vector :-S
[01:59:58] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[01:59:58] * NMD assumes it's some sort of a test... if you can't get rustup.sh to work and don't fix/modify it yourself, then you probably shouldn't code in the Rust language ;-)
[01:59:58] *** Joins: thelink2012 (Mibbit@moz-6md.6ju.214.186.IP)
[02:00:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:00:21] <HeroesGrave> NMD: Are you on windows or something?
[02:00:26] <nathan7> zerkms: well, that's O(n) — copy the vector
[02:00:28] <navaati> zerkms, taking the tail of a vector as a new vector would need allocating and copying (like O(n) operation)
[02:00:30] <thelink2012> is there a binary serialization library for rust? that does not output any meta data but only the bytes you ask for if possible
[02:00:31] <NMD> No, Linux, Fedora 22
[02:00:43] <HeroesGrave> NMD: Does it print anything?
[02:00:48] <navaati> you can do it tho, there must be a method to make a vector from a slice
[02:00:48] <nathan7> zerkms: or shift the head element off, also O(n)
[02:00:54] <Sho> NMD: I'm on F22 as well, what problem are you having?
[02:00:55] *** streblo is now known as streblo|away
[02:00:56] <niconii> zerkms: a slice of something called `a` would be something like &a[2..6]
[02:00:59] <NMD> HeroesGrave: Yeah... 
[02:01:00] *** Quits: nwr (nwr@moz-flo.e0u.141.50.IP) (Ping timeout: 121 seconds)
[02:01:08] <niconii> playbot: let a = vec![0, 1, 2, 3, 4, 5, 6]; (&a[4..].to_owned(), &a[..3].to_owned(), &a[3..6].to_owned())
[02:01:09] <panicbit> thelink2012: rustc_serialize
[02:01:10] <NMD> Hold on I'll throw the output in a pastebin
[02:01:10] -playbot- ([4, 5, 6], [0, 1, 2], [3, 4, 5])
[02:01:14] <zerkms> niconii: yep, and it's of a [T] typ
[02:01:14] <kmc> thelink2012: https://crates.io/crates/bincode
[02:01:28] <navaati> so i guess &a[1..].into() would do it ?
[02:01:29] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[02:01:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:01:49] <panicbit> thelink2012: You would need to implement your binary format yourself though
[02:01:51] <niconii> zerkms: .to_owned() turns the slice into a vector
[02:01:58] <niconii> zerkms: (by copying the elements)
[02:01:58] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[02:02:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:02:07] <zerkms> yep, into() did the trick
[02:02:13] <panicbit> thelink2012: ^ bincode is probably a better choice
[02:02:15] <_habnabit> HeroesGrave, ah, yeah, i see what you changed there
[02:02:22] *** Joins: blaphmat (Mibbit@moz-3cf.tkr.230.110.IP)
[02:02:28] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[02:02:31] <NMD> HeroesGrave: http://pastebin.com/z1eRUNBE
[02:02:41] <NMD> Sho: http://pastebin.com/z1eRUNBE
[02:02:52] <navaati> (zerkms, i'd recommend .to_owned() though, it's clearer (no tricky trait overloading))
[02:02:53] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Connection closed)
[02:02:54] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[02:02:56] <kmc> bincode depends on rustc-serialize and works with #[derive(RustcEncodable, RustcDecodable)]
[02:03:03] <NMD> I went AFK and it never waited for my sudo password
[02:03:06] <_habnabit> HeroesGrave, that won't work for my real code, unfortunately; this is again a situation where i used simplified types and it kind of backfired :(  the actual type is a file, so if its ownership isn't moved at the end of the block, the fd gets closed
[02:03:25] <_habnabit> HeroesGrave, so i can't let the fd get closed
[02:03:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:03:37] <thelink2012> Thanks panicbit and kmc, I'll take a look on both, mainly in bincode
[02:03:41] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[02:03:53] <desophos> how do i load extern crates on play.rust-lang.org?
[02:04:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:04:13] <desophos> the normal way ("extern crate rand;") doesn't work
[02:04:15] <niconii> desophos: you can't
[02:04:18] <desophos> ergh
[02:04:27] <kmc> you can load the ones that ship with rustc I think
[02:04:33] <kmc> but you can't add things from crates.io yet
[02:04:44] <kmc> it'd be nice to bake in at least some basic crates like rand
[02:04:47] <Sho> NMD: I tried to install with --disable-sudo originally, which failed because of permissions on /etc/ld.so.conf.d/ though - second try using sudo went fine (entered pw and off it went)
[02:04:52] <desophos> ok :(
[02:05:04] <desophos> i just want to demonstrate the confusing return type of rand::sample
[02:05:06] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:05:17] <desophos> like i said, i'm pretty sure it's Vec<Option<&T>>
[02:05:21] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[02:05:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:05:37] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:05:42] <desophos> meh
[02:05:57] *** Quits: thelink2012 (Mibbit@moz-6md.6ju.214.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:05:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:06:00] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[02:06:18] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[02:06:48] <niconii> desophos: really? the docs say Vec<T> https://doc.rust-lang.org/rand/rand/fn.sample.html
[02:06:59] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[02:07:01] <NMD> If the download wasn't so slow, I'd have not gone AFK...  I see the --save... but there needs to be a --resume or something
[02:07:15] *** Quits: Twinklebear (Twinklebear@moz-euiv0r.s4q2.52kr.030a.2602.IP) (Ping timeout: 121 seconds)
[02:07:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:07:32] <jpg> Is there an easy way to go from CStr to &str? I can't seem to find any in the API docs.
[02:07:49] <Sho> NMD: well, a COPR with distro packages would be nice
[02:07:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:08:06] <panicbit> NMD: You can just download the .tar.gz with a resuming dl manager of your choice and then just run install.sh
[02:08:08] <bstrie> jpg: good question, let me see
[02:08:21] <Mutabah> via &[u8] I think
[02:08:24] <wikkit> @HeroesGrave sorry i was tired and it's a little more complicated. http://is.gd/k1ZY3F. i cna specify an 'a lifetime on self in push, but then i can't write to container more than once.
[02:08:24] <NMD> panicbit:  Cool... that'd be fine  :)
[02:08:47] <HeroesGrave> _habnabit: Maybe this?: http://is.gd/m6jBFC
[02:08:53] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[02:08:53] <panicbit> NMD: install.sh should provide about the same option regarding installation as rustup.sh does
[02:09:00] <navaati> jpg: not really, as C string are not guaranted to be UTF8, and &str must be
[02:09:09] <_habnabit> HeroesGrave, oh, yeah, i just ended up with basically the same code
[02:09:10] *** Quits: zz_kimundi (kimundi@moz-8joosr.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:09:14] <_habnabit> HeroesGrave, thanks though!
[02:09:16] <Mutabah> wikkit: You're attemoting to store a borrow of self in self, which isn't really valid
[02:09:22] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[02:09:24] <bstrie> jpg: CStr or CString?
[02:09:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:09:37] <_habnabit> HeroesGrave, looks like the only difference is that i did `cb(std::ops::Deref::deref(v));`
[02:09:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:09:57] <jpg> bstrie CStr, created from a *mut c_char pointer using CStr::from_ptr(buf)
[02:10:04] <niconii> jpg: you can do std::str::from_utf8(my_cstr.to_bytes()) which gives you a Result<&str, Utf8Error>
[02:10:07] <HeroesGrave> _habnabit: Yeah. dereferencing Box<_> is quite clumsy at the moment
[02:10:08] <navaati> jpg: so you can use to_bytes to get a &[u8] as Mutabah said, and then use str::from_utf8
[02:10:31] <jpg> Cheers, will give that a spin. :)
[02:10:33] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[02:10:39] <_habnabit> somewhat relatedly, is there a way to indicate something about an argument so i can call a function as `f(x)` and receive it as if it was called as `f(Box::new(x))` ?
[02:11:08] <_habnabit> i suppose i could make a box!(x) macro, haha
[02:11:09] *** Joins: zz_kimundi (kimundi@moz-sorbkk.dip0.t-ipconnect.de)
[02:11:12] <nathan7> to receive unsized arguments, or what?
[02:11:14] <p1start> _habnabit: Why would you want to do that
[02:11:17] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[02:11:19] <kmc> _habnabit: the syntax f(box x) will work eventually
[02:11:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:11:25] *** Quits: TwoShots (two_shots@moz-t524qv.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:11:25] <nathan7> (and it used to work)
[02:11:30] <kmc> right now it's unstable, the accompanying traits are still being ironed out
[02:11:36] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[02:11:37] <navaati> jpg: (and then use .unwrap() or whatever you want, since you'l get a Result<&str, _>
[02:11:38] *** zz_kimundi is now known as kimundi
[02:11:48] <jpg> navaati yep. :)
[02:11:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:12:01] <_habnabit> p1start, nathan7, it looks like i can't send a closure to a function without putting it in a box, so i suppose this is for unsized arguments, yes
[02:12:10] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[02:12:11] <kmc> cause it's going to be generic so you can also use it to create Rc<T>, Arc<T>, or other library types that opt in
[02:12:14] <jpg> I think I am going to write blog post on all the various things I found hidden when starting to do FFI stuff.
[02:12:17] <nathan7> _habnabit: you can pass a closure
[02:12:22] <nathan7> _habnabit: you just have to parametrise on type
[02:12:30] <_habnabit> kmc, ok cool. so eventually you could do `f(box move || whatever)` ?
[02:12:35] <kmc> yep
[02:12:48] <_habnabit> nathan7, oh
[02:12:55] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:12:59] <nathan7> _habnabit: fn call_the_function<F>(f: F) where F: FnOnce() { f() }
[02:13:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:13:24] <_habnabit> nathan7, interesting
[02:13:40] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[02:13:44] *** Joins: mattyb (mattyb@moz-oc3.h82.243.162.IP)
[02:13:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:13:50] <nathan7> a closure is just an anonymou struct type implementing Fn, FnMut, or FnOnce
[02:13:53] <bstrie> jpg: that sounds great
[02:13:56] <kmc> where did the "static and dynamic dispatch" chapter in the book go?
[02:14:00] *** Quits: Stebalien (Stebalien@moz-i00.hrk.38.73.IP) (Quit: leaving)
[02:14:25] <kmc> renamed to http://doc.rust-lang.org/book/trait-objects.html I think
[02:14:40] *** Joins: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com)
[02:15:00] <_habnabit> nathan7, ohhh, so it's not a type but a trait? which is why you need the where?
[02:15:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:15:19] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[02:15:32] <kmc> the type of an anonymous function expression is some unknown / un-nameable struct that implements some of Fn, FnMut, FnOnce
[02:15:34] <_habnabit> nathan7, i was doing `type Callback = FnOnce()` and then `fn call(callback: Callback)`
[02:15:35] <kmc> which are traits
[02:15:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:15:58] <_habnabit> i see
[02:16:00] <Sho> _habnabit: http://huonw.github.io/blog/2015/05/finding-closure-in-rust/ is the skinny on what kmc's summarizing
[02:16:04] <pyon> In a `for obj in iter` loop, I am breaking early. Is there any way to recover the elements that were never visited?
[02:16:04] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:16:22] <thombles> I'm having a dumb time with string slices. I have a line 'let db = Connection::connect(&db_url, &SslMode::None).ok().expect("Error connecting to database");' - it's fine if I put a "string literal" in place of '&db_url' but if I use String db_url I get 'error: the trait `postgres::IntoConnectParams` is not implemented for the type
[02:16:22] <thombles> `&collections::string::String` [E0277]'
[02:16:26] <zerkms> hm, and is there anything to concatenate 2 vectors? both `.append()` and `.push_all()` are marked as unstable yet
[02:16:28] <thombles> Does anybody know what foolish thing I'm doing?
[02:16:30] <_habnabit> so if FnOnce is a trait, how was i able to do `type Callback = FnOnce()` ? is that just making a polymorphic type that refers to the trait?
[02:16:32] <_habnabit> Sho, thanks
[02:16:34] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:16:36] <kmc> so (like other traits) you have the choice on whether to do static or dynamic dispatch, but the former is generally preferred
[02:16:42] <kmc> _habnabit: you can use a trait as a type, which we call a "trait object"
[02:16:43] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Connection closed)
[02:16:50] <kmc> it's the main way of doing dynamic dispatch in rust
[02:16:52] <_habnabit> kmc, ok, 'trait object' was the term i couldn't remember
[02:16:55] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[02:16:59] <nathan7> _habnabit: yes
[02:17:04] <kmc> a trait is an unsized type, so you basically only see them behind Box or &
[02:17:11] <niconii> thombles: if db_url is a string, don't put the & in front of it in that line
[02:17:14] <kmc> or I guess these days Arc<Trait> and the like also works \o/
[02:17:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:17:15] <_habnabit> ok, this makes more sense now
[02:17:16] <_habnabit> thanks
[02:17:19] <niconii> *String
[02:17:35] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Ping timeout: 121 seconds)
[02:17:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:17:53] <thombles> niconii: Hmm now I'm getting "error: the trait `postgres::IntoConnectParams` is not implemented for the type `collections::string::String`" Is something about this library breaking the coercion?
[02:18:02] *** Joins: zzing (textual@moz-hmnshs.cable.rogers.com)
[02:18:09] <reem> kmc: ooh is that new? Can you have Arc<[T]> also?
[02:18:16] <kmc> I think so... but I haven't tried it
[02:18:21] <reem> (by the way, really enjoyed your dependent types talk yesterday)
[02:18:26] <niconii> thombles: oh, i see... you want &String to coerce to &str
[02:18:28] <kmc> https://github.com/rust-lang/rfcs/blob/master/text/0401-coercions.md
[02:18:32] <thombles> niconii: Right
[02:18:34] <_habnabit> so is there a more concise way to indicate this type in a signature? `fn call<F>(f: F) where f: FnOnce()` isn't bad, but i'm just wondering if there's a shortcut
[02:18:39] <kmc> thanks reem!
[02:18:41] <p1start> reem: The PR for Arc<Trait>/Arc<[T]> is being tested right now :D
[02:18:46] <kmc> _habnabit: not yet :/
[02:18:49] <_habnabit> i thought the way would be using `type Callback = ...` but that clearly isn't doing what i intended
[02:18:55] <kmc> I would like   fn call(f: impl FnOnce()) as sugar
[02:18:58] <kmc> when you have no other need to name the type
[02:19:09] <kmc> this would fit well with     fn foo(...) -> impl FnOnce(...)
[02:19:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:19:13] <niconii> thombles: hmmm, yeah, i'm not sure what's stopping it from coercing then...
[02:19:18] <kmc> which is not just sugar, it's actually necessary to be able to return unboxed closures
[02:19:19] *** Quits: wikkit (Mibbit@moz-5b1527.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:19:21] <kmc> because you can't name the type directly
[02:19:29] <_habnabit> oic
[02:19:36] <reem> could be kind of confusing though because -> impl FnOnce(..) is very different than f: impl FnOnce(..)
[02:19:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:19:41] <SpaceManiac> _habnabit: if you don't mind the clutter, you can place the bound earlier, which is slightly shorter: `fn call<F: FnOnce()>(f: F)`
[02:19:48] <whipsch> gist support for the playground, anyone? https://github.com/rust-lang/rust-playpen/pull/102
[02:19:52] <reem> one “expands” to a concrete type and one is a silent generic
[02:19:55] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[02:19:56] <kmc> Rust closures work very much like C++ lambda if you know about that
[02:20:02] <_habnabit> SpaceManiac, but i can't, say, make an alias for a specialized trait?
[02:20:06] <madez> Is there a way to implement a trait defined in the standard library for a type paramter?
[02:20:07] <kmc> it's just that Rust has traits and C++ doesn't (yet) so their generics are duck-typed
[02:20:09] <SpaceManiac> not afaik
[02:20:09] *** Quits: zhb (zhb@moz-oes.erg.206.121.IP) (Connection closed)
[02:20:22] <madez> I'm getting: error: type parameter `T` must be used as the type parameter for some local type (e.g. `MyStruct<T>`); only traits defined in the current crate can be implemented for a type parameter [E0210]
[02:20:26] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[02:20:27] <thombles> niconii: I found just that if I explicitly cast in the line before it "let slice: &str = &db_url;" and pass in "slice" instead, it works
[02:20:27] <reem> _habnabit: there are unfortunately not yet bounds/trait aliases
[02:20:36] <_habnabit> reem, drat
[02:20:39] <navaati> kmc: is a closure a sized or an unsized type ?
[02:20:43] <thombles> niconii: Thanks for the thoughts, I'll keep going and no doubt it'll make sense later ;)
[02:20:45] <cmr> navaati: unsized.
[02:20:48] <reem> navaati: sized
[02:20:48] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Connection closed)
[02:20:50] <kmc> hahaha
[02:20:51] <navaati> haha ^^
[02:20:52] <kmc> I'm with reem here
[02:20:52] <kmc> 2/3
[02:20:56] <NMD> HAHA... if you babysit rustup.sh it will accept my password... so:  Rust is ready to roll.   \o/
[02:20:57] <Dr-Emann> Sized
[02:20:59] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[02:21:00] <kmc> the closure itself is an instance of some sized type
[02:21:01] <reem> a closure *trait object* is unsized, because it is a trait object
[02:21:02] <kmc> that you can't name directly
[02:21:03] <SpaceManiac> madez: usually that means you can't implement a trait from another crate for a type from another crate
[02:21:05] <niconii> thombles: hmmm... well, in any case, you can use .borrow() to turn a String into a &str i think
[02:21:07] <reem> a closure literal is a concrete type that is sized
[02:21:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:21:15] <kmc> the unknowable name of the great lambda
[02:21:16] <navaati> yeah, i'm not talking about the trait object !
[02:21:21] <Mutabah> *grr* Default isn't implemented on array
[02:21:21] <kmc> but yes, it's sized
[02:21:23] <Mutabah> *arrays
[02:21:24] <navaati> ok
[02:21:30] <kmc> conceptually it's just a struct whose fields are the free variables
[02:21:30] <_habnabit> wait, so, how do i make a struct with a member that's a vector of closures?
[02:21:33] <NMD> So I wonder if Fedora fails sudo if the session is locked or if there is a timer...  must Google
[02:21:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:21:37] <kmc> no different from what people did in C++ before lambda
[02:21:48] <kmc> _habnabit: a vector of various implementations of a trait needs to be a vector of trait objects
[02:21:55] <kmc> Vec<&Trait> or Vec<Box<Trait>>
[02:22:10] <_habnabit> i see
[02:22:15] <madez> SpaceManiac, the trait and the type I'm writing about are from the standard library. Does that imply that the only place to do the implementation is the standard library?
[02:22:22] <thombles> niconii: That seems to require the unstable "collections" library so I'll give it a miss for now
[02:22:24] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[02:22:26] <_habnabit> so ultimately i have to box the closure, even if i can take it as an argument without boxing it
[02:22:28] <Dr-Emann> If you're okay with functions only, you can use Vec<fn(Arg)->Ret>
[02:22:35] <Sho> NMD: sudo defaults to a 15m timeout, yeah
[02:22:35] <niconii> thombles: oh, does it? huh
[02:22:56] <NMD> Thanks for the help guys...  now the hard part begins... coding something productive  :)
[02:22:56] *** Joins: AndroUser2 (androirc@moz-g8r.9lm.252.72.IP)
[02:22:57] <cmr> _habnabit: At least, to store them in a vector you do.
[02:23:02] *** Joins: zen|merge (quassel@moz-6vk.712.73.109.IP)
[02:23:04] <_habnabit> cmr, right, okay
[02:23:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:23:08] <cmr> _habnabit: since the vector needs to be of a homogenous type, but every closure literal has a different type.
[02:23:18] <SpaceManiac> madez: that's right. You could use a newtype: struct WrappedX(X); impl Trait for WrappedX {...}
[02:23:25] *** Parts: NMD (nick@moz-s1ae11.home4.cgocable.net) ("...off to rust something :D")
[02:23:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:23:48] <kmc> _habnabit: right. the unboxed interface is strictly more general, because  &Trait and Box<Trait> implement Trait
[02:24:02] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[02:24:03] <navaati> I was dreaming about a REPL with a :t to get the type of something, but I guess closures would be a problem, you don't have a name for the type of || -> {}
[02:24:22] <kmc> getting the language to actually provide that seemingly obvious property took a *ton* of work and iteration
[02:24:39] *** Quits: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[02:24:41] <kmc> but now it works =)
[02:24:52] <reem> navaati: a closure literal (|| -> { }) really just expands to an anonymous type and an implementation of Fn/FnMut/FnOnce for it
[02:25:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:25:09] <madez> SpaceManiac, I'd like to wrap Vec<T> where T implements Display. How'd I wrap that?
[02:25:21] <navaati> reem: yeah, I know that, but the type has no name, so the REPL is screwed
[02:25:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:25:36] <niconii> thombles: oh, you need std::borrow::Borrow, not collections::borrow::Borrow
[02:25:44] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[02:25:53] <niconii> playbot: use std::borrow::Borrow; let a = "Hello!".to_owned(); let b: &str = a.borrow();
[02:25:54] -playbot- ()
[02:25:57] <niconii> playbot: VERSION
[02:25:58] -playbot- "rustc 1.0.0 (a59de37e9 2015-05-13) (built 2015-05-14)"
[02:26:03] *** Quits: slimsag (Mibbit@moz-qrnu8n.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:26:05] <niconii> thombles: works fine on stable
[02:26:10] <reem> navaati: yup :P you could maybe have it output like exists F. F: FnOnce() or some other special-purpose syntax
[02:26:16] <SpaceManiac> madez: probably something like `struct Wrapped<T: Display>(Vec<T>)`
[02:26:26] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:26:30] <kmc> I really like that Rust is one of the first languages to realize the "closures are existentials" slogan :)
[02:26:34] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:26:34] *** ChanServ sets mode: +o erickt
[02:27:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:27:06] *** Joins: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net)
[02:27:06] <thombles> niconii: Ahah that's done the trick, thanks!
[02:27:11] *** Joins: zhb (zhb@moz-k26.59d.206.121.IP)
[02:27:21] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[02:27:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:27:28] <madez> SpaceManiac, thanks. I tried struct Warpped(Vec<T>) where T: Display. I say that construct in the standard library for specification of type traits in implementations.
[02:27:29] <niconii> thombles: no problem!
[02:27:39] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[02:28:10] <navaati> kmc: what is fun about rust is that it hides a lot of scary CS things like existentials type behind nice names like "trait objects"
[02:28:45] *** Joins: v21 (vee@moz-2gv.oe1.4.171.IP)
[02:28:57] <navaati> and then you have a bunch of system programmers not even realizing they use the most tricky haskell concepts, haha
[02:28:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:29:07] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:29:11] <madez> SpaceManiac, I saw*, neverminds, works now. Thanks.
[02:29:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:29:38] *** Joins: rmgk_ (ragnar@moz-v7b6h2.dyn.telefonica.de)
[02:29:42] <_habnabit> http://is.gd/gaMNzX wait, what? /types/ have lifetimes too?
[02:29:43] <SpaceManiac> madez: `Wrapped<T>(Vec<T>) where T: Display` would also work, you were just missing the first <T>
[02:29:44] <navaati> I'm sure haskell should rename the Monad class into the AndThen class, instant profit !
[02:30:15] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[02:30:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:31:11] *** Quits: gsingh93_ (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:31:14] <_habnabit> actually, making the correction suggested in the error `where F: 'static FnOnce(&Resource)` is a syntax error...?
[02:31:16] *** Joins: slimsag (Mibbit@moz-qrnu8n.ph.cox.net)
[02:31:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:31:21] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[02:31:22] <madez> SpaceManiac, yep, "s<T>() where T: X" seems to be equivalent to "s<T: X>()".
[02:31:29] <SpaceManiac> _habnabit: types (e.g. those that contain references) can have lifetime parameters
[02:31:49] <SpaceManiac> the syntax you're looking for in the bound is F: FnOnce(&Resource) + 'static
[02:31:54] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[02:32:02] <_habnabit> huh
[02:32:27] *** Quits: zhb (zhb@moz-k26.59d.206.121.IP) (Quit: Leaving...)
[02:32:44] <slimsag> Hm, I got disconnected. Is there any way to write benchmarks in stable?
[02:32:48] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[02:32:48] <madez> SpaceManiac, why doesn't Rust let me implement a trait from the standard library for a type from the standard library?
[02:32:51] <_habnabit> so is doing that `+ 'static`, like, acceptable?
[02:32:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:32:57] <_habnabit> it just seems odd to me
[02:33:03] *** Quits: rmgk (ragnar@moz-j2gg8j.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:33:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:33:20] <SpaceManiac> it's a little odd-looking but that's how you accomplish that
[02:33:28] <reem> madez: because multiple crates could provide that implementation, which means you’d have conflicting implementations, which is not allowed
[02:33:46] <_habnabit> SpaceManiac, is the 'right' way to do this to parameterize `struct CallbackManager<F>` ?
[02:33:54] *** Quits: tyler569 (tyler@moz-j21k4h.dyn.optonline.net) (Quit: leaving)
[02:33:56] <reem> the property that any two crates can be used together is preserved if we don’t allow impls of third party traits for third party types
[02:34:02] <reem> (this property is called coherence)
[02:34:17] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:34:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:35:09] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[02:35:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:35:24] <madez> Ok. Now I'm implementing the method, have access to &self of type Wrapped<T>(Vec<T>) and need to iterate over the wrapped vec. How do I come there from self?
[02:35:26] <SpaceManiac> _habnabit: no, that would mean CallbackManager could contain only one type of callback
[02:35:28] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[02:35:46] *** Joins: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net)
[02:35:50] <_habnabit> SpaceManiac, oh. so it could only contain one closure, ever?
[02:35:53] <meh> madez, self.0
[02:35:54] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[02:35:57] <SpaceManiac> right
[02:36:03] <meh> madez, that will be the contained vec
[02:36:07] *** Joins: nwr (nwr@moz-lvg.sgf.141.50.IP)
[02:36:23] <_habnabit> SpaceManiac, i see
[02:36:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[02:36:29] *** Quits: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com) (Quit: This computer has gone to sleep)
[02:36:41] <SpaceManiac> the 'static bound ensures that the closure doesn't have any references that might be outlived by the box
[02:36:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:36:58] <_habnabit> SpaceManiac, oh, i see
[02:37:04] *** Joins: sgr__ (Adium@moz-r42oc1.ca.comcast.net)
[02:37:08] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[02:37:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:37:49] *** Joins: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net)
[02:38:05] <_habnabit> SpaceManiac, so, just to be clear, http://is.gd/V7SlK2 doesn't help me because i want to be able to take closures defined in multiple distinct places
[02:38:15] <madez> meh, will the wrapped vector Wrapped<T>(Vec<T>) have the same binary representation?
[02:38:34] <SpaceManiac> _habnabit: that's right
[02:38:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:39:00] <madez> meh, ... as the normal unwrapped vector Vec<T>...
[02:39:03] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Ping timeout: 121 seconds)
[02:39:08] <meh> madez, that I don't know, sorry
[02:39:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:39:27] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[02:39:30] <SpaceManiac> madez: generally speaking, it will, but there's no need to
[02:39:35] <madez> meh, ah, okay. thank you!
[02:39:46] *** Joins: marsel (user@moz-jir.4tc.180.94.IP)
[02:39:49] <_habnabit> SpaceManiac, ok. i don't know if i fully understand the implication of `+ 'static` yet but it looks like i get the same error even if i specify that: http://is.gd/X9GwDf
[02:39:59] <madez> SpaceManiac, I'm sorry, what do you mean by "there's no need to"?
[02:40:28] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:40:31] <SpaceManiac> madez: if you want a &Vec<T> from self: &Wrapped<T>, just use &self.0 (I left out "no need to transmute", which I assumed you were going for?)
[02:40:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:40:43] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[02:41:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:41:40] *** Joins: annodomini_ (lambda@moz-b8m.v53.167.208.IP)
[02:41:43] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:41:50] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[02:42:08] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Ping timeout: 121 seconds)
[02:42:08] *** annodomini_ is now known as annodomini
[02:42:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:42:44] *** Quits: nwr (nwr@moz-lvg.sgf.141.50.IP) (Quit: leaving)
[02:42:53] *** Quits: _td (tatterdemal@moz-73rrn8.ca.comcast.net) (Ping timeout: 121 seconds)
[02:43:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:44:08] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[02:44:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:44:38] <madez> SpaceManiac, I'm not sure what you mean by transmute. I wanted to know if the fact, that Wrapped<T>(Vec<T>) is wrapped will be kept at runtime or optimized away?
[02:45:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:45:02] <cmr> madez: it's optimized away.
[02:45:06] <SpaceManiac> ^
[02:45:40] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[02:46:13] <madez> So, protection from conflicting implementations by zero-cost abstractions. Nice.
[02:46:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:46:44] <kmc> a rust struct just contains its fields directly, in order
[02:46:52] <kmc> so a one-element struct has the same repr as its one and only field
[02:46:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:47:11] <kmc> strictly speaking, the layout isn't defined and there may be padding, but for one field it's a safe bet
[02:47:46] <kmc> oh also the order definitely isn't defined
[02:47:47] <madez> If I remember correctly, C does the same.
[02:47:52] <kmc> yeah
[02:48:00] <kmc> you can attach #[repr(C)] for a C-compatible layout
[02:48:02] <madez> The order is not strictly source code?
[02:48:10] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[02:48:10] *** Quits: slimsag (Mibbit@moz-qrnu8n.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:48:15] <cmr> madez: it's not. in practice, it is right now.
[02:48:17] <kmc> madez: it probably is, at present, but I think the Rust compiler reserves the right to reorder fields
[02:48:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:48:34] <kmc> actually I already saw a plugin that randomizes field order as extra defense against memory exploits =)
[02:48:40] <bstrie> I wonder how much code will break when we actually start doing that
[02:48:43] <cmr> #[repr(C)] makes it so though.
[02:48:54] <kmc> unless the C ABI for your platform also specifies reordering
[02:48:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:49:01] <kmc> which it might, but lol
[02:49:02] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Ping timeout: 121 seconds)
[02:49:12] <Sgeo_> If I'm searching for a particular string in a file, I guess I would use .windows()?
[02:49:17] <madez> kmc, does that plugin take into account that some orders are more performant than others?
[02:49:18] <whipsch> kmc: that plugin sounds neat, got  alink?
[02:49:23] *** Joins: Twisol (textual@moz-0033n4.res.rr.com)
[02:49:25] <kmc> madez: I don't think so, but it could be made to?
[02:49:31] <bstrie> iirc, V8 was the first js engine to actually make object fields not be laid out in insertion order, which made me super pissed at the time
[02:49:32] *** Joins: y0ssa (Mibbit@moz-bu3hsr.res.rr.com)
[02:49:34] <kmc> whipsch: it was a long time ago, certainly won't still compile :/
[02:49:39] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[02:49:40] <cmr> Sgeo_: you might want to use .find
[02:49:46] <whipsch> probably fairly straightforward
[02:49:50] <kmc> bstrie: yeah but I think they do something to fix up the iteration order to be spec-compliant
[02:49:52] <bstrie> even though js doesn't specify field order
[02:49:53] <kmc> or at least they do now
[02:50:01] <navaati> where do I put the resource files in cargo (like images, shaders, etc)
[02:50:04] <navaati> ?
[02:50:06] <kmc> yeah, ok
[02:50:19] <bstrie> kmc: rather, my anecdote was that I think they were deliberately randomizing order so that people wouldn't rely on it
[02:50:24] <kmc> navaati: don't know about a standard, but 'data' or 'assets' is common
[02:50:26] <kmc> bstrie: heh
[02:50:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:50:28] <Sgeo_> I don't want 'one item', I want 'a bunch of the items and stuff after that'
[02:50:33] <Havvy> bstrie:  I'm actually glad they did that. Developers need to quit relying on unspeced behavior.
[02:50:49] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[02:50:53] <navaati> ok
[02:50:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:50:55] *** Quits: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net) (Client exited)
[02:51:06] *** Joins: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net)
[02:51:17] <bstrie> Havvy: I got over it eventually, but it was certainly something I didn't expect
[02:51:38] <cmr> Sgeo_: find gives you the byte index of the match. You can keep searching after that, slice the string as necessary, etc.
[02:51:47] <_habnabit> http://is.gd/MdnH18 ok here's a simplified example. why is this trying to do a move at all? do you need to do a move in order to call something?
[02:51:52] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[02:52:18] <desophos> niconii: sorry, i went afk. that's why i wanted to show an example in the playpen, because rand::sample sure doesn't return Vec<T> for me; "rand::sample(&mut rng, vec![MyEnum::A].iter(), 1)" returns Vec<Option<&MyEnum::A>>
[02:52:19] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[02:52:23] <madez> I have a variable x with type T: Display. How can I format x to its representation?
[02:52:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:52:33] <cmr> _habnabit: because they are FnOnce, you can only call them once.
[02:52:37] <Sgeo_> But I'm looking in a file for a particular byte sequence, not in a string for a particular string
[02:52:39] <_habnabit> cmr, ohhhh
[02:52:45] <bstrie> madez: .to_string should do it, I think
[02:52:50] <_habnabit> cmr, so i need Fn for that?
[02:52:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:52:56] <niconii> desophos: what version of the rand crate are you using?
[02:53:03] <cmr> _habnabit: or FnMut, yeah.
[02:53:05] *** Quits: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net) (Client exited)
[02:53:11] <bstrie> madez: if not, then `fmt!("{}", x)` should do it
[02:53:12] *** Joins: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net)
[02:53:21] <bstrie> madez: er, `format!("{}", x)`
[02:53:26] <desophos> niconii: 0.3.8
[02:53:48] *** Joins: fuogo (Mibbit@moz-s8q6vt.uc.edu)
[02:53:51] <_habnabit> cmr, i wasn't really clear on what the difference between Fn and FnMut was. what's the 'receiver' referred to in the docs?
[02:54:01] <cmr> _habnabit: the receiver is the "self" in the method.
[02:54:14] <cmr> So Fn takes &self`, FnMut takes `&mut self`, FnOnce takes `self`
[02:54:48] <_habnabit> cmr, hm, ok. if i have a closure, though, is 'self' just referring to the closure object itself? i.e. presumably where it stores captured state
[02:54:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:54:57] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:54:59] <madez> bstrie, .to_string worked. But I wouldn't now where I could find that in the documentation. I looked in the official API documentation and found only that I have access to fmt for x, but neither x.fmt() nor fmt(x) worked.
[02:54:59] <cmr> _habnabit: yep.
[02:55:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:55:17] <_habnabit> cmr, so it seems like most of the time all i'd need for working with closures is Fn
[02:55:44] *** Quits: meh (meh@moz-odufem.42-151.net24.it) (Ping timeout: 121 seconds)
[02:55:47] <desophos> niconii: i simplified that example a bit; what i'm actually doing is passing "vec![MyEnum::A, MyEnum::B]" to a fn<T>(Vec<T> items), then doing "rand::sample(&mut rng, items.iter(), 1)"
[02:55:49] <cmr> _habnabit: Either that or FnMut, yeah.
[02:55:49] <_habnabit> cmr, how does FnOnce guarantee that it will only be called once, though? the error seems confusing to me
[02:55:55] <desophos> i just realized that should probably be a pastebin
[02:55:59] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[02:56:02] <_habnabit> cmr, when would i need FnMut with a closure?
[02:56:19] <cmr> _habnabit: Because it takes `self` by value, calling it moves the closure into the method call.
[02:56:31] <desophos> niconii: could the generic be the problem?
[02:56:32] <cmr> _habnabit: FnMut is when you want to mutate your captures.
[02:56:33] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[02:56:35] <_habnabit> cmr, interesting
[02:56:42] <_habnabit> cmr, ah! okay, that makes sense
[02:56:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:57:03] <cmr> _habnabit: http://huonw.github.io/blog/2015/05/finding-closure-in-rust/ is a long but excellent post about all this stuff.
[02:57:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:57:13] <_habnabit> cmr, oh, yeah, i got linked to that earlier i think
[02:57:21] <bstrie> madez: good point, can you file a bug at https://github.com/rust-lang/rust/issues ?
[02:57:39] <niconii> desophos: ah! i think the issue then is
[02:57:40] <_habnabit> i'll read this before i go any further then
[02:57:54] <niconii> desophos: items.iter() returns Option<&T>
[02:58:04] <desophos> ughhh
[02:58:14] <niconii> desophos: er, rather, it returns items that are Option<&T>
[02:58:36] <desophos> but if i leave that off, it tells me Vec<T> isn't an iterator
[02:58:42] *** Quits: saxon (Mibbit@moz-mq2.v4c.40.198.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:58:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[02:58:46] <desophos> which confused me
[02:58:58] <niconii> desophos: and sample returns a vector of those items, so Vec<Option<&T>>
[02:59:09] <desophos> yeah i see where that's coming from... :/
[02:59:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[02:59:11] <niconii> desophos: well, that's true, Vec<T> isn't an iterator
[02:59:32] <_habnabit> ughghghghgh forgot about a constraint on my real code and so my test case code is all wrong
[02:59:39] <_habnabit> i think it's time for a dinner break anyway
[02:59:46] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("bye")
[02:59:57] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[03:00:30] <desophos> niconii: but... then why can i iterate over them in a for loop?
[03:00:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:00:42] <desophos> i guess i don't understand iterators haha
[03:00:45] *** Quits: zerkms (Mibbit@moz-sh9.gv7.109.203.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:00:54] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[03:01:04] <niconii> desophos: pretty sure you have to use .iter() for a for loop too?
[03:01:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:01:15] <desophos> niconii: http://doc.rust-lang.org/stable/book/vectors.html#iterating
[03:01:19] <niconii> desophos: but if you don't, it'd be because Vec implements IntoIterator
[03:01:48] <madez> bstrie, Sadly, I can't because I can't login into my github for some time. When I solved that, I'll be a good citizen and file bugs.
[03:01:55] *** Joins: HighlightMe (Fanboy@moz-iba.m7e.117.216.IP)
[03:02:04] *** Joins: sawrubh (uid6719@moz-sr8l1j.brockwell.irccloud.com)
[03:02:31] *** Joins: lynn (lynn@moz-augita.livnmi.sbcglobal.net)
[03:02:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:02:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[03:03:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:03:20] <niconii> desophos: okay, yeah, it'd be because of IntoIterator then, which lets the for loop get an iterator over it, i guess
[03:03:57] *** Parts: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) ()
[03:04:11] <desophos> so the for loop automatically calls .into_iter() but i have to call it manually when passing the vector as an iterator elsewhere?
[03:04:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:04:44] <desophos> apparently yes, that solved it.
[03:04:55] <niconii> desophos: i don't know exactly what the for loop does, actually
[03:05:00] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[03:05:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:05:04] <desophos> niconii: https://doc.rust-lang.org/core/iter/index.html#rust%27s-for-loop
[03:05:22] <desophos> .into_iter() should definitely be mentioned in the book
[03:05:40] <niconii> desophos: right, okay
[03:05:41] <desophos> mentioned nowhere in http://doc.rust-lang.org/stable/book/iterators.html
[03:06:26] <desophos> thanks niconii, pointing me to IntoIterator was the solution!
[03:06:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:06:34] *** Quits: zen|merge (quassel@moz-6vk.712.73.109.IP) (Ping timeout: 121 seconds)
[03:06:45] *** Quits: fuogo (Mibbit@moz-s8q6vt.uc.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[03:06:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:07:11] <niconii> desophos: no prob
[03:08:14] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Connection closed)
[03:08:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:08:40] *** Quits: annodomini (lambda@moz-b8m.v53.167.208.IP) (Client exited)
[03:08:50] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[03:08:50] <desophos> wait...
[03:08:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:09:10] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[03:09:59] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:09:59] *** ChanServ sets mode: +o erickt
[03:10:07] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Ping timeout: 121 seconds)
[03:10:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:10:35] <desophos> where is iter documented?
[03:10:42] <desophos> the actual iter method
[03:10:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:10:58] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[03:11:22] <desophos> as in, whatever happens when i call vec![foo].iter()
[03:11:33] <SpaceManiac> desophos: http://doc.rust-lang.org/std/vec/struct.Vec.html#method.iter I think
[03:12:15] <Mutabah> desophos: .iter() is a method on [T], inherited by Vec becuse Vec impls Deref<Target=[T]>
[03:12:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:12:48] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:12:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:13:07] *** Quits: jpg (jpg@moz-ldeh9l.internode.on.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:13:10] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[03:13:16] <desophos> i guess what i'm actually trying to find out is the difference between .iter() and .into_iter()
[03:13:23] *** Quits: mfs (mfs@moz-g35m6n.sda.io) (Quit: leaving)
[03:13:34] <Mutabah> desophos: .iter() returns refrences, .into_iter consumes the Vec and returns the items
[03:13:43] *** Joins: mfs (mfs@moz-g35m6n.sda.io)
[03:13:48] <desophos> ahhhhhh
[03:13:52] <desophos> i seeeee
[03:13:52] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:14:05] *** Joins: dawehner (quassel@moz-dck.uga.249.209.IP)
[03:14:05] <desophos> thanks Mutabah! 
[03:14:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:14:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:15:05] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[03:15:23] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[03:15:40] <madez> A single character is converted to upper case by an iterator, but a string is converted to upper case at once into to new str. How does that fit? Shouldn't it be the other way around?
[03:16:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:16:31] <Mutabah> madez: ... sorry?
[03:16:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:16:58] *** Quits: Twisol (textual@moz-0033n4.res.rr.com) (Connection closed)
[03:17:08] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[03:17:12] <madez> Mutabah, A str is converted by the method to_uppercase by creation of another string: http://doc.rust-lang.org/stable/std/primitive.str.html#method.to_uppercase
[03:17:21] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[03:17:26] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[03:17:34] <SpaceManiac> madez: that method returns a String, i.e. fresh memory
[03:17:40] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[03:17:48] *** Joins: Twisol (textual@moz-uuf.s3i.166.130.IP)
[03:17:52] <madez> Murarth, a single character is converted by an iterator: http://doc.rust-lang.org/stable/unicode/primitive.char.html#method.to_uppercase
[03:17:57] *** Quits: Izacht13 (Izacht13@moz-oqb.nch.45.199.IP) (Quit: Leaving)
[03:17:59] *** Joins: lilybet (Mibbit@moz-s8q6vt.uc.edu)
[03:18:08] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Connection closed)
[03:18:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:18:34] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:18:40] <Mutabah> madez: The first case returns a String (but yes, it is slightly odd, I guess that's why the former is unstable)
[03:18:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:18:42] <madez> The argument against return a string for the conversion of a single character was mentioned above, but for a whole string is it done?!
[03:18:54] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[03:19:09] <Mutabah> madez: For a whole string, you usually are going save it somewhere
[03:19:21] <niconii> Mutabah and Murarth are destined to be forever confused with each other, aren't they :)
[03:19:29] <cmr> madez: notice that it's unstable...
[03:19:32] <Mutabah> If you want an iter string.chars().flag_map(|c| c.to_uppercase())
[03:19:33] <Mutabah> niconii: Yep
[03:19:34] <cmr> madez: the API isn't settled yet.
[03:19:36] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[03:19:46] *** Quits: lilybet (Mibbit@moz-s8q6vt.uc.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[03:19:48] <Amaranth> Why would char.to_uppercase() not just return Option<char>?
[03:20:10] <cmr> Amaranth: because unicode codepoints can uppercase into multiple codepoints.
[03:20:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:20:16] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[03:20:17] *** Joins: englishm (english@moz-bgtjtv.egr7.7q56.0306.2602.IP)
[03:20:20] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[03:20:23] <Amaranth> Oh Unicode, you so crazy
[03:20:39] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:20:40] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[03:21:21] <Dr-Emann> It's really just "oh languages, you so crazy"
[03:21:25] <FallingAlways> what about chars what don't have an uppercase. There has to be some language which that exists
[03:21:43] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[03:22:03] <Dr-Emann> FallingAlways: character points with no uppercase equivalent map to themselves. See all symbols.
[03:22:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:22:26] *** Joins: jpg (jpg@moz-ldeh9l.internode.on.net)
[03:22:38] <FallingAlways> so then it still makes sense to return the option for all the ones that don't?
[03:22:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:23:02] <cmr> http://unicode.org/faq/casemap_charprop.html
[03:23:17] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[03:24:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:24:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:25:03] *** Joins: madez_ (madez@moz-80j.du5.3.187.IP)
[03:26:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:26:28] <RCIX> (for what its worth, many asian languages are a trivial example of characters without an equivalent uppercase)
[03:26:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:26:37] *** Quits: thor (thor@moz-n7n1a4.res.rr.com) (Ping timeout: 121 seconds)
[03:26:45] *** Quits: Twisol (textual@moz-uuf.s3i.166.130.IP) (Quit: )
[03:27:04] <Sho> yeah, the Korean hangul alphabet has no letter case for example
[03:27:11] *** Quits: madez (madez@moz-80j.du5.3.187.IP) (Ping timeout: 121 seconds)
[03:27:26] *** Joins: kbullock (kbullock@moz-ib0161.ringworld.org)
[03:27:34] <kbullock> hey all, what's the rough equivalent of perror()?
[03:27:39] <kbullock> i.e. I'm getting an error whose Debug is: Io(Error { repr: Os(13) })
[03:27:58] *** Quits: madez_ (madez@moz-80j.du5.3.187.IP) (Connection closed)
[03:28:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:28:02] <kbullock> is there an easy way to get/print the OS's error string for that errno?
[03:28:06] <cmr> kbullock: use Display instead of Debug.
[03:28:13] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[03:28:16] <kbullock> cmr: that just spits out "os error"
[03:28:16] <cmr> ie, {}, not {:?}
[03:28:22] <cmr> oh, that's not very useful.
[03:28:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:28:34] <kbullock> which maybe is all OS X provides for trying to open a socket <1024 as non-root? heh
[03:28:42] <cmr> maybe .kind() ?
[03:28:58] *** Joins: madez (madez@moz-80j.du5.3.187.IP)
[03:29:03] <cmr> There's certainly room for improvement!
[03:29:21] <Dr-Emann> google says error 13 is Permission Denied
[03:29:23] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[03:29:45] <kbullock> Dr-Emann: on OS X/Darwin specifically? ISTR they vary btw flavors
[03:29:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:30:00] *** Quits: madez (madez@moz-80j.du5.3.187.IP) (Connection closed)
[03:30:19] *** Joins: madez (madez@moz-80j.du5.3.187.IP)
[03:30:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:30:49] <kbullock> cmr: no such luck with .kind
[03:31:04] <kbullock> huh, it seems to be a hyper::error::Error
[03:31:44] <Dr-Emann> ah, maybe look at Hyper's From impl.
[03:31:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:32:18] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[03:32:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:32:35] <Dr-Emann> Or, no, looks like it's wrapping correctly. It'd be hyper's Display impl, isn't calling the underlying display impl.
[03:32:36] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[03:33:08] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[03:33:09] *** Joins: gattschardo (richard@moz-hnnvbc.dyn.telefonica.de)
[03:33:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:33:58] <kbullock> ohh, gotcha. Yeah, I just started trying to unwrap the Error from the hyper::error::Io
[03:34:19] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[03:34:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:35:48] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[03:35:49] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[03:35:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:35:56] <ty> with rustdoc, is there a way to automatically generate links to other documented items?
[03:36:07] *** Quits: gattscha1do (richard@moz-40df1t.dyn.telefonica.de) (Ping timeout: 121 seconds)
[03:36:11] *** Quits: jpg (jpg@moz-ldeh9l.internode.on.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:36:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:36:21] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[03:36:27] <cmr> ty: no.
[03:36:40] <ty> cmr: dang.  What do people do in practice? 
[03:36:59] *** Joins: Twisol (Twisol@moz-0033n4.res.rr.com)
[03:37:23] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[03:37:37] <cmr> ty: https://github.com/rust-lang/rust/blob/master/src/libstd/lib.rs#L39
[03:37:41] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[03:37:44] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[03:37:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:38:06] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[03:38:08] <navaati> when I print an error (like with unwrap) which I know is a file not found error, I get something not very useful, like repr: Os(2). Is there a way to have a more human message ?
[03:38:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:38:30] <navaati> (something like perror in C)
[03:38:31] <cmr> ty: https://github.com/bluss/petulant-avenger-graphlibrary/blob/master/src/lib.rs#L4 as another example.
[03:38:43] <cmr> navaati: look about 15 lines up in the log :)
[03:39:19] <navaati> cmr: ah, right x)
[03:39:44] <ty> why is Debug less useful for debugging than the Display?
[03:39:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:39:46] <cmr> https://github.com/rust-lang/cargo/blob/d71f7487cbd51cb5933735a553836bcb82e27f08/src/cargo/util/errors.rs#L137 is what cargo does. kinda hard to read that file.
[03:39:52] *** Quits: Sho (sho@moz-qkd.1o6.28.5.IP) (Quit: Konversation terminated!)
[03:40:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:40:27] <cmr> ty: it preserves information, and shows you precisely what the actual data i.
[03:40:29] <cmr> *is
[03:40:46] <cmr> it's roughly what you'd get out of an actual debugger if you did `print val`
[03:41:03] <ty> Couldn't you just concatenate the two errors and say the same thing?
[03:41:09] *** Joins: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr)
[03:41:10] <ty> (sans the debugger output)
[03:41:41] <cmr> I don't know what you mean really. You mean "{} {:?}" or something?
[03:41:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:42:00] <navaati> so i guess the answer is "no, no perror()"
[03:42:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:42:23] <cmr> navaati: seems so.
[03:42:31] <ty> Have the Debug implementation print the error number as well as the human-readable message
[03:42:45] <cmr> the Debug implementation is derived.
[03:42:47] *** Joins: forgottenone (forgottenon@moz-4cl.u43.45.92.IP)
[03:43:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:43:42] <navaati> the most human here is .kind(), it gives "NotFound" for me
[03:43:52] <blaenk> passcod: you're working on rsnotify like you said it seems right
[03:44:04] <blaenk> niiiice, I was just about to tell you that we really should crack down on getting it to work on stable
[03:44:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:44:11] <blaenk> didn't know about Walker
[03:44:37] <RCIX> is there a way to go String -> &str without relying on an unstable feature
[03:44:44] <cmr> RCIX: &foo
[03:44:47] <desophos> how can i unwrap a Vec<Option<T>> into a Vec<T>? i have a match set up but i don't know what to do with None
[03:44:56] <cmr> RCIX: or &*foo, depending on the context.
[03:45:01] <cmr> desophos: .unwrap() ;)
[03:45:07] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:45:07] <cmr> desophos: which just does a panic!() in the None case.
[03:45:10] <passcod> yeah, fs::walk_dir being unstable, it breaks the notify library >< among other #![features]
[03:45:12] <desophos> lol, nice! thanks cmr 
[03:45:23] <blaenk> passcod: I'll help out where I can. so you knocked one out right? no more fs_walk
[03:45:31] <passcod> no more! :)
[03:45:36] <blaenk> cause I'm extremely interested/eager to get it working on stable
[03:45:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:45:41] <blaenk> I'm trying to get all of my dependencies in line
[03:45:51] <passcod> now it's just fs_time and path_ext
[03:45:56] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[03:45:58] <blaenk> oh fs_time I can help out there
[03:46:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:46:07] <blaenk> what's fs_time for again, actually lol. modified() right?
[03:46:10] <blaenk> yeah for that use this
[03:46:15] <blaenk> yeah for both of those do this
[03:46:19] <madez> How to write the type of an iterator of strings?
[03:46:29] <blaenk> Iterator<Item=String> I think
[03:46:33] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[03:46:33] <RCIX> cmr: okay it looks like rust was just having trouble with coercing the type in the function call i had it in, ty
[03:46:34] <cmr> madez: depends on what kind of iterator it is.
[03:46:54] <madez> cmr, what are the possibilities?
[03:46:54] <cmr> madez: each iterator is its own type. If you're putting a bound on a generic, what blaenk said is accurate.
[03:47:00] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[03:47:05] <blaenk> thx cmr u got my back
[03:47:07] <cmr> madez: essentially infinite!
[03:47:20] <blaenk> passcod: I did something similar for another package, it knocks out path_ext and fs_time in one go: https://github.com/iron/staticfile/pull/39/files
[03:47:26] <cmr> madez: any easy way to get rustc to tell you the type of something is `let _: () = expr;`
[03:47:29] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[03:47:31] <blaenk> well instead of path_ext, use std::fs::metadata to get the metadata
[03:47:31] <cmr> *any
[03:47:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:47:40] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[03:47:50] <blaenk> passcod: actually don't use the filetime crate, that's nightly/path_ext
[03:47:59] <blaenk> just use std::fs::metadata instead of PathExt, to get the metadata
[03:48:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:48:12] <blaenk> actually... there's no way to get the modified() time in stable I think
[03:48:19] <blaenk> :S
[03:48:21] <passcod> blaenk: oh thank you for this :) even then, I probably won't be able to publish a working notify until this evening (5-6h) due to social obligations
[03:48:24] <madez> cmr, thanks!
[03:48:28] <blaenk> no worries
[03:48:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[03:48:31] <cmr> *an
[03:48:34] <cmr> (wow)
[03:48:36] <blaenk> in fact, like I'm saying, I don't know if there's a way around this :S
[03:48:48] <cmr> madez: iterator types quickly turn nasty, as I'm sure you're about to discover :)
[03:48:50] <blaenk> maybe if we impl fns that use the os system calls directly or whatever
[03:48:58] <madez> What means Chars<'_>?
[03:49:00] *** Quits: ronslow (Mibbit@moz-9jal0q.dyn.plus.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:49:19] <whipsch> madez: fwiw, rusti also has ".type <expr>": https://github.com/murarth/rusti#type if you feel like checking out rusti
[03:49:26] <cmr> http://static.rust-lang.org/doc/master/std/str/struct.Chars.html with some lifetime.
[03:49:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:49:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:50:20] <cmr> ALso when closures become involved, it's no longer possible to write the type of the iterator without boxing the closure :( https://github.com/rust-lang/rfcs/issues/518 will fix that issue.
[03:50:20] *** Joins: kgrandon (Adium@moz-vuaebo.hjek.d045.0009.2601.IP)
[03:50:24] <madez> cmr, is there a way to write a function that takes any iterateable of a certain type?
[03:50:24] *** Quits: kgrandon (Adium@moz-vuaebo.hjek.d045.0009.2601.IP) (Connection closed)
[03:50:48] <cmr> madez: sure, fn foo<I: IntoIterator<Item=u8>>(x: I) { ... } for example.
[03:50:54] <blaenk> passcod: probably doing something like what you did with Walker, i.e. ripping out the std modified() code
[03:51:01] <madez> cmr, let me rephrase that slightly: a function that takes any iterateable which values are of a certain type?
[03:51:01] <blaenk> probably the best option, idk
[03:51:15] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[03:51:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:51:41] *** Quits: capcar (mathieu@moz-mi55kn.mc.videotron.ca) (Ping timeout: 121 seconds)
[03:51:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:53:07] <mbrubeck> madez: Yup, that's what cmr's example does.
[03:53:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:53:41] <mbrubeck> <I: IntoIterator<Item=u8>> means that `I` is a type that implements the IntoIterator trait and whose values are `u8`
[03:53:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:54:27] <madez> Ah, okay, thats exactly what I asked for.
[03:55:43] <bombless> playbot: let x = 0u8; let () = x;
[03:55:44] -playbot- <anon>:9:26: 9:28 error: mismatched types:
[03:55:45] -playbot-  expected `u8`,
[03:55:45] -playbot- output truncated; full output at: http://bit.ly/1PqMVMg
[03:55:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:55:53] <bombless> so the type of x is u8, lol
[03:55:57] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:56:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:56:46] *** Quits: elbow_jason (elbow@moz-tqr.qot.30.50.IP) (Ping timeout: 121 seconds)
[03:57:22] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:57:35] <Kingsquee> what's a good way to deal with this? http://is.gd/k3BAeR
[03:57:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:58:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[03:58:40] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[03:59:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[03:59:52] <Mutabah> Kingsquee: use the entry() API
[04:00:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:00:27] <mbrubeck> Kingsquee: Or http://is.gd/FKogcc
[04:01:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:02:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:02:42] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[04:03:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:03:48] <Kingsquee> oo
[04:03:50] <Kingsquee> thanks
[04:04:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:04:11] *** Quits: dennis (user@moz-6e14ss.ojkp.i8au.0468.2001.IP) (Ping timeout: 121 seconds)
[04:04:50] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[04:05:10] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:05:20] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[04:05:34] <Kingsquee> mbrubeck: so, why does inventory[&item_name] work and not inventory.get(&item_name).unwrap()?
[04:05:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:05:48] *** Quits: madez (madez@moz-80j.du5.3.187.IP) (Quit: Saindo)
[04:05:53] <bombless> http://is.gd/pS79mn or get_mut for only once, lol
[04:05:55] <mbrubeck> Kingsquee: That would work too.
[04:06:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:06:22] <mbrubeck> Kingsquee: Well, if you put a * in front to dereference the pointer it returns, and copy the value instead of borrowing it.
[04:06:34] <mbrubeck> http://is.gd/IXu6P8
[04:06:42] *** Joins: c74d3 (c74d@moz-0nv2lm.mggc.hibn.4404.2002.IP)
[04:06:43] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[04:06:48] *** Quits: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net) (Client exited)
[04:07:08] *** Joins: pikzen (Mibbit@moz-6d1uu2.wb.wifirst.net)
[04:07:09] <mbrubeck> Kingsquee: The original version didn't work because `count` was a pointer into the HashMap, and Rust won't let you mutate the map while you have a pointer to it.
[04:07:20] *** Parts: c74d3 (c74d@moz-0nv2lm.mggc.hibn.4404.2002.IP) ()
[04:07:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:07:34] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[04:07:46] <mbrubeck> When you do `inventory.remove(&item_name);` then `count` would become a dangling pointer.
[04:07:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:08:02] <Kingsquee> I see
[04:08:11] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[04:08:53] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[04:09:06] *** Joins: umbridge (Mibbit@moz-g0djuf.broadband.redcom.ru)
[04:09:11] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[04:09:12] *** Joins: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP)
[04:09:27] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[04:09:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:09:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:11:23] *** Quits: ytain (ytain@moz-504.hk6.248.206.IP) (Quit: Textual IRC Client: www.textualapp.com)
[04:11:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:11:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:12:11] <_habnabit> http://is.gd/179jYH if i uncomment lines 56/64, i get an error because there is no Resource::do_a_thing. i understand why (MyResource has methods that aren't part of Resource), but i can't figure out how to move the MyResource into the closure while also letting add_callback borrow &Resource for a limited length of time. trying to figure out how best to describe the constraints of this problem, unless it w
[04:12:11] <_habnabit> ould be simpler to just show code that uses mio
[04:13:16] *** Joins: mattico (Matthew@moz-d3u46j.mpls.qwest.net)
[04:13:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:13:32] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[04:13:48] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Ping timeout: 121 seconds)
[04:13:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:14:00] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[04:14:01] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[04:14:07] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[04:14:16] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[04:14:22] <pikzen> Hey, I'm trying to do some comparisons on bitfields. however, if I do if ((var &= (var-1)) != 0), it doesn't work because &= returns (). Would there be some way to apply the bitwise operation and get back its new value, or should I just bitwise first then compare later ?
[04:14:40] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[04:14:46] *** Quits: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP) (Connection closed)
[04:15:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:15:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:16:03] <cmr> pikzen: do the op then compare.
[04:16:42] <Kingsquee> so it seems like inventory[&item_name] == *inventory.get(&item_name).unwrap(), but the index trait returns a &V: http://doc.rust-lang.org/src/std/collections/hash/map.rs.html#1241
[04:16:53] *** Joins: dawehner-afk (quassel@moz-dck.uga.249.209.IP)
[04:17:13] <pikzen> No dirty bitwise tricks in the middle of ifs then. Thanks @cmr
[04:17:15] <Kingsquee> not sure where the dereferencing happens, unless I'm misunderstanding
[04:17:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:17:34] *** Quits: dawehner (quassel@moz-dck.uga.249.209.IP) (Ping timeout: 121 seconds)
[04:17:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:18:05] <talchas> Kingsquee: the trait returns an &T, but it gets dereferenced implicitly
[04:18:20] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[04:18:25] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[04:18:51] <Kingsquee> b-but how would it know to do that
[04:18:57] *** Joins: skippydippy (Mibbit@moz-jmi.vlt.6.103.IP)
[04:18:58] <mbrubeck> _habnabit: If you can't just move the methods into Resource, you could do something like http://is.gd/ca2p4v
[04:19:02] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:19:05] <skippydippy> hi
[04:19:13] <skippydippy> sex
[04:19:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:19:23] *** cmr sets mode: +b skippydippy!*@*
[04:19:24] *** skippydippy was kicked by cmr (cmr)
[04:19:40] <_habnabit> mbrubeck, ah, hm
[04:19:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:19:45] <Kingsquee> and why wouldn't that work with the .get() version :I
[04:20:13] <talchas> Kingsquee: x[y] is defined as *x.index(y)
[04:20:13] <_habnabit> mbrubeck, one sec while i make something more accurate
[04:20:29] *** Joins: mt2 (mt2@moz-a76qqb.ph.cox.net)
[04:20:41] *** Quits: mt2 (mt2@moz-a76qqb.ph.cox.net) (Client exited)
[04:20:51] <Kingsquee> talchas: self.get(index).expect("no entry found for key")
[04:21:03] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:21:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:21:17] <Kingsquee> or is the index trait impl not where that happens
[04:21:28] <RCIX> okay other direction, how do i do str -> String without using string::from_str
[04:21:39] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:21:40] <RCIX> no use of convert or collections features is painful >.>
[04:21:46] <Kingsquee> RCIX: to_string()?
[04:21:54] <RCIX> ...oh
[04:21:56] <cmr> RCIX: or .into()
[04:22:12] <RCIX> ty
[04:22:16] <talchas> Kingsquee: no, I meant in general the syntax x[y] desugars to *x.index(y), which means that any index() implementation is going to return a reference
[04:22:18] <RCIX> sometimes i cant read api docs >.>
[04:22:33] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[04:22:33] <talchas> (and in fact has to, by the definition of the trait function)
[04:22:40] <SpaceManiac> .to_owned() will also accomplish the conversion
[04:22:44] *** Quits: dcrewi (david@moz-3u3d5k.gyrae.net) (Ping timeout: 121 seconds)
[04:23:06] <Kingsquee> talchas: oh, so it's an implicit language thing?
[04:23:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:23:20] <talchas> Kingsquee: yeah
[04:23:22] <Kingsquee> that's kinda weird
[04:23:23] *** Quits: wqer (user@moz-rn4tf7.541k.ockc.8900.2605.IP) (Ping timeout: 121 seconds)
[04:23:36] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:23:39] *** Joins: summerlight__ (summerlight@moz-99k.2mj.130.121.IP)
[04:23:59] <Kingsquee> but hey, is my fault for expecting source code to explain what happens! \o/
[04:24:04] <Kingsquee> how naive
[04:24:19] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[04:24:24] *** Quits: AndroUser2 (androirc@moz-g8r.9lm.252.72.IP) (Ping timeout: 121 seconds)
[04:24:26] <RCIX> thats what assembly is for!
[04:24:33] *** Joins: ManishCloud (uid36524@moz-756cgc.ealing.irccloud.com)
[04:24:36] *** Joins: cornelius (Mibbit@moz-a6v.a3k.212.218.IP)
[04:24:56] <Kingsquee> I will add a borrow checker to brainf*ck
[04:25:01] <Kingsquee> and the world will be at peace
[04:25:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:25:09] <cornelius> hello, can anyone tell me how I can go about async I/O?
[04:25:17] *** Joins: subway (subway@moz-uu9.jv4.8.177.IP)
[04:25:23] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[04:25:24] <cmr> cornelius: https://github.com/carllerche/mio/ is the defacto standard right now.
[04:25:27] *** Joins: fullshare (Mibbit@moz-uj2.c9q.209.173.IP)
[04:25:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:25:34] *** Quits: ManishCloud (uid36524@moz-756cgc.ealing.irccloud.com) (Quit: )
[04:25:37] <bombless> operators overloading is always somewhat magical
[04:26:01] *** Quits: ruukasu (ruukasu@moz-obsv1c.res.rr.com) (Quit: ZNC - 1.6.0 - http://znc.in)
[04:26:03] <cornelius> does mio work with 1.0?
[04:26:25] <_habnabit> mbrubeck, http://is.gd/EXHXZG this is, i think, basically the closest i can get to summarizing my problem without having to use mio code to explain
[04:26:32] <cornelius> oh wait... it does not have windows support
[04:27:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:27:09] <carllerche> cornelius: I'm working on windows support...
[04:27:15] <carllerche> IOCP is... quirky
[04:27:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:27:39] <ty> carllerche: what were the API issues that you were running into 
[04:27:52] *** Quits: nacika_ (nacika@moz-hcvscb.static.zoot.jp) (Ping timeout: 121 seconds)
[04:27:52] <navaati> bye
[04:27:57] *** Quits: navaati (Mibbit@moz-16b.hi3.210.62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:28:12] <ty> I remember you saying that you were going to add windows support at a higher layer
[04:28:15] <_habnabit> mbrubeck, i understand why this code fails to compile, but i'm not sure how else this could be done. you need the borrowed reference and the closure at the same time, it seems. and you can't construct the closure without being able to do the move, but you can't do the move because of the borrow
[04:28:25] <carllerche> ty: just things I wouldn't expect... like threads being associated w/ the IOCP handle for life
[04:28:33] <_habnabit> mbrubeck, the only thing i can think of is 'call Resource::get_value() earlier'
[04:28:37] <carllerche> ty: not being able to unassociate handles w/ IOCP, etc..
[04:28:44] <cornelius> is that so?
[04:28:57] <cornelius> i believe you can just destroy the handle
[04:29:00] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[04:29:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:29:05] <carllerche> ty: well, i've been going back and forth. I think that having mio work on windows is valuable
[04:29:06] <whipsch> plugin loading in general
[04:29:09] <whipsch> ergh
[04:29:10] <whipsch> oops
[04:29:19] <ty> oh weird.  Are you still able to wrap both APIs without allocations?
[04:29:20] <cornelius> or rebind thread to another handle
[04:29:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:30:17] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[04:30:22] <cornelius> hold on, i actually have the book windows via c/c++
[04:30:29] <mbrubeck> _habnabit: Could you change add_callback to take the result of resource.get_value(), instead of &resource?
[04:30:39] <carllerche> ty: well, mio will have to take over buffer management on windows, so the strategy will be to allocate a buffer pool on boot and use that
[04:30:41] <mbrubeck> (or whatever the equivalent is in the original code)
[04:30:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:31:00] *** Joins: ruukasu (ruukasu@moz-obsv1c.res.rr.com)
[04:31:05] <ty> oh; is that only an issue on Windows?
[04:31:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:31:31] *** Quits: _td (tatterdemal@moz-73rrn8.ca.comcast.net) (Ping timeout: 121 seconds)
[04:31:35] <carllerche> ty: yeah... so it's all tricky because iocp & *nix are very different conceptually...
[04:31:38] <_habnabit> mbrubeck, soooo in the real code, Resource is AsRawFd
[04:32:05] <carllerche> mio is a zero cost abstraction on *nix, on windows it will be slightly less, but still at least on par w/ libuv
[04:32:16] <carllerche> i mean, that will be selling it a bit short...
[04:32:18] <mbrubeck> _habnabit: Basically, whatever add_callback needs to do with &resource, do it outside of add_callback, and pass in the results by value.
[04:32:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:33:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:33:22] <_habnabit> mbrubeck, i mean, in the real code, i could make my own AsRawFd implementer that just copies the fd value
[04:33:31] *** Quits: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[04:33:31] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[04:33:37] <_habnabit> mbrubeck, is there anything else that could be done?
[04:34:23] <carllerche> ty: it's not possible to have mio be 100% zero cost on both *nix & windows, so to be portable, it has to pick (and I pick *nix). HOWEVER, I think it would be possible to make mio configurable such that if the end user only cares about windows, it can then be a 0 cost for them
[04:34:37] <subway> Guys, I'm having a problem. http://is.gd/GoPosc It sugests to use a let binding, but I have no idea how.
[04:34:53] <mbrubeck> _habnabit: Pass the resource by value to add_callback, and have CallbackManager pass it as an arg to the closure?
[04:34:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:34:54] <carllerche> i'm probably being confusing, but tl;dr, my goal is to have mio support windows in 0.4
[04:35:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:35:21] <mbrubeck> I guess you'd have to box it
[04:35:27] *** Quits: fullshare (Mibbit@moz-uj2.c9q.209.173.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:35:44] <ty> carllerche: how does eventual play into this grand scheme?
[04:36:17] <blaenk> sup carllerche time for some nagging
[04:36:21] *** Joins: AndroUser2 (androirc@moz-g8r.9lm.252.72.IP)
[04:36:26] <carllerche> ty: I think futures / streams is the right higher level abstraction for the 95% case where a little bit of additional overhead is ok
[04:36:32] <carllerche> blaenk: uh oh :P
[04:36:35] <blaenk> :>
[04:36:47] <carllerche> blaenk: yeah... still no defer
[04:36:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:36:55] <blaenk> ah no problem, was just wondering if you had forgotten
[04:36:58] *** skeuomor1 is now known as skeuomorf
[04:36:58] <_habnabit> mbrubeck, so, in the real code, i need to call TcpListener::accept or TcpStream::read_slice, but ofc it doesn't make sense for there to be e.g. TcpStream::accept
[04:36:58] <carllerche> no
[04:37:16] <carllerche> blaenk: if you want to, i could walk you through it :P
[04:37:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:37:18] <blaenk> I really want it. I think I might take a shot at it from the ideas you've mentioned
[04:37:18] <talchas> _habnabit: if you control CallbackManager, you could make it take <R:Resource+Reflect> (Box<R>, Fn(&R)) and then use Any to store them
[04:37:23] <blaenk> yeah I might take a shot at it
[04:37:31] *** Quits: HeroesGrave (HeroesGrave@moz-9j07e1.vf.net.nz) (Quit: Bye)
[04:37:32] <blaenk> I'll let you know if I have any questions or whatever, when I try it
[04:37:39] <cornelius> let say i don't bother using any async facilities from the OS, and just do straight blocking I/O on a child thread, how can I pass the data back to main thread? Since data are mostly read-only, looks like it is possible to just use immutable borrow?
[04:37:50] <talchas> or take Rc<R> and then you could clone a Rc to have access in the Fn
[04:37:54] <blaenk> I'll try to go off of the brain dump you did on the issue
[04:37:59] <_habnabit> talchas, yeah, that's in my code. what's Reflect do?
[04:38:04] <Mutabah> cornelius: Use a Vec and mpsc
[04:38:19] <mbrubeck> _habnabit: Oh, right. Which brings us back to your previous example. :/
[04:38:38] <talchas> _habnabit: Reflect is a newish marker basically allowing you to use Any
[04:38:39] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[04:38:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:39:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:39:15] <carllerche> blaenk: I believe it basically works here: https://github.com/carllerche/eventual/commits/defer-todo
[04:39:42] <blaenk> sweet, I'll take a look at that
[04:40:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:40:52] <carllerche> blaenk: the one "problem" is that the current ThreadPool implementation shuts down when all handles to it (not counting workers) go out of scope
[04:40:57] *** Quits: y0ssa (Mibbit@moz-bu3hsr.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:41:04] <_habnabit> talchas, it just seems weird to need to use reflection instead of just moving the resource into the closure
[04:41:08] <blaenk> ahhh I see
[04:41:10] <carllerche> blaenk: I think a better strategy would be for it to finish all queued work
[04:41:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:41:15] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[04:41:23] <carllerche> if a threadpool handle goes out of scope vs. hard shutdown
[04:41:29] <blaenk> yeah
[04:41:57] <blaenk> not sure if this is similar, but it reminds me of zeromq, when you destroy a context, it'll wait until all sockets within that context are closed
[04:41:57] <carllerche> blaenk: here is a test: https://github.com/carllerche/eventual/blob/defer-todo/test/test_run.rs
[04:42:13] <blaenk> yeah was looking at that
[04:42:24] <carllerche> blaenk: this clone was required to get it to work https://github.com/carllerche/eventual/blob/defer-todo/test/test_run.rs#L12
[04:42:28] <carllerche> and, ideally it wouldn't be required
[04:42:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:42:43] <blaenk> ohhh I see what you mean
[04:43:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:43:25] <blaenk> for me that's not too much of a problem, I think. I think I would stick the threadpool in some place that would live long
[04:43:27] *** Joins: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP)
[04:43:32] <talchas> _habnabit: with your newer one where you don't need to store the Resource explicitly, there's http://is.gd/CUeYZu
[04:43:32] <blaenk> but I understand the issue
[04:43:55] *** Quits: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:43:58] <carllerche> blaenk: there are also some printlns in the source still :P
[04:44:06] <blaenk> haha nice
[04:44:09] <carllerche> blaenk: basically, remove printlns, probably add some more tests
[04:44:19] <desophos> rusti: fn f<T>(items: &Vec<T>) -> &Vec<T> { let mut choices: &Vec<T> = &vec![]; choices.push( rand::sample(&mut rng, items.into_iter(), 1).pop().unwrap() ); }
[04:44:19] <blaenk> ok
[04:44:20] -playbot- output truncated; full output at: http://bit.ly/1AbBAbV
[04:44:22] <carllerche> and hopefully fix the shutdown issue
[04:44:31] <desophos> whoops sorry
[04:44:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:44:39] <desophos> forgot about the no extern crates thing
[04:45:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:45:13] <_habnabit> talchas, interesting
[04:45:59] *** Quits: lynn (lynn@moz-augita.livnmi.sbcglobal.net) (Quit: )
[04:46:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:47:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:47:06] <talchas> If you do need to store the entire Resource, then there's Rc, or downcasting using Any-stuff
[04:47:11] <carllerche> blaenk: the shutdown issue is that there is fn shutdown & fn shutdown_now... shutdown_now should ignore the work queue. shutdown should finish already queued work and then shutdown
[04:47:25] <carllerche> blaenk: except, right now `fn shutdown` drops the work queue too
[04:47:32] *** Joins: zacts (user@moz-qrtjuh.nm.comcast.net)
[04:47:51] <zacts> is the Specification for the Rust language set in stone for all 1.* releases?
[04:47:53] <blaenk> ahhh I see
[04:47:54] <carllerche> blaenk: hmmmm maybe not?
[04:47:57] <zacts> or is it still subject to change?
[04:48:00] <carllerche> not 100% sure :)
[04:48:12] <blaenk> threadpool is from syncbox right
[04:48:22] <blaenk> yeah I see it
[04:48:23] <carllerche> yes
[04:48:24] <_td> zacts, what do you mean by specification?
[04:48:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:48:53] <zacts> perhaps: http://doc.rust-lang.org/stable/std/
[04:48:56] <zacts> ^ this is what I mean
[04:48:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:49:04] <zacts> core
[04:49:11] <zacts> I think?
[04:49:14] <_td> zacts, nothing stable will stop compiling or will change behavior.
[04:49:25] <_td> so features will be added but not removed
[04:49:31] <zacts> ok I see cool
[04:49:43] <zacts> so all previous code will run in future versions, but not necessarily the other way around?
[04:49:45] <carllerche> blaenk: it may be that rust-lang threadpool is good enough now :) i haven't looked in a while
[04:49:46] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:49:55] <_td> zacts, yes, exactly
[04:49:57] <zacts> neat
[04:49:59] <zacts> thanks
[04:50:13] <blaenk> carllerche: but would such a threadpool work? or is yours specifically written to be usable in a context like defer?
[04:50:19] <_habnabit> talchas, what exactly does it mean for R to be Resource + 'static here? it fails without the 'static, but i don't know why
[04:50:28] *** Quits: sgr__ (Adium@moz-r42oc1.ca.comcast.net) (Quit: Leaving.)
[04:50:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:50:36] <_td> zacts: unless you used a future keyword for a variable binding or something, but that's very unlikely
[04:50:44] <zacts> ok
[04:50:45] <carllerche> blaenk: my threadpool is simply a port of java's 
[04:50:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:51:06] <blaenk> carllerche: the rust-lang threadpool is pretty basic, what I mean is I'm not sure if you wrote your threadpool to be usable in a defer context: https://github.com/rust-lang/threadpool/blob/master/src/lib.rs
[04:51:09] <_td> zacts, also note that things in the docs marked unstable do not have that guarantee and actually can't be used on the stable branch of Rust
[04:51:10] <zacts> that's cool so it sounds like Rust can naturally and organically evolve, while still allowing people to trust that their code will compile
[04:51:20] <zacts> so you can also have stable code
[04:51:21] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[04:51:30] <zacts> _td: ah ok good to know
[04:51:39] *** Joins: sgr__ (Adium@moz-r42oc1.ca.comcast.net)
[04:51:41] <blaenk> it basically has a RAII guard (the sentinel) so that if a thread fails/panics, it respawns the thread and gets the next work off the queue
[04:51:56] <talchas> _habnabit: it means that whatever the Resource actually is doesn't have any references hidden in it
[04:52:00] <carllerche> blaenk: mine does something similar
[04:52:07] <_td> yep, Rust is committed to strong semantic versioning & a lot of the design choices over the last year have been made with backwards compatibility in mind
[04:52:18] *** Quits: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP) (Connection closed)
[04:52:25] <talchas> otherwise those could go out of scope, because CallbackManager owns all its memory
[04:52:28] <desophos> ok i'm just gonna ask for help with this. i'm trying to write a function to select n random items from a Vec, and i'm having... problems. what do i need to change to get this to work? http://hastebin.com/raw/laloxekehe
[04:52:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:52:29] <bstrie> mitsuhiko: I saw that you commented on https://www.reddit.com/r/rust/comments/365wm3/subreddit_layout_top_left_link_to_subreddit_home/
[04:52:38] * zacts idles
[04:52:45] <bstrie> mitsuhiko: which is to say, I'm confused... is that not exactly what I implemented for you yesterday?
[04:52:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:53:03] <carllerche> blaenk: so, I build my threadpool to take a generic queue and i am hoping one day to plugin the delay queue and have a scheduled thread pool
[04:53:05] <bstrie> zacts: depends on what you mean by the spec being "frozen"
[04:53:09] <carllerche> but, that hasn't happened and I don't have time :)
[04:53:13] <talchas> (you could instead make it so that they just have to be shorter than CallbackManager, by giving CallbackManager a lifetime parameter and restricting on that)
[04:53:16] <bstrie> zacts: the language will continue to grow in ways that are backwards-compatible
[04:53:16] <blaenk> yeah that would be pretty cool
[04:53:19] *** Quits: subway (subway@moz-uu9.jv4.8.177.IP) (Ping timeout: 121 seconds)
[04:53:27] <_habnabit> talchas, oh. how would you do that?
[04:53:35] *** Joins: wei2912 (wei2912@moz-tbo.7sk.156.175.IP)
[04:53:38] <desophos> also please ignore the poor design, i'm just trying to get it to work for now
[04:53:40] <carllerche> blaenk: wait, I lied. I did do it :P https://github.com/carllerche/syncbox/blob/master/src/thread_pool.rs#L83
[04:53:40] <_habnabit> talchas, i think i tried to do that once and i wasn't sure how to specify it
[04:53:47] <carllerche> I forgot I did
[04:53:53] <blaenk> hahaha
[04:54:06] <blaenk> you and your syncbagoftricks
[04:54:07] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[04:54:20] <blaenk> but what I was wondering was
[04:54:33] <talchas> _habnabit: http://is.gd/yxgZfD
[04:54:43] <desophos> the error i get now is error: use of moved value: `items`
[04:54:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:55:06] <blaenk> carllerche: ohh yeah, so defer would work on anything that's Run right
[04:55:10] *** Parts: pikzen (Mibbit@moz-6d1uu2.wb.wifirst.net) ()
[04:55:18] <blaenk> so if we implement Run for rust-lang/threadpool (if it's possible?) then it'd work there too
[04:55:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:55:19] <_habnabit> talchas, oic
[04:55:25] <carllerche> blaenk: yep
[04:55:29] <blaenk> sweet
[04:55:37] <blaenk> not that I favor it or anything
[04:55:41] <_habnabit> talchas, is the <'b> on line 34 necessary or could it be elided?
[04:56:07] *** Quits: dawehner-afk (quassel@moz-dck.uga.249.209.IP) (Ping timeout: 121 seconds)
[04:56:18] *** Quits: JacobHenner (JH@moz-i7mdmf.ventricle.us) (Ping timeout: 121 seconds)
[04:56:42] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[04:56:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:57:05] <talchas> _habnabit: you could just make it fn new() ->CM<'static>
[04:57:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:58:14] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[04:58:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[04:58:50] *** Joins: slimsag (Mibbit@moz-qrnu8n.ph.cox.net)
[04:58:55] <talchas> (it can't be elided, because there is no argument to take a lifetime from, and it doesn't default them to 'static)
[04:58:57] *** Joins: nwr (nwr@moz-lvg.sgf.141.50.IP)
[04:58:59] *** Joins: rab (Mibbit@moz-fub.cvq.227.63.IP)
[04:59:05] <_habnabit> talchas, ah, i see
[04:59:12] <_habnabit> talchas, ok, that makes sense
[04:59:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[04:59:47] <rab> Compiling first rust program. get this:
[04:59:51] <rab> note: /usr/bin/ld: cannot find Scrt1.o: No such file or directory
[04:59:59] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[05:00:05] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[05:00:34] <rab> linuxmint 17 rust 1.0
[05:00:37] <slimsag> Am I correct that Rust is on a six-week release schedule? 1.1 will be out six weeks from now ?
[05:00:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:00:43] <Layl> it is surprisingly hard to find any examples on Rc that involve there actually being more than one reference
[05:00:56] <carllerche> blaenk: Now that futures & streams have been extracted (into eventual), syncbox doesn't have much besides LinkedQueue (mpmc queue) & ThreadPool / ScheduledThreadPool
[05:00:58] <WindowsBunny> Can I feed input to rust playpen?
[05:01:03] <Dr-Emann> desophos: Why are you sampling 1 item n times, instead of sampling n items?
[05:01:05] <carllerche> i wonder if it is worth keeping around...
[05:01:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:01:09] <WindowsBunny> I tried using stdin, but it's just getting a bunch of empty lines
[05:01:24] <desophos> Dr-Emann: because i am under the impression that rand::sample samples without replacement
[05:01:34] <Dr-Emann> desophos: Oh, never mind. You're right. 
[05:02:35] <Dr-Emann> desophos: You're going to have to bound T with Clone, if you want replacement. And instead of into_iter, use .iter(), and call clone on the item you get back.
[05:02:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:02:47] <blaenk> carllerche: ahh
[05:03:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:03:14] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:03:17] <desophos> Dr-Emann: ah ok, i'm not familiar with clone; i'll look it up
[05:04:07] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[05:04:22] <Dr-Emann> desophos: Actually, since you're only grabbing one at a time, use rng.chose(slice)
[05:04:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:04:56] <desophos> Dr-Emann: oh nice, i didn't know that existed :p
[05:05:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:05:59] *** Quits: DoubleAW|skewl (DoubleAW@moz-b8ffdg.80s0.b06c.0306.2602.IP) (Ping timeout: 121 seconds)
[05:06:17] <SpaceManiac> is it impossible to apply #[doc(hidden)] to 'use' declarations?
[05:06:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:06:46] <cmr> SpaceManiac: a pub use you mean?
[05:06:52] <SpaceManiac> yeah
[05:07:00] <cmr> It should be possible, but if it doesn't work it's a bug in rustdoc.
[05:07:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:07:56] <SpaceManiac> no errors, but it doesn't hide it, and I still get missing_doc lints
[05:08:09] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[05:08:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:08:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:09:48] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[05:10:01] <rab> Hey, I'm gettign this on a simple compile: note: /usr/bin/ld: cannot find Scrt1.o: No such file or directory
[05:10:05] <rab> rust 1.0 linux
[05:10:18] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:10:26] *** Quits: leshow (leshow@moz-t8rd84.cpe.teksavvy.com) (Ping timeout: 121 seconds)
[05:10:26] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:10:35] <cmr> rab: are you able to compile a C program?
[05:10:37] *** Joins: srjek (srjek@moz-gg7i72.ece.uic.edu)
[05:10:48] <rab> have done so before
[05:10:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:10:57] <rab> have also compiled rustc on earlier versions
[05:11:07] <npm> quick question: anyone here know whether dynamic libraries are POSIX88 or POSIX01?
[05:11:18] <rab> x64
[05:11:27] <npm> I'm gonna put it in POSIX88 if nobody knows
[05:11:38] <desophos> Dr-Emann: clone doesn't seem to change anything
[05:11:41] *** Quits: detsak (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[05:11:52] *** Joins: nyx (ydoc@moz-naocu2.einic.org)
[05:12:18] <Dr-Emann> desophos: You have to bound it, and then actually do the clone. http://is.gd/Xczjvh
[05:12:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:12:41] *** Joins: singingcoyote (Mibbit@moz-ti32bk.dsl-w.verizon.net)
[05:12:45] <Dr-Emann> (it won't actually run because the playpen doesn't have the rand crate from cargo
[05:12:47] <cmr> rab: the only reason that error can happen is if your toolchain is broken or misconfigured. does gcc -fPIE work?
[05:12:51] <rab> is 1.0 having dodgy problems like this? i'm just runnign through the basic start stuff 
[05:12:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:12:59] <npm> holy cow, libc really is a mess
[05:13:03] <cmr> no, 1.0 is not having dodgy problems.
[05:13:27] *** Joins: alonlevy (alon@moz-nbm25c.012.net.il)
[05:14:03] <desophos> Dr-Emann: oh ok, i didn't realize that clone doesn't do anything without the bound; shouldn't it raise some error?
[05:14:11] <desophos> it's just ignored?
[05:14:17] <Mutabah> rab: How did you install rustc?
[05:14:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:14:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:15:14] <rab> actually, i got the download from rust-lang through browser download and extracted. Maybe i shoud lditch this and reinstall with curl
[05:15:32] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[05:15:43] <Mutabah> rab: did you run install.sh
[05:15:48] <rab> y
[05:16:08] *** Quits: singingcoyote (Mibbit@moz-ti32bk.dsl-w.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:16:15] <Dr-Emann> desophos: & references are cloneable (because they're copyable). You were probably accidentally just cloning the reference instead of the actual item.
[05:16:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:16:24] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Connection closed)
[05:16:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:16:48] <npm> oop, nvm, dynamic loading's Posix 01
[05:17:59] <desophos> Dr-Emann: hmm, okay. thanks!
[05:18:16] <Mutabah> rab: I'd suggest running uninstall, and reinstalling
[05:18:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:18:20] <desophos> Dr-Emann: ah okay, yeah i see, i was
[05:18:36] <Dr-Emann> desophos: You could consider not cloning, and actually returning a Vec<&T>.
[05:18:42] <rab> ok. thanks Mutabah
[05:18:42] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[05:18:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:19:07] <Dr-Emann> that's actually probably the "right" thing to do.
[05:19:11] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[05:19:16] <Layl> is there any solution for this https://users.rust-lang.org/t/lifetime-constraint-verbosity-on-associated-items/1180
[05:19:20] <Layl> because this is just not doable
[05:19:25] <Layl> it's taking too much time to do anything right now
[05:20:00] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[05:20:04] <desophos> Dr-Emann: can i dereference them once the fn returns them?
[05:20:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:20:32] <desophos> i don't think i want references; this is for a struct generating values for itself
[05:20:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:21:29] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[05:22:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:22:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:22:53] *** Joins: dawehner (quassel@moz-jms.k95.62.64.IP)
[05:23:15] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[05:23:17] <npm> what is the target os nacl?
[05:23:22] <npm> I've never heard of it
[05:23:43] *** Joins: leshow (leshow@moz-arr71o.adsl.inet-telecom.org)
[05:23:55] <desophos> Dr-Emann: sorry if i'm making you facepalm with my noobiness :)
[05:24:01] *** Quits: sawrubh (uid6719@moz-sr8l1j.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[05:24:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:24:30] <_habnabit> is there a way to say "lifetime 'a will necessarily be longer than lifetime 'b"?
[05:24:35] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[05:24:36] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:25:00] <SpaceManiac> 'a: 'b
[05:25:09] <_habnabit> oh, okay
[05:25:11] <cmr> npm: chrome's native client.
[05:25:27] *** Quits: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[05:25:32] <npm> ping huon
[05:25:47] <Dr-Emann> desophos: You can do anything you can do with references. You can call methods on them (non-mutating methods. This includes clone).
[05:26:03] <_habnabit> SpaceManiac, awesome; that works perfectly
[05:26:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:26:23] <_habnabit> is that in the book...? i don't remember seeing it :I
[05:26:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:26:37] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[05:27:22] <npm> cmr: thanks :)
[05:27:30] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:28:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:28:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:28:31] <desophos> Dr-Emann: alright, i wasn't sure if there would be some ownership issue there
[05:28:59] <npm> anyone on a Mac, who would mind compiling and running a short C program?
[05:29:00] <Dr-Emann> desophos: Rust will make sure the references don't outlive your original slice.
[05:29:07] <cmr> npm: sure.
[05:29:22] <npm> one sec, I actually need to rewrite it :P
[05:30:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:30:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:30:47] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:31:13] *** Quits: alonlevy (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[05:31:19] <npm> cmr: https://gist.github.com/GBGamer/d8e6bd0b28be94c14d2e
[05:31:30] <npm> just compile it with a normal c compiler
[05:31:43] <desophos> Dr-Emann: i think that's a problem, because i want the struct to keep these values
[05:31:51] <npm> Any BSD guys, that'd be helpful as well
[05:31:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:32:14] <npm> pretty much any OS besides Windows
[05:32:25] <npm> (and I've already got Linux/Mac)
[05:32:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:32:43] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[05:33:00] *** Parts: englishm (english@moz-bgtjtv.egr7.7q56.0306.2602.IP) ("")
[05:33:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:34:03] *** Joins: alonlevy (alon@moz-nbm25c.012.net.il)
[05:34:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:34:36] *** Joins: dawehner-afk (quassel@moz-6a2pbf.mullvad.net)
[05:34:37] *** Joins: flugsio (flugsio@moz-283uu4.tbcn.telia.com)
[05:35:00] *** Quits: ty (ty@moz-i6c4to.wa.comcast.net) (Quit: leaving)
[05:35:05] <DanC> in python, I can make a string of n As and m Bs like this: 'A' * n + 'B' * m
[05:35:09] <DanC> how do I do that in rust?
[05:35:39] <DanC> rusti: 1+1
[05:35:40] -playbot- 2
[05:35:44] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[05:35:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:35:57] <DanC> rusti: iter::repeat('A').take(4)
[05:35:57] <sp3d> iter::repeat('A').take(n).chain(iter::repeat('B').take(m))
[05:35:58] -playbot- <anon>:9:9: 9:21 error: failed to resolve. Use of undeclared type or module `iter`
[05:35:58] -playbot- <anon>:9         iter::repeat('A').take(4)
[05:35:58] -playbot- output truncated; full output at: http://bit.ly/1Ha4uXn
[05:36:09] <DanC> rusti: use std::iter; iter::repeat('A').take(4)
[05:36:10] -playbot- output truncated; full output at: http://bit.ly/1GgKB4S
[05:36:13] *** Quits: dawehner (quassel@moz-jms.k95.62.64.IP) (Ping timeout: 121 seconds)
[05:36:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:36:48] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[05:36:48] *** Joins: zynisch_o7 (zynisch_o7@moz-6eh1ju.dyn.optonline.net)
[05:37:18] *** Joins: Jesin (Jesin@moz-a3uhsd.fios.verizon.net)
[05:37:25] <sp3d> rusti: use std::iter; iter::repeat('A').take(4).chain(iter::repeat('B').take(5)).collect::<String>()
[05:37:27] -playbot- "AAAABBBBB"
[05:37:43] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[05:37:49] <DanC> thanks!
[05:37:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:37:59] *** Joins: bytes (bytes@moz-17q3p8.hstntx.sbcglobal.net)
[05:38:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:38:36] <bytes> so, i'm working on the dining philosophers example in the book- and its quite confusing
[05:38:46] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Ping timeout: 121 seconds)
[05:38:54] *** Joins: __ (Mibbit@moz-rhbgl4.internode.on.net)
[05:39:04] <bytes> probably just the syntax tho
[05:39:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:39:48] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[05:39:59] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[05:40:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:40:15] <npm> bytes: that's pretty advanced for someone just starting with Rust
[05:40:19] *** Joins: mohawk (Mibbit@moz-4oj.81a.150.107.IP)
[05:40:27] <npm> you might want to check out rustbyexample.com
[05:40:37] *** Quits: tormoz (geov@moz-3q6.afp.124.178.IP) (Connection closed)
[05:40:57] <bytes> npm, i assumed it was for beginners because its in chapter 3 and the guessing gamew as quite easy to follow
[05:41:28] <DanC> sigh. how do I get a &str from a String again?
[05:41:35] <DanC> as_str() is unstable
[05:41:37] <cmr> DanC: &foo
[05:41:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:41:45] <cmr> String implements Deref<Target=str>
[05:41:52] <npm> bytes: *shrug*
[05:41:54] <npm> I dunno
[05:42:09] <npm> but do check out rustbyexample, it's the best for beginning
[05:42:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:42:14] <DanC> &foo ... wild.
[05:42:15] *** Joins: mnemnion_ (mnemnion@moz-kf3boi.ca.comcast.net)
[05:42:20] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[05:42:59] <cmr> npm: 1 2 8 4.
[05:43:20] <npm> cmr: thank you very much
[05:43:23] <cmr> npm: also for the other platforms just dig through the headers on svn or something.
[05:43:23] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:43:34] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[05:43:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:43:43] *** Quits: tabo (tabo@moz-sjg.81e.67.181.IP) (Connection closed)
[05:43:53] <_habnabit> talchas, aha! i think i got it to where i want it: http://is.gd/KvQwwg
[05:44:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:44:17] <JustAPerson> is it possible to get cargo to only compile certain dependencies as release? e.g. not to waste time optimizing log/env_logger/docopt/etc
[05:44:25] <_habnabit> talchas, once i learned how to specify subordinate lifetimes, everything else clicked into place
[05:44:29] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[05:44:39] <JustAPerson> actually, to compile no dependencies as release but to compile the actual target lib/bin as release?
[05:45:07] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[05:45:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:45:54] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[05:46:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:46:33] *** Quits: sgr__ (Adium@moz-r42oc1.ca.comcast.net) (Quit: Leaving.)
[05:47:20] <Dr-Emann> desophos: A kinda silly, more generic version: http://is.gd/SaJo3K
[05:47:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:47:52] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:48:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:48:39] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[05:48:54] <desophos> Dr-Emann: wow, nice haha
[05:49:01] <desophos> it'll take me a while to understand that one
[05:49:12] <tmtwd>     let v = vec![1, 2, 3];
[05:49:13] <tmtwd> print each number
[05:49:13] <tmtwd> for i in &v {
[05:49:13] <tmtwd>     println!("{}", i);
[05:49:13] *** tmtwd was kicked by belew.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[05:49:28] *** Joins: Twinklebear (Twinklebear@moz-md3lfc.s4q2.52kr.030a.2602.IP)
[05:49:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:49:46] <bstrie> Havvy: is rustbot written in rust?
[05:50:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:50:22] <Dr-Emann> playbot is written in python, I believe (used to be, anyway)
[05:50:33] <blaenk> yeah
[05:50:47] *** Quits: notptr (nullpoint@moz-8sh5de.res.rr.com) (Quit: WeeChat 1.2)
[05:50:50] *** Quits: lfairy (lfairy@moz-hve4m3.ihug.co.nz) (Connection closed)
[05:51:02] *** Joins: mixi1 (mixi@moz-s95341.ca.comcast.net)
[05:51:07] *** Joins: Douman (Douman@moz-bfj98a.dynamic.mts-nn.ru)
[05:51:25] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[05:51:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:51:38] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[05:51:45] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:51:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:52:03] *** Joins: danyel_ (danyel@moz-66dgla.dip0.t-ipconnect.de)
[05:52:10] <bstrie> Dr-Emann blaenk: thanks
[05:52:21] *** Quits: danyel (danyel@moz-q4i9k5.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[05:52:21] *** danyel_ is now known as danyel
[05:52:23] <blaenk> yw bro
[05:52:33] <tmtwd> http://is.gd/UDCHeW
[05:52:44] <tmtwd> is this for loop being passed by reference?
[05:52:52] <blaenk> yes
[05:52:58] <blaenk> notice 'in &v'
[05:53:02] <tmtwd> i see
[05:53:03] <rab> reinstalled and also installed llvm. but here's the full paste from the failed complie
[05:53:03] <blaenk> so every element will be a reference
[05:53:07] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[05:53:11] <rab> rab@notrustic ~/projects/hello_world $ rustc main.rs error: linking with `cc` failed: exit code: 1 note: "cc" "-Wl,--as-needed" "-m64" "-L" "/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-o" "main" "main.o" "-Wl,--whole-archive" "-lmorestack" "-Wl,--no-whole-archive" "-Wl,--gc-sections" "-pie" "-nodefaultlibs" "/usr/local/lib/rustlib/x86_64-unknown-li
[05:53:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:53:43] *** Quits: acmiyaguchi (acmiyaguchi@moz-knv031.res.rr.com) (Ping timeout: 121 seconds)
[05:53:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:53:55] <rab> looks like it was chopped
[05:54:04] <niconii> rab: might wanna put it in pastebin
[05:55:02] <rab> sorry
[05:55:06] <Dr-Emann> tmtwd: Here's a trick I often use: http://is.gd/rDhsb0. If you try assigning something to (), it'll tell you the type of whatever you assigned. 
[05:55:35] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[05:55:48] *** Quits: jweathersby (Adium@moz-djc.9vm.130.40.IP) (Quit: Leaving.)
[05:55:49] *** Quits: WindowsBunny (Peter@moz-prmara.east.verizon.net) (Ping timeout: 121 seconds)
[05:55:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:55:53] *** Joins: ogham (rally@moz-d0h.d7f.6.31.IP)
[05:56:09] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[05:56:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:56:36] *** Joins: WindowsBunny (Peter@moz-prmara.east.verizon.net)
[05:56:39] *** Quits: mattico (Matthew@moz-d3u46j.mpls.qwest.net) (Quit: Leaving)
[05:57:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:58:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[05:58:53] <_habnabit> haha; RawFd doesn't implement AsRawFd that returns self
[05:59:41] <nwr> In "impl<'a> Foo + 'a", what is "+ 'a" called?/what do it do?
[05:59:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[05:59:50] <Havvy> bstrie:  JavaScript
[05:59:53] <rab> ok. i'll play the complete idiot. i pasted it into pastebin but i don't grok how to throw you the link
[05:59:57] <blaenk> it's a lifetime bound
[06:00:04] <blaenk> but I've never seen that syntax
[06:00:08] <blaenk> that's legal?
[06:00:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:00:26] <Manishearth> that is legal
[06:00:28] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[06:00:34] <blaenk> crazy
[06:00:34] <Manishearth> blaenk: Foo+'a is a type, technically
[06:00:37] <Manishearth> dynamically sized
[06:00:39] <Manishearth> but a type nonetheless
[06:00:45] <Manishearth> you can do inpl Trait
[06:00:50] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[06:00:51] <Manishearth> or impl Trait+MarkerTrait
[06:00:56] <Manishearth> or impl Trait+'lifetime
[06:00:59] <blaenk> yeah I knew that much but I guess I never considered that you would do + too
[06:01:01] <Dr-Emann> _habnabit: Hmm, do we even need AsRawFd anymore, or could we use From implementations?
[06:01:08] <Manishearth> whether or not you should is a different thing :p
[06:01:12] <blaenk> lol
[06:01:13] <bstrie> Havvy: I ask because I have someone asking if there's any solution to making irc bots in rust :P
[06:01:22] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[06:01:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:02:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:02:32] *** Quits: zynisch_o7 (zynisch_o7@moz-6eh1ju.dyn.optonline.net) (Connection closed)
[06:02:58] <bstrie> burntsushi: does there exist a version of the regex crate that works on 1.0?
[06:03:07] *** Quits: danyel (danyel@moz-66dgla.dip0.t-ipconnect.de) (Client exited)
[06:03:08] <blaenk> all of them no?
[06:03:10] <blaenk> er not all of them
[06:03:15] <blaenk> but the current oen does
[06:03:16] <unfo-> bstrie, i am presonally going to make irc helpers in rust, but i'm using the ii bot to provide irc connectivity
[06:03:21] <blaenk> it doesn't use any features
[06:03:27] <blaenk> regex_macros won't work on 1.0 though for sure
[06:03:29] <blaenk> cause syn ext
[06:03:34] <bstrie> blaenk: apparently the latest release fails because of std::str::pattern::Pattern
[06:03:38] <blaenk> daww
[06:03:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:03:43] <unfo-> bstrie, ii bot provides you with filehandles for communicating to/from server and channels and privmsg
[06:03:43] <blaenk> really? hmmm
[06:03:46] <blaenk> like how recent, let me see
[06:04:02] <blaenk> nah yeah bstrie it works?
[06:04:04] <blaenk> did you try cargo update?
[06:04:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:04:08] <bstrie> blaenk: or wait, maybe this person is just on an old beta <_<
[06:04:09] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[06:04:11] * Manishearth ticks off "fix rustc" from his todo list
[06:04:13] <blaenk> oh haha
[06:04:22] <bstrie> Manishearth: oh sweet, rustc is perfect? nice
[06:04:28] <Manishearth> lol
[06:04:28] <Havvy> I've seen a couple irc crates already, though I don't remember their names.
[06:04:30] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[06:04:30] <Havvy> !crate irc
[06:04:31] <rustbot> irc (0.8.14) - A simple, thread-safe IRC client library. -> https://crates.io/crates/irc
[06:04:36] <blaenk> waaat
[06:04:41] <Manishearth> !crate !crate
[06:04:41] <rustbot> Unsupported characters in '!crate' detected.
[06:04:42] <blaenk> dat crate command
[06:04:45] <Manishearth> aw
[06:04:54] <Manishearth> !crate tenacious
[06:04:55] <rustbot> tenacious (0.0.3) - A plugin to prevent certain types from being moved -> https://crates.io/crates/tenacious
[06:04:55] <bstrie> unfo-: what is ii bot?
[06:04:57] <Manishearth> :D
[06:05:00] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[06:05:07] <unfo-> bstrie, http://tools.suckless.org/ii/
[06:05:11] <bstrie> burntsushi: n/m :P
[06:05:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:05:49] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[06:05:50] *** Quits: orangeshark (erik@moz-phcv8r.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[06:06:02] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[06:06:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:06:36] *** Quits: dawehner-afk (quassel@moz-6a2pbf.mullvad.net) (Ping timeout: 121 seconds)
[06:06:56] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[06:07:00] <Havvy> [Yes, the crate command should come in quite useful.]
[06:07:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:07:59] <Manishearth> !crate Havvy
[06:07:59] <rustbot> Crate 'Havvy' does not exist.
[06:08:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:08:04] <Manishearth> such disappoint
[06:08:45] <XMPPwocky> !crate ' OR 'a' == 'a'; --
[06:08:45] <rustbot> Unsupported characters in ''' detected.
[06:08:45] <Yurume> !crate crate
[06:08:46] <rustbot> crate (0.0.2) - ... -> https://crates.io/crates/crate
[06:08:47] <XMPPwocky> drat
[06:08:51] <Yurume> wait, wat
[06:09:02] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: 堕入 /dev/null)
[06:09:07] <blaenk> by mahkoh
[06:09:14] <Yurume> haha.
[06:09:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:09:49] <doomrobo> I don't mean to be a nuisance. If somebody would critique my <600 line "shred" (coreutils) utility, it would be much appreciated. This is the first refactor of my first real Rust program. https://github.com/doomrobo/coreutils/blob/ebfed5c4b8202aaef7f466146b97d9d6689d2566/src/shred/shred.rs
[06:10:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:11:05] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[06:11:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:11:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:12:05] <Havvy> XMPPwocky:  Only sees the first word, only allows [a-zA-Z-_0-9]
[06:12:17] <rab> linking with `cc` failed: exit code: 1
[06:12:32] <Havvy> And it's just an HTTP GET request to a JSON API.
[06:12:44] <blaenk> anyone here use rust on windows?
[06:12:58] <SpaceManiac> I do
[06:13:24] <blaenk> I have a crate that builds a very simple, no dependencies c library (hoedown) but it can never seem to link things properly
[06:13:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:13:31] <blaenk> have you done any of that? rust ffi on windows?
[06:13:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:14:27] <SpaceManiac> no buildscript stuff specifically, but a fair amount of ffi
[06:14:51] <blaenk> ok. how are you building the ffi stuff? with gcc?
[06:15:02] <doomrobo> as predicted, today's nightly cargo compiles with --release about 100x faster than yesterdays
[06:15:02] <blaenk> or you're not building anything?
[06:15:11] *** Quits: Twisol (Twisol@moz-0033n4.res.rr.com) (Ping timeout: 121 seconds)
[06:15:16] <blaenk> you said no build script stuff so I guess not, but are you by any chance?
[06:15:19] <SpaceManiac> with gcc or using prebuilt binaries depending on the situation
[06:15:23] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:15:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:15:28] <blaenk> and where did you get your gcc. the one that comes with rust?
[06:15:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:15:52] <SpaceManiac> the gcc is mingw_w64's, but it's compatible as far as I can tell
[06:15:53] <blaenk> cause the library will build, everything is fine, but as soon as I actually try to use the crate, which I guess is when the library would be linked in, it fails
[06:15:57] *** Joins: Twisol (Twisol@moz-0033n4.res.rr.com)
[06:16:00] <blaenk> I'll have to try that
[06:16:02] <SpaceManiac> what sort of failures are you seeing?
[06:16:11] *** Quits: v21 (vee@moz-2gv.oe1.4.171.IP) (Ping timeout: 121 seconds)
[06:16:15] <rab> linuxmint 17, so ubuntu base. i added llvm with apt-get from debian
[06:16:38] <blaenk> SpaceManiac: do you think you could try building my package? I would really really appreciate it. the reason is that I'm not sure if it's just my environment that's misconfigured
[06:16:44] <blaenk> !crate hoedown
[06:16:44] <rustbot> hoedown (3.0.2) - bindings for the Hoedown markdown processor -> https://crates.io/crates/hoedown
[06:16:49] <blaenk> if not now, whenever you get a chance
[06:17:02] <blaenk> building it works. testing it (or any use of the crate in a binary) is what fails
[06:17:06] <bstrie> doomrobo: why does it compile faster?
[06:17:08] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:17:09] <blaenk> in the linking process (undefined symbol errors)
[06:17:11] *** Quits: nwr (nwr@moz-lvg.sgf.141.50.IP) (Ping timeout: 121 seconds)
[06:17:20] <blaenk> I'll try it again right now one second
[06:17:22] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:17:29] *** Joins: bjeanes (sid16847@moz-8imd03.uxbridge.irccloud.com)
[06:17:35] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[06:17:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:18:02] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[06:18:07] <blaenk> it's just that I want to get it working on windows, since there's no reason it shouldn't work (hoedown is self-contained)
[06:18:15] *** Joins: dawehner (quassel@moz-pfjhmu.mullvad.net)
[06:18:31] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[06:18:50] <doomrobo> bstrie, there was one new LLVM optimizing step that took a massive hit on compilation time (>3min for a <600 line file with 3 small dependencies). The application of that optimization was pared down in a PR yesterday. Now it's a lot better
[06:19:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:19:21] <bstrie> doomrobo: yikes. can you link me to the pr that fixed it?
[06:19:33] <bjeanes> Is it possible to have a function on a struct have different implementations based on the type of the argument? I've been trying for like 15 minutes to no avail with generics but I can not seem to get anything to compile. I was expecting to be able to define a function foo() such that MyType::foo(some_string) could be implemented differently than
[06:19:33] <bjeanes> MyType::foo(some_bytes), for example
[06:19:35] <blaenk> SpaceManiac: yeah I get errors like 'undefined reference to `some_function`, I'm pretty sure it's not linking it in, or something
[06:19:40] <bstrie> blaenk: now this person is alleging that regex is using feature(core)
[06:19:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:19:57] *** Joins: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at)
[06:20:02] <SpaceManiac> blaenk: I'm hitting problems in build because I'm using a 32-bit rustc
[06:20:17] <blaenk> hmmm, and my crate requires 64-bit?
[06:20:23] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[06:20:26] <blaenk> I think it does huh, I'll take a look thanks
[06:20:38] <blaenk> haha, yeah I checked, coincidentally, just a few hours ago before you mentioned any of this, because I wanted to be sure my crate was stable-ready, so I was checking my dependencies (regex being one of them)
[06:20:46] <blaenk> and the regex crate doesn't use any features at the moment, it's stable
[06:20:58] <blaenk> make sure they run `cargo update` else they'll still be on the old version
[06:21:00] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:21:00] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[06:21:02] <SpaceManiac> blaenk: https://gist.github.com/SpaceManiac/d8fd5eec9071b479f1dd
[06:21:10] *** Joins: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP)
[06:21:12] <bstrie> blaenk: definitely using features https://github.com/rust-lang/regex/blob/master/src/lib.rs
[06:21:15] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[06:21:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:21:35] <doomrobo> bstrie, dammit, I can't find the commit. eddyb was the one who told me about it last night
[06:21:36] <blaenk> bstrie: ahh yeah if the pattern feature is enabled, I'll see if that's a default feature
[06:21:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:22:01] <blaenk> nah bstrie, that's an optional feature from what I can tell
[06:22:11] <bstrie> I see
[06:22:12] <blaenk> so unless you built it with cargo build --features pattern, it wouldn't use feature(core)
[06:22:23] <blaenk> but presumably your friend didn't, so idk
[06:22:29] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[06:22:35] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[06:23:01] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[06:23:09] <bstrie> blaenk: they may have, I'll instruct them. thanks
[06:23:13] <blaenk> yup
[06:23:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:23:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:23:56] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:24:00] *** Quits: dinfuehr (dinfuehr@moz-jskej7.highway.telekom.at) (Ping timeout: 121 seconds)
[06:24:37] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[06:25:04] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[06:25:11] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:25:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:25:53] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[06:26:34] *** Joins: JuggleTux (tux@moz-ikqjs5.adslplus.ch)
[06:27:04] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[06:27:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:27:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:27:46] *** Joins: andreabedini (andreabedin@moz-fpvfar.iinet.net.au)
[06:28:54] *** Joins: v21 (vee@moz-jfv.2g3.207.223.IP)
[06:29:03] *** Quits: desophos (desophos@moz-tm7cbj.98ku.27p0.6000.2606.IP) (Connection closed)
[06:29:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:29:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:29:56] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[06:30:04] <blaenk> SpaceManiac: if you have a chance, can you pull my fix and try building again?
[06:30:14] <blaenk> thanks for letting me know about it either way
[06:30:20] *** Joins: Murarth (Murarth@moz-fsf.78t.166.46.IP)
[06:30:40] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:30:43] <SpaceManiac> compiles now, I'll look into the link problems
[06:30:56] <blaenk> yeah, `cargo test` should show the link errors
[06:31:02] <blaenk> or hopefully not rather, hopefully it's just my system
[06:31:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:31:10] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[06:31:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:31:29] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[06:31:55] *** Joins: Pavel (Pavel@moz-a8qgi0.lidos.cz)
[06:32:16] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[06:32:22] *** Quits: dawehner (quassel@moz-pfjhmu.mullvad.net) (Ping timeout: 121 seconds)
[06:32:30] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[06:32:35] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:33:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:33:21] <Pavel> Hello Rust people. Since Rust is my first "low level" language and I'd like to know more about low level stuff, here is my question: I've learned how compilers translate into assembly, how assembly and CPUs work...but I have no idea how Operating Systems fit in. Can anyone recommend me some literature ?
[06:33:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:33:57] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[06:34:50] <SpaceManiac> blaenk: first thing, you were missing the directive to link libhoedown: add #[link(name="hoedown")] before ffi.rs:129
[06:34:52] *** Joins: acgtyrant (acgtyrant@moz-crk.4sk.186.39.IP)
[06:34:52] <doomrobo> Pavel, wiki.osdev.org is pretty good
[06:34:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:35:01] <SpaceManiac> after that I get some error like maybe libhoedown.a is malformed or something
[06:35:21] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Quit: I'm out)
[06:35:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:35:32] <blaenk> thanks SpaceManiac, I thought that we didn't do link directives in code anymore, that it should be done via cargo, that's why I removed it
[06:35:39] <blaenk> hmmm
[06:35:53] <Amaranth> Oh hey there SpaceManiac
[06:35:59] <SpaceManiac> Allo
[06:36:20] *** Quits: Twinklebear (Twinklebear@moz-md3lfc.s4q2.52kr.030a.2602.IP) (Quit: Leaving)
[06:36:29] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[06:36:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:37:11] <blaenk> does anyone know about that? am I misremembering? I thought that if you used cargo, you weren't really supposed to use the link attr anymore
[06:37:18] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[06:37:20] <blaenk> definitely gonna go with it though since it gives results like you said
[06:37:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:37:29] *** Quits: zzing (textual@moz-hmnshs.cable.rogers.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:37:48] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[06:37:50] <blaenk> yeah SpaceManiac I see that error now too!
[06:38:05] <blaenk> skipping incompatible <path to .a file> when searching for -lhoedown
[06:38:08] <blaenk> is that something like what you got?
[06:38:23] *** Quits: forgottenone (forgottenon@moz-4cl.u43.45.92.IP) (Quit: Konversation terminated!)
[06:38:38] <SpaceManiac> I got: member ...\libhoedown.a(autolink.o) in archive is not an object
[06:38:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:39:10] <SpaceManiac> but your error is consistent with libhoedown.a being a different arch than rustc wants
[06:39:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:39:44] <SpaceManiac> (i.e. you need to compile libhoedown in 64-bit mode if rustc is 64-bit)
[06:40:06] <blaenk> oh wow really?? maybe the mingw I installed isn't 64bit that must be it
[06:40:21] <blaenk> you said you use mingw_w64 or something right, I'll check that out
[06:40:32] <blaenk> cause I just got regular mingw
[06:40:33] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[06:40:43] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[06:40:45] *** Joins: nwr (nwr@moz-flo.e0u.141.50.IP)
[06:40:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:41:02] <SpaceManiac> mingw-w64 is a fork of mingw that supports both 32-bit and 64-bit compilers
[06:41:11] <blaenk> wow yeah, I just realized I have 32 bit mingw
[06:41:14] <blaenk> dumb, lol
[06:41:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:41:24] <blaenk> gonna go for the 64bit and then look at the error you got
[06:41:40] *** Quits: __ (Mibbit@moz-rhbgl4.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:42:16] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[06:42:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:42:50] <npm> it would be really nice if io was its own lib
[06:43:02] <npm> For people who want io, but don't want the stdlib
[06:43:04] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Ping timeout: 121 seconds)
[06:43:12] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[06:43:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:43:26] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:43:35] <npm> b/c io's kind of necessary...
[06:43:47] <npm> or at least, very useful
[06:43:59] <Pavel> doomrobo, thanks
[06:44:22] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:44:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:45:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:45:34] *** Joins: fyolnish (fyolnish@moz-alv0us.yournet.ne.jp)
[06:45:54] *** Quits: nwr (nwr@moz-flo.e0u.141.50.IP) (Ping timeout: 121 seconds)
[06:45:56] *** Joins: mindtree (Mitch@moz-0oi8sr.iprimus.net.au)
[06:46:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:46:58] *** Joins: blandor (blandor@moz-l64.vba.186.118.IP)
[06:47:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:47:11] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[06:47:16] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[06:48:29] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[06:48:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:48:41] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[06:49:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:49:15] *** Joins: mt2 (mt2@moz-a76qqb.ph.cox.net)
[06:49:31] <_habnabit> so there's no way to explicitly indicate which outer variables i want to move and which i want to borrow in a closure, right?
[06:49:33] <mt2> hey guys, is there a way to exit main, say after printing a usage?
[06:49:37] *** Quits: doomrobo (doomrobo@moz-tj2e6v.261j.6edk.2000.2604.IP) (Quit: Leaving)
[06:50:16] *** Quits: slimsag (Mibbit@moz-qrnu8n.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:50:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:50:53] <npm> mt2: return;
[06:51:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:51:15] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:51:20] <mt2> thanks :) was worried about calling the keyword explicitly
[06:51:23] <npm> _habnabit: pretty sure?
[06:51:23] <mt2> but I guess it’s ok there
[06:51:34] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Connection closed)
[06:51:38] <npm> mt2: yeah, don't be afraid of return
[06:51:57] <npm> that's what it's useful for, breaking out of functions early
[06:52:00] <bjeanes> Is it possible to define Concrete::method(T) -> Concrete, where multiple impl can be given for each T you want to support? I.e. dispatch based on type of the argument? I can't figure it out so far with generics
[06:52:02] <mt2> does anyone know if the contents of Cargo.toml are accessible to the program itself?
[06:52:11] <mt2> i.e., the version info
[06:52:11] <cmr> mt2: they are not.
[06:52:18] <_habnabit> npm, you mean, you're pretty sure there's a way? i didn't see anything in the book or http://huonw.github.io/blog/2015/05/finding-closure-in-rust/ about it
[06:52:31] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[06:52:32] <npm> _habnabit: I'm pretty sure you're right
[06:52:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:52:35] <cmr> _habnabit: You need to do it "manually", but doing stuff like `let x = &x` and capturing x by-move.
[06:52:50] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:52:59] <_habnabit> cmr, where would i do `let x = &x` ? inside or outside the capturing closure?
[06:53:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:53:01] <npm> oh listen to cmr then
[06:53:29] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[06:53:34] <cmr> _habnabit: outside.
[06:53:38] <_habnabit> cmr, ok; thanks
[06:54:32] <SpaceManiac> blaenk: looks like you can add `links = "..."` under [package] in Cargo.toml rather than using link attributes, if you have a custom build script (which you do)
[06:54:44] <blaenk> ohhh
[06:54:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:55:08] <blaenk> thanks SpaceManiac. right now I'm looking into why I'm still getting the same error despite being on mingw-64 now. then again, I don't remember if I have 64-bit rust or not. gonna check
[06:55:23] <blaenk> well I do have 64bit yeah since mine built before my fix
[06:55:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:55:30] <SpaceManiac> rustc -vV if you want to be sure
[06:55:42] <blaenk> oh thank you. yeah 64bit
[06:55:55] <blaenk> I was about to check the compiled .a file with nm, or whatever program one uses
[06:55:56] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Quit: WeeChat 1.0.1)
[06:56:00] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[06:56:29] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[06:56:54] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[06:56:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:57:08] *** Joins: Rustee (Mibbit@moz-tvs.d1s.38.106.IP)
[06:57:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:57:22] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[06:57:24] *** Joins: hardliner (hardliner@moz-1tk.ggs.235.91.IP)
[06:57:31] <hardliner> hooray
[06:58:11] <Rustee> hello everyone
[06:58:24] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[06:58:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[06:59:07] *** Quits: Rustee (Mibbit@moz-tvs.d1s.38.106.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:59:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[06:59:38] <hardliner> congratulations, now we have 1.0 rust!
[06:59:54] *** Quits: gingermusketeer (gingermuske@moz-ffaaep.compute.amazonaws.com) (Connection closed)
[06:59:58] *** Joins: gingermusketeer (gingermuske@moz-qs3dn3.compute.amazonaws.com)
[07:00:16] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[07:00:28] <niconii> yep!
[07:00:43] *** Quits: lbn (lbn@moz-h4eamh.cable.virginm.net) (Quit: Leaving.)
[07:00:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:00:54] <npm> is it possible to get the stdin FILE * on Linux?
[07:01:14] <npm> can you just extern { *const FILE stdin }?
[07:01:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:01:24] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[07:01:34] <npm> or, I guess it's a *mut?
[07:01:57] <npm> what would I do for that?
[07:02:31] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[07:02:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:03:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:03:45] *** Quits: Pavel (Pavel@moz-a8qgi0.lidos.cz) (Quit: Leaving)
[07:03:55] *** Quits: bytes (bytes@moz-17q3p8.hstntx.sbcglobal.net) (Quit: Leaving)
[07:04:10] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[07:04:22] *** Joins: mib_qi9ldu (Mibbit@moz-05i3a1.members.linode.com)
[07:04:24] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[07:04:31] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[07:04:43] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[07:04:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:04:52] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[07:05:07] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[07:05:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:05:32] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[07:05:43] *** Quits: jminer (Instantbird@moz-b1u.qch.163.66.IP) (Ping timeout: 121 seconds)
[07:06:25] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[07:06:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:06:51] *** Joins: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi)
[07:07:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:07:11] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[07:07:16] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[07:07:34] <villev> is this a place to ask ultra-noob questions, or is there another channel for that?
[07:07:42] <cmr> villev: this is it!
[07:07:44] *** Quits: _td (tatterdemal@moz-73rrn8.ca.comcast.net) (Ping timeout: 121 seconds)
[07:07:56] *** Quits: chc4 (chc4@moz-mjph4c.ma.comcast.net) (Quit: AHHHHH BEES)
[07:08:37] *** Quits: mt2 (mt2@moz-a76qqb.ph.cox.net) (Client exited)
[07:08:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:08:47] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[07:09:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:09:08] <villev> ok :). so, I tried to use fs.walk_dir(), expecting to get recursive dir walker... but in for loop (or when calling walker.next(), the types inside the loop are still of type WalkDir - I can't see how I get to the actual item type
[07:09:29] <blaenk> SpaceManiac: yeah I ran `objdump -a libhoedown.a` and it shows each object file contained is "autolink.o:     file format pe-i386"
[07:09:33] <blaenk> so clearly that's building it with 32-bit
[07:09:39] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[07:09:42] <blaenk> I think
[07:09:43] <villev> (I know this is unstable class, I installed nightly precisely to get this functionality)
[07:10:12] *** Joins: wipeD (wipeD@moz-qlfoue.dip0.t-ipconnect.de)
[07:10:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:10:49] <Mutabah> villev: Do you match on the Result first?
[07:11:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:11:09] <Mutabah> villev: fs::walk_dir returns io::Result<WalkDir>
[07:11:19] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[07:11:22] <villev> mutabah, yes:  let walker = walk_dir(p).ok();
[07:11:26] <Twisol> npm: What do you want to use your 'stdin' handle for that Rust's Stdin isn't sufficient for?
[07:11:31] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[07:11:32] <Mutabah> villev: That returns an Option
[07:11:54] *** Quits: rab (Mibbit@moz-fub.cvq.227.63.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:11:57] <Mutabah> villev: (which also needs to be matched)
[07:12:03] <villev> aaaah, let me match the result then :)
[07:12:05] <npm> Twisol: fflush()
[07:12:12] <npm> (without flushing everything)
[07:12:14] *** Quits: mib_qi9ldu (Mibbit@moz-05i3a1.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[07:12:28] <Mutabah> villev: If this is meant as a short tool, use walk_dir(p).unwrap() (whcih will panic on an error)
[07:12:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:13:02] <SpaceManiac> blaenk: all objdump gives me is "File format not recognized", so something even worse is happening to me
[07:13:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:13:09] <blaenk> SpaceManiac: :/
[07:14:26] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Quit: WeeChat 1.0.1)
[07:14:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:14:52] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[07:15:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:15:05] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:15:19] <villev>     let walker = walk_dir(p).unwrap();
[07:15:21] <villev>     walker.foo();
[07:15:30] <villev>  error: no method named `foo` found for type `std::fs::WalkDir` in the current scope
[07:15:48] <villev> (äh, forgot next())
[07:15:56] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Ping timeout: 121 seconds)
[07:16:14] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[07:16:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:16:49] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[07:16:52] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Ping timeout: 121 seconds)
[07:16:57] <blaenk> SpaceManiac: yesss got it working
[07:16:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:17:06] <blaenk> I needed to put my mingw32 paths before all others in the PATH
[07:17:12] <SpaceManiac> aha
[07:17:14] <villev> yup, the stuff started working, thanks Mutabah
[07:17:22] <blaenk> thanks a ton SpaceManiac, you gave me direction
[07:17:24] <maximih> Hi everyone. Is there a way to specify a lifetime on a 'ref' in an if let construct, e.g. if let Some(ref val) = ..?
[07:17:43] <blaenk> SpaceManiac: I guess it was using a mix of different utilities so it wouldn't use all 64bit
[07:17:49] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[07:17:50] <SpaceManiac> mmhm
[07:17:55] <SpaceManiac> might be what's happening to me
[07:17:58] <blaenk> yeah
[07:18:03] <SpaceManiac> modifying libhoedown's makefile to set CC=gcc fixed things for me
[07:18:15] <SpaceManiac> I can only assume my cc is broken somehow
[07:18:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:18:32] <blaenk> ohhh I did that too, but it wasn't until I reordered my path that it worked, gonna try removing CC=gcc
[07:18:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:18:57] *** Quits: bombless (_@moz-q0lpqv.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[07:19:15] <kimundi> maximih: There isn't
[07:19:38] *** Joins: mcanders (carter@moz-nkh.g9o.171.216.IP)
[07:20:11] *** Quits: blandor (blandor@moz-l64.vba.186.118.IP) (Quit: This computer has gone to sleep)
[07:20:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:20:42] <blaenk> SpaceManiac: yeah it works without CC=gcc
[07:20:44] <blaenk> for me
[07:20:45] <maximih> kimundi: thanks. any way to make the ref live as long as my function?
[07:20:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:20:58] <SpaceManiac> hmm, it completely breaks down for me and just goes crazy
[07:21:01] <SpaceManiac> probably a config issue on my end
[07:21:02] <mcanders> is it safe to Send an Arc<ExampleStruct>  where ExampleStruct {x: Rc<OtherStruct>} ?
[07:21:02] *** Joins: ParadoxSpiral (ParadoxSpir@moz-qlumal.dip0.t-ipconnect.de)
[07:21:10] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[07:21:25] <_habnabit> can `cargo doc` build the documentation for std as well? it seems to have broken links to things in the std package when i build docs
[07:21:31] <kimundi> maximih: you need to create a reference to something that lives as long as your function for that to happen
[07:21:39] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Ping timeout: 121 seconds)
[07:21:56] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[07:22:05] <kimundi> mcanders: No
[07:22:22] <kimundi> mcanders: (Thats why this is not automatically Send)
[07:22:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:22:25] *** Joins: Grimsley (Grimsley@moz-pjlp59.dglo.vc9u.0306.2602.IP)
[07:22:37] *** Quits: ogham (rally@moz-d0h.d7f.6.31.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:22:47] <maximih> kimundi: thanks. any way to make the ref live as long as my function?
[07:22:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:22:57] <maximih> kimundi: sorry, I meant to write thanks :)
[07:23:06] <kimundi> :)
[07:24:20] *** Quits: ParadoxSpiral_ (ParadoxSpir@moz-44b9ff.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[07:24:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:24:22] <mcanders> kimundi: Do you know why?  It seems to me like you can guarantee that a Send will leave the Rc<OtherStruct> memory intact.  Isn't the only difference between an Arc and an Rc that an Arc wraps its counter in a mutex?
[07:24:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:24:50] <Mutabah> mcanders: Arc uses atomic operations
[07:25:12] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[07:25:29] *** Joins: eibwen (eibwen@moz-0op185.dip0.t-ipconnect.de)
[07:25:31] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[07:25:40] <kimundi> mcanders: with the Arc, you can get a &ExampleStruct from two different threads. If ExampleStruct derives Clone, then two differen threads might end up incrementing the inner Rc refcount
[07:26:17] <mcanders> kimundi: darn you're right.  i didn't think that through
[07:26:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:26:35] <mcanders> kimundi + Mutabah: thanks for your help :)
[07:26:37] *** Joins: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP)
[07:26:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:27:47] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Quit: Leaving)
[07:28:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:28:21] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[07:28:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:29:40] <SpaceManiac> is there a tag I can put on ``` blocks in docs so that it still highlights as Rust, but doesn't count as a test?
[07:30:11] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:30:31] <kimundi> ignore
[07:30:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:30:45] <kimundi> (I thinkl)
[07:31:07] <SpaceManiac> that did it, thanks
[07:31:13] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[07:31:29] <Murarth> You can also use no_run if you just want to ensure that the code compiles.
[07:32:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:32:10] <npm> good night all
[07:32:13] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[07:32:15] <npm> I need to sleep
[07:32:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:32:45] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[07:32:47] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[07:32:51] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Quit: exit(EXIT_I_WILL_GET_TO_MY_WORK_IN_THE_MORNING_I_PROMISE_DEFINITELY_NOT_PROCRASTINATING))
[07:33:34] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[07:33:59] *** Quits: cornelius (Mibbit@moz-a6v.a3k.212.218.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:34:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:34:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:36:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:36:23] *** Joins: grncdr1 (Adium@moz-m1g.e47.90.95.IP)
[07:36:29] *** Joins: autra (augustin@moz-8vusq4.abo.bbox.fr)
[07:36:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:36:49] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[07:36:50] *** Quits: qdbhg (qdbhg@moz-3fo.qtm.104.223.IP) (Connection closed)
[07:36:56] *** Quits: leshow (leshow@moz-arr71o.adsl.inet-telecom.org) (Ping timeout: 121 seconds)
[07:37:03] *** Quits: Murarth (Murarth@moz-fsf.78t.166.46.IP) (Quit: I have come here to chew bubblegum and kick ass. And I'm all out of bubblegum.)
[07:37:13] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[07:37:23] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[07:38:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:38:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:38:56] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[07:39:04] *** Quits: james4k__ (james@moz-g74jtt.consolidated.net) (Ping timeout: 121 seconds)
[07:39:44] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[07:39:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:40:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:40:39] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[07:41:27] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[07:41:35] *** Quits: alonlevy (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[07:41:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:42:15] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[07:42:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:42:32] <_habnabit> can you define an implementation of Add such that you can add two instances of different types?
[07:43:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:44:01] *** Quits: mcanders (carter@moz-nkh.g9o.171.216.IP) (Quit: Lost terminal)
[07:44:10] *** Quits: mohawk (Mibbit@moz-4oj.81a.150.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:44:15] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[07:44:15] <Twisol> _habnabit: I believe so. impl Add<Y> for X { type Output = Z; /* ... add 'add' function here ... */ }
[07:44:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:44:18] *** Quits: andreabedini (andreabedin@moz-fpvfar.iinet.net.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:44:26] *** Quits: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[07:44:29] <_habnabit> hmm, ok
[07:44:33] <Twisol> if I'm reading the docs correctly, that should let you add an X and a Y to get a Z
[07:44:45] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[07:45:02] <Twisol> also if I'm reading correctly, you'd have to do another impl (Add<X> for Y) to get addition in the reverse order
[07:45:06] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[07:45:15] <_habnabit> Twisol, so where it says Add<RHS = Self>, you can override the default Self by doing Add<Y> instead? i think i tried doing Add<RHS=Y>
[07:45:42] <_habnabit> ah, yes, that is how you do it
[07:45:47] <Twisol> Yes, I think that's the case. I'm not sure Rust lets you set type parameters by name instead of position, so that's likely the problem
[07:45:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:45:54] <Twisol> Excellent
[07:46:06] <_habnabit> ahhh, yes, it looks like the T<X=Y> is only for specifying associated types
[07:46:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:46:34] <Twisol> The ones in <> are input types; the 'type Output =' is an output type
[07:46:43] <_habnabit> http://is.gd/DoAl3x
[07:46:46] <_habnabit> cool
[07:47:16] <Twisol> ah, yup, I see.
[07:47:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:48:06] *** Joins: mr_fribble (Mibbit@moz-h5pmpm.mmphtn.sbcglobal.net)
[07:48:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:48:24] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[07:48:29] <Dabo> In detail, there may be a separate implementation for any <X> types, but each implementation must specify exactly *one* type for <X=Y> types
[07:48:35] <emilk> how does one index an array without any bunds checks (for perf)? I though there was unsafe_ref but I can't find it
[07:49:21] *** Joins: mib_9dxdcy (Mibbit@moz-h5pmpm.mmphtn.sbcglobal.net)
[07:49:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:50:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:50:28] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[07:50:43] <panicbit> emilk: I guess http://doc.rust-lang.org/nightly/std/primitive.slice.html#method.get_unchecked
[07:50:56] <tmtwd> when we use & , does that specify that the var is borrowed?
[07:51:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:52:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:52:27] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[07:52:34] <bstrie> tmtwd: that operator takes a reference, yes
[07:52:38] *** Joins: zeronone (Mibbit@moz-b7n.qpc.112.222.IP)
[07:52:57] <tmtwd> all references are borrowed iow?
[07:53:07] <bstrie> tmtwd: all references are subject to the borrow checker, yes
[07:53:16] *** Quits: Twisol (Twisol@moz-0033n4.res.rr.com) (Quit: )
[07:53:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:54:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:54:15] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[07:54:30] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[07:54:40] <emilk> panicbit: thanks!
[07:56:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:56:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:57:10] <emilk> error: use of unstable library feature 'core'
[07:57:17] <emilk> is there a way to override that?
[07:57:57] <panicbit> emilk: Not exactly. You gotta use nightlies.
[07:57:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[07:58:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[07:58:25] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:58:31] *** Quits: mixi1 (mixi@moz-s95341.ca.comcast.net) (Quit: Leaving)
[07:58:51] <emilk> I'm on channel=beta
[07:59:01] <emilk> oh... nm =)
[07:59:02] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[07:59:39] <panicbit> emilk: Hm, try stable. It doesn't seem to be marked unstable there
[07:59:50] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Quit: WeeChat 1.0.1)
[07:59:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:00:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:00:48] <panicbit> emilk: Assuming you meant get_unchecked
[08:00:50] *** Quits: autra (augustin@moz-8vusq4.abo.bbox.fr) (Ping timeout: 121 seconds)
[08:01:03] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[08:01:13] *** Joins: andreabedini (andreabedin@moz-fpvfar.iinet.net.au)
[08:01:45] *** Joins: autra (augustin@moz-6c0o5s.abo.bbox.fr)
[08:01:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:01:57] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[08:02:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:03:49] <emilk> I still get "unstable library feature 'core'" on nightly
[08:03:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:04:06] <emilk> trying to use std::simd
[08:04:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:04:26] *** Quits: panda (panda@moz-mf63qp.ca.comcast.net) (Connection closed)
[08:04:37] *** Joins: slimer (Mibbit@moz-f4vfor.dhcp.inet.fi)
[08:04:49] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:04:58] *** Quits: slimer (Mibbit@moz-f4vfor.dhcp.inet.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[08:05:08] *** Joins: squiddy (squiddy@moz-364tqj.adsl.alicedsl.de)
[08:05:10] *** Joins: mib_d8bhou (Mibbit@moz-e9q9js.dip0.t-ipconnect.de)
[08:05:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:05:59] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[08:06:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:06:18] *** Quits: niconii (nicole@moz-ojt2sa.frgo.qwest.net) (Quit: leaving)
[08:06:55] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[08:07:40] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[08:07:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:07:50] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[08:07:58] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:08:05] *** Joins: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk)
[08:08:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:08:29] *** Quits: mib_d8bhou (Mibbit@moz-e9q9js.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[08:09:37] *** Quits: autra (augustin@moz-6c0o5s.abo.bbox.fr) (Ping timeout: 121 seconds)
[08:09:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:09:46] *** Quits: zeronone (Mibbit@moz-b7n.qpc.112.222.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:09:48] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[08:09:50] <Skyler> emilk: do you have #![feature(core)] at the top of your root source file?
[08:09:56] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[08:10:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:10:26] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[08:11:01] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[08:11:13] <emilk> Skyler: nope :)  I should read them error messages better...
[08:11:18] <panicbit> :P
[08:11:20] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:11:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:11:40] *** Quits: grncdr1 (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[08:11:51] <Skyler> no problem!
[08:12:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:12:18] <Skyler> I've found rust's error reporting to be unusually helpful
[08:12:46] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[08:13:02] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[08:13:08] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Connection closed)
[08:13:20] *** Quits: summerlight__ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[08:13:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:14:00] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[08:14:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:15:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:15:44] <HighlightMe> Why is the hello_world binary 2.3 MB?
[08:15:46] *** Joins: mbudde (mbudde@moz-v8g.lim.109.2.IP)
[08:16:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:16:13] <emilk> HighlightMe: forgot to compile with --release ?
[08:16:43] <HighlightMe> Nope, that is hello_world's release binary.
[08:17:14] <kimundi> HighlightMe: Rust uses static linking per default, so that binary contains the std lib
[08:17:26] <HighlightMe> kimundi, I thought it might be something like that.
[08:17:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:17:44] <HighlightMe> Is there a way to get around that for optimization?
[08:17:44] <kimundi> you can make it use dynamic linking and/Or LTO and it should be way smaller
[08:17:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:18:08] <emilk> I get 291k Hello World on OSX
[08:18:21] <HighlightMe> Will cargo's --release ever use dynamic linking by default?
[08:19:09] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[08:19:13] <kimundi> absolutes are hard to answer, but currently the thinking is that disk space is cheap and static linking is safer/easier, so thats the default
[08:19:15] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[08:19:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:19:51] <HighlightMe> Makes sense.
[08:19:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:20:41] *** Joins: filsmick (filsmick@moz-m2e3vv.abo.wanadoo.fr)
[08:21:00] <filsmick> I guess there is no elegant way to use a try!() inside a Result / Option helper closure?
[08:21:19] <kimundi> filsmick: Not really, no
[08:21:23] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[08:21:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:21:33] <filsmick> kimundi: alright, thanks
[08:21:37] *** Joins: Pavel (Pavel@moz-a8qgi0.lidos.cz)
[08:21:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:22:30] *** Quits: RCIX (RCIX@moz-r1pej6.reverse.softlayer.com) (Connection closed)
[08:22:32] *** Joins: RC9 (RCIX@moz-r1pej6.reverse.softlayer.com)
[08:22:52] <Pavel> I have a vector size n. How do I iterate exactly n times using a "for cycle", when vector.capacity() or vector.len() return usize ?
[08:22:53] *** Joins: }ls{ (uhelp@moz-5enn8q.dip0.t-ipconnect.de)
[08:23:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:23:42] <Pavel> Writing: for i in vec.capacity() as i32{} ---doesn't work ;)
[08:23:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:23:59] <tomaka> for i in (0 .. vec.capacity()) { }
[08:24:18] *** Joins: raichoo (raichoo@moz-i3856u.dsl.tropolys.de)
[08:24:32] *** Joins: RCIX (RCIX@moz-r1pej6.reverse.softlayer.com)
[08:24:44] *** Quits: DemonOne (Avi@moz-cc3b3p.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:25:13] <Pavel> tomaka, Thank you
[08:25:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:25:34] *** Joins: nercury (nercury@moz-ngr949.static.zebra.lt)
[08:25:40] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Ping timeout: 121 seconds)
[08:25:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:26:29] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Connection closed)
[08:26:41] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[08:26:42] *** Quits: RC9 (RCIX@moz-r1pej6.reverse.softlayer.com) (Ping timeout: 121 seconds)
[08:26:46] <faern> Pavel: capacity might be more than length you know.
[08:26:58] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[08:27:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:27:21] <Pavel> faern, Yes. In this case, I need the capacity, because I allocated vector of size of n structs and I need to push those structs in.
[08:27:25] *** Joins: wippler (Mibbit@moz-ike1uh.optusnet.com.au)
[08:27:31] <faern> Pavel: I see.
[08:27:32] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:27:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:28:01] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[08:28:06] <faern> Pavel: So you have those structs in another vec? Then iterate over that vec without ranges.
[08:28:25] *** Joins: lenstr (lenstr@moz-0nt.jvq.149.83.IP)
[08:28:45] <Pavel> faern, http://pastebin.com/R4G5CyLn
[08:29:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:29:39] <faern> Pavel: Ok. One small improvement is to use "for _ in ..." to show you don't need the index.
[08:29:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:29:55] *** Quits: mr_fribble (Mibbit@moz-h5pmpm.mmphtn.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:30:05] <tomaka> rusti: struct Man { age: u8, alive: bool }   vec![Man { age: 0, alive: true }; 600000]
[08:30:06] -playbot- <std macros>:1:37: 1:62 error: the trait `core::clone::Clone` is not implemented for the type `main::Man` [E0277]
[08:30:06] -playbot- <std macros>:1 ( $ elem : expr ; $ n : expr ) => ( $ crate:: vec:: from_elem ( $ elem , $ n )
[08:30:06] -playbot- output truncated; full output at: http://bit.ly/1GgTTxG
[08:30:09] <Pavel> faern, Nice to know. Thank you.
[08:30:15] <tomaka> rusti: #[derive(Clone)] struct Man { age: u8, alive: bool }   vec![Man { age: 0, alive: true }; 600000]
[08:30:17] -playbot- <anon>:8:5: 8:9 error: the trait `core::fmt::Debug` is not implemented for the type `main::Man` [E0277]
[08:30:17] -playbot- <anon>:8     show({
[08:30:17] -playbot- output truncated; full output at: http://bit.ly/1Fh98oe
[08:30:24] <tomaka> yeah, well, this should work ^
[08:30:51] <tomaka> rusti: #[derive(Clone, Debug)] struct Man { age: u8, alive: bool }   vec![Man { age: 0, alive: true }; 600000]
[08:30:54] -playbot- more than 5000 bytes of output; bailing out
[08:31:07] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[08:31:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:31:25] <faern> tomaka: Oh. I had no idea vec! took a default element. Cool
[08:31:35] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[08:31:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:31:39] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[08:31:57] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[08:31:58] *** Quits: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[08:32:05] <Pavel> In fact, we are making simulations using Java (AnyLogic) and we will have massive population of agents. So good memory management is crucial. That's why I'm playing with rust. ;)
[08:32:42] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:32:45] <filsmick> How can I make a closure generic when the compiler is unable to infer type information?
[08:32:49] <Pavel> Because AnyLogic & Java will explode with 600,000,000 million of agents in simulation. It takes 18 Gigabytes of in-memory data ;)
[08:33:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:33:22] *** Joins: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP)
[08:33:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:34:38] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[08:34:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:34:56] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[08:35:09] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[08:35:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:35:21] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[08:35:32] <panicbit> Pavel: Matches my expectation if an agent only takes up 32 bytes
[08:35:36] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:35:39] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[08:35:52] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[08:36:13] <Pavel> Agent will take up to 10 times 32 bits. Which is 22 Gigabytes ;)
[08:36:35] *** Quits: fyolnish (fyolnish@moz-alv0us.yournet.ne.jp) (Connection closed)
[08:36:45] <Pavel> Agent's properties are small, the swarm simulation logic is the key problem here.
[08:36:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:36:58] *** Joins: fyolnish (fyolnish@moz-alv0us.yournet.ne.jp)
[08:37:11] <filsmick> can I make a closure generic over integer types?
[08:37:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:37:23] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[08:38:22] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:38:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:39:52] *** kimundi is now known as zz_kimundi
[08:39:52] <panicbit> filsmick: ToPrimitive might work
[08:40:22] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:40:39] <filsmick> panicbit: thanks! Do you also know what the trait for generic integers (i8, i32, u64) is?
[08:40:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:40:52] <filsmick> I searched for it on doc.rust-lang.org but couldn't find it
[08:40:53] <panicbit> filsmick: I don't think there is one
[08:40:58] *** Joins: djhworld (djhworld@moz-uag.hpf.10.94.IP)
[08:41:01] *** Quits: fyolnish (fyolnish@moz-alv0us.yournet.ne.jp) (Ping timeout: 121 seconds)
[08:41:07] *** Joins: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com)
[08:41:08] <filsmick> panicbit: uhhhh, and how do you do generic math then?
[08:41:09] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:41:11] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[08:41:18] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:41:29] <panicbit> filsmick: By converting to e.g. i64
[08:42:00] *** Quits: Sgeo_ (Sgeo@moz-mo8ath.dyn.optonline.net) (Quit: Leaving)
[08:42:03] *** Joins: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net)
[08:42:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:42:21] <filsmick> panicbit: what about unsigned types in this case?
[08:42:26] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[08:42:29] <bluss> filsmick: for generic math you need the num crate from crates.io
[08:42:29] *** Joins: Jackneill (Jackneill@moz-85bg34.pool.digikabel.hu)
[08:42:35] <panicbit> filsmick: If you need something fancier you could roll your own Trait that implements math ops exactly how you like them
[08:42:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:42:52] <panicbit> or that ^
[08:43:09] *** Quits: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net) (Quit: Leaving)
[08:43:13] *** Joins: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net)
[08:43:18] <filsmick> alright, thanks to you two :)
[08:43:26] *** Quits: mib_9dxdcy (Mibbit@moz-h5pmpm.mmphtn.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:43:47] <panicbit> filsmick: Yeah, there seems to be an Integer trait :)
[08:44:07] <filsmick> panicbit: in num?
[08:44:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:44:10] <panicbit> yup
[08:44:15] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[08:44:17] <filsmick> nice
[08:44:32] *** Quits: lyc_ (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[08:44:36] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:44:37] <filsmick> for now, FromStr does the thing, so I won't need num immediately, but I'm sure knowing about it will come in handy
[08:45:51] <panicbit> I must resist the urge to stick this Trait everywhere
[08:46:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:46:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:46:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:46:14] <filsmick> why?
[08:46:48] <panicbit> Because that that means implicit integer conversions
[08:46:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:47:10] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[08:47:20] <panicbit> And things can go pretty wrong when you stop thinking about your ints...
[08:47:39] <filsmick> does Rust prevent losing information in a cast?
[08:47:49] *** Joins: duncanmv (duncan@moz-mqudpn.dip0.t-ipconnect.de)
[08:47:50] <panicbit> It won't stop you from doing bad things
[08:48:16] <panicbit> playbot: let n = -1; n as usize
[08:48:18] -playbot- 18446744073709551615
[08:48:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:48:29] <filsmick> woh, okay
[08:48:46] <panicbit> That btw happend to me because of type inference
[08:48:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:49:15] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[08:49:23] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Connection closed)
[08:49:24] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[08:49:24] <filsmick> are upcasts (e.g. from i8 to i64) explicit too?
[08:49:32] <panicbit> Yup
[08:49:36] <filsmick> you can't lose any information doing that so it shoudln't be, no?
[08:49:36] *** Quits: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[08:49:51] <panicbit> exact
[08:50:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:50:24] <bluss> filsmick: hm there was some argument against it, I'll try to remember what it was hehe
[08:50:33] <filsmick> okay - when you have a struct you use internally, is it best practice to shape its integer types from what you will do with them, or use the most appropriate type?
[08:50:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:50:52] *** Joins: gamesbrainiac (gamesbraini@moz-0ue.tn6.134.114.IP)
[08:50:57] <panicbit> playbot: let n: i8 = 0b10000001; (n, n as i32)
[08:50:58] *** Parts: gamesbrainiac (gamesbraini@moz-0ue.tn6.134.114.IP) ("Textual IRC Client: www.textualapp.com")
[08:50:59] *** Joins: mr_fribble (Mibbit@moz-uh0.2n1.95.111.IP)
[08:51:00] -playbot- <anon>:9:21: 9:31 warning: literal out of range for i8, #[warn(overflowing_literals)] on by default
[08:51:00] -playbot- <anon>:9         let n: i8 = 0b10000001; (n, n as i32)
[08:51:00] -playbot- output truncated; full output at: http://bit.ly/1GgUzTL
[08:51:00] <filsmick> bluss: I wonder what it is, given we have a lot of not-so-obvious conversions going on with Deref already
[08:51:18] <panicbit> huh?
[08:51:36] *** Joins: lht (lht@moz-f8r.k6r.240.220.IP)
[08:51:37] <filsmick> huh to Deref or the struct?
[08:51:51] <panicbit> How am I overflowing i8 with that literal?
[08:52:15] <eddyb> panicbit: by having the MSB set
[08:52:18] *** Quits: mr_fribble (Mibbit@moz-uh0.2n1.95.111.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:52:19] <panicbit> oh
[08:52:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:52:39] *** Joins: owickstrom (owickstrom@moz-1sc1ro.mobile.tre.se)
[08:52:40] *** Joins: dinfuehr (dominik@moz-bp2pnf.highway.telekom.at)
[08:52:40] <filsmick> panicbit: concrete example: https://gist.github.com/anonymous/41d1c69bdacad4d83e1b
[08:52:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:52:55] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:52:59] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[08:53:00] <bluss> filsmick: well Deref will hopefully not impact program correctness
[08:53:01] <filsmick> is it good practice to use u64 everywhere since none of those can be negative?
[08:53:08] *** Joins: Boscop (me@moz-7fq.k98.111.114.IP)
[08:53:16] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[08:53:18] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[08:53:20] <filsmick> bluss: how would upcasting integers?
[08:53:20] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[08:53:25] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[08:54:01] <panicbit> filsmick: If none of these can be negative and you need such big numbers, then yes
[08:54:19] *** Joins: Nix (ziocroc@moz-vm5.8de.74.151.IP)
[08:54:30] <filsmick> panicbit: even if I have to downcast to use other functions later on?
[08:54:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:54:48] <panicbit> filsmick: That is something that still creeps me out
[08:54:58] <bluss> filsmick: found it. here's a discussion about exactly this https://internals.rust-lang.org/t/implicit-widening-polymorphic-indexing-and-similar-ideas/1141
[08:55:05] <filsmick> panicbit: me too, the last thing I'd want is a silent overflow or underflow :/
[08:55:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:55:15] <panicbit> filsmick: You'd probably rather upcast
[08:55:15] <filsmick> bluss: thanks!
[08:55:30] <filsmick> panicbit: but what's the difference? Wouldn't the overflow just happen earlierr?
[08:55:32] <filsmick> earlier*
[08:55:56] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[08:55:58] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[08:55:59] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[08:56:20] *** Quits: Pavel (Pavel@moz-a8qgi0.lidos.cz) (Ping timeout: 121 seconds)
[08:56:22] *** Joins: Pavel (Pavel@moz-a8qgi0.lidos.cz)
[08:56:23] *** Quits: lht (lht@moz-f8r.k6r.240.220.IP) (Client exited)
[08:56:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:56:41] <panicbit> filsmick: Wait, when casting we don't get overflows
[08:57:03] <filsmick> panicbit: ..how?
[08:57:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:57:16] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[08:57:16] *** Quits: Boscop (me@moz-7fq.k98.111.114.IP) (Ping timeout: 121 seconds)
[08:57:23] <panicbit> filsmick: I meant that in the sense of the compiler output.
[08:57:24] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[08:57:41] <panicbit> filsmick: When you actually overflow an int in a debug build the program panics
[08:58:13] <filsmick> oh, yes. When debug assertions are enabled
[08:58:19] <panicbit> playbot: let n = std::i32::MAX; n + 1
[08:58:20] -playbot- -2147483648
[08:58:24] <panicbit> eeew
[08:58:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:58:40] <filsmick> ahah
[08:58:58] <filsmick> "No, I swear, they don't overflow! See for yourself!" ... "eeew"
[08:59:01] <panicbit> I'm also not qualified to talk about these topics :)
[08:59:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:59:15] <bluss> panicbit: that would panic in debug mode
[08:59:17] *** Quits: brandonson (brandon@moz-sunivd.bchsia.telus.net) (Connection closed)
[08:59:23] <bluss> try playpen
[08:59:32] <panicbit> bluss: I thought the playbot builds were in debug mode
[08:59:32] *** Quits: owickstrom (owickstrom@moz-1sc1ro.mobile.tre.se) (Connection closed)
[09:00:01] <bluss> playbot: debug_assert!(false)
[09:00:02] -playbot- ()
[09:00:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:00:07] <bluss> hehe
[09:00:19] <panicbit> qed
[09:00:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:00:46] *** Quits: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk) (Quit: Lost terminal)
[09:00:56] <panicbit> Anyway.... http://is.gd/Hf2EPa
[09:01:49] <panicbit> filsmick: My point is: Downcasting has a greater potential of trashing data
[09:01:55] <filsmick> panicbit: so actually, the best thing would be to use the type accepted by functions called later on, and exit when the user inputs overflowing data
[09:01:58] <filsmick> panicbit: yes
[09:02:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:02:07] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[09:02:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:02:35] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[09:02:57] *** Joins: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP)
[09:03:14] <panicbit> filsmick: There are also functions that check for overflows http://doc.rust-lang.org/nightly/std/num/wrapping/trait.OverflowingOps.html
[09:03:28] <filsmick> panicbit: sure, but those won't be needed
[09:03:31] <panicbit> Ok
[09:03:36] <filsmick> panicbit: the thing is
[09:03:46] <filsmick> I'm using str::parse
[09:03:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:04:09] <filsmick> it works great with concrete types
[09:04:23] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[09:04:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:04:26] <filsmick> the Err type is a num::ParseIntError
[09:04:33] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[09:05:07] <filsmick> except that when using generics, the compiler can't figure out I'm only working with integers, so it cannot detect that `F::Err` http://doc.rust-lang.org/nightly/std/primitive.str.html#method.parse is a ParseIntError...
[09:05:19] <filsmick> I don't know if you can / feel like helping me on this
[09:05:31] <panicbit> filsmick: You can tell the compiler which type to use
[09:05:54] <panicbit> Hm wait
[09:05:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:05:59] <filsmick> panicbit: how? I'm generic over FromStr
[09:06:01] <panicbit> Can I see that line of code?
[09:06:05] <bluss> you can do some bound like   T: FromStr<Err=ParseIntError>
[09:06:09] <filsmick> NO?
[09:06:14] <panicbit> :P
[09:06:19] <filsmick> You can have a bound on associated types?!
[09:06:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:06:21] *** Joins: brandonson (brandon@moz-sunivd.bchsia.telus.net)
[09:06:21] *** Joins: Boscop (me@moz-7fq.k98.111.114.IP)
[09:06:40] <bluss> this is in fact a "type equality bound" for the associated type
[09:06:51] <bluss> it's pretty important for example T: Add<Output=T>
[09:06:51] *** Quits: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[09:06:54] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[09:07:00] <filsmick> Oh, thank you, thank you
[09:07:15] <filsmick> this solves everything and is a very useful piece of knowledge to have!
[09:07:30] *** Joins: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com)
[09:07:43] *** zz_NameNotFound is now known as NameNotFound
[09:07:47] <bluss> everything? I didn't know I was this powerful
[09:07:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:07:52] <filsmick> panicbit: if you still want to see the code: https://gist.github.com/anonymous/68bf56bcc7ca5dbb983d
[09:07:53] <filsmick> ahah
[09:08:11] <filsmick> I was going to use a macro, but this is much more elegant
[09:08:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:08:21] <panicbit> Quite some lisp action going on there
[09:08:27] <filsmick> ahahah
[09:08:41] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:08:45] *** Quits: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[09:08:54] <panicbit> But it's fine :
[09:08:55] <panicbit> :)
[09:09:12] <filsmick> :)
[09:09:16] <filsmick> your help is invaluable
[09:09:30] <filsmick> I wouldn't have learned more about Rust if it wasn't for this IRC channel, so thanks
[09:09:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:10:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:10:47] *** Quits: nercury (nercury@moz-ngr949.static.zebra.lt) (Client exited)
[09:11:13] <Sgeo> I wonder if a better example for pointer invalidation might be something with Option instead of talking about iterator invalidation
[09:11:26] <Sgeo> I think that helped me understand a bit because iterators seem like they use unsafe inside
[09:11:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:12:02] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[09:12:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:12:16] <filsmick> my point of view is that iterator invalidation is much more subtle than freeing a pointer and using it again immediately after
[09:12:17] *** Joins: mib_hdrn86 (Mibbit@moz-uh0.2n1.95.111.IP)
[09:12:26] *** Quits: mixi (mixi@moz-faa3k3.org) (Connection closed)
[09:12:35] <filsmick> since it is a pain in other languages, showing how Rust solves this problem offers an incentive to learn more about it, no?
[09:12:46] *** Joins: REMqb (REMqb@moz-fk2o3j.abo.wanadoo.fr)
[09:13:03] <Havvy> Yeah, this channel holds a *lot* of Rust knowledge not yet recorded.
[09:13:12] *** Quits: mib_hdrn86 (Mibbit@moz-uh0.2n1.95.111.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:13:22] <filsmick> Agreed
[09:13:30] <filsmick> panicbit: do you think the function I linked is more readable in lisp-style, or on one / two lines?
[09:13:37] <filsmick> panicbit: I'm not sure what the best practice is 
[09:13:39] <bluss> and those that know stuff here don't know it's not in the docs
[09:13:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:14:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:14:11] <Sgeo> I believe Haskell also has this issue?
[09:14:17] <panicbit> filsmick: I'm not commenting on that... I think that it's pretty subjective.
[09:14:25] <Sgeo> Or at least it did at some point according to someone who now is a Rustacean
[09:14:30] <filsmick> panicbit: alright :)
[09:14:50] <panicbit> filsmick: As long as you are consistent with your style
[09:14:55] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[09:15:04] <panicbit> filsmick: Or with the style that the project uses
[09:15:18] <Havvy> I'd rather see it on one or two lines.
[09:15:25] <Havvy> Is try!() allowed inside a Some() ?
[09:15:31] <filsmick> yes
[09:15:35] <filsmick> it returns early
[09:15:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:15:45] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[09:15:56] <Havvy> That is awesome.
[09:15:57] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[09:16:02] <filsmick> I'm taking the Ok value of inside the try!() and wrapping it in Some
[09:16:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:16:28] <filsmick> And then wrapping the resulting Option in a Result
[09:16:37] <filsmick> yes, that is awesome :)
[09:16:45] *** Quits: lenstr (lenstr@moz-0nt.jvq.149.83.IP) (A TLS packet with unexpected length was received.)
[09:16:48] <panicbit> playbot: fn foo() -> Result<i32, ()> { Some(return Ok(())) }
[09:16:49] -playbot- <anon>:9:54: 9:56 error: mismatched types:
[09:16:49] -playbot-  expected `i32`,
[09:16:49] -playbot- output truncated; full output at: http://bit.ly/1EcrUJt
[09:16:52] *** Joins: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net)
[09:16:58] <panicbit> playbot: fn foo() -> Result<i32, ()> { Some(return Ok(42)) }
[09:16:59] -playbot- <anon>:9:39: 9:58 error: mismatched types:
[09:16:59] -playbot-  expected `core::result::Result<i32, ()>`,
[09:16:59] -playbot- output truncated; full output at: http://bit.ly/1GgVxPJ
[09:17:04] <panicbit> Eh... forget it...
[09:17:11] *** NameNotFound is now known as zz_NameNotFound
[09:17:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:17:42] <panicbit> playbot: fn foo() -> Result<i32, ()> { Some(return Ok(42)); Ok(123) }; foo()
[09:17:43] <filsmick> you want to box the Some in an Ok too I think
[09:17:43] -playbot- Ok(42)
[09:18:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:18:19] <Havvy> Even though I have rust-style macros and the Result type in JS, I could not replicate that effect. :S
[09:18:30] *** Joins: mkoskar (mkoskar@moz-kme.lvj.226.188.IP)
[09:18:36] <filsmick> Havvy: so it looks better like that, in your opinion? https://gist.github.com/anonymous/da45aaa97fdbe2977591
[09:18:59] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[09:19:03] <Havvy> Yeah.
[09:19:27] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[09:19:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:19:57] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:20:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:20:08] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[09:21:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:21:45] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[09:21:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:22:13] *** Joins: khades1 (Thunderbird@moz-s8b.3vk.74.212.IP)
[09:23:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:23:33] *** zz_NameNotFound is now known as NameNotFound
[09:23:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:23:57] <panicbit> filsmick: IMO easier to read
[09:24:02] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Connection closed)
[09:24:04] *** Quits: khades (Thunderbird@moz-s8b.3vk.74.212.IP) (Ping timeout: 121 seconds)
[09:24:20] <filsmick> panicbit: well then, one line it will be :)
[09:24:21] *** Joins: detrumi (wilco@moz-eo1usl.ip.telfort.nl)
[09:24:33] *** Quits: yota (sdouche@moz-4hhr1h.3iqc.r856.0e35.2a01.IP) (Quit: WeeChat 1.1.1)
[09:24:51] <filsmick> is it me, or is compilation much much faster with the latest nightly?
[09:25:11] <panicbit> filsmick: It makes sense, however, to e.g. split the Ok() along multiple lines if it contains a struct literal or something else that spans multiple lines (like a match)
[09:25:20] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[09:25:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:25:35] <bluss> filsmick: there was a temporary regression in compile time, not sure if it's that
[09:25:42] *** Joins: lht (lht@moz-f8r.k6r.240.220.IP)
[09:25:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:26:08] <jws> is there a simple way to present a Vec<String> as a Vec<&str> ?
[09:26:41] *** Joins: Twisol (Twisol@moz-0033n4.res.rr.com)
[09:26:44] <bluss> jws: you'll have to allocate another Vec I think
[09:26:52] *** Quits: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net) (Ping timeout: 121 seconds)
[09:26:56] *** Quits: Twisol (Twisol@moz-0033n4.res.rr.com) (Quit: )
[09:26:57] <jws> hrmph
[09:27:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:27:39] <Havvy> jws:  let strs = strings.iter().map(|string| &string).collect();  // Based on Rust 0.10 knowledge.
[09:27:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:27:55] *** Joins: jmbto (jmbto@moz-6p732i.hca5.8frp.0e35.2a01.IP)
[09:28:05] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[09:28:10] <jws> yeah, i have code like that but i have format! in the map block 
[09:28:19] <jws> which returns String
[09:28:29] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[09:28:40] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[09:28:49] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[09:28:54] <filsmick> I'm thinking you could make a struct which owns a Vec
[09:29:08] <filsmick> and derefs elements to &str when getting them
[09:29:12] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[09:29:14] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[09:29:17] *** Quits: mnemnion_ (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[09:29:20] <filsmick> but it's probably simple to allocate two vectors
[09:29:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:29:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:29:48] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[09:30:25] <jws> brb wife brought me breakfast
[09:31:01] *** Quits: acgtyrant (acgtyrant@moz-crk.4sk.186.39.IP) (Ping timeout: 121 seconds)
[09:31:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:31:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:31:51] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[09:32:34] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[09:33:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:33:36] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[09:33:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:34:03] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[09:34:13] *** Quits: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[09:34:30] *** Joins: PudgePacket (Mibbit@moz-obu378.tpgi.com.au)
[09:35:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:35:39] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:36:13] *** Joins: debu (debu@moz-q07n1a.dyn.telefonica.de)
[09:36:33] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[09:36:41] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[09:37:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:37:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:38:38] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[09:38:58] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[09:39:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:39:19] *** Quits: ville (ville@moz-nadkam.elisa-laajakaista.fi) (Quit:  )
[09:39:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:40:07] *** Quits: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[09:40:29] *** Joins: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com)
[09:40:37] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[09:40:38] *** Quits: erf (eric@moz-vbs4rp.fios.verizon.net) (Ping timeout: 121 seconds)
[09:40:57] *** Joins: eott (etienne@moz-k22.rq7.90.95.IP)
[09:41:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:41:17] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[09:41:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:42:00] *** Joins: derek (derek@moz-sng.gmk.62.178.IP)
[09:42:18] <derek> Hey, where can I send a pull request for the rust book? https://doc.rust-lang.org/book
[09:42:29] *** Joins: owickstrom (owickstrom@moz-410a21.mobile.tre.se)
[09:43:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:43:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:43:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:43:28] *** Joins: mixi (mixi@moz-faa3k3.org)
[09:44:51] <Mutabah> derek: It has its own repo afaik
[09:44:54] <jws> so would it be fair to say that if you are creating new strings in a map block, they need to be String so they're heap allocated? or can you also create str, but you just have to move them when returning?
[09:44:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:45:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:45:32] <Mutabah> jws: str is unsized, it's the underlying type of a borrow
[09:46:01] *** Quits: mstevens (mstevens@moz-itk2jg.etla.org) (Quit: leaving)
[09:46:09] <derek> Mutabah: it's just that the person who compiled the rust book didn't compile using github markdown so some features which they used are not supported, such as tables.
[09:46:11] <jws> im not sure what the ramification of that is, sorry - does that mean you can't move them?
[09:46:33] <derek> I found the repo but I'm not sure if my pull request will be accecpted.
[09:46:49] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[09:46:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:47:04] *** Quits: andreabedini (andreabedin@moz-fpvfar.iinet.net.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:47:13] *** Quits: turtil (turtil@moz-98pgrn.orcon.net.nz) (Ping timeout: 121 seconds)
[09:47:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:47:30] <Mutabah> derek: Post it and see? What is it?
[09:48:00] <derek> Mutabah: this page: https://doc.rust-lang.org/book/the-stack-and-the-heap.html The tables don't work as they are simply wrapped in <p></p
[09:48:12] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[09:48:40] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[09:48:41] <bstrie> Mutabah derek: book code at https://github.com/rust-lang/rust/tree/master/src/doc/trpl
[09:48:59] <derek> bstrie: thanks, I've found it
[09:49:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:49:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:49:40] <derek> bstrie, Mutabah, is it worth wrapping the tables in markdown code tags or filing an issue in relation to not using a markdown compiler that supports tables?
[09:50:08] *** Joins: nercury (nercury@moz-ngr949.static.zebra.lt)
[09:50:16] <Mutabah> bstrie: huh
[09:50:32] <bluss> rustdoc supports tables, is this a different markdown?
[09:51:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:51:18] <derek> bluss: the person who compiled the book used a markdown compiler that didn't support tables.
[09:51:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:51:37] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Ping timeout: 121 seconds)
[09:52:10] <derek> Such as on this page: https://doc.rust-lang.org/book/the-stack-and-the-heap.html the tables are all incorrectly formatted
[09:52:14] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[09:52:28] <bluss> did you file a bug report?
[09:52:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:52:42] <bluss> maybe there already is one
[09:52:45] *** Joins: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se)
[09:53:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:53:11] *** Quits: Douman (Douman@moz-bfj98a.dynamic.mts-nn.ru) (Quit: )
[09:54:01] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[09:54:23] *** Joins: casey (casey@moz-5gh.37l.160.167.IP)
[09:54:46] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Client exited)
[09:54:48] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Connection closed)
[09:55:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:55:30] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[09:55:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:55:38] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[09:55:51] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[09:56:39] *** Joins: terry (Mibbit@moz-dsksl7.de.comcast.net)
[09:56:40] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[09:57:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:57:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:57:48] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[09:58:07] <derek> I've submitted a pull request which changes that will make the html display correctly. Lets see what happens :)
[09:58:16] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[09:59:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:59:18] *** Joins: cheerfulstoic (Mibbit@moz-u53.v53.167.208.IP)
[09:59:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:00:02] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:00:29] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[10:00:33] <cheerfulstoic> Not sure if I'm crazy, but I can't seem to get the example code in `std::io::BufferedStream` to run on play.rust-lang.org...  http://doc.rust-lang.org/0.12.0/std/io/struct.BufferedStream.html
[10:01:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:01:06] <jws> thanks bluss, Mutabah, filsmick: gave up on connect() and used fold
[10:01:18] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:01:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:01:39] *** Quits: wippler (Mibbit@moz-ike1uh.optusnet.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[10:01:41] <Mutabah> cheerfulstoic: That's from 0.12
[10:01:57] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[10:02:04] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[10:02:11] *** Joins: dinfuehr_ (dinfuehr@moz-bp2pnf.highway.telekom.at)
[10:02:12] <genbattle> is it possible to clone the contents of a slice?
[10:02:17] <cheerfulstoic> Ah ha!  Thanks
[10:02:20] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[10:02:38] <bluss> genbattle: not into a new slice, since it's inherently borrowed
[10:02:55] <bluss> genbattle: but otherwise yes, for example .to_vec() will clone each element and put in a Vec
[10:02:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:03:10] <bluss> playbot: [1, 2, 3].to_vec()
[10:03:12] -playbot- [1, 2, 3]
[10:03:14] *** Joins: aneeshm (aneeshm@moz-9gmm42.ca.comcast.net)
[10:03:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:03:33] <derek> playbot: vec![1, 2, 3]
[10:03:34] -playbot- [1, 2, 3]
[10:04:01] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[10:04:05] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[10:04:09] *** Joins: genbattle_ (genbattle@moz-r09mao.xtra.co.nz)
[10:04:15] *** Joins: andreabedini (andreabedin@moz-fpvfar.iinet.net.au)
[10:04:17] <panicbit> Wow... Way to fail. I wrote a memoised version of a function but didn't replace the recurring calls with the actuall memoized version -.-
[10:04:30] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[10:04:33] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[10:04:34] *** Quits: genbattle_ (genbattle@moz-r09mao.xtra.co.nz) (Quit: Leaving)
[10:04:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:05:17] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:05:21] <derek> does rust have tail call optimization?
[10:05:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:05:33] <Hyeon> Nope
[10:05:35] <Hyeon> Very Sadly
[10:05:51] <bluss> it has it, but it's not guaranteed
[10:05:53] <eddyb> Rust can do TCO just fine. what it doesn't have is enforcing it
[10:05:58] *** Joins: errordeveloper (ilya@moz-85d.c2g.209.90.IP)
[10:06:06] <panicbit> Now I'm overflowing the stack much faster...
[10:06:06] <Hyeon> derek: http://doc.rust-lang.org/complement-design-faq.html#no-guaranteed-tail-call-optimization
[10:06:14] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[10:06:17] <panicbit> How to increase stack size again?
[10:06:20] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[10:06:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:07:04] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[10:07:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:07:22] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[10:07:38] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[10:08:25] <aneeshm> I'm sure this has been asked before, but what exactly *is* a lifetime? I've tried to understand the book chapter, read various bits and pieces that I could Google, and Paul Koerbitz's post, but I still don't understand exactly:
[10:08:29] <aneeshm> 1) What they are.
[10:08:41] <aneeshm> and 2) Why they're needed/how to use them.
[10:08:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:09:05] <tomaka> aneeshm: A lifetime corresponds to a block of code
[10:09:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:09:25] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:09:27] <tomaka> like when you write `if something {}`, there's a lifetime that corresponds to this block
[10:09:49] <tomaka> the lifetime of an object corresponds to the block where it was created
[10:10:02] <tomaka> but Rust's type system autmoatically turns lifetimes into longer lifetimes when needed
[10:10:17] <genbattle> gah, sorry to ask this again, but my laptop battery died at the exact moment I last asked it; is it possible to clone the content of a slice?
[10:10:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:11:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:11:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:11:21] <mbudde> genbattle: https://botbot.me/mozilla/rust/2015-05-17/?msg=39402233&page=23
[10:11:38] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[10:11:55] <genbattle> mbudde, thanks!
[10:11:56] *** Quits: squiddy (squiddy@moz-364tqj.adsl.alicedsl.de) (Connection closed)
[10:11:59] *** Joins: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it)
[10:12:18] *** Quits: HighlightMe (Fanboy@moz-iba.m7e.117.216.IP) (Quit: Leaving)
[10:12:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:12:36] <aneeshm> tomaka: so when, say, inside a function body, say 'fn foo() {}', I create a binding, say 'let x:i32 = 5', the lifetime of x is the scope of the function foo?
[10:12:42] *** Joins: nadirs (nadirs@moz-kf1rt5.retail.telecomitalia.it)
[10:12:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:12:45] *** Quits: AndroUser2 (androirc@moz-g8r.9lm.252.72.IP) (Ping timeout: 121 seconds)
[10:13:13] <druznek> hi to all :)
[10:13:28] *** Quits: terry (Mibbit@moz-dsksl7.de.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:14:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:14:08] <rkruppe> aneeshm: As a first approximation, yes. (Reality is slightly more complicated but can be explained in those terms once you grok it in general)
[10:14:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:15:35] <aneeshm> (Pardon me if I'm too verbose or if I miss something very basic - I started learning Rust from the ground up, using the Syntax and Semantics section of the book today, and Lifetimes is the first chapter which gave me serious trouble.)
[10:15:36] *** Joins: lenstr (lenstr@moz-7us.vju.25.171.IP)
[10:15:43] *** Joins: nadir (nadirs@moz-kf1rt5.retail.telecomitalia.it)
[10:15:48] *** Quits: nadirs (nadirs@moz-kf1rt5.retail.telecomitalia.it) (Quit: leaving)
[10:15:57] *** Joins: tomprogrammer (thomas@moz-04evmn.tr5r.qept.4dd0.2001.IP)
[10:15:57] <aneeshm> OK. So that's the lifetime of x.
[10:16:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:16:15] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:16:24] *** Quits: cheerfulstoic (Mibbit@moz-u53.v53.167.208.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:16:26] *** Quits: tomprogrammer (thomas@moz-04evmn.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[10:16:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:17:19] *** Joins: tomprogrammer (thomas@moz-04evmn.tr5r.qept.4dd0.2001.IP)
[10:17:20] *** Quits: nadir (nadirs@moz-kf1rt5.retail.telecomitalia.it) (Connection closed)
[10:17:40] *** Quits: mindtree (Mitch@moz-0oi8sr.iprimus.net.au) (Ping timeout: 121 seconds)
[10:17:54] <filsmick> is there an elegant way to write multi-line strings? 
[10:17:55] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Quit: Bye)
[10:17:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:18:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:18:13] <SpaceManiac> string literals can span multiple lines with no trouble
[10:18:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:18:44] *** Quits: cllns (sean@moz-op27og.ma.comcast.net) (Ping timeout: 121 seconds)
[10:18:47] <mbudde> filsmick: http://doc.rust-lang.org/reference.html#character-and-string-literals
[10:19:06] <filsmick> SpaceManiac, mbudde: thanks!
[10:19:20] <aneeshm> Thanks, tomaka and rkruppe!
[10:19:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:19:41] <aneeshm> On to my next question - why are they needed?
[10:19:45] <aneeshm> And where are they used?
[10:19:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:20:01] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[10:20:17] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[10:20:29] *** Joins: Nextra (Nextra@moz-rch.2h5.233.89.IP)
[10:20:52] <mitsuhiko> what's the best way to make a global static array of variable sized arrays?
[10:21:05] *** Quits: lenstr (lenstr@moz-7us.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:21:10] <rkruppe> aneeshm: Basically, efficiency. Borrowed references are cheaper in terms of run-time performance than copying everything or having a garbage collector, and lifetimes allow you to do that without risking nasty bugs
[10:21:28] *** Joins: lenstr (lenstr@moz-7us.vju.25.171.IP)
[10:21:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:21:33] *** Joins: capcar (mathieu@moz-mi55kn.mc.videotron.ca)
[10:21:47] <mitsuhiko> ah, nevermind, will do it differently
[10:21:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:23:05] *** Joins: James (quassel@moz-ph8o2f.range86-163.btcentralplus.com)
[10:23:09] *** Joins: mahdi (mahdi@moz-2t2.vao.244.151.IP)
[10:23:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:23:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:23:53] <panicbit> Wut. thread '<main>' panicked at 'Resource temporarily unavailable (os error 11)'
[10:24:05] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[10:24:06] <panicbit> OOM?
[10:24:31] *** Quits: areski (areski@moz-prr0dt.user.ono.com) (Ping timeout: 121 seconds)
[10:24:31] <rkruppe> Some I/O went awry, I'd say
[10:24:35] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:24:46] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:24:48] <panicbit> Well... It's just the ackermann function :P
[10:25:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:25:43] <panicbit> Oh it must be an OOM... It happens when I try to spawn the thread
[10:25:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:26:24] <panicbit> What units is the stack size in std::thread::Builder::stack_size anyway?
[10:26:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[10:26:40] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[10:26:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:27:08] *** Quits: khades1 (Thunderbird@moz-s8b.3vk.74.212.IP) (Client exited)
[10:27:10] <aneeshm> rkruppe: OK. So where do I have to explicitly specify lifetimes?
[10:27:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:27:35] *** Joins: owickstr1m (owickstrom@moz-bfo5i3.mobile.tre.se)
[10:28:01] <rkruppe> aneeshm: When the compiler can't infer them :P Usually that's only in function signatures and type definitions.
[10:28:06] <AeroNotix> aneeshm: where the borrow-checker can't automatically track them
[10:28:15] <AeroNotix> the borrow-checker doesn't infer things from function bodies.
[10:28:17] <AeroNotix> only signatures
[10:28:20] *** Quits: owickstrom (owickstrom@moz-410a21.mobile.tre.se) (Ping timeout: 121 seconds)
[10:28:23] *** Quits: mahdi (mahdi@moz-2t2.vao.244.151.IP) (Ping timeout: 121 seconds)
[10:28:26] <AeroNotix> so imagine a function which takes two &str and returns a &str
[10:28:33] <mitsuhiko> so i have a function that returns a Vec<u32> of 0-4 elements
[10:28:34] <AeroNotix> which &str would the function be returning?
[10:28:40] <mitsuhiko> can i avoid the heap allocation somehow?
[10:28:51] <mitsuhiko> in C++ I would write into a stack allocated block for instance
[10:28:51] <AeroNotix> This is when you need to annotate lifetimes, so the borrow-checker knows 
[10:29:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:29:02] <rkruppe> aneeshm: Note that you never say "this has the lifetime of block foo", you say "okay gimme some lifetime, call it 'a, and if I get a slice with lifetime 'a I'll return another slice also with lifetime 'a"
[10:29:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:29:49] <rkruppe> mitsuhiko: You can't avoid it with Vec, but there are SmallVec types that store some small number of items inline. Don't think there is an implementation in the standard library though
[10:30:18] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[10:30:20] <rkruppe> The problem with a general SmallVec type is that it should be parametric in how many items is "a small number" but we don't have integer type parameters yet
[10:30:22] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Quit: Bye)
[10:30:31] <mitsuhiko> might just always return 4 items as a [; 4] and add a dummy value
[10:30:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:31:16] <rkruppe> Or define an enum { Empty, One(T), Two([T; 2]), Three([T; 3]), Four([T; 4]) }
[10:31:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:31:44] *** Quits: JuggleTux (tux@moz-ikqjs5.adslplus.ch) (Ping timeout: 121 seconds)
[10:32:05] <aneeshm> rkruppe: So I never explicitly specify a lifetime, but I always define them in terms of others that I get from somewhere - in a function? Is this vaguely correct?
[10:32:32] *** Joins: sigma1 (sigma@moz-llrbra.range86-135.btcentralplus.com)
[10:32:35] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Connection closed)
[10:32:44] <rkruppe> aneeshm: Yes. All lifetimes you name explicitly are parameters of functions (just written between <> instead of parentheses)
[10:32:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:32:57] *** Joins: acgtyrant (acgtyrant@moz-tq1.poc.176.60.IP)
[10:33:02] <rkruppe> Well except 'static which is the lifetime of the entire program, the longest there is
[10:33:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:33:23] *** Quits: drewm1980 (drewm1980@moz-v41od3.hujf.dasj.1812.2a02.IP) (Quit: WeeChat 0.4.2)
[10:33:28] <rkruppe> The compiler then substitutes an actual lifetime on every function call
[10:33:29] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[10:33:46] <mitsuhiko> rkruppe: that's actually not too bad
[10:33:50] *** Joins: lenstr_ (lenstr@moz-f2l.vju.25.171.IP)
[10:33:50] <mitsuhiko> especially given i only have 0, 2 and 4
[10:33:59] *** Quits: yuja (yuja@moz-v2bs4c.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:34:12] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[10:34:48] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[10:34:48] <aneeshm> AeroNotix: Thank you. But can't the function return neither of the two it was given - say, by creating a new string (on the heap) and passing a reference to that? (Is that allowed in Rust?)
[10:34:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:34:59] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[10:35:04] *** Joins: mahdi (mahdi@moz-2t2.vao.244.151.IP)
[10:35:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:35:21] <aneeshm> rkruppe: OK; this makes it somewhat clearer.
[10:35:46] <aneeshm> I have a lot to learn.
[10:35:50] <mitsuhiko> how do i refer to the current module for "use"?
[10:35:58] <mitsuhiko> right now i do in local functions "use mod_name::Enum::Variant"
[10:36:01] <mitsuhiko> but that seems so wrong
[10:36:09] <SpaceManiac> use self::...
[10:36:19] *** Joins: owickstrom (owickstrom@moz-9cf6ss.mobile.tre.se)
[10:36:26] *** Joins: lenstr__ (lenstr@moz-hcc.vju.25.171.IP)
[10:36:30] *** Quits: lenstr (lenstr@moz-7us.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:36:35] *** Quits: owickstr1m (owickstrom@moz-bfo5i3.mobile.tre.se) (Ping timeout: 121 seconds)
[10:36:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:36:59] *** Quits: acgtyrant (acgtyrant@moz-tq1.poc.176.60.IP) (Ping timeout: 121 seconds)
[10:37:09] *** Joins: khades (Thunderbird@moz-s8b.3vk.74.212.IP)
[10:37:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:37:29] <mitsuhiko> ah, that's it
[10:37:31] *** Quits: sigma1 (sigma@moz-llrbra.range86-135.btcentralplus.com) (Connection closed)
[10:37:32] <mitsuhiko> i thought super for some reason
[10:37:46] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[10:37:47] *** Joins: lenstr (lenstr@moz-cgj.vju.25.171.IP)
[10:38:22] *** Quits: mahdi (mahdi@moz-2t2.vao.244.151.IP) (Quit: Leaving)
[10:38:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[10:38:40] *** Quits: andreabedini (andreabedin@moz-fpvfar.iinet.net.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:38:52] *** Quits: lenstr_ (lenstr@moz-f2l.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:39:01] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[10:39:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:39:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:40:30] *** Quits: lenstr__ (lenstr@moz-hcc.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:40:41] <AeroNotix> aneeshm: no, this is core to how lifetimes work, they have to be tied to something, rather than just assuming the function body creates a new one.
[10:41:00] <AeroNotix> like I said, the borrow-checker doesn't infer things from the function body, it's just done on signatures.
[10:41:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:41:27] *** Quits: owickstrom (owickstrom@moz-9cf6ss.mobile.tre.se) (Ping timeout: 121 seconds)
[10:41:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:41:37] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[10:41:46] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[10:42:03] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[10:42:07] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[10:42:54] *** Quits: lenstr (lenstr@moz-cgj.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:43:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:43:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:43:46] <tomaka> aneeshm: when you allocate someting on the heap, you still get a pointer to it on the stack
[10:44:08] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[10:44:08] *** Joins: Siosm (quassel@moz-7ucvlk.c3r2.lncg.41d0.2001.IP)
[10:44:15] <tomaka> and types like String or Box allow you to get a pointer to the thing on the heap with the same lifetime as the thing on the stack
[10:44:59] <Pavel> CAn I have multiple commands in match statement after => ?
[10:45:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:45:13] <AeroNotix> Pavel: use a { } block, I believe.
[10:45:24] <Pavel> AeroNotix, will try
[10:45:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:45:50] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[10:46:05] <Pavel> AeroNotix, Works, thanks.
[10:46:10] *** Quits: Siosm (quassel@moz-7ucvlk.c3r2.lncg.41d0.2001.IP) (A TLS packet with unexpected length was received.)
[10:46:19] *** Joins: Siosm (quassel@moz-7ucvlk.c3r2.lncg.41d0.2001.IP)
[10:46:29] *** Quits: FallingAlways (FallingTime@moz-ruksei.cable.rogers.com) (Quit: Leaving)
[10:46:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:47:05] *** Joins: yuja (yuja@moz-v2bs4c.so-net.ne.jp)
[10:47:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:47:32] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[10:47:32] <panicbit> Pavel: You can also ommit the comma after a { } block
[10:47:52] *** Quits: marsel (user@moz-jir.4tc.180.94.IP) (Ping timeout: 121 seconds)
[10:47:54] <Pavel> panicbit, thanks
[10:47:58] <panicbit> np
[10:48:11] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:48:12] <filsmick> is it possible to indent a string displayed with println!?
[10:48:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:48:48] <filsmick> I have this: `info!("Starting up with settings: {}", cli_settings);`, and I'd like to indent the representation of cli_settings, which spans several lines
[10:48:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:48:52] <Pavel> filsmick, Just add whitespace to it ? I mean make a String out of your &str and insert whitespaces at the beginning ? :)
[10:49:02] <aneeshm> OK. Thank you.
[10:49:15] *** Joins: p1start (p1start@moz-nftjhe.org)
[10:49:20] <filsmick> Pavel: that's the obvious way, but I figured there must be a better / simpler way
[10:49:41] <Pavel> filsmick, I doubt there is a function for that in rust.
[10:49:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:50:00] *** Quits: lht (lht@moz-f8r.k6r.240.220.IP) (Client exited)
[10:50:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:50:39] <kagami> filsmick: you may use \t to indent to the nearest tabular column
[10:50:54] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[10:51:17] *** Quits: aneeshm (aneeshm@moz-9gmm42.ca.comcast.net) (Quit: leaving)
[10:51:20] <filsmick> kagami: this only indents the first line
[10:51:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:52:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:52:20] <panicbit> filsmick: Then you probably need to do something yourself. Shouldn't be too hard though.
[10:52:39] *** Joins: xiongmao86 (xiongmao86@moz-b4j.d82.23.116.IP)
[10:52:46] *** Joins: lht (lht@moz-f8r.k6r.240.220.IP)
[10:53:06] <filsmick> panicbit: or I can embed the indentation in the fmt::Display impl of my cli_settings struct - either something hackish, or overkill :/
[10:53:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:53:43] <xiongmao86> Does lldb support rust expr?
[10:53:47] *** Joins: JuggleTux (tux@moz-ikqjs5.adslplus.ch)
[10:53:52] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[10:54:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:55:13] <filsmick> xiongmao86: I'm not sure, but there's rust-lldb, a wrapper to pretty print results
[10:55:26] <filsmick> xiongmao86: http://michaelwoerister.github.io/2015/03/27/rust-xxdb.html
[10:55:32] <rkruppe> I think it can pretty print Rust data structures but not evaluate Rust expressions
[10:55:58] <filsmick> I have a style question
[10:56:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:56:20] <filsmick> does the 80 / 120 character line length limit include indentation?
[10:56:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:56:46] <filsmick> for example, if I have a 80-character expression which is heavily indented, am I breaking the convention?
[10:56:54] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[10:57:04] <rkruppe> Yes, it includes indentation
[10:57:27] <xiongmao86> filsmick: rkruppe: thanks , will check that
[10:57:45] <filsmick> rkruppe: ok
[10:57:52] <rkruppe> Because indentation takes space and the line length limit is about how wide the code is horizontally
[10:58:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:58:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:58:29] *** Quits: khades (Thunderbird@moz-s8b.3vk.74.212.IP) (Client exited)
[10:58:36] <panicbit> playbot: "foo\nbar\ncake".lines().map(|s| format!("    {}\n", s)).fold(String::new(), |mut buf, s| {buf.push_str(&s); buf})
[10:58:38] -playbot- "    foo\n    bar\n    cake\n"
[10:59:14] <panicbit> (Is there a simpler way to collect those Strings into a String buf?
[10:59:15] <panicbit> )
[10:59:28] <rkruppe> .collect::<String>() ?
[10:59:32] <filsmick> panicbit: that's really nice, this could be generalized in an indent function
[10:59:34] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[10:59:49] *** Joins: acgtyrant (acgtyrant@moz-tq1.poc.176.60.IP)
[10:59:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:00:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:00:48] *** Quits: nercury (nercury@moz-ngr949.static.zebra.lt) (Client exited)
[11:01:01] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[11:01:05] <panicbit> playbot: "foo\nbar\ncake".lines().map(|s| format!("    {}\n", s)).collect::<String>()
[11:01:06] -playbot- output truncated; full output at: http://bit.ly/1EPLKeb
[11:01:16] <panicbit> rkruppe: Nope
[11:01:35] <ekarlso> playbot-mini: foo
[11:01:35] -playbot-mini- <anon>:1:1: 1:4 error: expected item, found `foo`
[11:01:36] -playbot-mini- <anon>:1 foo
[11:01:36] -playbot-mini- output truncated; full output at: http://bit.ly/1EPMbFo
[11:01:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:02:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:02:29] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[11:02:50] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[11:02:50] *** Joins: nercury (nercury@moz-ngr949.static.zebra.lt)
[11:03:29] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[11:03:40] *** Parts: detrumi (wilco@moz-eo1usl.ip.telfort.nl) ()
[11:03:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:04:02] *** Joins: tyrion-mx (tyrion@moz-t0hlg0.torproxy.org)
[11:04:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:04:46] <kagami> rustbot: println!("{}", "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect::<Vec<_>>().concat())
[11:05:17] <panicbit> ew
[11:05:24] <kagami> rustbot: "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect::<Vec<_>>().concat()
[11:05:28] <kagami> huh
[11:05:30] <filsmick> playbot
[11:05:31] <panicbit> wut
[11:05:32] <filsmick> not rustbot
[11:05:35] <kagami> I've broken him :(
[11:05:36] <panicbit> ah
[11:05:36] <filsmick> no?
[11:05:40] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:05:45] <panicbit> playbot: "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect::<Vec<_>>().concat()
[11:05:45] <filsmick> playbot: "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect::<Vec<_>>().concat()
[11:05:47] -playbot- "\tfoo\n\tbar\n\tcake\n"
[11:05:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:05:49] -playbot- "\tfoo\n\tbar\n\tcake\n"
[11:06:04] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:06:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:06:25] *** Joins: geri (Mibbit@moz-aessd8.highway.telekom.at)
[11:06:36] <rkruppe> playbot: "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect().concat()
[11:06:37] -playbot- <anon>:9:9: 9:82 error: the type of this value must be known in this context
[11:06:37] -playbot- <anon>:9         "foo\nbar\ncake".lines().map(|s| format!("\t{}\n", s)).collect().concat()
[11:06:37] -playbot- output truncated; full output at: http://bit.ly/1IFtDPk
[11:06:38] *** Joins: alonlevy (alon@moz-jea.st2.250.85.IP)
[11:06:43] <rkruppe> Drat =/
[11:07:01] *** Joins: panicbit2 (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[11:07:08] <geri> hi how can i fix this compiler error within play.rust-lang? http://is.gd/HKoMcc
[11:07:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:07:33] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[11:07:34] <geri> this requires cargo...but how can i make it work without?
[11:07:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:08:00] <rkruppe> You can't, rand is removed from the standard library and play.rlo doesn't do cargo
[11:08:01] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:08:04] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Quit: Leaving)
[11:08:05] <filsmick> geri: I think you should install Rust locally
[11:08:19] *** Quits: xiongmao86 (xiongmao86@moz-b4j.d82.23.116.IP) (Connection closed)
[11:08:26] <geri> filsmick: cant you make it work for play.rust-lang?
[11:08:50] <geri> filsmick: so i cant use any external packages?
[11:08:56] <filsmick> geri: how would I? As rkruppe said, play.rust-lang.org doesn't handle cargo
[11:09:00] *** panicbit2 is now known as panicbit|mobi
[11:09:01] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[11:09:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:09:23] <filsmick> geri: AFAIK, no. You have to install rust. Not that it's a big deal, you can install it in a minute if you have a good internet connection :)
[11:09:37] <geri> filsmick: i know it will work locally
[11:09:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:09:42] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[11:10:03] <filsmick> for play.rust-lang.org to handle cargo would be to complexify it a lot
[11:10:11] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:10:17] <geri> filsmick: wouldit be cool to add cargo support for play.rust-lang.org?
[11:10:19] <filsmick> if you get to the point you need an external crate, you may as well get it
[11:10:45] <filsmick> geri: cool but much more complicated, you'd have to write a Cargo.toml too
[11:10:59] <geri> filsmick: yes
[11:11:00] <filsmick> at this point, you may as well use an online VM workspace
[11:11:10] <filsmick> like c9.io
[11:11:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:11:26] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:11:39] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:11:43] <filsmick> almost all providers have free plans, so if you really want to play around with Rust remotely, you can set up a workspace, install it on the VM and resume your experiment
[11:11:56] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[11:12:04] <geri> filsmick: what about code sharing?
[11:12:28] <filsmick> geri: you can use GitHub for that
[11:12:32] <geri> filsmick: you have to sign in and stuff
[11:12:34] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:12:48] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[11:13:03] <filsmick> geri: sure, but nowadays, almost everyone has a GitHub account. rust itself is developed on GitHub.
[11:13:04] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[11:13:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:13:23] <filsmick> and if you just want to share the code, you can use gist.github.com, there's a guest version
[11:13:32] <geri> filsmick: but github doesnt show you compiler errors :)
[11:13:36] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:13:41] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:13:45] <geri> so having that both together would be handy
[11:13:58] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[11:14:03] <filsmick> usually people upload a little repo if they have a medium-sized experiment
[11:14:28] <rkruppe> geri: un/fortunately the cloud-ization of the world isn't *that* far along
[11:14:32] <filsmick> when I share compiler errors, I use gist
[11:15:01] *** Joins: panicbit (panicbit@moz-g18.fcl.0.176.IP)
[11:15:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:15:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:16:27] *** Joins: Blei (philipp@moz-k6lbjp.dynamic.hispeed.ch)
[11:16:33] *** Joins: turtil (turtil@moz-98pgrn.orcon.net.nz)
[11:16:46] *** Joins: andreabedini (andreabedin@moz-fpvfar.iinet.net.au)
[11:17:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:17:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:17:42] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:17:44] *** Joins: yota (sdouche@moz-bq0cna.3iqc.r856.0e35.2a01.IP)
[11:17:48] <geri> rkruppe: but bug report would be handy too...
[11:17:53] *** Quits: panicbit|mobi (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:17:54] <geri> filsmick: 
[11:18:17] <geri> if someone uses cargo
[11:18:52] *** Joins: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net)
[11:19:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:19:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:20:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:21:11] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[11:21:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:21:44] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[11:22:12] *** Joins: mib_q3fwo4 (Mibbit@moz-u40sm6.pppoe.mtu-net.ru)
[11:22:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:23:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:23:36] *** Quits: mib_q3fwo4 (Mibbit@moz-u40sm6.pppoe.mtu-net.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[11:24:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:25:13] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[11:25:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:25:53] *** Quits: acgtyrant (acgtyrant@moz-tq1.poc.176.60.IP) (Connection closed)
[11:26:04] *** Quits: Siosm (quassel@moz-7ucvlk.c3r2.lncg.41d0.2001.IP) (A TLS packet with unexpected length was received.)
[11:26:12] *** Joins: Siosm (quassel@moz-hkaoqt.fr)
[11:26:49] *** Quits: SpaceManiac (Tad@moz-g50q8a.dyn.suddenlink.net) (Ping timeout: 121 seconds)
[11:26:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:27:08] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:27:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:28:03] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[11:28:06] *** Joins: skeuomor1 (skeuomorf@moz-34i.sa8.32.197.IP)
[11:28:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:29:05] *** Joins: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be)
[11:29:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:29:15] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[11:29:17] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[11:30:02] *** Joins: Guest84 (textual@moz-4e65gs.broadband.corbina.ru)
[11:30:02] *** Quits: Guest84 (textual@moz-4e65gs.broadband.corbina.ru) (Quit: Textual IRC Client: www.textualapp.com)
[11:30:17] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Quit: ZNC - http://znc.in)
[11:30:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:30:50] *** Quits: skeuomorf (skeuomorf@moz-vf8.q8a.32.197.IP) (Ping timeout: 121 seconds)
[11:31:02] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Ping timeout: 121 seconds)
[11:31:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:32:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:33:04] <Mutabah> What's up with the "cast to fat pointer" error on nightly?
[11:33:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:33:24] <Mutabah> Why is it an error, and how do you create boxed traits now?
[11:34:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:35:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:35:34] <Luqman> Mutabah: as in Box<T> to Box<Trait> where T: Trait?
[11:36:02] <Luqman> you just have it coerce, `let t: Box<Trait> = Box::new(some_t);`
[11:36:09] <Mutabah> Yes
[11:36:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:36:46] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[11:37:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:37:19] <Mutabah> Luqman: It doesn't seem to be (when doing ret.push(box impls_trait))
[11:37:22] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[11:37:30] <Mutabah> Or when returning
[11:38:03] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:38:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:39:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:39:00] *** Quits: RCIX (RCIX@moz-r1pej6.reverse.softlayer.com) (Ping timeout: 121 seconds)
[11:39:03] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[11:39:07] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[11:39:48] <Luqman> Mutabah: are you sure ret is of type Vec<Box<Trait>> and not Vec<Box<T>>? Could be inferring the wrong one. Works in this case http://is.gd/ihCCmk
[11:39:59] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[11:40:05] *** Quits: debu (debu@moz-q07n1a.dyn.telefonica.de) (Ping timeout: 121 seconds)
[11:40:18] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[11:40:25] <bluss> Mutabah: is it a breaking change?
[11:40:30] <Luqman> Mutabah: return value also seems to work http://is.gd/6lAqLm
[11:40:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:40:56] <Mutabah> bluss: It may have been a breaking change to the box lang item
[11:40:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:41:10] <Mutabah> (This is in my kernel, just upgraded to see if a bug with privacy was fixed)
[11:41:10] <bluss> box_synta
[11:41:23] <bluss> ah then it's fine, only breaking unstable stuff
[11:41:53] <bluss> find the PR and tell them they should have tagged it [breaking-change] ?
[11:41:55] <bluss> it's not on http://bitrust.octarineparrot.com/
[11:41:57] <Mutabah> bluss: It's erroring on the box type, not so much on the lang item
[11:41:58] *** Joins: ek (ek@moz-qflbma.no)
[11:42:13] <Luqman> Mutabah: What's the error exactly?
[11:42:14] * Mutabah goes digging
[11:42:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:42:41] <Mutabah> Ah, CoerceUnsized apepared
[11:42:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:43:10] *** Quits: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net) (Connection closed)
[11:43:11] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[11:43:22] *** Joins: tomh- (uid501@moz-bvkt87.charlton.irccloud.com)
[11:43:34] <Mutabah> Luqman: Mismatched types, but I'm using a local impl of Box, so might be the previously named op
[11:44:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:44:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:45:01] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:45:34] *** Quits: umbridge (Mibbit@moz-g0djuf.broadband.redcom.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[11:45:36] <rkruppe> Mutabah: So it only changed how Box has to be defined in the library, not how it acts when it's properly defined?
[11:45:41] <Mutabah> Ah, yeah, it was Unsize
[11:45:44] <Mutabah> rkruppe: Yeah
[11:45:45] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[11:45:53] <Mutabah> Breaking for those working in no_std
[11:45:59] *** Joins: panicbit2 (panicbit@moz-m96.7t9.0.176.IP)
[11:46:21] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[11:46:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:46:31] <rkruppe> Well, for those who don't use liballoc but still want Box
[11:46:43] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[11:46:43] <Mutabah> Oh come on! And the error I was hitting is still there (the reason why I ran rustup)
[11:46:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:47:13] *** Quits: panicbit2 (panicbit@moz-m96.7t9.0.176.IP) (Quit: Eh.)
[11:48:03] *** Quits: panicbit (panicbit@moz-g18.fcl.0.176.IP) (Ping timeout: 121 seconds)
[11:48:10] <Mutabah> private type export error. Pub method in a private module, referencing something from super
[11:48:12] *** Joins: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net)
[11:48:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:48:27] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[11:48:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:49:10] <Mutabah> http://is.gd/7Hhjfw
[11:49:12] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[11:49:36] *** Quits: DrPete_ (DrPete@moz-utglrt.skybroadband.com) (Ping timeout: 121 seconds)
[11:49:54] *** Quits: andreabedini (andreabedin@moz-fpvfar.iinet.net.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:50:03] <bluss> you can work around it
[11:50:06] *** Joins: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi)
[11:50:09] <bluss> not sure if that's another bug that you can
[11:50:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:50:42] <Mutabah> bluss: Oh, I can work around it (make that type public), but I'm pretyt sure that's a bug
[11:50:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:50:47] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[11:50:55] <bluss> pub type Filesystem = super::Filesystem;
[11:50:56] <bluss> yeah
[11:51:01] <rkruppe> Have you filed an issue?
[11:51:08] <bluss> that workaround is benign ^
[11:51:20] <Mutabah> rkruppe: Not yet
[11:51:26] <Mutabah> rkruppe: Only just confirmed it
[11:51:45] *** Joins: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se)
[11:51:52] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[11:52:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:52:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:54:13] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[11:54:36] *** Quits: James (quassel@moz-ph8o2f.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[11:54:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:54:58] <Mutabah> rkruppe: gh25532
[11:55:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:55:11] *** Joins: andresv (textual@moz-kvanfr.dyn.estpak.ee)
[11:55:13] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:55:24] <jnicklas> When is serde_macros going to be useable from stable Rust? I’m assuming syntax extensions are a long way off, but is there any concrete plan to ingegrate serde into Rustc?
[11:56:11] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:56:16] <jnicklas> Is serde going to be widely used anyway, despite not being able to derive?
[11:56:18] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[11:56:30] <Mutabah> bluss: Thanks (I couldn't make the actual type public becuase it impls deref)
[11:56:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:57:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:57:24] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[11:57:51] <rkruppe> jnicklas: No idea what the people responsible are planning, but with syntex it might be usable as a third party crate before syntax extensions proper are stable
[11:57:53] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[11:58:16] <rkruppe> https://github.com/erickt/rust-syntex
[11:58:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:58:34] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:58:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:59:31] <jnicklas> rkruppe: ahh cool, thanks!
[11:59:45] *** Joins: jadbaires (jadrian@moz-s74400.dsl.telepac.pt)
[12:00:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:00:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:02:11] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Client exited)
[12:02:19] *** Quits: nercury (nercury@moz-ngr949.static.zebra.lt) (Client exited)
[12:02:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:02:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:03:23] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[12:03:39] *** Joins: proc (proc@moz-2lgajd.dip0.t-ipconnect.de)
[12:03:55] <proc> doomsday, stackoverflow down :D
[12:04:01] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[12:04:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:04:34] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[12:04:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:05:23] *** Quits: casey (casey@moz-5gh.37l.160.167.IP) (Connection closed)
[12:05:43] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[12:05:44] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[12:05:54] *** Quits: raichoo (raichoo@moz-i3856u.dsl.tropolys.de) (Ping timeout: 121 seconds)
[12:05:59] *** Joins: casey (casey@moz-5gh.37l.160.167.IP)
[12:06:03] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[12:06:07] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[12:06:19] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[12:06:21] *** Joins: lenstr (lenstr@moz-4p5.vju.25.171.IP)
[12:06:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:06:49] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:06:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:06:55] *** Quits: casey (casey@moz-5gh.37l.160.167.IP) (Connection closed)
[12:06:56] *** Joins: casey (casey@moz-5gh.37l.160.167.IP)
[12:07:19] *** Quits: casey (casey@moz-5gh.37l.160.167.IP) (Connection closed)
[12:07:20] *** Quits: djhworld (djhworld@moz-uag.hpf.10.94.IP) (Ping timeout: 121 seconds)
[12:07:37] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[12:07:41] *** Joins: casey (casey@moz-5gh.37l.160.167.IP)
[12:07:45] *** Quits: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[12:07:57] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[12:08:02] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[12:08:13] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[12:08:14] *** Joins: petermonsson (Mibbit@moz-lp6.pa9.120.188.IP)
[12:08:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:08:21] *** Quits: tyrion-mx (tyrion@moz-t0hlg0.torproxy.org) (Quit: Leaving)
[12:08:23] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[12:08:31] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[12:08:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:09:06] *** Quits: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it) (Ping timeout: 121 seconds)
[12:09:46] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[12:10:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:10:18] *** Quits: Pavel (Pavel@moz-a8qgi0.lidos.cz) (Quit: Leaving)
[12:10:35] *** Joins: tekkentux (Mibbit@moz-v6a8tc.wla.hu)
[12:10:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:10:56] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:11:01] <petermonsson> Hi all, how do I call sqrt on a 64bit double?
[12:11:18] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[12:11:32] <tilpner> playbot: 42f64.sqrt() // petermonsson 
[12:11:34] -playbot- 6.480741
[12:11:35] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:11:43] *** Quits: casey (casey@moz-5gh.37l.160.167.IP) (Ping timeout: 121 seconds)
[12:12:09] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[12:12:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:12:26] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:12:36] *** Joins: Matt3o12 (Matt3o12@moz-k425qh.hide.io)
[12:12:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:12:43] <_Vi> Can compiler automatically compare old and new library APIs and warn "Hey, you have introduced a breaking change. Bump a major version number"?
[12:12:55] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[12:13:04] <petermonsson> cargo build    Compiling nbody v0.0.1 src\main.rs:2:29: 2:35 error: type `f64` does not implement any method in scope named `sqrt` src\main.rs:2     println!("{:.9}", 42f64.sqrt());
[12:13:27] <WindowsBunny> _Vi: That is a fantastic idea, but it hasn't been done yet
[12:13:32] *** Joins: runarberg (Mibbit@moz-4m7.c7b.17.89.IP)
[12:13:38] <bluss> _Vi: that would be neat. Advice for API evolution will probably not be that strict though
[12:13:53] <bluss> _Vi: See RFC for more info https://github.com/rust-lang/rfcs/pull/1105
[12:13:56] <_Vi> WindowsBunny, Is Cargo accessing Git a good idea?
[12:14:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:14:26] <petermonsson> The complete code is: 
[12:14:29] <WindowsBunny> _Vi: I was thinking more along the lines of fetching the previous crate from crates.io
[12:14:29] <petermonsson> fn main() {     println!("{:.9}", 42f64.sqrt()); }
[12:14:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:14:52] <WindowsBunny> _Vi: It could do it as part of the cargo publish check
[12:15:07] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[12:15:20] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:15:23] <tilpner> playbot-mini: fn main() { println!("{:.9}", 42f64.sqrt()) }
[12:15:24] -playbot-mini- 6.480740698
[12:15:35] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[12:15:37] <tilpner> petermonsson - Seems to work here. What's your version?
[12:15:38] <_Vi> bluss, Yes, I was reading a document from rfcs/pull/1105 and thought "why can't it be auto"?
[12:15:52] <petermonsson> rustc 1.0.0-nightly (3e4be02b8 2015-03-13) (built 2015-03-14)
[12:16:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:16:31] *** Quits: andresv (textual@moz-kvanfr.dyn.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:16:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:16:37] <_Vi> Shall I add a feature request issue on Cargo?
[12:17:47] <bluss> _Vi: could it be developed as a separate tool?
[12:17:55] <bluss> just don't want to put the burden on cargo
[12:17:56] <rkruppe> petermonsson: Oh that's really old, it may predate the switch to inherent methods
[12:17:57] <tilpner> petermonsson - You might have to update. :/
[12:18:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:18:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:18:33] <petermonsson> Whoops, I have just installed the official 1.0.0
[12:18:40] <petermonsson> Didn't work I gues.
[12:18:56] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[12:19:44] <_Vi> bluss, The idea may work well if library authors can get such warnings without explicitly requesting for them. Imagine an author developing a library and not thinking about semver at all. But as soon as he sees a sudden warning "this is a breaking change for users of your library", he may start thinking about versions, API stability and so on...
[12:19:59] <tilpner> petermonsson - If you can, I suggest installing multirust [ https://github.com/brson/multirust ].
[12:20:01] <petermonsson> Ahh, I have a 32 bit and a 64 bit version.
[12:20:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:20:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:20:35] *** Joins: ytain (ytain@moz-07c3h9.dsl.teksavvy.com)
[12:20:54] <_Vi> Is idea of automatic control not just the result of development, but also for a process of development not nice?
[12:21:16] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:21:28] <rkruppe> _Vi: Even if it should be in cargo sooner or later, the kinks can be hammered out in a separate project first
[12:21:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:22:05] *** Joins: errordev1loper (ilya@moz-uu0.nlr.200.90.IP)
[12:22:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:22:42] <_Vi> Shall I make a post at users.rust-lang.org to make idea keep itself afloat and not buried in IRC history?
[12:23:19] <rkruppe> Maybe even internals.runst-lang.org, depending on whether you're looking for "yes I'd use this" or "here's how you could implement that"
[12:23:24] *** Quits: errordeveloper (ilya@moz-85d.c2g.209.90.IP) (Ping timeout: 121 seconds)
[12:23:50] <_Vi> The former.
[12:23:51] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[12:23:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:24:21] *** Joins: meh (meh@moz-odufem.42-151.net24.it)
[12:24:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:25:35] *** Quits: turtil (turtil@moz-98pgrn.orcon.net.nz) (Ping timeout: 121 seconds)
[12:25:50] *** Joins: nercury (nercury@moz-ngr949.static.zebra.lt)
[12:25:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:25:58] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[12:26:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:27:09] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Ping timeout: 121 seconds)
[12:27:34] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[12:27:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:28:12] *** Quits: esgeh1 (sg@moz-as87me.dyn.telefonica.de) (Quit: Leaving.)
[12:28:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:29:21] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[12:29:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:30:03] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[12:30:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:30:38] <mirek> can somebody help me with accessing upper directory when importing logic http://stackoverflow.com/questions/30286861/rust-import-from-upper-directory ? i’m not sure how to do it
[12:30:47] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[12:31:29] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[12:31:31] <Matt3o12> Hey. I just started learning rust and the tutorial pointed out that rust uses i32 (a singed 32-bit integer, I suppose) for numbers by default. Why does rust use such a “small number” considering the fact that most systems run on 64-bit these days (and should be able to handle 64 bits just as quickly) and more and more langauges use 64 bit integers by default (Golang, python)?
[12:31:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:32:02] <benh> afaik it's because it ends up not being just as quick
[12:32:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:32:26] <bluss> python uses arbitrary size integers
[12:32:51] <Ms2ger> Matt3o12, it's usually the right tradeoff
[12:32:53] *** Joins: lenstr_ (lenstr@moz-0ot.vju.25.171.IP)
[12:33:17] <Matt3o12> Ms2ger: What’s the tradeoff? What’s wrong with 64 bit?
[12:33:22] <rkruppe> Even on x64 chips some operations are faster on i32 than on i64, for example multiplications
[12:33:28] <Ms2ger> It's slower
[12:33:39] <Ms2ger> And it uses more memory
[12:33:39] <rkruppe> Also i64 takes twice as much space, hence you get only half the mileage out of your cache
[12:33:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:33:43] <Havvy> rkruppe:  Addition too.
[12:33:43] <bluss> Matt3o12: an i64 is twice as much data as i32. It matters if you do operations on a lot of data
[12:33:46] <rkruppe> And cache rules everything around me
[12:33:52] <rkruppe> Havvy: That too? I wan't sure
[12:33:55] <Ms2ger> I hadn't even thought about the cache
[12:34:07] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:34:07] <Matt3o12> rkruppe: Thanks! I didn’t know that
[12:34:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:34:14] <Havvy> rkruppe:  When it comes to SIMD, you can fit in twice as many i32 adds as i64 adds.
[12:34:35] <benh> iirc we've been really sad for a long time about people posting benchmarks comparing C++ with rust where C++ used 32bit ints and rust used the previous default of 64bit ints and rust was measurably slower
[12:34:39] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[12:34:40] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[12:34:53] <rkruppe> Havvy: Oh, yeah, sure, I wasn't even thinking of that. A lot of code doesn't or even can't use SIMD
[12:35:10] <_Vi> Posted: https://users.rust-lang.org/t/warnings-for-breaking-semver/1415
[12:35:23] *** Quits: lenstr (lenstr@moz-4p5.vju.25.171.IP) (Ping timeout: 121 seconds)
[12:35:27] <Havvy> rkruppe:  Sure, but a lot of code can be optimized to use it too.
[12:35:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:35:43] <rkruppe> Yeah I just don't have it on the radar usually
[12:35:52] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[12:36:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:36:43] *** Joins: ekidd (ekidd@moz-6t81cn.nh.comcast.net)
[12:37:12] <Havvy> Anyways, the point of using i32 by default is that the vast majority of logical number ranges are going to be less than 2^31. If it's going to be anywhere close, you probably want to use a BigInt of some kind.
[12:37:17] <ekidd> Greetings! Is there a tool which makes it easy to install Rust nightlies in parallel with Rust 1.0? Something like rvm for Rust?
[12:37:36] <benh> there's a thing called multirust and just from the name i suspect it does what you want but i haven't tried it
[12:37:37] <Mutabah> ekidd: Yep, multirust
[12:37:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:37:46] <rkruppe> Doesn't work on windows though
[12:37:57] <Havvy> !multirust
[12:37:57] <rustbot> A tool for managing multiple Rust installations. https://github.com/brson/multirust
[12:38:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:38:29] <ekidd> Mutabah: You just made my day. :-)
[12:38:58] *** Quits: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[12:39:21] *** Joins: asQuirre_ (asQuirreL@moz-ro1qqu.ox.ac.uk)
[12:39:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:39:55] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[12:40:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:40:17] *** Joins: casey (casey@moz-hlk.37l.160.167.IP)
[12:41:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:41:53] *** Joins: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com)
[12:41:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:42:18] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Ping timeout: 121 seconds)
[12:43:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:43:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:44:10] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:44:20] *** Quits: casey (casey@moz-hlk.37l.160.167.IP) (Ping timeout: 121 seconds)
[12:44:28] <petermonsson> tilpner: Thanks a lot
[12:45:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:45:29] <geri> will strace still write to file if the app crashes?
[12:45:49] <geri> i run: strace -fo logfile /path/to/app
[12:45:50] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[12:45:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:46:11] *** Quits: lenstr_ (lenstr@moz-0ot.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[12:46:24] *** Quits: blipped (blipped@moz-mrh.29n.18.14.IP) (Ping timeout: 121 seconds)
[12:46:53] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[12:47:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:47:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:47:54] *** Joins: debu (debu@moz-q07n1a.dyn.telefonica.de)
[12:48:29] *** Quits: duncanmv (duncan@moz-mqudpn.dip0.t-ipconnect.de) (Quit: Ex-Chat)
[12:49:10] <iliekturtles> http://is.gd/2RhdLn -- Any idea why this is failing to compile? Comment out the `nested` module and it's fine. Adding an explicit `use std::ops::Deref` in each module fixes it, but I was hoping to not need `use`s.
[12:49:11] *** Quits: PudgePacket (Mibbit@moz-obu378.tpgi.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[12:49:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:49:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:49:50] <Mutabah> iliekturtles: ::std::ops
[12:49:59] <iliekturtles> Mutabah: Awesome, thanks.
[12:50:00] <Mutabah> iliekturtles: (you need to make it absolute, not relative)
[12:50:05] *** Quits: crispyzeal (crispyzeal@moz-60quep.nc.charter.com) (Ping timeout: 121 seconds)
[12:50:35] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[12:51:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:51:21] *** Joins: mindtree (Mitch@moz-0oi8sr.iprimus.net.au)
[12:51:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:51:57] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[12:53:10] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[12:53:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:53:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:55:05] *** Joins: Sho (sho@moz-osuubg.cust.telecolumbus.net)
[12:55:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:56:01] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:56:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:56:30] *** Joins: creationix (creationix@moz-ebi8rk.cpe.cableone.net)
[12:56:48] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[12:57:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:57:40] *** Quits: mindtree (Mitch@moz-0oi8sr.iprimus.net.au) (Ping timeout: 121 seconds)
[12:57:51] *** zz_kimundi is now known as kimundi
[12:58:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:58:05] <bluss> are there more [T]-alikes than [T], str and Path in libstd?
[12:58:13] *** Quits: yuja (yuja@moz-v2bs4c.so-net.ne.jp) (Ping timeout: 121 seconds)
[12:58:24] <bluss> Oh OsStr of course
[12:58:38] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[12:59:19] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[12:59:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:59:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:00:38] *** Quits: zxcdw (rtp@moz-ipnsth.cust.bredband2.com) (Ping timeout: 121 seconds)
[13:00:55] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[13:01:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:01:34] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:01:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:03:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:03:30] *** Quits: filsmick (filsmick@moz-m2e3vv.abo.wanadoo.fr) (Quit: )
[13:03:37] <Manishearth> bluss: Mutabah review? 
[13:03:37] <Manishearth> https://github.com/Manishearth/manishearth.github.io/blob/source/source/_posts/2015-05-08-the-problem-with-shared-mutability.markdown
[13:03:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:03:58] *** Quits: Matt3o12 (Matt3o12@moz-k425qh.hide.io) (Client exited)
[13:05:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:05:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:06:17] *** Quits: nercury (nercury@moz-ngr949.static.zebra.lt) (Client exited)
[13:06:58] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[13:07:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:07:30] *** Joins: andresv (textual@moz-kvanfr.dyn.estpak.ee)
[13:07:32] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:07:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:08:09] *** Quits: JuggleTux (tux@moz-ikqjs5.adslplus.ch) (Ping timeout: 121 seconds)
[13:08:26] *** Quits: runarberg (Mibbit@moz-4m7.c7b.17.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:08:31] *** Joins: trigen (MSX@moz-sgda69.static.versatel.nl)
[13:08:42] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[13:09:14] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[13:09:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:09:22] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[13:09:30] <bluss> I'll read it
[13:09:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:10:34] *** Quits: andresv (textual@moz-kvanfr.dyn.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:11:14] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[13:11:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:11:24] *** Joins: yuja (yuja@moz-4hssp3.so-net.ne.jp)
[13:11:39] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:11:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:12:56] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[13:13:00] *** Joins: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de)
[13:13:08] <geri> does rust provide access to uio (char device) ?
[13:13:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:13:36] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[13:13:39] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:14:52] *** Quits: Sho (sho@moz-osuubg.cust.telecolumbus.net) (Quit: Konversation terminated!)
[13:15:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:15:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:16:20] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[13:17:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:17:11] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[13:17:25] *** Joins: cllns (sean@moz-op27og.ma.comcast.net)
[13:17:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:17:40] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[13:17:51] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[13:18:24] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:19:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:19:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:19:40] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Connection closed)
[13:20:31] *** Joins: Sho (sho@moz-osuubg.cust.telecolumbus.net)
[13:21:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:21:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:21:30] *** Quits: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com) (Quit: Leaving)
[13:21:50] <myname> so... what is the best way to get cargo on arch linux? it's not included in community/rust, cargo-git fails with "Unable to get packages from source" and cargo-bin installs but fails at runtime with "cannot open shared object"
[13:21:57] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[13:22:00] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:22:10] *** Quits: Feyn (Feyn@moz-r04.5ro.115.42.IP) (Quit: Leaving)
[13:22:11] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[13:22:20] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[13:22:22] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[13:22:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:23:11] *** Joins: raichoo (raichoo@moz-9giou1.dip0.t-ipconnect.de)
[13:23:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:24:28] <rkruppe> Bug the package maintainer to include cargo? :P
[13:24:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:25:03] <rkruppe> You may be able to build it from source, I don't know if Cargo compiles under stable yet
[13:25:15] *** Quits: moop (mjolnir@moz-hvk.l7d.199.128.IP) (Connection closed)
[13:25:19] <myname> oh
[13:25:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:25:38] *** Joins: moop (mjolnir@moz-hvk.l7d.199.128.IP)
[13:25:42] *** Joins: tincan (tincan@moz-gp5ov9.ip.telfort.nl)
[13:26:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:27:16] *** Joins: khades (Thunderbird@moz-s8b.3vk.74.212.IP)
[13:27:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:28:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:29:02] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Connection closed)
[13:29:04] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[13:29:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:29:36] *** Quits: creationix (creationix@moz-ebi8rk.cpe.cableone.net) (Client exited)
[13:30:00] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[13:30:13] *** Joins: jviereck (Adium@moz-0vim3p.dclient.hispeed.ch)
[13:30:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:30:53] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[13:31:07] *** Joins: tsudot_ (tsudot@moz-ml2.ees.201.123.IP)
[13:31:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:31:20] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[13:31:29] <tsudot_> Hi, is there a way to inspect the methods I have available on a struct object? Something like dir(obj) in python
[13:31:40] <geri> can i make sure that the info gdb displays is current when i build the rust app with debug??
[13:32:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:33:03] <tilpner> !mulirust @ myname
[13:33:07] <tilpner> !multirust @ myname
[13:33:08] <rustbot> myname: A tool for managing multiple Rust installations. https://github.com/brson/multirust
[13:33:10] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[13:33:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:34:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:34:55] *** Joins: etw (john@moz-3h5sr6.fios.verizon.net)
[13:35:01] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[13:35:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:35:38] <Mutabah> tsudot_: Not at runtime
[13:36:24] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[13:36:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:36:57] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[13:37:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:37:13] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[13:37:15] *** Joins: jot (Mibbit@moz-aao41h.dip0.t-ipconnect.de)
[13:37:23] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[13:38:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:38:36] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[13:38:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:39:02] *** Joins: joeyjoejoejr (jbdietrich@moz-ph5.jg7.239.216.IP)
[13:39:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:39:29] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[13:40:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:40:44] *** Quits: raichoo (raichoo@moz-9giou1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:41:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:41:58] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:42:28] *** Joins: joeyjoej1ejr (jbdietrich@moz-ph5.jg7.239.216.IP)
[13:42:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:42:44] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[13:42:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:43:21] *** Joins: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com)
[13:44:29] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Ping timeout: 121 seconds)
[13:44:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:44:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:45:53] *** Joins: mib_0mb8oh (Mibbit@moz-dlkpia.bb.dnainternet.fi)
[13:46:03] <ekidd> Is there a good way to test whether a path exists in Rust 1.0 without using the unstable PathExt::exists?
[13:46:20] <ekidd> I'm guessing there's a crate somewhere that everybody uses.
[13:46:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:46:42] <mib_0mb8oh> I'm getting a core::iter::FromIterator<&Foo> is not implemented for the type &[Foo] when I have code like: let a: &[Foo] = b.iter().anything_here().collect(); -- where b is &[Foo]
[13:46:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:46:54] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[13:46:55] *** Quits: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com) (Quit: This computer has gone to sleep)
[13:47:06] <Mutabah> mib_0mb8oh: &[T] is a borrow
[13:47:11] <Mutabah> mib_0mb8oh: Try Vec<Foo> instead
[13:47:15] <Mutabah> (which is an owned colleciton)
[13:47:37] *** Joins: danyel (danyel@moz-66dgla.dip0.t-ipconnect.de)
[13:47:55] <mib_0mb8oh> That won't work either, it gives that core::iter::FromIterator<&Foo> is not implemented for the type Vec<Foo>
[13:48:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:48:28] <mib_0mb8oh> It works if I have a vec, and call iter for that, but if I call iter for a slice, I don't know how to handle that
[13:48:33] <Mutabah> Oh, yeah, and add .cloned() to your anything_here
[13:48:46] <Mutabah> Most iterators return borrows of the source memory
[13:48:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:48:51] *** Joins: runarberg (Mibbit@moz-4m7.c7b.17.89.IP)
[13:48:53] <Mutabah> So, to collect copies, you need to copy
[13:49:05] <mib_0mb8oh> Mutabah: ok that works, but is there a way to do this without those allocations?
[13:49:25] <Mutabah> mib_0mb8oh: You mean without maing copies of the Foo instances?
[13:49:30] <mib_0mb8oh> I'm actually trying to extract the first X elements from a slice, based on a predicate, then use those 
[13:49:33] <Mutabah> That would require consuming 'b' somehow
[13:49:33] <mib_0mb8oh> yes
[13:49:50] <ekidd> Hmm. No obvious alternatives for PathExt::exists on Cargo.
[13:49:58] *** Quits: lht (lht@moz-f8r.k6r.240.220.IP) (Client exited)
[13:50:17] *** Quits: jviereck (Adium@moz-0vim3p.dclient.hispeed.ch) (Quit: Leaving.)
[13:50:19] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:50:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:50:41] <ekidd> Maybe it's stablized on the beta channel?
[13:50:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:51:01] <Mutabah> ekidd: A trick is to just try to open the file
[13:51:04] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[13:51:11] *** Quits: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de) (Client exited)
[13:51:12] <rkruppe> That or std::fs::metadata
[13:51:13] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:51:48] <Mutabah> !mib @ mib_0mb8oh 
[13:51:48] <rustbot> mib_0mb8oh: Hello, Mibbit user with a “mib_<random>” nickname. Please change your nickname to something less confusing by saying `/nick NEW_NAME_HERE`.
[13:51:50] <Manishearth> published
[13:51:51] <Manishearth> http://manishearth.github.io/blog/2015/05/08/the-problem-with-shared-mutability/
[13:52:13] <Mutabah> mib_0mb8oh: Also, It depends on the source colleciton if you can move items out of it into the iterator
[13:52:17] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[13:52:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:52:19] <ekidd> Thanks, Mutabah and rkruppe! I'm porting various people's crates to run on 1.0 and sending PRs, so your advice is a big help. :-)
[13:52:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:53:23] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[13:53:29] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[13:53:39] *** Joins: raichoo (raichoo@moz-9giou1.dip0.t-ipconnect.de)
[13:54:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:55:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:55:08] *** Joins: jviereck (Adium@moz-0vim3p.dclient.hispeed.ch)
[13:55:43] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[13:56:06] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:56:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:56:52] <mib_0mb8oh> Don't slices have index_of()? I'd like to know the index for an element in a slice
[13:57:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:57:12] <runarberg> hi, what is the preferred way of changing rustc versions from 1.0.0, beta, and nightly?
[13:57:21] <mib_0mb8oh> Mutabah: I see, I'll consider that option
[13:57:29] *** Joins: filsmick (filsmick@moz-1g2vov.abo.wanadoo.fr)
[13:58:24] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[13:58:25] *** Quits: poops (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:58:28] <bluss> mib_0mb8oh: the iterator on the slice has that (it's called .position and needs a closure though)
[13:58:35] *** Joins: shiz (Mibbit@moz-tpjl46.co.comcast.net)
[13:58:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:59:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:59:15] <mib_0mb8oh> bluss: ah thank you
[13:59:17] <runarberg> I mean, is there a version manager like nvm for node
[13:59:31] <mib_0mb8oh> btw, is the current downloadable beta 1.1?
[13:59:35] <eddyb> runarberg: multirust
[13:59:38] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[13:59:51] *** rkruppe_ is now known as rkruppe
[13:59:56] <runarberg> eddyb: thank you
[14:00:25] <bluss> mib_0mb8oh: you should be able to get 1.1 beta from rustup
[14:00:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:00:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:01:01] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Quit: Leaving...)
[14:01:08] *** Joins: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com)
[14:01:10] *** Joins: leshow (leshow@moz-j05.316.75.184.IP)
[14:01:36] *** Quits: filsmick (filsmick@moz-1g2vov.abo.wanadoo.fr) (Quit: )
[14:02:28] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[14:02:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:02:35] *** Quits: capcar (mathieu@moz-mi55kn.mc.videotron.ca) (Ping timeout: 121 seconds)
[14:02:44] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[14:02:57] *** Joins: Cindela (cindela@moz-dlkpia.bb.dnainternet.fi)
[14:02:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:03:08] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[14:03:11] *** Quits: mib_0mb8oh (Mibbit@moz-dlkpia.bb.dnainternet.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[14:03:52] *** Joins: notptr (nullpoint@moz-8sh5de.res.rr.com)
[14:04:15] *** Joins: tyler_ (tyler@moz-0nj70e.vms.pw)
[14:04:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:04:39] *** tyler_ is now known as tyler569
[14:04:54] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:05:36] *** Quits: kmcguire__ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[14:06:18] *** Joins: mib_540kc4 (Mibbit@moz-dqo95s.austtx.sbcglobal.net)
[14:06:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:06:33] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[14:06:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:07:09] <Layl> I'm running into associated types lifetime woes, any way to aleviate my problems?
[14:07:14] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[14:07:32] <Mutabah> Layl: Depends on the woes
[14:07:42] <Layl> endless rows of "X may not live long enough"
[14:07:58] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:08:11] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[14:08:17] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:08:22] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:08:48] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:08:49] *** Joins: zmack (zmack@moz-u7v.9uv.25.188.IP)
[14:08:52] *** Quits: lenstr (lenstr@moz-0ot.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[14:09:22] *** Quits: mib_540kc4 (Mibbit@moz-dqo95s.austtx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:09:52] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[14:09:53] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[14:10:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:10:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:11:16] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[14:11:33] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[14:11:41] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[14:11:49] <Layl> woah, actually nevermind
[14:11:56] <Layl> gfx's Factory and Stream do not have the problem
[14:12:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:12:25] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:12:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:13:16] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[14:13:57] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[14:14:04] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[14:14:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:14:38] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[14:14:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:14:40] *** Joins: thlst (thelost@moz-150.6k4.49.201.IP)
[14:14:55] <thlst> Guys, is there any kind of "mzero" from haskell in rust?
[14:15:11] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[14:15:38] <myname> i am a few steps further now. cargo build wants to compile tempfile and fails due to it requiring unstable features. what do i do about it?
[14:15:59] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[14:16:11] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:16:12] *** Quits: blaphmat (Mibbit@moz-3cf.tkr.230.110.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:16:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:17:59] *** NameNotFound is now known as zz_NameNotFound
[14:18:06] *** Quits: tyler569 (tyler@moz-0nj70e.vms.pw) (Quit: leaving)
[14:18:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:18:13] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[14:18:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:18:48] <thlst> Like, I need some function that returns the smallest value of any context. E.g. when I need an i32, the function returns 0, when I need an Option, it returns None.
[14:19:06] <Mutabah> thlst: :/ that sounds odd...
[14:19:12] <Mutabah> Default is _kinda_ that
[14:19:33] <myname> 0 isn't the smallest i32, though
[14:19:57] <thlst> It depends of the context
[14:19:57] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Ping timeout: 121 seconds)
[14:20:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:20:06] <Mutabah> thlst: _why_ do you need this?
[14:20:07] <thlst> I've seen the Zero and One traits from rust
[14:20:27] <thlst> because I need to create a new method for my Point struct
[14:20:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:20:40] <thlst> that creates an instance with the smallest kind of value from any context
[14:20:55] <Mutabah> Int::min() from the num crate could be it
[14:21:13] <Mutabah> That said, Zero is probably more sensible
[14:21:31] *** Quits: debu (debu@moz-q07n1a.dyn.telefonica.de) (Connection closed)
[14:21:50] <thlst> I need a value that (in Monad context) doesn't change another value
[14:22:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:22:07] <thlst> e.g. 0 doesn't change the number 1 when I do 0 + 1
[14:22:17] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[14:22:18] <thlst> 1 doesn't change the number 5 when I do 1 * 5
[14:22:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:22:29] *** Joins: peacememories (peacememori@moz-03ni57.dynamic.surfer.at)
[14:22:31] <thlst> and I need that kind of value
[14:22:42] <thlst> to initialize my struct 
[14:22:45] <myname> well, that depends on the operation, not oon the type
[14:22:52] *** Quits: tsudot_ (tsudot@moz-ml2.ees.201.123.IP) (Connection closed)
[14:22:57] <thlst> it's just an example
[14:23:08] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[14:23:10] <gattschardo> i think that doesn't exist in general
[14:23:16] <Mutabah> thlst: That sounds overly generic
[14:23:22] <Mutabah> For a Point struct, use Zero
[14:23:24] <thlst> and indeed it is
[14:23:33] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:23:41] <Mutabah> Because points act on numbers
[14:23:57] <gattschardo> e.g., take a Result<T,Err>, if you map(), Err doesnt change, for map_err() T doesnt
[14:24:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:24:04] <gattschardo> but in general both could
[14:24:16] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:24:26] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[14:24:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:24:35] <thlst> ok, I'll see it
[14:24:44] <thlst> thanks to all
[14:24:47] <thlst> :)
[14:25:22] *** Quits: meh (meh@moz-odufem.42-151.net24.it) (Ping timeout: 121 seconds)
[14:25:42] *** Joins: thor (thor@moz-n7n1a4.res.rr.com)
[14:25:47] <Layl> I'm doing "let mut render_data = &self.render_data.borrow_mut();" but I'm still getting an error that I can't access fields from render_data as mutable, what am I doing wrong here?
[14:25:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:26:16] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[14:26:17] *** Joins: mib_ajidfj (Mibbit@moz-m53fs2.ma.comcast.net)
[14:26:23] *** Joins: lawki (lawki@moz-g30kr6.abo.wanadoo.fr)
[14:26:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:26:48] *** Quits: mib_ajidfj (Mibbit@moz-m53fs2.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:27:05] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[14:27:25] <Manishearth> Layl: what type is render_data?
[14:27:32] <Manishearth> also, you might want to &mut
[14:27:43] *** Quits: runarberg (Mibbit@moz-4m7.c7b.17.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:27:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:27:57] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Ping timeout: 121 seconds)
[14:27:59] <Layl> render_data is a Rc<RefCell<RenderData>>
[14:28:06] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:28:18] <Layl> I'm trying to get the value as mutable out of that refcell
[14:28:20] <Cindela> Why calling foos[0] where foos is &[Foo] returns a Foo instead of &Foo?
[14:28:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:28:26] <tyrick> I am having trouble getting my macros to work in a lib
[14:28:40] <tyrick> Do I need anything about extern crate lib;?
[14:28:52] <tyrick> like another #[use_macro] for example?
[14:29:01] <tyrick> macro_use*
[14:29:50] *** Joins: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it)
[14:29:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:30:00] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[14:30:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:30:22] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:30:26] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[14:30:31] <bluss> Cindela: it's a choice rust made. If you want a reference, use &foos[0]
[14:30:38] <Mutabah> tyrick: You need #[macro_export] on the macro in the lib
[14:30:47] <Mutabah> tyrick: and #[macro_use] on the extern crate
[14:30:48] <tyrick> Mutabah, I have that
[14:30:54] <tyrick> Mutabah, Ah, I see
[14:30:55] <Cindela> bluss, isn't it more heavy weight to return a new copy of the slice?
[14:31:01] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[14:31:17] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[14:31:23] <Cindela> how much overhead does a slice have (memory wise)? I didn't see src-link in the docs for it so I'm not really sure.
[14:31:25] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:31:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:32:00] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[14:32:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:32:18] *** Joins: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi)
[14:32:22] <annodomini> Cindela: A slice is represented by two pointer sized integers.
[14:32:44] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[14:32:58] <Cindela> annodomini, I see, and a & pointer is literally just one uint_ptr_t / usize / pointer size ?
[14:33:05] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[14:33:41] <Cindela> So returning a [T] instead of &[T] bears just one extra usize overhead
[14:33:44] *** Joins: jpg (jpg@moz-ldeh9l.internode.on.net)
[14:33:45] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[14:33:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:34:03] <bluss> Cindela: [T] is dynamically sized type, it can only be passed behind a pointer
[14:34:04] <annodomini> Cindela: That's right.
[14:34:09] <bluss> Cindela: so you can't return [T]
[14:34:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:34:16] <annodomini> Sorry, what bluss said.
[14:34:43] <bluss> Cindela: &[T] (pointer-to-slice) is a fat pointer and is represented by two poitner sized integers like annodomini said
[14:34:45] <Layl> so, anyone knows how to fix my mutability woes with refcell?
[14:34:56] <annodomini> &[T] is a slice, which has the two pointer-sized integer representation.
[14:35:07] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[14:35:20] <annodomini> You can see the definition here: http://doc.rust-lang.org/std/raw/struct.Slice.html
[14:35:26] *** Joins: Diggsey (diggsey@moz-gnv64q.dsl.pipex.com)
[14:35:30] <Cindela> Where can I see the source? Would help a lot
[14:35:35] <bluss> Cindela: so a &-reference is either "thin" or "fat" depending on the type it points to
[14:35:46] <Cindela> Hmm found this, http://doc.rust-lang.org/src/core/raw.rs.html#61-64
[14:35:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:35:53] *** Joins: maro (maro@moz-ckkleg.highway.telekom.at)
[14:35:54] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[14:36:01] <Cindela> bluss, I see, starting to make sense now
[14:36:02] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[14:36:05] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:36:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:36:22] <gleb> Layl: doesn't borrow_mut already return a reference? so it would be `let render_data = self.render_data.borrow_mut();`
[14:36:52] <Layl> still gives me the "cannot borrow immutable field as mutable" on the lines afterwards where I'm accessing fields
[14:37:18] <Layl> quick gist with the snippet I'm working at: https://gist.github.com/LaylConway/3c6bf7f3e5f58999db65
[14:37:34] *** Quits: iu (iu@moz-6263qv.cc.cmu.edu) (Connection closed)
[14:37:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:38:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:38:10] <tyrick> I have my lib, liblrust.rlib sitting in the same dir as my main.rs
[14:38:27] <tyrick> extern crate lrust; isn't working
[14:38:43] *** Quits: zmack (zmack@moz-u7v.9uv.25.188.IP) (Connection closed)
[14:38:47] <tyrick> can't rind crate for 'lrust'.  Do I need to specify a path?
[14:38:53] <burntsushi> tyrick: are you using cargo?
[14:38:54] <Mutabah> tyrick: You need to tell rsutc to look in the current dir
[14:38:55] <Mutabah> -L .
[14:39:05] <tyrick> Yes, I am using cargo
[14:39:29] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[14:39:35] <burntsushi> tyrick: cargo controls rustc, so you'll need to specify your external crate as a dependency in your `Cargo.toml`.
[14:39:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:39:48] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[14:39:55] *** zz_NameNotFound is now known as NameNotFound
[14:40:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:40:30] *** Quits: Blei (philipp@moz-k6lbjp.dynamic.hispeed.ch) (Ping timeout: 121 seconds)
[14:41:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:42:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:42:17] *** Joins: zmack (zmack@moz-u7v.9uv.25.188.IP)
[14:42:25] *** Joins: gattscha1do (richard@moz-bvpagp.dyn.telefonica.de)
[14:42:25] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[14:43:02] *** Quits: gattschardo (richard@moz-hnnvbc.dyn.telefonica.de) (Ping timeout: 121 seconds)
[14:43:09] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[14:43:10] <gleb> Layl: yeah, sorry, you do need `let mut render_data`
[14:43:21] *** Quits: zmack (zmack@moz-u7v.9uv.25.188.IP) (Connection closed)
[14:43:22] <Layl> yea I noticed my mistake, the & there in front of self wasn't needed
[14:43:27] *** Quits: jot (Mibbit@moz-aao41h.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[14:43:27] <Layl> it was remaining from some old code
[14:43:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:43:37] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[14:43:38] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[14:43:50] *** rkruppe_ is now known as rkruppe
[14:44:02] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:45:01] *** Quits: jpg (jpg@moz-ldeh9l.internode.on.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:45:21] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[14:45:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:45:48] <tyrick> rustc -L . main.rs seems to get me over the crate issue, but now I am back to "macro undefined"
[14:46:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:46:02] *** Quits: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com) (Quit: This computer has gone to sleep)
[14:46:08] *** NameNotFound is now known as zz_NameNotFound
[14:46:44] <tyrick> in main.rs I have #[macro_use] and extern crate lrust;
[14:46:55] *** Quits: yuja (yuja@moz-4hssp3.so-net.ne.jp) (Ping timeout: 121 seconds)
[14:47:00] *** Joins: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com)
[14:47:08] <burntsushi> tyrick: can you show us your code? upload a gist?
[14:47:16] <tyrick> Sure
[14:47:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:47:34] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:47:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:48:04] *** zz_NameNotFound is now known as NameNotFound
[14:48:14] *** Quits: jadbaires (jadrian@moz-s74400.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:48:20] *** Joins: jadbaires (jadrian@moz-s74400.dsl.telepac.pt)
[14:48:26] <thlst> is there some way to say that T is a number?
[14:48:35] <thlst> e.g. impl<T: Num>
[14:48:40] <Mutabah> tyrick: using the num crate
[14:48:43] <Mutabah> thlst: ^
[14:49:00] *** Joins: capcar (mathieu@moz-mi55kn.mc.videotron.ca)
[14:49:08] <burntsushi> thlst: http://doc.rust-lang.org/num/num/traits/trait.Num.html
[14:49:12] <eddyb> thlst: do you want literals to work?
[14:49:20] <thlst> yes
[14:49:26] <eddyb> well, they won't
[14:49:27] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[14:49:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:49:42] <thlst> Zero and One are unstable now
[14:49:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:50:04] <eddyb> if you're fine with calling methods, that Num trait should work for most things
[14:50:18] <eddyb> T::zero() and T::one() if I'm not mistaken
[14:51:10] <Mutabah> thlst: Crate, not module
[14:51:20] <Mutabah> thlst: On crates.io, there is a num crate
[14:51:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:51:40] <tyrick> Here is a pastebin showing my three files
[14:51:40] <tyrick> http://pastebin.com/tArNTPiJ
[14:51:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:52:01] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[14:53:03] <rkruppe> I think lrust.rs has to say #[macro_use] mod macro;
[14:53:10] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[14:53:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:53:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:53:55] <tyrick> So I need it both in lrust.rs and main.rs?
[14:54:12] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Connection closed)
[14:54:24] <rkruppe> Nevermind, I skimmed through the docs and my intuition seems to be wrong
[14:54:44] *** Joins: acgtyrant_ (acgtyrant@moz-3kd.b79.160.124.IP)
[14:54:52] <thlst> tyrick: there's a website called http://play.rust-lang.org/ where you can paste your code and test it right there. Sharing the link is possible too
[14:55:02] *** Quits: jadbaires (jadrian@moz-s74400.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:55:06] *** Joins: jadbaires (jadrian@moz-s74400.dsl.telepac.pt)
[14:55:19] <rkruppe> thlst: Can't have multiple crates though, so it doesn't help with this problem
[14:55:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:56:13] <thlst> rkruppe: just saying
[14:56:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:56:20] <tyrick> rkruppe, I tried to include the extra #[macro_use] to no luck
[14:56:51] <tyrick> thlst, thanks
[14:56:52] *** Joins: zzing (textual@moz-hmnshs.cable.rogers.com)
[14:56:58] *** Quits: alonlevy (alon@moz-jea.st2.250.85.IP) (Ping timeout: 121 seconds)
[14:57:18] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[14:57:23] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[14:57:23] <spastorino> what's the difference between error: use of partially moved value and error: use of collaterally moved value: ?, because I found something weird testing some stuff
[14:57:37] *** Joins: zmack (zmack@moz-u7v.9uv.25.188.IP)
[14:57:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:57:52] <bluss> I'm writing an RFC quickly for .split_at(mid: usize) on str. Should be simple.
[14:58:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:58:15] <bluss> anyone has concerns, questions about that?
[14:58:16] <burntsushi> tyrick: here's a complete cargo example that replicates your code and works (including multiple crates)
[14:58:24] <burntsushi> tyrick: the `main` crate: https://gist.github.com/anonymous/2679ac2098ad46f98a59
[14:58:30] <rkruppe> spastorino: Never seen the second, do you have a short code snippet that produces that error?
[14:58:33] <burntsushi> tyrick: the crate that defines the macro: https://gist.github.com/anonymous/fc4f3216e52461996efc
[14:58:48] <burntsushi> tyrick: unfortunately, i can't identify where you've gone wrong :-/
[14:59:14] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Connection closed)
[14:59:17] <rkruppe> bluss: If it's just a shortcut to (&s[..mid], &s[mid..]) then I'm opposed
[14:59:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:59:24] <thlst> tyrick: I don't really know if it's gonna help, but have you tried to put your macro inside a mod macro?
[14:59:46] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:59:46] *** Quits: lenstr (lenstr@moz-0ot.vju.25.171.IP) (Connection closed)
[15:00:09] <thlst> oh, I see the problem
[15:00:10] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[15:00:11] *** Joins: lyc (lyc@moz-mt5.us4.25.175.IP)
[15:00:25] <spastorino> rkruppe: http://is.gd/4tXWuS and http://is.gd/lIxalb
[15:00:32] <thlst> tyrick: in lrust.rs, you're not using #[macro_use] up the 'mod macro'
[15:00:32] <tyrick> thlst, I can try that I suppose
[15:01:08] <thlst> tyrick: I don't know if it is the problem too
[15:01:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:01:24] <tyrick> That didn't help unfortunately 
[15:01:35] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:01:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:01:43] <thlst> tyrick: could you show the error again?
[15:01:49] <rkruppe> spastorino: Weird, seems to be the same kind of error
[15:01:50] <burntsushi> tyrick: did you see the examples i gave you? how is what you're doing different?
[15:01:57] <spastorino> rkruppe: first I'm not sure what collaterally and partially mean
[15:02:22] <spastorino> I could provide a fix but I first need to understand the intention which is not clear to me
[15:02:30] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[15:02:31] *** Quits: peacememories (peacememori@moz-03ni57.dynamic.surfer.at) (Ping timeout: 121 seconds)
[15:02:49] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:02:50] <spastorino> rkruppe: if I understand correct both are partially moved
[15:02:55] <rkruppe> spastorino: Partially moved means that some part of the struct has been moved. This is illegal because in general the compiler can't make sure the new owner won't try to use the field that has been moved
[15:03:06] <rkruppe> Yes, I'd called both partially moved
[15:03:13] <spastorino> rkruppe: yep
[15:03:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:03:27] <spastorino> that's what I understand but given the error I'm getting it confused me for a while
[15:03:29] <rkruppe> Maybe ask a compiler hacker, perhaps it's an accident (one error being detected in a different code path)
[15:03:38] *** Joins: marowo (maro@moz-ei7tpb.highway.telekom.at)
[15:03:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:03:40] *** NameNotFound is now known as zz_NameNotFound
[15:03:47] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[15:03:51] <thlst> tyrick: burntsushi is right. Have you tried to put the path of the macro inside the cargo.toml?
[15:04:02] *** Quits: raichoo (raichoo@moz-9giou1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:04:02] <bluss> rkruppe: ok that's fine. I'll link the rfc soon I think, there aren't much details
[15:04:05] <iliekturtles> http://is.gd/J2cEk4 -- Is it possible to make `s.method()` valid so that `(*s).method()` isn't required everywhere?
[15:04:17] *** Quits: lyc (lyc@moz-mt5.us4.25.175.IP) (Ping timeout: 121 seconds)
[15:04:45] <spastorino> rkruppe: this http://is.gd/RnqblX and http://is.gd/RaFYB8 would be both collaterally moved
[15:04:50] <burntsushi> iliekturtles: not as far as i know. auto deref doesn't apply to raw pointers.
[15:05:10] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:05:13] <spastorino> rkruppe: who is a compiler hacker or in what channel should I ask?
[15:05:20] <iliekturtles> burntsushi: And you can't provide an unsafe impl for a specific type?
[15:05:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:05:44] <burntsushi> iliekturtles: auto deref of `self` isn't provided by any traits. it's a language feature, i think.
[15:05:56] <iliekturtles> burntsushi: OK, thanks!
[15:06:04] <burntsushi> spastorino: use #rust-internals
[15:06:16] <spastorino> ok thanks
[15:06:22] *** zz_NameNotFound is now known as NameNotFound
[15:06:26] *** Quits: someircname (someircname@moz-eurcmp.il.comcast.net) (Quit:  )
[15:06:34] <villev> is os::make_absolute still expected to work? Getting "error: unresolved name `os::make_absolute"
[15:06:35] *** Joins: flavius (flavius@moz-pik2l3.tmpp.le52.8388.2a02.IP)
[15:06:36] <rkruppe> spastorino: IIRC Most of them are in in time zones where it's night or early morning right now
[15:06:43] *** Quits: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it) (Ping timeout: 121 seconds)
[15:06:50] *** Quits: zmack (zmack@moz-u7v.9uv.25.188.IP) (Connection closed)
[15:06:56] *** Quits: maro (maro@moz-ckkleg.highway.telekom.at) (Ping timeout: 121 seconds)
[15:06:58] <spastorino> rkruppe: k will ask later, thanks :)
[15:07:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:07:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:07:36] <flavius> Hi. Why are there almost always two instances of the same type, and which one should I use? For instance, std::rc::Rc and alloc::rc::Rc.
[15:07:49] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[15:07:50] *** kimundi is now known as zz_kimundi
[15:08:21] <rkruppe> flavius: If there's one in std, you should use that one
[15:08:29] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[15:08:51] <flavius> rkruppe: ok, and why are there 2?
[15:09:03] <rkruppe> std is the correct interface, but most of the implementations are actually in other crates
[15:09:03] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:09:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:09:07] <Derecho> I think the std one may be a reexport of the alloc one
[15:09:26] <flavius> Derecho: ok, but why?
[15:09:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:09:44] <flavius> Why is there not only one in std?
[15:09:53] <flavius> without any reexport?
[15:09:54] *** Joins: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it)
[15:09:56] <Derecho> well I can think of reasons but as I'm not sure I wouldn't want to possibly tell you untruths
[15:10:32] <rkruppe> For example, all parts of std that can work without any memory allocation or operating system APIs are in a crate called core
[15:10:35] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[15:11:00] <rkruppe> Most people should just use std, but when you're in a more constrained environment, you can use core and still get a good chunk of "the standard library"
[15:11:01] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[15:11:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:11:02] <flavius> Derecho: I won't call you a liar if that's what you're afraid of. What are possible reasons?
[15:11:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:12:02] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[15:12:06] <rkruppe> So the library exposes a simpler interface for most people, but still gives finer-grained control to those who need it
[15:12:59] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:13:11] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:13:16] *** Joins: detrumi (Wilco@moz-eo1usl.ip.telfort.nl)
[15:13:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:13:39] *** Quits: sublimate (jackmccrack@moz-pseh7a.cable.rogers.com) (Quit: This computer has gone to sleep)
[15:14:31] *** Joins: hokkos (hokkos@moz-3vnc7m.abo.wanadoo.fr)
[15:14:37] <Derecho> flavius: well all the types and functions are separated into their respectively themed crates, as separation of code is good practice and usually improves modularity. then to make it clear to the user which functions are "in standard", they're reexported under std:: . specific implementations of librust could then make different versions for some of these crates (think of embedded platforms
[15:14:39] <Derecho> requiring different floating point arithmetic). but, this is just a guess.
[15:14:54] <flavius> rkruppe: what do you mean by "a simpler interface". The struct looks to me the exact same, and since you say it's just a reexport...
[15:14:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:15:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:15:35] <rkruppe> flavius: The types and functions are the same, but they are in a single sensible module hierarchy rather than spread over ten crates, each with their own idiosyncratic structure
[15:16:17] *** Quits: thor (thor@moz-n7n1a4.res.rr.com) (Ping timeout: 121 seconds)
[15:16:21] <annodomini> flavius: A lot of the reason for re-exports is so that some of the basic types, which require no allocation or runtime, can be provided via libcore.
[15:16:35] <annodomini> liballoc then provides support for allocation
[15:16:47] <flavius> I don't understand, honestly. This would only make sense if there would be other Rc structures as well. Is there any other Rc beside the ones in std and the one in core?
[15:16:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:16:57] *** Joins: hkr (hkr@moz-gnm.bbi.206.117.IP)
[15:17:11] *** Joins: if_e1se (uid16886@moz-js7dlj.uxbridge.irccloud.com)
[15:17:12] <annodomini> libcollections, which use allocation, are then built on top of that
[15:17:20] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:17:30] <hkr> So 1.0s out!
[15:17:35] <annodomini> libstd is the highest level, that provides the standard library incliding IO, collections, and so on.
[15:17:36] <hkr> :D did they complete the book yet?
[15:17:47] <rkruppe> There is only one Rc. But if it was defined in std, then the entire standard library would be unavailable to embedded and kernel programmers
[15:18:08] <flavius> annodomini: yeah I understand the standard library's componentization
[15:18:09] <hkr> Is Rust by Example still outdated :\ ?
[15:18:13] *** Joins: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se)
[15:18:14] <annodomini> This allows you to have the ability to write low-level code that doesn't depend on things like allocation and I/O using only libcore
[15:18:18] <rkruppe> So there certainly need to be multiple crates, the only question is whether to leave them scattered all over the place or in one cohesive API
[15:18:31] <annodomini> flavius: so what is your question then?
[15:18:36] <rkruppe> hkr: I think it's barely kept compiling but not really up to date
[15:18:44] <rkruppe> hkr: The book is in good shape though
[15:18:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:18:51] <hkr> rkruppe: darn, would be a great place for starters 
[15:18:58] <hkr> will they take care of it anytime soon?
[15:19:00] *** Joins: AopicieR (AopicieR@moz-nv5074.dip0.t-ipconnect.de)
[15:19:08] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[15:19:10] <annodomini> flavius: if you are using the standard library, you should use the type exported from std
[15:19:12] <flavius> for me, reexporting an Rc doesn't improve cohesion, just modularity
[15:19:13] <hkr> oh atleast the book is in good shape
[15:19:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:19:37] <annodomini> flavius: re-exporting means that it is possible that std could contain a wrapper type that contains more functionality.
[15:20:09] <flavius> annodomini: ok, so the reexport is done just for future-proofness then?
[15:20:23] <annodomini> flavius: as far as I know, yes
[15:20:28] *** Quits: lawki (lawki@moz-g30kr6.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[15:20:29] <flavius> ok, thanks
[15:20:34] <rkruppe> I wouldn't say that
[15:20:43] <rkruppe> core and alloc will be stabilized soon-ish
[15:20:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:20:58] <rkruppe> But isn't it much nicer to have a single standard library crate than ten?
[15:21:05] *** Quits: AopicieR (AopicieR@moz-nv5074.dip0.t-ipconnect.de) (Quit: leaving)
[15:21:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:21:46] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Quit: Leaving...)
[15:22:01] *** Joins: tylerjewell (Mibbit@moz-jnb3g0.ca.comcast.net)
[15:22:09] *** Joins: autayeu (Mibbit@moz-02ufkh.retail.telecomitalia.it)
[15:22:11] *** Joins: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com)
[15:22:14] *** Joins: peacememories (peacememori@moz-03ni57.dynamic.surfer.at)
[15:22:29] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[15:22:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:22:52] <annodomini> Yes, I would say it's not just for future proofness.
[15:23:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:23:14] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[15:23:16] *** Joins: beno (Mibbit@moz-5itcht.fbx.proxad.net)
[15:23:40] <bluss> rkruppe: https://github.com/rust-lang/rfcs/pull/1123
[15:23:51] <annodomini> Providing one consistent API via std means that there's one place you need to look when writing the standard library.
[15:23:53] <flavius> ok, so let's recap: the Rc is implemented in alloc and reexported in std. In constrained environments, one can link only against alloc, and thus have a smaller binary, and reexporting it in std... does what benefit? I mean, what's the real benefit of writing use std::rc::Rc instead of use alloc::rc::Rc? The API is the same
[15:24:16] <tylerjewell> Hi Rust community.  I am the founder and ceo of Codenvy.  Congratulations on your 1.0.0 release.  I spent some time and created a Codenvy workspace type that supports cargo and rustc.  We converted your home page example to a Factory for single click launch, build and run.
[15:24:29] <tylerjewell> And we have also authored a congratulations blog post that we'll put live tomorrow.
[15:24:38] <tylerjewell> The blog post is here for an early preview:  https://docs.google.com/document/d/1sxvdyenm-HFrQmrZzcO6wtoRupN-ndW2t7jjOyY8Zwg/edit
[15:24:42] *** Quits: shik (shik@moz-lutbkc.ntu.edu.tw) (Ping timeout: 121 seconds)
[15:24:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:25:06] <tylerjewell> And the factory (single click create hosted workspace with rustc / cargo): https://codenvy.com/f?id=w5kvnp8zwrytsgej
[15:25:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:25:15] <arBmind> Hi, does Rust has a way to express convertability between types? - eg. type A & type B where A can be converted to B
[15:25:25] <Dr-Emann> rkruppe: it's nicer to have everything together, until you can't have everything together (you're writing a kernel) 
[15:25:41] <Dr-Emann> arBmind: sounds like the From trait
[15:26:00] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[15:26:00] *** Joins: erf (eric@moz-vbs4rp.fios.verizon.net)
[15:26:01] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Quit: Leaving...)
[15:26:03] <tilpner> (or Into)
[15:26:19] <beno> Hi, I was wondering how can I compile an executable that will work on 32bit windows machines if I'm running Windows 7x64?
[15:26:24] <tilpner> arBmind - Look at std::convert http://doc.rust-lang.org/nightly/std/convert/index.html
[15:26:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:27:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:27:18] <tylerjewell> the only thing that i may play around with is trying to find a smaller rust / cargo docker image.  the first time a user loads the worksapce, it takes a couple mins to download that image into the codenvy runner.
[15:27:20] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[15:27:21] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[15:27:35] <arBmind> Thanks a lot for the hints...
[15:27:41] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Quit: )
[15:27:41] <annodomini> tylerjewell: why does the blog post say "prevents nearly all segfaults", but "guarantees thread safety"? If you use the safe subset of Rust, it should prevent all segfaults
[15:27:45] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[15:28:23] <vikaton> playbot: "Hello World!".chunks(3)
[15:28:24] -playbot- <anon>:9:24: 9:33 error: type `&'static str` does not implement any method in scope named `chunks`
[15:28:25] -playbot- <anon>:9         "Hello World!".chunks(3)
[15:28:25] -playbot- output truncated; full output at: http://bit.ly/1LbDJ8H
[15:28:36] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[15:28:36] <annodomini> tylerjewell: also "minimize thread locks, memory leaks, and minimizing runtime overhad" sounds a bit awkward
[15:28:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:28:45] <vikaton> playbot: "Hello World!".as_bytes().chunks(3)
[15:28:46] -playbot- output truncated; full output at: http://bit.ly/1IJTPXq
[15:29:02] <tylerjewell> @annodomini - i don't think we mentioned anything about segfaults.  Agree that the phrase sounds awkward.   I will find something better.
[15:29:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:29:14] *** Joins: raichoo (raichoo@moz-i3856u.dsl.tropolys.de)
[15:29:24] <annodomini> tylerjewell: "Rust is a systems programming language that runs blazingly fast, prevents nearly all segfaults, and guarantees thread safety"
[15:29:36] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:30:24] *** Quits: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP) (Ping timeout: 121 seconds)
[15:30:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:30:39] *** Quits: v21 (vee@moz-jfv.2g3.207.223.IP) (Ping timeout: 121 seconds)
[15:30:40] <tylerjewell> got it.  
[15:30:53] <annodomini> tylerjewell: "Cargo requires your source files to be in a src/ directory". It's not technically required, just recommended. You can use any layout you want, it can be configured via Cargo.toml
[15:30:55] <tylerjewell> I think to avoid using awkward language, we'll quote the intro summary from rust docs
[15:31:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:31:11] <iliekturtles> beno: Install the 32-bit version and use that to compile a 32-bit exe on your 64-bit machine. Cross compilation is probably possible, but a lot of work.
[15:31:23] *** Quits: jraitamaa (jraitamaa@moz-9igsh7.bb.dnainternet.fi) (Quit: Leaving)
[15:32:19] *** Quits: autayeu (Mibbit@moz-02ufkh.retail.telecomitalia.it) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:29] <tylerjewell> I am glad that I posted a draft here prior to publishing.
[15:32:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:32:32] *** Joins: autayeu (Mibbit@moz-02ufkh.retail.telecomitalia.it)
[15:32:55] *** Joins: fabianvf_ (fabianvf@moz-fjqmui.va.comcast.net)
[15:32:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:33:28] <vikaton> Can anyone help me update this little script here? http://is.gd/2PNQDl 
[15:33:36] <tyrick> is there a way to have my lib export the "use myMod::MyMod;"
[15:33:39] <tylerjewell> One thing that Codenvy would like to offer is these factory hyperlinks for all of your examples at rust-lang.org.  Any rust user that clicks on those links will have unlimited free usage of the system.  it could be an alternative to the inline execution, so that users can get full dev environment for each example.
[15:33:55] <Mutabah> tyrick: 'pub use' is a thing
[15:34:00] <beno> iliekturtles: Thank you
[15:34:20] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[15:34:28] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:34:34] *** Joins: bkircher (bkircher@moz-s3qrq0.dip0.t-ipconnect.de)
[15:34:36] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[15:34:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:34:57] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[15:35:13] <tyrick> Mutabah, perfect!
[15:35:23] <bkircher> Is Box<T> similar to C++`s std::unique_ptr<T> ?
[15:35:31] <Mutabah> bkircher: Pretty much
[15:35:37] <bkircher> Mutabah: thx
[15:36:00] *** Quits: druznek (druznek@moz-h1eme5.ip200.fastwebnet.it) (Quit: Leaving)
[15:36:00] <Mutabah> bkircher: Arc/Rc are similar to std::shared_ptr too
[15:36:05] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:36:11] *** Quits: beno (Mibbit@moz-5itcht.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:18] *** Quits: hkr (hkr@moz-gnm.bbi.206.117.IP) (Quit: WeeChat 1.1.1)
[15:36:23] <annodomini> tylerjewell: You might want to get in touch with the tooling and infrastructure team about that: http://www.rust-lang.org/team.html or #rust-tools here on IRC. Not sure if they're going to want to link to a third-party service for the code examples, but you could talk to them.
[15:36:26] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:36:42] <bkircher> Cool, thanks... I stick around and keep asking small questions ;-)
[15:36:52] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:36:57] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[15:37:53] <tylerjewell> thanks for the right channel.  we will raise the prospect with them.  we understand the sensitivity to linking with vendors.  one thing i'll point out is that the system can be branded in other ways.
[15:38:06] *** Joins: ZRM (ZRM@moz-ers927.cam.ac.uk)
[15:38:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:38:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:40:12] <vikaton> what happened to from_str_radix?
[15:40:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:40:42] *** Quits: proc (proc@moz-2lgajd.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[15:40:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:41:01] <rkruppe> vikaton: On what type, integers or floats?
[15:41:09] <vikaton> integers
[15:41:24] <vikaton> rkruppe: its in here -> http://is.gd/2PNQDl 
[15:42:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:42:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:42:50] <rkruppe> vikaton: A lot of num has been removed and replaced by type-specialized methods. Use functions i32::from_str_radix, u8::from_str_radix, etc. depending on the type you want
[15:43:09] <arBmind> It seems Box<i32> cannot be converted to Box<Any> ? - How can I do this?
[15:43:29] *** Joins: flabbergaster (Mibbit@moz-9lh.uhh.234.94.IP)
[15:43:37] *** Joins: zynisch_o7 (zynisch_o7@moz-6eh1ju.dyn.optonline.net)
[15:43:44] *** Joins: desophos (desophos@moz-5mis3k.98ku.27p0.6000.2606.IP)
[15:44:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:44:19] <autayeu> Hi! I'm reading through Rust docs and a simple thing made me wonder: why out of memory is not handled or exposed where it can be the case? For example, Vec.push can get out of memory, but it does not expose this. Is there a place where I can read an explanation or reasoning about this design choice?
[15:44:27] <rkruppe> arBmind: Seems to work http://is.gd/RxVU3j can you share your code?
[15:44:30] <vikaton> rkruppe: not sure how to fix in this sense
[15:44:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:44:47] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[15:44:55] <flabbergaster> What's the correct way of doing something like this? http://is.gd/WPgamj Apparently ¨ by itself is 0-width (clearly not true?) and does not make a character boundary?
[15:45:23] <tilpner> autayeu - I don't have a link, but from what I can tell... there's rarely a sensible answer to an OOM error, and checking every allocating operation would clutter the code quite a lot.
[15:45:51] <tilpner> autayeu - There were (are?) plans to allow for custom allocators, which would allow handling OOM easier.
[15:46:04] <rkruppe> vikaton: Oh, sorry, it's not in std::u8, it's a static method of the type u8
[15:46:09] *** Joins: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net)
[15:46:10] <arBmind> rkruppe: It works without ".into()", but adding it fails. https://play.rust-lang.org/?code=use%20std%3A%3Aany%3A%3AAny%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20_p%3A%20Box%3CAny%3E%20%3D%20Box%3A%3Anew(42)%3B%0A%7D%0A&version=stable
[15:46:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:46:22] <ZRM> Quick question: If I want to be able to append to a collection whilst iterating over it (and thus the iterator will reach the new elements at some point), what’s the most efficient way to do this safely? Is there a way I can do this with normal iterators?
[15:46:35] <Ms2ger> No
[15:46:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:46:41] <rkruppe> arBmind: What do you want with into()?
[15:47:08] <Ms2ger> ZRM, you may wish to read https://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/
[15:47:10] *** Quits: fabianvf_ (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[15:47:28] <FreeFull> I imagine there is some way
[15:47:30] <rkruppe> autayeu: Because correctly handling OOM is extremely hard and infects huge amounts of APIs with very ugly error handling that almost never applies (and can thus bitrot)
[15:47:33] <FreeFull> Even if internally it isn't pretty
[15:47:34] <vikaton> rkruppe: apparently not
[15:47:37] <FreeFull> But one that is sae
[15:47:40] <FreeFull> safe*
[15:47:41] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Connection closed)
[15:47:47] <arBmind> rkruppe: I want it to work with Any and Trait-vtable-Types
[15:47:50] <autayeu> tilpner: thank you! so, what's the suggested way if handling oom is needed?
[15:48:03] <FreeFull> Oh, I know
[15:48:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:48:17] *** Quits: zynisch_o7 (zynisch_o7@moz-6eh1ju.dyn.optonline.net) (Connection closed)
[15:48:17] <FreeFull> It'll work if you use a while let loop instead of for, and have an append method on the iterator itself
[15:48:20] <FreeFull> Ms2ger: ^
[15:48:21] <Manishearth> Ms2ger: the blog post is being used already? :>
[15:48:24] <flabbergaster> No String experts in the house?
[15:48:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:48:36] <tilpner> autayeu - I've got no idea. If you absolutely can't have that, you should probably allocate all used memory up-front.
[15:48:41] <Ms2ger> Manishearth, :)
[15:48:43] *** Quits: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:48:55] *** Quits: villev (chatzilla@moz-lemqa0.elisa-laajakaista.fi) (Connection closed)
[15:49:02] *** Joins: inavat (tim@moz-m4qp3a.il.comcast.net)
[15:49:13] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[15:49:19] *** Quits: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net) (Client exited)
[15:50:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:50:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:50:39] *** streblo|away is now known as streblo
[15:50:39] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:50:40] <rkruppe> flabbergaster: String indices are all in terms of bytes, not code points or anything. Byte 15 is in the middle of the first non-ASCII character
[15:51:12] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Connection closed)
[15:51:26] <rkruppe> arBmind: I'm sorry, I don't understand. What are Trait-vtable-Types?
[15:51:37] <flabbergaster> rkruppe: Ah, silly me..
[15:51:45] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[15:51:49] <autayeu> I understand about API infection. Yet currently it leaves this question hanging in the air. It would be nice to have some sort of explanation or guide for possible approaches to oom problem from the knowledgeable ones. Any references?
[15:52:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:52:07] <rkruppe> Is there anyone who can correctly handle OOM?
[15:52:14] <heftig> arBmind: http://is.gd/y1QgqV
[15:52:14] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[15:52:17] <rkruppe> Except of course not allocating dynamically at all
[15:52:28] <flavius> Why does it say "cannot move out of borrowed content" for line 11 here: https://gist.github.com/flavius/a75018c76dd9ef17b618 ?
[15:52:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:52:40] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Client exited)
[15:52:46] *** Quits: streblo (streblo@moz-s8cslq.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[15:52:47] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[15:52:50] <bluss> flavius: self is borrowed
[15:53:16] <flavius> bluss: yeah, and... how to fix it?
[15:53:19] <bluss> flavius: so it says you can't take the .contained_nodes variable from it
[15:53:36] <inavat> hi, new to rust.  using 1.0.  I’m trying to use std::io::process.  It’s listed as experimental.  How can I get some info about whether std::io::process is likely to become stable?  To use it today I would use a nightly rust build, correct?
[15:53:37] *** Joins: d_rezzer (chatzilla@moz-uec.4l8.207.104.IP)
[15:53:40] <arBmind> heftig: Is it possible to write a generic "where" clause to check that "as" will work?
[15:53:45] <flavius> bluss: I understand the message, yes, but not what the solution could be
[15:53:47] <bluss> flavius: let contained_nodes = &mut self.contained_nodes;  maybe
[15:53:52] <bluss> flavius: depends on what you want
[15:54:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:54:05] <flavius> bluss: oh, thanks. So much new syntax
[15:54:19] <bluss> flavius: oh Self is Rc<Graph>. That may play into it
[15:54:19] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Client exited)
[15:54:22] <bluss> flavius: :)
[15:54:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:54:53] <bluss> flavius: soo then &mut self.contained_nodes will not compile either, you can probably confirm that
[15:54:58] <flavius> bluss: sorry English is not my mother tongue, what do you mean by "play into it"?
[15:54:59] <heftig> arBmind: where T: Any
[15:55:15] <bluss> flavius: another factor that complicates the question
[15:55:40] <vikaton> Still can't figure out how to fix  http://is.gd/2PNQDl 
[15:55:44] <autayeu> Well, at least not to just abort() as I see in liballoc, because this leaves no choice. Leaving some choice would be better, then I can decide - propagate oom up, abandon attempt, clear something "less valuable", wait and repeat. And clearing some "less valuable" would require access to oom situation in client code, e.g. as a result of vec.push()
[15:56:00] <bluss> flavius: I looked at your code before on the users forum, so now you removed the RefCell around Graph?
[15:56:09] <flavius> bluss: thanks (you mean it can complicate the answer :D )
[15:56:25] <bluss> hehe I guess
[15:56:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:56:28] *** Quits: ZRM (ZRM@moz-ers927.cam.ac.uk) (Client exited)
[15:56:30] <flavius> bluss: well, I'm working on it, it doesn't compile yet
[15:56:45] <rkruppe> autayeu: If you *really* care you can use core and other crates that don't do allocation and write your own code for the stuff that does allocations
[15:56:51] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:56:52] *** Quits: aidanhs (aidanhs@moz-417.5v2.4.81.IP) (A TLS packet with unexpected length was received.)
[15:57:20] <bluss> flavius: you need to use RefCell internally then instead. Do you have a RefCell around the contained_nodes struct member?
[15:57:41] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[15:57:45] <flavius> bluss: nope, all RefCells are gone
[15:57:51] *** Quits: tylerjewell (Mibbit@moz-jnb3g0.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:57:52] <pyon> Is there any quick way to initialize a `BitVec` to the least significant `n` bytes of a `usize`?
[15:58:04] <bluss> flavius: ok. That wasn't my suggestion :)
[15:58:10] <autayeu> I'm not that advanced yet, so help me understand: using just core would mean that I have to rewrite most of collections APIs to expose oom where I need it?
[15:58:14] <rkruppe> autayeu: That anyone really handles OOM properly is more of a rumor to me though, so I'm not a fan of complicating the standard library one bit 
[15:58:16] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[15:58:21] <rkruppe> Yes, you'd have to rewrite the collections code
[15:58:30] <rkruppe> and liballoc too
[15:58:37] <bluss> flavius: you'll need RefCell or Cell (or Mutex for that matter) to modify something inside an Rc.
[15:58:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:59:03] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[15:59:06] <rkruppe> autayeu: Not only to teach it to propagate the OOM but also because it probably assumes allocation can't fail in many places
[15:59:08] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[15:59:12] <eddyb> Mutex for Rc is overkill/useless. good for Arc, though
[15:59:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:59:20] <flavius> bluss: ah, I think I understand. You mean to simplify just the API by dropping RefCell just in the API, not in the implementation
[15:59:31] <bluss> flavius: yup, it was just an idea
[15:59:40] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[15:59:46] <flavius> bluss: ok, I'll try, see how it plays out
[15:59:55] *** Parts: detrumi (Wilco@moz-eo1usl.ip.telfort.nl) ()
[15:59:56] <bluss> flavius: I think there must be people around who have more experience with RefCell fun than me
[16:00:28] <bluss> move RefCell from around Graph to around particular struct fields in Graph
[16:00:34] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:00:45] <flavius> like RefCell<Vector<... ?
[16:00:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:01:07] <bluss> yes
[16:01:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:01:47] <autayeu> OK. So, technically this would be the way, but that's expensive and sort of duplicates code and effort. However, "allocation does not fail" is a pretty strong assumption. I guess core team thought about it. It would be really interesting to read a discussion on this decision.
[16:01:57] <flavius> bluss: If I understand it correctly, it would mean I'd have to lock the entire vector while operating on only one member of the vector...
[16:02:24] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[16:02:32] *** Joins: Azdle (Azdle@moz-fv6arh.mn.comcast.net)
[16:02:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:02:53] <rkruppe> autayeu: Yeah, it's been discussed a lot in the past, but I think most of it is spread over a hundred GitHub issues
[16:02:59] *** Joins: futile (felix@moz-t06qtr.pools.vodafone-ip.de)
[16:03:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:04:32] *** Joins: nacika (nacika@moz-hcvscb.static.zoot.jp)
[16:04:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:04:43] <autayeu> That's a pity. I'm not expert enough to reason about this, that's why having an expert from the core team shed some light on this issue would be very illuminating. Any hints on how do I learn more about this issue?
[16:04:49] <arBmind> rkruppe: heftig: The where clause is my problem https://play.rust-lang.org/?code=%23!%5Bfeature(core)%5D%0A%0Ause%20std%3A%3Aany%3A%3AAny%3B%0A%0Afn%20main()%20%7B%0A%20%20let%20b%20%3D%20Box%3A%3Anew(3i32)%20as%20Box%3CAny%3E%3B%0A%20%20println!(%22%7B%3A%3F%7D%2C%20%7B%3A%3F%7D%2C%20%7B%3A%3F%7D%22%2C%20b%2C%20b.get_type_id()%2C%20b.downcast_ref%3A%3A%3Ci32%3E())%3B%0A%7D&version=nightly
[16:04:50] *** Joins: mindtree (Mitch@moz-qekmcb.iprimus.net.au)
[16:04:50] *** Quits: scape (chris@moz-ci61eb.nj.comcast.net) (Connection closed)
[16:05:02] *** Quits: marowo (maro@moz-ei7tpb.highway.telekom.at) (Ping timeout: 121 seconds)
[16:05:07] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:05:09] <arBmind> http://is.gd/xRVjAJ
[16:05:14] *** Joins: F1skr (moscar@moz-e9439o.cpe.webspeed.dk)
[16:05:38] *** Quits: acgtyrant_ (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:05:38] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[16:05:52] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:06:08] <bluss> flavius: you always have to lock the entire vector to .push() to it
[16:06:12] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[16:06:23] *** Joins: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se)
[16:06:26] <flavius> bluss: yeah you're right. thanks for investing so much time and effort in me, I promise I'll give back when I have gained a robust knowledge of rust
[16:06:34] *** Joins: jshs (jshs@moz-3klvev.dip0.t-ipconnect.de)
[16:06:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:07:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:07:12] *** Joins: vertexclique (Mibbit@moz-t1i.l9b.174.78.IP)
[16:07:18] *** Quits: d_rezzer (chatzilla@moz-uec.4l8.207.104.IP) (Ping timeout: 121 seconds)
[16:07:18] <bluss> hope the hypergraph turns out well
[16:07:19] <vertexclique> error: unstable feature src/lib.rs:1 #![feature(convert, concat_idents)]
[16:07:27] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[16:07:38] <vertexclique> how to evade from this
[16:08:13] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[16:08:35] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:09:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:09:49] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:10:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:10:44] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[16:10:47] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:10:58] *** Quits: Nix (ziocroc@moz-vm5.8de.74.151.IP) (Ping timeout: 121 seconds)
[16:10:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:11:05] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[16:11:08] *** Quits: jparise (jon@moz-5eq9gd.sntcca.sbcglobal.net) (Quit: Textual IRC Client: www.textualapp.com)
[16:12:01] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[16:12:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:12:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:13:26] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[16:13:51] <myname> i have a similar issue. i want to use rustbox, which needs gag, which needs tempfile. tempfile uses unstable features and i can't figure out how to build that. i tried --features, but it says my crate doesn't need that (which is in fact correct)
[16:13:57] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:14:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:14:34] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[16:14:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:15:07] <VShell> by definition, you can't use unstable features in a stable release of Rust. you need to use nightly if you want to use libraries which use unstable features.
[16:16:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:16:04] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[16:16:08] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:16:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:16:54] <myname> damn
[16:17:27] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:17:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:19:24] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:19:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:20:27] *** Joins: jnicklas_ (jonasnickla@moz-8d4mja.mobile.tre.se)
[16:20:32] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Ping timeout: 121 seconds)
[16:20:32] *** jnicklas_ is now known as jnicklas
[16:20:37] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:21:02] *** Joins: nwr (nwr@moz-sh4o27.ca.comcast.net)
[16:21:08] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[16:21:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:21:47] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:22:28] *** Quits: wei2912 (wei2912@moz-tbo.7sk.156.175.IP) (Quit: Lost terminal)
[16:22:34] *** Joins: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net)
[16:22:40] <carllerche> myname: using multirust makes managing different rust versions easier...
[16:23:13] <carllerche> (if you want to try using the rust nightly for that project)
[16:23:18] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:23:29] *** Joins: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt)
[16:23:34] *** Parts: autayeu (Mibbit@moz-02ufkh.retail.telecomitalia.it) ()
[16:23:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:24:09] <vikaton> Why am I getting "use of undeclared Type 'T'" in a impl for Bug ?
[16:24:36] <vikaton> I needed to put bug<T> since it said wrong number of arguments for Bug
[16:24:52] <vikaton> but I didnt need to use <T> in the imply for computeSize
[16:24:55] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[16:25:01] <vikaton> http://is.gd/lwQKjw
[16:25:06] <vikaton> almost forgot
[16:25:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:25:18] * bug is a struct :o
[16:25:19] <claudiop> Hey. The only stable library parts in 1.0 are the ones who were tagged stable in the beta rust? I mean, library parts which required nightly still do, or some of them were stabilized from beta to stable?
[16:25:29] <vikaton> lol
[16:25:32] <ekidd> Is there an idiomatic way to zero an array which takes up gigabytes of memory?
[16:25:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:25:49] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[16:25:55] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:25:55] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[16:26:22] <bluss> claudiop: very few changes from beta to 1.0
[16:26:25] <ekidd> I'm trying to experiment with column store benchmarks, and repeat([0; 400]).take(2_000_000).collect() seems a bit unreasonable.
[16:26:32] <bluss> claudiop: new betas are coming now, 1.1-beta
[16:27:01] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Quit: WeeChat 1.0)
[16:27:02] <claudiop> bluss, and beta 1.1 tries to stabilize what was enables on nightly 1.1?
[16:27:05] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[16:27:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:27:13] <claudiop> Same way as firefox version scheme?
[16:27:21] <claudiop> *enabled
[16:27:26] *** Joins: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu)
[16:27:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:27:48] <ekidd> [0; 400] isn't Clone, so it can't be repeated.
[16:28:28] <vikaton> anyone? :(
[16:28:36] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[16:28:41] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:28:42] *** ChanServ sets mode: +o erickt
[16:28:43] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[16:28:56] <bug> vikaton: impl <T> computeSize for Bug<T>
[16:28:59] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[16:29:07] <bug> parameterize the impl
[16:29:09] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:29:15] <bluss> claudiop: I don't know how firefox works. 1.1-beta will introduce new features, stabilize some etc compared to 1.0
[16:29:35] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:29:40] <vikaton> thanks bug
[16:29:46] <vikaton> lol thats weird :P
[16:29:47] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[16:29:54] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[16:30:01] <bug> T doesn't exist except where declared as a parameter
[16:30:35] <vikaton> No I mean its weird that you helped me and you're my struct xP
[16:30:45] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[16:31:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:31:09] <bug> heheh c:
[16:31:22] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Client exited)
[16:31:23] *** Joins: trigen- (MSX@moz-sgda69.static.versatel.nl)
[16:31:29] *** Quits: ZorgButt (ZorgButt@moz-s8q6vt.uc.edu) (Ping timeout: 121 seconds)
[16:31:33] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:31:41] *** Quits: joeyjoej1ejr (jbdietrich@moz-ph5.jg7.239.216.IP) (Connection closed)
[16:31:43] *** Joins: joeyjoej1ejr (jbdietrich@moz-ph5.jg7.239.216.IP)
[16:31:55] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:32:13] *** Joins: streblo (streblo@moz-s8cslq.ca.comcast.net)
[16:32:43] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[16:33:04] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:33:14] <bug> vikaton: btw a more idiomatic way of naming that trait might be Sizable and then computeSize for the fn
[16:33:26] *** Quits: trigen (MSX@moz-sgda69.static.versatel.nl) (Ping timeout: 121 seconds)
[16:33:29] <vikaton> yeah
[16:33:30] *** Quits: mindtree (Mitch@moz-qekmcb.iprimus.net.au) (Ping timeout: 121 seconds)
[16:33:30] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:33:50] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[16:33:55] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[16:34:23] *** Joins: philips (philips@moz-kl7.017.131.104.IP)
[16:35:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:35:10] *** Joins: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se)
[16:35:20] <bfrog> why does std::fs::Metadata len() return a u64
[16:35:26] <bfrog> shouldn't that be a usize?
[16:35:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:36:55] <philips> also about Metadata, there's any way to use modified() or anything similar in 1.0?
[16:36:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:37:16] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (A TLS packet with unexpected length was received.)
[16:37:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:38:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:38:36] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[16:38:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:39:19] *** Joins: James (quassel@moz-ph8o2f.range86-163.btcentralplus.com)
[16:39:20] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:39:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:39:51] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:40:02] <carllerche> Is there a way to write "guides" (markdown docs) that get compiled as part of cargo doc such that code snippets are also tested?
[16:40:08] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[16:40:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:41:00] <bluss> bfrog: filesystem operations use u64
[16:41:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:41:22] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[16:41:25] <bluss> bfrog: file sizes are not tied to the size of the virtual memory space after all
[16:42:14] <bfrog> only when memory mapping...
[16:42:23] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[16:42:36] <bfrog> :-)
[16:42:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:43:03] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[16:43:13] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[16:43:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:43:16] <bfrog> learning to create a append only b+tree db and rust at the same time, an interesting task
[16:43:23] <bfrog> to say the least :-) but fun!
[16:43:40] *** Joins: marowo (maro@moz-ei7tpb.highway.telekom.at)
[16:43:53] *** Quits: inavat (tim@moz-m4qp3a.il.comcast.net) (Client exited)
[16:44:04] <Tari> carllerche: doctests are run by `cargo test`
[16:44:12] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[16:44:21] <carllerche> Tari: i haven't been able to get .md files to be found though
[16:44:35] <Tari> oh, I see
[16:44:46] <Tari> AFAIK that's not currently possible
[16:44:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:45:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:45:55] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[16:46:44] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:47:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:48:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:48:47] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[16:48:49] *** bvssvni_ is now known as bvssvni
[16:48:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[16:49:06] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[16:49:07] *** Joins: TheDan64 (Daniel@moz-6hceng.ma.charter.com)
[16:49:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:49:19] *** Quits: kini (kini@moz-c0fl5n.members.linode.com) (Connection closed)
[16:49:34] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[16:50:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:51:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:51:24] <vikaton> lots of stuff still break
[16:52:35] *** Joins: kini (kini@moz-c0fl5n.members.linode.com)
[16:52:36] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:52:54] <killercup> carllerche: i've wondered that too. another idea i had was something like #![doc_include="Readme.md"]
[16:53:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:54:05] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[16:54:40] *** Quits: leshow (leshow@moz-j05.316.75.184.IP) (Ping timeout: 121 seconds)
[16:55:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:55:06] *** Quits: jviereck (Adium@moz-0vim3p.dclient.hispeed.ch) (Quit: Leaving.)
[16:55:12] *** Quits: skeuomor1 (skeuomorf@moz-34i.sa8.32.197.IP) (Ping timeout: 121 seconds)
[16:55:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:55:32] <carllerche> for some reason, i thought there was a way already... guess not
[16:56:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:57:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:57:33] <geofft> carllerche: I believe rustbooks do this, but not sure about standalone guides 
[16:57:54] <carllerche> geofft: what is rustbooks?
[16:58:03] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Ping timeout: 121 seconds)
[16:58:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:58:41] *** Joins: skeuomor1 (skeuomorf@moz-34i.sa8.32.197.IP)
[16:58:55] *** Joins: dgrunwald (Daniel@moz-pqnu63.hsi4.kabel-badenwuerttemberg.de)
[16:59:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:59:59] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[17:00:21] <flavius> carllerche: gitbooks
[17:00:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:01:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:02:13] *** Quits: veeti (veeti@moz-hqrq17.sk83.bjud.7e00.2a01.IP) (Quit: bye)
[17:02:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:02:36] <arBmind> rkruppe, heftig: I sketched a working example. (With a custom As-Trait) http://is.gd/7wTdSn
[17:02:40] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[17:02:47] <geofft> carllerche: AIUI, rustbook is the reimplementation of gitbook used for TRPL 
[17:02:49] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[17:02:58] <arBmind> Why is there no equivalent in the std library?
[17:03:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:03:08] <geofft> carllerche: it's in rust.git somewhere, but steveklabnik has a standalone crate on his github 
[17:03:51] <geofft> src/rustbook, or https://github.com/steveklabnik/rustbook 
[17:03:52] *** Joins: veeti (veeti@moz-vjgvb5.9155.nri3.d880.2a00.IP)
[17:04:06] <bfrog> I wonder if a combination of an sstable for writes that periodically gets dumped into a b+tree would help solve the multiple writer problem
[17:04:08] <carllerche> thanks, i'll take a look
[17:04:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:04:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:05:03] <carllerche> bfrog: what is the multiwrite problem?
[17:05:15] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[17:05:19] <bfrog> in an append only b+tree, there can really only be one writter, is my understanding
[17:05:28] <bfrog> while with a sstable there can be a bunch of writers
[17:05:38] <carllerche> a sorted string table?
[17:05:44] <bfrog> yeah
[17:05:59] *** Parts: poiru (poiru@moz-bmdn13.kapsi.fi) ()
[17:06:11] <carllerche> multiple writers to disk? there would need to be some coordination no?
[17:06:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:06:33] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[17:06:34] *** Quits: tincan (tincan@moz-gp5ov9.ip.telfort.nl) (Quit: Leaving)
[17:06:45] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:06:48] *** streblo is now known as streblo|away
[17:06:51] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[17:07:02] *** Joins: meh (meh@moz-odufem.42-151.net24.it)
[17:07:27] <bfrog> doesn't have to be
[17:07:58] <carllerche> bfrog: multiple concurrent writers to the same file?
[17:08:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:08:28] *** Quits: joeyjoej1ejr (jbdietrich@moz-ph5.jg7.239.216.IP) (Ping timeout: 121 seconds)
[17:08:32] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[17:08:35] *** Quits: jmbto (jmbto@moz-6p732i.hca5.8frp.0e35.2a01.IP) (Quit: WeeChat 1.1.1)
[17:08:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:08:49] *** Quits: joeyjoejoejr (jbdietrich@moz-ph5.jg7.239.216.IP) (Ping timeout: 121 seconds)
[17:08:57] <bfrog> well, lets suppose you have multiple sstables, one for each writer, until the writers says its done, then they get merged into some temporary sstable
[17:09:29] <flavius> If I have a variable foo of type T, &mut foo, how do I drop the &mut part from foo and assign it to a variable of type T? 
[17:09:34] *** Joins: mcpherrin (mcpherrin@moz-fl0kt2.ca.comcast.net)
[17:09:42] <carllerche> bfrog: you could do the same w/ the btree then?
[17:09:51] <bfrog> thats true
[17:09:57] <carllerche> i assume the btree -> sstable is a 1-1 mapping
[17:09:57] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[17:10:00] *** Quits: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt) (Connection closed)
[17:10:04] <geofft> flavius: you can't, a variable of type T is ownership, and you don't have the ability to gain ownership with just a &mut T 
[17:10:14] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:10:34] <geofft> flavius: or in other words, &mut T means you can hold onto it for the duration of the reference, but someone might want it back later, and T means you own it and can get rid of it completely 
[17:10:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:10:40] <geofft> so those two conflict. 
[17:11:05] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[17:11:18] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:11:22] <geofft> that said, _almost_ all useful operations on a T (other than taking it over or destroying it) should be doable with a &mut T 
[17:11:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:12:03] <carllerche> bfrog: you can also obviously coordinate w/ a mutex
[17:12:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:12:46] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[17:12:48] <bfrog> right, depends on what sort of guarantees I want I guess
[17:13:07] <flavius> geofft: right, thanks
[17:13:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:14:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:14:06] <vikaton> Conceptual question
[17:14:26] <vikaton> Do you think Rust will ever allow ambigious function/macro calls?
[17:14:40] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[17:14:48] <vikaton> like " println! "hello World" "
[17:14:49] *** Joins: xeviox (ben@moz-7i9kto.pools.vodafone-ip.de)
[17:15:08] <carllerche> vikaton: doubt it
[17:15:11] *** Joins: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net)
[17:15:12] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:15:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:15:48] <vikaton> :(
[17:15:49] <geofft> vikaton: there's a strong desire that it's possible to correctly parse a Rust source file without knowing what the macros in it are 
[17:15:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:16:01] <carllerche> bfrog: you could also build it as a persistent structure then CAS the root 😃
[17:16:09] <geofft> within those constraints, I'm pretty sure a lot more things are possible than macro_rules! currently lets you do 
[17:16:24] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:16:25] <geofft> but that's why macro_rules! requires that you have balanced parens inside, etc. 
[17:16:28] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[17:16:31] *** Joins: Gabriel_7 (Gabriel@moz-2npatk.mtgr.92aj.0e35.2a01.IP)
[17:16:38] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:16:41] <carllerche> geofft: ah. I was reading that as ambiguous invocation (like ruby)
[17:16:58] <geofft> what is the Ruby syntax? 
[17:17:04] <vikaton> puts "hello"
[17:17:09] <vikaton> add 1,4
[17:17:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:17:14] <vikaton> but its optional
[17:17:19] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[17:17:38] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:17:39] *** Joins: gamesbrainiac (gamesbraini@moz-0ue.tn6.134.114.IP)
[17:17:41] *** Parts: gamesbrainiac (gamesbraini@moz-0ue.tn6.134.114.IP) ("Textual IRC Client: www.textualapp.com")
[17:18:01] *** Joins: est31 (quassel@moz-lmmv82.calyx.com)
[17:18:17] <geofft> `add 1, 4` seems worrisome -- `fn(add! 1, 4)` should probablyy be parsed as `fn((add! 1), 4)` 
[17:18:24] *** Joins: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP)
[17:18:29] <geofft> but I think `puts! "hello"` is non-ambiguous and probably fine? 
[17:18:50] <vikaton> Wait I cna do that in Rust right now?
[17:18:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:19:07] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:19:15] *** Joins: inavat (inavat@moz-m4qp3a.il.comcast.net)
[17:19:17] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[17:19:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:19:33] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[17:19:36] *** Joins: autra (augustin@moz-e18pal.mcg1.od8l.0e35.2a01.IP)
[17:19:50] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[17:19:54] <bug> ruby only allows that if the function call starts the line afaik
[17:20:01] <carllerche> bfrog: looks like there are also lock free b-tree strategies :-)
[17:20:24] <VShell> vikaton: why do you call this "ambiguous"? is it actually ambiguous?
[17:20:24] *** Quits: flabbergaster (Mibbit@moz-9lh.uhh.234.94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:20:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[17:20:38] <est31> hi, I have a question regarding cargo. My system is debian based, so everything touching my / outside of /etc /home /var and so on is managed by dpkg. Does cargo integrate with dpkg, or does it just write the files without caring? Can I somehow locally install cargo?
[17:20:49] <vikaton> Kind of
[17:20:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:21:03] <vikaton> Im not sure what they are exactly called
[17:21:04] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[17:21:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:21:28] *** Quits: tyrick (tyrick@moz-ks8f2h.o8ko.nh20.0304.2602.IP) (Ping timeout: 121 seconds)
[17:21:32] <vikaton> if String.includes? "Hello"
[17:21:46] <vikaton> opposed to if String.includes?("Hello")
[17:21:50] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:21:51] <vikaton> both are valud Ruby
[17:21:54] <geofft> vikaton: not with macro_rules!, but if there's a way that the syntax is parsable without knowing what puts! exactly is, then it's a potential future extension 
[17:21:59] *** Quits: autra (augustin@moz-e18pal.mcg1.od8l.0e35.2a01.IP) (Quit: Ex-Chat)
[17:22:10] <geofft> although, note that you can do weird stuff in compiler plugins in the nightlies :) 
[17:22:13] *** NameNotFound is now known as zz_NameNotFound
[17:22:19] <cmr> vikaton: no, we will never add that. it's very much against the rust ethos.
[17:22:24] <thlst> est31: There's a folder named .cargo in your home/. Maybe it writes things there.
[17:22:27] <geofft> oh, do you want this for functions? yeah probably not. 
[17:22:29] <VShell> vikaton: honestly, that's one of the things that really bugs me about Ruby syntax. (the other one being sigils.)
[17:22:41] <thlst> est31: But i'm not sure
[17:22:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:22:51] <rkruppe> est31: I don't think Cargo installs anything at all, it just builds them in the project directory
[17:22:52] <vikaton> VShell: its optional
[17:23:00] <vikaton> okay cmr
[17:23:02] <vikaton> jw
[17:23:07] <VShell> vikaton: it's not optional when I'm reading someone else's code.
[17:23:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:23:14] <vikaton> righ
[17:23:36] <thlst> rkruppe: In case of dependencies, yes, cargo just downloads things and let it at the project's folder
[17:23:49] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[17:23:57] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[17:24:07] <carllerche> After writing many years of Ruby, I am not so much a fan of the optional parens / ambiguity
[17:24:16] <est31> there is this nice curl $something | sudo bash thing on http://doc.crates.io/index.html I wonder whether that puts those files into my $PATH  without caring
[17:24:31] <carllerche> The ambiguity lied in calling a fn with no args. It can be a fn call or a variable
[17:24:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:24:52] <vikaton> carllerche: have u seen crystal ?
[17:24:55] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[17:24:57] <_habnabit> are you supposed to put your Cargo.lock into source control?
[17:25:02] <bug> carllerche, well in ruby's case it's always a method
[17:25:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:25:18] <carllerche> bug: it can be a local variable.
[17:25:29] <bug> oh, without a dot yes that's awful
[17:25:41] <carllerche> vikaton: crystal?
[17:25:47] <VShell> carllerche: interestingly, if Rust had ambiguous function calls, foo() would actually be ambiguous between calling foo with no parens and calling it with unit/a 0-length tuple.
[17:25:49] <rkruppe> est31: Yes, the Cargo and Rust install are just stupid shell scripts. Your package manager may a package for it though (I don't think Debian officially has one now)
[17:26:03] <rkruppe> _habnabit: Yes for applications, no for libraries
[17:26:15] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[17:26:19] <thlst> est31: when I installed cargo, I needed to set the cargo path in $PATH.
[17:26:19] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[17:26:21] <_habnabit> rkruppe, okay
[17:26:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:26:52] <carllerche> VShell: good point.
[17:27:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:27:10] <carllerche> Anyway, I am pretty sure rust will never attempt it 😃
[17:27:13] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:27:16] * VShell nods.
[17:27:19] *** Quits: inavat (inavat@moz-m4qp3a.il.comcast.net) (Client exited)
[17:27:32] <cmr> _habnabit: http://doc.crates.io/faq.html#why-do-binaries-have-cargo.lock-in-version-control,-but-not-libraries?
[17:27:41] <_habnabit> cmr, ah thanks
[17:27:49] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Connection closed)
[17:27:57] <cmr> (sorry that the crates.io docs are such a mess)
[17:28:03] <_habnabit> cmr, btw your anchor didn't actually go to the doc section
[17:28:05] <est31> I see there is https://wiki.debian.org/Teams/RustPackaging
[17:28:11] <est31> perhaps the ppa is good
[17:28:23] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[17:28:24] <cmr> _habnabit: it does for me, did the ? not get included?
[17:28:25] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:28:36] <_habnabit> cmr, oh, indeed. must be my terminal then
[17:28:38] *** Quits: jnicklas (jonasnickla@moz-8d4mja.mobile.tre.se) (Client exited)
[17:28:39] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[17:28:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:28:41] <est31> no its not good
[17:28:46] <cmr> est31: I suggest using multirust and not having rust installed globally.
[17:28:53] <thlst> est31: well, I always prefer to download manually because of the newest version
[17:29:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:29:34] <est31> nice the curl | sh pipe of that command doesn't require sudo
[17:29:41] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[17:29:57] <cmr> est31: that wiki is very out of date for what it's worth.
[17:30:12] *** Quits: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:30:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:30:42] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:31:36] <bug> oof i still feel very uneasy doing anything | sh
[17:31:41] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:32:09] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:32:21] *** Quits: jhelwig (jhelwig@moz-m94qqt.technosorcery.net) (Ping timeout: 121 seconds)
[17:32:22] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[17:32:23] <cmr> bug: I mean, do you trust the makefiles any more than our shell scripts?
[17:32:33] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:32:42] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[17:32:51] *** Joins: mattico (matt@moz-d3u46j.mpls.qwest.net)
[17:32:54] *** Joins: atomic (atomic@moz-pvhs8d.blue.kundencontroller.de)
[17:32:54] <vertexclique> ok
[17:32:55] *** Joins: mastax (matt@moz-d3u46j.mpls.qwest.net)
[17:33:05] *** Quits: mastax (matt@moz-d3u46j.mpls.qwest.net) (Connection closed)
[17:33:15] *** Quits: nwr (nwr@moz-sh4o27.ca.comcast.net) (Quit: Lost terminal)
[17:33:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:33:43] <est31> my uneasiness with | sh based installations is because it isn't guaranteed a .deb package gets installed.
[17:34:00] *** Joins: mkpankov (user@moz-42c.70f.16.195.IP)
[17:34:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:34:33] <vertexclique>  i want a fn with variaous types as input how can i code that? like fn razorblade (&self, maybe u32 maybe String ) {}
[17:34:40] *** Joins: jhelwig (jhelwig@moz-m94qqt.technosorcery.net)
[17:34:48] *** Quits: if_e1se (uid16886@moz-js7dlj.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[17:34:56] *** Joins: drasa (drasa@moz-9b2lcs.io)
[17:35:03] <_habnabit> vertexclique, what would you want to do differently depending on the type?
[17:35:07] <cmr> vertexclique: http://doc.rust-lang.org/book/generics.html
[17:35:14] *** Quits: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: )
[17:35:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:35:51] *** Quits: lenstr (lenstr@moz-0ot.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:35:53] <est31> I see, like gcc, rust has a --prefix requirement
[17:35:59] <est31> for the compile process
[17:36:03] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:36:07] *** Joins: derpynewguy (Mibbit@moz-uba574.ca.comcast.net)
[17:36:10] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (Connection closed)
[17:36:20] *** zz_kimundi is now known as kimundi
[17:36:27] <cmr> it's not required.
[17:36:42] <cmr> you only need it if you `make install`. and that's just standard on unix.
[17:36:42] <vertexclique> _habnabit: use in match
[17:36:54] <vertexclique> Some(String) => yield smt
[17:37:03] *** Joins: squiddy (squiddy@moz-364tqj.adsl.alicedsl.de)
[17:37:03] *** Quits: dlc (dlc@moz-ijetde.res.rr.com) (Quit: Leaving)
[17:37:03] <est31> cmr: will that work with relative paths?
[17:37:06] <vertexclique> Some(u32) => yield smt
[17:37:09] <cmr> est31: yes.
[17:37:10] <est31> gcc is very strict about that
[17:37:16] <est31> only absolute paths
[17:37:18] *** Joins: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt)
[17:37:18] <est31> not even ~
[17:37:24] <est31> nice
[17:37:28] <cmr> well the shell will expand ~ for you, so...
[17:37:29] <_habnabit> vertexclique, so, you want the type itself as input? not an instance of that type?
[17:37:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:38:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:38:07] <cmr> vertexclique: you probably want to make an enum with one variant for each case you care about, and match on that, rather than using generics in this case.
[17:38:09] <est31> I've tried to compile gcc once with a ~ path, and it said that even that isn't supported
[17:38:14] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[17:38:19] *** Joins: dawehner (quassel@moz-m2hep7.mullvad.net)
[17:38:38] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[17:38:48] *** Quits: jshs (jshs@moz-3klvev.dip0.t-ipconnect.de) (Client exited)
[17:38:48] <derpynewguy> I'm trying to println! a Box<T> inside a generic function with type T, and I'm surprised that it seems Type T isn't being resolved. Any help? I have used bot h
[17:38:53] <derpynewguy> {}
[17:39:07] <derpynewguy>  and "{:?}" as the format strings.
[17:39:14] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[17:39:20] <bug> cmr: well I maybe could if the downloads on that page had checksums
[17:39:21] *** Joins: sgr__ (Adium@moz-r42oc1.ca.comcast.net)
[17:39:24] *** Quits: tekkentux (Mibbit@moz-v6a8tc.wla.hu) (Quit: http://www.mibbit.com ajax IRC Client)
[17:39:31] *** Parts: thlst (thelost@moz-150.6k4.49.201.IP) ()
[17:39:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:39:36] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:39:45] <bluss> derpynewguy: you'll need the bound T: std::fmt::Debug to use {:?} on Box<T>
[17:39:50] <est31> its served over https bug
[17:39:52] <cmr> bug: it comes from github. clone the repo.
[17:39:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[17:40:00] *** Joins: dcrewi (david@moz-3u3d5k.gyrae.net)
[17:40:06] *** Joins: Jesin (Jesin@moz-a3uhsd.fios.verizon.net)
[17:40:38] <claudiop> Im still a bit confused dealing with pointers. Does a sentence like "let a = &4" makes the variable 'a' a pointer to a memory location with the number 4? If so, when is 4 allocated in memory?
[17:40:47] <derpynewguy> In this case I'm using a u32 (just testing it out).
[17:40:52] <cmr> claudiop: it's a temporary placed on the stack.
[17:41:02] <geofft> derpynewguy: Box<T>'s implementations of Display and Debug presumablyy require T to implement Display/Debug, too 
[17:41:17] <_habnabit> derpynewguy, http://is.gd/X8aM3z
[17:41:25] <geofft> if you want to restrict the your function to Ts that implement Display/Debug, then yeah, do what people are saying 
[17:41:27] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:41:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:41:34] <geofft> (it's the same way that Box restricts its own implementation of Display/Debug) 
[17:41:44] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[17:41:52] <derpynewguy> Wow thanks!!
[17:41:55] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:42:10] <claudiop> cmr, Whats the difference of assigning, and assigning a reference? It would take the same memory space, wouldn't it?
[17:42:16] <derpynewguy> I am new, didn't realize that I had to explicitly declare the trait. Very cool, much appreciated.
[17:42:17] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[17:42:19] <claudiop> Why would I want a pointer to stack memory space?
[17:42:46] <claudiop> So far for me, pointers only make sense for heap space. Im still newb :p
[17:42:57] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:43:08] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:43:08] <_habnabit> derpynewguy, fn debug<T>(x: T) lets you pass in an instance of any type; even types that don't implement Debug
[17:43:09] <cmr> claudiop: having a reference into the stack means you don't need to heap allocate a value.
[17:43:26] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:43:27] <_habnabit> derpynewguy, so without that constraint, there's no way to use it as if it implements Debug
[17:43:52] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:44:00] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:44:00] <claudiop> cmr, But why would I want to do so? Can't I simply let the variable become the value instead of the reference?
[17:44:08] <kimundi> claudiop: Many API's want a reference to things, and you need to construct those. Being able to directly do &5 rather than let x = 5; &x is just convenience
[17:44:10] <cmr> claudiop: not if you need to pass a reference to some other function.
[17:44:14] <drasa> Hey, I have a question about methods provided by traits... if there's a method like fn product<P = Self::Item>(self) -> P, (that's from the Iterator trait), what happens if the iterable Item doesn't implement Mul and One traits?
[17:44:25] <cmr> claudiop: in this limited example, you're right, it's pretty much useless.
[17:44:43] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[17:44:49] <cmr> drasa: the method just wouldn't exist when the Item doesn't implement Mul and One.
[17:45:11] <cmr> drasa: you'd have a where clause restricting the impl or some other constraint that does the same.
[17:45:23] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:45:50] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:46:15] <claudiop> Thanks for your answers. But then if I needed for some reason to call a function which would call more and more functions in a loop, wouldn't it be a stack overflow?
[17:46:25] <claudiop> Can I also feed a function with a reference to heap?
[17:46:30] <cmr> that can happen.
[17:46:32] <cmr> yes, you can.
[17:46:50] *** Joins: nwin (textual@moz-sn5ral.pools.arcor-ip.net)
[17:46:50] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:47:04] <xeviox> congrats for the 1.0 !!!
[17:47:15] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:47:17] <kimundi> claudiop: IS the first of those tweo questions mean to relate to the reference question?
[17:47:50] <kimundi> err, "Is the first of those two questions meant to relate to the reference question"*
[17:48:01] <claudiop> cmr, Thanks, really helpful ;) Im still learning the syntax on those, really thought pointers only made sence for heap
[17:48:06] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[17:48:33] <claudiop> kimundi, which reference question? Sorry, didnt understood what you meant :s
[17:48:35] *** Joins: tormoz (geov@moz-3q6.afp.124.178.IP)
[17:48:44] <drasa> So you can generally provide default methods that are in place only when the where clauses allow that? There's the additional Self::Item trickery with the Iterator, but the "conditional" default methods are orthogonal to that, right?
[17:48:46] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:48:48] <claudiop> I came with this question from rust-by-example
[17:48:52] *** Joins: dinfueh__ (dinfuehr@moz-bp2pnf.highway.telekom.at)
[17:49:13] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:49:19] <_habnabit> http://is.gd/8u35fK ok so this fails to compile and i understand why, but i'm not sure how i could use the manager inside a closure like this. since CallbackManager::register takes &mut self, you'd have to borrow a mutable reference inside the closure. you can only have one mutable reference ever, right? so if the closure borrowed one, you couldn't call CallbackManager::run because that also takes &mut sel
[17:49:19] <_habnabit> f
[17:49:20] <kimundi> claudiop: did you ask the "stack overflow" question because of "&5" ?
[17:49:46] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[17:49:56] <kimundi> claudiop: (Just curious because it sounded because you asked the one because of the other)
[17:50:12] *** Quits: dinfueh__ (dinfuehr@moz-bp2pnf.highway.telekom.at) (Connection closed)
[17:50:15] <derpynewguy> @_habnabit I would have expected the compiler to look for a method with the required signature and type info. Since the type is known at compile time, I can't see why that doesn't work. I'm of course comparing it to C++ templates.
[17:50:24] *** Quits: dinfuehr_ (dinfuehr@moz-bp2pnf.highway.telekom.at) (Ping timeout: 121 seconds)
[17:50:44] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:50:53] <_habnabit> derpynewguy, ok, so you expected it to infer the required traits from the function body?
[17:51:10] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:51:19] <claudiop> kimundi, I just wanted to know if I could cause a stack overflow by assigning these stack references in some sort of loop. Like if i feed that &i32 to a function, which makes another, which calls a function that makes another, etc...
[17:51:21] <Ms2ger> derpynewguy, yeah, c++ is awful like that :)
[17:51:26] <derpynewguy> From the call that was made on it, yes.
[17:51:28] <cmr> derpynewguy: Rust generics are type-checked at definition, not after instantiation like in C++.
[17:51:41] <Ms2ger> derpynewguy, it's more like C++... What are they called? Concepts?
[17:52:10] <kimundi> claudiop: ah, sure, but thats not specific to the stack references part. Just having any variables in those other functions will lead to that eventually
[17:52:30] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[17:52:35] <rkruppe> _habnabit: Regarding that error, you can mostly get around the &mut restriction by using RefCell but fundamentally you're trying to append to the Vec while iterating over it. That doesn't work because http://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/
[17:52:41] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:53:02] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[17:53:02] <derpynewguy> lol, thanks gents. Getting used to the new paradigm.
[17:53:08] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:53:13] <claudiop> By the way, why does something like &val inside of a match deconstructs a reference? Isn't "_" meant to be the catch all?
[17:53:15] *** Quits: derpynewguy (Mibbit@moz-uba574.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:53:27] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[17:53:33] <xeviox> is it possible to write a function that composes two other functions? e. g. (func(), func()) -> func(func())  (I wasn't able to get the lifetimes right :/ )
[17:53:35] <cmr> claudiop: _ is only if you don't care about the name.
[17:53:47] <_habnabit> rkruppe, to address that problem, it wouldn't make a difference if i copied the Vec before iterating over it
[17:53:54] <_habnabit> rkruppe, should i change my code to reflect that?
[17:54:15] <geofft> hmm, it's possible that the match chapter should make it clear that using some other name besides _ works 
[17:54:20] <claudiop> cmr, Then does match matches a reference to any reference it finds inside of it?
[17:54:42] <rkruppe> _habnabit: That ought to work. To get around the &mut CallbackManager problem though, you'll have to throw RefCell somewhere (probably on the callbacks vector) so that add_callback can take &self
[17:54:55] <geofft> IIRC it's easy to get the impression that _ is special, but `match x {1 => 2, 2 => 1, something => 3}` works 
[17:55:05] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:55:08] <kimundi> claudiop: match &5 { &bar => { /* bar == 5 here */ } }
[17:55:10] *** Joins: creationix (creationix@moz-lg6j1q.ip.windstream.net)
[17:55:26] <_habnabit> rkruppe, would that mean changing register to take &self as well? because aiui the problem is register, not add_callback
[17:55:31] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:55:33] <rkruppe> geofft: Well, _ /is/ special, but not in this regard
[17:55:34] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[17:55:34] <kimundi> claudiop: you can see it like cutting up the type to get to its inner parts
[17:55:41] <Ms2ger> geofft, (except that that warns :))
[17:55:44] *** Joins: rovar (rovar@moz-96effg.dyn.optonline.net)
[17:55:45] <rkruppe> _habnabit: Yes, probably register needs to change too
[17:55:55] <_habnabit> rkruppe, okay; i see
[17:56:06] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[17:56:54] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[17:57:02] <claudiop> kimundi, so it does take any reference name. I was confused because an example came with the line: "The line that its confusing me its "&val => println!("Got a value via destructuring: {:?}", val),"", and I didn't knew where did &val came from
[17:57:02] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:57:05] *** Quits: lenstr (lenstr@moz-0ot.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:57:09] <geofft> Ms2ger: sure, maybe something => something would be a better example :) 
[17:57:17] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[17:57:28] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:57:58] <cmr> claudiop: in unwraps a level of & and binds a name to the inner value, essentially.
[17:58:19] <cmr> patterns are in a way the opposite of constructing a value, and the syntax reflects that.
[17:58:34] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[17:58:50] <claudiop> cmr, Thanks
[17:58:59] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:59:04] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[17:59:08] <GBGamer> has anyone had success using bindgen on ubuntu?
[17:59:13] <cmr> GBGamer: yes.
[17:59:24] <dinfuehr> i want to find the rust-idiomatic way to traverse an AST, maybe you could look over it: https://users.rust-lang.org/t/traversing-ast-in-vm/1421
[17:59:25] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[17:59:48] *** Joins: flugsio1 (flugsio@moz-283uu4.tbcn.telia.com)
[17:59:55] *** Quits: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org) (Ping timeout: 121 seconds)
[18:00:08] <XMPPwocky> dinfuehr: Why have the program in SemCheck?
[18:00:13] <GBGamer> my build keeps failing; what do I have to do besides 1) git clone, 2) install libclang, 3) cargo build --release?
[18:00:23] *** Joins: Kornel (Kornel@moz-l20jk6.81.in-addr.arpa)
[18:00:26] <XMPPwocky> dinfuehr: could the visitor pattern work? iirc that's what libsyntax (rustc) does
[18:00:39] *** Joins: mib_knafwb (Mibbit@moz-g8ok5b.dyn.telefonica.de)
[18:00:57] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:01:17] <_habnabit> rkruppe, ok, so RefCell expects to own the value it lets others borrow?
[18:01:23] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:01:25] <cmr> _habnabit: yes.
[18:01:34] *** Quits: untitaker (untitaker@moz-aongfp.highway.telekom.at) (Ping timeout: 121 seconds)
[18:01:36] <dinfuehr> i wanted to separate them: the AST in Program, the manipulation in SemCheck. I could remove that, but I think the error would be the same
[18:01:43] <_habnabit> hm, okay
[18:01:53] <XMPPwocky> _habnabit: although, do note that you can just put an &mut in RefCell
[18:01:59] <XMPPwocky> although it's a little weird
[18:02:02] *** Joins: Twisol (Twisol@moz-0033n4.res.rr.com)
[18:02:09] *** Joins: new_one (new_one@moz-872fqo.kbni.1u98.0009.2601.IP)
[18:02:15] <flavius> Why do I get the error "error: no method named `make_unique` found for type `alloc::rc::Rc<hypergraph::Graph>` in the current scope"? The docs say that Rc::make_unique() exists. I'm using nightly.
[18:02:21] *** Joins: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org)
[18:02:27] <_habnabit> XMPPwocky, then you'd get a &mut &mut T out from borrow_mut?
[18:02:33] <Kornel> I can't figure out how to create a Vec from an array. I've got `static arr: [u8; 5] = [1,2,3,4,5];` and tried `arr.iter().collect()`, but I get error: the trait `core::iter::FromIterator<&u8>` is not implemented for the type `collections::vec::Vec<u8>`
[18:02:34] <XMPPwocky> flavius: it's not Send / Sync, probably
[18:02:39] *** Quits: flugsio (flugsio@moz-283uu4.tbcn.telia.com) (Ping timeout: 121 seconds)
[18:02:40] <XMPPwocky> flavius: this is an ongoing, very confusing, bug
[18:02:42] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[18:02:48] <XMPPwocky> just with error messages
[18:02:50] <rkruppe> flavius: How recent is you install (i.e. what does rustc -V say?)
[18:02:54] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:03:08] <XMPPwocky> flavius: (hypergraph::Graph isn't, that is)
[18:03:16] <XMPPwocky> Oh, no
[18:03:18] <XMPPwocky> it's not Clone
[18:03:19] <flavius> rkruppe: rustc 1.1.0-nightly (7a52835c1 2015-05-16) (built 2015-05-16)
[18:03:20] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:03:26] <XMPPwocky> that's your problem
[18:03:27] *** Quits: creationix (creationix@moz-lg6j1q.ip.windstream.net) (Client exited)
[18:03:44] *** Quits: mib_knafwb (Mibbit@moz-g8ok5b.dyn.telefonica.de) (Quit: http://www.mibbit.com ajax IRC Client)
[18:04:01] <GBGamer> it seems that syntex_syntax fails to build
[18:04:16] *** Joins: untitaker (untitaker@moz-7c01s2.highway.telekom.at)
[18:04:44] *** Joins: TwoShots (two_shots@moz-t524qv.res.rr.com)
[18:04:50] <flavius> so what's the problem? ongoing bug, not Clone, something else?
[18:04:51] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:04:59] <GBGamer> but it just says, "build failed, waiting for other jobs to finish"
[18:05:03] <GBGamer> and locks up
[18:05:12] *** Joins: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com)
[18:05:18] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:05:19] <XMPPwocky> flavius: make_unique requires the thing inside the Rc to be clone
[18:05:26] <est31> is it normal that librustc takes ages to compile?
[18:05:33] <rkruppe> est31: Yes :(
[18:05:33] <XMPPwocky> flavius: when it's not, method lookup just fails and you get a bad error message- that's the bug
[18:05:36] <GBGamer> rustc is currently going at 99.4% cpu
[18:05:36] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[18:05:39] <vikaton> How do I go about parsing JSON fron an external .json file?
[18:05:44] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[18:06:09] <est31> rkruppe: ah then I see what the blog posts about better performance were about
[18:06:34] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[18:06:49] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:06:58] *** Joins: wqer (user@moz-rn4tf7.541k.ockc.8900.2605.IP)
[18:07:15] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:07:53] <cmr> vikaton: http://doc.rust-lang.org/rustc-serialize/rustc_serialize/json/index.html
[18:08:18] <flavius> XMPPwocky: ok, but... I don't need a clone. I have a factory function returning Rc<Graph> and I need to set some fields after I get it. However it won't let me; what I do is let mut new_node_rc = new(); and then new_node_rc.data = "some data".to_string();
[18:08:19] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[18:08:46] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:09:07] <flavius> maybe I need to wrap it in a RefCell?
[18:09:13] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:09:14] <rkruppe> flavius: make_unique clones if there are other references. If you want to mutate something behind an Rc, use Rc<RefCell<_>>
[18:09:33] <rkruppe> Especially if you want the changes to be visible through the other references
[18:09:49] <vikaton> hmm
[18:09:51] <flavius> hmm...
[18:09:57] <vikaton> jinx flavius 
[18:10:14] <bluss> I've sent flavius down a path where they are porting from using Rc<RefCell<Graph>> to using Rc<Graph> with RefCell on individual struct fields in Graph instead
[18:10:22] <bluss> hehe
[18:10:44] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:10:44] <GBGamer> I guess... I'll just let it run?
[18:10:53] <bluss> rkruppe: what do you think about that, it kind of depends on the situation which is better?
[18:11:00] <flavius> bluss: I guess your suggestion won't work then
[18:11:05] <GBGamer> it's still going, weirdly, after two minutes of "Build failed"
[18:11:10] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:11:16] <bluss> flavius: why not? You can put the fields you need to modify in RefCells
[18:11:17] *** Joins: quazi_farhan (quazi_farha@moz-sre.gvu.64.45.IP)
[18:11:23] <cmr> GBGamer: it's waiting for syntax to finish compiling.
[18:11:39] <bluss> flavius: or, if you never modify them after initialization, don't use RefCell and set them inside the function new()
[18:11:44] * tOkeshu got his 1st patch written in rust merged today https://github.com/rust-gnome/examples/commit/e2ec1f4fd110463cc89c746061e32a1c53efc59b
[18:11:44] <GBGamer> cmr: why does syntex take so damned long?
[18:11:45] <rkruppe> bluss: Even when RefCell<TheWholeThing> works, I'm not sure if it actively better
[18:12:02] <cmr> GBGamer: you need to add /usr/lib/llvm-3.6/lib to your link path because the debian packages are stupid.
[18:12:10] <XMPPwocky> rkruppe: it is going to be a good bit smaller
[18:12:13] <XMPPwocky> as in, 2 usize-s
[18:12:17] <bluss> rkruppe: flavius already had that implemented and to me it looked like using RefCell internally would be better
[18:12:19] <flavius> bluss: you were suggesting RefCell<Vec<Rc<Graph>>>
[18:12:22] <cmr> GBGamer: because it's a lot of code? it's a fork of libsyntax from rustc.
[18:12:30] <GBGamer> ah, okay
[18:12:35] <rkruppe> XMPPwocky: That's a good point
[18:12:40] <bluss> flavius: yes, but.. I said in general you need RefCell around the struct fields you modify
[18:12:41] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:12:44] <GBGamer> well, I'll eat some breakfast as it compiles
[18:12:45] *** Joins: leaper (Mibbit@moz-41d.u60.11.85.IP)
[18:12:53] <cmr> you can ctrl-c it fearlessly.
[18:12:58] <cmr> the problem is it can't find libclang.so :)
[18:12:58] *** Quits: _td (tatterdemal@moz-73rrn8.ca.comcast.net) (Ping timeout: 121 seconds)
[18:13:08] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:13:23] <GBGamer> do you know where libclang is?
[18:13:29] *** Joins: SpaceManiac (Tad@moz-g50q8a.dyn.suddenlink.net)
[18:13:35] <carllerche> geofft: rustbook doesn't acutally work for me :P i get a dyld error
[18:13:37] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[18:13:46] <GBGamer> whereis libclang doesn't actually tell me :/
[18:13:58] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[18:14:04] <cmr> GBGamer: I told you where it is :P /usr/lib/llvm-3.6/lib
[18:14:11] <GBGamer> oh yeah :P
[18:14:37] *** Joins: Twisol_ (Twisol@moz-3ha6bu.jonathan.com)
[18:14:38] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:14:42] <bluss> flavius: this is a pretty confusing area of rust to start with
[18:14:59] <flavius> bluss: yeah, I'm in a mental deadlock right now
[18:14:59] <bluss> flavius: working with non-shared ownership is more fun
[18:15:04] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:15:18] <GBGamer> what envvar do I need to append it to?
[18:15:34] <cmr> GBGamer: you can set LIBCLANG_PATH, the bindgen build.rs looks for that.
[18:15:44] *** Joins: joeyjoejoejr (jbdietrich@moz-l52bm6.wi.charter.com)
[18:15:59] <GBGamer> so... LIBCLANG_PATH=/usr/.../libclang-3.4.so cargo build?
[18:16:11] <cmr> leave off the libclang-3.4.so at the end.
[18:16:21] <cmr> it just wants the dir.
[18:16:30] *** Joins: D34dp4n (Deadpan@moz-go6.e8s.158.206.IP)
[18:16:35] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:16:43] <claudiop> Any idea on why doesn't this works (for a nice simple stack overflow)? https://gist.github.com/anonymous/13436448f9eb77af9af8
[18:16:49] *** Quits: Twisol_ (Twisol@moz-3ha6bu.jonathan.com) (Quit: ZNC - http://znc.in)
[18:16:57] <claudiop> From the compiler messages I think it is related to inference
[18:17:01] <GBGamer> cmr: thank you very much :)
[18:17:02] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:17:06] <cmr> GBGamer: np.
[18:17:07] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:17:19] <GBGamer> alright, I think it's working :D
[18:17:20] <claudiop> But adding :i32 to the refs doesn't works as I would expect
[18:17:21] <cmr> claudiop: the function wants an i32, you're giving it an &i32
[18:17:21] *** Quits: Twisol (Twisol@moz-0033n4.res.rr.com) (Quit: )
[18:17:27] <cmr> just remove the &
[18:17:30] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:17:31] *** Joins: Twisol (Twisol@moz-3ha6bu.jonathan.com)
[18:17:41] <claudiop> cms, Ohhh. Okeeey ;D
[18:17:42] *** Quits: mbudde (mbudde@moz-v8g.lim.109.2.IP) (Ping timeout: 121 seconds)
[18:17:59] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[18:18:27] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[18:18:33] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:18:39] *** Joins: jpg (jpg@moz-ldeh9l.internode.on.net)
[18:18:59] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:19:14] <claudiop> What if I wanted to do it with references? Adding & to the function arguments still doesn't works, and gives one more warning than the previous
[18:19:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[18:19:34] <GBGamer> huh, that's cool
[18:19:46] *** Quits: joeyjoejoejr (jbdietrich@moz-l52bm6.wi.charter.com) (Ping timeout: 121 seconds)
[18:19:49] *** Joins: filsmick (filsmick@moz-15h0td.abo.wanadoo.fr)
[18:19:58] <GBGamer> despite it being UB, you can actually change a function pointer into an object pointer in clang
[18:20:10] *** Quits: starless (starless@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[18:20:26] <claudiop> Nvm, got it
[18:20:30] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:20:41] <claudiop> Got the & in the var, not in the var type
[18:20:49] <cmr> claudiop: http://is.gd/U3I26Z 
[18:20:56] <bluss> flavius: here's a version based on the code you posted on the forum https://gist.github.com/anonymous/1ba98b403e2825c6f9c7
[18:20:57] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:21:05] <GBGamer> also, how does one printf a function pointer without invoking UB?
[18:21:10] <_habnabit> oh, hm, i can't clone my Vec because it contains unclonable things
[18:21:17] <GBGamer> I guess that's offtopic
[18:21:18] <xeviox> what does happen when an expression in a try! returns an Err ?
[18:21:23] <sedrik> How do I create a empty vector? I tried this http://is.gd/WAvLTH
[18:21:37] <XMPPwocky> vec![] or Vec::new();
[18:21:37] <bluss> flavius: just to show what I mean by using RefCell internally. It was just an idea, and I don't know if it pays off or is better in the long run.
[18:21:38] <geofft> GBGamer: wait, is casting to uintptr_t UB? 
[18:21:41] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[18:21:46] <cmr> GBGamer: what makes you think that's UB?
[18:21:51] <bluss> flavius: compare it with diff to your code maybe?
[18:21:52] <cmr> GBGamer: it's only UB if you *call* the result.
[18:21:56] <GBGamer> conversion to (void *)
[18:21:59] <geofft> also there's some weirdness where the dlopen(3) API implies that function and data pointers are sorta compatible via void * 
[18:22:00] <XMPPwocky> sedrik: your syntax there is off 
[18:22:01] <claudiop> cmr, You've got to think about including an url for tips after your answers ;)
[18:22:10] <_habnabit> is there a way to get, like, a &Vec<T> that's, like, "these are the elements that were in the Vec at the time" without copying the elements?
[18:22:10] *** zz_NameNotFound is now known as NameNotFound
[18:22:13] <geofft> and POSIX is all "yeah we know, but you gotta make this well-defined behavior" 
[18:22:15] <GBGamer> "ISO C forbids conversion of function pointer to object pointer type"
[18:22:18] <XMPPwocky> sedrik: let empty: Vec<isize> = Vec::new();
[18:22:25] <vertexclique> how to build multi target cargo bin
[18:22:27] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:22:37] <leaper> Hi! I have the following simple code: is.gd/m2yake . My initial question is why the code compiles at all since it panics with an index out of bound error? The real question is how do I match over two variables? (Like to pick out a value from a table)
[18:22:38] <XMPPwocky> _habnabit: not. but you can use .iter().filter() or something
[18:22:39] <vertexclique> i searched over but i couldnt see detailed guide
[18:22:43] <XMPPwocky> _habnabit: and work with the iterator like that
[18:22:48] <sedrik> XMPPwocky: aa, thanks =)
[18:22:48] <cmr> vertexclique: don't need to do anything special for cargo, it slaready knows how to cross compile.
[18:22:49] <bluss> flavius: diff https://www.diffchecker.com/xocbyaty
[18:22:53] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:22:54] <flavius> bluss: yeah, I didn't want to parameterize new(), nor to duplicate code already found in new(), but yeah it should work
[18:23:02] <XMPPwocky> leaper: make the two variables into a tuple, and match on the tuple
[18:23:22] <bluss> flavius: ok. Well it would require more RefCells around the fields to mutate
[18:23:24] <vertexclique> cmr: i mean i have few rs files and i want binaries respectively
[18:23:31] <vertexclique> they can be standalone
[18:23:33] <XMPPwocky> leaper: i.e match (x, y) { (Foo, Bar) => something, (Baz, Quux) => something_else }
[18:23:41] <vertexclique> not xcompile
[18:23:47] <cmr> vertexclique: [[bin]] path = "first.rs" [[bin]] path = "second.rs" for example
[18:24:00] <vertexclique> ah nice cmr 
[18:24:09] *** Quits: mattico (matt@moz-d3u46j.mpls.qwest.net) (Quit: Leaving)
[18:24:16] <flavius> bluss: if XMPPwocky says it would generate smaller code, then I'll keep it this way
[18:24:17] *** Joins: mattico (matt@moz-d3u46j.mpls.qwest.net)
[18:24:25] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:24:35] <mattico> why is bin [[bin]] and lib [lib] ?
[18:24:44] <_habnabit> XMPPwocky, in this situation i have a Vec of Fn and i want to call whatever's in the Vec without caring about modification to the Vec in the process. in python it would be something like `callbacks = list(self.callbacks); for callback in callbacks: callback()`
[18:24:44] <XMPPwocky> flavius: smaller data, not smaller code
[18:24:47] <cmr> mattico: a package can only have one lib, but can have multiple binaries.
[18:24:51] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:24:54] <mattico> cmr: ah
[18:25:02] <XMPPwocky> flavius: and likely faster code, too, because of cache stuff
[18:25:04] <flavius> XMPPwocky: yeah, sorry. Better alignment too?
[18:25:19] *** Quits: mattico (matt@moz-d3u46j.mpls.qwest.net) (Quit: Leaving)
[18:25:22] <XMPPwocky> _habnabit: but where's the filter there?
[18:25:36] <XMPPwocky> you'd need to clone the Vec if you want to modify it at the same time
[18:25:45] <_habnabit> XMPPwocky, there is no filter. i want to call whatever was there before i started to call things
[18:25:46] <XMPPwocky> i believe python is doing the same thing under the hood
[18:26:04] <flavius> XMPPwocky: was the clone Vec part for me?
[18:26:08] <leaper> XMPPwocky: thanks, that would work I guess. But then I get one match case for every single value in the table
[18:26:10] <XMPPwocky> flavius: no
[18:26:22] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:26:25] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Connection closed)
[18:26:29] <_habnabit> XMPPwocky, the python code is copying the elements in the list, but not the contents of the list; it's sort of like a Vec<Rc<Fn(...)>>
[18:26:32] <XMPPwocky> leaper: well, how else would you do it? You can also use match guards, of course
[18:26:35] *** Joins: andresv (textual@moz-svjutv.cable.starman.ee)
[18:26:37] <_habnabit> XMPPwocky, except i don't know if you can use Rc<> like that?
[18:26:39] *** Quits: noj (jon@moz-gt56gb.swym.se) (Connection closed)
[18:26:47] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[18:26:48] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:26:53] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[18:26:57] <XMPPwocky> _habnabit: you can, but copying that Rc is going to be worse than copying the elements in this cae
[18:27:13] <XMPPwocky> assuming the elements are just functiosn
[18:27:14] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[18:27:37] <_habnabit> XMPPwocky, when i try to clone the Vec i have right now, rust tells me that because Fn is unsized, i can't copy the Vec
[18:28:01] <XMPPwocky> ah, right, hm
[18:28:09] <XMPPwocky> well, you can just Rc it then
[18:28:13] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:28:14] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[18:28:19] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:28:29] <XMPPwocky> in recent nightlies, you can Rc<Fn>. older builds, including 1.0 afaik, you have to Rc<Box<Fn>>
[18:28:40] <_habnabit> i'm using 1.0 stable
[18:28:45] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:29:12] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[18:29:21] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[18:29:59] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[18:30:16] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:30:16] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[18:30:18] <leaper> XMPPwocky: I don't really know but it would be nice not to repeat the match rules for e.g the rows for every column
[18:30:43] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:30:49] <XMPPwocky> leaper: you could write a function for the inner match, if that makes sense
[18:30:51] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[18:30:55] *** Quits: lenstr (lenstr@moz-0ot.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[18:31:33] *** Joins: lenstr (lenstr@moz-0ot.vju.25.171.IP)
[18:31:42] <insaneinside> I'm having some problems with a custom pointer-wrapper type when coerced to trait-object form via `CoerceUnsized` -- it's complaining that "error: the trait `core::marker::Sized` is not implemented for the type `core::iter::Iterator<Item=T>`" and it's not clear why (I'm not trying to take the value via deref or anything stupid).
[18:31:57] <leaper> XMPPwocky: alright, thanks for the ideas
[18:32:06] <insaneinside> Is there a way to get rustc to tell me WHY this tautological error is a problem?
[18:32:13] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:32:16] *** Quits: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[18:32:36] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:32:39] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[18:33:11] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[18:33:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[18:33:23] <Murarth> Oh, snap. Unsized Rc<T> landed?
[18:33:32] *** Joins: degorov (Mibbit@moz-vgj.itt.14.176.IP)
[18:33:32] <insaneinside> Murarth: a few days ago, yes.
[18:34:11] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:34:18] *** Joins: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com)
[18:34:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:34:50] <bluss> it's got a double free bug
[18:34:57] <leaper> What about the "index out of bounds"? The error in the code (is.gd/m2yake) might be obvious, but shouldn't rustc complain instead of producing a program that panics?
[18:34:59] <bluss> so it's a bit rough right now
[18:35:00] *** Quits: TwoShots (two_shots@moz-t524qv.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:35:31] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[18:35:37] <pyon> Can a method take a *self or *mut self as argument?
[18:35:40] *** NameNotFound is now known as zz_NameNotFound
[18:35:44] <degorov> Hi everyone! What happened to String::from_chars?
[18:35:46] <insaneinside> bluss: is that for all CoerceUnsized coercions, or just Rc<Trait>?
[18:35:47] <XMPPwocky> leaper: rust cannot protect you from *crashing* on out-of-blounds indices
[18:35:53] <bluss> insaneinside: I don't know
[18:35:55] <XMPPwocky> leaper: but it can make it a safe crash
[18:36:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:36:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:36:36] *** Quits: sgr__ (Adium@moz-r42oc1.ca.comcast.net) (Quit: Leaving.)
[18:36:42] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[18:37:09] *** Quits: mkoskar (mkoskar@moz-kme.lvj.226.188.IP) (Client exited)
[18:37:19] *** Joins: Mat4 (quassel@moz-5a809c.dynamic.kabel-deutschland.de)
[18:37:25] <leaper> XMPPwocky: Hmm, ok that's fair :)
[18:37:37] *** streblo|away is now known as streblo
[18:37:39] <Mat4> hello
[18:38:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:38:07] *** Quits: Kornel (Kornel@moz-l20jk6.81.in-addr.arpa) (Client exited)
[18:38:14] <csherratt> Is it even possible to impliment Index<Range<usize>> for anything other then the str and &[T]?
[18:38:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:38:39] <geofft> carllerche: the built-in one or the steveklabnik one? 
[18:38:41] <bluss> csherratt: Well yes, but in a useful way, probably not
[18:38:47] <carllerche> the steveklabnik one
[18:38:53] <carllerche> geofft: I'm figuring it out :P
[18:38:55] <geofft> the steveklabnik one Just Worked for me on Linux, I haven't tried the built-in one 
[18:39:06] <carllerche> geofft: I don't have all the internal rustc libs on my dylib path
[18:39:14] <carllerche> i'm updating it to not require internal stuff though
[18:39:28] <pyon> Is there any way to "leave a type undefined"? I'm trying to achieve the same effect a C forward declaration would: make a type impossible to instantiate, while still allowing instantiating pointers to it.
[18:39:34] *** Quits: asQuirre_ (asQuirreL@moz-ro1qqu.ox.ac.uk) (Ping timeout: 121 seconds)
[18:39:38] <XMPPwocky> pyon: enum Foo {}
[18:39:39] *** Quits: jpg (jpg@moz-ldeh9l.internode.on.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:39:47] <XMPPwocky> pyon: with no constructors, there's no way to construct it (duh)
[18:39:47] <pyon> XMPPwocky: Oh, wonderful!
[18:40:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:40:23] <kimundi> degorov: took it a &[char]? then its replaceable by .iter().collect()
[18:40:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:40:29] <pyon> XMPPwocky: And, how do I force this type to have the same size and alignment as a usize?
[18:40:41] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[18:40:44] <kimundi> playbot: ['a', 'b'].iter().collect::<String>()
[18:40:46] -playbot- <anon>:9:27: 9:46 error: the trait `core::iter::FromIterator<&char>` is not implemented for the type `collections::string::String` [E0277]
[18:40:46] -playbot- <anon>:9         ['a', 'b'].iter().collect::<String>()
[18:40:46] -playbot- output truncated; full output at: http://bit.ly/1AdBKQ7
[18:40:52] <XMPPwocky> pyon: it's zero-sized
[18:40:55] <kimundi> ah, fu
[18:40:55] <XMPPwocky> but you could like
[18:41:00] <kimundi> playbot: ['a', 'b'].iter().cloned().collect::<String>()
[18:41:02] -playbot- "ab"
[18:41:06] <XMPPwocky> struct Bar { _x: usize, _y: Foo }
[18:41:17] <csherratt> : As far as I can tell, the only reason they work with &[T] and &str ihat they have special meanings in the language. Meaning they can return a new data structure. For anything that is user defined, there is no place to store your structure and :(.
[18:41:30] <pyon> Ah, right.
[18:41:46] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[18:41:46] <bluss> csherratt: yes, see this (an experimental patch to rust) https://github.com/japaric/rusty-edge/tree/master/unsized_structs
[18:41:53] <_habnabit> http://is.gd/7rRFeD ok, so i think passing in &mut CallbackManager is probably the best solution here; it means i don't have to move the CallbackManager into the closures at all. however, the lifetimes don't seem to be working out how i'd expect
[18:41:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:42:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:42:26] *** Quits: leaper (Mibbit@moz-41d.u60.11.85.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:42:32] *** Joins: sgr__ (Adium@moz-r42oc1.ca.comcast.net)
[18:42:34] *** Joins: eddyb_ (eddyb@moz-ure.pug.25.188.IP)
[18:42:38] *** Quits: sgr__ (Adium@moz-r42oc1.ca.comcast.net) (Quit: Leaving.)
[18:43:16] *** Joins: john (john@moz-po7.mg6.56.172.IP)
[18:43:55] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:44:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:44:27] *** Joins: mbudde (mbudde@moz-v8g.lim.109.2.IP)
[18:44:34] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[18:44:46] <filsmick> is there a simple way to force cargo to redownload a package from github, even though the version number didn't change?
[18:44:47] *** Quits: AncientPC (AncientPC@moz-2bvk3b.fios.verizon.net) (Ping timeout: 121 seconds)
[18:44:59] *** Quits: andresv (textual@moz-svjutv.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:45:02] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:45:06] <Mat4> I wanted to ask some syntactic details if that is welcome in this channel
[18:45:09] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[18:45:30] <filsmick> Mat4: why wouldn't it be? :)
[18:45:31] <XMPPwocky> shoot
[18:45:33] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[18:45:35] *** Joins: Space (Mibbit@moz-a9c.akr.163.2.IP)
[18:45:51] <GBGamer> filsmick: cargo clean?
[18:45:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:45:58] <Mat4> ok
[18:46:02] <GBGamer> pretty sure that works
[18:46:07] *** Quits: Space (Mibbit@moz-a9c.akr.163.2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:46:12] <filsmick> GBGamer: no it doesn't, since cargo keeps a source cache
[18:46:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:46:19] *** Quits: D34dp4n (Deadpan@moz-go6.e8s.158.206.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.1/20150513174244])
[18:46:20] <filsmick> tested it right now, by the way
[18:46:24] <_habnabit> filsmick, what kind of jerk would reuse an existing version number for new code? :(
[18:46:26] <Mat4> What would be the equivalent of a range type and an enum in Rust ?
[18:46:33] <filsmick> _habnabit: apparently, the developers of getopts.
[18:46:38] <filsmick> _habnabit: https://github.com/rust-lang/getopts/pull/21
[18:46:50] *** Joins: AncientPC (AncientPC@moz-2bvk3b.fios.verizon.net)
[18:47:25] *** Joins: andresv (textual@moz-svjutv.cable.starman.ee)
[18:47:34] <insaneinside> Mat4: Range and an enum?
[18:47:42] *** Joins: sgr__ (Adium@moz-r42oc1.ca.comcast.net)
[18:47:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:47:52] <insaneinside> playbot: enum Foo { A, B } Foo::A as isize
[18:47:53] -playbot- 0
[18:47:56] *** Joins: Kornel (Kornel@moz-l20jk6.81.in-addr.arpa)
[18:48:15] *** Joins: mlafeldt (mlafeldt@moz-r5eets.pools.vodafone-ip.de)
[18:48:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:48:34] *** Quits: sgr__ (Adium@moz-r42oc1.ca.comcast.net) (Quit: Leaving.)
[18:48:36] <insaneinside> playbot: for i in 1..10 { write!(std::io::stdout(), "{} ", i); }
[18:48:38] -playbot- output truncated; full output at: http://bit.ly/1cIKCSV
[18:48:39] <SpaceManiac> filsmick: if you need a version of the crate that isn't on crates.io yet, you could refer to the git repository directly
[18:48:55] <degorov> kimundi: thank you, it worked. 'cloned()' is required
[18:49:03] <insaneinside> Mat4: you can even assign values in an enum
[18:49:05] *** Joins: xcombelle (xcombelle@moz-2chi0i.abo.wanadoo.fr)
[18:49:08] <filsmick> SpaceManiac: I know, but this isn't really clean :/ and the patch I wish to apply landed 18 days ago...
[18:49:19] <filsmick> SpaceManiac: guess I'll rust clean the local cargo cache
[18:49:24] <SpaceManiac> well, if they haven't released a new version, there's no other option
[18:49:25] <aji> is there some standardized structure implementing a hash-based cache?
[18:49:38] <SpaceManiac> I don't think that will help. Any "0.2.10" from crates.io won't include that patch
[18:49:47] <aji> where invalidation is simply decided by collisions
[18:49:48] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:49:57] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[18:50:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:50:42] *** Joins: sublimate (jackmccrack@moz-3ec.65n.117.134.IP)
[18:50:55] <_habnabit> http://is.gd/7rRFeD it's actually kind of annoying that the error message erases my lifetime names
[18:51:15] <_habnabit> might be easier to debug if it told me about the error in terms of the names i used, haha
[18:51:18] <Mat4> thanks
[18:51:29] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[18:51:38] *** Quits: mbudde (mbudde@moz-v8g.lim.109.2.IP) (Ping timeout: 121 seconds)
[18:51:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:51:54] <insaneinside> Mat4: that was too easy -- surely you have more questions? ;)
[18:52:03] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[18:52:06] *** Quits: xeviox (ben@moz-7i9kto.pools.vodafone-ip.de) (Quit: Leaving)
[18:52:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:52:17] <filsmick> SpaceManiac: you are right
[18:52:19] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[18:52:36] <degorov> kimundi: oh, I just now realized what you did! Playbot is cool:)
[18:52:37] <filsmick> SpaceManiac: it didn't work
[18:52:42] <filsmick> SpaceManiac: so crates.io has a cache?
[18:52:47] *** Joins: spider-mario (spidermario@moz-vo8.b26.160.37.IP)
[18:52:51] <kimundi> degorov: yeah, its quite useful :)
[18:53:14] <insaneinside> oh -- Mat4: built-in ranges exclude the end value, so `a..b` is equivalent to [a,b).
[18:53:26] <SpaceManiac> the developer of a crate has to intentionally release a new version to crates.io
[18:53:28] <kimundi> filsmick: Its a repo that contains the full packages for each uploaded version
[18:53:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:53:43] <filsmick> kimundi: and it auto-updates when somebody bumps the version number?
[18:53:55] <filsmick> kimundi: or is there some kind of submission process?
[18:54:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:54:08] <kimundi> filsmick: its a manual submission process
[18:54:23] <kimundi> filsmick: "cargo package" and "cargo publish" to be exact
[18:54:28] <Mat4> insaneinside: for sure: A GCC related extension allows access to the address of defined labels. I think Rust doesn't have a similar possibility ?
[18:54:46] *** Quits: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net) (Connection closed)
[18:54:50] <kimundi> filsmick: Its kinda easy to forget about it while developing the git repo further
[18:54:50] <cmr> Mat4: computed goto? no.
[18:54:55] *** Joins: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net)
[18:54:57] <Mat4> cmr: yes
[18:55:02] <dinfuehr> why is transmuting of &T to &mut T considered undefined behavior?
[18:55:17] <kimundi> filsmick: So if there is development with ahigher version number but no published cargo package for it, I'd just open a issue there
[18:55:18] <cmr> dinfuehr: because &mut T cannot have any aliases.
[18:55:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:55:35] <filsmick> kimundi: there is no higher version number, they didn't bump it. But there is a bugfix.
[18:55:40] <kimundi> dinfuehr: Because &T can alias, and &mut rely on never aliasing
[18:55:49] <filsmick> kimundi: can you update the cache without bumping the version number?
[18:56:06] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:56:11] *** Quits: oceanwhit (christianwh@moz-8s4cnk.res.rr.com) (Ping timeout: 121 seconds)
[18:56:11] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[18:56:19] <kimundi> filsmick: You can'T, that's against the core principles. Once published, a version should be immutable
[18:56:32] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:56:34] <dinfuehr> kimundi: I know, but it is not even allowed in unsafe code.
[18:56:52] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[18:57:13] <kimundi> dinfuehr: unsafe code needs to uphold the same invariants as safe code. You can not do do random stuff in there and have it not cause problems, quite the opposite in fact
[18:57:38] *** Joins: moriturus (Mibbit@moz-5l7hue.au-net.ne.jp)
[18:57:50] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:57:53] *** streblo is now known as streblo|away
[18:57:54] <moriturus> hello
[18:58:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[18:58:08] <insaneinside> dinfuehr: you may want internal mutability, no?
[18:58:12] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:58:15] *** eddyb_ is now known as eddyb
[18:58:50] <mbrubeck> dinfuehr: You can do it in unsafe code *if* you can prove that it won't alias.  e.g. http://doc.rust-lang.org/src/core/slice.rs.html#266
[18:58:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[18:59:01] <moriturus> I have a question about rust's pointer system with C FFI.
[18:59:10] *** Joins: MasterSeeker (Mibbit@moz-u4o.568.77.185.IP)
[18:59:13] *** Joins: mib_r6y46j (Mibbit@moz-60md89.jcvlfl.sbcglobal.net)
[18:59:30] <dinfuehr> I read that I should use UnsafeCell in this case.
[18:59:35] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[18:59:46] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:00:01] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:00:03] *** Quits: mib_r6y46j (Mibbit@moz-60md89.jcvlfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:00:27] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:01:02] <dinfuehr> I wanted to convert &T into &mut T.
[19:01:03] <mbrubeck> moriturus: Go ahead
[19:01:05] <kimundi> moriturus: Sure, ask away
[19:01:08] <moriturus> Do I regard Box as heap allocated pointer in C?
[19:01:16] <kimundi> moriturus: pretty much, yeah
[19:01:24] <filsmick> it's like a unique_ptr in C
[19:01:29] <kimundi> C++*
[19:01:34] <filsmick> C++ yes sorry
[19:01:49] <filsmick> if you want a shared pointer, use Rc
[19:01:51] *** Joins: jud^ (jud@moz-6p3qn8.res.rr.com)
[19:01:54] <filsmick> right, kimundi?
[19:01:58] <kimundi> right
[19:01:58] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:02:15] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[19:02:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:02:35] <filsmick> I'm not yet very used to that so I wouldn't want to say wrong things :) just trying to sharpen my knowledge of Rust so I can help people like people helped me here
[19:02:35] <moriturus> so...
[19:02:42] *** Joins: jatescher (uid14027@moz-p0r2u7.charlton.irccloud.com)
[19:02:43] *** Joins: jneen (jneen@moz-r5v782.members.linode.com)
[19:03:03] *** Quits: mkpankov (user@moz-42c.70f.16.195.IP) (Ping timeout: 121 seconds)
[19:03:07] <jneen> congrats on 1.0 <3
[19:03:17] <moriturus> I wrote FFI library like this. https://gist.github.com/moriturus/3f2f51c8a82ac1300380
[19:03:49] *** Quits: jud (jud@moz-6p3qn8.res.rr.com) (Ping timeout: 121 seconds)
[19:03:56] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:04:16] *** Quits: MasterSeeker (Mibbit@moz-u4o.568.77.185.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:04:22] <moriturus> and I use it how in this way. https://gist.github.com/moriturus/1f14e59e2ff9916cf1f9
[19:04:22] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:05:01] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:05:04] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[19:05:14] <geofft> moriturus: I _think_ that you don't need the explicit drop in obj_drop, merely taking an owning Box causes Rust to do the right thing 
[19:05:20] <moriturus> the C code goes OK, I think, is it wrong?
[19:05:48] <SpaceManiac> I agree, the explicit drop is not necessary; but everything else at least looks ok
[19:05:48] <bluss> yup the drop() call there does nothing extra
[19:05:49] <geofft> I also would not rely on the fact that Box<Obj> and &Obj have the same C representation 
[19:05:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:05:53] *** Quits: jud^ (jud@moz-6p3qn8.res.rr.com) (Ping timeout: 121 seconds)
[19:06:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:06:20] <geofft> and would personally write extern code that returns an actual pointer, and transmute to/from Box 
[19:06:31] <geofft> which probably generates the same code in current Rust, but is more roobust 
[19:06:36] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[19:06:47] *** Quits: quazi_farhan (quazi_farha@moz-sre.gvu.64.45.IP) (Quit: )
[19:06:48] <geofft> I'm not sure if that's strictly necessary 
[19:06:54] *** Joins: farhan (farhan@moz-sre.gvu.64.45.IP)
[19:07:14] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:07:43] *** Quits: philips (philips@moz-kl7.017.131.104.IP) (Quit: leaving)
[19:07:45] <moriturus> hum...
[19:07:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:08:03] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[19:08:04] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[19:08:14] <vertexclique> cmr: can i declare dependencies for [[bin]]
[19:08:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:08:34] *** Joins: Nix (ziocroc@moz-vm5.8de.74.151.IP)
[19:08:35] <cmr> vertexclique: not separately from everything else I think. make them separate packages if you need to.
[19:08:46] <geofft> moriturus: https://github.com/servo/html5ever/blob/master/capi/src/tokenizer.rs#L140 
[19:08:49] <geofft> see the last few lones 
[19:08:56] <geofft> *lines 
[19:09:05] *** Joins: ECK7 (Mibbit@moz-nhtgeu.cm.vtr.net)
[19:09:08] *** Quits: ECK7 (Mibbit@moz-nhtgeu.cm.vtr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:09:31] <claudiop> Why does every match entry ends with ','? Why not ";"? Why even the last entry needs it?
[19:09:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:09:58] <myname> claudiop: i don't think it needs it
[19:09:59] <geofft> claudiop: probably because ; in Rust often means "ignore the return value of the previous statement" 
[19:10:13] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:10:33] *** Quits: _td (tatterdemal@moz-73rrn8.ca.comcast.net) (Ping timeout: 121 seconds)
[19:10:40] <geofft> claudiop: if you use braces around the right side of a match arm, you don't need the commas 
[19:10:48] <myname> treating match arms as expressions feels unnatural for me
[19:10:59] <geofft> rusti: match 3 {1 => {2} 3 => {4} _ => {42}} 
[19:11:01] -playbot- 4
[19:11:12] <VShell> claudiop: ; separates statements, the clauses of the match expression aren't statements? maybe.
[19:11:29] <geofft> (though using braces in such a small example is bad style I think) 
[19:11:38] <claudiop> myname, right, misintrepreted compiler error.
[19:11:45] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:11:52] <claudiop> Just asking why, not saying it is bad. Thanks ;)
[19:12:11] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:12:15] <geofft> moriturus: what they're doing there is defining a type h5e_tokenizer_ptr that definitely has the right representation as a C struct pointer 
[19:12:17] *** Quits: dawehner (quassel@moz-m2hep7.mullvad.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[19:12:27] *** Joins: jmbto (jmbto@moz-06khlu.hca5.8frp.0e35.2a01.IP)
[19:12:40] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[19:12:48] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[19:13:13] <geofft> moriturus: and then transmute a Box to that in the _new function, and transmute it back to a &mut or a Box in other functions / _free 
[19:13:25] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[19:13:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:13:33] *** Quits: bkircher (bkircher@moz-s3qrq0.dip0.t-ipconnect.de) (A TLS packet with unexpected length was received.)
[19:13:51] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[19:13:59] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:14:07] <GBGamer> cmr: help?
[19:14:08] *** Joins: mbudde (mbudde@moz-v8g.lim.109.2.IP)
[19:14:13] <geofft> moriturus: the corresponding C .h file is https://github.com/servo/html5ever/blob/master/capi/include/html5ever.h 
[19:14:14] <GBGamer> with bindgen?
[19:14:50] <GBGamer> I'm running `target/release/bindgen -static-link sdl/SDL.h -o sdl.rs`, and sdl.rs doesn't contain anything
[19:14:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:15:10] <moriturus> geofft: hum...I see
[19:15:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:15:32] <cmr> GBGamer: remove -static-link, for one. bindgen doesn't care about linkage.
[19:16:04] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[19:16:11] <geofft> it's a little better because transmute makes sure that the two things are at least the same size, so if Box ever starts having two fields instead of one pointer-sized field, it'll fail to compiile 
[19:16:34] <geofft> and it's much easier to tell that the extern fns themselves (from their types) are compatible with the C versions 
[19:16:54] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:17:16] <GBGamer> cmr: then why is it an option?
[19:17:20] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[19:17:21] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:18:27] *** Quits: vertexclique (Mibbit@moz-t1i.l9b.174.78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:18:50] *** Joins: rustyrazorblade_ (rustyrazorb@moz-ehrfqf.fios.verizon.net)
[19:18:51] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:18:54] <pingveno> geofft: I got the feeling that Box is guarenteed to always just contain a pointer to the allocated memory. Is this not the case?
[19:19:01] <GBGamer> I did -static-link sdl/SDL.h instead of -static-link SDL2 sdl/SDL.h
[19:19:04] <cmr> GBGamer: it emits the #[link] attr but presumably you don't need that? I guess you do if you're not using cargo. it passes unrecognized options through to clang wholesale..
[19:19:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:19:25] *** Joins: _td (tatterdemal@moz-73rrn8.ca.comcast.net)
[19:19:30] *** Quits: jadbaires (jadrian@moz-s74400.dsl.telepac.pt) (Ping timeout: 121 seconds)
[19:19:38] <pingveno> I've seen people referring to transmute + FFI + Box
[19:19:53] <GBGamer> cmr: yeah, I'd like to not have to -l SDL because I'm lazy
[19:20:10] <GBGamer> oh god there's a lot of libc stuff
[19:20:12] <cmr> GBGamer: I'm not sure what the errors with xmmintrin.h are...
[19:20:15] <moriturus> OK, thank you geofft and guys! I'll give it a try.
[19:20:20] *** Joins: mixi1 (mixi@moz-s95341.ca.comcast.net)
[19:20:26] <GBGamer> xmmintrin.h?
[19:20:28] <cmr> GBGamer: Oh, yeah, just do -match /usr/include/SDL/SDL_*.h
[19:20:45] <cmr> or w/e
[19:20:49] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:21:15] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:21:19] <GBGamer> I think it borked
[19:22:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:23:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:23:18] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[19:23:34] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[19:23:35] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[19:24:23] *** zz_NameNotFound is now known as NameNotFound
[19:24:33] *** Quits: rustyrazorblade_ (rustyrazorb@moz-ehrfqf.fios.verizon.net) (Client exited)
[19:24:43] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:25:12] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:25:45] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[19:26:07] <cmr> GBGamer: I had to edit SDL_cpuinfo.h to remove the SIMD intrinsic header includes.
[19:26:20] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[19:26:23] *** Joins: dstrbad (dstrbad@moz-uhairc.dsl.iskon.hr)
[19:26:42] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:26:52] *** Quits: john (john@moz-po7.mg6.56.172.IP) (Ping timeout: 121 seconds)
[19:26:59] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[19:27:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:27:36] *** Joins: SpaceManiac_ (Tad@moz-g50q8a.dyn.suddenlink.net)
[19:27:40] <Hannibal_Smith> Just as a confermation: even using unsafe code is not possible to have goto in Rust?
[19:27:48] <cmr> Hannibal_Smith: correct.
[19:27:53] <cmr> it's just not a feature the language has.
[19:27:53] <GBGamer> is there any way to have a __builtin_va_list type?
[19:28:00] <Hannibal_Smith> Ok, thank you
[19:28:31] <cmr> GBGamer: no, which functions are you looking at?
[19:28:39] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:28:46] <GBGamer> alright
[19:28:53] <GBGamer> I think I might just do this manually
[19:28:57] <cmr> GBGamer: note that you don't need most of the stuff bindgen generates without a -match, you could remove everything that isn't SDL_*
[19:29:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:29:13] <GBGamer> ohhh
[19:29:15] <GBGamer> okay
[19:29:16] <bluss> Hannibal_Smith: rust has a nice control structure that is named loops and named break/continue. Should be able to do most goto with that.
[19:29:55] <panicbit> I keep forgetting that Rust has labels..
[19:30:02] <panicbit> Their used so rarely
[19:30:25] <panicbit> They are*
[19:30:28] *** Quits: SpaceManiac (Tad@moz-g50q8a.dyn.suddenlink.net) (Ping timeout: 121 seconds)
[19:30:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:30:40] <DanC> I'd like to make a new vector from an old (immutable) one with one more item in it; and I'd like to do it efficiently by consuming the old one. Does the std library support this?
[19:30:42] *** Joins: rustyrazorblade_ (rustyrazorb@moz-ehrfqf.fios.verizon.net)
[19:30:48] <GBGamer> cmr: with the -match, it doesn't generate anything
[19:31:04] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:31:07] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[19:31:09] *** Quits: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: )
[19:31:23] <kimundi> DanC: Well, you can take it by value, call .push() on it, and return it by value...
[19:31:23] <cmr> GBGamer: I misspoke earlier. You need a -match SDL.h -match SDL_video.h etc :(
[19:31:27] <FreeFull> DanC: let new = { let mut old = old; old.push(foo); old };
[19:31:37] <GBGamer> cmr: that is... unfortunate
[19:31:38] <Hannibal_Smith> bluss, I must have missed them from the reference...
[19:31:52] <FreeFull> I don't think there is anything built in to do that, but you could write a function or method if you want.
[19:31:53] <GBGamer> shouldn't bash expand the *?
[19:31:54] * DanC tries that..
[19:31:59] *** Joins: CamJN (Mibbit@moz-2bpbdc.ed.shawcable.net)
[19:32:01] <cmr> GBGamer: oh, no you don't!
[19:32:06] <cmr> GBGamer: you can just say -match SDL2
[19:32:09] <cmr> since it matches any part of the path.
[19:32:23] <Hannibal_Smith> Ok found it, thank you bluss 
[19:32:33] <GBGamer> that also doesn't spit out anything
[19:32:34] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:32:34] <FreeFull> DanC: If you want the new vector to be mutable, it's simples
[19:32:38] <FreeFull> simpler*
[19:32:46] <GBGamer> Okay, so; it seems that most things don't work
[19:32:55] <bluss> panicbit: apparently I average 0.5 - 1 usages of it per project
[19:33:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:33:17] <GBGamer> bindgen .../SDL.h works, but it has a lot of libc cruft
[19:33:18] <cmr> GBGamer: ok, by SDL2 I mean "a portion of the path containing your SDL headers" I 'm assuming they're from libsdl2-dev in /usr/include/SDL2 but that could be wrong.
[19:34:04] <o11c> that's what pkg-config is for
[19:34:10] <panicbit> bluss: Can you show off a case where it comes in handy?
[19:34:11] <GBGamer> cmr: target/release/bindgen -static-link SDL2 -match /usr/include/SDL2/ -o sdl2.rs ?
[19:34:16] *** Joins: cbr (Mibbit@moz-ln7.eo7.84.93.IP)
[19:34:21] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[19:34:32] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:34:36] <cmr> o11c: assuming it's installed.
[19:34:43] <cmr> o11c: it doesn't really matter.
[19:34:54] <bluss> panicbit: it's a simple case but sure. http://bluss.github.io/rust-itertools/doc/src/itertools/lib.rs.html#1098-1120
[19:34:57] <cmr> GBGamer: you still need to include a header file that it will generate from.
[19:34:57] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:35:05] *** NameNotFound is now known as zz_NameNotFound
[19:35:15] <cmr> ie I ran bindgen /usr/include/SDL2/SDL.h -match SDL2
[19:35:22] <bluss> panicbit: this is new so if there's a more elegant to way to write it, it's welcome. It needs to exit on first None though.
[19:35:29] <chris2> which version of cargo builds with rust-1.0.0?
[19:35:35] <cmr> chris2: none.
[19:35:41] <cmr> chris2: it doesn't build on stable yet.
[19:35:45] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[19:36:02] <panicbit> bluss: Thanks :)
[19:36:03] <chris2> ok
[19:36:08] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[19:36:08] <GBGamer> yusss
[19:36:11] <GBGamer> it borks!
[19:36:16] <GBGamer> (actually this time!)
[19:36:29] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:36:51] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[19:36:52] <GBGamer> although it doesn't extern crate libc, for whatever reason
[19:36:55] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:37:13] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[19:37:26] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[19:37:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:38:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:38:21] <GBGamer> also, it uses "size_t", not "::libc::size_t"
[19:38:33] *** Joins: nercury (nercury@moz-8h0btl.static.zebra.lt)
[19:38:51] <cmr> yeah size_t isn't a builtin type.
[19:39:22] <cmr> I end up doing stuff like https://github.com/cmr/google-breakpad-sys/blob/master/lib.rs
[19:39:47] <GBGamer> yeah, makes sense
[19:39:50] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:39:58] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[19:40:16] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:41:25] *** Joins: jviereck1 (Adium@moz-r772na.dclient.hispeed.ch)
[19:41:28] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[19:41:47] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:41:53] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[19:42:10] *** Joins: willrust (Mibbit@moz-qpsgvr.bredband.telia.com)
[19:42:11] <GBGamer> is there any difference between fn(...) and fn(ap: va_list) ?
[19:42:14] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:42:21] *** Quits: moriturus (Mibbit@moz-5l7hue.au-net.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[19:42:28] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[19:42:49] *** Joins: mr_trousers (Mibbit@moz-sre.gvu.64.45.IP)
[19:43:00] *** Joins: jud (jud@moz-6p3qn8.res.rr.com)
[19:43:03] *** Joins: ohyeah (Mibbit@moz-p0l.q36.8.24.IP)
[19:43:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:43:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:44:07] *** Joins: bytes (bytes@moz-17q3p8.hstntx.sbcglobal.net)
[19:44:09] <ohyeah> how do I allocate an array of variable size?  (unsafe if needed)
[19:44:31] <insaneinside> ohyeah: Vec::with_capacity(size)
[19:44:48] <ohyeah> but then I have to push to fill that one, right?
[19:44:50] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[19:44:57] <cmr> GBGamer: yes, unfortunately.
[19:45:06] <insaneinside> ohyeah: well, there is vec![value; count]
[19:45:08] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:45:11] <ohyeah> and it's got the other fields of Vec in it (cap and len)
[19:45:13] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[19:45:22] <GBGamer> how do I declare a function with a __va_list
[19:45:29] <GBGamer> s/__//
[19:45:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:45:34] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[19:45:45] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[19:46:00] <ohyeah> let me ask it this way then :-)  How's Vec implemented (unsafe is fine)
[19:46:00] *** Quits: CamJN (Mibbit@moz-2bpbdc.ed.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:46:02] <cmr> GBGamer: you can't.
[19:46:11] *** Quits: andresv (textual@moz-svjutv.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:46:12] *** Joins: circ-user-lsjXz (circuser-ls@moz-sre.gvu.64.45.IP)
[19:46:19] <GBGamer> well, that seems like a missing feature
[19:46:20] <insaneinside> ohyeah: no idea.
[19:46:22] <cmr> ohyeah: https://github.com/rust-lang/rust/blob/master/src/libcollections/vec.rs
[19:46:29] <insaneinside> cmr++
[19:46:49] *** Quits: squiddy (squiddy@moz-364tqj.adsl.alicedsl.de) (A TLS packet with unexpected length was received.)
[19:46:52] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[19:46:53] <cmr> GBGamer: I don't think it's possible at all outside of a C compiler.
[19:46:53] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[19:47:05] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:47:12] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:47:14] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[19:47:17] <willrust> hi! any tool to inspect a rlib for modules and crates? suspect crate may be misbuilt somehow as I'm getting unresolved imports on use
[19:47:27] *** Quits: mr_trousers (Mibbit@moz-sre.gvu.64.45.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:47:29] *** Joins: Jesin (Jesin@moz-a3uhsd.fios.verizon.net)
[19:47:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:48:20] <cmr> GBGamer: although apparently __builtin_va_list is just an array with a single http://www.rust-ci.org/dckc/rust-sqlite3/doc/sqlite3/ffi/struct.Struct___va_list_tag.html, according to a bindgen past.
[19:48:25] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[19:48:32] *** Joins: jadbaires (jadrian@moz-s74400.dsl.telepac.pt)
[19:48:38] <cmr> GBGamer: that's not portable. usually any function which takes a va_list has a ... equivalent though.
[19:48:43] *** Quits: Kornel (Kornel@moz-l20jk6.81.in-addr.arpa) (Client exited)
[19:48:50] *** Quits: Grimsley (Grimsley@moz-pjlp59.dglo.vc9u.0306.2602.IP) (Quit: Leaving)
[19:49:02] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:49:18] <GBGamer> cmr: it looks like a __va_list_tag * on x86
[19:49:19] <ohyeah> cmr, this seems to be the line - right?:  let ptr = unsafe { allocate(size, mem::min_align_of::<T>()) };
[19:49:25] <insaneinside> Trying to figure out some "interesting" (read: completely tautological) error in some code eddyb (you around?) was helping me with yesterday: <https://gist.github.com/insaneinside/ff8e91e73b6443a25adc>.
[19:49:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:49:31] <GBGamer> /linux/clang
[19:49:49] <insaneinside> How do I get rustc to tell me WHY it's a problem that a type is unsized?
[19:50:14] <insaneinside> "error: unsized type is unsized" is terrible and makes me want to hit something. :(
[19:50:14] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:50:23] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[19:50:48] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[19:50:57] <XMPPwocky> the first rule of tautology club...
[19:51:00] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:51:26] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:51:43] *** Quits: Gabriel_7 (Gabriel@moz-2npatk.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[19:51:49] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:51:52] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:52:13] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:52:26] *** Quits: farhan (farhan@moz-sre.gvu.64.45.IP) (Client exited)
[19:52:46] *** Joins: farhan (farhan@moz-sre.gvu.64.45.IP)
[19:52:57] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:52:59] *** Quits: farhan (farhan@moz-sre.gvu.64.45.IP) (Client exited)
[19:53:21] *** Joins: oceanwhit (christianwh@moz-8s4cnk.res.rr.com)
[19:53:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:53:50] <eddyb> insaneinside: where is the error?
[19:54:22] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:54:40] <insaneinside>  eddyb: line 167 of test_flex_box.rs
[19:54:49] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:54:53] <eddyb> btw, those macros...
[19:54:59] <insaneinside> eddyb: :D
[19:55:10] <eddyb> you can do &self $(, pat: ty)*
[19:55:19] <eddyb> to compress two rules into one
[19:55:27] <insaneinside> oh, that *would* help, huh?
[19:55:31] <rovar> if I have a trait, Foo, and there is some external trait, Bar,  can I implement Bar for all instances of Foo?
[19:55:40] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[19:55:53] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:55:58] <eddyb> insaneinside: and you can use $(-> $ret:ty)* but that is not equivalent
[19:55:58] *** Joins: tyrick (tyrick@moz-ef8fcc.fidnet.com)
[19:56:18] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[19:56:19] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:56:23] <insaneinside> eddyb: how so?
[19:56:26] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[19:56:37] *** Joins: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de)
[19:56:50] <eddyb> insaneinside: a repetition as an optional
[19:56:50] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[19:56:54] <killercup> hi, does anyone know how std::process::Command formats arguments? i'm having some difficulties with passing in stuff like "--variable key=value"
[19:57:12] <eddyb> it lets you write -> T -> U which is messed up, but, uhm
[19:57:13] <cmr> killercup: it doesn't format them beyond how you pass the strings.
[19:57:16] <eddyb> actually, it might not work
[19:57:31] <cmr> killercup: it passes stuff directly in the argv of the resulting process.
[19:57:40] <cmr> killercup: you'll want to do .arg("--variable").arg("key=value")
[19:57:48] <iu> Hi! It’s probably been asked thousands of time, but what’s the current solution to C unions?
[19:57:57] <eddyb> insaneinside: so, the issue is with             self.holder.give_me_an_iterator(b)
[19:58:03] <insaneinside> eddyb: yep
[19:58:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[19:58:18] <geofft> iu: There is std::mem::transmute, which is I think the best you can do to FFI with a C union 
[19:58:24] <killercup> cmr: thanks, that's what just tried and it just won't work
[19:58:28] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[19:58:28] <cmr> iu: rust-bindgen does roughly the right thing with unions. it makes a [u8; size_of_union], and adds methods to transmute to the variants.
[19:58:30] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[19:58:31] <annodomini> Does anyone know where to find the original PDF describing Rusts's design, from when it was first announce to the public (in 2010 I believe)?
[19:58:38] *** Quits: dstrbad (dstrbad@moz-uhairc.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[19:58:43] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[19:58:43] <killercup> cmr: maybe i'm just tired though…
[19:58:51] <geofft> iu: there's not going to be anything particularly safe for union-handling, because Rust has no way to know which variant of the union is actually correct 
[19:58:52] <eddyb> insaneinside: I am really confused how anything there could be unsized
[19:58:53] <annodomini> I've been looking around, but can't seem to find a copy.
[19:58:58] <cmr> iu: it doesn't handle alignment correctly.
[19:59:00] <eddyb> insaneinside: is the error more precise?
[19:59:07] *** Joins: farhan_quazi (farhan_quaz@moz-sre.gvu.64.45.IP)
[19:59:12] *** Quits: petermonsson (Mibbit@moz-lp6.pa9.120.188.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:59:18] <insaneinside> eddyb: test_flex_box.rs:167:13: 167:47 error: the trait `core::marker::Sized` is not implemented for the type `core::iter::Iterator<Item=T>` [E0277]
[19:59:26] <geofft> so you're going to need to write your own code that figures things out and transmutes in an unsafe{} block 
[19:59:27] <eddyb> ahhhhh
[19:59:29] *** Parts: cmr (cmr@moz-35s2fm.members.linode.com) ("WeeChat 0.3.8")
