[00:00:05] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:01:44] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[00:02:56] *** Quits: eibwen (eibwen@moz-qjhnnl.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:04:22] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[00:05:57] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:12:52] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[00:14:40] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:15:19] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[00:19:01] *** Joins: bombless (_@moz-1j8.piv.41.59.IP)
[00:20:38] <bombless> playbot: use std::mem::size_of; size_of::<*mut str>()
[00:20:39] -playbot- 16
[00:20:46] <bombless> Why is it so big and where can I check the internal representation? I checked libcore/ptr.rs and it is in there.
[00:21:01] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[00:21:03] <XMPPwocky> bombless: 64-bit system means a pointer / usize is 8 bytes
[00:21:05] <p1start> bombless: *mut str is represented in the same way as &str
[00:21:13] <XMPPwocky> so it's (pointer, size)
[00:21:44] *** Joins: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de)
[00:22:00] *** Quits: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de) (Quit: Bye)
[00:22:18] <bombless> playbot: struct S(str); std::mem::size_of::<*mut S>()
[00:22:19] -playbot- 16
[00:22:26] <bombless> hmm
[00:22:32] <XMPPwocky> dst <3
[00:22:56] <p1start> playbot: let dst = 2; dst <3
[00:22:57] -playbot- true
[00:25:38] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:26:18] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[00:30:28] <WindowsBunny> bombless: whether a pointer is raw or safe does not affect the fatness of the pointer
[00:30:29] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[00:30:50] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[00:30:56] <bombless> WindowsBunny: That makes sense
[00:30:57] <XMPPwocky> how long does it take for some newly-merged thingy to show up in nightlies?
[00:31:16] <WindowsBunny> bombless: aka don't use fat pointers in ffi
[00:31:38] <WindowsBunny> XMPPwocky: 24 hours +- 12 hours
[00:31:56] <bombless> I'm trying to make some Box<dst> without luck
[00:32:17] <XMPPwocky> rusti: let x = String::new(); let y = &*x; let z = y as *const _; let a = z as *const ();
[00:32:18] -playbot- <anon>:9:76: 9:90 error: illegal cast; cast from fat pointer: `*const str` as `*const ()`
[00:32:18] -playbot- <anon>:9         let x = String::new(); let y = &*x; let z = y as *const _; let a = z as *const ();
[00:32:18] -playbot- output truncated; full output at: http://bit.ly/1EJi6XD
[00:32:19] <bombless> like http://is.gd/14QN3m
[00:33:15] <bombless> but I guess I don't need extra size member since it is already a fat pointer
[00:33:57] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[00:35:43] <bombless> hmm guess I need to return a fat pointer directly, like path::Path::new
[00:36:36] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:37:16] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[00:47:26] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:48:06] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[00:53:36] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[00:57:08] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[00:58:24] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:59:02] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:09:21] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:09:53] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:10:15] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[01:11:02] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[01:19:49] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:20:21] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:27:44] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:29:29] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[01:30:47] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:31:19] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:40:42] *** Quits: Diggsey (diggsey@moz-9s9ol4.dsl.pipex.com) (Ping timeout: 121 seconds)
[01:41:45] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:42:24] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:45:28] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:48:34] *** Joins: Kxepal (Miranda@moz-fbtdfm.pppoe.mtu-net.ru)
[01:49:27] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:52:43] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:53:22] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[01:53:44] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[01:54:24] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Connection closed)
[01:54:53] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:54:59] <bstrie> Gankro: have you seen http://www.mpi-sws.org/~dreyer/talk.pdf ?
[01:55:29] <Gankro> literally yes, but I haven't bothered to read the 500 slides
[01:55:43] <Gankro> I figured ifthere was something noteworthy aturon would ahve mentionned it
[01:56:22] <huon> it seems extremely relevant to your internship
[01:57:08] <bstrie> Gankro: just read slides 17 and 18
[01:57:19] <huon> (i.e. you should read it, there's a pile of basic Rust-intro stuff you can skip)
[01:58:04] <Gankro> Yeah I've seen the actual rustbelt proposal (aturon emailed me it)
[01:58:10] <Gankro> It's a 5 year project
[01:58:15] <huon> oh, if you've seen that that's fine then :)
[01:58:17] <Gankro> I have uh.... 3 months
[01:58:22] <huon> the slides don't have anything new
[01:58:30] <cmr> Gankro: better get cracking.
[01:58:42] <huon> well, knowing the background is useful even if you can't do all the work :P
[01:59:12] *** Joins: hermm (Mibbit@moz-p0l.q36.8.24.IP)
[01:59:22] <cmr> Gankro: I expect the trans rewrite while you're at it.
[01:59:30] <Gankro> cmr: kk on it
[01:59:52] <Gankro> It seems like a trivial application of my recent work on gif decoding
[02:00:28] <cmr> Indeed, shouldn't take more than a day or two.
[02:01:23] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:02:02] <cmr> how does liblibc have O_NONBLOCK but not O_CLOEXEC or O_RDRW, that's so strange.
[02:03:06] <cmr> well O_RDRW is because I'm an idiot.
[02:03:10] <cmr> So nvm!
[02:04:06] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:04:18] <Gankro> ahaha, did this test fail because it the expected input got corrupted? http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/5176/steps/test/logs/stdio
[02:04:43] <Gankro> input of the expected output, I guess
[02:04:44] <Gankro> words
[02:04:45] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:10:44] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:13:48] <koobs> bstrie: turns out i cant use the amd64 bootstrapped stage0 on 9.x amd64 :(
[02:14:15] <koobs> bstrie: made progress on splitting out to use system llvm though
[02:14:24] <koobs> bstrie: this boostrap thing is going to be very painful :|
[02:14:51] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:15:30] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:15:46] *** Quits: hermm (Mibbit@moz-p0l.q36.8.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:15:49] <bstrie> koobs: is using system llvm a hard requirement?
[02:16:08] <bstrie> because I'm not even sure if that's supported at the moment. no idea what custom passes we have
[02:16:13] <koobs> thats not an issue
[02:16:26] <koobs> i can add the split as an option nevertheless
[02:16:36] <huon> bstrie: it is supported
[02:16:46] <huon> (the debian packages use the system llvm)
[02:16:55] <koobs> bstrie: ultimately the goal is to get everything supported by everyone,r ather than just relying on your team to do everything
[02:16:56] <bstrie> we have debian packages?
[02:17:01] <koobs> yes you do
[02:17:11] <bstrie> koobs: yeah that sounds like a good plan, having less work for us :)
[02:17:16] <koobs> we (downstream, debian/freebsd) are going to need some more flexibility in the build system
[02:17:36] <koobs> at the moment the defaults are super painful, and turnaround times large (hence splitting out system llvm too)
[02:17:42] <bstrie> koobs: we're happy to listen to feedback, nobody is wedded to our current build system
[02:17:56] <koobs> LDFLAGS support (and other patches gus and I have) would be nice
[02:18:12] <koobs> totally, not having a go, but the coupling/assumptions is quite painful
[02:18:28] <koobs> goal: make it easy for us (and anyone) to help cross-build/create new boostraps
[02:18:36] <koobs> otherwise traction is impacted
[02:19:08] <bstrie> huon koobs: OT, if debian rust builds use system llvm, does that mean they don't benefit from our null-pointer-opt-pass or whatever we do?
[02:19:14] <huon> yes
[02:19:17] <koobs> bstrie: yes
[02:19:20] <bstrie> garbage
[02:19:35] <koobs> bstrie: only just realised too: https://wiki.freebsd.org/Rust
[02:19:40] <koobs> bstrie: thats the summary of current state
[02:19:47] <koobs> "Only 10.1 amd64 supports segmented stacks, which were previously? required for rust. "
[02:19:48] <koobs> is the biggy
[02:19:49] <cmr> hm, that is really unfortunate, that means packaged Rust will be slower than from-the-horses-mouth.
[02:19:53] <koobs> only just found out they can be disabled
[02:20:10] <koobs> get it upstream, thats the only sustainable route
[02:20:16] <koobs> that process has to be productive
[02:20:35] <bstrie> koobs: we're planning on removing all need for segmented stacks, we're currently only using that stuff for stack safety
[02:20:39] <koobs> we *can* have local llvm patches while upstream produce new releases
[02:20:47] <koobs> bstrie: yep i saw, but that *was* a blocker
[02:21:07] <bstrie> koobs: if this is blocking you, then it might be an argument for priotizing removing the segmented stack need
[02:21:21] <bstrie> acrichto: is there an RFC for going from segmented stacks to stack probes for stack safety?
[02:21:24] <koobs> bstrie: out of all this, ill produce a simple list of things that will help usmake faster progress for you
[02:21:49] <koobs> bstrie: whether we have patches or not, undoubtedly some/most will be way quicker to implement by the team
[02:22:14] <huon> cmr: just need to push the patches upstream quicker ;P
[02:22:29] <huon> bstrie: we have already done the transition on some platforms, i believe
[02:22:58] <bstrie> what if we just fork llvm and call it rlvm, then it's a brand new package and debian won't need to worry about using the upstream version
[02:23:05] <koobs> again, downstreams can carry your (rust) patches locally while llvm upstream produces new releases
[02:23:14] <koobs> no need
[02:23:21] <koobs> bstrie: theres absolutely no reason to do that
[02:23:33] <cmr> I don't think it needs to be a patch, doesn't it support dynamically loaded passes etc?
[02:23:49] <bstrie> is this something that would fall under edunham's purview? packaging for distros?
[02:23:55] <koobs> you can continue to bundle it with patches, anbd downstreams can patch llvm local without coupling/requiring bundled rust/llvm
[02:24:04] <bstrie> cmr: it does, as long as they let us ship binaries
[02:24:14] <cmr> koobs: Why is support for 9.x valuable, btw? Last I talked with FreeBSD people about packaging they told me to ignore 9.x and focus on 10.
[02:24:23] <huon> cmr: I think getting the code review by LLVM experts would be good
[02:24:39] <bstrie> doener is an expert :P
[02:24:49] <koobs> cmr: its not, but if the gap is not large, then why not
[02:24:49] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[02:24:59] <cmr> koobs: I guess.
[02:25:02] * huon doesn't know if they've reviewed the null-check code
[02:25:07] <koobs> cmr: "dont bother with x" is exactly how ecosystem robustness is impacted
[02:25:34] <koobs> cmr: not withstanding if we can bootstrap X version easily, then doing 9.x (if possible) is a short hopskip from there
[02:25:49] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:26:11] <koobs> cmr: independently, rusts crew/team can make the build system more flexible
[02:26:21] <bstrie> huon: I'm happy to hear about having already ditched morestack on some platforms. what are the remaining blockers?
[02:26:29] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:26:31] <koobs> so we can experiment and start to do things that are very challenging right now (bootstrapping)
[02:27:09] <cmr> bstrie: Zoxc would know more, I think we're doing stack probing and guard pages everywhere?
[02:27:51] <koobs> bstrie cmr ; ill add a 'build annoyances/challenges' to our wiki page, so its clearer
[02:27:53] <bstrie> that's what I heard
[02:28:06] <cmr> koobs: sounds wonderful!
[02:28:21] <koobs> bstrie cmr the person im working with ( wca ) has faced some challenges with cargo/packaging too
[02:28:22] <huon> bstrie: no idea, there's a filed bug
[02:28:35] <huon> bstrie: (I guess searching for 'stack probes' would find it)
[02:28:38] <koobs> so, we'll eventually to the point where were having a conversation about sustainable ecosystem (third party lib) packaging too
[02:29:10] <Zoxc> We do stack probing only on Windows
[02:29:27] <bstrie> Zoxc: the plan is to use stack probes on all platforms though, right?
[02:29:36] <Zoxc> Yes
[02:29:47] <bstrie> Zoxc: is there a place that koobs can track that work?
[02:30:48] <huon> bstrie: the stack-probes bug on the issue tracker ;P
[02:30:50] <koobs> dont want to track it (really), but making it easy for us to delcare how we want our tripples to work out of the box would be nice
[02:31:22] <Zoxc> https://github.com/rust-lang/rust/issues/16012
[02:31:34] <Zoxc> that's one issue atleast =P
[02:32:33] *** Joins: mib_oh4vb4 (Mibbit@moz-juv.9o3.252.72.IP)
[02:33:02] <koobs> brb in an hourish cc will
[02:33:53] <bstrie> koobs: is wca in this channel the will in question?
[02:35:11] <bstrie> Zoxc: I'm super psyched for getting rid of segmented stacks :D
[02:35:26] <bstrie> throw in some stack flags for dynamic drop
[02:35:35] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[02:35:38] <bstrie> maybe a flag to turn panics into aborts
[02:35:43] <bstrie> baby, you got a stew going
[02:36:46] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:36:52] <Zoxc> bstrie: All the ugly code will stick around though :(
[02:36:58] <wca> bstrie: yup, that's me
[02:37:18] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:37:27] *** Quits: mib_oh4vb4 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:41:58] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[02:47:44] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:48:16] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:50:07] *** Joins: kimundi_ (kimundi@moz-rb1gq6.dip0.t-ipconnect.de)
[02:52:34] *** Quits: kimundi (kimundi@moz-pu1phi.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:52:34] *** kimundi_ is now known as kimundi
[02:54:33] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:55:24] <bombless> https://doc.rust-lang.org/src/collections/vec.rs.html#1369 what's the magic behind this, where's the fat pointer come from?
[02:55:55] <cmr> bombless: &Vec<T> coerces to &[T]
[02:56:05] <cmr> By the Deref impl.
[02:58:11] <bombless> cmr: Oh yes thanks. I didn't know the auto Deref can happen in the argument place..
[02:58:42] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:59:13] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[02:59:23] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[03:00:51] <XMPPwocky> bombless: by deref coercions, &T will coerce to &U if T implements Deref<U>
[03:01:37] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:08:43] <bstrie> koobs wca: all of this sounds like the perfect thing to bring to the attention of the tooling team. I'm not sure how to engage them in general, but acrichto is the team leader
[03:08:53] <bstrie> let's start putting those subteams to use
[03:09:07] <cmr> #rust-tools
[03:10:19] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:13:15] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[03:15:35] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:16:13] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[03:16:14] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:18:10] *** Quits: erz_ (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:20:40] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[03:26:03] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:26:35] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[03:27:36] *** Joins: semarie (semarie@moz-829.vnk.70.166.IP)
[03:29:41] *** Quits: Jesin (Jesin@moz-8sq.94j.16.107.IP) (Quit: Leaving)
[03:32:36] *** Quits: joh (uid13099@moz-2c7ap3.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[03:37:01] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:37:33] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[03:38:52] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:46:14] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Connection closed)
[03:55:15] *** Joins: mukilan (mukilan@moz-agl.8le.164.122.IP)
[04:01:24] *** Quits: jooert (jooert@moz-ec67oq.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[04:05:38] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[04:25:05] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[04:37:50] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:41:27] *** Quits: bombless (_@moz-1j8.piv.41.59.IP) (Ping timeout: 121 seconds)
[04:42:41] *** Joins: mib_emporo (Mibbit@moz-juv.9o3.252.72.IP)
[04:43:43] *** Quits: mib_emporo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:09:39] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[05:22:47] *** Joins: davebettin (textual@moz-ip635p.or.comcast.net)
[05:25:02] *** Quits: ChrisPls (Mibbit@moz-ou1.3i1.67.138.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:26:16] *** Quits: davebettin (textual@moz-ip635p.or.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:26:25] *** Joins: davebettin (textual@moz-ip635p.or.comcast.net)
[05:30:05] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[05:30:27] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[05:30:56] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:40:48] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[05:44:30] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[05:44:51] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[05:49:15] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[05:58:42] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[06:23:24] *** Joins: avikpal (avikpal@moz-0e5.hfh.194.117.IP)
[06:27:08] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[06:29:23] *** Quits: avikpal (avikpal@moz-0e5.hfh.194.117.IP) (Ping timeout: 121 seconds)
[06:34:43] *** Joins: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp)
[06:51:22] *** Joins: avikpal (avikpal@moz-l1t.9fs.194.117.IP)
[06:53:21] *** Joins: Jesin (Jesin@moz-8sq.94j.16.107.IP)
[06:55:43] *** Quits: avikpal (avikpal@moz-l1t.9fs.194.117.IP) (Ping timeout: 121 seconds)
[06:56:01] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:57:17] <koobs> bstrie: definitely
[06:57:32] <koobs> bstrie: and yes, wca is will :)
[06:58:25] *** Joins: ferminter (Mibbit@moz-juv.9o3.252.72.IP)
[06:59:10] *** Quits: davebettin (textual@moz-ip635p.or.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:59:29] <Manishearth> koobs: what are y'all working on?
[07:00:52] <cmr> Manishearth: a Rust port for FreeBSD
[07:00:56] <cmr> (ie, a package)
[07:01:14] <Manishearth> ah cool
[07:01:19] <Manishearth> keep up the good work :)
[07:01:23] <koobs> Well, more precisly, the rust port exists (1.0.0)
[07:01:31] <koobs> we want to make it better, and not just for 10.x+ amd64
[07:01:42] <koobs> But we're blocked on build "challenges"
[07:01:46] <koobs> and bootstrapping :)
[07:02:04] <koobs> and ambiguous/outdated doco :)
[07:02:12] *** Joins: avikpal (avikpal@moz-bof.nmc.194.117.IP)
[07:02:20] <koobs> so, just bringing together our knowledge on the current state with the help of gus and others
[07:03:05] <koobs> And i owe brian a. my pgp keys for the new freebsd buildbots
[07:06:26] *** Quits: avikpal (avikpal@moz-bof.nmc.194.117.IP) (Connection closed)
[07:07:30] <cmr> Is acrichto still on vacation?
[07:08:38] <eddyb> huon: I ran callgrind and I might have something soon
[07:09:26] <eddyb> that's... a LOT of mutex activity
[07:09:51] <cmr> In any case, r? https://github.com/rust-lang/bitflags/pull/7
[07:12:58] *** Quits: ferminter (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:14:03] <aji> why is adding a Debug impl a breaking change?
[07:14:18] <cmr> Because no one else can add a Debug impl to the generated type.
[07:14:33] <aji> ah wait this is inside a macro, i see now
[07:14:59] <eddyb> cmr: isn't that order-dependent?
[07:15:07] <eddyb> actually... nvm
[07:15:08] <cmr> eddyb: yes.
[07:15:11] <eddyb> it's pretty good
[07:15:26] <eddyb> cmr: I thought you wanted to have a minimal set
[07:15:37] <eddyb> but this is even better
[07:16:08] <cmr> It's really hard to macro-ify anything much smarter.
[07:16:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:16:23] <cmr> Without just dumping all the values into an array and doing computation on it.
[07:17:24] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[07:24:29] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:26:25] <eddyb> cmr: the docs may mention that the resulting representation is always valid, but may be redundant
[07:26:31] <eddyb> cmr: that's what confused me for a bit
[07:31:54] <huon> eddyb: nice
[07:32:27] <huon> does anyone have a good idea to avoid stuttering in count_ones::count_ones? (i.e. a function in a single-purpose crate)
[07:34:17] <cmr> huon: count_ones::do_it
[07:35:21] <eddyb> export default function count_ones( - oh, this is Rust
[07:36:07] <huon> cmr: is that a serious suggestion?
[07:37:14] <cmr> huon: not really.
[07:37:51] <huon> hm, count_ones::count isn't so bad.
[07:37:57] <cmr> eddyb: added note.
[07:38:10] <huon> or I could rename it to hamming::count_ones or popcount::count_ones...
[07:38:19] <huon> or hamming::weight
[07:38:24] <eddyb> <3
[07:38:25] <cmr> hamming::weight is cute.
[07:38:35] <cmr> Doesn't the stdlib already have a method for this though?
[07:38:44] <eddyb> hamming::width and hamming::height coming in 2.0
[07:38:46] <huon> not optimised for &[u8] :)
[07:38:49] <cmr> Ah.
[07:39:06] <cmr> I hope you're SIMDing it up then!
[07:39:18] <huon> yeah, u8x8
[07:39:22] <huon> (i.e. u64 :P )
[07:39:34] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Connection closed)
[07:39:47] <huon> hm, I feel kinda bad about taking the name 'hamming' for such a little thing
[07:40:14] <cmr> huon: well I guess you'll just have to implement hamming codes too
[07:40:24] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:41:03] *** Joins: Havvy (Havvy@moz-epv20b.wa.comcast.net)
[07:41:37] <huon> I suppose I could do hamming distance too
[07:42:30] *** Quits: miselin (miselin@moz-c77.igu.11.203.IP) (Ping timeout: 121 seconds)
[07:43:04] * koobs gets hungry
[07:43:05] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[07:43:05] <koobs> dont know why
[07:43:17] <cmr> must be all this talk of ham
[07:46:17] *** Joins: miselin (miselin@moz-c77.igu.11.203.IP)
[07:48:50] <eddyb> huon: https://github.com/rust-lang/rust/issues/25916#issuecomment-107141515
[07:49:19] <eddyb> posting screenshots wouldn't have been that helpful, so I made a table :P
[07:51:23] <eddyb> huon: the actual slowdown comes from all the allocations involving inference variables, AFAICT
[07:52:12] <eddyb> there's enough of that for mutexes to show up almost at the top
[07:52:40] <eddyb> and collections::hash_table::calculate_offsets is not inline for some reason
[07:53:59] <eddyb> https://github.com/rust-lang/rust/blob/master/src/libstd/collections/hash/table.rs#L631-L633 ouch
[07:55:10] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:55:28] <aatch> eddyb, I blame the assert in `round_up_to_next`
[07:55:38] *** Quits: Kxepal (Miranda@moz-fbtdfm.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:55:48] <eddyb> aatch: no
[07:55:56] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[07:55:56] <eddyb> aatch: it's not instantiated cross-crate
[07:56:06] <eddyb> it has 0 chance of inlining without LTO :P
[07:56:13] <aatch> eddyb, oh, right.
[07:56:18] <eddyb> opening a PR now
[07:56:39] <aatch> eddyb, I forgot about cross-crate inlining
[07:57:54] *** Joins: Kxepal (Miranda@moz-r7ntvk.pppoe.mtu-net.ru)
[08:00:46] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:01:18] <eddyb> argh I can't use the online interface
[08:05:14] <eddyb> aatch: https://github.com/rust-lang/rust/pull/25921
[08:09:45] <eddyb> thanks!
[08:14:41] <bluss> eddyb: I love your number of calls table
[08:16:09] <eddyb> bluss: check out #rust-offtopic for my lazy use of rusti to make the last row :P
[08:16:48] <bluss> ah I joined to late to see it
[08:17:04] <eddyb> playbot: 256*256*5 + 256*9
[08:17:05] -playbot- 329984
[08:17:19] <eddyb> (just double-checking, the formula still looks weird)
[08:18:20] <eddyb> you know what, maybe select_where_possible *should* be constant-time. I mean, why does it have to check every inference variable?
[08:19:12] <bluss> as niko says, this behavior appeared when binops were fixed to allow "3. + A" to not just hardcode A to f64
[08:20:43] <eddyb> yeah, but that's just the trigger, you can get this issue with no literals
[08:21:36] <eddyb> there's a chance here for improving the general implementation instead of special-casing primitives again
[08:22:20] <huon> cmr: thanks for rubber ducking, I went with hamming::weight http://huonw.github.io/hamming/hamming/fn.weight.html
[08:22:55] <eddyb> there is no new type information available for the types of the literals, they'll all default to i32 in the end
[08:23:14] <eddyb> so select_where_possible shouldn't do *anything*
[08:36:28] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[08:50:06] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:52:45] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:53:50] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:58:07] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:58:36] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:00:44] *** Quits: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp) (Connection closed)
[09:01:21] *** Joins: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp)
[09:03:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:07:06] <bluss> eddyb: there's an issue for your inflate (assuming here) https://github.com/rust-lang/rust/issues/25069
[09:07:15] <bluss> gh25069
[09:07:15] <[o__o]> compile-time: massive regression during 2015: https://github.com/rust-lang/rust/issues/25069
[09:10:44] <eddyb> I didn't consider giving type hints
[09:10:52] <eddyb> but that would uglify the code :P
[09:19:58] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:21:00] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Ping timeout: 121 seconds)
[09:21:11] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[09:22:28] *** Joins: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com)
[09:23:33] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[09:45:06] <eddyb> Manishearth: so one problem is this function https://github.com/rust-lang/rust/blob/master/src/libstd/thread/local.rs#L166
[09:45:40] <eddyb> maybe I should've made unsafe const fn a thing
[09:45:51] * Manishearth boggles
[09:45:57] <Manishearth> unsafe .. const ... fn
[09:46:05] * Manishearth proposes unsafe pure const fn
[09:46:11] * Manishearth proposes unsafe pure iopure const fn
[09:46:28] * Manishearth proposes unsafe impure iopure reentrant const fn
[09:46:51] <Manishearth> though unsafe const fn actually sounds like a good idea
[09:47:52] <eddyb> the problem is that if you changed the function types there to return an unsafe pointer, I could construct a LocalKey with a function returning some bogus pointer, all in safe code
[09:49:29] <eddyb> imp::Key actually doesn't look misusable because it takes &'static self and, well, &'static UnsafeCell isn't Send
[09:50:27] <eddyb> oh but it's not going to get &'static self in the thread_local case
[09:51:27] <eddyb> Manishearth: you should be able to replace the inner fn with fn() -> Option<&'static UnsafeCell<Option<T>>>
[09:52:26] *** Quits: ahartzheim (ahartzheim@moz-7dj.uug.52.72.IP) (Ping timeout: 121 seconds)
[09:52:38] <eddyb> which can't point to a static because UnsafeCell isn't Sync, and it can't point to a thread_local static because that's not 'static :P
[09:53:54] *** Joins: ahartzheim (ahartzheim@moz-mb0.tts.72.185.IP)
[09:54:57] *** Joins: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de)
[09:55:12] <eddyb> Manishearth: makes sense?
[09:56:34] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[09:56:40] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Quit: leaving)
[09:57:00] <Manishearth> hmm
[09:57:15] <eddyb> ScopedKey is trickier
[09:57:44] <Manishearth> I ... *think* it makes sense
[09:58:39] <Manishearth> What would really be helpful would be a formal model of the wrapper types that let you bypass/restrict thread safety
[09:59:21] <Manishearth> I sort of started thinking in terms of that yesterday, which led me to realize that unconditional Sync impls are Very Bad, which led me to find this
[09:59:42] <Manishearth> of course I didn't have a formal model, more like a mental spaghetti, but it helped
[10:00:36] <eddyb> ugh, this would be so much easier with ...
[10:00:37] <eddyb> Manishearth: oh
[10:00:53] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[10:00:58] <eddyb> Manishearth: KeyInner isn't stable so its Sync-ness doesn't matter
[10:01:29] <eddyb> ScopedKey should become a wrapper for a fn() -> &'static scoped_tls::imp::KeyInner<T>
[10:01:37] <Manishearth> eddyb: ScopedKey isn't stable either
[10:01:46] <Manishearth> unstable apis should still be safe
[10:02:21] <eddyb> Manishearth: it's safe, it's just not Sync everywhere
[10:02:46] <Manishearth> ah
[10:03:05] <eddyb> you can just remove https://github.com/rust-lang/rust/blob/master/src/libstd/thread/scoped_tls.rs#L196
[10:03:38] <Manishearth> yeah
[10:04:26] <eddyb> IMO sys_common::thread_local::StaticKey should be Sync, unless it has some gotchas
[10:05:48] <eddyb> Manishearth: it's funny that I ended up with the implementation from "disallow Sync thread_local statics" even though the rule is different
[10:06:11] <eddyb> or maybe borrows of non-Sync thread_local's could be allowed to be 'static
[10:06:19] <eddyb> because they're harmless
[10:07:45] <eddyb> Manishearth: you also want to disable this check https://github.com/rust-lang/rust/blob/master/src/librustc/middle/check_const.rs#L306
[10:08:00] <eddyb> playbot: struct Foo; impl Drop for Foo { fn drop(&mut self) {} }
[10:08:01] -playbot- ()
[10:08:06] <eddyb> playbot: struct Foo; impl Drop for Foo { fn drop(&mut self) {} } static FOO: Foo = Foo;
[10:08:07] -playbot- <anon>:9:83: 9:86 error: statics are not allowed to have destructors
[10:08:08] -playbot- <anon>:9         struct Foo; impl Drop for Foo { fn drop(&mut self) {} } static FOO: Foo = Foo;
[10:08:08] -playbot- output truncated; full output at: http://bit.ly/1HDMuoq
[10:08:31] <eddyb> that's interesting, where does that come from
[10:08:44] <eddyb> ah https://github.com/rust-lang/rust/blob/master/src/librustc/middle/check_const.rs#L537
[10:09:23] <eddyb> oh, so this bans things like None::<Box<T>> https://github.com/rust-lang/rust/blob/master/src/librustc/middle/check_const.rs#L269
[10:13:06] *** Joins: nodweber (nodweber@moz-1no.d7a.3.149.IP)
[10:13:16] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[10:14:12] <eddyb> oops http://is.gd/1dsVhB
[10:14:46] <eddyb> acrichto: you can write a StaticMutex wrapper which can hold types with dtors
[10:15:38] <eddyb> because for some reason nothing disallowed a type like UnsafeCell<Option<Box<T>>> in statics
[10:16:47] <eddyb> so all I need is to let StaticMutex hold a value and then make Vec::new() a const fn (that will require allowing const fn return types to have destructors, but not consts)
[10:21:38] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[10:22:05] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[10:24:09] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:24:34] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:25:03] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Ping timeout: 121 seconds)
[10:27:05] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (Connection closed)
[10:28:21] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[10:28:36] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:28:57] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:30:00] *** Joins: Diggsey (diggsey@moz-9s9ol4.dsl.pipex.com)
[10:31:50] *** Quits: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp) (Quit: Konversation terminated!)
[10:38:41] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[10:41:08] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:49:02] *** Joins: eibwen (eibwen@moz-sfstjq.dip0.t-ipconnect.de)
[10:50:10] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[10:51:38] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[10:52:19] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[10:54:49] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[10:58:33] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:58:44] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[10:59:31] *** Quits: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[11:02:54] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Ping timeout: 121 seconds)
[11:07:20] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Connection closed)
[11:10:18] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[11:13:44] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:30:09] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[11:32:44] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[11:38:06] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[11:38:06] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[11:49:32] *** Joins: ytain (ytain@moz-ffpck2.dsl.teksavvy.com)
[11:50:52] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[12:05:54] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:06:32] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[12:07:15] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[12:07:58] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[12:11:06] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[12:13:14] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[12:14:41] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Connection closed)
[12:19:55] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Connection closed)
[12:19:55] *** Joins: larhat2 (Adium@moz-vlo5br.cable.virginm.net)
[12:20:08] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[12:28:31] *** Quits: nodweber (nodweber@moz-1no.d7a.3.149.IP) (A TLS packet with unexpected length was received.)
[12:35:27] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[12:37:53] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:40:56] *** Joins: O01eg (o01eg@moz-grusqb.5ej6.3egh.2698.2a02.IP)
[12:44:08] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[12:44:59] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[12:45:02] *** rkruppe_ is now known as rkruppe
[12:49:15] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:49:22] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:54:14] *** Joins: ncarrillo (textual@moz-mke7jn.cable.rcn.com)
[12:58:44] *** Quits: ytain (ytain@moz-ffpck2.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[13:01:05] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[13:03:50] *** Joins: edward-san (Edward`san@moz-2dl.61u.237.95.IP)
[13:06:03] <Tobba> rustc: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/IR/Instructions.cpp:1083: void llvm::StoreInst::AssertOK(): Assertion `getOperand(0)->getType() == cast<PointerType>(getOperand(1)->getType())->getElementType() && "Ptr must be a pointer to Val type!"' failed.
[13:06:18] <Tobba> of course, this is what I get after not having a successful compile for hours
[13:07:29] <Tobba> this kinda stuff is gonna be *really* fun when LLVM asserts are ineveitably disabled
[13:07:39] *** Joins: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de)
[13:08:21] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Connection closed)
[13:08:40] <Tobba> seems there's a bug with volatile_store
[13:10:55] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:10:57] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:11:35] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[13:12:02] *** Quits: larhat2 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[13:15:55] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Ping timeout: 121 seconds)
[13:17:12] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[13:21:40] *** Quits: ncarrillo (textual@moz-mke7jn.cable.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:22:34] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[13:28:47] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[13:30:29] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:30:58] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[13:30:58] *** rkruppe_ is now known as rkruppe
[13:35:07] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Quit: Leaving)
[13:35:11] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[13:38:05] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[13:50:04] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[13:50:53] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[13:55:23] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[13:57:09] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[14:00:41] *** Joins: ChrisPls (Mibbit@moz-ou1.3i1.67.138.IP)
[14:17:25] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[14:25:04] *** Joins: nickniko_ (nicknikolov@moz-27s.0d8.214.90.IP)
[14:26:11] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Ping timeout: 121 seconds)
[14:32:36] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[14:35:42] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[14:36:56] *** Joins: davebettin (textual@moz-ip635p.or.comcast.net)
[14:37:38] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[14:38:16] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[14:38:58] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[14:39:11] *** rkruppe_ is now known as rkruppe
[14:43:52] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[14:46:02] <edward-san> http://pastebin.com/UuEbK4D6 makes rustc panic .. I wonder if it panics to you too
[14:47:29] <bluss> edward-san: doesn't look like it http://is.gd/I6aYs3
[14:48:47] <edward-san> you should try 'Beta'
[14:49:06] <bluss> interesting. Neither stable nor nightly
[14:49:09] <bluss> didn't try beta!
[14:49:22] <edward-san> :D
[14:49:33] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Connection closed)
[14:49:56] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[14:53:58] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Ping timeout: 121 seconds)
[14:54:01] *** Quits: davebettin (textual@moz-ip635p.or.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:55:00] <bluss> edward-san: I think that means it's “fixed” if it doesn't show up in nightly
[14:55:04] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[14:55:46] <edward-san> so the next beta update should deal with it
[14:55:47] <edward-san> I guess
[14:57:29] <bluss> that's not for certain
[14:57:35] <bluss> maybe you should report a bug
[14:57:45] <bluss> I think the beta is already branched
[15:02:39] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[15:18:53] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[15:20:53] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Quit: )
[15:22:32] *** Joins: luzie (lu.cy@moz-g11uhv.lu)
[15:32:04] *** Joins: poorman (poorman@moz-sdl0oq.res.rr.com)
[15:32:12] *** Joins: mib_jtjx54 (Mibbit@moz-g6k.oht.161.46.IP)
[15:36:50] *** Joins: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP)
[15:41:05] <steveklabnik> yes
[15:41:09] <steveklabnik> the beta was branched at the time of 1.0
[15:41:28] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Connection closed)
[15:41:30] <bstrie> my comment about writing a `cargo check` command now has 80 upvotes on reddit
[15:41:37] <bstrie> so I think that means I actually have to implement it now
[15:41:43] <steveklabnik> hehe
[15:41:49] <bstrie> upvote-based development
[15:45:07] <frewsxcv> bstrie: out of curiosity, can i get a link to the thread?
[15:46:14] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[15:47:28] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[15:47:41] *** rkruppe_ is now known as rkruppe
[15:50:00] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[15:56:26] <eddyb> bstrie: you'll need two rustc flags
[15:56:46] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:57:07] <eddyb> let's say... -Z only-typeck (not sure, but you might want to stop at borrowck or lints instead) and -Z emit-type-only-metadata
[15:58:00] <eddyb> you do the latter only for libraries. outputting an rlib should be enough, just need to pass a different file through the --native thing that cargo does
[15:58:45] <eddyb> librustc_driver actually has a hook system that you might be able to use (if you want to stop after lints)
[15:59:35] <eddyb> actually, stopping after lints can already be done with -Z no-trans
[16:02:13] *** Quits: ChrisPls (Mibbit@moz-ou1.3i1.67.138.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:02:49] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Connection closed)
[16:06:49] <bstrie> frewsxcv: https://www.reddit.com/r/rust/comments/37ujvx/i_wrote_a_website_in_rust_and_lived_to_tell_the/
[16:08:16] <frewsxcv> ah, gotcha. i would have guessed `cargo check` would check for updates with dependencies
[16:12:06] <bstrie> it's true that it's impossible for &str and String to contain invalid UTF-8 unless you use unsafe, correct?
[16:12:38] <Manishearth> yes
[16:14:00] <steveklabnik> incorrectly use unsafe :)
[16:14:23] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[16:16:44] <bstrie> Gankro: if I use unsafe to put invalid utf-8 inside a String, can that lead to memory unsafety? i.e. is "uphold the UTF-8 invariant of Strings" a tenet of unsafe rust?
[16:18:21] <Gankro> it's not part of the language perse. But the string API claims it will transitively do bad stuff if you do it.
[16:18:27] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Ping timeout: 121 seconds)
[16:19:06] <eddyb> an example would be a buffer overflow on an overlong sequence
[16:19:20] <bstrie> Gankro: right, I'm curious if "bad stuff" here means memory unsafety
[16:19:36] <bstrie> instead of just "bad stuff" like formatting your hard drive
[16:19:50] <Mutabah> bstrie: possibly
[16:19:51] <Gankro> UB for reals
[16:20:02] <Mutabah> bstrie: It could quite likely read past the end of the array
[16:20:06] <Gankro> But UB is an impl detail
[16:20:14] <eddyb> Mutabah: or write past the end of an array
[16:20:25] <Mutabah> bstrie: (iirc, the encoding provides a size in the first byte)
[16:20:33] *** Joins: ph88 (Mibbit@moz-eo02sv.dynamic.ziggo.nl)
[16:20:48] <eddyb> yeah, you can cut off an utf-8 sequence and an iterator might continue
[16:20:54] <bstrie> Gankro: what do you mean by saying this isn't "part of the language"?
[16:21:13] <ph88> anyone know whats going on here?  http://pastebin.com/zciGEZKw  http://pastebin.com/sTLMVcCx
[16:21:21] <Gankro> & vs &mut is a fundamental language guaranter
[16:21:26] <bstrie> I would expect the UTF-8 guarantee to be codified in the rust specification
[16:21:31] <eddyb> instead of checking for the end of the slice for every byte
[16:21:32] <bstrie> just like the null pointer optimization, etc
[16:21:43] <eddyb> bstrie: well, most of it can be moved into the library
[16:21:47] <Gankro> Utf8 is just something the string api didn't want to pay for and declared
[16:22:12] <eddyb> I want to be able to write "foo" as str(*b"foo")
[16:22:22] <bstrie> Gankro: what do you mean "didn't want to pay for", we're paying for it with all these string methods that take care not to break the invariant
[16:22:23] <eddyb> sorry, &str(*b"foo")
[16:22:53] <Gankro> bstrir litterally jsut woke up
[16:23:00] <Gankro> On phone
[16:23:06] <Gankro> Lemme get dressed
[16:23:54] <eddyb> bstrie: btw, cargo check is going to suck for me until https://github.com/rust-lang/rust/issues/25916 (and the other issues opened on the same typeck regression) gets fixed
[16:24:10] <bstrie> ph88: what is that second file?
[16:24:26] <eddyb> more importantly, why don't we have a policy against pastebin.com yet?
[16:25:16] <bstrie> eddyb: cargo build is going to suck for everyone until codegen isn't mega slow and linking isn't mega slow (which will be until we have mir and lld, respectively, so basically never)
[16:25:31] <eddyb> presumably /usr/local/lib/rustlib/install.log
[16:25:46] <sp3d> what's mir?
[16:25:57] <bstrie> !mir
[16:26:08] <eddyb> mkdir: cannot create directory ‘/usr/local/share/man/man1’: File exists
[16:26:11] <eddyb> that's just weird
[16:26:19] <eddyb> sp3d: midway IR
[16:26:23] <sp3d> oh, thanks
[16:26:39] <eddyb> (yes, nobody used "midway" until now, I just like messing with bstrie)
[16:26:59] *** Quits: blank_name (blank_name@moz-1gd.aq8.36.50.IP) (Ping timeout: 121 seconds)
[16:27:19] <bstrie> !learn mir=Middle Intermediate Representation, a proposed IR to which Rust code would compile prior to translation to LLVM IR
[16:27:19] <rustbot> Learned factoid 'mir'.
[16:27:21] <Gankro> bstrie: Ok on reflection it's probably a language guarantee. Strings are, in my heart, a "library", but the language knows them pervasively enough via str and whatnot that I guess they're a language matter
[16:27:44] <eddyb> Gankro: str is barely hanging to the language by a thread
[16:27:58] <bstrie> that thread is user-defined unsized types
[16:28:00] *** Joins: blank_name (blank_name@moz-b1omh3.mi.frontiernet.net)
[16:28:09] <Gankro> eddyb: What about stirng litterals?
[16:28:15] <eddyb> you mean struct str([u8]);?
[16:28:26] <Gankro> "hello"
[16:28:30] <eddyb> because we don't need to add user-defined usnized types to make it work
[16:28:39] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[16:28:48] <eddyb> Gankro: "desugar" to str construction out of byte arrays :P
[16:28:50] <Manishearth> Gankro: you only need to provide a way to go from the literal to the type
[16:28:59] <Manishearth> we already have lang="str_eq"
[16:28:59] <bstrie> Gankro: in any case, the stdlib *is* a language guarantee. you can't ship an alternate conformant implementation of rust without providing the stdlib
[16:29:16] <eddyb> hmm
[16:29:23] <Gankro> bstrie: There's core rust vs std rust
[16:29:34] <Gankro> core rust is imo the language
[16:29:38] <Manishearth> ^
[16:29:39] <Gankro> but std is... standard
[16:29:42] <bstrie> there's rust the language, and core the library, and std the library
[16:29:53] <bstrie> all are part of the language specification
[16:29:54] <eddyb> impl str { pub unsafe const fn from_byte_literal(bytes: &'static [u8]) -> &'static str { &str(*bytes) } }
[16:29:57] <eddyb> that ought to work
[16:30:15] <Manishearth> bstrie: no, std is also a bunch of libraries that have little to do with the language spec
[16:30:18] <eddyb> might be even possible to iterate it and check for utf-8 :P
[16:30:22] <Manishearth> eg all of std::sync
[16:30:26] <Manishearth> and std::thread
[16:30:29] <Manishearth> and std::rc
[16:30:32] <Manishearth> and...everything
[16:30:49] <eddyb> the language is what the compiler implements + all the lang items
[16:30:49] <bstrie> Manishearth: this is not a position that any programming language has ever taken. if you have a "standard library", that "library" is part of your "standard"
[16:30:49] <Gankro> bstrie: std isn't really part of the compiler or anything. You could write a compiler that just builds and ships rust-lang/libstd or whatever with a few patches for intrinsics
[16:30:56] <ph88> bstrie: that's the logfile the are refering to in the first file
[16:30:59] <eddyb> that's where the language stops
[16:31:02] <Manishearth> bstrie: but not the language
[16:31:22] <bstrie> I consider the "language" to be what is specified by a hypothetical ISO or ECMA language spec, which would include the stdlib
[16:31:25] <eddyb> standard Rust includes a Rust language and a standard library
[16:31:32] <Manishearth> ^
[16:31:43] <eddyb> bstrie: the ECMAScript standard doesn't specify the DOM
[16:31:57] <eddyb> or any browser API
[16:32:02] <bstrie> it does specify javascript's stupid Date functions, which is basically the entirety of javascript's stdlib
[16:32:28] <rkruppe> The distinction between "the language" and "the standard library" is useful whatever you want to call those two parts and whatever you call the combination of the two
[16:32:29] <bstrie> the DOM isn't comparable to String
[16:32:44] <eddyb> libstd is comparable with the browser API
[16:32:44] <Manishearth> bstrie: the distinction is important, because it clears out what is and isn't possible in a library
[16:34:08] <bstrie> Manishearth: the fact that it's possible in a library is a convenient implementation detail, it could just as easily be hardcoded into the compiler with the exact same ramifications
[16:34:43] <Manishearth> hm
[16:35:06] * Manishearth flaps his arm around in a vague gesture of disagreement
[16:35:15] <Manishearth> hm
[16:35:22] <eddyb> bstrie: it matters for users of libcore
[16:35:36] <bstrie> libcore is also part of the language
[16:35:55] <bstrie> or at least it will be once it's stabilized, which should be soon
[16:36:03] <Manishearth> bstrie: what eddyb said, also if you look at Go this distinction becomes much more important, because now a lot of the things done in the "language" (eg generic maps) aren't possible
[16:36:07] <eddyb> yes, but libstd can be replaced
[16:36:15] <bstrie> eddyb: as long as the APIs remain exactly the same
[16:36:27] <eddyb> it's no longer an implementation detail when your project needs a custom libstd
[16:36:44] <Manishearth> So, there is a sort of spectrum from language to lib
[16:36:51] <bstrie> and it's no longer Rust when you provide a custom libstd that doesn't conform exactly to the libstd API
[16:37:09] <eddyb> bstrie: it's still Rust even if you don't have libstd
[16:37:11] <Manishearth> There is the core, core, *core* language, stuff that needs to be tweaked in the compiler if it is going to be tweaked
[16:37:16] <bstrie> eddyb: it's not
[16:37:19] <eddyb> it's just not standard mainstream userspace Rust
[16:37:30] <Manishearth> then yo uhave lang items, which can be overridden, but it's annoying nad hard and limited in flexibility
[16:37:38] <eddyb> bstrie: so you're saying all the Rust kernels aren't written in Rust
[16:37:42] <eddyb> but in not-Rust
[16:37:49] <eddyb> are you hearing yourself?
[16:37:50] <Manishearth> then you have plugins which can hook into the compiler
[16:38:01] <bstrie> eddyb: they're written in no_std rust, which explicitly opts out of the stdlib
[16:38:16] <Manishearth> then you have more things from libcore that are kinda-sorta necessary
[16:38:25] <Manishearth> then you have libstd which can be thrown out completely without issue
[16:38:33] <Manishearth> then you have the other libs
[16:38:38] <eddyb> Manishearth: bstrie would disagree on the libstd point
[16:38:43] <Manishearth> bstrie: ah I see where you're coming from
[16:38:46] <rkruppe> bstrie: So if #[no_std] is part of the language, then surely libstd has a different status in an eventual Rust standard than, say, the behavior of match on enums?
[16:38:51] <bstrie> eddyb: if you write a kernel in rust and then provide userspace with a versin of rust with an incompatible stdlib API, *you have not provided userspace with a version of rust*
[16:38:57] <eddyb> rkruppe: it's still the exact same language
[16:39:06] <steveklabnik> this whole thing is really just an argument about which 'rust' you're talking about
[16:39:10] <Manishearth> eddyb: bstrie we're just operating on different definitions of a vague word here
[16:39:15] <steveklabnik> there's no conflicc here, just overloaded semantics
[16:39:16] <Manishearth> meh
[16:39:18] <eddyb> steveklabnik: bstrie refuses to use a sane technical definition :P
[16:39:23] <Manishearth> what steveklabnik said
[16:39:28] <steveklabnik> i think that's overly trolly eddyb 
[16:39:36] <bstrie> steveklabnik: eddyb refuses to use a useful technical definition :)
[16:39:42] <steveklabnik> same to you bstrie :p
[16:40:01] <Manishearth> steveklabnik: I parsed that as "(overly trolly eddyb)" and had meme images spring to mind
[16:40:14] <Manishearth> technical words refuse to sane definition
[16:41:20] <eddyb> bstrie: the thing is that it's still Rust-the-language, it's still userspace Rust, it's just not a mainstream OS and not *the* standard library (targetting mainstream OSes)
[16:41:22] <Manishearth> clearly we should abandon English and just talk in code. At least then you can find precise meanings
[16:41:29] <bstrie> mitsuhiko: do you know if python3 enforces at runtime that strings always contain valid unicode, like rust does, or do python3 strings only contain valid unicode by convention, like go does?
[16:41:34] <Manishearth> (I and a friend had a fun time talking in Lisp once)
[16:42:21] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Quit: Konversation terminated!)
[16:42:48] <Manishearth> bstrie: nitpick: utf8, not unicode
[16:42:52] <eddyb> bstrie: "it's no longer Rust" is excessively disqualifying, given that there's multiple components to the "standard Rust language+libs" conglomerate, all of which are still Rust
[16:43:01] <bstrie> Manishearth: python3 doesn't guarantee utf-8, afaik
[16:43:05] <eddyb> IIRC Python3 degrades to UTF-16 and UTF-32
[16:43:06] <Manishearth> bstrie: really?
[16:43:09] <Manishearth> blah
[16:43:19] <eddyb> or UCS4 (is there a difference?)
[16:43:25] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:43:26] <Manishearth> IIRC there is
[16:43:34] <bstrie> eddyb: we have taken fundamentally different positions, we'll resume this argument when ISO comes knocking :P
[16:43:34] <eddyb> byte order?
[16:43:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:44:07] <rkruppe> Python 3 strings don't store UTF-8, but they store unicode code points
[16:44:07] <eddyb> bstrie: it feels like you're arguing for the sake of arguing and this is tiring
[16:44:16] <Manishearth> eddyb: you are too :|
[16:44:18] <eddyb> bstrie: at least strcat had technical points
[16:44:20] <rkruppe> Well, no, stray surrogates are allowed
[16:44:40] <bstrie> eddyb: don't go longing for strcat :P
[16:45:00] <Manishearth> hey, utf-32 is an alias for ucs4
[16:45:02] <Manishearth> bah
[16:45:04] <Manishearth> aliasing
[16:45:08] <Manishearth> this is why I Rust
[16:45:09] <eddyb> Manishearth: lol
[16:46:16] <XMPPwocky> lol
[16:46:25] <Manishearth> bstrie: still, nitpick, "valid unicode" doesn't mean anything because I could define an encoding for any given string to make it valid unicode :p But I'm just nitpicking for the sake of it 
[16:46:49] <Manishearth> (I've also used "valid unicode" when talking about Rust so I'm guilty too)
[16:46:50] <bstrie> Manishearth: you could define it, here I care only if the unicode consortium has defined it :)
[16:47:04] <Manishearth> haha
[16:47:29] <bstrie> which doesn't make the list of encodings any less absurd, but it does narrow them down
[16:48:04] *** Joins: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP)
[16:48:42] <Manishearth> Given how many "official" encodings are out there I'm pretty sure they'd have no problem accepting another from a crazy physics undergrad with desires to take over the world via byte sequences
[16:49:16] <eddyb> map ASCII to ROP gadgets
[16:49:16] <bstrie> ah, but I bet it would take years to work its way through the process
[16:49:25] <bstrie> such is the bureaucracy
[16:50:03] <bstrie> ph88: are you running the rust installer with sudo?
[16:51:43] <Manishearth> bstrie: no need, I'll subversively ship it inside Firefox and IE and Edge and then they'll  *have* to accept it
[16:52:27] <bstrie> Manishearth: years of bureaucracy await you either way!! mwahahahahaa
[16:52:48] * Gankro spaced out 30 minutes ago to watch videos on youtube
[16:52:56] <Manishearth> No, I find the nearest IE engineer and hit them with a $5 wrench
[16:53:01] *** Quits: ph88 (Mibbit@moz-eo02sv.dynamic.ziggo.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:53:05] <bstrie> alternatively you could ship it in servo, then you just need to suffer through years of obscurity
[16:53:17] <Gankro> Oh good mother steveklabnik has showed up to handle the fight
[16:53:17] <bstrie> Manishearth: oh right you're at microsoft
[16:53:20] <Manishearth> yep!
[16:53:21] <bstrie> why are you at microsoft
[16:53:34] <Manishearth> sadly no IE people work here ;-(
[16:53:44] <bstrie> are you there to rust them out from the inside
[16:53:52] * Manishearth is trying
[16:53:55] <steveklabnik> Gankro: hehe
[16:54:02] <eddyb> bstrie: this is publicly logged channel, please take private company matters elsewhere
[16:54:55] <Gankro> steveklabnik: oh, did you have a chance to check out my turpl test?
[16:54:58] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:55:44] <steveklabnik> test?
[16:56:05] <Gankro> http://cglab.ca/~abeinges/blah/turpl/uninitialized.html
[16:56:11] <Manishearth> bstrie: Want to get a good idea of how working in a programming job would be like (still haven't decided with that vs physics). I could have applied to Mozilla, but I'm alrady quite involved and have some idea of how working with Moz would be like. I had an intern offer from MS on my lap so I took it.
[16:56:30] <Manishearth> steveklabnik: it's like the turing test. it tests if you're Niko-enough to use UnsafeCell
[16:56:52] <steveklabnik> oh neat, i hadn't seen it yet no. reading now
[16:57:13] <Manishearth> Gankro: I expect a huge chapter on when things should be made Send/Sync btw. After that blog post ~3 people asked me about the unsafe side of Send/Sync
[16:57:21] <bstrie> I'm expecting a test like "what is niko's social security number" or "what is niko's daughter's middle name"
[16:58:01] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[16:59:29] <Gankro> Manishearth: Nothing should be Sync, haven't you heard, shared state is evil! Message passing is the way to go.
[17:00:29] <steveklabnik> Gankro: you have an extra triple backtick right befor ethe list of ptr functions
[17:01:00] <bluss> and remind them that Send and Sync apply automatically when it's safe and you're not building some new thing yourself using raw pointers etc
[17:01:02] <bstrie> Gankro: Sync should be marked unsafe! and so should all its impls!
[17:01:26] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[17:02:30] <Manishearth> Sync *is* unsafe
[17:03:29] <bstrie> Manishearth: I clap the dust from my hands and proclaim that my work here is done
[17:06:48] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Connection closed)
[17:08:02] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[17:08:44] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[17:10:14] <Manishearth> bstrie: technically it's not, we have an `unsafe impl<T> Sync for Foo<T> {}` in the stdlib
[17:10:23] <Manishearth> which eddyb is going to fix come sundown
[17:10:50] <eddyb> such an impl is fine, it's just the specific case that allows nastiness
[17:10:59] <eddyb> I am not touching that code, I've already explained how to fix it
[17:11:30] <Manishearth> eddyb: when Foo doesn't do any locking? :)
[17:11:36] <Manishearth> and can have any type stuffed in it?
[17:11:36] <bluss> lucky it's unstable
[17:11:39] <Manishearth> yep
[17:11:50] <eddyb> Manishearth: the "any type" part is irrelevant
[17:12:14] <eddyb> both LocalKey and ScopedKey use Cell's in TLS
[17:12:45] <Manishearth> eddyb: any unconstrained unsafe impl of Sync with no locking mechanism and a way of constructing it and obtaining references is bad
[17:12:46] <eddyb> they're not safe even if the contained type is Sync and the thread is alive
[17:12:54] <Manishearth> oh right
[17:14:41] <Gankro> steveklabnik: any higher-level notes on the approach?
[17:15:15] <steveklabnik> not really, just seemed great :) it's hard because i know this stuff already though. you should try to find some people who don't, they'd probably be even more helpful
[17:15:50] <Gankro> Hmm... ok!
[17:16:00] <eddyb> huon: wat https://github.com/rust-lang/rust/blob/master/src/librustc/middle/traits/fulfill.rs#L208-L211
[17:16:08] * Gankro wonders if edunham is lurking around
[17:16:30] <Manishearth> Gankro: 
[17:16:33] <Manishearth> > 
[17:16:39] <Manishearth>      
[17:16:39] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[17:16:40] <Manishearth> It should go without saying that these functions, if misused, will cause serious havoc or just straight up Undefined Behaviour.
[17:16:44] <eddyb> huon: oh, that's "new obligations" not "new type information"
[17:17:06] <Gankro> Manishearth: ?
[17:17:14] <Manishearth> Gankro: For TURPL to be useful you *must* define "misuse" everywhere
[17:17:46] <Gankro> Manishearth: I specifically note that's impossible
[17:17:52] <Gankro> For this fns
[17:18:04] <Gankro> (or rather I tried, but wrote "enumerable" instead)
[17:18:27] <Gankro> Write arbitrary bytes to arbitrary location. That's infinite power
[17:18:29] <Manishearth> Gankro: you can specify the invariants that must be upheld
[17:18:43] <Manishearth> or constrain "use"
[17:18:59] <Manishearth> This is the stuff that's going to trip up unsafe users the most
[17:19:05] <Manishearth> we should at least try to specify some of it
[17:19:55] <Gankro> It seems like something that needs to be addressed elsewhere
[17:20:06] <Manishearth> okay
[17:20:15] <Gankro> I can't enumerate everything bad you can do by putting bad bytes somewhere
[17:20:45] <Manishearth> no but you can provide rules and the reason behind them as pointers
[17:20:51] <Manishearth> For example
[17:21:08] <Manishearth> the whole &T/&mutT having assumptions thing
[17:21:35] <Manishearth> It's impossible to specify how this can go wrong
[17:22:15] <Manishearth> but the simple rule "Never use &T/&mut T/T when there's a *T being used too", with the justification that &T and &mut T have aliasing assumptions passed to llvm
[17:22:21] <Manishearth> is enough for most use cases
[17:22:44] <Manishearth> and if that rule restricts someone, they can fall back on the reason
[17:23:08] <Manishearth> Rust unsafe contains mor UB than C AFAICT
[17:23:28] <Manishearth> because you have all the regular C UB, and on top of that the UB caused by messing with things Rust is making assumptions about
[17:27:14] <bstrie> an interesting perspective
[17:27:59] <Manishearth> Even if it doesn't, folks are familiar with C/++ UB
[17:28:18] <Manishearth> Rust UB is a bit different because of all thes aliasing assumptions and initialization assumptions and stuff
[17:30:32] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[17:30:52] <Gankro> You don't have all the C UB
[17:30:57] <Gankro> integer overflow, for one
[17:31:31] <Manishearth> yeah, it was a bit premature to say that
[17:31:41] <Gankro> And in rust you modularly opt in (until you start violating type safety with ptr:: et al)
[17:31:47] <Manishearth> t
[17:33:23] <edward-san> can someone do a bug report for me? I found an ICE with beta and happens with this code: http://pastebin.com/pyjiRp0A and the 'verbose' + 'backtrace': http://pastebin.com/gdhdv6k4
[17:34:48] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[17:35:42] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[17:36:28] <simukis> what are examples of TT and non-TT style macroses?
[17:38:25] <bstrie> edward-san: what version?
[17:38:50] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[17:38:56] <bstrie> nm, I can repro
[17:39:02] <edward-san> bstrie, it's written in the second link
[17:42:28] <bstrie> edward-san: https://github.com/rust-lang/rust/issues/25930
[17:43:41] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[17:44:59] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[17:46:44] <arielb1> edward-san: your issue does not affect nightly
[17:46:46] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[17:46:52] <arielb1> we fixed many bugs in 1.2
[17:47:05] <arielb1> in 1.1 too
[17:47:34] <steveklabnik> more specifically, arielb1 fixed many bugs in 1.2 and 1.1 :) 
[17:47:48] <arielb1> steveklabnik: I think nagisa fixed that one
[17:47:59] <arielb1> not me
[17:48:10] <steveklabnik> ah, fair enough. still good anyway :)
[17:48:25] <edward-san> uh, then will the next beta build fix the issue?
[17:48:30] <arielb1> yes
[17:48:39] <arielb1> beta 1.2 will contain a fix
[17:48:52] <arielb1> we generally don't backport random bugfixes
[17:49:32] <edward-san> no wait, this means I should wait for rust 1.1 to be released before taking a look at the beta?
[17:50:06] <steveklabnik> yes, at 1.1 release, 1.2 beta will branch, and master will be 1.3
[17:50:34] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:53:43] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:54:13] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Connection closed)
[17:54:28] *** Joins: ncarrillo (textual@moz-mke7jn.cable.rcn.com)
[17:55:42] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[17:56:41] *** Quits: ncarrillo (textual@moz-mke7jn.cable.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:01:03] *** Joins: ncarrillo (textual@moz-mke7jn.cable.rcn.com)
[18:08:04] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[18:08:10] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:08:54] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:09:29] *** Joins: avikpal (avikpal@moz-rcr.dga.79.112.IP)
[18:15:26] <eddyb> gh25916
[18:15:26] <[o__o]> Arithmetic operations with inferred variables take quadratic time to type-check: https://github.com/rust-lang/rust/issues/25916
[18:17:56] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[18:21:28] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[18:22:40] *** Quits: blank_name (blank_name@moz-b1omh3.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:24:09] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[18:25:50] *** Joins: mohawk (Mibbit@moz-juv.9o3.252.72.IP)
[18:27:09] *** Quits: mohawk (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:50] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[18:40:11] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Quit: Leaving)
[18:40:14] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[18:40:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:40:50] *** Quits: nickniko_ (nicknikolov@moz-27s.0d8.214.90.IP) (Connection closed)
[18:44:16] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:47:34] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[18:48:15] *** Quits: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com) (Ping timeout: 121 seconds)
[18:50:03] *** Joins: blank_name (blank_name@moz-tq3.7iq.183.192.IP)
[18:50:55] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[18:51:59] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[18:52:13] *** Quits: Jesin (Jesin@moz-8sq.94j.16.107.IP) (Quit: Leaving)
[18:54:51] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[18:55:27] *** Joins: nicknikolov (nicknikolov@moz-27s.0d8.214.90.IP)
[18:57:11] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[18:57:18] *** Quits: avikpal (avikpal@moz-rcr.dga.79.112.IP) (Connection closed)
[18:58:53] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Ping timeout: 121 seconds)
[18:59:32] *** Quits: ncarrillo (textual@moz-mke7jn.cable.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:02:02] *** Quits: blank_name (blank_name@moz-tq3.7iq.183.192.IP) (Ping timeout: 121 seconds)
[19:06:52] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[19:06:54] *** Quits: mukilan (mukilan@moz-agl.8le.164.122.IP) (A TLS packet with unexpected length was received.)
[19:14:37] *** Quits: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP) (Ping timeout: 121 seconds)
[19:16:12] *** Quits: bdero1 (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[19:16:44] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[19:17:12] *** Parts: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) ()
[19:21:21] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[19:30:38] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[19:31:14] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[19:32:27] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[19:34:29] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[19:37:17] *** Joins: rovar (rovar@moz-96effg.dyn.optonline.net)
[19:41:38] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[19:44:24] *** Joins: larsberg (Adium@moz-piq.hdj.88.64.IP)
[19:45:02] *** Quits: semarie (semarie@moz-829.vnk.70.166.IP) (A TLS packet with unexpected length was received.)
[19:46:08] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[19:53:27] *** Quits: larsberg (Adium@moz-piq.hdj.88.64.IP) (Ping timeout: 121 seconds)
[19:55:36] *** Joins: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at)
[19:59:43] *** Quits: dinfuehr (dinfuehr@moz-5n5gbo.highway.telekom.at) (Ping timeout: 121 seconds)
[20:02:16] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[20:04:22] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[20:06:25] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Ping timeout: 121 seconds)
[20:07:46] *** Joins: Jesin (Jesin@moz-8sq.94j.16.107.IP)
[20:17:21] *** Quits: nicknikolov (nicknikolov@moz-27s.0d8.214.90.IP) (Connection closed)
[20:20:26] *** Joins: nicknikolov (nicknikolov@moz-27s.0d8.214.90.IP)
[20:21:59] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[20:22:31] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[20:24:14] *** Joins: Jessin (Jesin@moz-qb9.79h.16.107.IP)
[20:25:44] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[20:26:13] *** Quits: Jesin (Jesin@moz-8sq.94j.16.107.IP) (Ping timeout: 121 seconds)
[20:26:24] <iu> Can anybody please explain this design choice? https://play.rust-lang.org/?gist=838f72a133d193c3d953&version=stable
[20:26:34] *** Quits: Jessin (Jesin@moz-qb9.79h.16.107.IP) (Quit: Leaving)
[20:26:58] <bluss> iu: is it a design choice?
[20:27:10] <iu> bluss: I have no idea; I though it was.
[20:27:26] <iu> I’m probably missing something.
[20:27:37] <WindowsBunny> iu: That definitely looks wrong
[20:27:48] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[20:27:52] <iu> WindowsBunny: Should I file an issue?
[20:28:03] <WindowsBunny> iu: If an existing issue doesn't exist, probably yes
[20:28:20] <iu> WindowsBunny: OK. I’ll try to look for similar reports first.
[20:28:51] <sfackler> iu: https://github.com/rust-lang/rfcs/blob/master/text/0136-no-privates-in-public.md
[20:28:53] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:29:51] *** Joins: Jesin (Jesin@moz-qb9.79h.16.107.IP)
[20:30:52] <iu> sfackler: The thing is the module is private.
[20:31:07] <iu> sfackler: Does it still fall into the category of that RFC?
[20:31:42] <iu> Well, technically, the function of the module if public.
[20:31:50] <iu> *is
[20:32:09] <sfackler> right. I guess it's a question of whether the no-privates-in-public-APIs rule should apply only at the crate level or at all modules
[20:32:56] <iu> “If an item is declared as public, items referred to in the public-facing parts of that item (e.g. its type) must themselves be declared as public.”
[20:33:07] <iu> “public-facing parts”
[20:34:00] <iu> I might be wrong, but I do not consider `bar` to be a public-facing part (with respect to the crate).
[20:38:58] <iu> sfackler: Since the corresponding issue (#16463) has been closed, and #17401 about _public_ APIs doesn’t seem to be necessarily concerned with my scenario, what do you suggest doing?
[20:39:20] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:48:06] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[20:54:59] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[20:55:22] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:56:35] <sfackler> iu: you could open up an issue asking for clarification, at the least we should update the rfc to be more clear about what "public facing" means
[20:56:49] <iu> sfackler: Done)
[20:57:00] <iu> Thanks!
[21:02:35] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:06:05] *** Joins: p1start (p1start@moz-nftjhe.org)
[21:06:50] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[21:11:45] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[21:13:58] *** Quits: Jesin (Jesin@moz-qb9.79h.16.107.IP) (Quit: Leaving)
[21:22:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[21:30:30] *** Quits: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:39:38] *** Joins: trecer (textual@moz-pr6cqn.dyn.centurytel.net)
[21:40:15] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:40:26] *** Quits: eibwen (eibwen@moz-sfstjq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:48:33] *** Joins: nickniko_ (nicknikolov@moz-k0r.8sn.209.90.IP)
[21:49:19] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[21:50:29] *** Quits: nicknikolov (nicknikolov@moz-27s.0d8.214.90.IP) (Ping timeout: 121 seconds)
[21:52:17] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[21:55:00] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[21:57:45] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[22:01:20] *** Quits: trecer (textual@moz-pr6cqn.dyn.centurytel.net) (Ping timeout: 121 seconds)
[22:03:05] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:04:45] *** Quits: nickniko_ (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[22:05:36] *** Quits: edward-san (Edward`san@moz-2dl.61u.237.95.IP) (Quit: Watt is love? Baby, don't Hertz me. Don't Hertz me, no morse.)
[22:06:28] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[22:07:11] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[22:21:43] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[22:23:36] *** Joins: trecer (textual@moz-pr6cqn.dyn.centurytel.net)
[22:24:11] *** Quits: ahartzheim (ahartzheim@moz-mb0.tts.72.185.IP) (Ping timeout: 121 seconds)
[22:26:30] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[22:30:55] *** Joins: ahartzheim (ahartzheim@moz-5uk5u4.tor-exit.network)
[22:32:13] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:41:20] *** Quits: trecer (textual@moz-pr6cqn.dyn.centurytel.net) (Ping timeout: 121 seconds)
[22:41:21] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[22:42:09] <Gankro> Are we regularly making snapshots anymore, or is the latest stable release generally sufficient or something?
[22:42:36] <Gankro> I suppose stable would definitly be insufficent. But like nightly-build-as-of-latest-stable
[22:44:36] *** Quits: iu (iu@moz-6263qv.cc.cmu.edu) (Quit: )
[22:45:46] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[22:46:30] <WindowsBunny> Gankro: snapshots seem like a once a month thing now
[22:48:38] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:50:15] <XMPPwocky> anybody know of an issue  for the very confusing error message when you have two versions of a crate linked, and try to use types from one in the other?
[22:50:21] <XMPPwocky> "expected Foo, found Foo"
[22:50:37] <XMPPwocky> i can't find one, but i'm pretty sure there is one
[22:51:15] *** Joins: Jesin (Jesin@moz-qb9.79h.16.107.IP)
[22:51:32] <sp3d> XMPPwocky: I have a testcase but hadn't seen an issue
[22:51:44] <sp3d> lmk if you run into one
[22:51:47] <XMPPwocky> okay
[22:51:58] <XMPPwocky> github's search somehow gives *more* search results when I add more terms >.>
[22:52:00] <Rym> XMPPwocky: https://github.com/rust-lang/rust/issues/15142 is related
[22:52:32] <XMPPwocky> https://github.com/rust-lang/cargo/issues/1636 aha
[22:52:51] <Rym> Yeah, feedback on that suggests rustc is really at fault though
[22:52:57] * XMPPwocky is considering just changing it to print type hashes when the user strings are the same
[22:53:01] <XMPPwocky> er, version hashes
[22:53:42] <XMPPwocky> slightly OT: very silly rustdoc bug on http://doc.rust-lang.org/stable/rustc/"
[22:53:48] <XMPPwocky> rustcUnstable !
[22:54:12] <Rym> version hashes = libfoo-<this part hashhashash>? 
[22:54:32] <XMPPwocky> yeah
[22:54:45] <XMPPwocky> i'm not sure what info is available when that error gest printed
[22:55:21] <Rym> Doesn't seem very useful to users though :(
[22:55:49] <XMPPwocky> Rym: at least a hint about "Version mismatch" or something
[22:56:45] <Rym> yes, saying 'Foo and Foo are from different crate instances/versions' would be useful, but having a hash doesn't really help imo 
[22:56:57] <XMPPwocky> good point
[23:02:50] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:05:13] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Quit: WeeChat 1.2)
[23:06:42] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:13:27] *** Joins: joh (uid13099@moz-2c7ap3.ealing.irccloud.com)
[23:13:55] *** Joins: aepsil0n (eduard@moz-cos00j.mv2h.pepi.8071.2a02.IP)
[23:19:41] *** Quits: aepsil0n (eduard@moz-cos00j.mv2h.pepi.8071.2a02.IP) (Connection closed)
[23:20:04] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:22:14] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Quit: Ex-Chat)
[23:27:47] *** Joins: trecer (textual@moz-j75.ggr.125.98.IP)
[23:30:08] *** Quits: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[23:31:45] *** Quits: trecer (textual@moz-j75.ggr.125.98.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:39:35] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[23:39:48] *** Joins: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net)
[23:40:35] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[23:40:42] *** kimundi is now known as zz_kimundi
[23:43:15] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:54:40] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[23:55:22] *** Joins: njn (chatzilla@moz-01sv7l.iinet.net.au)
[23:55:29] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
