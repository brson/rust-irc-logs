[00:00:18] <acrichto> you can't actually use rust in the course, but you could learn a lot from it which would influence your own design
[00:00:52] <acrichto> also I spoke too soon, loop => continue killed it :(
[00:01:20] <dbaupp> hah!
[00:01:50] <dbaupp> that was your change, so it barely count as rust breaking your code :P
[00:01:55] <acrichto> lol
[00:03:48] <benh> rusti: "\0"
[00:03:49] -rusti- "\x00"
[00:05:34] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[00:05:41] *** Quits: yonran (yonran@moz-962F33EB.acuitus.com) (Ping timeout)
[00:07:38] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[00:09:19] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[00:09:58] <kimundi> engla: Hm... get_tydesc as default method for Any just works... Kind magical xD
[00:10:06] <kimundi> Kinda*
[00:10:30] <engla> cool. I managed to put it in the impl instead of as a default method
[00:10:55] <engla> kimundi: like this https://gist.github.com/anonymous/f1320bb5d2880810838e
[00:11:14] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[00:11:55] <kimundi> engla: Yeah, put it in the trait and replace T with Self and it works too ;)
[00:12:11] <engla> oh I figured it wouldn't
[00:12:20] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:12:25] <kimundi> Suddenly I'm gaining a lot more respect for whoever fixed trait objects and default methods
[00:12:40] <engla> I think it's sully 
[00:12:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:12:55] *** ChanServ sets mode: +ao dherman dherman
[00:13:11] <kimundi> sully: Good job!
[00:14:18] <kimundi> Hm, get_tydesc() doesn't need to be unsafe nor return a raw pointer in principle, right?
[00:14:28] <doomlord_> if you have an existing struct, can you make a trait object by borrowing a pointer to it and using any applicable trait (eg, you could have several differnt trait objects using the same underlying struct)
[00:14:46] <kimundi> doomlord_: should work
[00:14:55] <sully> yeah, it was me
[00:14:58] <kimundi> as logn as they are & of course
[00:16:33] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (No route to host)
[00:17:22] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:20:37] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:20:59] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[00:21:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:21:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:23:37] <dherman> kimundi: how does your Any stuff relate to GHC's Typeable?
[00:23:44] <dherman> which I think Oleg proved was unsafe
[00:23:53] <kimundi> No idea
[00:24:08] <dherman> oh you're using unsafe explicitly, ha
[00:24:24] <kimundi> I can see problems with mixing this across crates
[00:24:32] <dherman> I haven't read it carefully yet
[00:24:55] <kimundi> which could be solved by including an globally unique identifier for each type in its typse descriptor
[00:25:12] <kimundi> using the crates hash etc
[00:25:50] <engla> kimundi: did you see the Dynamic discussion on the ML? http://thread.gmane.org/gmane.comp.lang.rust.devel/5249
[00:26:05] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:26:23] <kimundi> nope
[00:26:29] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:28:04] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:29:13] <kmc> I opened a ticket about speculative computation in Servo, which might interest other Rust people too: https://github.com/mozilla/servo/issues/1009
[00:30:29] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:31:13] <dbaupp> kimundi: you should update the gist with the default method thing :)
[00:31:22] <kimundi> dbaupp: Working on it
[00:31:36] *** Joins: tjc (tjc@EDA945D6.2D024FDB.284344F5.IP)
[00:31:36] *** ChanServ sets mode: +o tjc
[00:35:19] *** Quits: slackito (slackito@moz-7779E4A6.dyn.user.ono.com) (Quit: leaving)
[00:36:04] *** Quits: tjc (tjc@EDA945D6.2D024FDB.284344F5.IP) (Ping timeout)
[00:37:20] *** Joins: timot (timot@moz-3896B0B8.cust.tele2.se)
[00:37:23] <dherman> kmc: that's lovely
[00:37:34] *** Joins: fyolnish (fyolnish@moz-292BA9F2.uqwimax.jp)
[00:38:37] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:38:48] <dbaupp> kmc: fwiw, check would need to be ~fn() -> A, with A: Send
[00:39:11] <kmc> yeah
[00:39:20] *** Quits: fyolnish (fyolnish@moz-292BA9F2.uqwimax.jp) (Ping timeout)
[00:39:24] <kmc> I'm calling it "pseudo-Rust" :)
[00:39:44] <kmc> but somebody should totally make a real library for this
[00:40:12] <kmc> if you do, coordinate with haxney who is maybe doing a speculative tokenization project for Servo (unfortunately, I don't have contact info for them other than IRC)
[00:41:37] *** jorendorff is now known as jorendorff_away
[00:41:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[00:42:04] <kmc> or just let me know :)
[00:44:54] *** Joins: mib_00plhp (Mibbit@moz-F4E830A0.cable.mindspring.com)
[00:46:58] *** Quits: nik_ (nik@moz-CC5E16D8.pool.mediaways.net) (Client exited)
[00:48:02] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:48:04] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[00:49:53] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:50:39] *** Joins: tjc (tjc@15FD7C9F.870F2FA5.2370DFC3.IP)
[00:50:39] *** ChanServ sets mode: +o tjc
[00:51:00] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[00:51:49] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:53:10] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:57:16] <kimundi> engla, dbaupp: Updated the gist
[00:58:02] <engla> kimundi: I have an idea I put in a reddit comment there
[00:58:05] *** Joins: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP)
[00:59:24] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[01:00:13] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:01:01] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[01:06:14] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:07:28] <engla> hehe you can create interesting buggy code with this dynamic thing
[01:07:43] <kimundi> buggy in what kinda way?
[01:07:55] *** Joins: fyolnish (fyolnish@moz-DDE5FD00.uqwimax.jp)
[01:07:56] <engla> like a.as_mut().map_move(|t| *t = 99);
[01:08:03] <engla> is a noop because `a` as not int
[01:08:05] <engla> but uint
[01:08:21] <kimundi> hehe, wouldn't call that buggy xD
[01:08:22] <engla> so just buggy as in subtly not doing what you thought
[01:08:24] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[01:08:27] <kimundi> Just... unexpected :D
[01:08:37] <kimundi> Surprise!
[01:08:45] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[01:09:48] *** Quits: fyolnish (fyolnish@moz-DDE5FD00.uqwimax.jp) (Ping timeout)
[01:11:33] <dbaupp> kimundi: I
[01:11:48] <dbaupp> 'm pretty sure you can just compare tydesc pointer addresses directly
[01:12:45] <kimundi> Hm, let's try this
[01:12:58] *** Quits: tjc (tjc@15FD7C9F.870F2FA5.2370DFC3.IP) (Ping timeout)
[01:13:16] <dbaupp> you'll need to cast to *TyDesc or uint to get == to work as expected
[01:13:34] <kimundi> Didn't we have a ref_eq?
[01:13:42] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:13:42] <kimundi> Or did that get removed
[01:13:42] *** ChanServ sets mode: +ao dherman dherman
[01:13:48] <engla> ref_eq just casts to *T too
[01:14:00] <engla> (thing as *T) == (other as *T) 
[01:14:21] <kimundi> Right, but this way I don't have to do it :P. In which module is req_eq?
[01:14:30] <engla> std::borrow
[01:14:41] <engla> I'd just return *TyDesc
[01:15:43] *** Joins: tjc (tjc@15FD7C9F.870F2FA5.2370DFC3.IP)
[01:15:43] *** ChanServ sets mode: +o tjc
[01:16:31] <kimundi> dbaupp: Seems to work
[01:17:06] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:17:13] *** Joins: lfox (larryfox@26EE99DC.88C61CC9.ECED8BE3.IP)
[01:17:56] *** Quits: tjc (tjc@15FD7C9F.870F2FA5.2370DFC3.IP) (Quit: zzzzzzzzzz)
[01:18:47] *** Quits: lfox (larryfox@26EE99DC.88C61CC9.ECED8BE3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:19:02] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:20:13] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:20:29] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[01:20:34] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:22:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:22:22] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:23:54] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:25:00] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[01:26:20] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:27:23] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:30:25] <dcrewi> has there been any discussion about an attribute that compiles something conditional on whether a macro is set or not in a certain C header?
[01:30:36] *** Joins: ChrisMorgan (chris@moz-736C88F0.its.monash.edu.au)
[01:31:58] <bstrie> dcrewi: not that I know of
[01:32:47] <dbaupp> dcrewi: there has been discussion of an automatic bindgen, so you can write (something like) #[import("foo.h")] and it will create the structs/function declarations
[01:32:57] <dbaupp> I imagine such an attribute would come under that
[01:33:28] <dcrewi> it's pretty vital if you're writing a wrapper for a C library
[01:33:40] <dcrewi> (with conditionally compiled features)
[01:34:40] <dbaupp> you can use #[cfg(...)] but then you have to compile with `--cfg whatever` manually
[01:34:57] <Eridius> lets build a rusty autoconf that adds the appropriate --cfg! ;)
[01:37:23] <dcrewi> Eridius: I thought about that, then realized the compiler could just do it with an attribute like #[if_in_c_header("foo/foo.h", not(NO_FEATURE))]
[01:38:02] <Eridius> dcrewi: as long as the rust compiler wants to learn to parse C headers
[01:38:21] *** Joins: ChrisMorgan1 (chris@moz-736C88F0.its.monash.edu.au)
[01:38:22] *** Quits: ChrisMorgan (chris@moz-736C88F0.its.monash.edu.au) (Quit: Leaving.)
[01:38:39] <dbaupp> the plan is (or was, at some point) was to build/ship libclang for that purpose.
[01:38:46] *** ChrisMorgan1 is now known as ChrisMorgan
[01:38:48] <dcrewi> I was under the impression rustc had access to a C compiler, but I guess that's probably not true
[01:39:12] *** Quits: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[01:39:32] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[01:39:39] <kimundi> dcrewi: That'S currently not true, but planned as a longterm feature
[01:39:42] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[01:40:00] <dbaupp> dcrewi: kinda, it uses gcc/a c compiler to run the linker, because that's easier than teaching rustc how to invoke it properly itself
[01:40:45] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:41:32] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[01:42:13] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[01:43:05] *** Quits: vadimcn (chatzilla@A2267643.76F9E272.DA40C4B3.IP) (Ping timeout)
[01:43:10] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[01:46:22] *** Quits: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[01:49:17] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:49:34] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:49:34] *** ChanServ sets mode: +ao dherman dherman
[01:50:19] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[01:51:06] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[01:53:45] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[01:56:47] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[01:57:34] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[02:03:01] <cmr> kimundi: Whoaa
[02:03:04] <cmr> kimundi: http://www.reddit.com/r/rust/comments/1nmarr/dynamic_typing_implemented_as_library_code/ is wicked
[02:03:31] <kimundi> yeah, It's nice :)
[02:04:13] * kimundi is thinking about just droping it in std, and using it for fail!
[02:04:35] <kimundi> Ability to propagate arbitrary failure reason etc
[02:04:40] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[02:05:07] * strcat doesn't understand the developer vs. contributor distinction on our subreddit
[02:05:24] <cmr> developer == mozilla employee I think
[02:05:28] <dbaupp> strcat: moz employee vs not?
[02:05:29] <cmr> bstrie: y/n?
[02:05:30] <dbaupp> bstrie: ^
[02:05:40] <strcat> dbaupp: nope, because erickt_ isn't a mozilla employee afaik
[02:05:52] <strcat> and whether or not someone is doesn't really change their role
[02:05:56] <cmr> Yeah, I agree.
[02:06:03] <sfackler> kimundi: putting that in std would be great! maybe in std::reflect?
[02:06:23] <dbaupp> kimundi et al: is it sturdy enough?
[02:07:25] <strcat> dbaupp: trying small tuple structs as immediate now
[02:07:26] <kimundi> dbaupp: Completely hinges on typedescripters for a type being a singular memory address that's distinct from all others.
[02:07:27] <strcat> ;p
[02:07:39] <strcat> they aren't necessarily
[02:07:53] <kimundi> That'S what I was afraid of :P
[02:08:09] <kimundi> duplication, merging, or both?
[02:08:23] *** Joins: fyolnish (fyolnish@moz-DCE14421.uqwimax.jp)
[02:08:24] <strcat> duplication
[02:08:38] <dbaupp> duplication is safer than merging though
[02:08:42] <strcat> and I plan on killing them off
[02:08:55] <strcat> in non-debug builds
[02:09:04] <kimundi> strcat: type descriptors?
[02:09:06] <strcat> yes
[02:09:09] <strcat> they aren't necessary
[02:09:11] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:09:21] <strcat> there are better ways of making owned/managed traits work
[02:10:07] <strcat> that aren't so slow
[02:10:10] *** Quits: fyolnish (fyolnish@moz-DCE14421.uqwimax.jp) (Ping timeout)
[02:10:34] *** jorendorff_away is now known as jorendorff
[02:11:16] <kimundi> I agree that they probably are not neccessary for what they are used right now. But I think keeping them for dynamically identifying a trait like in this case could be useful?
[02:11:50] <strcat> is the huge code bloat worth it?
[02:12:01] <kimundi> what code bloat?
[02:12:15] <strcat> from tydescs
[02:12:41] <kimundi> what code bloat from tydescs?
[02:13:17] <strcat> the code bloat caused by outputting a bunch of structs full of function pointers and then having to go through an extra layer to get at the function pointers
[02:13:17] <dbaupp> (do unused tydesc get emitted into the binary? if so, do they get removed by LLVM?)
[02:13:28] <kimundi> The fact that they have to exist in the binary at all?
[02:13:32] <strcat> kimundi: no
[02:13:37] <strcat> the fact that trait objects are slower than they should be
[02:13:52] <kimundi> strcat: Not talking about keeping the function pointers, or keeping the indirection
[02:13:54] <strcat> &Trait shouldn't have a tydesc at all
[02:14:27] <strcat> ~Trait and @Trait need to know about the drop glue
[02:14:31] <strcat> not the other stuff
[02:14:36] <strcat> closures are the same
[02:15:51] <engla> the simplistic version of Any doesn't need the tydesc. It just needs a method to get a unique id for the type
[02:16:07] <kimundi> Like, feel free to throw out typedescriptors completly, but I think you could keep an TypeID for mapping a trait object to it's contained type.
[02:16:20] <strcat> afaik we don't have a type id right now
[02:16:27] <strcat> and that adds overhead
[02:16:29] <kimundi> just a simple static pointer in the vtable
[02:16:55] <kimundi> heck, the information is probably already there in some form in the metadata section
[02:18:16] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[02:18:16] *** ChanServ sets mode: +o pnkfelix
[02:18:40] <strcat> I don't think trait objects should have overhead in order to support an Any type
[02:18:42] <strcat> they are separate
[02:19:21] <jason_> rusti: trait Foo { fn new() -> Self; } struct AFoo; impl Foo for AFoo { fn new() -> AFoo { AFoo; } } let a: AFoo = Foo::new(); a
[02:19:22] -rusti- <anon>:7:74: 7:100 error: not all control paths return a value
[02:19:22] -rusti- <anon>:7          trait Foo { fn new() -> Self; } struct AFoo; impl Foo for AFoo { fn new() -> AFoo { AFoo; } } let a: AFoo = Foo::new(); a
[02:19:22] -rusti-                                                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
[02:19:22] -rusti- error: aborting due to previous error
[02:19:22] -rusti- application terminated with error code 101
[02:19:24] <strcat> afaik we have no unique type ids unless you assume the names are normalized right
[02:19:32] <jason_> is this a bug ^^ ?
[02:20:00] <engla> jason_: no, you have a semicolon too much in fn new
[02:20:09] <jason_> rusti: trait Foo { fn new() -> Self; } struct AFoo; impl Foo for AFoo { fn new() -> AFoo { AFoo } } let a: AFoo = Foo::new(); a
[02:20:09] -rusti- main::AFoo
[02:20:15] <jason_> engla: doh :)
[02:20:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:20:38] <kimundi> strcat: The only overhead would be that the vtable is offset one word, just as it is right now. And I see another good use case for globally unique type ids that take the crates metadata hash into account: safe dynamic crate loading
[02:21:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:21:07] <strcat> kimundi: there is more overhead than thata
[02:21:18] <strcat> you're not considering the implications of disallowing merging identical vtables
[02:21:25] <strcat> and thus disallowing the merging of functions using trait objects
[02:21:29] <strcat> and functions using those functions
[02:21:55] <strcat> format! uses trait objects so this is important
[02:22:29] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:23:42] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:24:12] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:24:18] <kimundi> Blarg. Why can't my stuff for once work without being made invalid by future optimizations :(
[02:25:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:25:18] <kimundi> strcat: Any idea how to implement this alternatively?
[02:25:39] <strcat> compiler support for getting a type id?
[02:26:02] <engla> should it then be a trait that is explicitly implemented and derived? is that like Data.Typeable in haskell?
[02:26:04] <kimundi> that's a given
[02:26:05] <dbaupp> `type_id::<Foo>() -> u64` or something like that?
[02:26:22] <dbaupp> (or an opaque TypeId rather than u64, I guess)
[02:26:25] <kimundi> but that wouldn't work with trait objects
[02:26:37] <strcat> I don't see why you want a trait object
[02:26:40] <engla> it could work
[02:27:00] <kimundi> strcat: I mean, getting the typeid of the type in a trait object
[02:27:09] <strcat> why do you need that?
[02:27:09] <engla> trait Dynamic { fn type_id(&self) -> u64 { std::sys::type_id::<Self>() }
[02:27:10] <kimundi> Unless we just reimplemnt trait objects :P
[02:27:22] <engla> same way to get the inner type id
[02:28:03] *** Joins: ChrisMorgan1 (chris@moz-736C88F0.its.monash.edu.au)
[02:28:04] *** Quits: ChrisMorgan (chris@moz-736C88F0.its.monash.edu.au) (Quit: Leaving.)
[02:28:20] <kimundi> The nice thing about using trait objects is tht impl<T> Any for T{} makes it just work for any type
[02:28:21] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[02:28:22] <benh> kimundi: Weren't you gonna get up in three hours and a bit?
[02:28:30] <benh> you're almost as bad as i am!
[02:28:45] <kimundi> benh: 3:28 and counting down...
[02:29:12] <dbaupp> kimundi: might as well skip sleep and just Rust the whole night \o/
[02:29:44] *** Parts: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP) ()
[02:29:44] <kimundi> dbaupp: Would do that... If I wouldn't risk falling asleep during the day tommor that way
[02:30:00] <kimundi> I mean, changes are it will happen anyway at this point
[02:30:03] <kimundi> :P
[02:30:37] <kimundi> Anyway, derving(Typable) would be... blarg
[02:31:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:31:23] <kimundi> Then again, we already require deriving(Clone) ...#
[02:32:11] *** Joins: ahal (ahal@7F85AFB3.F7EBA23.C3C3A9D0.IP)
[02:32:32] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[02:33:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:35:56] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[02:38:44] *** Joins: fyolnish (fyolnish@moz-298F3D33.uqwimax.jp)
[02:38:51] *** Quits: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net) (Connection reset by peer)
[02:39:24] *** Joins: kimundi_ (kimundi@moz-3DB68F29.dip0.t-ipconnect.de)
[02:39:52] *** ChrisMorgan1 is now known as ChrisMorgan
[02:39:58] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:40:31] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[02:40:38] *** Quits: fyolnish (fyolnish@moz-298F3D33.uqwimax.jp) (Ping timeout)
[02:40:41] *** Quits: kimundi (kimundi@moz-2C65B47D.dip0.t-ipconnect.de) (Ping timeout)
[02:40:41] *** kimundi_ is now known as kimundi
[02:42:30] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:43:23] <dbaupp> kimundi: I feel like http://www.reddit.com/r/rust/comments/1nmarr/dynamic_typing_implemented_as_library_code/ccjz2yg could do with a spell-checking :P
[02:43:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:43:35] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[02:43:53] *** Joins: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net)
[02:45:51] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[02:47:56] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:48:37] *** kimundi is now known as zz_kimundi
[02:51:58] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:52:50] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:52:50] *** ChanServ sets mode: +ao dherman dherman
[02:53:00] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:55:49] *** zz_kimundi is now known as kimundi
[02:56:12] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:57:06] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[02:58:54] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[03:01:13] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[03:05:59] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[03:08:30] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[03:09:24] *** Joins: fyolnish (fyolnish@moz-55A9A6C3.uqwimax.jp)
[03:09:45] *** jorendorff is now known as jorendorff_away
[03:11:08] *** Quits: fyolnish (fyolnish@moz-55A9A6C3.uqwimax.jp) (Ping timeout)
[03:12:08] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[03:18:02] <kimundi> dbaupp: I have the feeling half the comments on that reddit thread are made by myself :P
[03:18:03] <bstrie> strcat: back in the day the developer flair used to be for anyone who had commit access to the rust repo, which is why erickt has it
[03:18:40] <bstrie> now a lot more people have commit access, so I just reserve that flair for the people who are eligible to make all the final calls wrt to language features
[03:19:21] <bstrie> kimundi: I can't figure out a clean way to turn your username on reddit into a tuple, so I wonder if instead you'll settle for having a 12-tuple of your username 12 times
[03:19:33] <kimundi> :P
[03:19:36] <Eridius> ('kim', 'undi')?
[03:19:45] <dbaupp> bstrie: do you get JS control too?
[03:19:48] <bstrie> Eridius: it has to be doable with CSS only
[03:20:07] <Eridius> bstrie: use some CSS trick to hide their current name and stick that in the :after
[03:20:09] <bstrie> I can... sort of do it
[03:20:22] <bstrie> Eridius: hiding the element also hides all pseudo-elements, I think
[03:20:39] <bstrie> but I didn't try sticking an explicit visibility on the pseudo-element itself
[03:20:45] <dbaupp> set the text to transparent, and move :after over the top?
[03:20:54] <Eridius> bstrie: set color: white and font-size: 0pt
[03:20:57] <Eridius> then revert those in the :after
[03:21:20] <ChrisMorgan> bstrie: do I get "contributor" flair?
[03:21:30] <Eridius> ChrisMorgan: you should have 'rust-http' flair
[03:21:41] <Eridius> or maybe 'GET /flair'
[03:22:18] <dbaupp> bstrie: ChrisMorgan definitely should have GET /ChrisMorgan as his CSS thingo :P
[03:22:22] <ChrisMorgan> At present I'm #[deriving(chris-morgan)], GET /chris-morgan would be interesting.
[03:22:30] <bstrie> fine :P
[03:22:49] <bstrie> but only because the deriving one is really ugly
[03:22:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:22:51] * dbaupp wonders how bstrie could be such a monster and have an invalid attribute there
[03:23:49] <Eridius> damn, more merge conflicts with latest master
[03:23:57] <Eridius> maybe this time I can resolve them and keep my internet in time to push before it breaks again
[03:24:16] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[03:24:24] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:24:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:25:23] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[03:26:28] <ChrisMorgan> bstrie: "Anyone who's contributed code to the Rust compiler" seems unclear to me. For example, does src/etc/vim count? (I've done a little more than that, but work in there has been my most important contribution to the mozilla/rust repository!)
[03:26:42] <bstrie> ChrisMorgan: the flair is just a carrot to get people to do anything at all
[03:26:43] <bstrie> so, yes
[03:27:11] *** Joins: Ferreus_ (ferreus@moz-4940FB68.dyn.telefonica.de)
[03:27:14] <bstrie> any pull request at all the gets accepted will get you flair
[03:27:39] *** Quits: Ferreus (ferreus@moz-BBA7CE4C.dyn.telefonica.de) (Ping timeout)
[03:27:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:28:04] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[03:28:42] <pnkfelix> bstrie: I'll takes some flair.  :)
[03:29:04] <bstrie> pnkfelix: reddit name?
[03:29:15] <pnkfelix> bstrie: pnkfelix
[03:30:08] <bstrie> how confusing
[03:30:10] <bstrie> but alright
[03:30:14] <bstrie> it is done
[03:30:18] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[03:30:20] <bstrie> flair for everyone!
[03:30:44] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[03:30:50] *** Joins: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net)
[03:31:35] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[03:32:30] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[03:32:50] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:33:05] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[03:33:30] <dbaupp> bstrie: Kimundi could get one too
[03:33:37] <dbaupp> oh, he has one
[03:33:42] * dbaupp was looking at the wrong page
[03:35:51] *** Quits: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[03:39:23] <ChrisMorgan> bstrie: thanks for the "GET /chris-morgan" :-)
[03:39:43] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:39:45] <cmr> Heh
[03:40:19] *** Joins: fyolnish (fyolnish@moz-7BF70648.uqwimax.jp)
[03:40:22] <cmr> bstrie: is it taboo to ask what one got their CSS decoration for?
[03:40:55] <dbaupp> cmr: you got yours because you're such a peculiar character :P
[03:41:05] * dbaupp is making stuff up
[03:41:06] <cmr> hah
[03:42:01] *** Quits: fyolnish (fyolnish@moz-7BF70648.uqwimax.jp) (Ping timeout)
[03:42:24] *** kimundi is now known as zz_kimundi
[03:42:25] <ChrisMorgan> I could imagine someone with only digits getting "0x" before.
[03:43:34] <dbaupp> someone with only 0 and 1s could get 0b
[03:43:47] <dbaupp> someone with only 0 could get 0u...
[03:44:02] * dbaupp wants Rust to have first class unary number support
[03:44:49] <benh> you could make a macro that takes a string literal representing an unary number!
[03:44:55] <benh> and translates to .len()!
[03:45:15] <dbaupp> that's not first-class enough! :P
[03:47:14] <cmr> unary can't carry information though
[03:47:52] <ChrisMorgan> cmr: sure it can. Not in the slightest bit efficiently, but it can.
[03:47:57] <cmr> ChrisMorgan: How?
[03:48:12] <ChrisMorgan> Length. Infinite possibilities.
[03:48:13] <dbaupp> cmr: "0<n times>0" == n
[03:48:31] <cmr> Ah but that's using the absence of a value as information, which is just binary using a sidechannel
[03:48:34] <dbaupp> I don't think you can represent 0 itself sanely though.
[03:49:39] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[03:49:48] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[03:49:48] <dbaupp> "Unary is the most economical base for integers up to six, but becomes increasingly uneconomical for larger numbers." (http://en.wikipedia.org/wiki/Unary_numeral_system)
[03:49:49] <ChrisMorgan> dbaupp: sure you can. Just shift the range by one.
[03:49:55] <dbaupp> I don't understand
[03:50:08] <dbaupp> ChrisMorgan: true (that's not very sane though :P )
[03:50:29] <ChrisMorgan> Whyever not?
[03:50:46] <ChrisMorgan> (Using unary at all on a computer would be likely to be "not very sane"!)
[03:50:50] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[03:51:00] <dbaupp> because 0000 == 3 is weird
[03:51:47] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[03:55:12] <ChrisMorgan> dbaupp: concerning the economics of radix zero, http://en.wikipedia.org/w/index.php?title=Unary_numeral_system&diff=prev&oldid=563833877
[03:55:31] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[04:01:09] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[04:01:49] *** Joins: makramkd (Mibbit@moz-52410151.chestnutresnet.utoronto.ca)
[04:02:11] <makramkd> how long does it take to build rust from source?
[04:02:11] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:02:18] <makramkd> i just downloaded the tarball
[04:02:24] <makramkd> kinda taking long and its like 12 am
[04:02:25] <cmr> makramkd: bout an hour on modern hardware
[04:02:33] <cmr> since you have to build llvm
[04:02:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:02:58] <makramkd> ahhh im looking at the terminal now... compiling a bunch of cpp files
[04:03:02] <Eridius> if you run `make -j4` (adjusted based on your cores) that helps with building llvm
[04:03:19] <Eridius> doesn't help with the rest though, and there are sometimes race conditions in the makefile so it's not always recommended. But for building llvm it helps a lot
[04:03:35] <makramkd> i ran make already;;; im on a mint but its pretty slow so this might take a while
[04:03:36] <cmr> Eridius: pnkfelix fixed the races
[04:03:41] <Eridius> cmr: oh?
[04:03:44] <cmr> Eridius: yup!
[04:03:45] <Eridius> well, they'll probably crop up again
[04:03:46] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[04:03:48] <cmr> At least on OS X/Linux
[04:03:52] <Eridius> that's good to know
[04:03:54] <Eridius> woot, make check passed!
[04:03:55] <cmr> gmake on windows is hopelessly broken
[04:04:22] <makramkd> why would you build from source on windows? i think it would be painful
[04:04:32] <makramkd> command line no where near as friendly as on nix
[04:04:34] <cmr> makramkd: to test code
[04:05:02] <makramkd> doesn't rust-lang provide a .exe installer for rustc?
[04:05:19] <cmr> testing when developing the libraries/compiler that is
[04:05:26] <makramkd> ah yes you have a point
[04:05:36] <makramkd> the compiler is written in rust i hear?
[04:05:41] <dbaupp> yes
[04:06:07] <makramkd> that makes it pretty challenging though right?
[04:06:18] <makramkd> i mean some features are being deprecated or removed by each release
[04:06:27] <makramkd> makes you wanna bootstrap everytime
[04:06:44] <dbaupp> the bootstrap is done by snapshots, which occur approximately once a week or so
[04:06:47] <cmr> We have snapshot compilers that are updated about once a week
[04:06:50] <cmr> We don't use rust releases.
[04:06:57] <makramkd> ahhhh i see
[04:07:00] <makramkd> awesome
[04:07:02] <dbaupp> so it's not as bad as upgrading for 3 months of between releases
[04:07:20] <cmr> We went like a month and a half after 0.6 without a snapshot, it was awful :|
[04:07:33] <makramkd> sounds awful :S
[04:08:01] <makramkd> i cant believe people are talking about Go more than rust though
[04:08:07] <makramkd> makin me kinda mad;;
[04:08:21] <cmr> Go is a lot more mature than Rust
[04:08:28] <dbaupp> *a lot*
[04:08:53] <cmr> Like, actually usable in production mature.
[04:08:53] <makramkd> although that may be true, it just looks really ugly
[04:09:08] <makramkd> well they have a lot of big names behind it though
[04:09:32] <makramkd> rob pike, thompson
[04:09:33] <makramkd> et al
[04:09:40] <bstrie> no language wars pls
[04:10:05] <makramkd> alright i stand down :)
[04:11:10] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[04:11:11] *** Joins: fyolnish (fyolnish@moz-5A8C114F.uqwimax.jp)
[04:11:36] *** Joins: adu (ajr@moz-BF2B1AE4.washdc.fios.verizon.net)
[04:11:48] <makramkd> does rustc get added to my path or should i configure it manually?
[04:12:35] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[04:12:59] *** Quits: fyolnish (fyolnish@moz-5A8C114F.uqwimax.jp) (Ping timeout)
[04:14:29] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:14:35] <ChrisMorgan> makramkd: the default prefix is /usr/local; /usr/local/bin should be in your path already.
[04:16:18] *** Quits: ChrisMorgan (chris@moz-736C88F0.its.monash.edu.au) (Connection reset by peer)
[04:16:19] *** Joins: ChrisMorgan1 (chris@moz-736C88F0.its.monash.edu.au)
[04:16:58] <sfackler> makramkd: we went a month or so recently without a new snapshot, and ended up with 1600 lines of stage0'd code D:
[04:18:00] <adu> helo?
[04:18:13] <sfackler> hi
[04:18:39] <makramkd> wow thats painful....
[04:18:48] *** ChrisMorgan1 is now known as ChrisMorgan
[04:19:00] <sfackler> makramkd: https://github.com/mozilla/rust/pull/9296/files
[04:19:13] <sfackler> normally that does not happen, though
[04:19:24] *** Quits: ahal (ahal@7F85AFB3.F7EBA23.C3C3A9D0.IP) (Input/output error)
[04:20:17] <makramkd> holy crap!
[04:20:23] <makramkd> hope it doesnt happen again
[04:20:32] <makramkd> thats torturous nearly
[04:21:02] <makramkd> and you guys are doing this out of your free time right? 
[04:21:09] <makramkd> that also must be difficult
[04:21:47] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:22:30] <dbaupp> the mozilla people aren't
[04:23:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:23:47] <cmr> Even if rust never succeeds, I can't think of a way I'd rather spend my time :)
[04:23:58] <dbaupp> makramkd: e.g. acrichto is employed to work on Rust full time
[04:25:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:25:07] <cmr> So sprocketnes using rust-sdl which *isn't* runtimeless.
[04:25:20] <cmr> But grease-bench is real runtimeless.
[04:25:24] * cmr tries that
[04:25:45] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:25:54] <adu> hi sfackler 
[04:26:09] <adu> makramkd: what was?
[04:26:25] <Eridius> is there a `make` command that checks code examples in documentation and nothing else?
[04:26:34] <cmr> Eridius: yes, but good luck finding it.
[04:26:38] <Eridius> hah
[04:26:40] <dbaupp> Eridius: make check-stage2-doc(s) iirc
[04:26:40] <adu> my client kept saying "unable to send to chat room"
[04:26:43] <Eridius> dbaupp: thanks
[04:27:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:27:34] <adu> makramkd: I am willing to put 60% of my free time towards Rust
[04:27:59] <adu> that is: waking - working
[04:28:13] <adu> that is: day - sleeping - working
[04:28:36] <adu> because I <3 Rust
[04:29:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:29:35] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[04:30:01] <Eridius> rusti: 0666
[04:30:04] -rusti- 666
[04:30:12] <Eridius> rusti: 0o666
[04:30:13] -rusti- <anon>:7:10: 7:14 error: expected one of `; }` but found `o666`
[04:30:13] -rusti- <anon>:7          0o666
[04:30:13] -rusti-                    ^~~~
[04:30:13] -rusti- application terminated with error code 101
[04:30:22] <dbaupp> Eridius: no octals
[04:31:28] <Eridius> dbaupp: looks like it's -doc (no plural)
[04:31:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:31:53] *** Joins: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net)
[04:33:02] <ChrisMorgan> ;} the compiler is sneaky
[04:33:59] <ww> question: is there a way to allocate the memory for a C structure in Rust?  i see a structure in the C code and the C API takes in the structure.  i want to allocate a memory buffer for it.
[04:34:18] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[04:34:21] <ww> besides re-declaring the whole structure in rust
[04:34:29] <cmr> ww: no.
[04:34:34] <Eridius> ww: well either re-declare it, or at least declare something of the same size
[04:34:34] <ww> :(
[04:34:43] <cmr> ww: well, you can take its sizeof and use [u8, ..that_size]
[04:34:48] <Eridius> but knowing the precise size in an architecture-independent fashion seems, well, tricky
[04:35:13] <cmr> ww: rust-bindgen will do that for you though.
[04:35:18] <ww> are structure name available to rust so that i can do a sizeof(struct)
[04:35:22] <cmr> no
[04:35:26] *** Joins: tjc (tjc@126D462B.437331F3.284344F5.IP)
[04:35:27] *** ChanServ sets mode: +o tjc
[04:35:31] <cmr> Rust doesn't do anything with C code
[04:35:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[04:36:13] <ww> ok, absent of that.  how difficult is it to change the c code in rt.lib?
[04:36:15] <doomlord_> google protobuffers seem like a great way of getting data between languages
[04:36:34] <cmr> rt.lib?
[04:37:00] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[04:37:06] <ww> the c files in rustrt
[04:37:27] <ww> actually the miniz.cpp in particular
[04:37:29] <cmr> All of the code that isn't from an upstream project is c++
[04:37:38] <cmr> Just edit it and rebuild.
[04:37:42] <ww> i want to use the deflate code in it but it needs a struture to pass in
[04:38:07] <cmr> We already have bindings to it in extra::flate
[04:38:42] <ww> that one is not very useful
[04:38:58] <dbaupp> in what way?
[04:39:00] <ww> that one can only compress or uncompress a buffer
[04:39:07] <ww> can't deal with stream data
[04:39:29] <ww> e.g. can't compress large file as the file is read in
[04:39:31] <cmr> Then extra::flate should be fixed to support it.
[04:40:06] <ww> i look at the code.  to fix it, need to use the stream api in miniz, which requires passing in a state structure into it
[04:40:07] <sfackler> it should really just be Reader and Writer impls
[04:40:54] <ww> yeah, should be just reader/writer, but that means streaming, and that requires allocating the tinfl_decompressor strucutre
[04:41:30] <dbaupp> the only sane way to do it is to copy the C struct defn into Rust
[04:41:55] <cmr> Like I said, rust-bindgen will do that for you.
[04:41:56] <ww> or add an api in c to allocate the structure and return it to rust
[04:42:07] *** Joins: fyolnish (fyolnish@moz-96EC4927.uqwimax.jp)
[04:42:27] <cmr> Adding more C++ to Rust's codebase is not really an option anymore.
[04:42:35] <cmr> (if it can be avoided)
[04:43:22] <sfackler> is linking directly to zlib not an option?
[04:43:35] <ww> hmm, that would be the best option.  the c code does the alloc/init, return to rust, rust can use the structure as an opaque object, then call c to dealloc/cleanup
[04:43:36] <Eridius> meh, check-stage2-doc ignores NO_REBUILD=1
[04:43:55] *** Quits: fyolnish (fyolnish@moz-96EC4927.uqwimax.jp) (Ping timeout)
[04:44:03] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Ping timeout)
[04:44:10] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[04:44:23] <sfackler> zlib's license seems permissive enough, but ianal
[04:44:45] <ww> is there a document on the development process to change to rust's runtime?  like the git process, bug/feature filing, etc
[04:44:56] <cmr> ww: same as the rest of rust
[04:44:59] <ww> i can go ahead to make the change
[04:45:03] <sfackler> or write a pure-rust implementation
[04:45:17] <ww> cmr: i don't know the process. :)
[04:45:35] <ww> sfackler: that's another option on my plate
[04:45:47] <cmr> ww: basically just open a pull request.
[04:46:04] <ww> do i need to file a bug/feature request?
[04:46:19] <cmr> not really no
[04:46:37] <ww> just do the git check-in and pull request?
[04:46:55] <ww> check-in to my own rust branch, right?  not the master
[04:47:13] *** Quits: makramkd (Mibbit@moz-52410151.chestnutresnet.utoronto.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[04:47:44] <cmr> doesn't matter, but generally using branches is saner for you :)
[04:48:16] <ww> ok, thanks
[04:48:52] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Ping timeout)
[04:49:09] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[04:50:41] <Eridius> cmr: how do I check the output of rustdoc_ng locally?
[04:50:57] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[04:50:57] <cmr> Eridius: rustdoc crate.rs
[04:51:05] <cmr> poops out a `doc` directory
[04:51:09] <Eridius> ok
[04:51:25] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[04:52:35] <ChrisMorgan> rustdoc html crate.rs
[04:52:53] <cmr> ChrisMorgan: html no longer necessary and indeed incorrect.
[04:52:54] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[04:53:08] * ChrisMorgan was just about to ask whether than had changed
[04:53:53] *** Quits: tjc (tjc@126D462B.437331F3.284344F5.IP) (Ping timeout)
[04:54:40] <ChrisMorgan> And it writes into a doc directory, as doc/* or doc/crate/*? (rustdoc html crate.rs was producing crate/.*)
[04:54:43] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:55:21] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[04:55:21] <cmr> doc/, with the API docs in doc/crate, and the rendered source in... doc/src iirc
[04:55:28] <cmr> yeah
[04:57:52] <jason_> ww: branches are nice for pull requests because you can rebase -i and then push -f to clean up changes before a merge so the history doesn't end up with a bunch of "oops, typo" type commits
[05:06:13] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[05:06:46] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:06:46] *** ChanServ sets mode: +ao dherman dherman
[05:07:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:07:18] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[05:10:18] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[05:13:51] *** Joins: fyolnish (fyolnish@moz-13F8EFBD.uqwimax.jp)
[05:17:22] *** Quits: fyolnish (fyolnish@moz-13F8EFBD.uqwimax.jp) (Ping timeout)
[05:17:28] *** Quits: DanC (connolly@moz-BEA079AC.kumc.edu) (Ping timeout)
[05:17:43] *** Joins: DanC (connolly@moz-BEA079AC.kumc.edu)
[05:23:06] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:23:06] *** ChanServ sets mode: +o tjc
[05:23:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:25:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:29:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:29:15] *** Quits: mib_00plhp (Mibbit@moz-F4E830A0.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:29:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:31:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:31:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[05:31:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:31:53] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:42:54] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[05:45:59] *** Joins: fyolnish (fyolnish@moz-13337E86.uqwimax.jp)
[05:47:24] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:47:51] *** Quits: fyolnish (fyolnish@moz-13337E86.uqwimax.jp) (Ping timeout)
[05:54:55] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[05:55:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:59:48] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:02:13] <benh> rusti: let &const i = &mut 42;
[06:02:15] -rusti- pastebinned 7 lines of output: http://sprunge.us/LRaB
[06:02:42] <benh> err. ;)
[06:02:46] <benh> rusti: let i: &const iint = &mut 42;
[06:02:48] -rusti- pastebinned 6 lines of output: http://sprunge.us/EMSB
[06:02:52] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[06:02:53] *** zz_kimundi is now known as kimundi
[06:02:55] <benh> rusti: let i: &const int = &mut 42;
[06:02:55] -rusti- pastebinned 6 lines of output: http://sprunge.us/FhAO
[06:02:57] <benh> gee
[06:03:05] <benh> kimundi: good morning :D
[06:05:19] <benh> rusti: let mut i = 42; let mut j = 0; std::util::swap(&mut i, &mut j); (i, j)
[06:05:20] -rusti- (0, 42)
[06:05:52] <benh> Something to be said for the brevity of <-> :)
[06:07:54] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:08:07] <Eridius> I think strcat said he wanted swap in the prelude, and I agree with him
[06:08:10] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:08:22] <benh> the two &mut are still kinda verbose
[06:08:40] <benh> though I suppose it's not really the most common of operations
[06:08:43] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[06:12:22] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[06:16:05] *** Quits: adu (ajr@moz-BF2B1AE4.washdc.fios.verizon.net) (Quit: adu)
[06:18:08] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[06:19:51] *** Quits: SteveMcQwark (steven099@moz-7CFCF343.cpe.net.cable.rogers.com) (Ping timeout)
[06:20:05] *** Joins: SteveMcQwark (steven099@moz-7CFCF343.cpe.net.cable.rogers.com)
[06:23:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[06:25:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[06:28:08] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[06:28:30] <kimundi> benh: morning... yeah...
[06:29:44] <benh> kimundi: I waited until it was 7:00 and then went out to by groceries and totally forgot about the public holiday. Staying up all night for rust is not advised ;)
[06:29:49] <benh> buy*
[06:30:12] * cmr notes that it's 2:30 and he's been reviewing PRs since midnight
[06:30:14] <cmr> benh: nonsense!
[06:38:12] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[06:40:50] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[06:41:49] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:45:02] <bjz> can you ganerate the docs easily in a rustpkg-style directory?
[06:45:51] <ChrisMorgan> bjz: try `rustdoc src/foo/lib.rs` or whatever it is.
[06:46:05] <benh> mhm
[06:46:12] <benh> somehow I have 76 rustc processes running right now
[06:46:22] <benh> did make -j9 check in two different workdirs...
[06:47:19] <benh> I'm assuming that makes make run multiple instances of compiletest which in turn runs multiple rustcs?
[06:47:33] <cmr> benh: I'd buy it.
[06:48:00] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[06:48:14] <benh> When I was doing another non-parallel rustc rebuild in addition to that, my desktop froze, but fortunately it finished a few minutes into that...
[06:48:36] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:50:15] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[06:51:38] <Eridius> benh: compiletest with a bare `make` pegs all my CPU. It's ridiculous
[06:51:45] <cmr> compiletest uses num_cpus
[06:51:55] <cmr> each runnings rustc as fast as it robotically can
[06:52:11] <Eridius> yeah, a bit _too_ fast.
[06:52:16] <Eridius> it overcommits on my CPUs
[06:52:46] <cmr> I think you can set RUST_TEST_TASKS to change how many tasks it uses.
[06:54:58] *** Joins: squiddy (squiddy@moz-41B07A07.adsl.alicedsl.de)
[06:58:22] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:59:35] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[06:59:39] *** Quits: KindOne (KindOne@moz-590C0860.dynamic.ip.windstream.net) (Ping timeout)
[07:00:56] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:03:30] *** Joins: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP)
[07:04:05] *** Joins: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be)
[07:08:34] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:09:13] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[07:10:08] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:12:05] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[07:13:12] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[07:17:44] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[07:18:40] *** Joins: fyolnish (fyolnish@moz-AEA5889C.uqwimax.jp)
[07:19:27] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[07:20:26] *** Quits: fyolnish (fyolnish@moz-AEA5889C.uqwimax.jp) (Ping timeout)
[07:21:35] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[07:23:50] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[07:24:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:24:41] *** kimundi is now known as zz_kimundi
[07:24:44] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Quit: WeeChat 0.4.1)
[07:25:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:25:54] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:26:44] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[07:27:30] *** Quits: squiddy (squiddy@moz-41B07A07.adsl.alicedsl.de) (Quit: Leaving)
[07:29:26] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:30:56] *** flaper87|afk is now known as flaper87
[07:32:08] *** Quits: ChrisMorgan (chris@moz-736C88F0.its.monash.edu.au) (Ping timeout)
[07:33:05] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Quit: Konversation terminated!)
[07:33:14] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[07:33:28] *** Quits: zootm (calum@moz-DCC1F9C3.sgyl.cable.virginmedia.com) (Connection reset by peer)
[07:36:20] *** Joins: ChrisMorgan (chris@moz-3536056F.its.monash.edu.au)
[07:38:42] *** Joins: nkoep (nik@moz-FAF06338.pool.mediaways.net)
[07:39:32] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[07:40:15] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:40:43] *** Quits: ChrisMorgan (chris@moz-3536056F.its.monash.edu.au) (Ping timeout)
[07:40:50] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:41:17] <jensnockert> We have fourcc support in Rust now, amazingness!
[07:41:27] <cmr> It hasn't landed yet.
[07:41:37] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:42:03] <jensnockert> Oh, but it is running on Bors.
[07:42:05] <jensnockert> Almost landed.
[07:42:34] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[07:44:13] *** Joins: victorporof (victorporo@E9546F45.DA9DCE7D.79933D60.IP)
[07:48:02] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:48:36] <benh> 4987:1 error: incorrect close delimiter: `}`
[07:48:37] <benh> oh noo
[07:48:57] <cmr> heh
[07:49:04] <cmr> tjc said he was going to fix that soonish
[07:49:11] <benh> tjc++
[07:49:22] *** Joins: fyolnish (fyolnish@moz-4BA39053.uqwimax.jp)
[07:49:42] *** Quits: DanC (connolly@moz-BEA079AC.kumc.edu) (Ping timeout)
[07:50:09] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[07:50:37] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:51:05] *** Quits: fyolnish (fyolnish@moz-4BA39053.uqwimax.jp) (Ping timeout)
[07:52:22] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[07:53:36] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[07:55:24] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[07:55:57] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[07:58:40] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[07:58:54] <flaper87> acrichto: ping
[07:59:27] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:02:10] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:03:58] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:07:10] *** Joins: DanC (connolly@moz-CAC8C247.dyn.everestkc.net)
[08:09:45] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[08:17:18] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[08:18:47] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[08:18:47] *** ChanServ sets mode: +o pnkfelix
[08:20:16] *** Joins: fyolnish (fyolnish@moz-ADDD1EFB.uqwimax.jp)
[08:20:25] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:22:00] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[08:22:00] *** Quits: fyolnish (fyolnish@moz-ADDD1EFB.uqwimax.jp) (Ping timeout)
[08:22:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:22:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:22:53] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:24:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:24:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:26:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:27:08] *** Joins: schubidu25 (schubidu25@moz-FAE37203.superkabel.de)
[08:29:02] *** Quits: victorporof (victorporo@E9546F45.DA9DCE7D.79933D60.IP) (Ping timeout)
[08:29:36] *** Joins: victorporof (victorporo@87FFE63B.AB163232.79933D60.IP)
[08:29:40] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Quit: Leaving.)
[08:29:52] *** Quits: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP) (Ping timeout)
[08:30:33] *** Joins: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP)
[08:31:19] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[08:32:29] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Quit: Leaving.)
[08:32:44] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:33:01] *** Parts: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) ()
[08:34:23] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:35:20] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[08:36:26] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[08:38:10] *** flaper87 is now known as flaper87|afk
[08:39:26] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[08:43:10] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Quit: Leaving.)
[08:45:39] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[08:45:54] *** Quits: nkoep (nik@moz-FAF06338.pool.mediaways.net) (Ping timeout)
[08:47:40] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[08:48:31] *** flaper87|afk is now known as flaper87
[08:51:09] *** Joins: fyolnish (fyolnish@moz-B891F83F.uqwimax.jp)
[08:52:24] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[08:52:54] *** Quits: fyolnish (fyolnish@moz-B891F83F.uqwimax.jp) (Ping timeout)
[08:54:02] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[08:56:40] *** Joins: kristal (quassel@moz-EC67E844.cpe.distributel.net)
[08:56:52] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:56:52] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[08:57:23] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[08:58:34] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[08:59:24] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:00:58] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:01:02] *** Joins: nkoep (nik@moz-CE8DDDAD.vpn.rwth-aachen.de)
[09:01:16] *** Quits: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP) (Ping timeout)
[09:01:36] *** Quits: kristal (quassel@moz-EC67E844.cpe.distributel.net) (Quit: quit)
[09:04:30] *** Joins: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP)
[09:04:58] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[09:05:24] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:05:59] *** Joins: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:05:59] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[09:08:53] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[09:09:33] *** Quits: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[09:09:59] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:11:54] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[09:13:20] *** Joins: KindTwo (KindOne@moz-2866CDA6.dynamic.ip.windstream.net)
[09:13:23] *** Quits: KindOne (KindOne@CFD2FA36.E184454F.34F73994.IP) (Ping timeout)
[09:14:22] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[09:14:37] *** KindTwo is now known as KindOne
[09:18:53] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:19:52] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[09:20:23] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:20:52] *** Quits: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:21:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[09:21:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:22:02] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[09:22:03] *** Joins: fyolnish (fyolnish@moz-B242E546.uqwimax.jp)
[09:23:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:23:25] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[09:23:44] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[09:23:49] *** Quits: fyolnish (fyolnish@moz-B242E546.uqwimax.jp) (Ping timeout)
[09:24:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:25:25] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[09:26:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:26:32] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:26:34] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:26:35] *** ChanServ sets mode: +o jdm
[09:34:32] <tikue_> rusti: match "hi" { "h" + "i" => 1, _ => 0 }
[09:34:33] -rusti- <anon>:7:26: 7:27 error: expected `=>` but found `+`
[09:34:33] -rusti- <anon>:7          match "hi" { "h" + "i" => 1, _ => 0 }
[09:34:33] -rusti-                                    ^
[09:34:33] -rusti- application terminated with error code 101
[09:44:23] <jason_> when constructing a struct can you reference fields in the struct? like Foo{a: 0, self.a} ?
[09:44:50] <strcat> no
[09:44:51] <jason_> rather like Foo{a: 0, b: self.a} ?
[09:45:07] <jason_> damn
[09:45:38] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:45:40] <jason_> i have a really nasty use case for that :\
[09:47:50] <jason_> i'm trying to port a lock-free queue algorithm that uses a pointer into the struct as a end-of-queue id
[09:48:03] <jason_> mpsc_queue() : _head{&_stub}, _tail{&_stub} {}
[09:49:56] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:50:01] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[09:51:58] <benh> heh
[09:52:05] <benh> rusti: let let = 42;
[09:52:06] -rusti- <anon>:7:9: 7:12 error: found `let` in ident position
[09:52:06] -rusti- <anon>:7          let let = 42;
[09:52:07] -rusti-                   ^~~
[09:52:07] -rusti- error: aborting due to previous error
[09:52:07] -rusti- application terminated with error code 101
[09:52:32] <benh> wrong let! *fixes*
[09:53:32] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[09:53:47] *** Joins: fyolnish (fyolnish@moz-A65A536.uqwimax.jp)
[09:55:38] *** Quits: fyolnish (fyolnish@moz-A65A536.uqwimax.jp) (Ping timeout)
[09:56:57] *** Quits: nkoep (nik@moz-CE8DDDAD.vpn.rwth-aachen.de) (Ping timeout)
[10:04:35] <Yurume> rusti: format!("{:d, plural, =1{# bottle} other{# bottles}}", 42)
[10:04:37] -rusti- ~"42 bottles"
[10:04:53] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[10:04:54] <Yurume> rusti: format!("{:d, plural, =1{# bottle} other{# bottles}} and {:u} days", 42, 54)
[10:04:55] -rusti- pastebinned 8 lines of output: http://sprunge.us/cTWa
[10:05:07] <Yurume> rusti: format!("{:d, plural, =1{# bottle} other{# bottles}} and {:u} days", 42, 54u)
[10:05:08] -rusti- ~"42 bottles and 54 days"
[10:05:13] <Yurume> hmm..
[10:09:12] *** Joins: fran (fran@541192C3.5F63C71E.87338559.IP)
[10:12:01] <dbaupp> jason_: btw, internal pointers don't work very well in rust
[10:13:38] *** Joins: wilsonk|2 (kvirc@moz-8E86F35A.cg.shawcable.net)
[10:14:18] <Yurume> rusti: format!("{a}{b:.2f}{c}{d,plural,=1{a#}other{b#}}{e}{f}",12,130.0,"?",1440,7,"")
[10:14:19] -rusti- pastebinned 38 lines of output: http://sprunge.us/JHSB
[10:14:25] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Ping timeout)
[10:14:34] <Yurume> rusti: format!("{a}{b:.2f}{c}{d,plural,=1{a#}other{b#}}{e}{f}",a=12,b=130.0,c="?",d=1440,e=7,f="")
[10:14:34] -rusti- ~"12130.00?b14407"
[10:15:27] *** Quits: wilsonk|2 (kvirc@moz-8E86F35A.cg.shawcable.net) (Ping timeout)
[10:15:28] *** Joins: nkoep (nik@moz-FAF06338.pool.mediaways.net)
[10:15:29] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:15:30] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[10:16:48] *** Joins: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net)
[10:19:08] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[10:20:02] *** Joins: fyolnish (fyolnish@moz-E8ACB066.uqwimax.jp)
[10:20:55] *** Quits: raze (raze@moz-4E6675AF.bredband.comhem.se) (Ping timeout)
[10:20:59] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[10:20:59] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Input/output error)
[10:21:14] *** Quits: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[10:21:58] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[10:22:52] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[10:22:52] *** Quits: raze (raze@moz-4E6675AF.bredband.comhem.se) (Ping timeout)
[10:23:17] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[10:25:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:26:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:26:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:27:03] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[10:27:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:28:55] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[10:29:46] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[10:29:46] *** ChanServ sets mode: +o jdm
[10:30:11] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[10:31:40] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[10:31:49] *** Joins: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP)
[10:32:24] *** Joins: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP)
[10:34:20] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:36:02] *** Joins: skade (skade@moz-A3222CF7.dip0.t-ipconnect.de)
[10:37:25] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[10:40:46] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Quit: Leaving)
[10:40:55] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[10:41:02] *** flaper87 is now known as flaper87|afk
[10:42:38] <ChrisMorgan> cmr: re. your docs-building-as-a-service offer, where will the result go?
[10:42:57] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:43:24] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:44:19] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[10:45:09] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:45:33] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[10:46:02] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[10:50:22] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[10:50:22] *** ChanServ sets mode: +o jdm
[10:50:45] *** Joins: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP)
[10:53:31] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[11:11:45] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[11:12:28] *** Quits: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be) (Ping timeout)
[11:14:08] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[11:18:59] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:25:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:26:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:27:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:30:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:38:50] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[11:39:33] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[11:39:33] *** ChanServ sets mode: +o pnkfelix
[11:48:01] *** Quits: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP) (Ping timeout)
[11:48:57] *** flaper87|afk is now known as flaper87
[12:02:04] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Input/output error)
[12:05:36] *** Joins: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca)
[12:07:25] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[12:07:45] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[12:08:38] *** jorendorff_away is now known as jorendorff
[12:08:54] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[12:08:55] *** ChanServ sets mode: +o jdm
[12:11:29] *** Joins: msingle (Thunderbir@154986C3.F404A8D4.975DB329.IP)
[12:15:03] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[12:16:10] *** jorendorff is now known as jorendorff_away
[12:16:12] *** Joins: cadence (Mibbit@moz-2754FC1C.sub-70-209-10.myvzw.com)
[12:16:32] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Quit: Leaving)
[12:18:37] *** Quits: msingle (Thunderbir@154986C3.F404A8D4.975DB329.IP) (Ping timeout)
[12:20:26] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[12:22:05] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[12:25:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:27:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:30:09] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[12:36:32] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[12:36:52] *** Joins: lfox (larryfox@moz-18319C97.nyc.biz.rr.com)
[12:36:54] *** Quits: cadence (Mibbit@moz-2754FC1C.sub-70-209-10.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[12:40:47] *** Quits: nkoep (nik@moz-FAF06338.pool.mediaways.net) (Ping timeout)
[12:41:05] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[12:49:30] <benh> rusti: struct S<T: ToStr>;
[12:49:31] -rusti- <anon>:7:9: 7:28 error: trait bounds are not allowed in structure definitions
[12:49:31] -rusti- <anon>:7          struct S<T: ToStr>;
[12:49:32] -rusti-                   ^~~~~~~~~~~~~~~~~~~
[12:49:32] -rusti- error: aborting due to previous error
[12:49:32] -rusti- application terminated with error code 101
[12:55:09] *** Joins: nkoep (nik@moz-B84CF551.vpn.rwth-aachen.de)
[12:57:32] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[12:57:43] *** flaper87 is now known as flaper87|afk
[13:02:39] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:03:36] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:04:26] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[13:06:42] *** flaper87|afk is now known as flaper87
[13:07:07] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[13:07:28] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:07:52] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[13:15:13] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[13:16:44] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:21:12] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[13:26:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:26:28] <ChrisMorgan> dbaupp: I've finally finished the first step to publishing that blog post on GitHub link maintenance that I promised: I've replaced my website at http://chrismorgan.info/ :-)
[13:27:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:28:48] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:29:40] <dbaupp> ChrisMorgan: ooh, looks nice :)
[13:30:04] <ChrisMorgan> https://github.com/mozilla/rust/wiki/Note-style-guide#function-declarations is weird. Is that *really* being suggested as a universal formatting convention for functions?
[13:30:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:32:09] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[13:33:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:38:29] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[13:41:08] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[13:41:40] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:51:19] *** Joins: mib_3ruqyw (Mibbit@moz-980DDEA5.columbus.res.rr.com)
[13:52:22] *** Joins: Ms2ger (Ms2ger@moz-620C764B.ugent.be)
[13:56:04] <bstrie> cmr: not taboo to ask what the decoration was awarded for
[13:56:11] <bstrie> cmr: but I can't guarantee that I'll remember the reason!
[13:56:29] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[13:56:32] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[14:03:12] *** Joins: wakandan (Mibbit@EAAFB164.13322C48.EAD3CEA6.IP)
[14:03:12] <ChrisMorgan> bstrie: why did I get #[deriving( )] in particular first time round?
[14:04:57] <Yurume> rusti: use std::path::Path; use std::os::path_is_dir; path_is_dir(&Path("foo").pop())
[14:04:58] -rusti- false
[14:04:59] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[14:05:02] <Yurume> is this behavior intentional?
[14:05:03] <wakandan> https://github.com/mozilla/rust/pull/9604#issuecomment-25333174
[14:05:25] <Yurume> (i.e. Path("") not equal to Path("."))
[14:05:44] <wakandan> I need to emit a compiler msg for saying #[abi = "foo"]  is depreciated 
[14:05:50] <wakandan> where should I look into?
[14:06:06] *** Quits: mib_3ruqyw (Mibbit@moz-980DDEA5.columbus.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[14:09:50] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[14:09:52] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:12:21] <benh> Maybe a lint mode? I don't know
[14:12:55] <wakandan> lint mode?
[14:13:53] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[14:16:05] *** flaper87 is now known as flaper87|afk
[14:17:07] *** lkuper_ is now known as lkuper
[14:18:01] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[14:19:11] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[14:22:25] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[14:24:42] *** flaper87|afk is now known as flaper87
[14:26:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:28:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:28:20] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[14:30:52] *** Quits: nkoep (nik@moz-B84CF551.vpn.rwth-aachen.de) (Ping timeout)
[14:31:52] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:33:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:33:36] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:33:46] <bstrie> ChrisMorgan: I think you made a vaguely snide remark to me and I was attempting to pass off your wit as derivative :)
[14:33:56] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:33:56] *** ChanServ sets mode: +ao dherman dherman
[14:34:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:39:17] *** Quits: six600110 (six600110@moz-3C5CCD60.neo.res.rr.com) (Client exited)
[14:41:23] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:41:44] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[14:43:13] <fmt> Acrynoms too should be camel case: Uuid, not UUID.
[14:43:20] <fmt> http://nooooooooooooooo.com/vader.jpg
[14:43:31] <bstrie> all caps is for statics!
[14:43:40] <bstrie> dealwithit.gif
[14:43:59] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[14:45:32] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[14:45:47] * fmt refuses to deal with it 
[14:46:20] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:46:22] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[14:46:22] <bstrie> dealwithit.gif
[14:46:22] <bstrie> dealwithit.gif
[14:46:23] <bstrie> dealwithit.gif
[14:46:30] <fmt> although to be fair, the case where this would appear most is not a problem here
[14:46:38] <fmt> as methods and functions are the_correct_way
[14:46:55] <bstrie> yes
[14:46:56] <fmt> not Java style howDoWeAddHTMLHere?
[14:47:03] * ChrisMorgan still thinks small-caps would have been interesting
[14:47:10] <fmt> ChrisMorgan: _yes_
[14:47:11] <bstrie> I really like the visual separation between functions and types
[14:47:17] <bstrie> haha
[14:47:19] <bstrie> we can do it
[14:47:21] <bstrie> we're utf-8
[14:47:28] <fmt> bstrie: didn't syntax highlighting in IDEs solve this problem?
[14:47:40] <fmt> ChrisMorgan: it would give me something to assign to caps lock finally
[14:47:44] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[14:47:44] <bstrie> fmt: if it did, then why are you complaining about java :P
[14:47:46] <fmt> "small caps lock"
[14:47:53] <ChrisMorgan> Have it as a talking point about Rust: why should I use Rust? "It uses small caps identifiers for acronyms. Seriously."
[14:48:06] <fmt> bstrie: all programming should be caps all the time. COBOL is awesome.
[14:48:33] <sp3d> we could capture some of the APL market share with conventions like that
[14:48:36] <myname> .oO(INTERCAL)
[14:48:54] <ChrisMorgan> Incidentally, in case you weren't aware, I did actually propose small-caps identifiers at the time of the bikeshed: https://mail.mozilla.org/pipermail/rust-dev/2013-August/005119.html
[14:48:54] <myname> what APL market share? :D
[14:48:58] <fmt> so basically, I'm going to rewrite a Schulze Condorcet voting system from Python in Rust soon 
[14:48:59] <sp3d> :D
[14:49:00] <fmt> just for fun 
[14:49:06] <ChrisMorgan> Funnily enough, no one responded to the suggestion.
[14:49:25] *** Joins: nkoep (nik@moz-FAF06338.pool.mediaways.net)
[14:49:27] <fmt> also, this exists: http://blog.mongodb.org/post/56426792420/introducing-the-mongodb-driver-for-the-rust-programming
[14:49:51] <fmt> it does exception handling magically with Options
[14:50:02] <bstrie> define "magically"
[14:50:07] <bstrie> like, in a bad way or a good way
[14:50:08] <bjz> magically?
[14:50:11] <bstrie> magical like a sunset
[14:50:14] <bstrie> ?
[14:50:17] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[14:50:19] <bjz> and twinkles
[14:50:22] <fmt> look at the page and see 
[14:50:22] <myname> \sunset
[14:50:23] <bstrie> and unicorns
[14:50:26] <fmt> I used magical for a reason
[14:50:29] <bjz> robot unicorns
[14:50:30] <fmt> it seems "clever" to me
[14:50:32] <bjz> attack
[14:50:37] <fmt> unsure if I like their kind of clever.
[14:50:49] <fmt> "Ok(_) => ()" is weird to me
[14:51:08] <myname> the hell
[14:51:25] <bstrie> that's not option, that's result
[14:51:29] <fmt> yeah, sorry 
[14:51:32] <myname> and what do they do with Err?
[14:51:32] <fmt> I was just about to type that 
[14:51:45] <fmt> Err(e) => fail!(e.to_str())
[14:52:04] <fmt> oh my, do spawn appears
[14:52:09] <fmt> time for some roflscale.
[14:52:11] <bjz> what is magical about it?
[14:52:25] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[14:52:25] * ChrisMorgan sees nothing magical whatsoever, just plain normal code
[14:52:31] <bjz> it's very explicit
[14:52:38] *** Quits: timot (timot@moz-3896B0B8.cust.tele2.se) (Ping timeout)
[14:52:42] <fmt> I am new to rust.
[14:52:47] <ChrisMorgan> (Well, except for bits like "for 25.times { ... }" :P)
[14:52:48] <fmt> match itself is still magic to me.
[14:52:53] <bjz> fmt: sorry :(
[14:52:59] <fmt> haha, that's okay.
[14:53:17] <engla> fmt: patterns are used in more places than match, and that's the core of the magic!
[14:53:19] <myname> fmt: you are too late, there was a macro named after you
[14:53:20] <bjz> fmt: rust is meant to be a friendly community
[14:53:38] <bstrie> and if you're not friendly we install a chip in your brain to make you so
[14:53:39] <fmt> bjz: nothing so far has struck me as unfriendly.
[14:53:40] <bstrie> win/win
[14:53:45] *** fmt is now known as fmtq
[14:53:50] <engla> fmt: patterns allow   let (a, b) = (1, 2); etc.
[14:53:51] <ChrisMorgan> fmt: the () portion is the unit type, explained in the reference manual. In such a case as this, it's equivalent to {}, an empty block. Meaning, "I could do something with the value if I wanted to, but for this example I don't need to."
[14:53:53] * bjz beep beep
[14:54:03] <bstrie> good robot
[14:54:04] <fmtq> I added the q because when people feed rusti, half the time it involves fmt!
[14:54:07] <bstrie> bjz: botsnack
[14:54:09] <bjz> fmtq: change your name to `format!`
[14:54:09] <fmtq> and I get highlighted.
[14:54:10] <fmtq> hahaa
[14:54:13] <engla> () is also explained in the rusticon :)
[14:54:38] <fmtq> so () is to a block as _ is to a value?
[14:54:52] <myname> () is "null but not quite null"?
[14:55:15] <engla> () is just a value of the type with the same name
[14:55:24] <engla> it provides 0 bits of information
[14:55:27] <klutzy> it is just void
[14:55:29] <bstrie> fmtq: don't listen to them, () is just void
[14:55:34] <fmtq> ah 
[14:55:34] <bstrie> ok you can listen to klutzy
[14:55:48] <bstrie> don't let them try to indoctrinate you with terms like "unit type" :P
[14:55:49] <engla> std::util::Void; is void
[14:55:54] *** Joins: timot (timot@moz-282AA699.cust.tele2.se)
[14:56:03] <fmtq> bjz: man, when you said friendly, for whatever reason, it reminded me of walking into ##c on Freenode about 7 years ago 
[14:56:18] <fmtq> when I had just started to program more deeply
[14:56:22] <fmtq> that was... scary 
[14:56:23] <bjz> fmtq: in what way?
[14:56:23] <fmtq> lol
[14:56:35] <bjz> fmtq: "like 7 years ago"
[14:57:00] <bjz> engla: nice! glad to see the rusticon is being populated
[14:57:05] <fmtq> contrasting.
[14:57:13] <luisbg> where is rustrt defined? I want to see the code of rust_mktime
[14:57:14] <fmtq> programmer new to language enters IRC. Doesn't get destroyed.
[14:57:31] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[14:57:37] <bjz> fmtq: https://github.com/mozilla/rust/wiki/The-Rusticon
[14:58:09] <fmtq> the apostrophe notation is a bit of an odd one.
[14:58:10] <bstrie> engla bjz: we need to establish a convention whereby the rusticon is always written in smallcaps. Tʜᴇ Rᴜsᴛɪᴄᴏɴ
[14:58:11] <bjz> fmtq: we are a small community. plus graydon was a great example in the beginning
[14:58:54] <engla> hehe I need to find that in my key layout bstrie
[14:59:11] <engla> I also think that we for SEO maybe should stick the word "glossary" in there
[14:59:26] <bstrie> тнє яυѕтι¢ση
[14:59:29] <bstrie> ^ that's a good one
[14:59:40] <bstrie> Շɦﻉ ɼપรՇٱƈѻก
[14:59:46] <bstrie> Շђє гยรՇเς๏ภ 
[15:00:16] <engla> Reminds me of Quicksilver's stylized application name
[15:01:03] *** Quits: Ms2ger (Ms2ger@moz-620C764B.ugent.be) (Ping timeout)
[15:03:28] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[15:04:11] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[15:04:39] <luisbg> sorry I have to ask again
[15:04:40] <luisbg> where is rustrt defined? I want to see the code of rust_mktime
[15:04:55] <luisbg> grepping around the git repo doesn't find it
[15:04:55] <engla> bstrie: ქჩვ ႼჀჷႠႨႺႳႶ
[15:05:43] <engla> it's in ./src/rt
[15:07:48] *** Quits: wakandan (Mibbit@EAAFB164.13322C48.EAD3CEA6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:08:11] *** Joins: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP)
[15:11:09] *** flaper87 is now known as flaper87|afk
[15:12:06] <luisbg> engla, ooooh was rgrepping in emacs for *.r* files
[15:12:08] <luisbg> my mistake (
[15:12:32] <fmtq> what is the preferred style for a constructed function in rust?
[15:12:43] <sw17ch> https://twitter.com/cateches/status/385600101072121856 <-- anyone have a guess what they mean by "common sense pointers"?
[15:12:53] <fmtq> a new method on an impl, or a top-level fn new_foo?
[15:13:01] <ChrisMorgan> Type::new()
[15:13:22] <fmtq> I approve.
[15:14:27] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:14:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:15:37] <engla> sw17ch: good question
[15:16:00] <jmgrosen> is there any way to do something like select(2) but on a Port and a TcpStream?
[15:16:01] <sw17ch> My first impression of Rust's pointers was: "oh good! an implementation of pointers that's not bat-crap crazy!"
[15:16:27] <fmtq> agree.
[15:16:28] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[15:16:32] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[15:16:48] <doomlord_> i would call c pointers crazy, just what was needed at the time and something that can be improved
[15:16:57] <doomlord_> i wouldn't call c pointers crazy^
[15:17:38] <sw17ch> Good point, crazy is probably a poor characterization on my part.
[15:17:42] <fmtq> hmm, matrices in ruwst
[15:17:43] <fmtq> this should be fun.
[15:17:45] <engla> C pointers have lots of tricky rules
[15:17:46] <sw17ch> And rather insensitive.
[15:18:02] <sw17ch> I think pointer math is scary.
[15:18:40] <doomlord_> the way i look at it... c was the right language to drastically reduce the amount of asm that needed to be written
[15:19:08] <sw17ch> Absolutely, yes.
[15:19:40] <sw17ch> Now we need languages that let us drastically reduce the amount of C that needs to be written. :)
[15:19:54] <doomlord_> hehe :) yes 
[15:20:08] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:20:31] <doomlord_> i perfectly happy with c/c++ so long as i dont have to work with anyone else
[15:20:42] <bjz> sw17ch: I would assume that person would like stupid pointers
[15:21:01] <bjz> sw17ch: but I might be wrong.
[15:21:10] <sw17ch> I asked for clarification.
[15:21:17] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[15:21:34] <engla> The beginner's C pointer that doesn't have rules about aliasing and alignment (because the beginner has no clue yet), is that the common sense pointer?
[15:21:44] <engla> as in, something that doesn't exist
[15:22:11] <bjz> engla: that's what made it hard for me to learn C
[15:22:19] <sw17ch> The last few days, all my problems have been aliasing problems -- C code from 1996 compiled in National Instruments' CVi environment.
[15:22:38] <sw17ch> Scary scary industrial control software.
[15:22:41] <doomlord_> oh nasty
[15:22:43] *** Quits: JanC_ (janc@moz-A7C24188.dsl.scarlet.be) (Ping timeout)
[15:23:15] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:23:45] <bjz> what does 'aliasing' refer to?
[15:24:03] <doomlord_> whether or not pointers can overlap
[15:24:58] *** Quits: lfox (larryfox@moz-18319C97.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:25:05] <doomlord_> well thats how i encountered it.. the need to put '__restrict' in C sometimes to tell it that pointers *dont* overlap so its safe to cache values in registers
[15:25:38] <engla> bjz: the C compiler is allowed to assume that pointers to different types don't overlap, for example  int* and float*
[15:25:45] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[15:25:48] <engla> bjz: while char* may alias any pointer
[15:25:51] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:26:00] * bjz is still confused
[15:26:16] <bjz> what does 'overlap' mean?
[15:26:22] <bjz> point to the same place?
[15:26:25] <doomlord_> yes
[15:26:28] <engla> yes.
[15:26:37] <bjz> why is that bad?
[15:26:47] <doomlord_> caching local variables in registers is preferable
[15:26:48] <engla> bjz: if they point to the same place, we can't change the order of  *i = 2; *f = 2.0;
[15:26:57] <doomlord_> and that
[15:27:18] <doomlord_> gives the compiler more ways to optimize
[15:27:25] <engla> bjz: storing through a char pointer invalidates optimizations since a char pointer may alias any other pointer
[15:27:32] <engla> etc
[15:27:35] *** flaper87|afk is now known as flaper87
[15:27:42] <bjz> engla: what about *i0 = 2; *i1 = 3;
[15:28:18] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:28:20] <doomlord_> it comes up in things like matrix multiply
[15:28:43] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[15:28:55] <bjz> can two pointers overlap if they point to a location that stores the same type?
[15:29:13] <bjz> but not if they are of different types?
[15:29:18] <bjz> except char?
[15:29:26] <doomlord_> they can , and thats why it can't do compiler optimizations around code that uses multiple pointers to the same type
[15:29:33] <bjz> is that what you're saying engla?
[15:29:48] <doomlord_> .. so as a workaround they added "__restrict" to tell the compiler the pointers *dont* overlap
[15:29:54] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[15:29:54] <doomlord_> then it can optimize better
[15:30:21] <bjz> doomlord_: but restrict doesn't do any static checks right - up to the programmer?
[15:30:30] <doomlord_> correct :) error prone :)
[15:30:42] <engla> bjz: yes. sorry have to go :)
[15:30:55] * bjz thinks he understands better
[15:31:26] <doomlord_> if i've understood correctly, somewhere between rusts immutability and freezing the rust compiler can make more safe assumptions about pointers not overlapping
[15:31:48] <bjz> doomlord_: so restrict cold even make things worse, if you don't know what you're doing
[15:32:09] <bjz> by 'worse' as in 'explode'
[15:32:16] <doomlord_> yes, if you have a sourcebase that doesn't use __restrict, you can change the behaviour by adding it later..
[15:32:25] <bjz> eek
[15:32:28] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[15:32:45] <doomlord_> eek indeed :)
[15:33:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:34:15] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[15:34:40] <fmtq> there's some pretty smart type inferrence implemented here.
[15:35:22] <fmtq> rusti: let mut x = ~[~[], ~[]]; x[0].push(4); x[1].push(~"foo");
[15:35:22] -rusti- <anon>:7:58: 7:64 error: mismatched types: expected `<VI1>` but found `~str` (expected integral variable but found ~str)
[15:35:22] -rusti- <anon>:7          let mut x = ~[~[], ~[]]; x[0].push(4); x[1].push(~"foo");
[15:35:22] -rusti-                                                                    ^~~~~~
[15:35:23] -rusti- error: aborting due to previous error
[15:35:23] -rusti- application terminated with error code 101
[15:36:35] <bjz> fmtq: eh? typesplosion?
[15:37:00] <bjz> ohhh
[15:37:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:37:16] <bjz> yeah local HM type inference
[15:37:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:37:27] <fmtq> nested too
[15:37:37] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[15:38:15] *** Joins: JanC_ (janc@moz-14685694.dsl.scarlet.be)
[15:38:18] <bjz> fmtq: if you had any experience with ML/Haskell you wouldn't be as impressed. x)
[15:38:37] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[15:38:52] <bjz> fmtq: http://en.wikipedia.org/wiki/Hindley-Milner
[15:40:04] <bjz> fmtq: we use an extension to HM type inference to make it work with lifetimes/ownership, but it isn't as pervasive as in ML or Haskell
[15:40:15] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:40:26] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:40:27] * fmtq has a brain explode
[15:41:04] <bjz> fmtq: basically some crazy smart type theorists figured out some mathemagical incantations to make types awesome
[15:41:12] <sw17ch> https://twitter.com/cateches/status/385791293810438145 bjz, seems you're correct
[15:41:17] <fmtq> no, I understood that much
[15:41:24] <fmtq> I was just staring at the lambda calculus 
[15:41:30] <doomlord_> hehe
[15:42:05] <ChrisMorgan> Oh good, my submission of my link checker at https://news.ycombinator.com/item?id=6489084 is slowly creeping up the front page... just to keep such promotion on topic here, I'm certainly giving www.rust-lang.org free access to it (when it's ready)!
[15:42:07] <bjz> fmtq: that's why Haskellers are so pissed off at the world, stuck with crappy type systems
[15:42:09] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[15:42:41] <fmtq> Haskell's "++" operator put me off.
[15:42:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:42:53] <bjz> fmtq: classic blub paradox. people not knowing what they're missing out on
[15:43:00] <bjz> why?
[15:43:17] <fmtq> irrational hatred of double plus.
[15:43:55] <bjz> fmtq: eh, just syntax.
[15:44:15] <fmtq> syntax is everything.
[15:44:35] * ChrisMorgan wishes he could be using Rust for his link checker... but rust-http is nowhere near ready for such a task!
[15:44:56] <bjz> ChrisMorgan: you make rust-http don't you? :P
[15:45:06] <ChrisMorgan> bjz: yeah, and it takes time. *Sigh.*
[15:45:12] <bjz> heh
[15:45:17] <ChrisMorgan> All pay me for my link checker and I'll get to spend more time on rust-http :P
[15:45:21] <bjz> I know that feeling so much
[15:45:30] * sw17ch senses Haskell hate
[15:45:40] * sw17ch feels compelled to defend its honor
[15:45:43] <sw17ch> :P
[15:46:45] <ChrisMorgan> I didn't get an answer earlier on this; re. https://github.com/mozilla/rust/wiki/Note-style-guide#function-declarations is it seriously intended that each argument to a function go on its own line?
[15:47:06] <bjz> ChrisMorgan: lolwut.
[15:47:11] * bjz never does that
[15:47:39] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[15:48:10] <bjz> MAIK!!!
[15:48:11] * ChrisMorgan dislikes the style with a vehemence certainly never hitherto expressed or experienced by him in any Rust bikeshedding
[15:48:17] <Amaranth> ChrisMorgan: That's a fairly common convention when having them all on one line is over 80 chars
[15:48:30] <Amaranth> I'm torn on it, personally
[15:48:34] <ChrisMorgan> Amaranth: that is suggesting to *always* do it.
[15:48:34] <sw17ch> ChrisMorgan, Amaranth: I tend to do something like that in C as well.
[15:48:38] <sw17ch> But *only* when the line gets long.
[15:48:54] <sw17ch> Or when the types are particularly wordy.
[15:49:02] <Amaranth> Sometimes it can be awesome, especially if you line up the variable names with some padding. Other times it is ugly.
[15:49:29] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:50:30] <Amaranth> But hey, you don't need padding to line them up in Rust so forget I said that
[15:50:37] * Amaranth switches languages in his head again
[15:51:13] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:53:08] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[15:53:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:59:27] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Quit: KVIrc 4.0.4 Insomnia http://www.kvirc.net/)
[16:01:29] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:01:29] *** ChanServ sets mode: +ao dherman dherman
[16:02:31] *** Joins: brutor (Mibbit@23345E30.9C4F96D9.33795F4D.IP)
[16:03:06] *** Joins: lfox (larryfox@moz-9C0D38DC.nyc.biz.rr.com)
[16:05:39] *** Quits: lfox (larryfox@moz-9C0D38DC.nyc.biz.rr.com) (Ping timeout)
[16:05:45] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[16:10:08] *** Joins: yonran (yonran@moz-962F33EB.acuitus.com)
[16:12:26] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:13:48] <sfackler> I just go to a second line if the argument list gets too long
[16:13:55] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[16:14:52] <cmr> ChrisMorgan: Probably on doc.octayn.net
[16:15:14] <ChrisMorgan> And that'd include docs for Rust itself?
[16:15:18] <cmr> Yes
[16:16:02] <cmr> (Only for showing implementors of traits in std for other libraries0
[16:16:42] <ChrisMorgan> A question: why are we getting "doc" everywhere rather than "docs"? "docs" is what I've been more familiar with, at least.
[16:17:06] <cmr> Hm, good question.
[16:17:11] *** Joins: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net)
[16:17:18] <cmr> You'd think I'd have subconsciously prefered docs, since that's what python uses.
[16:17:45] *** Quits: fyolnish (fyolnish@moz-E8ACB066.uqwimax.jp) (Client exited)
[16:18:16] *** Joins: fyolnish (fyolnish@moz-E8ACB066.uqwimax.jp)
[16:18:19] <ChrisMorgan> cmr: I think I'll sign up http://github.com/chris-morgan/rust-http. Few doc comments yet, but I was working on adding some with explanations and code samples yesterday and will continue so to do.
[16:18:28] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[16:19:16] <cmr> ChrisMorgan: Awesome, thanks!
[16:20:14] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[16:20:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:20:52] <tiffany> is there a grammar for rust anywhere?
[16:21:04] <cmr> tiffany: the manual has hints of a grammar.
[16:21:19] <cmr> tiffany: We have an older one at https://github.com/jbclements/rust-antlr, but it was valid at t he time
[16:21:30] <cmr> The only syntax changes are for loops I think
[16:21:31] <tiffany> it'd be nice if there was an appendix in the manual containing the complete grammar, like what lua does
[16:21:35] <cmr> oh, and static mut
[16:21:42] <cmr> tiffany: it'd be nice if we had a complete grammar ;p
[16:22:31] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[16:23:06] <tiffany> do you think there will be something like that by 1.0?
[16:23:14] <cmr> We need it for milestone #1
[16:23:26] <cmr> It's not really optional
[16:23:39] <tiffany> it must be hard to write formatting tools and such without a proper grammar to work off of
[16:23:52] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:23:56] <doomlord_> ast/prettyprint perhaps
[16:24:18] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[16:24:26] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:24:41] <cmr> tiffany: yeah, and it ends up happening that obscure parts of rust slowly fade from knowledge
[16:24:42] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:24:42] *** ChanServ sets mode: +ao dherman dherman
[16:24:43] <cmr> for example!
[16:24:49] <cmr> rusti: use std::io, std::rt;
[16:24:53] -rusti- pastebinned 7 lines of output: http://sprunge.us/LVWC
[16:25:14] <Luqman> cmr: also, binding match arms to a name with @, I always forget that :P
[16:25:48] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[16:26:41] *** Joins: jacket (Mibbit@moz-D01C4D2C.adsl.alicedsl.de)
[16:28:20] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[16:28:21] *** Quits: jacket (Mibbit@moz-D01C4D2C.adsl.alicedsl.de) (Quit: http://www.mibbit.com ajax IRC Client)
[16:29:17] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:29:50] <erickt_> elly: reping
[16:30:22] <erickt_> elly: I just wanted to see if you were okay if I added the rust dual license to rustpcre
[16:30:32] *** Joins: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net)
[16:31:47] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[16:32:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[16:34:04] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:34:29] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[16:35:56] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:36:51] *** Joins: StarLight (StarLight@moz-9E22BD9B.pppoe.avangarddsl.ru)
[16:36:53] *** Quits: reillyeon (reillyeon@moz-57CAC1BF.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:37:30] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[16:37:58] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:39:44] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[16:43:35] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[16:49:11] *** Quits: victorporof (victorporo@87FFE63B.AB163232.79933D60.IP) (Quit: victorporof)
[16:52:33] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:53:32] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[16:54:25] <jeaye> cmr: Woah, nice.
[16:54:36] <jeaye> I was looking for a way to do that.
[16:54:40] <jeaye> { } didn't cut it.
[16:54:51] <cmr> jeaye: what benefit do you see of that syntax?
[16:54:56] <cmr> I want to remove it.
[16:55:13] <jeaye> Alls grouping of like-usages.
[16:55:24] <cmr> Although I'd love to see use std::{vec, rt::io::net};
[16:55:33] <cmr> True glob matches :p
[16:55:33] <jeaye> As would I. ^
[16:56:02] <jeaye> Alls -> Allows
[16:56:22] <cmr> Well, so does `use std::io; use std::rt;`, although it's not as pretty.
[16:56:38] <jeaye> cmr: Logical grouping with usings is a very good thing. That comma syntax is a pretty nice way of doing it.
[16:56:40] <jeaye> Aye
[16:56:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:56:55] *** ChanServ sets mode: +ao dherman dherman
[16:57:15] <jeaye> cmr: Imagine they're crate-level;
[16:57:27] <jeaye> `use foo, bar, spam, baz;`
[16:57:37] <cmr> Mm, yeah, that does look nice.
[16:57:38] <jeaye> `use foo; use bar; use spam; use baz;`
[16:58:07] <jeaye> However, since I'm such a big fan of consistency...
[16:58:14] <jeaye> `use {foo, bar, spam, baz};`
[16:58:27] <rhodesd> like go ^
[16:58:28] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[16:59:49] *** Quits: schubidu25 (schubidu25@moz-FAE37203.superkabel.de) (Ping timeout)
[17:00:02] *** Quits: brutor (Mibbit@23345E30.9C4F96D9.33795F4D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:01:57] <elly> erickt_: what's the rust dual license? I don't think I actually own the copyright on rustpcre; I think google might (?)
[17:02:12] <cmr> elly: MIT/ASL2
[17:02:20] <elly> what was the old one?
[17:03:02] <bstrie> elly: iirc the old one was just mit
[17:03:09] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[17:03:28] <bstrie> if you're referring the rustc's prior license
[17:03:32] <bstrie> *to
[17:03:49] <elly> hrm, okay
[17:04:11] <elly> erickt_: I'll need to ask legal; can I get you to email me at ellyjones@google.com with the details and I'll forward as appropriate?
[17:04:17] <elly> (I think it should be okay, but IANAL)
[17:04:23] * kmc waves to elly
[17:04:28] <elly> hey kmc
[17:04:45] <elly> rustpcre is presently only licensed under apache2
[17:06:52] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[17:07:49] *** Joins: six600110 (six600110@moz-3C5CCD60.neo.res.rr.com)
[17:08:31] <cmr> elly: whoa, Elian looks really cool
[17:08:36] *** Joins: schubidu25 (schubidu25@moz-FAE37203.superkabel.de)
[17:08:40] <bstrie> elian?
[17:08:47] <cmr> http://www.omniglot.com/writing/elianscript.htm
[17:08:50] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:09:04] <elly> it is neat - what causes you to mention it?
[17:09:07] *** Quits: skade (skade@moz-A3222CF7.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:09:15] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:09:18] <cmr> Was looking through your G+ page
[17:09:45] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:09:59] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:10:54] <elly> ahh
[17:13:08] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[17:13:55] <bstrie> elian looks like it could be an alphabet from an elder scrolls game
[17:14:43] <jeaye> <3 TES
[17:16:05] * jeaye stops q3 development and makes a fantasy RPG.
[17:16:11] <cmr> heh
[17:16:33] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[17:17:27] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:18:15] * jld rebases across format!/fmt! changes.
[17:18:54] <erickt_> elly: will do
[17:20:00] <jeaye> bjz: ping :(
[17:20:11] <bjz> jeaye: pong :(
[17:20:47] <bjz> jeaye: does glfw not compile for you?
[17:21:07] <jeaye> bjz: I'm getting that error you mentioned. void llvm::StoreInst::AssertOK(): Assertion `getOperand(0)->getType() == cast<PointerType>(getOperand(1)->getType())->getElementType() && "Ptr must be a pointer to Val type!"' failed.
[17:21:20] <bjz> jeaye: https://github.com/mozilla/rust/issues/9692
[17:21:37] <jeaye> commenting
[17:22:01] <bjz> jeaye: couldn't get hold of nmatsakis yesterday, but maybe today we might have luck
[17:22:11] *** flaper87 is now known as flaper87|afk
[17:26:00] <erickt_> elly: email is sent, thanks for looking into it
[17:26:06] <elly> cool, no problem :)
[17:27:14] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:27:14] *** Quits: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net) (Connection reset by peer)
[17:27:32] *** Joins: skade (skade@moz-A3222CF7.dip0.t-ipconnect.de)
[17:27:44] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[17:27:46] *** Joins: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net)
[17:28:38] *** Joins: engla (engla@moz-9B69FE7C.selucle.dyn.perspektivbredband.net)
[17:29:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:30:27] *** jorendorff_away is now known as jorendorff
[17:31:07] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[17:31:15] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[17:36:44] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:38:49] *** Joins: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de)
[17:39:20] *** Joins: bent (chatzilla@moz-AA48ACA0.public.wayport.net)
[17:39:23] *** jorendorff is now known as jorendorff_away
[17:39:34] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:39:34] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:40:01] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[17:45:38] *** Joins: jensnock_ (jensnocker@moz-C5F27039.cust.bredband2.com)
[17:46:10] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[17:47:33] *** Joins: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP)
[17:47:53] *** Joins: spott (spott@68DBF504.E4074F7.784188F5.IP)
[17:48:48] *** jorendorff_away is now known as jorendorff
[17:49:56] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[17:50:09] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[17:50:14] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[17:50:55] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:51:18] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:53:14] *** Quits: nkoep (nik@moz-FAF06338.pool.mediaways.net) (Ping timeout)
[17:55:37] *** Quits: spott (spott@68DBF504.E4074F7.784188F5.IP) (Client exited)
[17:56:15] *** Joins: spott (spott@68DBF504.E4074F7.784188F5.IP)
[17:56:17] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:57:06] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[17:57:59] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:58:03] *** Quits: jensnock_ (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[17:58:30] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[17:58:43] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[17:58:44] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:59:05] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[17:59:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:00:12] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[18:00:19] *** jorendorff is now known as jorendorff_away
[18:00:37] *** Quits: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:01:02] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[18:02:35] *** Quits: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de) (Input/output error)
[18:02:37] *** Joins: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP)
[18:03:19] *** Joins: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP)
[18:04:31] *** Joins: lmandel (lmandel@3496663E.C1499D0.396E4C6D.IP)
[18:05:21] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[18:05:23] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[18:05:32] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[18:06:37] *** jorendorff_away is now known as jorendorff
[18:07:13] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:08:16] *** Joins: nkoep (nik@moz-679C7B7E.vpn.rwth-aachen.de)
[18:08:39] *** Quits: yonran (yonran@moz-962F33EB.acuitus.com) (Quit: Leaving)
[18:10:36] *** Joins: vodik (simon@moz-85DD0C89.net.uwaterloo.ca)
[18:13:35] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[18:13:46] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[18:15:03] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:16:30] *** Quits: spott (spott@68DBF504.E4074F7.784188F5.IP) (Client exited)
[18:16:40] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:17:12] *** Joins: spott (spott@68DBF504.E4074F7.784188F5.IP)
[18:17:21] *** Quits: spott (spott@68DBF504.E4074F7.784188F5.IP) (Client exited)
[18:19:35] *** Quits: bent (chatzilla@moz-AA48ACA0.public.wayport.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[18:19:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:20:55] *** Quits: six600110 (six600110@moz-3C5CCD60.neo.res.rr.com) (Quit: Ex-Chat)
[18:21:52] *** Quits: lmandel (lmandel@3496663E.C1499D0.396E4C6D.IP) (Quit: lmandel)
[18:22:09] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[18:23:22] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[18:25:22] *** Quits: vodik (simon@moz-85DD0C89.net.uwaterloo.ca) (Ping timeout)
[18:25:24] <tikue_> how do you make a static array of lambdas?
[18:26:12] <tikue_> i tried static fns: &'static(&str) -> str but I get:
[18:26:14] <tikue_> expected `[&'static fn<no-bounds>(&str) -> &'static str, .. 8]` but found `[&fn<no-bounds>(<V1>) -> &'static str, .. 8]` (expected concrete lifetime, but found bound lifetime parameter &)
[18:27:27] <cmr> Does &'static fn exist?
[18:27:33] <kmc> you might want extern "Rust" fn instead
[18:27:42] <cmr> I'm pretty sure it would be a function with no environment
[18:27:46] <cmr> Which is extern fn yeah
[18:27:47] <engla> cmr: yes, any closure without captures is a &'static fn
[18:28:07] <tikue_> hmm i'll try extern "Rust"
[18:28:12] <kmc> cmr: really? I thought the ABI defaults to "C"
[18:28:39] <tikue_> the thing is i don't want to name them
[18:28:46] <tikue_> ir eally just want to use lambda syntax
[18:28:46] <cmr> kmc: I thought it defaulted to "Rust" but I've seen so many different usages of it that I don't even know anymore.
[18:29:09] <kmc> well http://static.rust-lang.org/doc/master/rust.html#extern-functions says 'the ABI defaults to "C"' but it's a different context and it might be out of date, anyway
[18:29:24] <engla> I wonder if anyone knows if &'static fn() always has NULL environment pointer
[18:29:34] <cmr> rusti: extern fn foo() -> int { 52 } foo
[18:29:36] -rusti- fn() -> int
[18:29:42] <cmr> rusti: extern "C" fn foo() -> int { 52 } foo
[18:29:43] -rusti- fn() -> int
[18:29:49] <cmr> Ok, pretty printer is useless :p
[18:29:53] <tikue_> oo
[18:29:56] <tikue_> interesting
[18:30:01] <engla> kmc: I think it differs for the type. In the type extern fn, the default is "Rust"
[18:30:03] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131001024718])
[18:30:14] <engla> kmc: when defining an extern function, I think abi defaults to "C" possibly
[18:30:19] <tikue_> so is there no way to have a static list of &fns?
[18:31:01] <engla> rusti: extern fn f(_: *i8) -> int { 1 }; let () = f;
[18:31:01] -rusti- <anon>:7:47: 7:49 error: mismatched types: expected `extern "C" extern fn(*i8) -> int` but found `()` (expected extern fn but found ())
[18:31:01] -rusti- <anon>:7          extern fn f(_: *i8) -> int { 1 }; let () = f;
[18:31:03] -rusti-                                                         ^~
[18:31:05] -rusti- error: aborting due to previous error
[18:31:07] -rusti- application terminated with error code 101
[18:31:14] <cmr> tikue_: I don't think so.
[18:31:19] <engla> rusti: let x: extern fn(); let () = x;
[18:31:20] -rusti- <anon>:7:33: 7:35 error: mismatched types: expected `extern "Rust" fn()` but found `()` (expected extern fn but found ())
[18:31:20] <tikue_> damn
[18:31:21] -rusti- <anon>:7          let x: extern fn(); let () = x;
[18:31:23] -rusti-                                           ^~
[18:31:25] -rusti- error: aborting due to previous error
[18:31:27] -rusti- application terminated with error code 101
[18:31:31] <engla> so 'exteren fn()' as a type is extern "Rust" fn().
[18:31:45] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[18:31:56] <kmc> engla: ah, sigh
[18:35:22] *** jorendorff is now known as jorendorff_away
[18:36:55] <cmr> engla: that's some weird semantics.
[18:40:31] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:41:49] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:42:18] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[18:42:27] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[18:47:00] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Connection reset by peer)
[18:51:28] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[18:51:29] <myname> sw17ch: about that twitter thing: you should've argued that you don't need complete ownersip for linked lists, you just need something of a known size and lifetime - a burrowed pointer should work perfectly fine
[18:52:23] <bheylin_> need some help with a borrowed pointer: https://gist.github.com/brianheylin/6815006
[18:53:06] <cmr> bheylin_: known restriction, find_mut borrows `hash` as mutable, and then you try to borrow it as mutable again when calling `insert`.
[18:53:12] <cmr> It has the "second borrow" backwards.
[18:53:21] <cmr> nmatsakis: Do you plan on making that a bit more flexible?
[18:54:32] <bheylin_> cmr: I tried side stepping the overlapping borrows with a scope
[18:55:05] <bheylin_> cmr: Is there a way to coax the borrow checker?
[18:55:38] <cmr> bheylin_: not sure. THere's find_or_insert, which does what you want I think.
[18:56:13] <SiegeLord> let mut not_found = false; might be another solution
[18:56:41] <cmr> Ah, yeah, separating the actions entirely using external state.
[18:57:10] *** Joins: slackito (slackito@moz-7779E4A6.dyn.user.ono.com)
[18:57:48] <bheylin_> cmr: SiegeLord: I'll give it a whirl
[18:58:08] <bheylin_> cmr:  find_or_insert exists on HashMap but not TreeMap
[18:58:49] <cmr> bheylin_: Ah, weird.
[18:59:00] *** Joins: tdc (santegoeds@moz-ADD1F5DF.range86-135.btcentralplus.com)
[18:59:26] *** zz_kimundi is now known as kimundi
[19:02:43] *** Quits: JanC_ (janc@moz-14685694.dsl.scarlet.be) (Ping timeout)
[19:03:42] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[19:03:55] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[19:04:53] *** Joins: JanC (janc@moz-14685694.dsl.scarlet.be)
[19:05:07] *** Joins: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net)
[19:06:21] *** Quits: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca) (Quit: canhtak)
[19:06:32] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:08:57] <bheylin_> cmr: SiegeLord: closure solved it - https://gist.github.com/brianheylin/6815289
[19:09:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[19:09:18] *** Joins: fabiok (fabiok@17534B3C.6D593977.3E66DFEE.IP)
[19:09:42] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[19:09:49] <bstrie> just wanted to say
[19:09:51] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[19:09:53] <bstrie> that rust has completely ruined me
[19:10:02] <cmr> bstrie: trying to write code in another language? :)
[19:10:04] *** kimundi is now known as zz_kimundi
[19:10:05] <bstrie> I'm pining for a result type here
[19:10:11] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:10:14] <bstrie> algebraic union
[19:10:16] <bstrie> whatever it's called
[19:10:40] <bstrie> instead I have to settle for hashtables
[19:10:51] <cmr> Yeah. I have to say, after being exposed to them and using them a bunch, I can't really imagine writing robust software without them :|
[19:10:53] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:11:00] <cmr> It's nice when the language works for you.
[19:11:53] <bstrie> also there are sooooooo many objects here that don't need to be objects
[19:11:54] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[19:12:02] <bstrie> their only methods are getters and setters
[19:12:16] <bstrie> I actually wrote a function to unwrap them into hashtables
[19:12:18] <bstrie> out of spite
[19:12:36] <bstrie> just gimme the data god damn it!!
[19:13:16] <bstrie> if rust ever adds automatic getter/setter creation on structs, I'm forking the language
[19:13:32] <cmr> gag
[19:13:33] <cmr> *hah
[19:13:38] <cmr> freudian slip perhaps?
[19:13:46] <bstrie> yes quite apropos
[19:15:27] <bstrie> this is all in php mind you
[19:15:58] <bstrie> so maybe it does have algebraic bladablah
[19:16:06] <bstrie> it seems to have everything else
[19:16:29] <bstrie> no, that's not fair
[19:16:33] <cmr> algebraic data types.
[19:16:35] <cmr> tagged unions
[19:16:37] <bstrie> it lacks so many useful things
[19:16:53] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[19:17:24] <bstrie> also, every time I do something like `foo()[bar]` my IDE tells me it's a syntax error
[19:17:34] <bstrie> even though it clearly works
[19:17:43] <cmr> PHP doesn't have syntax.
[19:17:46] *** Quits: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:17:48] <bstrie> anyway
[19:17:53] <cmr> :P
[19:18:07] *** Joins: sanxiyn (tinuviel@AE8B10D7.A92E374.57C4C441.IP)
[19:18:17] <bstrie> I appreciate rust more and more every day
[19:18:33] <bstrie> but maybe that's only because it's too young to be incoherent :)
[19:18:34] <doomlord_> i was wondering if a trait of getters/setters for a certain struct layout might have utility, but this thought also made me feel unclean
[19:19:03] <cmr> doomlord_: it certainly has utility if you want to genericize over state
[19:20:32] <doomlord_> maybe it would be useful for default implementations .
[19:21:00] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[19:22:18] *** Quits: schubidu25 (schubidu25@moz-FAE37203.superkabel.de) (Client exited)
[19:23:22] <luisbg> is there a reason why in src/libextra/time.rs you have two functions that just call a very similar function, which only use is to be called by them?
[19:23:30] <luisbg> strftime() just calls do_strftime
[19:23:38] <luisbg> strptime() just calls do_strptime()
[19:23:52] <luisbg> and the do_functions are only called by those
[19:24:12] <luisbg> the parameters and return types are exactly the same in both levels, so I am wondering... why the need for that second level?
[19:24:39] <cmr> luisbg: it might be ancient code leftover from typestate?
[19:24:55] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:25:10] <luisbg> cmr, would it be worth it for me to offer a patch where the second layer is removed?
[19:25:36] <luisbg> or should I open an issue about this, asking if it would be accepted by the owners?
[19:26:02] <cmr> Just open a PR, no reason for an extra issue if you're it's small and you can just do itg.
[19:26:16] <luisbg> cmr, it is going to take 5 minutes :P
[19:26:30] <luisbg> ok, will offer a PR and then flag someone who will know who can answer this
[19:26:35] <luisbg> cmr, thanks! and o'hai hello
[19:26:38] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:27:20] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:27:36] <sw17ch> myname: it does seem there's either some confusion, or just a design pattern that rust isn't necessarily amenable to. if they stick their head in here, hopefully some one who knows rust better than me can help.
[19:27:41] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[19:28:00] *** Joins: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net)
[19:28:29] <myname> sw17ch: well, the basic idea is that each struct should have a known size on the stack or should live on the heap
[19:28:49] <sw17ch> myname: right. i'm pretty sure they just want to use borrowed pointers.
[19:28:50] <myname> sw17ch: recursive data types don't have a known size, so they have to live on the heap
[19:28:56] <myname> yes
[19:29:02] <sw17ch> myname: my assumption is that they're familiar with borrowed pointers, but if not, that's probably the hangup
[19:29:10] <myname> & won't work because of livetime issues i guess
[19:29:12] <luisbg> cmr, patch made. now just rebuilding :)
[19:29:42] <sw17ch> myname: right. i think the issue they were running into was concepts of ownership and wanting to share data. i'm also wondering if they are trying to make a graph.
[19:30:07] <sw17ch> Speaking of graphs, are they difficult in Rust? I hadn't considered that case. I know they are peculiarly hard to deal with in Haskell -- everything becomes a Map.
[19:30:33] <luisbg> sw17ch, a graph... like an image representing data?
[19:30:38] <cmr> sw17ch: easy if you use @ or @mut. strcat advocates that adjacency lists are the sanest way to have efficient graphs.
[19:30:45] <luisbg> or a mathematical graph
[19:30:48] <sw17ch> luisbg, cmr: mathematical
[19:30:56] <luisbg> sw17ch, ahhh cool cool. cmr knows
[19:31:14] <cmr> sw17ch: the graph structure that rustc uses uses adjacency lists.
[19:31:25] <sw17ch> cmr: Adjacency lists are how graphs are encoded in Haskell. I'm familiar with that pattern, and I agree.
[19:31:45] * sw17ch apologizes for the Haskell yabbering
[19:32:36] *** Quits: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:34:36] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[19:37:46] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[19:38:52] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Ping timeout)
[19:39:30] <dandy> rusti: let a = 1i.add(2i); let b = 3i + 4i; (a,b)
[19:39:30] -rusti- <anon>:7:24: 7:26 error: mismatched types: expected `&int` but found `int` (expected &-ptr but found int)
[19:39:30] -rusti- <anon>:7          let a = 1i.add(2i); let b = 3i + 4i; (a,b)
[19:39:31] -rusti-                                  ^~
[19:39:31] -rusti- error: aborting due to previous error
[19:39:31] -rusti- application terminated with error code 101
[19:40:55] <dandy> Is there any difference between these two: let a = 1i.add(&2i); let b = 3i + 4i;
[19:41:22] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[19:41:48] <steveklabnik> dandy: the + ends up calling .add
[19:41:55] <myname> 3 should be quite different than 7
[19:41:57] <steveklabnik> i actually JUST submitted a pr with some docs on this
[19:41:59] <dandy> 100% that simple?
[19:42:02] <steveklabnik> https://github.com/mozilla/rust/pull/9522
[19:42:12] <dandy> because macros do not like "+" as a parameter
[19:42:24] <steveklabnik> oh well i mean it's sugar
[19:42:37] <steveklabnik> so i dont know how it interacts with macros
[19:42:41] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[19:43:04] <steveklabnik> i do know that + is usable on things that have the Add trait, which requires you to implement the add method
[19:43:14] <dandy> right
[19:43:20] <pauls> `+` shouldn't interact with macros in any way, except that it can't be used as a sequence separator (for somewhat silly syntax reasons)
[19:43:59] <dandy> I'm trying to implement a bunch of the traits from ops.rs using macros, but I can't pass + in so I was wondering if using add(& instead of + would matter, sounds like no
[19:44:07] <sw17ch> What's actually happening behind the scenes when writing something like `&2i`?
[19:44:14] <sw17ch> Is that allocation a box for a 2, then passing the reference to it?
[19:44:26] <dandy> I hope its stack
[19:44:26] <sw17ch> Well, a flat box.
[19:44:28] <cmr> sw17ch: No, & isn't a box.
[19:44:34] <cmr> It's just a pointer to any data.
[19:44:35] <sw17ch> A pallet :)
[19:44:42] <sw17ch> Right, sorry.
[19:44:59] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[19:45:00] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[19:46:26] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[19:46:36] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[19:46:47] <dandy> are there any non-intuitive things with respect to having a macro call a macro? I am not getting errors (with macros) but it does not seem to work right.
[19:47:23] <cmr> dandy: no. You can use rustc --pretty expanded to see what macros expand to.
[19:47:40] <dandy> awesome!
[19:47:41] *** jorendorff_away is now known as jorendorff
[19:48:05] <bstrie> google php question -> find question on SO -> question answered by Seldaek. it's a small web after all
[19:48:18] <steveklabnik> heh
[19:48:50] <dandy> weird, if I call the macro outside it expands the macro, if I call it inside it continues like everything is OK and ignores it
[19:49:36] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:50:30] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[19:51:11] <dandy> This is just ignored: https://github.com/aarondandy/vertesaur-rust/blob/master/src/vertesaur/vector.rs#L39
[19:51:16] <dandy> Any ideas?
[19:51:21] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:51:28] <cmr> Macros can't expand to more than one item.
[19:51:43] <dandy> I don't understand
[19:51:57] <cmr> You can't have  macro expand to a struct and two impls.
[19:52:06] <cmr> Only one thing at a time.
[19:52:12] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[19:52:15] <pauls> Though someone just fixed the bug where it silently errors out when that happens.
[19:52:22] <dandy> so its not just text replacment?
[19:52:31] <cmr> You need to have the macro create a module and put all the items in that module.
[19:52:40] <cmr> dandy: No, our macros are much, much more sophisticated than that
[19:52:52] <cmr> They're nothing like the C preprocessor.
[19:52:53] <dandy> cmr, is there a way I can have it use the current module?
[19:52:58] <cmr> dandy: no
[19:53:04] <pauls> dandy: macros generate AST directly, so it's safer than the C preprocessor.
[19:53:49] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[19:54:01] <pauls> Also, names are (partially, so far) hygienic.
[19:54:15] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[19:54:57] *** Joins: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de)
[19:56:39] <fabiok> I wonder from what kind of programming background people are being attracted to Rust..   c/c++, ruby , js,  games? ML?  i mean..  for what problem domain people are trying to use Rust, and if are they succeding, and how does it feel against its own background in those technologies?
[19:56:51] <dandy> cmr, if you understand the intent of what I am tryin to do, is there a way to do this?
[19:57:18] <dandy> is there an AST node I can create that is just like a block?
[19:57:21] <cmr> dandy: see libstd/num/int_macros.rs for an example
[19:57:25] <dandy> {} does not seem to dothe trick
[19:57:27] <cmr> no, you need to generate a module.
[19:57:27] <steveklabnik> fabiok: there's a lot of people from c++ and ml backgrounds
[19:57:31] <steveklabnik> a few of us from ruby and python
[19:57:37] <cmr> fabiok: I'm from python
[19:57:49] <cmr> (and js, though I try to forget that)
[19:57:52] <steveklabnik> i literally have a ruby tattoo
[19:57:53] <bstrie> fabiok: I'm attracted to rust because I've always wanted to learn a systems programming language, but was too afraid of C and C++
[19:57:54] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:58:45] <nejucomo> fabiok: I'm from mostly python, some C, and haskell.  (The latter being mainly a hobby interest.)  I'm interested in rust for writing secure/safe/efficient networking components.
[19:59:00] <dandy> cmr, // FIXME(#4375): this shouldn't have to be a nested module named 'generated'
[19:59:09] <cmr> dandy: Yes, it's a known limitation.
[19:59:20] <dandy> cool!
[19:59:58] <dandy> is there a way to re expose ...::generated  under the current module?
[20:00:30] <cmr> dandy: the macro expands into a module, wherever the macro is invoked.
[20:00:35] <dandy> right
[20:00:36] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Ping timeout)
[20:00:47] <cmr> so if you say mod foo { bar!() }
[20:00:48] <dandy> so after can I do like pub mod vector = vector::generated?
[20:00:51] <cmr> and bar makes a mod baz
[20:00:53] <cmr> it's foo::baz
[20:00:56] <cmr> no
[20:00:59] <fabiok> so it looks its getting a pretty big crowd.. from the smooth Ruby to more hard/low-level/efficient C ?   
[20:01:07] <sw17ch> fabiok: c, embedded microprocessors, haskell, ruby
[20:01:12] <dandy> im from .NET, all kinds here
[20:01:42] <sw17ch> fabiok: for me, it's achieved something nothing else does: independence from a garbage collector while still achieving excellent semantics
[20:01:50] <cmr> dandy: you can say pub use vector = vector::generated though
[20:02:03] <dandy> cmr, should be good enough for me
[20:02:07] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[20:02:12] <dandy> cmr, its whats on the outside that counts!
[20:02:30] <fabiok> never saw any technology till now which could do that..  i tought Go was that language at first but with time, i smash my dreams on the reality wall :)
[20:02:55] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: anri)
[20:03:39] <fabiok> sw17ch: are you programming microprocessors with the GC on? or manually managing the heap?
[20:03:41] *** Quits: tdc (santegoeds@moz-ADD1F5DF.range86-135.btcentralplus.com) (Quit: Leaving)
[20:03:50] <dandy> fabiok, could be timing too, I'm also looking for new toys to play with
[20:04:03] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:04:16] <sw17ch> fabiok: i've not yet successful run Rust on a micro. it's goal. but, the GC isn't needed in Rust, so it becomes an option where not many other things are. (at least, for precise real-time systems)
[20:04:38] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:04:40] <dandy> somebody had it compiled on a raspberry pi?
[20:05:13] <sw17ch> dandy: i saw something along those lines. i'd also seen a port to the STM32F4Discovery -- 192K of RAM, 1MB of ROM.
[20:05:19] <fabiok> steveklabnik: i saw your boot-to-rust code on github.. pretty cool hacker stuff
[20:05:29] <steveklabnik> i just linked it it, it wasn't mine :)
[20:05:34] <steveklabnik> i _am_ excited about the proposition
[20:05:55] * sw17ch has a STM32F4 dev kit at home and only needs time to play with it
[20:06:14] <sw17ch> That, and a substantial amount of work to get up to speed on LLVM and cross compilation.
[20:07:33] <fabiok> So.. if its pleasant from the JS crowd to the C.. look it can be very powerfull gereric language..  someone did try to use it in problem domain as the ones proposed by Julia and R? not just ML but Data Mining and Big data?
[20:10:01] <fabiok> Did anybody had a look into the Pnacl LLVM branch (it looks that it got a different IR) and see whats needed to plug a LLVM based lang as Rust into it?
[20:11:26] <steveklabnik> it's a bit early for stuff like that yet, i'd think
[20:11:40] <steveklabnik> ie, the people doing that work want a language that's not under such heavy development
[20:11:43] <steveklabnik> maybe a stable release ;)
[20:11:47] <steveklabnik> EVENTUALLY i think so, yeah
[20:13:55] <fabiok> Im asking that because im forking chrome for a platform a have in mind..  so its not because i want to use it in the current chrome incarnation..  but im was kind of searching for something (besides C++) that could be used to create those sort of applications
[20:14:05] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[20:14:12] *** zz_kimundi is now known as kimundi
[20:15:28] <fabiok> im full of work right now.. but once im ready to look into it.. i will hack some of the rust runtime source code.. and pnacl to see how it can be glued.. but was just wandering if anybody already know something about that
[20:16:37] <erickt_> fabiok: you could always help with rust targetting javascript via emscriptem :)
[20:17:48] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:18:06] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:18:26] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:18:54] <fabiok> erickt_ .. actually im looking to the opposite direction.. actually the thing im working on wich is based on the chrome source.. has little to do with a web browser per-se.. so it wont just download code from the internet.. so its a different game from the one the classic browser are playing
[20:19:20] <kmc> fabiok: Rust still makes you think about where everything is allocated, which is a burden I don't like for run of the mill applications code
[20:20:01] <kmc> garbage collection is great for programmer productivity, when you can afford it
[20:20:13] <kmc> to me Rust is interesting because there are so few good languages for when you *can't* afford GC everywhere
[20:21:39] <erickt_> fabiok: gotcha. It would be nifty if we were able to target pnacl, although we may run into some political issues landing a pnacl patch
[20:21:51] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:22:05] <SiegeLord> Rust will get a proper GC at some point... so it'll be an option when you want it
[20:22:13] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[20:22:23] <fabiok> the javascript will be contained just on the renderer process to handle DOM and the classic HTML5 stuff..  for application stuff it will probably be more AOT compiled stuff .. i konw people are afraid of running native code in the browser.. and it makes sense.. but with the mechanics im planning here into this platform.. it will not be a issue as in browser.. 
[20:22:31] <pepper_chico> SiegeLord, doesn't it have a proper one yet?
[20:22:34] <kmc> SiegeLord: yeah, although it's still the case that assuming GC everywhere produces a simpler language design
[20:22:39] <kmc> pepper_chico: no, @-boxes are just reference counted
[20:22:48] <kmc> and cycles are destroyed only when a task exits
[20:23:58] <pepper_chico> kmc, oh ok didn't know that, but @ are supposed to be implemented with GC futurelly, optionally, in fact, having the option for switching between ref-counts and GC would be interesting
[20:24:01] <fabiok> also, i have a possibillity to have a javascript based app but .. dont know if i will release it right from the start.. 
[20:24:01] <sw17ch> It would be neat if Rust's garbage collector could eventually be an interface that gets passed to the RT.
[20:24:09] <sw17ch> So I could change its behavior with my own GC library.
[20:24:14] <steveklabnik> up
[20:24:17] <steveklabnik> that's been discussed
[20:24:18] <steveklabnik> *yup
[20:24:18] <kmc> pepper_chico: yeah; also we have the library types Rc<T> and Arc<T> for reference counting
[20:24:28] <kmc> (the latter can be sent between tasks as well, which @ can't)
[20:24:47] <kmc> @ has kinda weird special-case semantics and there is some desire to replace it with a library type Gc<T> which would be more in line with the existing Rc
[20:24:56] <pepper_chico> ok cool
[20:25:19] <kmc> sw17ch: it seems likely, since everything provided by the RTS right now is #[lang="..."] items, which you can provide yourself if you have #[no_std];
[20:25:39] <fabiok> kmc: yeah, you are right.. thats why im impressed that Rust has pleased the Javascript, Ruby and python crowd..  
[20:25:50] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[20:25:59] *** Joins: yeri (yeri@moz-8E825FA3.mycingular.net)
[20:26:02] <myname> and haskell?
[20:26:04] <kmc> fabiok: I don't see people as defined by their programming language that way
[20:26:10] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:26:19] <sw17ch> kmc: is that sort of thing documented anywhere yet? is the best way to learn about it to just dig through the rust sources right now?
[20:26:25] <pepper_chico> yeah, I've read a blog post about the getting rid of it
[20:26:28] <kmc> sw17ch: the best way is to ask here, I think ;)
[20:26:34] <sw17ch> :)
[20:26:49] <sw17ch> "I'd like to replace the task scheduler in my program. How can I do that?"
[20:26:50] <sw17ch> :)
[20:26:51] *** Joins: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP)
[20:26:53] <pepper_chico> I'm just toying around and find move semantics with compile time race detection already cool compared with c++ lambdas and unique_ptr's
[20:27:00] <fabiok> but java create a spoiled generation whose dont need to think where things should be allocated, and  alienated from resource management.. wich i think its a little bit sad
[20:27:12] <kmc> fabiok: it's great for most things...
[20:27:28] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[20:27:40] <kmc> it's great that some of the abstractions built over the past half-century are actually useful
[20:27:49] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:29:19] <steveklabnik> yup
[20:29:27] <steveklabnik> gc is super great until it messes you up
[20:29:34] <kmc> that triumph gets lost in the "kids these days" gripes sometimes :)
[20:29:34] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[20:29:36] <steveklabnik> i am so productive in ruby it's silly
[20:30:37] <kmc> fabiok: I use Python extensively but I don't identify with its sense of programming language aesthetics, so I wouldn't consider myself an example of Rust appealing to the "Python crowd"... however I do identify with Haskell aesthetics and find Rust acceptable on that account :)
[20:30:48] <kmc> so I think it's more subtle than just looking at what languages Rust people have used in the past
[20:30:55] <steveklabnik> agreed
[20:30:57] <rossm> I think that is definitely an overly-negative sentiment about gc
[20:31:02] <fabiok> kmc: I agree with you.. computer technology is a tool as a fork or a knife..  you use it, but oyu are not it.. it just extends you.. :) .. but it certain ways it helps to redefine you.. (like people using tools to eat to have disgust to touch their foods with hands)
[20:31:05] <rossm> or I guess about people.
[20:33:17] <kmc> I guess I'm also in the "C++ crowd" because even though I think C++ is a terrible language, it's terrible in almost the opposite way of most terrible languages, and it's completely fascinating and unique
[20:33:43] <kmc> and Rust incorporates some of the coolest parts of C++ into a good language :)
[20:34:24] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Connection reset by peer)
[20:34:27] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[20:34:36] <fabiok> kmc: so you are more like a language hacker... you experiment everywhere else.. but there are some things you indentify yourself most..  
[20:35:24] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[20:36:26] <fabiok> i dont think C++ is that terrible, its just overspecified..  to do what it proposed to do, and being compatible with C at the same time its pretty hard.. 
[20:36:57] <cmr> *over* specified?
[20:37:32] <steveklabnik> hahahha
[20:37:55] <kmc> yeah and it's not even compatible with C
[20:38:21] <kmc> Rust's approach is much better imo... don't try to copy every C syntax wart, just define a subset of datastructures and functions which map into C
[20:38:27] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[20:39:12] <pepper_chico> clever, no need to inherent garbage and then deal with it forever
[20:39:35] <sw17ch> Rust did a copy-compact GC on C++
[20:39:40] <kmc> lol
[20:40:42] <engla> did you see the harsh Edward C++-hands blog?
[20:40:51] <fabiok> yeah.. by using FFI, it doesnt need to.. im glad it was not the same approach as Go with  CGo and java .. treating C as a wild beast that must be contained by shim's and facades :)
[20:40:58] <sw17ch> engla, yes! Great post.
[20:41:14] <engla> for any lurkers, http://bartoszmilewski.com/2013/09/19/edward-chands/
[20:41:17] <sw17ch> engla, there's some very brief discussion of Rust in the comments too.
[20:41:21] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[20:41:26] <rossm> is that the one that's like "c++ is doomed. functional programming is the future" ?
[20:41:30] <steveklabnik> sw17ch: hahaha that's funny
[20:41:35] <rossm> I think I read that a few weeks ago
[20:41:37] <pepper_chico> rossm, yes
[20:41:39] <sw17ch> http://bartoszmilewski.com/2013/09/19/edward-chands/#comment-4032
[20:41:43] *** Joins: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP)
[20:41:43] *** ChanServ sets mode: +o jdm
[20:42:00] <sw17ch> It doesn't seem correct, but it's a mention.
[20:42:12] <sw17ch> steveklabnik: :)
[20:42:26] <cmr> It's not correct.
[20:42:28] <kmc> unfortunately it's hard to combine expressive functional programming and precise control over memory
[20:42:33] <pepper_chico> well, I think Haskell is the future somewhat radical, rust maybe yes
[20:43:02] <sw17ch> kmc: yes, i had this experience with haskell. it's possible, but not particularly efficient.
[20:43:10] <sw17ch> since Haskell gives zero visibility into how things are packaged.
[20:43:22] <fabiok> yeah, but Stroustrup have a pretty funny saying wich is: "There are two sort of languages,  the one everybody use and complain about, and the ones nobody use it"
[20:43:22] <sw17ch> well, not much practical visibility (at least the last time i looked at it)
[20:43:51] <kmc> yep, and it's lazy which means that even understanding asymptotically how much memory you're using is hard
[20:44:08] <sw17ch> kmc: i find that it's easier to profile it than to try and measure it statically.
[20:44:12] <kmc> sure
[20:44:20] <pepper_chico> stroustrup loves to produce quotes... they produce some effect..
[20:44:30] <sw17ch> (actually, that's how i try to do most things when it comes to measuring things-in-time-and-space)
[20:45:00] <kmc> it's ironic that Haskell tames effects in so many ways but laziness has the result of turning space consumption into a mysterious global side effect
[20:45:05] <steveklabnik> heh
[20:45:26] <fabiok> so.. yeah.. C++ its not right.. there are a lot of things to complain about it.. but its the one we got to do some things we cant do with other langs..  i think, its just now.. with langs like Rust and Go, that we can have good contenders to the sort of things we used to use C++ for
[20:45:37] <kmc> anyway Haskell is in a totally different ballpark from Rust and C++... very high level, GC everywhere, shared-memory concurrency
[20:45:55] <dandy> cmr, I got it work: https://github.com/aarondandy/vertesaur-rust/blob/e4b775370a3d4d26f2f83051514197a9429f8bb9/src/vertesaur/vector.rs#L33
[20:46:00] <dandy> feels bad though
[20:46:17] <kmc> fabiok: Go also has GC everywhere though; it's more like Java than like C++
[20:46:19] *** Joins: spott (spott@68DBF504.E4074F7.784188F5.IP)
[20:46:26] <kmc> simplified Java which doesn't support generics
[20:46:38] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[20:46:58] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[20:47:38] <steveklabnik> yup
[20:47:48] <steveklabnik> rust and go aren't competing
[20:47:50] <pepper_chico> even though I find programming language all good and nice, I find that, designers seems to not worry much about real mapping design to current hardware, and that's lame... it's like everyone expects an optimizer to figure vectorization (and what not the hardware can do) by itself.
[20:48:05] <fabiok> kmc: haha.. thats a way to see it.. yeah, Go need to get rid of their training wheels, if they want to be a propper system language
[20:48:24] <steveklabnik> i think that may be a bit too harsh
[20:48:26] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[20:48:31] <steveklabnik> go _is_ really, really nice to use
[20:48:45] <steveklabnik> and I think the 'systems' mischaracterization is just poor branding by advocates
[20:48:55] <steveklabnik> i think go accomplishes its goals pretty well
[20:49:00] <steveklabnik> its goals are just not my goals ;)
[20:49:18] <kmc> yeah
[20:49:34] *** jorendorff is now known as jorendorff_away
[20:49:43] <sw17ch> "its goals are just not my goals" <-- we could end every language discussion this way
[20:49:48] <steveklabnik> yup!
[20:49:50] <sw17ch> :D
[20:49:57] <kmc> Go is partially marketing to the "C is h4rdc0re" crowd, who would never accept Java ;)
[20:50:05] <kmc> tricking them into using a memory safe language is great harm reduction ;)
[20:50:12] <steveklabnik> ha!
[20:50:12] <fabiok> pepper_chico:  i think the same way as you do, thats a trend that started with java, and still its going on... its a shame..  too much abstractions layer, and people get alienated from the machine and how the things are going.. and its impossible to know how to optimize
[20:50:26] <kmc> fabiok: /that's the point of abstractions/
[20:50:30] <fabiok> abstractions? yes.. but thin layers.. 
[20:50:36] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[20:50:40] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[20:50:41] <steveklabnik> this is getting REALLY FAR AWAY from rust
[20:50:41] *** jorendorff_away is now known as jorendorff
[20:50:43] <steveklabnik> just saying ;)
[20:50:48] <pepper_chico> maybe language level advancements to map hardware features, or map then somewhat, to higher level expressions, would allow better use of the hardware. or VM's that abstract that wisely and make it easy for high level languages to use it
[20:51:41] *** jorendorff is now known as jorendorff_away
[20:52:02] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[20:52:27] <tikue_> rusti: let s: ~str = "hi bob mary jake bye".word_iter().collect(); s
[20:52:29] -rusti- pastebinned 8 lines of output: http://sprunge.us/GUdK
[20:52:38] <pepper_chico> we need to get easy access to the hardware power, because it's fu**ing powerful, and sub used
[20:53:09] <tikue_> anyone know what that error means?
[20:53:14] <kimundi> tikue_: Do to_owned_vec().concat() instead
[20:53:27] <dandy> As a windows user who likes compatibility, I don't want to get too close to the hardware
[20:53:34] <kimundi> It's more fficient even though it always creates an temporary vector
[20:53:48] *** Joins: jgilbert (jgilbert@moz-4C088FCE.hsd1.ca.comcast.net)
[20:53:50] <fabiok> steveklabnik: I think that theres a big crowd searching for a generic system language that can be modern without being nasty..  i think Rust shines here
[20:53:59] <steveklabnik> agreed!
[20:54:05] <kimundi> tikue_: Anyway, the error means that rustc doesn'T know how to
[20:54:06] <pepper_chico> and ultimately providing that no also for cpu, but gpus and other architectures
[20:54:06] <tikue_> kimundi, why doesn't collect work?
[20:54:08] <engla> tikue_: you can only collect an iterator of `char` into ~str. As it is implemented today
[20:54:08] <dandy> fabiok, yes
[20:54:14] <tikue_> ah I see
[20:54:20] <kimundi> collect a list of slices into a owned string
[20:54:27] <pepper_chico> s/no also/not only/
[20:54:37] <tikue_> ok that error makes sense now :O) still I think it'd be reasonable to collect &str into ~str as well
[20:54:39] <fabiok> dandy: you are right either.. the thing is.. abstractions must achieve a certain balance.. not too much, not too little.. either way are bad
[20:54:48] <engla> tikue_: I think I agree
[20:54:53] <dandy> fabiok, I'm good here
[20:54:57] <pepper_chico> http://www.hpcnotes.com/2013/08/i-often-use-this-slide-to-show-why-all.html
[20:55:16] <pepper_chico> fabiok, I concur that trend popularized with java
[20:55:29] <dandy> fabiok, the only performance issue I really had with C# even was not having auto vectorization
[20:55:36] <kimundi> tikue_: If you mean conactenatiing them... yes it makes sense. but the problem is collect can't figure out how big the resulting ~str should be, because the list of &str have all dynamic sizes
[20:56:17] <kimundi> tikue_: If it would just push them all to a new ~str, that would potentially allocate a lot of useless copies
[20:56:19] <tikue_> kimundi, I'm not sure I follow. What is the difference that allows concat to work but not collect?
[20:56:20] <engla> .to_owned_vec().concat() may be cheaper in allocations at the moment?
[20:56:20] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:56:21] <pepper_chico> initially they just cared for a basic virtual abstraction of cpu, and then, it just ends up like this, struggling to support other stuff
[20:56:42] *** jorendorff_away is now known as jorendorff
[20:56:48] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:56:51] <SiegeLord> So what other methods of concurrency aside from message passing does Rust support?
[20:56:58] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[20:57:06] <tikue_> kimundi, wouuldn't concat still be concating dynamic size &str's?
[20:57:21] <engla> SiegeLord: extra::arc's Arc types
[20:57:51] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:58:06] <erickt_> All: For the first official SF meetup I'm going to do another dinner out some time between 10/14 through 10/18. Does anyone have a preference on which day of the week to host the event?
[20:58:07] <kimundi> tikue_: It can calcualte the exact size beforehand and allocate the ~ſtr once by iterating twice over the vector
[20:58:30] <engla> ~ſtr is the Rust type for fraktur strings
[20:58:37] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:58:37] <myname> :D
[20:58:47] <myname> should be moved do std asap
[20:59:12] <tikue_> kimundi, ahh...yeah. that makes sense
[20:59:18] <fabiok> <pepper_chico>  by using  LLVM as a backend its pretty much covered even for GPU's, cause AMD, Intel and Nvidia are always working on LLVM to create its own backends to their gpus.. so i think any compiler out this of this show will get pretty severe damage in the future
[20:59:20] <kimundi> tikue_: Basically, with collect() you only get one &str lookahead to calulate the initial size for the ~str. If you have a ~[&str], then you can just sum their lengths together
[20:59:30] *** Quits: yeri (yeri@moz-8E825FA3.mycingular.net) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[20:59:38] <tikue_> kimundi, word iter would be indexable though right?
[20:59:41] *** Quits: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:59:58] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[21:00:15] <kimundi> tikue_: And IndexableIterator might be used as well for that, yeah. No idea if it's possible to make collect work with that though
[21:00:18] <fabiok> LLVM now its like the Linux of the compilers.. every big guy are working on it.. so will be hard to compete in that domain, out of its ecosystem
[21:00:23] <tikue_> gotcha
[21:00:45] <engla> tikue_: an iterator that implements .clone() could then be iterated more than once.
[21:01:03] <engla> tikue_: not sure what's a natural way to implement .concat() for that iterator, and how confusing that API would be
[21:01:21] <tikue_> engla, yeah, fair enough. to_owned_vec().concat() is fine anyway
[21:01:32] <tikue_> just a bit verbose ;) but that's the least of my concerns
[21:01:42] <dandy> are there dumb C-style macros in rust, or only too-smart-for-their-own-good AST macros?
[21:02:17] <tikue_> lol
[21:02:31] <steveklabnik> ahah
[21:02:35] <steveklabnik> only the good kind ;)
[21:02:43] <dandy> I really like both
[21:02:47] <engla> have the rust macros stopped beating their spouses?
[21:02:55] <steveklabnik> engla: let's not do that please
[21:03:04] <dandy> this bothers me: https://github.com/aarondandy/vertesaur-rust/blob/e4b775370a3d4d26f2f83051514197a9429f8bb9/src/vertesaur/vector.rs#L34
[21:03:04] *** Joins: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP)
[21:03:04] <engla> that's how the question sounded to me :)
[21:03:09] <steveklabnik> i know it's a classic joke, but sexual assualt isn't funny
[21:03:09] <kmc> GHC Haskell has both, but I think it's missing something in between
[21:03:17] <steveklabnik> err sorry
[21:03:18] <steveklabnik> assualt
[21:03:19] <engla> steveklabnik: it's not a joke
[21:03:26] <engla> steveklabnik: it's an example of an invalid question
[21:03:29] <steveklabnik> right
[21:03:32] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[21:03:45] <engla> I agree on the other parts
[21:03:52] <dandy> If I had dumbmacros that could wrap the smart ones I could avoid the mod generated { stuff
[21:04:05] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[21:04:07] <steveklabnik> bringing up something like that can really, truly harm people who've been assaulted
[21:04:25] <steveklabnik> that's all!
[21:05:08] <engla> I'll need to find a better example
[21:05:22] <steveklabnik> yup, that's all i'm saying. thanks :)
[21:05:30] <dandy> I just need a magic copy & paste fairy to make my rust code
[21:06:02] <kmc> rustpkg supports custom codegen / preprocessors doesn't it?
[21:06:09] <kmc> you could use cpp as your preprocessor, or M4
[21:06:18] <steveklabnik> i'm not 100% sure what's valid in pkg.rs
[21:06:32] <kmc> not entirely a serious suggestion but if it works better than other solutions...
[21:08:04] <fabiok> goodbye folks, thanks for all the answers
[21:08:37] <kmc> bye fabiok
[21:08:56] *** Quits: fabiok (fabiok@17534B3C.6D593977.3E66DFEE.IP) (Quit: Saindo)
[21:08:58] <tikue_> so long 
[21:09:11] <steveklabnik> bye!
[21:09:41] <dandy> > Macros, as currently implemented, are not for the faint of heart.
[21:10:07] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:10:07] *** ChanServ sets mode: +ao dherman dherman
[21:10:31] <tikue_> truth
[21:10:48] <SiegeLord> engla, Can you use Arc to implement a parallel map?
[21:11:16] *** Quits: engla (engla@moz-9B69FE7C.selucle.dyn.perspektivbredband.net) (Ping timeout)
[21:11:29] <dandy> I'm just going to wait for issue #4375 I guess
[21:11:48] <kimundi> dandy: Ifit'S not yet clear: the fact that you need to use mod generated{ ... } is a bug, not an intentional limitation
[21:11:54] *** Joins: mib_87xrxi (Mibbit@moz-C3AD3DC5.eecs.berkeley.edu)
[21:12:06] <dandy> I figured
[21:12:08] <cmr> dandy: I wouldn't hold your breath.
[21:12:17] <dandy> cmr, thats what I am worried about
[21:12:25] *** Quits: mib_87xrxi (Mibbit@moz-C3AD3DC5.eecs.berkeley.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[21:12:26] <dandy> is mod the only item that can group things?
[21:12:33] <cmr> dandy: yes
[21:12:46] <dandy> and a mod can only be declared once
[21:12:55] <kimundi> dandy: In an item psoition, yes. In an expression, you can use { ... } etc
[21:13:14] <kimundi> dandy: yes, only one mod declaration
[21:13:21] <dandy> it seems to me that a macro "returns" and item, and that is the problem
[21:13:32] <kmc> SiegeLord: hm, for parallel map it could be handy to have a way to split an owned vector into multiple owned vectors without copying
[21:13:40] <kmc> probably not possible with the existing vector type
[21:13:45] <cmr> It returns AST, but we don't have an AST node that just says "this is a sequence of other AST nodes"
[21:13:54] <dandy> cmr, right
[21:13:57] <cmr> dandy: Perhaps you could champion 4375? :)
[21:14:12] <dandy> cmr, I have no idea what is going on, where am I?
[21:14:14] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Quit: msingle)
[21:14:19] <kimundi> The problem is that a macro represents a rewriting of an Node in the AST of the program, and we don't have the infrastructure in place to turn that single node into multiple ones.
[21:14:24] <tikue_> i wish let worked with refutable patterns
[21:14:34] <cmr> tikue_: that sounds like an awful idea to me
[21:14:35] *** Quits: heftig (heftig@moz-40F6E3CD.dip0.t-ipconnect.de) (Ping timeout)
[21:14:37] <tikue_> cmr, why
[21:14:48] <cmr> tikue_: because `let` failing means I now need to handle its potential failure.
[21:14:55] <kimundi> tikue_: Well, what would happen if it refutes? :P
[21:15:03] <tikue_> kimundi, it would fail of course
[21:15:11] <tikue_> cmr, not if you don't use a refutable pattern
[21:15:14] <tikue_> >_>
[21:15:18] <kimundi> eeeh. I agree with cmr. Bad idea
[21:15:20] <cmr> tikue_: sounds like a footgun to me :|
[21:15:44] <tikue_> it would replace code where i just do match { <refutable_patter> => { ...} _ => unreachable!() }
[21:15:55] <cmr> Make a macro that does that for you!
[21:16:08] <kimundi> Now if we could do let destruct_or_fail!(Some(x) = opt()); ...
[21:16:21] <tikue_> cmr, how, with hygeinic macros?
[21:16:22] <tikue_> (sp)
[21:16:33] <tikue_> hygienic*
[21:17:02] <cmr> foo!(pattern, expr)
[21:17:24] *** Joins: heftig (heftig@moz-856CFF40.dip0.t-ipconnect.de)
[21:17:26] <tikue_> and what would it bind to?
[21:17:48] <cmr> match { pattern => expr, _ => unreachable!() }
[21:18:05] <tikue_> cmr, right but I want to bind it to variables, that's the point
[21:18:28] <tikue_> let [head, ..tl] = vec_with_at_least_one_element;
[21:18:51] <kimundi> Can't a hygenic macro generate a local variable if you pass the ident into the macro itself?
[21:19:08] <kimundi> let_refutable!(Some(x) = opt());
[21:19:13] <tikue_> kimundi, oh, yes i think you're right. (i'm not very knowledgeable about the macro system)
[21:19:36] *** Joins: alk (alk@moz-32A9FF6A.fbxo.proxad.net)
[21:20:12] <tikue_> what about #[allow_refutable]
[21:20:13] <dandy> why cant a macro return a syntax::ast::Block?
[21:20:14] <tikue_> or something
[21:20:58] <kimundi> dandy: I don't know what ast::Block corresponds to exactly, but I guess that would introduce a scope
[21:21:01] <cmr> rusti: { fn foo() -> int { 42 } foo() }
[21:21:02] -rusti- 42
[21:21:09] <cmr> dandy: hm, good question.
[21:21:11] <kimundi> dandy: Andf also be invalid in an item position
[21:21:57] <kimundi> rusti: mod foo{ {fn bar(){} fn baz(){}} }
[21:21:57] -rusti- <anon>:7:18: 7:19 error: expected item but found `{`
[21:21:57] -rusti- <anon>:7          mod foo{ {fn bar(){} fn baz(){}} }
[21:21:57] -rusti-                            ^
[21:21:57] -rusti- application terminated with error code 101
[21:22:24] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:22:47] <dandy> I guess because of this: https://github.com/mozilla/rust/blob/master/src/libsyntax/ast.rs#L1124
[21:23:32] <cmr> I don't think that's true though
[21:23:33] *** Joins: figaro (Mibbit@E08635D0.26969B75.8D47ACD1.IP)
[21:23:47] <cmr> rusti: macro_rules! foo ( () => 42 ); foo!()
[21:23:48] -rusti- <anon>:7:40: 8:5 error: macro rhs must be delimited
[21:23:48] -rusti- <anon>:7          macro_rules! foo ( () => 42 ); foo!()
[21:23:48] -rusti- <anon>:8     };
[21:23:48] -rusti- application terminated with error code 101
[21:23:57] <cmr> rusti: macro_rules! foo ( () => { 42 } ); foo!()
[21:23:58] -rusti- 42
[21:24:02] <cmr> rusti: macro_rules! foo ( () => { 42 } ); mod bar { foo!() }
[21:24:03] -rusti- ()
[21:24:06] <cmr> wut
[21:24:18] <cmr> pauls: ^ can you explain that?
[21:24:21] <cmr> rusti: mod bar { 42 }
[21:24:21] -rusti- <anon>:7:19: 7:21 error: expected item but found `42`
[21:24:21] -rusti- <anon>:7          mod bar { 42 }
[21:24:21] -rusti-                             ^~
[21:24:22] -rusti- application terminated with error code 101
[21:24:30] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[21:24:33] *** Quits: figaro (Mibbit@E08635D0.26969B75.8D47ACD1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:24:44] <dandy> I don't think a literal is an "item"
[21:24:51] <cmr> it isn't.
[21:24:54] <cmr> that's why it's invalid.
[21:25:00] <cmr> but it doesn't reject it with the macro returning 42
[21:25:27] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[21:25:28] <erickt_> cmr: that must be something enforced by the parser and not typeck
[21:26:26] <erickt_> cmr: I wonder what ast it's generating
[21:26:39] <cmr> dandy: rust doesn't need dumb macros, you can run it through cpp if you want, or any other templating language.
[21:26:58] <cmr> dandy: servo has a pretty extensive code generator, and so does rust-http
[21:28:08] *** Joins: voxpopuli (fanservice@2EC88D02.1EDB8A0F.689607DE.IP)
[21:28:11] <dandy> if a macro could return multiple items (and it may some day) I can just use that
[21:28:18] <dandy> that would be ideal
[21:28:38] <erickt_> cmr: it seems the rust macro is just throwing away the macro results? https://gist.github.com/erickt/6817408
[21:28:40] <cmr> yep
[21:28:55] <cmr> erickt_: how weird :s
[21:29:02] <kmc> cmr: we need to make sure we have good build system support for those things, though
[21:29:17] <kmc> but I haven't heard any problems with rustpkg's handling of them, so far
[21:29:27] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:29:30] <cmr> once they're generated rustpkg deals with them fine.
[21:29:34] <SiegeLord> Or, alternatively implement loadable syntax extensions instead of patching over the problem :P
[21:30:04] *** Quits: slackito (slackito@moz-7779E4A6.dyn.user.ono.com) (Quit: leaving)
[21:30:25] *** Joins: AlisonW (AlisonW@moz-7CEB14F7.hari.cable.virginmedia.com)
[21:30:38] <kmc> servo has a few code generators by now...
[21:30:46] <ion> Btw, how about adding an enum LoopChoice { Break, Loop } or something like that instead of overloading bool for break/loop sugar in for loops?
[21:31:04] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[21:31:10] <kmc> ion: that style of 'for' loop went away a few months ago
[21:31:13] <cmr> ion: we haven't had that loop sugar for a few months now
[21:31:18] <ion> kmc: Oh, okay.
[21:31:28] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[21:31:35] <kmc> now 'for x in y' calls y.next() repeatedly (y should implement the Iterator trait)
[21:31:52] <kmc> cmr: I mean that rustpkg should be able to run the generator for you, too, and track dependencies
[21:31:56] <kmc> but I think it can
[21:32:04] <cmr> kmc: it can't
[21:32:07] <kmc> oh
[21:32:41] <SiegeLord> Isn't rustpkg intended to be a generic build system?
[21:32:50] <cmr> SiegeLord: no, not really.
[21:33:03] <SiegeLord> It'd be a shame if you had to call make via pkg.rs...
[21:33:17] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:33:20] <steveklabnik> it's an opinionated one
[21:33:25] <steveklabnik> with an out if you want to customize its opinions
[21:33:28] <kmc> well I don't know about "generic build system" but we already have several libraries that need code generators and it seems likely there will be more
[21:33:35] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:33:44] <cmr> SiegeLord: Why would you use make when you can just write your build rules in pkg.rs ?
[21:34:21] <tikue_> what's the deal with multiline strings? if i put a '\' at the end of one line, does it skip all whitespace up to the next character?
[21:34:33] <kimundi> tikue_: yes
[21:34:34] <SiegeLord> cmr, make tracks dependencies...
[21:34:39] <tikue_> that's nice
[21:34:56] <cmr> SiegeLord: so can pkg.rs
[21:35:03] <SiegeLord> Then it's a generic build system :P
[21:35:20] <SiegeLord> I'm missing something here
[21:35:25] <Amaranth> How would you suggest handling code generation systems without pkg.rs?
[21:35:50] <cmr> It's a generic build system in the same way that any other rust program is a generic build system :\
[21:35:55] <Amaranth> Like what alternative would you prefer?
[21:35:57] <kimundi> SiegeLord: I think the point was that rustpkg is not _intended_ to be used as a generic build system, but through the pkg.rs escape hatch is able to fulfil that role anyway
[21:36:28] <SiegeLord> cmr, just because a language is turing complete, doesn't make it a generic build system
[21:36:32] *** flaper87|afk is now known as flaper87
[21:36:42] <cmr> SiegeLord: that's what I'm saying. it's not a generic build system.
[21:36:43] <SiegeLord> To do that, there needs to be some dependency tracking API
[21:36:52] <cmr> A dep tracking API does not a build system make.
[21:36:54] <SiegeLord> Well, then you can't say pkg.rs can track dependencies
[21:37:02] *** jorendorff is now known as jorendorff_away
[21:37:25] <SiegeLord> It's just as meaningless as saying main.c can track dependencies
[21:37:39] <Amaranth> If you want a general purpose build system make is still an option (or autotools if you want to go all out)
[21:37:50] <Amaranth> Or cmake, qmake, scons, waf, wtc
[21:37:52] <SiegeLord> Hence why you'd call make from pkg.rs
[21:38:06] <SiegeLord> Because pkg.rs is vastly underequipped to do what make can
[21:38:39] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:38:52] <Amaranth> afaik without making potentially invalid assumptions you cannot currently do anything involved with building with pkg.rs right now
[21:39:25] <dandy> I don't know of many people who run make on windows
[21:39:45] <Amaranth> dandy: I don't know of many programmers on windows
[21:39:47] <dandy> I really hope rust can get off of mingw
[21:39:49] <SiegeLord> Well, you'd call any of the alternatives Amaranth suggested
[21:39:56] <Amaranth> But the ones I know tend to have some kind of make available
[21:40:02] <SiegeLord> Or somebody will write on in Rust
[21:40:48] <jason_> has anyone written rustc support for cmake?
[21:41:22] <dandy> I would be super happy just to call rustc from rake
[21:41:32] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[21:41:34] <dandy> rustpkg even
[21:42:00] <SiegeLord> Anyway, it seems like since rustpkg will have some dependency tracking, it'd be nice if that API was generic enough and exposed to pkg.rs users
[21:42:15] <cmr> SiegeLord: it does its dep tracking through extra::workcache
[21:42:24] <cmr> it's already librarified
[21:42:30] <SiegeLord> Ah, great
[21:42:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:42:48] <SiegeLord> Gosh darn... so many broken links to Rust's documentation
[21:42:50] <cmr> I thought you already knew that :p
[21:43:05] *** Joins: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net)
[21:43:12] <SiegeLord> You give me too much credit :P
[21:44:04] <jeaye> What bugs me is not broken links, but the searching.
[21:44:10] <jeaye> Search for 'Result'
[21:45:04] <jeaye> For me, it does nothing.
[21:45:15] *** Quits: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:45:23] <jason_> if i cast::transmute(~Thing) -> *mut Thing, the Thing pointer is considered moved and won't be freed until i transmute it back to a ~Thing?
[21:45:24] <cmr> jeaye: there's a new search coming
[21:45:31] <cmr> jason_: no
[21:45:32] <jeaye> cmr: Nice.
[21:45:35] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[21:46:02] <jeaye> jason_: transmuting is unsafe; you just get a raw pointer to the non-moved box.
[21:46:19] <jeaye> unmoved
[21:46:48] <kimundi> cmr no?
[21:46:50] <jason_> ahh, that might be my problem then. how do i mark it as moved? i'm doing some evil.
[21:47:11] <kimundi> pretty sure that stuffing it into transmute counts as a move
[21:47:18] <cmr> jason_: http://static.rust-lang.org/doc/master/std/cast/fn.forget.html
[21:48:12] <kimundi> forget is neccessary if you created a ptr to the data without moving the ~T
[21:49:02] <tikue_> rusti: "abcdef".slice_chars('b', 'e').to_owned()
[21:49:44] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[21:49:45] <kimundi> rusti not here
[21:49:53] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[21:50:03] <tikue_> rusti: "abcdef".slice_chars('b', 'e').to_owned()
[21:50:09] <tikue_> damn
[21:50:23] <kimundi> tikue_: pretty sure that slice_Chars takes indices
[21:50:27] <kimundi> tikue_: not chars
[21:50:44] <jason_> rustc is backing up what kimundi is saying, it tells me the value is moved after cast::transmute()
[21:50:53] <kimundi> that is, they are uints
[21:51:25] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Ping timeout)
[21:51:28] <kimundi> jason_: transmute takes something by value and returns something differently by value. Regular move semantic apply.
[21:51:30] <jason_> i'm getting a weird crash though when i try to move a value back out of the *mut T to a ~T
[21:51:34] <cmr> Yeah, I'm seeing that too
[21:52:04] <jason_> only when i'm making the ~T from two different threads though
[21:52:04] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:52:27] <tikue_> kimundi, yeah it does i just double checked
[21:52:28] <jason_> the weird part is the line number in the debug info doesn't match up
[21:52:55] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:52:56] <cmr> jason_: if you can make a reduced testcase, mw will probably fix it.
[21:53:00] <nejucomo> jason_: What does "making the ~T from two different threads" mean?
[21:53:16] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:53:47] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[21:54:06] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[21:54:17] <jason_> nejucomo: i'm trying to port a lock-free queue algorithm, when i use it from a single thread it works but as soon as i try pushing to it from two different threads i get a crash in tcmalloc
[21:54:31] <aatch> jason_, ah.
[21:54:32] <jason_> its some really evil code
[21:54:39] <aatch> jason_, yeah. What
[21:54:42] <cmr> jason_: if you make a ~T twice from the same pointer, it's going to free it twice.
[21:54:44] <aatch> What's the algorithm?
[21:54:51] *** Quits: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de) (Quit: Leaving)
[21:55:00] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[21:55:15] <jason_> cmr: not doing, that. allocating a new ~T from each thread
[21:55:45] <aatch> jason_, I implemented a Chase-Lev deque in rust, so I can probably help.
[21:56:34] <aatch> What's the code?
[21:56:42] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[21:57:01] <aatch> I also implemented most of the atomic stuff in the standard library.
[21:57:22] <jason_> aatch: http://www.1024cores.net/home/lock-free-algorithms/queues/intrusive-mpsc-node-based-queue
[21:57:29] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[21:58:25] <jason_> one sec, i'll gist the code
[21:58:41] <aatch> jason_, wow, small code.
[21:59:59] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[22:00:06] <nejucomo> Are there any reflection guides?  I don't quite follow the comment preceding trait MovePtr.
[22:00:10] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[22:00:41] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:00:49] <jason_> aatch: https://gist.github.com/toffaletti/6817808
[22:01:28] *** Joins: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca)
[22:02:15] <jason_> aatch: i'm probably doing something obviously wrong, i couldn't sleep last night and wrote most of that in a sleep deprived state after 3am
[22:02:29] *** Quits: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:02:36] <aatch> jason_, so where does it fail?
[22:03:11] <jason_> aatch: it passes valgrind if i remove the push on #131
[22:03:20] <jason_> with that push it fails like...
[22:04:07] <jason_> aatch: added a comment to the gist
[22:04:16] <jason_> valgrind output is kind of long
[22:04:29] <jason_> the weird part is Queue::pop::h2c6934473024fbf56ta0::v0.0 (mpsc_queue.rs:52)
[22:04:54] <jason_> that line number isn't inside Queue:::pop()
[22:06:23] *** Joins: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP)
[22:06:33] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[22:08:18] <aatch> jason_, yeah. I'm looking at pop() though.
[22:08:39] <jdm> in my experience the line numbers tend to be more correct than the symbol names
[22:09:21] <aatch> jdm, in this case... probably not. Unless the line numbers are different in the gist?
[22:09:55] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[22:10:28] <jason_> nope, the gist is the same code, the other line numbers line up
[22:10:38] *** Quits: spott (spott@68DBF504.E4074F7.784188F5.IP) (Client exited)
[22:10:58] <jason_> the previous stack frame is right and calling into pop test::h7ad7bd2930e615c3au::v0.0 (mpsc_queue.rs:148)
[22:11:13] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[22:12:30] <aatch> jason_, how much debug output do you get? do you manage to successfully get anything out of the queue?
[22:13:48] <jason_> aatch: nothing, seems to crash on the first pop
[22:14:28] * nejucomo notices std::repr uses reflection, starts reading.
[22:14:30] <jason_> aatch: but like i said before, if i don't push on line 131 then it works fine
[22:14:33] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:16:09] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[22:16:19] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[22:16:38] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:16:53] <tikue_> is there a way to match against variables?
[22:17:09] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[22:17:55] <kmc> hm?
[22:18:05] <tikue_> like 
[22:18:21] <tikue_> `let x = foo; match bar { x => blah, ... }
[22:18:24] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[22:19:02] <kmc> match bar { y if x == y => blah, ... }
[22:19:24] <tikue_> kmc, but then it's obvious that what i'm doing is an antipattern :P
[22:19:31] <kmc> well then ;P
[22:19:44] <tikue_> lol 
[22:19:49] <tikue_> whatever
[22:19:51] * tikue_ can take the critics
[22:20:00] <kmc> this sort of thing has to use ==, it's not purely structural like ordinary patterns, and so I think it's good that you have to write "==" in the source
[22:20:05] <tikue_> i maintain that using match when you have a bunch of string literals and like one string variable is fine
[22:20:13] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[22:20:23] <kmc> tikue_: it sounds ok to me; is someone arguing to the contrary?
[22:20:28] <tikue_> no
[22:20:36] <tikue_> except me as devil's advocate
[22:20:53] <tikue_> left shoulder right shoulder kind of business. 
[22:22:39] *** kimundi is now known as zz_kimundi
[22:23:33] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[22:24:46] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[22:27:01] <aatch> jason_, I can't *see* anything wrong. I'll actually play around with the code to see if I can wrangle something up.
[22:27:56] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[22:29:00] <aatch> I have to update my copy of rust though.
[22:30:40] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[22:31:26] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[22:32:31] *** Quits: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP) (Ping timeout)
[22:34:27] <nejucomo> hrm…  MovePtr still seems strange to me after looking at the one example of the ReprVisitor impl…  I don't understand the need for a different impl, so I don't understand why it's not rolled into reflection.
[22:35:34] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[22:36:46] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:40:12] *** Quits: nkoep (nik@moz-679C7B7E.vpn.rwth-aachen.de) (Client exited)
[22:41:29] *** Joins: jdm_ (jdm@37A83DB4.49EECAFD.30BE9F17.IP)
[22:42:22] *** flaper87 is now known as flaper87|afk
[22:42:33] *** Quits: jdm_ (jdm@37A83DB4.49EECAFD.30BE9F17.IP) (Input/output error)
[22:43:38] <dandy> nejucomo, you still looking at https://github.com/mozilla/rust/issues/4375 ?
[22:44:16] *** Joins: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP)
[22:44:16] *** ChanServ sets mode: +o jdm
[22:45:10] <nejucomo> dandy: Haven't had a chance really.
[22:45:25] <dandy> just wondering is all
[22:45:31] *** Joins: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP)
[22:45:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:45:44] <nejucomo> However, there was a related patch which changed the silent failure to an explicit error, which was somewhat satisfactory.
[22:45:52] <dbaupp> enjoy the summit everyone :)
[22:46:26] <nejucomo> I hit a snag where I've been unable to consistently build on my poor little vm since the memory leak, but I see there's been some improvement there.
[22:46:45] <dandy> nejucomo, why not native?
[22:46:52] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[22:47:36] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Ping timeout)
[22:50:00] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Ping timeout)
[22:50:08] <nejucomo> dandy: Because I'm in denial about my host operating system.  ;-)
[22:50:30] <dandy> you having trouble building on windows?
[22:50:32] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:51:27] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:51:35] *** Quits: fyolnish (fyolnish@moz-E8ACB066.uqwimax.jp) (Client exited)
[22:54:43] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[22:55:25] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[22:56:51] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:57:22] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:58:12] <nejucomo> dandy: My host is OSX, but I strongly prefer a debian environment.
[22:59:43] <jeaye> OS X? Could be much worse.
[23:01:04] *** Quits: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) (Client exited)
[23:02:30] *** Joins: sp3d (a@moz-41A29595.dhcp.stls.mo.charter.com)
[23:02:32] <aatch> jason_, well, no surprise, you have a race condition.
[23:03:14] <aatch> I can run the test multiple times and get different results.
[23:03:35] <aatch> jason_, valgrind serialized threads so you don't always see it.
[23:05:29] <jason_> aatch: yup, i'm hunting that down as well. even with no threads involved i'm seeing it trying to pop the same value twice
[23:05:40] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[23:06:35] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:06:56] <jason_> i think i forgot one line of the original algorithm
[23:07:13] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:08:36] <jason_> yup
[23:08:51] <pcwalton> is there now a type Stream in the prelude?
[23:09:49] <jason_> aatch: think i fixed it!
[23:09:58] <aatch> jason_, oh yeah?
[23:10:08] <aatch> I the XCHG?
[23:10:26] <aatch> No wait, that's there.
[23:10:34] <aatch> I dunno. What was/is it?
[23:11:12] <jason_> the first line of push() n->next = 0;
[23:11:32] <aatch> jason_, btw, you could probably use AtomicOption for some of these
[23:13:04] <jason_> i remember i had that line in the code last night, probably deleted it by mistake along with a debug line
[23:17:25] *** Quits: alk (alk@moz-32A9FF6A.fbxo.proxad.net) (Ping timeout)
[23:19:10] *** Quits: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[23:19:50] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[23:20:03] <dandy> Really glad rust allows for extra , characters ex: struct A { a: T, b: T, } // makes macros that much easier
[23:21:00] *** Joins: ofeldt (ofeldt@moz-DC6B58CF.dip0.t-ipconnect.de)
[23:21:11] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[23:21:20] <stevekla1nik> yup
[23:21:22] <stevekla1nik> it also makes diffs nicer
[23:21:27] <stevekla1nik> which is something i appreciate
[23:21:36] <stevekla1nik> if you add something else later, it just changes one line
[23:21:42] <stevekla1nik> it's the little things in life :)
[23:21:43] *** Quits: ofeldt- (ofeldt@moz-A62E52DA.dip0.t-ipconnect.de) (Ping timeout)
[23:21:58] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (NickServ (GHOST command used by stevekla1nik))
[23:22:01] *** stevekla1nik is now known as steveklabnik
[23:22:12] <kmc> yes
[23:22:20] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[23:22:45] <engla> you can accomodate either way with $($A,)+  vs $($A),+ in macros I think
[23:24:42] <dandy> even with the expansion though?
[23:25:30] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:25:58] <dandy> im going to try it...
[23:26:23] *** Joins: fyolnish (fyolnish@moz-FA7E8A44.uqwimax.jp)
[23:26:46] <engla> the ,+ is to use , as a separator of the expanded items. I'm not really sure what tokens are valid separators
[23:26:58] <dandy> it does not seem to make a difference
[23:27:35] <dandy> macro_rules! make_vector_struct(($t:ident $($c:ident),*) => (pub struct $t<T> { $($c: T,)*})) vs { $($c: T),*}
[23:27:44] <dandy> both add a final extra ,
[23:27:47] <aatch> engla, as far as I am aware, almost any token is a valid separator.
[23:27:53] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[23:28:04] *** Quits: fyolnish (fyolnish@moz-FA7E8A44.uqwimax.jp) (Ping timeout)
[23:28:06] <aatch> I mean, it might not actually parse, but that's incidental
[23:28:09] *** Quits: skade (skade@moz-A3222CF7.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:28:38] <aatch> dandy, for the actual matching rules it makes a difference though
[23:29:16] <aatch> since having the separator inside the repeat would require a trailing separator in the invocation.
[23:29:34] <dandy> aatch, it still does it when outside for me
[23:30:17] <dandy> unless... does --pretty add it in maybe?
[23:30:32] *** Joins: Guest__ (foo@moz-90D1B547.nycmny.fios.verizon.net)
[23:31:10] <aatch> dandy, I mean when doing make_vector_struct!(thing foo, bar), if the pattern was ($t:ident $($c:ident,))*, it would fail
[23:31:17] *** Guest__ is now known as exobit
[23:31:22] <dandy> oh yeah
[23:31:40] <dandy> but I don't know of a way to ommit the trailing , in the generated struct (not that I need to)
[23:34:43] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[23:37:00] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[23:39:05] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[23:39:39] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[23:39:50] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[23:41:43] <jason_> aatch: seems to be working now, passes helgrind with 8 producer threads. https://gist.github.com/toffaletti/6817808
[23:42:27] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:43:09] <aatch> jason_, awesome. Makes sense that it would be doing the extra free if it never cleared that pointer
[23:43:51] <jason_> i'm tempted to try swapping this in for the scheduler messagequeue
[23:44:38] <aatch> jason_, worth a try
[23:45:30] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[23:45:40] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[23:47:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:52:42] <rhodesd> b
[23:53:17] *** Joins: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP)
[23:53:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:54:58] *** Joins: josh (josh@3496663E.C1499D0.396E4C6D.IP)
[23:54:59] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[23:56:12] *** Quits: josh (josh@3496663E.C1499D0.396E4C6D.IP) (Quit: josh)
