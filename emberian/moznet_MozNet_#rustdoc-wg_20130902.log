[02:23:20] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[02:37:18] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:42:21] <austincheney> Seldaek: how dynamic is the searchIndex array?
[04:42:50] <austincheney> it is very slow to interpret onload, even locally where there is no transmission delay
[04:51:44] <austincheney> nevermind, its something in the fullproof library
[04:51:53] <austincheney> takes 20 seconds to interpret onload
[07:32:56] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[08:21:26] <Seldaek> austincheney: yeah the fullproof thing creates a real in-memory index (as in search index) of the data, so that takes a while to load
[08:21:57] <austincheney> np, i will have a better solution really soon
[08:22:02] <austincheney> i am almost done
[08:22:19] <austincheney> i need about 2 - 3 more hours
[08:23:01] <Seldaek> I'd be happy if we can make the search-index.js file already more searchable so as to avoid such load times
[08:23:15] <Seldaek> as long as the file size doesn't go through the roof
[08:25:24] <austincheney> i will have a sorted list for you with additional data that is sorted by relevance
[08:25:48] <austincheney> it takes about .1seconds to process against the list and about another .5seconds to paint to the page via the dom
[08:26:55] <Seldaek> .5seconds sounds weird, unless you're panting the entire index, but we probably never want to do that so that's ok :)
[11:21:33] <austincheney> i have demo of my effort ready... its uploading
[11:24:44] <austincheney> Seldaek: http://prettydiff.com/rustdoc/master/
[11:26:32] <Seldaek> nice
[11:27:08] <austincheney> i am thinking about making the search multidimensional so that somebody could search for a path and retrieve an object name
[11:27:14] <Seldaek> one thing that'd be cool is to normalize both to_str and ToStr for example to tostr maybe, and do same with the input
[11:27:14] <austincheney> i will think on this
[11:27:17] <dbaupp> austincheney: btw, it should only show the trait that a trait method comes from, not each individual implementations
[11:27:29] <dbaupp> (or at least prioritise the trait over the impls)
[11:28:03] <austincheney> does Rust have both a to_str and ToStr that do the same thing?
[11:28:26] <Seldaek> austincheney: no my point is if you search for "tostr", right now it only finds ToStr (trait) but not to_str (method)
[11:28:37] <austincheney> ahhh
[11:28:40] <Seldaek> having an internal representation that's normalized might help match more
[11:28:49] <Seldaek> but it should probably sort exact matches on top still
[11:28:51] <austincheney> i will do that
[11:29:02] <Seldaek> so if you type ToStr, you see ToStr then to_str
[11:29:58] <Seldaek> austincheney: as for the display, I'd like to keep the full results display with colors & such rather than this pop-over
[11:30:06] <Seldaek> but that's a detail
[11:30:16] <austincheney> k
[11:35:03] <austincheney> it seems there are 9 different "to_str" methods each with different paths
[11:35:23] <austincheney> i am not sure how I would normalize that yet
[11:36:44] <dbaupp> most of them will be implementations of the ToStr trait, so the ones that are in the `impl` blocks should be ignored/deprioritised
[11:36:55] <dbaupp> Seldaek: how are trait impl methods represented?
[11:38:39] <austincheney> this will be challenging
[11:39:08] <austincheney> there are many many more than 9 and some of them have the same paths making them indistinguishable from a data perspective
[11:39:13] <austincheney> i will keep thinking on this
[11:40:03] <dbaupp> where's the json you're handling?
[11:40:24] <austincheney> http://seld.be/rustdoc/master/search-index.js
[11:41:04] <austincheney> by trait do you mean of those objects represented as an array index in the searchIndex array?
[11:41:37] <dbaupp> give me a sec
[11:41:48] <dbaupp> (wow, that's 1.2MB o_O)
[11:45:16] <dbaupp> austincheney: hm, it appears that there's no way to distinguish trait methods and normal methods
[11:46:04] <austincheney> are traits a feature of the rust language?
[11:47:21] <dbaupp> yup
[11:47:30] <austincheney> ah ok
[11:47:37] <dbaupp> they're Rust's way of polymorphism/inheritance
[11:47:45] <austincheney> i am not famiiar with rust so I just wanted to be sure it was not some facet of the data
[11:47:50] <dbaupp> yup :)
[11:48:05] <dbaupp> (they're kinda like allowing multiple prototypes in js.)
[11:48:23] <austincheney> i will make some arbitrary design decisions on how the results should be displayed or sorted better
[11:55:38] <Seldaek> austincheney: the issue with to_str being there multiple times with the same path is most likely if a trait is implemented twice on the same struct
[11:55:43] <Seldaek> with different types
[11:57:04] <Seldaek> but I think those could be filtered in the backend
[11:57:12] <Seldaek> well, backend.. the generator I mean
[11:57:19] <Seldaek> so you probably shouldn't care about this for now
[13:26:08] <austincheney> k, thanks
[13:26:22] <austincheney> i will instead worry about betting sorting then
[19:26:46] <cmr> Seldaek: I don't know if it's you or me but I cannot make any sense of rustdoc.js at *all*
[23:25:15] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:25:25] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
