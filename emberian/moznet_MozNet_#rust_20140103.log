[00:00:25] <wycats> CC=clang?
[00:00:28] *** Joins: quaddle (Mibbit@moz-A06909E4.glbb.ne.jp)
[00:00:56] <wycats> I think I can hack in --emit-llvm -S as flags
[00:01:22] <brson> wycats: just run `clang -emit-llvm myfile.c` directly on the file
[00:01:30] <wycats> hm
[00:01:42] <wycats> I think it relies on mkmf to get all the linker stuff set up
[00:01:48] <wycats> I'll try it
[00:01:54] <wycats> did sudo apt-get install clang
[00:01:54] <brson> you could even just extract that extern declaration and the struct definition to their own file
[00:01:59] <wycats> thanks for helping me out
[00:02:01] <wycats> brson: good idea
[00:02:13] <wycats> brson: I was getting scared that after everything running smoothly for weeks this was going to crush me
[00:02:43] <brson> everything was running smoothly for weeks!
[00:02:44] <quaddle> I ran into a compiler bug, and I'm following the instructions on the wiki to submit a report.  It says I should be able to break on `rust_begin_unwind` in gdb, but gdb says the function isn't defined.  Am I missing something or did the functions get changed/renamed?  I'd be more than happy to update the wiki
[00:02:46] <brson> that's good news
[00:03:04] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[00:03:19] <ChrisMorgan> quaddle: now it's `break _Unwind_RaiseException`
[00:03:19] <wycats> brson: it felt too good to be true ;) ;)
[00:03:20] <sfackler> quaddle: try _Unwind_Resume
[00:03:30] <wycats> brson: now I know why ;) 
[00:03:35] <wycats> the fates were waiting
[00:03:37] <wycats> lurking
[00:03:46] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Client exited)
[00:03:52] <brson> ChrisMorgan: we have rust_fail now too
[00:04:00] <brson> and we're never going to rename it again
[00:04:01] <ChrisMorgan> Oh, good.
[00:04:03] <brson> rust_fail forever
[00:04:05] <ChrisMorgan> Oh, good.
[00:04:06] <wycats> brson: fuck yeah
[00:04:09] <wycats> break rust_fail
[00:04:21] <wycats> break rust_fail_never_changing_again_fuck_yeah
[00:04:21] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[00:04:30] <ChrisMorgan> `break rust_broke`
[00:04:48] <sbalmos> break rust_you_broke_it_you_bought_it
[00:04:51] <wycats> zomg clang has so many deps
[00:05:04] <dbaupp> pcwalton: https://github.com/huonw/boehm-rs/issues/1#issuecomment-31496090
[00:05:06] *** Quits: valenting (Thunderbir@moz-9DFB83CF.residential.rdsnet.ro) (Connection reset by peer)
[00:05:11] <pyon> Is it possible to reexport a struct, making some of its public fields private?
[00:05:25] <quaddle> thanks all
[00:05:37] <pcwalton> dbaupp: responded
[00:05:38] <pcwalton> you're right
[00:06:01] <ChrisMorgan> pyon: no
[00:06:07] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[00:06:12] <ChrisMorgan> pyon: why do you want to?
[00:06:17] *** Joins: valenting (Thunderbir@moz-9DFB83CF.residential.rdsnet.ro)
[00:06:37] <wycats> brson: what do I need to import to get uint8_t
[00:06:42] <brson> stdint.h
[00:06:43] <wycats> I guess ruby.h was pulling it in
[00:06:44] <dbaupp> wycats: stdint.h
[00:07:01] <dbaupp> <3 `typedef uint8_t u8;`
[00:07:22] <pyon> ChrisMorgan: I have a "mod foo { pub mod bar; pub mod baz; }", where bar and baz contain structs that I want to be visible from the other module, but not from outside of foo.
[00:07:40] <wycats> ✗ clang --emit-llvm -S ext/test.c
[00:07:40] <wycats> clang: error: unsupported option '--emit-llvm'
[00:07:48] <dbaupp> wycats: single -
[00:07:51] <dbaupp> -emit-llvm
[00:08:07] <wycats> hm it only gave me a .s
[00:08:09] <wycats> not a .ll
[00:08:16] <kmc> it should give you .bc i think
[00:08:16] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[00:08:18] <dbaupp> drop the -S maybe?
[00:08:36] <wycats> clang: error: linker command failed with exit code 1 (use -v to see invocation)
[00:08:42] <dbaupp> pcwalton: btw, I have a (very slow) interface to gc_typed.h working too
[00:08:44] <wycats>  /usr/bin/ld: /usr/bin/../lib/LLVMgold.so: error loading plugin: /usr/bin/../lib/LLVMgold.so: cannot open shared object file: No such file or directory
[00:08:49] <pcwalton> cool!
[00:09:04] <dbaupp> unfortunately all the pointer tracing info has to be hand written
[00:09:11] <quaddle> Should I update the wiki to say `rust_fail` instead of `rust_unwind_begin`?  Does the wiki track the latest release or master...
[00:09:25] <dbaupp> i can't workout how to get alignment from TyVisitor or #[deriving(Encodable)] (or Decodable)
[00:09:34] <dbaupp> *work out
[00:09:44] <wycats> http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=631178
[00:10:07] <wycats> llvm-dev
[00:10:09] <wycats> installing
[00:10:31] <wycats>  /tmp/test-qVTg98.o: file not recognized: File format not recognized
[00:10:31] <wycats> clang: error: linker command failed with exit code 1 (use -v to see invocation)
[00:10:32] <wycats> wat
[00:10:46] *** Quits: FreeFull (freefull@moz-3109D7BE.as13285.net) (Ping timeout)
[00:11:10] *** Joins: FreeFull (freefull@moz-F46A7D8A.as13285.net)
[00:11:30] *** Quits: Meistarin (sid19523@moz-A42E5B7B.irccloud.com) (Ping timeout)
[00:11:30] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[00:11:46] <ChrisMorgan> pyon: you can't do it that way; if you define them in foo then the children will be able to access them, but that's the closest you can get.
[00:11:55] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[00:12:20] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:13:22] <pyon> ChrisMorgan: Ah, makes sense. I will try that, thanks!
[00:14:09] *** Quits: FreeFull (freefull@moz-F46A7D8A.as13285.net) (Ping timeout)
[00:14:57] <brson> wycats: i tried to create a C file with your decls in it and clang declared skylight_trace_get_name like i'd expect https://gist.github.com/brson/8229945
[00:15:14] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[00:15:25] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[00:16:05] <brson> wycats: does skylight_trace_gen_name's return value get returned correctly?
[00:16:47] <wycats> brson: do I have to actually make a function that uses the declared prototype to get it to dump it out?
[00:16:51] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[00:18:27] <wycats> brson: here's what I get: call void @skylight_trace_get_name(%struct.OptionRustSlice* sret %bar, i8* %2)
[00:18:38] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Ping timeout)
[00:18:42] <wycats> brson: it segfaults before it gets to return
[00:18:50] <wycats> because the &Trace is wrong in Rust
[00:19:19] <wycats> brson: it seems like the first param in Rust is a slice
[00:19:26] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[00:19:34] <wycats> I bet if I take a noop slice it will "work
[00:19:37] *** Joins: Meistarin (sid19523@moz-A42E5B7B.irccloud.com)
[00:20:22] *** Joins: kngl1 (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[00:20:22] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Connection reset by peer)
[00:21:30] <wycats> hm no
[00:22:28] <brson> wycats: hm, i've created a demo that i think does everything you're doing and I see a valid Trace and the correct return value
[00:22:48] <wycats> brson: O_O
[00:22:50] <brson> wycats: what are your current Rust and C decls?
[00:22:56] <wycats> let me gist it
[00:23:06] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Connection reset by peer)
[00:23:35] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:23:41] <brson> wycats: these are my two files https://gist.github.com/brson/8230085
[00:23:52] <wycats> wait wtf
[00:23:54] <wycats> it works now
[00:24:01] <wycats> I must have had some lingering file
[00:24:02] <brson> woo!
[00:24:14] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:24:35] <wycats> brson: so what have we learned?
[00:24:47] <brson> lol
[00:24:51] <wycats> Option<T> is represented as a pointer in C, but Option<slice> is not
[00:25:00] <brson> Option<&T>
[00:25:00] <wycats> what about Option<~slice>
[00:25:04] <wycats> yeah sorry
[00:25:15] <brson> Option<~&str> would also be a pointer
[00:25:58] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:26:01] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:26:14] <brson> Option<~str> is not a pointer
[00:26:25] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[00:27:05] *** Joins: FreeFull (freefull@moz-308A32E7.as13285.net)
[00:27:34] <wycats> https://www.evernote.com/shard/s2/sh/d9bbddf7-b236-4253-8a06-9f3cff074ed2/30ffa4f018dbf867b3e64942396ef0e3/deep/0/1.-wycats@ubuntu----Code-(ssh).png
[00:28:04] <wycats> brson: Option<~str> would be the same structure but with a pointer in the second slot?
[00:28:06] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[00:28:07] <wycats> instead of a Slice?
[00:28:41] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:29:36] <dbaupp> wycats: nope
[00:29:55] <dbaupp> ~str is a plain pointer to a {length, capacity, data...} struct
[00:30:04] <dbaupp> so Option<~str> is a nullable pointer
[00:30:06] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[00:30:23] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:30:44] <dbaupp> rusti: std::mem::size_of::<Option<~str>>()
[00:30:45] -rusti- 8u
[00:30:54] <dbaupp> rusti: std::mem::size_of::<~str>()
[00:30:54] -rusti- 8u
[00:31:01] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[00:31:13] <brson> dbussink: really?
[00:31:18] <brson> er dbaupp
[00:31:23] <brson> that's pretty surprising
[00:31:27] <brson> it's going to change though
[00:31:32] <brson> ~str is going to end up 3 words
[00:31:42] <dbaupp> that's a definite?
[00:31:46] <dbaupp> (blocking 1.0?)
[00:32:07] <brson> probably doesn't block 1.0
[00:32:10] <brson> but it will happen
[00:32:17] <dbaupp> awesome
[00:32:23] <wycats> dbaupp: sounds good
[00:32:23] <brson> 1.0 won't have any promises about binary compatibility
[00:32:34] <wycats> I guess the same thing is true about passing an Option<&str> from C to Rust?
[00:32:44] <wycats> I was passing a nullable pointer
[00:33:00] <ChrisMorgan> brson: so 1.0 and 1.1 could be incompatible for C bindings?
[00:33:04] <wycats> a nullable pointer to a Slice
[00:33:05] <dbaupp> yeah, that's liable to make Rust very upset
[00:33:13] <wycats> what's the discriminant for "yes"
[00:33:15] <wycats> 1?
[00:33:16] <dbaupp> 1
[00:33:31] <wycats> hm ok
[00:33:47] <wycats> Macro time
[00:33:50] <wycats> #define SomeSlice
[00:33:51] <kmc> what's the advantage of ~str being three words?
[00:33:53] <wycats> #define NoneSlice
[00:33:54] <dbaupp> Passing a nullable *Slice would be as if passing Option<~&str>
[00:33:57] <dbaupp> kmc: speed
[00:34:05] <pcwalton> kmc: none, it should be 2 words
[00:34:10] <dbaupp> kmc: https://github.com/mozilla/rust/issues/8981
[00:34:13] <pcwalton> and there should be a separate StringBuffer that you can push onto
[00:34:28] <brson> ChrisMorgan: imo, yes
[00:34:46] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[00:35:02] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[00:35:06] *** Quits: Meistarin (sid19523@moz-A42E5B7B.irccloud.com) (Ping timeout)
[00:35:08] <kmc> what's the basis for saying passing around unique vectors by-move is rare?
[00:35:24] <brson> kmc: putting the length out of the allocation is apparently a faster scheme
[00:35:33] <brson> *pulling
[00:36:20] <wycats> dbaupp: the reason I want Option<&str> is so the Rust side enforces the invariant of Rust not trying to take ownership of the string
[00:36:25] <wycats> so I don't have to copy on the C side
[00:36:39] <wycats> (I let Rust do the copying if Rust semantics require it, and let the Rust compiler enforce)
[00:37:04] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:37:27] <dbaupp> kmc: there are about 140 matches of /fn.*: ~\[/ in mozilla/rust (outside the testsuite), and 400 of /fn.*: &\[/
[00:38:11] <dbaupp> wycats: yeah, I completely agree with that; just pointing out what *Slice is equivalent too
[00:38:20] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[00:38:24] <dbaupp> wycats: (alhtough it's also equivalent to Option<& &str>)
[00:38:47] <kvark> Has vec::as_imm_buf been removed? I can't find an equivalent.
[00:39:00] <wycats> dbaupp: got it
[00:39:05] <ChrisMorgan> brson: given the space Rust is targeting (systems programming, and linking to C code will probably be quite common), I'm a little uneasy about not having such a a compatibility guarantee.
[00:39:14] <wycats> hm... maybe Option<&&str> is actually closer to what I want>
[00:39:14] <wycats> ?
[00:39:25] <wycats> I have no idea how to read &&str
[00:39:28] <wycats> borrowed slice I guess?
[00:39:28] <dbaupp> wycats: that might be easier from an FFI perspective
[00:39:29] <ChrisMorgan> wycats: & &str, not &&str which won't parse
[00:39:34] <ChrisMorgan> A borrowed pointer to a string slice.
[00:39:34] <dbaupp> borrowed poitner to a slice
[00:39:44] <wycats> & borrowed
[00:39:45] <wycats> &str
[00:39:47] <kmc> dbaupp: what about ~str thought? this would affect that too?
[00:39:48] <wycats> pointer to a slice?
[00:39:51] <dbaupp> kmc: and 60 vs 500 for the same regex with ~str and &str 
[00:40:01] <kmc> I think there's a lot of code in Servo which takes or returns a ~str
[00:40:12] <kmc> but I also don't think passing three words instead of one is a huge deal
[00:40:40] <wycats> if I take a & &str, then I need to * to get the actual &str right?
[00:41:29] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[00:41:32] <dbaupp> wycats: yes
[00:41:48] <o11c> passing 3 words instead of 1 is not a big deal
[00:41:54] <dbaupp> woah, git grep of the &str regex only turns up 30 in servo! :O
[00:41:56] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[00:41:56] *** ChanServ sets mode: +o jdm
[00:41:59] *** Quits: nkoep (nik@moz-9B2AEE99.pool.mediaways.net) (Quit: Leaving)
[00:42:01] <o11c> storing it in a data structure *is*, however
[00:42:27] <dbaupp> and 150 of ~str
[00:42:44] *** Joins: alan_and_ (alan_andra@4D23AE0A.4116688D.B7838CA6.IP)
[00:43:12] <dbaupp> and no &str with lifetimes
[00:43:15] *** Quits: FreeFull (freefull@moz-308A32E7.as13285.net) (Ping timeout)
[00:43:49] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Ping timeout)
[00:44:29] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[00:44:46] *** Joins: jhasse (jhass_000@moz-3128EA21.ewe-ip-backbone.de)
[00:45:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:45:28] *** Joins: gwty (gwtypc@75A7448E.8DB61C28.F44414AF.IP)
[00:46:36] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:47:34] <dbaupp> brson: if the vector representation is changing, will that include moving to Vec<T> rather than ~[T]? (If so, how does on initialise a Vec<T>?)
[00:48:01] <wycats> whee I'm down to failures only, no more segvs
[00:48:16] *** Joins: FreeFull (freefull@moz-DCEC2DDC.as13285.net)
[00:49:55] *** Quits: FreeFull (freefull@moz-DCEC2DDC.as13285.net) (Ping timeout)
[00:50:49] <wycats> brson: thanks so much
[00:51:03] <wycats> another proof of the "rust community is awesome" axiom ;)
[00:51:20] <wycats> brson is nice and so we are nice?
[00:51:34] <kmc> that doesn't work that well for the ruby community :/
[00:51:40] <dbaupp> "being nice is nice, and so we are nice"? :)
[00:51:43] <kmc> and I hope it's not an axiom, but an examined goal that we work towards every day
[00:51:54] <wycats> kmc: dammit I was hoping to make it unquestionable ;)
[00:52:01] <wycats> kmc: I try to be nice in the Ruby community
[00:52:12] <wycats> down to a single failure!
[00:53:33] <wycats> kmc: I'm not, tenderlove is nice, steveklabnik is nice
[00:53:35] <wycats> nice*
[00:54:04] <dbaupp> "wycats is not nice" you heard it here first :P
[00:54:11] <wycats> dbaupp: it's true
[00:54:24] <o11c> wycats is not mice
[00:54:30] <kmc> heh
[00:54:30] <wycats> actually you heard it here first: http://thewebivore.com/why-you-shouldnt-invite-yehuda-katz-to-your-user-group-meeting/
[00:54:40] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[00:54:47] * wycats unveils his true self
[00:54:52] <wycats> ^^ not actually what happened fwiw
[00:55:11] <dbaupp> there's always more than one side of every story :)
[00:55:28] <wycats> ccc
[00:56:13] <dbaupp> \o/ Boehm's tracing-heap mode works!
[00:56:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:57:25] <brson> dbaupp: probably DST will leave us with a single, sized array type and you'll create equivalent of today's ~[T] by actually putting a sized vector into a box
[00:57:35] *** Quits: valenting (Thunderbir@moz-9DFB83CF.residential.rdsnet.ro) (Ping timeout)
[00:57:41] <brson> dbaupp: and resizable vectors will be relegated to some kind of vec builder in the libs
[00:58:13] <brson> so initialization will be the same `~[...]`. it just means something slightly different
[00:58:28] <brson> of course if we get rid of ~ completely it will be more like `box [...]`
[00:58:30] <strcat> won't work if we support allocators, though
[00:58:37] <brson> and you'll get a Box<[T]>
[00:58:39] <strcat> (the ~[...] syntax)
[00:59:01] <dbaupp> brson: ah ok. (I was just thinking from the backwards-compat perspective of "do we need generic container literals?")
[01:00:27] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[01:00:47] <o11c> yes, we do need C++'s std::initializer_list
[01:02:07] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[01:02:16] *** Joins: valenting (Thunderbir@moz-9DFB83CF.residential.rdsnet.ro)
[01:02:16] <wycats> u32 as u64 is a lossless cast right?
[01:02:21] <dbaupp> yup
[01:02:38] <wycats> hmmm
[01:02:41] <wycats> something weird is going on
[01:02:56] <wycats> somehow 1000 is becoming 111 through the rube goldberg machine that is my protobuf encoder and decoder
[01:03:11] <dbaupp> magic
[01:03:14] <wycats> magic
[01:04:25] <SiegeLord> How would you differentiate ~[int, ..2] and ~[int] with the box [] syntax?
[01:05:57] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[01:06:20] <whitequark> is there an sha1 function in stdlib?
[01:06:32] <sfackler> not anymore
[01:06:34] <brson> yichoi: here's a pr to fix android unwinding https://github.com/mozilla/rust/pull/11281
[01:06:40] <whitequark> ah, right, there's one in extra
[01:06:46] <dbaupp> whitequark: nope
[01:06:50] <dbaupp> (at least, not on master)
[01:06:51] *** Quits: heftig (heftig@moz-E18A4DBD.dip0.t-ipconnect.de) (Ping timeout)
[01:06:57] <whitequark> oh
[01:07:10] <sfackler> whitequark: you can use rust-openssl
[01:07:22] *** Quits: derby (dirby@moz-773B6878.torservers.net) (Input/output error)
[01:07:23] <sfackler> there's also a pure-rust implementation somewhere
[01:07:26] <sfackler> rust-crypto maybe?
[01:07:28] <dbaupp> https://github.com/DaGenix/rust-crypto
[01:07:29] <dbaupp> yeah
[01:08:01] <dbaupp> (Rust is explicitly taking the approach "no crypto in the stdlib", preferring bindings to verified libraries.)
[01:09:33] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:10:00] <brson> jdm: are you involved in the 'community builders'? https://wiki.mozilla.org/Contribute/Builders
[01:10:07] <jdm> brson: yep
[01:11:03] <alan_and_> Is it possible that a mutable vector get's changed by a function ?
[01:11:51] <brson> jdm: i'm intending to talk to david about how rust can be involved
[01:11:52] <alan_and_> a = [1]; function(a){ a.slice(0) }; a == [];   // something like this
[01:11:57] *** Quits: Ferreus (ferreus@moz-B23984A6.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[01:12:33] *** Quits: alan_and_ (alan_andra@4D23AE0A.4116688D.B7838CA6.IP) (Quit: Leaving...)
[01:12:36] <jdm> brson: I would expect rust to fall under the general engineering banner, which is driven by myself and mhoye
[01:12:41] *** Joins: alan_andrade (alan_andra@4D23AE0A.4116688D.B7838CA6.IP)
[01:12:42] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:12:52] <dbaupp> rusti: let a = ~[1]; fn foo(x: &mut ~[int]) { x.pop(); } foo(&mut a); a
[01:12:54] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[01:12:58] -rusti- pastebinned 7 lines of output: http://ix.io/9DQ
[01:13:12] <dbaupp> rusti: let mut a = ~[1]; fn foo(x: &mut ~[int]) { x.pop(); } foo(&mut a); a
[01:13:13] -rusti- ~[]
[01:13:29] <alan_andrade> o_O
[01:13:37] *** Joins: FreeFull (freefull@moz-D7C04215.as13285.net)
[01:13:37] <dbaupp> rusti: let mut a = ~[1]; let closure = || { a.pop(); }; closure(); a
[01:13:38] -rusti- ~[]
[01:14:13] <whitequark> hm. what's the proper way to get a raw pointer to data of ~[] ?
[01:14:24] <strcat> whitequark: to_ptr
[01:14:26] <dbaupp> whitequark: .as_ptr() or .as_mut_ptr()
[01:14:28] <alan_andrade> Would it matter the the contents of the vector were managed?  ~[~"foo"]?
[01:14:34] <strcat> or whatever it's called now ;p
[01:14:37] <dbaupp> alan_andrade: (~ is not managed)
[01:14:37] <whitequark> aha, thanks
[01:14:40] <dbaupp> alan_andrade: no
[01:14:40] <kmc> alan_andrade: that's not managed, that's owned
[01:14:46] <kmc> and mutability is determined by the root of ownership
[01:14:55] <kmc> if ~[~"foo"] is inside a "let mut" then it's mutable
[01:15:13] <kmc> or inside an @mut or an RWArc
[01:15:15] <strcat> alan_andrade: ~T and ~[T] have value semantics, not reference semantics
[01:16:07] *** Joins: heftig (heftig@moz-E734D08.dip0.t-ipconnect.de)
[01:16:34] <alan_andrade> gotcha, still a lot to learn. Thanks : )
[01:17:58] <kmc> i forget, is there such a thing as &mut [T]? can you push elements to it? would have to be more restricted than immutable slices then
[01:18:05] <kmc> or would you just use &mut ~[T]
[01:18:08] <wycats> looks like I found a bug in read_varint
[01:18:10] <wycats> whee
[01:18:26] <strcat> kmc: can't push elements to &mut [T]
[01:18:53] <strcat> slices are a pointer and a length, representing a view of some block of elements
[01:19:07] <strcat> you don't own it or know how it's allocated
[01:19:20] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[01:20:06] <kmc> that's what i suspected... does &mut [T] even exist in the language?
[01:20:20] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:20:46] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Quit: Lost terminal)
[01:20:51] <strcat> kmc: yes
[01:21:08] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[01:21:09] <kmc> for mutating the elements themselves?
[01:21:10] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[01:21:13] <strcat> kmc: yes
[01:21:15] <sfackler> yep
[01:21:15] <kmc> ok hooray
[01:21:26] <strcat> kmc: slices don't have to point into heap allocated arrays
[01:21:29] <sfackler> I wonder how often it's used
[01:21:47] <kmc> right
[01:21:47] <strcat> they can point to fixed-size arrays (anywhere) or static memory 
[01:22:10] <sfackler> oh right, fn read(&mut self, buf: &mut [u8]) -> Option<uint>
[01:24:05] <ChrisMorgan> dbaupp: aww, I was busy tidying up the question and so I only just got to answering it, and lo! you've done it.
[01:25:33] <brson> dbaupp: what's the state of our metrics?
[01:26:07] <dbaupp> brson: on IRFY?
[01:26:09] <dbaupp> oh
[01:26:33] <brson> i guess we really need a dedicated bot to just run benchmarks
[01:26:35] <dbaupp> I've completely forgotten about investigating the stdlib #[bench] jsons
[01:26:40] <dbaupp> yeah that would be good
[01:26:56] * dbaupp had a rather unpleasantly eventful christmas break :S
[01:27:02] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[01:27:06] <dbaupp> ChrisMorgan: :)
[01:29:13] <bjz> dbaupp: :(
[01:29:32] *** Joins: ninjaskeet (bzlandfill@moz-8D804496.cpe.pppoe.ca)
[01:29:37] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:29:46] *** Quits: kngl1 (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[01:29:59] <ninjaskeet> is there a chance rust may get something like "var" as a synonym for "let mut"?
[01:30:24] <dbaupp> "brson pushed to dist-snap at mozilla/rust " <3 commits listed> "997 more commits »"; cute exactly 1000 :)
[01:30:38] <myname> <3 commits
[01:30:54] <dbaupp> ninjaskeet: https://github.com/mozilla/rust/issues/2643
[01:31:01] <dbaupp> heh, "3 commits"
[01:31:06] <ninjaskeet> D:
[01:31:08] <ninjaskeet> thanks
[01:31:28] <dbaupp> ninjaskeet: (specifically: https://github.com/mozilla/rust/issues/2643#issuecomment-19060793 and the `mut` has moved to be just on pattern bindings now)
[01:33:27] <ninjaskeet> kinda unfortunate but understandable
[01:33:40] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:33:58] <wycats> If &T is a reference, what's a T?
[01:33:59] <wycats> a value?
[01:34:19] <Yurume> context?
[01:34:22] <dbaupp> yes
[01:34:29] <Yurume> any context?*
[01:34:58] <dbaupp> fn foo(x: T) "x is passed by value", fn foo(x: &T) "x is passed by reference" (or, "x is a reference passed by value")
[01:36:09] <kimundi> welll, both T and &T are values
[01:36:36] <kimundi> passed by reference != a reference passed by value
[01:37:36] <kimundi> Granted, depending on context and mutability it does not make a difference, but there is a distinction
[01:37:44] <wycats> well
[01:37:53] <wycats> we say: let x = &foo
[01:37:57] <wycats> x is a reference to foo
[01:38:04] <wycats> fn foo(x: &T)
[01:38:07] <wycats> x is a reference to a T
[01:38:11] <wycats> fn foo(x: T)
[01:38:12] <wycats> what is x?
[01:38:21] <wycats> this is pedagogical
[01:38:24] <Yurume> x is a value which type is T
[01:38:29] <ChrisMorgan> Remember, of course, that T may be ~U, &V, etc.
[01:38:31] *** Quits: espadrine (Thunderbir@moz-475D8076.w92-128.abo.wanadoo.fr) (Ping timeout)
[01:38:35] <Yurume> of course.
[01:39:04] <Yurume> so to say: there are only values, though these "values" include references and unique pointers.
[01:39:09] <dbaupp> kimundi: passing a &T is as close as rust gets to passing by reference
[01:39:36] <bjz>  ninjaskeet: there is also the issue of ergonomically discouraging mutation
[01:39:46] <dbaupp> kimundi: (and, aiui, is basically the same thing as C++'s references, just more explicit and more value-y, right?)
[01:39:49] <Yurume> dbaupp: in that sense C++ has passing by reference. :)
[01:39:57] <wycats> so x is a value
[01:40:05] <ninjaskeet> bjz: I saw this argument too yeah
[01:40:23] <wycats> dbaupp: I think it's important to understand that some things are references
[01:40:30] <wycats> otherwise you get trolled when you have to *
[01:40:31] <bjz>  ninjaskeet: what did you think of it?
[01:40:35] <ninjaskeet> bjz: I'm not sure I'm convinced of that approach really
[01:40:36] <kimundi> Right, in rust its bascially the same, I was thinking more of languages that actually have pass-by-reference as a seperate thing
[01:40:45] <ninjaskeet> mutability is kinda necessary :s
[01:41:02] <ninjaskeet> I agree that it's, apples-to-apples, better to not have mutable things, but they are unambiguously required
[01:41:08] <wycats> kimundi: sadly too many things are close but not quite the same as ownership
[01:41:16] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:41:17] <wycats> because of the lack of DST and inconsistency in autoref
[01:41:20] <bjz>  ninjaskeet: well, it is, but you should always consider whether you need it first
[01:41:29] <ninjaskeet> agreed
[01:41:40] <ninjaskeet> but making people type more to do it seems very artificial
[01:41:40] <wycats> fn foo(bar: &T) foo(owned_pointer) yay foo(value) boo
[01:41:45] <bjz>  ninjaskeet: making it more verbose makes you think
[01:41:54] <wycats> ninjaskeet: type more to do what?
[01:41:58] <wycats> to get mutability?
[01:42:02] <ninjaskeet> yes
[01:42:02] *** Joins: espadrine (Thunderbir@moz-475D8076.w92-128.abo.wanadoo.fr)
[01:42:04] <bjz> wycats: `let mut`
[01:42:09] <wycats> ninjaskeet: so I agreed with you at first
[01:42:12] <wycats> but I've come around
[01:42:15] <wycats> let me try to explain why
[01:42:21] <ninjaskeet> I admit I haven't written much rust code
[01:42:27] <wycats> (1) the "this actually doesn't need to be mut" warning is very useful
[01:42:44] <wycats> (2) it means you can look at any function and understand whether anyone DOWNSTREAM is allowed to mutate
[01:42:52] <ninjaskeet> I'm mainly a C++ programmer and tend to const everything I really can so I can appreciate its usefulness
[01:43:00] <wycats> (3) it means you have to give explicit permission to downstream functions to mutate
[01:43:20] <wycats> if you're a function and you want to mutate something, you have to ask for permission and be granted it
[01:43:31] <wycats> I have more doubts about having to ref T :P
[01:43:39] <wycats> I would prefer autoref from T to &T
[01:43:47] <ninjaskeet> I'm trying to think of a project to work on to learn more rust :)
[01:43:48] <ChrisMorgan> Remember that &mut T is already mutable; downstream functions can mutate it.
[01:43:58] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[01:44:06] <wycats> ChrisMorgan: confirm
[01:44:36] <wycats> once you get a mutable loan you don't need to get another mutable loan
[01:44:37] <dbaupp> fwiw, grep `let.*mut` turns up 5000 results and `let` turns up 22000 (so ~17000 immutable let's)
[01:44:41] <Yurume> rusti: fn f(x: &mut uint) { *x = 42; } let mut x = 54; f(&mut x); x
[01:44:42] <dbaupp> (in mozilla/rust)
[01:44:42] <wycats> I tend to restrict my mutable loans tightly
[01:44:42] -rusti- 42u
[01:44:48] <bjz> ninjaskeet: you will learn to love it :). I'm just glad we didn't use val/var like in scala - which are too visually similar, and it can be confusing what to use as the default
[01:44:50] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Ping timeout)
[01:44:54] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[01:44:57] *** Quits: nealla (nealla@moz-8609DA39.members.linode.com) (Ping timeout)
[01:45:02] <wycats> dbaupp: at minimum, getters never need to be mutable
[01:45:07] <wycats> so half your functions are immutable right there :P
[01:45:13] <ninjaskeet> bjz: I've considered that before - I'm curious what people who have used scala a lot think
[01:45:16] *** Quits: Eridius (kevin@moz-533B0DB4.us) (Ping timeout)
[01:45:18] <wycats> bjz: love it is maybe overselling ;)
[01:45:22] <dbaupp> wycats: getters? who has getters?
[01:45:22] <dbaupp> :P
[01:45:32] <wycats> dbaupp: you wanna gimme accessors?
[01:45:34] <wycats> I'll take em
[01:45:46] <dbaupp> raw .field is all anyone needs :P
[01:45:48] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[01:45:48] <wycats> you need getters to lend out field values
[01:45:50] <wycats> deeeeny
[01:45:53] <dbaupp> haha
[01:45:55] <wycats> unless you want to move things out constantly
[01:46:01] <wycats> and be trolled hard
[01:46:03] <dbaupp> &foo.field doesn't move
[01:46:08] <wycats> yeah you have to remember to do that
[01:46:08] <bjz> wycats: well I think it's ugly, but love it because its ugly. :)
[01:46:23] <wycats> dbaupp: I prefer to hide that & inside an abstraction
[01:46:32] <dbaupp> well the compiler complains at you if you forget to do that and you are require to do
[01:46:39] <wycats> it doesn't yell at you at first
[01:46:41] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[01:46:47] <wycats> at first you're just fucking your value
[01:46:52] <wycats> it isn't until you try to do something later
[01:46:55] <wycats> that the compiler yells
[01:47:06] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[01:47:10] <kvark> dbaupp: I suppose we could have a macro for getter definition
[01:47:23] <dbaupp> yeah, but if you don't do something later it doesn't matter if you move out?
[01:47:26] * ChrisMorgan wishes we had field access through traits (in some way)
[01:47:28] <wycats> kvark: confirm
[01:47:48] <SiegeLord> ChrisMorgan: Isn't that on the table with the struct inheritance?
[01:47:51] <wycats> dbaupp: it "doesn't matter" but you have to track down where you screwed up
[01:47:56] <dbaupp> kvark: yup, at one point it was going to be #[bstrie] (similar to #[deriving])
[01:47:57] <Yurume> ChrisMorgan: something like D's first-argument-as-receiver?
[01:48:01] <wycats> dbaupp: and you have to look at the field to see whether you need to &
[01:48:06] <dbaupp> wycats: doesn't the compiler point at where you moved out?
[01:48:08] <wycats> in all seriousness, I'm surprised you think this
[01:48:11] <wycats> dbaupp: sort of?
[01:48:13] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[01:48:21] <wycats> dbaupp: you really want an abstraction around the borrow
[01:48:22] <ChrisMorgan> SiegeLord: yes, and that's one form of it. (Not the only one.)
[01:48:33] <dbaupp> not always...
[01:48:47] <dbaupp> I guess I might be more practiced at working out what the compiler is complaining about
[01:48:48] <wycats> dbaupp: I've only ever gotten trolled when I tried to be smarter than getters
[01:48:52] * dbaupp shrugs
[01:48:56] <wycats> I mostly understand what the compiler is saying
[01:49:11] <wycats> dbaupp: the problem is that sometimes you're getting a copyable value
[01:49:16] <dbaupp> and?
[01:49:22] <wycats> so you have to go look at the definition and try to work out whether a & is needed
[01:49:28] <wycats> but you have the information in the impl
[01:49:30] <dbaupp> and immutable borrow is basically the same as by vale in that case
[01:49:34] <dbaupp> other than the size
[01:49:35] <dbaupp> ?
[01:49:41] <wycats> you have to know whether you need a &
[01:49:42] <dbaupp> *an *value
[01:49:53] <dbaupp> to call another function?
[01:49:55] <wycats> a function signature tells you exactly what you need
[01:50:08] <dbaupp> i.e. foo(bar.field) vs foo(&bar.field)?
[01:50:09] <wycats> dbaupp: believe me, I'm horrified that I tend to write getters
[01:50:24] <dbaupp> vs. foo(*bar.field()) vs foo(bar.field)?
[01:50:26] <wycats> bar.field() will always give you the right kind of thing back
[01:50:28] <dbaupp> *foo(bar.field())
[01:50:34] <wycats> and you can look at the signature to figure it out
[01:50:35] <dbaupp> um, no?
[01:50:40] <wycats> wat
[01:50:45] <wycats> ok let me try again
[01:50:49] <dbaupp> it will always give a reference... what if you want it by value?
[01:51:02] <wycats> dbaupp: it can choose to copy a uint if it wants
[01:51:10] <wycats> but you just look at the signature to see what you're getting
[01:51:20] <wycats> dbaupp: maybe it has to do with skill
[01:51:36] <wycats> but whenever I have tried to use raw fields I have found myself accidentally moving things I didn't mean to
[01:51:46] <wycats> keep in mind that raw Ts can be moved to
[01:51:59] <wycats> you have to walk the entire recursive field structure to figure out if you're moving something
[01:52:19] <wycats> y we no accessors? :(
[01:52:26] * dbaupp hasn't ever met that problem in a way that took more than a minute to diagnose and fix
[01:52:39] <wycats> I don't enjoy spending minutes diagnosing and fixing this kind of problem
[01:52:46] *** Quits: FreeFull (freefull@moz-D7C04215.as13285.net) (Quit: )
[01:52:53] <wycats> an accessor macro would make me happy
[01:53:04] <wycats> although set_foo makes me sad
[01:53:50] <dbaupp> accessors == `foo.something = 1` calling some method (and bar(foo.something) calling some other one), righ?
[01:53:55] * kimundi is still trying to think of a syntax for accessors that ditinguisches them from fields without being methods
[01:54:13] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[01:54:13] <Yurume> kimundi: foo.bar! or foo.bar! = 42; ?
[01:54:16] <wycats> accessors == foo.something calls a method
[01:54:18] *** Quits: echristo (echristo@8063EDD3.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:54:21] <wycats> Yurume: :+1
[01:54:22] <wycats> :+1:
[01:54:25] <dbaupp> currently x.field is always a constant offset and very cheap
[01:54:29] <wycats> dbaupp: yeah
[01:54:34] <wycats> I like where Yurume is going
[01:54:36] * kimundi points at macros
[01:54:42] * dbaupp likes Yurume's too
[01:54:43] <Yurume> I'm not sure I want that syntax, but that's a possibility
[01:54:46] <wycats> yeah
[01:54:48] <kimundi> foo.()bar = 34 // ?
[01:55:01] <wycats> foo[bar] = 1
[01:55:07] <wycats> too much like JS :P
[01:55:15] <wycats> foo[bar]
[01:55:15] <Yurume> and ambiguity with Index trait.
[01:55:18] <wycats> ah
[01:55:20] <dbaupp> wycats: (FWIW, the only time I use getters is when I have a private required-to-be-read-only field.)
[01:55:27] <kimundi> foo.@bar = x // The sigil is soon free to use!
[01:55:35] <wycats> dbaupp: I think we'll have to agree to disagree until I get more skilled
[01:55:42] <dbaupp> ok
[01:55:43] <wycats> at which time I will probably find myself agreeing with you
[01:55:47] <Yurume> kimundi: any other possible use of @? :)
[01:55:47] *** Joins: nealla (nealla@moz-8609DA39.members.linode.com)
[01:55:54] <wycats> but we should keep noob pain in mind
[01:55:59] <wycats> Yurume: annotations!
[01:56:06] <dbaupp> yeah, that may be a case of better compiler diagnostics though
[01:56:12] <wycats> dbaupp: I'm not sure
[01:56:15] <wycats> but I'm open to that
[01:56:29] <wycats> fix <V8> and I'll believe in better diagnostics :P 
[01:56:44] <wycats> Expected Option<V8> but found Option<~Trace>
[01:56:44] <kimundi> foo.,bar = x // /trollface
[01:56:49] <wycats> where V8 is actually Trace
[01:56:59] <wycats> foo{bar} = x?
[01:57:00] <dbaupp> wycats: you don't like opaque yet-to-be-inferred variable errors? they're the most fun
[01:57:02] * dbaupp kidding
[01:57:06] <wycats> dbaupp: I love em
[01:57:17] <Yurume> wycats: that will require bidirectional type inference, which is AFAIK limited at the moment
[01:57:19] <ChrisMorgan> Seriously, everyone wants to use @ for their own proposal now. I've seen at least three wanting to use @.
[01:57:24] <wycats> what about foo.bar() = baz
[01:57:26] <Yurume> so that's not a really <V8> issue ;)
[01:57:29] <wycats> foo.bar() isn't so bad
[01:57:30] *** Quits: jhasse (jhass_000@moz-3128EA21.ewe-ip-backbone.de) (Connection reset by peer)
[01:57:36] <wycats> but foo.set_bar() is
[01:57:58] <wycats> it's too bad we don't have overloading or we could have foo.bar() and foo.bar(baz)
[01:58:06] <Yurume> ChrisMorgan: make @ an operator which meaning is not prescribed by the standard library. (now there are four.)
[01:58:16] <wycats> we could overload via traits: foo.bar(()) and foo.bar(baz)
[01:58:31] <wycats> fwiw: I arrived post-removal-of-@ and I'm so glad I did
[01:58:33] <ChrisMorgan> wycats: eek!
[01:58:34] <Yurume> wycats: what if bar can accept ()?
[01:58:50] <wycats> bar is a function that takes a private SetterOrGetter trait
[01:58:52] <dbaupp> I know! Literal email addresses example@example.com
[01:59:02] <wycats> and then calls to_setter_or_getter()
[01:59:04] <wycats> and matches on the result
[01:59:08] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[01:59:12] <wycats> I'm trolling extremely hard right now
[02:00:02] <ChrisMorgan> wycats: .bar() getter and .bar(T) setter is what Qt does, in case you didn't know.
[02:00:16] *** Joins: frau (frau@A432E5CC.191304CB.C579BC3E.IP)
[02:00:24] <wycats> ChrisMorgan: it's also a jQuery idiom
[02:00:29] <wycats> that's where I learned it
[02:00:33] <wycats> but it requires overloading
[02:00:46] <wycats> we only have overloading by type, not by arity
[02:00:54] <ChrisMorgan> True. But Qt did it before jQuery, anyway.
[02:00:55] <wycats> and when I say we have overloading by type, I mean via trait hax
[02:01:01] <wycats> ChrisMorgan: sure
[02:01:07] <wycats> that's where *I* learned it :)
[02:01:10] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[02:01:21] <dbaupp> (we have overloading by arity via first class tuples... :P )
[02:01:32] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[02:01:32] <Yurume> ChrisMorgan: .bar()/.bar(T) is also to what D translates the missing property syntax.
[02:01:32] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:01:34] <wycats> dbaupp: not really
[02:01:41] <Yurume> to which*
[02:01:45] <wycats> dbaupp: because you have an extra layer of wrapping
[02:01:56] <wycats> unless I misunderstand tuple syntax
[02:02:06] <dbaupp> yes, it does have an extra layer
[02:02:11] <dbaupp> and it likely changes the ABI
[02:02:19] <SiegeLord> Yurume: It has @property attribute as the official "property syntax"
[02:02:22] <dbaupp> but currying
[02:02:25] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[02:02:26] <dbaupp> (kinda)
[02:02:30] <Yurume> SiegeLord: D2?
[02:02:32] <ChrisMorgan> C# properties are quite nice, too, property foo being sugared to methods GetFoo() and SetFoo(T).
[02:02:35] <SiegeLord> Yurume: Yes
[02:02:38] <whitequark> dbaupp: if that translates to an LLVM struct, it's exactly equivalent to just passing the arguments unboxed
[02:02:42] <Yurume> I'm not that into D2 so I may miss something
[02:02:51] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[02:02:52] <wycats> dbaupp: can you make a gist of what you mean by using tuples this way?
[02:02:52] <SiegeLord> Hah, good idea
[02:02:53] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[02:03:00] *** Joins: Eridius (kevin@moz-533B0DB4.us)
[02:03:03] <wycats> I think I'm misunderstanding the proposal
[02:03:06] <dbaupp> whitequark: is it? I thought passing a struct uses a different ABI (i.e passed on stack) to passing raw values?
[02:03:08] <dbaupp> wycats: sec
[02:03:08] <wycats> well, not a proposal
[02:03:18] <whitequark> dbaupp: passing a struct in C != passing a struct in LLVM
[02:03:29] <Yurume> ChrisMorgan: that may be the cheapest solution.
[02:04:12] <Yurume> given foo.bar, when the property bar does not exist in foo or foo itself is not a struct, try foo.get_bar() or *foo.get_mut_bar() instead.
[02:04:31] <whitequark> "call f({ %foo foo, %bar bar })" is exactly equivalent to "call f(%foo foo, %bar bar)" (forgive my bastardization of LLVM IR)
[02:04:59] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:05:14] <wycats> dbaupp: probably the best argument for your position about fields is that you don't need variants for mut
[02:05:21] <wycats> &x.field &mut x.field
[02:05:27] <wycats> you don't need x.get_mut_field()
[02:05:44] <strcat> wycats: and you can move out if you want to
[02:05:54] <dbaupp> wycats: https://gist.github.com/huonw/289e6f1cdc0551679b86
[02:05:55] <wycats> you can always move out if you want to
[02:06:04] <wycats> ah right
[02:06:11] <wycats> that's what I was getting at before with (())
[02:06:15] <dbaupp> (I wasn't entirely serious)
[02:06:20] <dbaupp> whitequark: ok :)
[02:06:24] <wycats> dbaupp: yeah me neither
[02:06:26] <SiegeLord> Hah, that's neat
[02:06:36] <frau> Oh, that's superb! We can copy obj-c's all-new-keywords-start-with-@ policy for INFINITE KEYWORDS!
[02:06:36] <SiegeLord> I wonder if that's used in the wild
[02:06:47] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:06:58] <wycats> SiegeLord: probably not, given that I thought about it and realized it was ridiculous :p
[02:07:11] <wycats> SiegeLord: that said, overloading by public traits is neat
[02:07:36] <wycats> for example, in my ActiveSupport clone, I'm planning on making Date - int and Date - Duration work
[02:07:45] <wycats> but the API will be a trait that has to_duration() on it
[02:07:47] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:07:51] <wycats> so you can opt into it with your own type
[02:07:52] <SiegeLord> That said, I *think* it'll be possible to drop the extra parentheses with the changes eddyb is making
[02:08:01] <dbaupp> if they land
[02:08:02] <wycats> vs. overloading which have to be built-in
[02:08:06] <wycats> what are these changes?
[02:08:08] <SiegeLord> Right, of course
[02:09:03] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[02:09:14] <SiegeLord> I don't recall the exact syntax... something like do_thing<(T..):Arity>(args: (T..))
[02:09:27] <SiegeLord> Or maybe one less parenthesis in the arguments
[02:09:46] *** Quits: nealla (nealla@moz-8609DA39.members.linode.com) (Ping timeout)
[02:09:49] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Ping timeout)
[02:09:52] <wycats> SiegeLord: ah... so it's explicitly an attempt to support overloading by arity?
[02:10:06] <SiegeLord> No, it's for the Func trait
[02:10:07] <dbaupp> https://github.com/mozilla/rust/pull/10769
[02:10:19] <wycats> heh so it accidentally produces overloading by arty ;)
[02:10:21] <wycats> airty*
[02:10:24] <wycats> arity*
[02:10:30] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[02:10:39] <wycats> "Closing this due to inactivity, but feel free to reopen with an update!"
[02:10:42] <wycats> seems dead
[02:10:51] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:11:08] <dbaupp> I think eddyb had an accident too
[02:11:19] <dbaupp> and so is working slower
[02:11:25] <dbaupp> (and is also working on other things)
[02:11:31] <wycats> oy
[02:11:34] <wycats> so many accidents
[02:11:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:11:40] <dbaupp> such hurt
[02:11:42] <wycats> :(
[02:11:45] <wycats> very pain
[02:11:46] <wycats> ow
[02:11:53] <dbaupp> hah
[02:11:54] <wycats> see what I did there?
[02:11:54] <wycats> :P
[02:12:02] <sbalmos> so young, so angry...
[02:12:06] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:13:11] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[02:13:13] <wycats> hahaha
[02:13:19] *** Joins: nealla (nealla@moz-8609DA39.members.linode.com)
[02:13:31] <wycats> I've been having more fun with Rust than I've had with Ruby or JS probably since I started programming
[02:13:40] <wycats> It's probably all the incantations
[02:13:41] <ChrisMorgan> wycats: it'd be nice if we had only one date/time library in use; is there something wrong with extra::tm for your ActiveSupport clone? (Do you intend it to be used? I'm not clear on whether it's for that or not.)
[02:13:46] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:13:47] <wycats> I feel like I've converted to wicca
[02:13:53] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[02:13:58] <wycats> ChrisMorgan:  extra::tm is horrible
[02:14:00] <wycats> very horrible
[02:14:09] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[02:14:10] <wycats> I tried to use it for a couple days
[02:14:17] <wycats> I think we should move my Time/Date stuff into core
[02:14:31] <wycats> tl;dr Tm has to be populated by internal code
[02:14:44] <dbaupp> I think extra::tm is just minimum required to get some kind of time support
[02:14:44] <wycats> there is no way to create a Tm based on something like month/day/year/hour/minute/second
[02:14:46] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:14:50] <wycats> it's not even the bare minimum
[02:14:54] <dbaupp> not much effort spend on it at all
[02:14:59] <wycats> it's the minimum necessary to get time_now() working
[02:15:00] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[02:15:06] <wycats> i.e. read only time provided by the system
[02:15:15] <wycats> it's missing constructibility 
[02:15:28] <wycats> and I had to add support for date calculations
[02:15:33] <wycats> there's nothing in extra::tm
[02:15:34] <ChrisMorgan> I agree that extra::tm is not nice; mainly I just want it to improve.
[02:15:42] <wycats> ChrisMorgan: I'd be happy to work on it
[02:15:51] <dbaupp> the things used from extra::time in the compiler (etc) re precise_time_ns and precise_time_s
[02:15:53] <wycats> but working in user land is easier than working via PRs
[02:15:53] <ChrisMorgan> Good, that's the answer I like to hear :-)
[02:15:56] <dbaupp> *are
[02:16:13] <wycats> I use precise_time_ns in Skylight
[02:16:14] <dbaupp> hence there's been no requirement to work on it to get the compiler to go
[02:16:23] <dbaupp> (which is the current priority)
[02:16:35] <wycats> this code: https://github.com/wycats/rust-activesupport/blob/master/date.rs#L29
[02:16:42] <wycats> and this code: https://github.com/wycats/rust-activesupport/blob/master/date.rs#L86
[02:16:45] <wycats> should be in core imho
[02:16:51] <wycats> as well as the constructibility
[02:16:54] <dbaupp> https://github.com/mozilla/rust/issues/2153 fwiw
[02:16:59] <wycats> the only thing that really doesn't belong in core is the DSL
[02:17:02] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[02:17:23] <wycats> also, doing second math requires a built-in libraries that understands leap seconds
[02:17:28] <dbaupp> https://github.com/mozilla/rust/wiki/Lib-datetime fwiw
[02:17:55] * dbaupp fwiw.clone()
[02:18:00] <sfackler> what's jdn?
[02:18:26] <kvark> How do I declare a never-used struct and not get a warning?
[02:18:38] <wycats> I am much worse at parsing thousands of github issues than other people in the rust community it seems
[02:18:38] <wycats> JDN is Julian Date Number
[02:18:45] <dbaupp> kvark: `#[allow(dead_code)] struct ...`
[02:18:46] <wycats> it's how you can do math on dates efficiently
[02:19:00] <sfackler> ah
[02:19:11] <kvark> dbaupp: thanks, I tried struct _Name, thought the convention is the same as with vars
[02:19:16] <wycats> http://en.wikipedia.org/wiki/Julian_day#Converting_Julian_or_Gregorian_calendar_date_to_Julian_Day_Number
[02:19:27] <wycats> I implemented that algorith
[02:19:55] <Yurume> wycats: that has slow divisions though :)
[02:20:07] <wycats> I guess perf is a matter of perspective ;)
[02:20:08] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[02:20:21] <wycats> my original inclination was O(n) :P
[02:20:43] <wycats> this is better
[02:20:57] <dbaupp> Yurume: divisions by constants aren't *that* slow
[02:21:02] <wycats> take that
[02:21:05] <Yurume> I think there is at least one implementation of such library (not in Rust, but in Common Lisp) which uses 146997(I think)-entry table
[02:21:20] <wycats> lolz
[02:21:28] <Yurume> dbaupp: yes, since it is converted to multiplications by constants and shifts.
[02:21:31] <sfackler> !
[02:21:38] <wycats> dbaupp: honestly, the 1,500 entry issue list is making me not want to contribute to core
[02:21:48] <wycats> it's very daunting
[02:21:54] <wycats> I have no idea how things don't go into a black hole
[02:22:06] <wycats> in all of my projects we start to feel nervous if the issue count goes beyond 100
[02:22:32] <ChrisMorgan> wycats: a lot of them are open as "we know we'd like this, but it's distant future" things.
[02:22:37] <dbaupp> a lot of the issues are rustc bugs
[02:22:53] <dbaupp> or dupes/not-a-bugs/fixed's that haven't been triaged recently
[02:23:01] <dbaupp> (rather than library bugs)
[02:23:07] <wycats> ChrisMorgan: I'd close those
[02:23:16] <wycats> Rust will have changed enough by the distant future to make them irrelevant
[02:23:20] <dbaupp> since mozilla/rust is kinda-of multiple projects at once (the compiler and the libraries)
[02:23:22] <wycats> keep distant future stuff in a roadmap doc
[02:23:29] *** Quits: frau (frau@A432E5CC.191304CB.C579BC3E.IP) (Ping timeout)
[02:23:30] <wycats> dbaupp: I used to do that
[02:23:45] <wycats> the distant future Rust looks nothing like the distant future Rust from the perspective of today
[02:24:30] <Yurume> in the distant future every crate in mozilla/rust has to be its own project and in particular libstd/libextra should be divided into community-curated crates ;)
[02:24:50] <whitequark> divide libstd even more?! there's practically nothing in it
[02:24:55] <wycats> in the distant future people will have realized that the name "crate" is lulzworthy and will have switched to something sane like "package"
[02:24:56] <dbaupp> not libstd
[02:25:00] <dbaupp> libextra yes
[02:25:08] <wycats> whitequark: don't worry, every language has people who want to "pull stdlib into packages"
[02:25:14] <wycats> it sounds so glamorous
[02:25:15] <ChrisMorgan> wycats: but these ones you're wanting to close are an important part of what is going to *make* Rust different, so that they become potentially irrelevant.
[02:25:22] <dbaupp> wycats: C?
[02:25:25] <Yurume> dbaupp: ah, okay, I was mistaken about that
[02:25:25] <carter> whitequark: :0
[02:25:30] <carter> *howdy whitequark 
[02:25:32] <wycats> dbaupp: hm perhaps not C
[02:25:41] <whitequark> pretty sure wycats is talking about ruby :p
[02:25:42] <Yurume> but at least librustc and libstd will depart somehow, right?
[02:25:44] <wycats> Python too
[02:25:45] <dbaupp> Yurume: (I think libstd is aimed to be as small as possible though)
[02:25:46] <wycats> node
[02:25:57] <Yurume> dbaupp: I'm not sure about that regard
[02:26:00] <dbaupp> wycats: not that C has much of a stdlib anyway Ö=
[02:26:06] <strcat> wycats: python's stdlib has lots of examples of why you'd want to do that
[02:26:07] <wycats> ChrisMorgan: if they can only be implemented in 1+ years, the context for them will be so different by then that they're not worth tracking imho
[02:26:09] <whitequark> dbaupp: Yurume: ocaml only has in its stdlib whatever it needs to run ocamlc. it's horrible. almost unusable.
[02:26:14] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[02:26:16] <strcat> requests, lxml, and so on demonstrate that the stdlib is *not good*
[02:26:17] <dbaupp> Yurume: i.e. move the non-essentials in to libextra/external packages
[02:26:20] <whitequark> there are two different and completely incompatible stdlib replacements due to that.
[02:26:22] <Yurume> dbaupp: C has lots of orthogonally (and mostly) useless stdlib ;)
[02:26:26] <whitequark> really that should not be done.
[02:26:34] <whitequark> carter: hi
[02:26:35] <wycats> it seems like a good idea, but having std lib go through a sane QA process together with the core means that stdlib works on day 1 after shipping a new version
[02:26:39] <wycats> which is a HUGE win
[02:26:40] <wycats> huge
[02:26:43] <dbaupp> Yurume: yes, and it's barely worth calling a "stdlib" :P
[02:26:44] <wycats> nobody thinks about that
[02:27:00] <Yurume> dbaupp: (in the sense that its header file name starts with std...)
[02:27:01] <carter> nobody thinks what?
[02:27:02] <wycats> gems or packages or whatever have to be fixed
[02:27:17] <wycats> but Net::HTTP always works the day a new Ruby is shipped
[02:27:28] <dbaupp> wycats: packages may be maintained by the core language developers
[02:27:33] <wycats> people say that
[02:27:38] <wycats> nobody really believes it
[02:27:39] <ChrisMorgan> strcat: and Python's standard library has about four different XML readers, none of them considered in the slightest bit idiomatic any more!
[02:27:41] <Yurume> anyway, I appreciate Haskell's efforts on that, everything *has to be* built upon Cabal.
[02:27:52] <wycats> I would be in favor of moving things out into packages that were still part of core's test suite
[02:27:55] <wycats> but nobody really wants that
[02:28:06] <wycats> what people really want is less competition for their pet library
[02:28:08] <Yurume> (and Hackage makes that easier to look up)
[02:28:17] <dbaupp> wycats: what do you mean? (I don't mean individual developers, I mean the "Rust developers" as a conglomerate have packages like libstd maintained like they are now.)
[02:28:19] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:28:23] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:28:23] <Yurume> (while maintaining sane package hierarchy)
[02:28:34] <wycats> dbaupp: I'm mostly just ranting
[02:28:36] <dbaupp> just not necessarily in the same repo as the compiler
[02:28:37] <wycats> ignore me
[02:28:52] <carter> Yurume: i'm kinda thinking that some of the simpler ideas from the cabal lib could be good for the rustpkg api
[02:28:53] <wycats> dbaupp: that's fine as long as every test run runs against it
[02:29:35] <carter> whats a sane vs insane package hiearchy?
[02:29:37] <Yurume> carter: indeed, except for multiple versions issue (ghc-pkg is sorta nasty) it has many good things to take
[02:29:51] <carter> Yurume: yeah, and folks are working on figuring that out
[02:30:07] <whitequark> hm, if I have a raw pointer and size, how do I make a slice out of that?
[02:30:08] <carter> the opposite approach of every lib having a private copy of its dependencies by default scares me
[02:30:20] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:30:28] <carter> because unless those deps are truely private, there can be some weird as hell bugs
[02:30:33] <whitequark> though maybe I don't need that
[02:30:34] <Yurume> whitequark: std::vec::raw::buf_as_slice.
[02:30:39] <whitequark> oh, thanks.
[02:30:46] <Yurume> or mut_buf_as_slice if you want &mut [T].
[02:30:59] <carter> Yurume: theres a roadmap to sanely doing the multiple versions thing, though theres some subtle things before that can be done
[02:31:17] <carter> the long term vision by the cabal devs is to be a nix like package manager
[02:31:19] <Yurume> whitequark: there are three different versions of that function, depending on what to construct
[02:31:34] <ChrisMorgan> Do we have anyone who's worked extensively in the Node world? NPM has encouraged a significant proliferation of packages that have tightly constrained scope; does this work well? Can you compare it with what is more typically done, of packages that typically scrunch more things together?
[02:31:52] <carter> ChrisMorgan: i don't understand the dichotomy?
[02:31:54] <strcat> ChrisMorgan: that's what the haskell world does too
[02:31:56] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:31:56] <wycats> one nice thing about std lib is that if your core language is unstable you don't need a package system that knows how to have packaged pinned to specific versions
[02:32:02] <wycats> ChrisMorgan: I have
[02:32:11] <wycats> it will work well for us if rustpkg is good
[02:32:12] <carter> strcat: yup!
[02:32:22] <wycats> ChrisMorgan: I hope to work on rustpkg in 2014
[02:32:24] <wycats> I have many ideas
[02:32:27] <Yurume> carter: sounds good, I have done Haskell programming but didn't have my own pet project mature enough for packaging.
[02:32:27] <carter> wycats: i've some ideas for rustpkg too
[02:32:30] <wycats> carter: <3
[02:32:44] <carter> wycats: mind you, right now i'm admidst juggling consulting and stuff
[02:32:51] <wycats> it's crucially important to have a system that knows how to rebuild everything using the same settings as the top-level executable or so
[02:32:54] <carter> (don't recommend consulting)
[02:33:00] <wycats> carter: I do some of it
[02:33:04] <wycats> it's not my favorite thing in the world
[02:33:13] *** kimundi is now known as zz_kimundi
[02:33:15] <carter> yeah
[02:33:34] <wycats> it's useful for me to learn about what Ember people are doing in real life
[02:33:34] *** Quits: ninjaskeet (bzlandfill@moz-8D804496.cpe.pppoe.ca) (Quit: CGI:IRC (EOF))
[02:33:40] <carter> oh noes
[02:33:45] <wycats> I do training, consulting and my own app
[02:33:49] <carter> emergency kittens?
[02:33:52] <wycats> so I get perspectives from many directions
[02:34:34] <carter> i'm not at the point where i'm doing consulting on my own projects yet
[02:34:46] <carter> so its even more emotionally draining in terms of "emulating caring"
[02:35:06] <wycats> ha
[02:35:11] <wycats> I usually can get myself to care
[02:35:19] <carter> i have finite care volume
[02:35:20] <wycats> I don't do well working on shit I don't care about at all
[02:36:01] <carter> yeah
[02:36:23] <carter> i''d probably be a bit happier with more predictable income for the near year
[02:37:25] <wycats> yeah
[02:37:35] <wycats> starting my own company was kind of the best of both worlds
[02:37:39] <wycats> but we needed 4 founders :P
[02:38:43] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[02:39:54] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:40:15] <dbaupp> sfackler: you don't happen to know which rust-postgres commit https://github.com/mozilla/rust/issues/9044 was with do you?
[02:41:01] <sfackler> no, but presumably the one at the same time that bug was filed
[02:41:10] <sfackler> i'll poke around and see if I can repro it
[02:41:48] <sfackler> the current version compiles cleanly with debug info
[02:42:04] <dbaupp> I'd guess that bug is just too old to be useful anymore
[02:42:08] <sfackler> yeah
[02:42:11] <sfackler> i'll just close it
[02:44:19] <wycats> sfackler: #[deriving(Postgres)]
[02:44:30] <wycats> that is all
[02:45:03] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[02:45:03] <Yurume> #[deriving(Rustc)]
[02:45:06] <sfackler> wycats: I'm waiting on 11228 to land before adding that to 11151
[02:45:39] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[02:45:52] <wycats> sfackler: I'm just keeping you goosed
[02:47:05] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[02:50:08] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[02:52:04] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:52:51] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[02:54:59] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[02:56:31] <wycats> proposal: use SomeTrait::{metha as methb}
[02:56:40] *** Quits: wycats (wycats@moz-DBE30632.hsd1.or.comcast.net) (Connection reset by peer)
[02:57:56] *** Quits: Mindless` (mindless@moz-9C38D3B4.net) (Ping timeout)
[02:57:58] *** Joins: Mindless` (mindless@moz-9C38D3B4.net)
[02:58:28] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[03:01:56] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[03:03:03] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:03:21] *** Joins: wycats (wycats@moz-DBE30632.hsd1.or.comcast.net)
[03:03:24] <wycats> dammit I got disconnected
[03:03:30] <wycats> did anyone reply to my proposal?
[03:03:37] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[03:04:07] <brson> wycats: crickets
[03:04:21] <wycats> ha
[03:04:24] <wycats> brson: did you see it?
[03:04:42] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[03:05:05] <wycats> use SomeTrait::{metha as methb}
[03:05:08] <brson> wycats: yes
[03:05:16] <wycats> to resolve conflicts without resorting to scope shenanigans
[03:05:50] <dbaupp> I'd certainly like to be able do somemodule::SomeTrait::metha(foo) as well as foo.metha()
[03:05:51] <brson> well, there should be an explicit way to distinguish which method you are calling at the callsite
[03:06:03] <brson> and it would also be nice to be able to import trait methods
[03:06:19] *** Quits: KindOne (KindOne@6214C64B.C538DA2.EC6A1518.IP) (Ping timeout)
[03:06:42] <wycats> call site is nice but not really quite right
[03:06:44] <sfackler> I think there's a proposal for Foo::bar(a, b) to be the same as a.bar(b)
[03:06:45] <brson> if you could import a trait method then you could rename it during the imort, like use methb = SomeTrait::metha
[03:06:51] <sfackler> if a's type implements Foo
[03:06:52] <wycats> because it makes every call site much more verbose
[03:06:58] <wycats> when all you really want is conflict management
[03:07:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:07:05] *** Quits: threecreepio1 (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[03:07:20] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:07:29] <wycats> it should be easy to support; just locally change calls to .methb() to SomeTrait::metha
[03:07:44] <brson> the SomeTrait::{metha as methb} looks to me like you are importing metha, not importing SomeTrait while renaiming metha
[03:08:22] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:08:39] <wycats> brson: I'm open to any other syntax
[03:08:50] <wycats> use SomeTrait{metha as methb}
[03:08:58] <wycats> use SomeTrait renaming metha as methb
[03:09:02] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[03:09:06] <wycats> renaming metha to methb
[03:09:15] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[03:09:17] <strcat> wycats: or just don't include it as a language feature
[03:09:33] <strcat> fn foo<T>(x: &T) { x.foo() }
[03:09:35] <strcat> er
[03:09:38] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:09:41] <strcat> fn foo<T: Foo>(x: &T) { x.foo() }
[03:09:53] <strcat> fn bar<T: Bar>(x: &T) { x.foo() }
[03:09:56] <strcat> doesn't that work?
[03:09:58] <dbaupp> strcat: do you happen to know anything about __pthread_get_minstack? (specifically is it glibc specific?)
[03:10:11] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[03:10:32] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:10:42] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:10:47] <wycats> the problem is that once you import a trait
[03:10:53] *** Joins: KindOne (KindOne@moz-177405ED.dynamic.ip.windstream.net)
[03:10:54] <wycats> anyone who implements that trait gets pulled into your scope
[03:10:58] <wycats> so you may pull in some library
[03:11:08] <wycats> that suddenly implements some trait you need on int
[03:11:12] <wycats> and causes a conflict
[03:11:14] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[03:11:16] <wycats> and it's not easy to work around
[03:11:25] <strcat> dbaupp: it's to get the size you need for TLS and so on
[03:11:25] <wycats> except via scope mangling
[03:11:43] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Ping timeout)
[03:12:04] <strcat> wycats: that's not how it works
[03:12:15] <strcat> you can't implement a trait on int if your crate didn't define the trait
[03:12:20] <dbaupp> strcat: yeah, I know that; I just can't find any docs/reference on google to it outside of glibc source/mailing lists
[03:12:29] <wycats> strcat: ewot
[03:12:32] *** Quits: short (Mibbit@moz-3D556E4B.amazon.com) (Ping timeout)
[03:12:35] <wycats> imll Eq for MyType
[03:12:37] <wycats> impl*
[03:12:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:12:46] <wycats> you absolutely can implement a type that you're crate didn't define
[03:12:50] <wycats> what are you talking about
[03:12:52] <wycats> trait*
[03:13:00] <strcat> wycats: not on int
[03:13:09] <wycats> right
[03:13:12] <strcat> wycats: you can't implement a trait you didn't define on a type you didn't define
[03:13:12] <wycats> but some package A
[03:13:16] <wycats> might create a trait B
[03:13:20] <wycats> which it implements on int
[03:13:30] <wycats> and I use B
[03:13:54] <wycats> the point is that trait imports aren't quite like other kinds of imports
[03:14:01] <wycats> in that the list of things they import can grow over time
[03:14:07] <wycats> and conflicts are not readily resolvable
[03:14:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:14:43] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Ping timeout)
[03:15:27] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:16:04] *** Joins: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net)
[03:16:40] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:17:29] <whitequark> would you please criticize my code? https://gist.github.com/whitequark/8232012
[03:19:38] *** Joins: Crandom (Crandom__@moz-56264BBC.sx)
[03:23:22] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:23:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:23:57] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[03:24:17] <Jarrett> whitequark: the over-reliance on special effects can't hide the shallow characterization and shaky plot. 3/10
[03:24:40] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:25:25] *** Joins: wycats_ (sid79@moz-5F4AA75A.irccloud.com)
[03:25:58] <whitequark> hahaha
[03:26:23] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:26:25] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[03:26:29] *** Quits: alan_andrade (alan_andra@4D23AE0A.4116688D.B7838CA6.IP) (Input/output error)
[03:26:48] <Jarrett> but I can't give you any real criticism, sorry :(
[03:28:34] <ChrisMorgan> whitequark: that's a lot of *-pointers :-(
[03:28:46] <whitequark> ChrisMorgan: that's an allocator for you...
[03:28:59] <whitequark> I mean, I'm all open for suggestions of how to write it better.
[03:29:33] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[03:32:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:35:03] <carter> wycats: this is EXACTLY the confusing bit about haskell type classes
[03:35:14] <wycats_> carter: say more
[03:35:14] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[03:35:16] <carter> wycats: sooo, basically Rust doesn't allow "orphan instances"
[03:35:22] <wycats_> say more
[03:35:27] *** Quits: wycats (wycats@moz-DBE30632.hsd1.or.comcast.net) (Quit: wycats)
[03:35:40] <carter> an orphan instance is a Trait/Type Class instance, defined in a module outside of the one where its defined
[03:35:51] <carter> outside of the one where the type is defined
[03:36:23] <carter> So if a type   BlahT is defined in Module B
[03:36:37] <carter> erm
[03:36:53] <carter> (i'm stil learning rust, so i may be off one this)
[03:37:12] <carter> then any traits on BlahT must be in module B
[03:37:20] <carter> I think
[03:37:26] <carter> strcat: am i saying that right?
[03:37:36] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:37:37] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:37:53] *** Quits: zz_kimundi (kimundi@moz-56BCBF80.dip0.t-ipconnect.de) (Ping timeout)
[03:38:18] <carter> anyone? 
[03:38:20] <strcat> carter: either the type or trait has to be in your crate to implement the trait for the type
[03:38:20] <dbaupp> carter: almost
[03:38:28] <carter> oh ok
[03:38:31] <carter> yes
[03:38:38] <carter> otherwise its bad
[03:38:41] <carter> and fragile
[03:38:42] <carter> yes
[03:39:42] <carter> for a new trait, you can add instances for types dfined in other modules
[03:39:56] <carter> for preexisting traits in defined in other modules, you can only add types you've defined locally
[03:40:21] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[03:40:32] <carter> yeah, thats the no orphan instances rule
[03:41:17] *** Joins: zz_kimundi (kimundi@moz-6316CA96.dip0.t-ipconnect.de)
[03:41:23] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[03:41:24] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[03:41:45] *** zz_kimundi is now known as kimundi
[03:42:11] <carter> wycats_: that basically prevents having conflicting instances
[03:42:40] <carter> in the crate / module of where you define the trait, you can add instances for the standard types
[03:43:15] <carter> a good example of this thats simple in haskell would be aeson http://hackage.haskell.org/package/aeson-0.6.0.2/docs/Data-Aeson.html
[03:44:50] <carter> oo, once rust has something like associated types for traits, it'll be possible ot do a structur of arrays vector lib
[03:44:54] <carter> SOA rocks
[03:45:01] <carter> (i'm happy to explain SOA )
[03:45:11] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[03:46:15] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[03:48:08] <wycats_> carter: it's easy to show how conflicts can happen
[03:48:15] <carter> agreed
[03:48:18] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[03:48:29] <carter> wycats_: yeah, your problem is a different one
[03:48:42] <carter> two different traits that were given the same name and have the same method
[03:48:55] <carter> idk,
[03:49:19] <carter> otoh, can't you do qualified reference to a trait method/
[03:49:54] <carter> if you do unqualified imports of course things with the same name on the same type will clash
[03:50:14] <wycats_> carter: I
[03:50:25] <wycats_> I want qualified renaming
[03:50:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:50:36] <carter> of the op
[03:50:38] <carter> or the prefix?
[03:50:40] <wycats_> you can't do qualified reference because the instant you import you're pwned
[03:50:48] <carter> wait
[03:50:53] <carter> rust cant' do a qualifed import/
[03:50:53] <carter> ?
[03:53:04] <wycats_> https://gist.github.com/wycats/c981b4dd1f88741c0027
[03:53:07] *** Joins: pongad (Mibbit@moz-6D11B048.revip2.asianet.co.th)
[03:53:20] <wycats_> carter: in Rust, traits are the end of the import name
[03:53:25] <wycats_> you can't dig deeper than that
[03:53:31] <carter> i understand that
[03:53:35] <wycats_> importing a trait is importing all implementations of the trait
[03:53:45] <carter> i'm talking about something else
[03:53:48] <wycats_> ok
[03:53:55] <wycats_> is it related to the problem in my gis?
[03:53:57] <wycats_> gist*
[03:54:06] <wycats_> you can do use foo::bar::{baz,bat} in Rust
[03:54:07] <carter> import qualified MyLongModule as M
[03:54:10] <carter> yeah
[03:54:20] <carter> and then do M::baz
[03:54:24] <carter> or something
[03:54:40] <carter> so like 1.M::baz()
[03:54:45] <carter> in your exmaple
[03:55:23] <carter> and then you could give it a nice name
[03:55:25] <carter> with some sort of
[03:55:34] <carter> zigzag = M::baz
[03:55:36] <carter> maybe?
[03:55:47] <carter> i'm being a bit fuzzy
[03:56:06] <carter> fn zigzag ...
[03:56:41] *** Quits: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net) (Connection reset by peer)
[03:58:00] <carter> any who, g2g
[03:58:32] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:00:27] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[04:00:54] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:02:42] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[04:03:07] <wycats_> carter: Rust doesn't currently support 1.M::baz()
[04:03:13] <wycats_> but regardless, it's pretty ugly
[04:03:16] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[04:04:23] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[04:05:32] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Ping timeout)
[04:05:45] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:05:53] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[04:05:57] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Connection reset by peer)
[04:05:57] *** Joins: sellout1 (Adium@moz-2ECB0660.hlrn.qwest.net)
[04:06:08] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:07:00] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[04:07:00] *** ChanServ sets mode: +o tjc
[04:07:18] <wycats_> pcwalton, nmatsakis: does it seem at all reasonable or am I barking up the wrong tree?
[04:08:27] *** Quits: sellout1 (Adium@moz-2ECB0660.hlrn.qwest.net) (Ping timeout)
[04:08:52] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[04:10:04] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[04:12:21] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[04:12:57] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[04:17:43] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[04:18:28] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[04:18:30] *** Joins: Jarrett_ (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[04:18:52] *** Quits: Jarrett_ (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Quit: ChatZilla 0.9.88-rdmsoft [XULRunner 1.9.0.17/2009122204])
[04:18:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:19:31] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[04:20:57] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Ping timeout)
[04:22:33] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[04:26:57] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[04:28:02] <whitequark> grr, rust's symbol mangling makes gdb incomprehensible. is there some way to make it shorter?..
[04:30:11] <Luqman> whitequark: passing -Z debug-info to rustc can make it somewhat nicer
[04:31:48] <whitequark> Luqman: for some reason that didn't quite worked, and in the build I'm currently using it's broken completely (just no debug info is written)
[04:33:01] <whitequark> I'd really just want comprehensible symbol names so they won't mess up disassembly
[04:34:09] *** Joins: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz)
[04:34:21] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[04:34:27] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[04:36:05] *** Quits: pongad (Mibbit@moz-6D11B048.revip2.asianet.co.th) (Quit: http://www.mibbit.com ajax IRC Client)
[04:36:07] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[04:37:10] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[04:37:59] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[04:38:01] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[04:38:25] <dbaupp> whitequark: you can put #[no_mangle] on functions if you really *need* sensible symbol names
[04:38:54] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[04:39:35] *** Joins: elux (peter@moz-6B45ADE5.dsl.bell.ca)
[04:39:35] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: elux)
[04:39:38] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[04:43:51] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:46:50] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Quit: )
[04:46:51] <whitequark> dbaupp: hm, right, I could maybe specify that for entire crates
[04:46:51] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:46:55] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[04:47:13] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[04:47:43] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[04:54:15] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[04:55:48] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[04:55:48] *** ChanServ sets mode: +o jdm
[04:58:20] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:03:16] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[05:03:26] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[05:03:44] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[05:04:31] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:04:52] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:05:03] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[05:05:06] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[05:05:07] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[05:05:59] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[05:08:32] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[05:10:52] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[05:13:55] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[05:16:12] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[05:16:16] <carter> wycats_: hrm
[05:19:01] <comex> is there an alternative to rust-bindgen that doesn't depend on clang? not that this is the end of the world, i'm just wondering
[05:19:29] <dbaupp> very unlikely
[05:19:58] <dbaupp> (it would need to have its own C parser etc., which is more work than just using clang.)
[05:20:18] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[05:20:30] <carter> you could use another language'c C parser and do ast manipulation and pretty printing
[05:20:32] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[05:20:59] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[05:21:24] <carter> butttt, that might get you back where you started :)
[05:21:39] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[05:21:43] *** Joins: toshok (toshok@moz-43741342.cat)
[05:21:49] <sanxiyn> carter: Hi
[05:21:55] <carter> sanxiyn: hey!
[05:22:01] <carter> sooo, i have an *idea*
[05:22:07] <carter> for near term hack
[05:22:08] <carter> that migth be ok
[05:22:17] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Ping timeout)
[05:22:21] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[05:22:25] <sanxiyn> Go on
[05:22:35] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[05:22:39] <carter> and maybe makes punting on the type system stuff for the right now, (though i think it still matters)
[05:22:56] <carter> what if, along with the asm! macro, there was a llvmir! macro?
[05:23:23] <sanxiyn> I actually think you should write up the type system issue and file that to GitHub
[05:23:27] <carter> ok
[05:23:30] <carter> will do
[05:23:33] <Yurume> or salvage asm!: asm!(llvm "llvm llvm llvm llvm" : ...);
[05:23:42] <carter> ):p
[05:23:45] <carter> :p
[05:24:03] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[05:24:05] <sanxiyn> carter: llvm! is an interesting idea
[05:24:18] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[05:24:38] <dbaupp> iirc jensnockert implemented llvm!
[05:24:52] <carter> hows it work?
[05:25:07] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[05:25:15] <dbaupp> https://gist.github.com/jensnockert/6665784
[05:25:26] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[05:25:29] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[05:25:51] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[05:25:53] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[05:25:56] <carter> oh
[05:25:56] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[05:26:03] <carter> that doesn't let you take inputs... :/
[05:26:11] <dbaupp> "inputs"?
[05:26:16] <dbaupp> i.e. function arguments?
[05:26:18] <carter> yes
[05:26:20] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[05:26:21] <dbaupp> I think it does
[05:26:25] <carter> wheres the docs?
[05:26:30] <dbaupp> he's just not demonstrating it
[05:26:34] <eddyb> docs?
[05:26:34] <dbaupp> it didn't land
[05:26:39] <carter> oh
[05:26:44] <dbaupp> so the docs are entirely in jens' head
[05:26:50] *** Joins: mixi (mixi@moz-DBD8904A.org)
[05:26:53] <dbaupp> (he hangs out here sometimes)
[05:26:53] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[05:27:02] <sanxiyn> dbaupp: Was this proposed, or did this not even reach the pull request?
[05:27:11] <sanxiyn> (If there was a pull request, I want the link)
[05:27:13] <dbaupp> sanxiyn: I don't think there was a PR
[05:27:16] <sanxiyn> ok
[05:27:20] <sanxiyn> Is code available anywhere?
[05:27:36] <dbaupp> don't know
[05:27:58] <dbaupp> yes! https://github.com/jensnockert/rust/tree/inline-ir
[05:28:14] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[05:28:24] *** Joins: victorporof (victorporo@71F20205.834833CE.4A6B528C.IP)
[05:28:28] <dbaupp> https://github.com/jensnockert/rust/commit/f7ddbae9642eee067a32e1c846c0e25487614c46
[05:28:31] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[05:29:21] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Ping timeout)
[05:29:22] <dbaupp> carter: it does allow arguments: https://github.com/jensnockert/rust/commit/12e063ee5ac613ea9fe37cff295ed21eefed43e6#diff-09f379e672ff7785f402be1007a06286R474
[05:29:24] *** Joins: derek_c (derek@AD14EDBF.72EB3852.5C3BDEF0.IP)
[05:29:24] <carter> question: how do rust's sized vectors map to llvm's vectors?
[05:29:47] <sanxiyn> carter: It doesn't
[05:29:49] <dbaupp> i.e [f32, .. 10]
[05:29:49] <dbaupp> ?
[05:29:52] <carter> yeah
[05:29:54] <carter> why not?
[05:29:58] *** Joins: mixi (mixi@moz-DBD8904A.org)
[05:30:12] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[05:30:12] <dbaupp> sanxiyn: they just become a (big) struct, right?
[05:30:19] <carter> seems like it'd map very nicely to the sized vectors notion in llvm
[05:30:23] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[05:30:35] <sanxiyn> dbaupp: As I understand it becomes LLVM array
[05:30:41] <sanxiyn> Not LLVM vector
[05:30:44] <dbaupp> ah, ok
[05:30:53] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[05:30:59] <derek_c> am I right in understanding that there are only two kinds of visibilities: priv, which makes an instance visible only within its file, or pub, which makes it visible to everybody?
[05:31:02] <sanxiyn> carter: LLVM array is an aggregate, LLVM vector is a scalar
[05:31:19] <carter> yes, 
[05:31:25] <carter> you can do arith on llvm vectors ;)
[05:31:28] <carter> and shuffles
[05:31:29] <carter>  and stuff
[05:31:49] <sanxiyn> carter: Well you can take &x[3] when x is [f32, ..4]
[05:32:03] <sanxiyn> Starts to get strange with LLVM vectors
[05:32:08] <carter> sure
[05:32:08] <sanxiyn> (Probably not impossible though)
[05:32:12] <carter> ermmm
[05:32:19] <carter> whats that even mean if its register allocated
[05:32:36] <dbaupp> magic
[05:32:39] <sanxiyn> carter: The point being aggregates are not register allocated
[05:32:44] <carter> yes
[05:32:46] <carter> i want simd
[05:33:03] <carter> :)
[05:33:07] <sanxiyn> carter: So you can explicitly ask for SIMD
[05:33:11] <sfackler> derek_c: yes. priv stuff is only visible in its containing module and submodules
[05:33:12] <carter> how so?
[05:33:21] <derek_c> say I have two source files src/foo/a.rs and src/foo/b.rs.  Is there a way to make some instances defined in a.rs visible only to b.rs?
[05:33:33] <sanxiyn> carter: std::unstable::simd::f32x4
[05:33:42] <sanxiyn> Defined as:
[05:33:47] <carter> i understand
[05:33:51] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[05:33:51] <sanxiyn> #[simd] pub struct f32x4(f32, f32, f32, f32);
[05:33:54] <Ralith> sup carter 
[05:33:56] <carter> Ralith: yo!
[05:34:00] <sanxiyn> Ralith: Hi!
[05:34:01] <carter> Ralith: o/ 
[05:34:02] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[05:34:12] <Ralith> sup sanxiyn also
[05:34:14] <derek_c> sfackler: can I make some instances visible only to sibling modules?
[05:34:15] <carter> i'm trying to figure out how to get rust simd stuff
[05:34:18] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[05:34:21] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[05:34:25] <carter> (by first understanding the design )
[05:34:26] <sfackler> derek_c: not that I know of
[05:34:36] <derek_c> sfackler: kk. what do you mean by chaining modules?
[05:34:38] <Ralith> working on the constexpr dealie?
[05:34:40] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[05:34:47] <carter> a wee bit
[05:34:51] <Ralith> cool
[05:34:52] <carter> but even that aside, 
[05:34:54] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[05:35:04] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[05:35:05] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[05:35:07] <sfackler> derek_c: chaining?
[05:35:15] <carter> theres the fact that despite there being sized vectors, theres no analogue to the llvm sized vectors
[05:35:27] <carter> (apparently the sized rust vectors are struct like)
[05:35:32] <derek_c> sfackler: I mean, what are chaining modules?
[05:35:36] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[05:35:40] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[05:36:16] <Ralith> carter: I think they're more arrays than vectors
[05:36:21] <carter> yeah
[05:36:31] <carter> exactly
[05:36:35] <sfackler> derek_c: chaining or containing?
[05:36:52] <Ralith> even idris doesn't have an indexed vector type; it's tricky to do, and not obviously worthwhile
[05:37:01] <derek_c> sfackler: you said chaining?
[05:37:05] <sanxiyn> carter: You want (hypothetical) [f32, ..100] to compile to <100 x float>?
[05:37:10] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:37:10] <derek_c> sfackler: oh oh
[05:37:15] <derek_c> sfackler: my bad I misread it
[05:37:21] <carter> sanxiyn: well, that would be daft, but something would happen
[05:37:24] <sfackler> np :)
[05:37:29] <carter> eg, I know Ralith  tested that out this summer :)
[05:37:29] <derek_c> sfackler: thanks :)
[05:37:38] <sanxiyn> carter: Tested what?
[05:38:04] <carter> using llvm vector shuffle on 1024 bit vector
[05:38:09] <carter> or was that bscarlet?
[05:38:12] <Ralith> I didn't test it so much as read up on it
[05:38:15] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[05:38:17] <carter> sanxiyn: ok, so youre right
[05:38:22] <Ralith> it works but it's terrible
[05:38:27] <carter> yeah
[05:38:44] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:38:44] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:38:50] <carter> ok, so i'm just thinking that maybe sized vectors would be nice too
[05:38:52] <Ralith> even when you're within the width of a simd register, llvm isn't very good at (or even intended to be good at) wrangling non-hardware-native layouts
[05:39:02] <carter> true
[05:39:05] <carter> thats fine
[05:39:06] *** Quits: tav (tav@moz-6D839A1A.range109-145.btcentralplus.com) (Quit: tav)
[05:39:26] <sanxiyn> LLVM does legalize large vectors, so it does result in working (and low quality) code
[05:39:48] <carter> you can also have 3 elem or 7 elem vectors
[05:40:00] <carter> and lowering will treat them at 4 or 8 elem i think
[05:40:05] <sanxiyn> It does
[05:40:23] <Ralith> also, SIMD registers do seem to keep getting bigger, so an indexed type might make sense
[05:40:27] <carter> yeah
[05:40:35] <carter> ghc's going to mvoe to that for 7.10
[05:40:39] <Ralith> oh really
[05:40:40] <Ralith> ?
[05:40:41] <carter> (it doesn't have that quite for 7.8)
[05:40:41] <carter> yeah
[05:40:41] <Ralith> nice
[05:40:49] <carter> SPJ was unhappy with the manggly nest
[05:40:50] <Ralith> I need to come up with a way to do that in idris
[05:40:52] <carter> *ness
[05:40:57] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:41:02] <Ralith> well it's what we've discussed
[05:41:03] <carter> compiler supplied magic
[05:41:08] <Ralith> requiring normalization
[05:41:11] <Ralith> constexpr, etc
[05:41:14] <carter> oh yeah
[05:41:16] <sanxiyn> Where can I read about GHC plan?
[05:41:23] <carter> sanxiyn: ask me :)
[05:41:35] <sanxiyn> Is that separate from https://ghc.haskell.org/trac/ghc/wiki/SIMD work?
[05:41:43] <sanxiyn> carter: Asked!
[05:41:45] <Ralith> just applied to the type's index as well as immediate instruction parameters
[05:42:02] <carter> sanxiyn: so theres "experimental" simd in ghc HEAD
[05:42:05] <carter> but theres no shuffles
[05:42:06] <carter> only pointwise ops
[05:42:21] <carter> and its only for one of the two ghc backends, so its useless
[05:42:26] <sanxiyn> carter: Is that experimental SIMD the same one I read from GHC wiki linked above?
[05:42:29] <carter> yes
[05:42:31] <sanxiyn> ok
[05:42:37] <carter> someone else did it for a research paper
[05:42:46] <carter> and left a lot of problems
[05:42:59] <carter> eg, they only added ops to the llvm backend for ghc, and not hte default main one
[05:43:21] <carter> my first ghc patch was adding support for 1-2 of the general purpose ops to the native code gen
[05:43:32] <carter> some time later this year i'll be adding simd to the native code gen
[05:43:41] <carter> the SIMD in ghc currently can't do shuffles
[05:44:07] <carter> and I need to add that "const expr" style support to enable type safe simd 
[05:44:29] <carter> sanxiyn: also, theres an issue with the type level int list idea some one mentioned last night
[05:44:38] <sanxiyn> For the history of SIMD in Rust, you can read https://github.com/mozilla/rust/issues/3499 and linked pull requests and discussion there
[05:44:45] <carter> ok
[05:45:30] <sanxiyn> carter: Originally I was thinking of something along the line of VecImp (link seems down at the moment)
[05:45:36] <sanxiyn> But that was considered too ambitious
[05:45:40] <carter> whats that?
[05:45:48] <carter> so the "naive" type of llvm vector shuffle in rust would be shuffle :: [T... n] -> [T .. n] -> [int32 .. m] ->[ T .. m]
[05:45:51] <carter> right?
[05:45:56] <carter> i'm over simplifying
[05:46:05] <carter> *whats vectorimp
[05:46:09] <sanxiyn> carter: https://github.com/mozilla/rust/pull/5841#issuecomment-16394939 this one
[05:46:37] <carter> oh SOA
[05:46:40] <carter> haskell has those
[05:46:44] <sanxiyn> It does?
[05:46:59] <carter> yeah
[05:47:08] <Yurume> I have a question about rustpkg: a package (not an workspace) is as simple as lib.rs, but then how can one biuld that package outside of workspaces? i.e. is it possible to build packages not in the workspace?
[05:47:16] <carter> http://hackage.haskell.org/package/vector-0.10.9.1/docs/Data-Vector-Unboxed.html
[05:47:34] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[05:47:55] <carter> once traits have "associated types", it'd be easy to have a SOA vector trait
[05:47:56] <sanxiyn> carter: How does it make use of SIMD?
[05:48:02] <carter> oh, it doesn't
[05:48:05] <sanxiyn> Oh
[05:48:09] <carter> but it coudl
[05:48:15] <carter> it just doesn't right now
[05:48:22] <carter> SOA is a good format anyways
[05:48:55] *** Joins: tav (tav@moz-6D839A1A.range109-145.btcentralplus.com)
[05:49:08] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[05:49:13] <sanxiyn> I also found http://ispc.github.io/ interesting but not sure how to apply that to other languages
[05:49:58] <carter> intel c compiler?
[05:50:09] <sanxiyn> No
[05:50:20] <carter> thats a related intel project
[05:50:22] <sanxiyn> ispc is a new compiler
[05:50:23] <carter> i've looked at it
[05:50:46] <sanxiyn> ispc uses LLVM, and does not use Intel C Compiler backend
[05:50:54] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[05:51:08] <carter> i thought it did something with ICC at some pass
[05:51:33] <sanxiyn> carter: I am not aware of any. Maybe you are thinking of some other projects?
[05:51:48] <carter> nope, i read the source... and the paper for that 
[05:51:53] <carter> or at least some of it
[05:51:55] <carter>  a few months ago
[05:52:03] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:52:14] <carter> hrmm
[05:52:27] <kvanb> carter: intel labs made a haskell compiler using icc
[05:52:31] <carter> yes
[05:52:33] <carter> i know about that
[05:52:36] <carter> i was at ICFP :)
[05:52:38] <carter> and i read the paper
[05:52:40] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:53:04] <sanxiyn> kvanb: You mean this one, right? www.leafpetersen.com/leaf/publications.htm
[05:53:07] <kvanb> its kind of sad that GHC has been in dev for so long and doesn't beat the one they threw together with ICC in like no time at all
[05:53:08] <kvanb> :(
[05:53:16] <sanxiyn> The Intel Labs Haskell Research Compiler
[05:53:42] <carter> kvanb: nah
[05:53:50] <kvanb> yeah the 2nd link there
[05:53:56] <sanxiyn> kvanb: ok
[05:54:02] <carter> kvanb: it didn't bench mark any intersting things
[05:54:21] <sanxiyn> kvanb: It seemed to me it took quite some time and not "threw together in no time at all"
[05:54:38] <sanxiyn> carter: Depending on what you find interesting
[05:54:43] <kvanb> the method was just reviving the GHC C backend and then piping it into ICC
[05:54:46] <kvanb> it could not have taken that long
[05:54:53] <carter> locality sensitive code like matrix mult
[05:55:02] <sanxiyn> kvanb: Are we reading the same paper?
[05:55:14] <carter> there was a bit more going on that tha
[05:55:38] <carter> kvanb: you're ghoul on freenode right?
[05:56:01] <kvanb> oh I see, the paper says a lot more than I originally thought
[05:56:01] <carter> sanxiyn: ( kvanb and I hve some fun disagreements sometimes)
[05:56:01] <kvanb> yeah
[05:56:01] <carter> :)
[05:57:23] <kvanb> they really smashed GHC in vectorization stuff
[05:57:29] <kvanb> didnt really beat it in other stuff TBH
[05:57:43] <kvanb> I'm in the wrong because I remember it being more dramatic and across the board
[05:57:45] <sanxiyn> Interesting data point: we got some new people on Korean #rust channel, and *all* new users were using Windows
[05:57:47] <kvanb> oh well.
[05:57:52] <sanxiyn> And found Rust experience on Windows painful
[05:58:14] <kvanb> It was painful on Windows (even to just build) 6 months ago, I haven't tried it since.
[05:58:21] <carter> kvanb: basically i've not seen any autovectorization that makes things like matrix mult fast
[05:58:23] <sanxiyn> kvanb: Yeah memory play tricks with us...
[05:58:45] <sanxiyn> carter: Something like PLUTO?
[05:58:53] <kvanb> carter: is autosimd turned on for GHC 7.8?
[05:59:01] <carter> kvanb: there is not autosimd in ghc 7.8
[05:59:04] <carter> idk what your'e talking about
[05:59:08] <kvanb> llvm
[05:59:23] <carter> kvanb: ask  in the form of a complete question please
[05:59:25] <sanxiyn> kvanb: You mean http://llvm.org/docs/Vectorizers.html ?
[05:59:32] <carter> thats easy to turn on
[05:59:36] <carter> with the right flag
[05:59:37] <ecl3ctic> windows is always a pain for software development, outside of the oasis that is Visual Studio
[05:59:43] <kvanb> I remember someone bumping the convention and turning on simd inside llvm
[05:59:45] <sanxiyn> Yup just a matter of passing flags to LLVM
[05:59:49] <kvanb> although I cant remember if it got held back or not
[05:59:57] <kvanb> afaik ghc 7.6 isnt generating any simd at all
[05:59:58] <Ralith> ecl3ctic: oasis? you must not be a fan of using recent standards :p
[06:00:08] <carter> kvanb: it doesn't work that wya
[06:00:15] <kvanb> /s/generating/allowing llvm to generate/
[06:00:19] <sanxiyn> kvanb: It's literally like passing "-fvectorize -fslp-vectorize" to some LLVM API
[06:00:25] <carter> yeah
[06:00:26] <carter> i've done that
[06:00:40] <ecl3ctic> Ralith: oasis doesn't mean I like it, just that it's vastly better than a lot of alternatives :)
[06:00:43] <carter> that said, auto vectorization sin't intersting
[06:00:51] <Ralith> heh
[06:00:57] <ecl3ctic> Ralith: (on windows)
[06:01:02] <kvanb> it'll probably proc on tight loops using Data.Vector
[06:01:06] <kvanb> no?
[06:01:27] <Ralith> ecl3ctic: still, what pisses me off most about windows is the refusal to implement SCTP
[06:01:38] <sanxiyn> afk
[06:01:40] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[06:01:41] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:01:42] <carter> autovectorization doesn't work as well as hand written simd
[06:01:54] <carter> its great when it works well
[06:02:12] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:02:42] <kvanb> has it been turned on in 7.8 or is there a new flag or something?
[06:02:48] <carter> kvanb: what 
[06:02:55] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:02:55] <carter> whic thing
[06:03:00] <kvanb> letting llvm use auto vectorization
[06:03:10] <carter> umm, you just to -optl blah
[06:03:19] <carter> it wont' do buch
[06:03:21] <carter> *much
[06:03:34] <kvanb> hmm
[06:03:55] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:03:59] <carter> kvanb: ive tested out auto vectorization on matrix mult kernels vs me hand writing simd in C with clang
[06:04:05] <carter> i'm 1.5x faster than the auto vect
[06:04:10] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[06:04:14] <carter> for like 4x4 matrices
[06:04:40] <kvanb> was that using -O3?
[06:04:45] <carter> kvanb: yes
[06:04:47] <carter> we've had this chat before
[06:04:50] <kvanb> which llvm version?
[06:04:53] <carter> HEAD
[06:04:58] <carter> this summer
[06:04:59] <kvanb> hmm
[06:05:12] <carter> kvanb: when you say "auto vecotrization"
[06:05:19] <carter> actually have a concrete program to evaluate on that 
[06:05:23] <carter> :)
[06:05:28] <carter> benchmarks ftw
[06:05:38] *** Joins: mib_7pl567 (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp)
[06:05:39] <kvanb> No, clang always generates very good vectorized code for me.
[06:05:44] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:05:48] <kvanb> when I write tight loops in C/C++
[06:05:57] *** mib_7pl567 is now known as mib123
[06:05:57] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[06:05:58] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[06:06:09] <carter> share a simple exmaple C code
[06:06:17] <carter> also hows the perf fair vs the scala simd vesion
[06:06:23] <carter> and version the hand written simd version
[06:06:39] <whitequark> \o/ I've got exchange heap working on bare-metal rust
[06:06:47] <carter> congrats
[06:07:03] <whitequark> I should probably publish that somewhere
[06:07:05] <kvanb> thats with antyhing though
[06:07:13] <carter> sure
[06:07:15] <kvanb> obviously if you hand write simd it'll probably be faster *if you know what you're doing*
[06:07:21] <carter> yes
[06:07:24] <kvanb> same with GHC core. If you hand write stuff in core its generally faster too
[06:07:27] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[06:07:27] *** ChanServ sets mode: +o acrichto
[06:07:30] <carter> yeah
[06:07:43] <kvanb> but like, if its only 20% faster autovectorized and not 50% or whatever
[06:07:47] <kvanb> so be it, still an improvement
[06:07:50] <carter> yeah
[06:07:54] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[06:08:03] <carter> otoh, for the code i care about, its locality quality thats the first bottleneck
[06:09:05] <kvanb> I dont think there is x86/x87 hardware still being used by humans that does not support sse2
[06:09:12] <carter> yeah
[06:09:19] <carter> scalar is still SSE2
[06:09:19] <carter> :)
[06:09:43] <carter> anyways: its easy to build haskell code via llvm and tell llvm to vectorize
[06:10:04] <carter> jsut pass ghc -fllvm -optl blah
[06:10:06] <carter> or whatever
[06:10:15] <mib123> I'm failing to build rust at HEAD on OSX -> http://mibpaste.com/KaiHyK 
[06:10:29] <carter> if you can run nofib and show that that makes things reliably faster, i'm game to get that into ghc head
[06:10:50] <mib123> Using "brew install --HEAD --verbose rust" as I always do.
[06:11:25] <kvanb> does nofib work with llvm?
[06:11:36] <carter> yeah
[06:11:52] <carter> it should
[06:11:56] <carter> else we have a serious bug
[06:12:03] <carter> nofib takes a while too
[06:12:55] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[06:12:56] <carter> that said, theres probably bigger low hanging fruit for ghc
[06:13:14] <kvanb> whats lower hanging than adding some flags?
[06:13:16] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:13:26] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[06:13:32] <mib123> When I said "HEAD" above I mean 27ce4d3
[06:14:03] <carter> kvanb: stuff like https://ghc.haskell.org/trac/ghc/ticket/8638#comment:11
[06:14:47] <carter> kvanb: also 7.8 is due out like next week or something
[06:15:03] <carter> tell you what:  lets seriously look into this for 7.10? 
[06:15:13] <kvanb> oh wow thats a pretty serious win
[06:15:15] <carter> yes
[06:15:46] <carter> kvanb: did you hear how ben gamari figured out why dyn linking wasn't working on llvm?
[06:16:09] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:16:25] <carter> anyways,  we don't even have a good numerical algorithsm in haskell suite to have as part of nofib righ now
[06:16:32] <carter> i'm working on that :P
[06:16:41] *** Joins: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net)
[06:17:01] <kvanb> the computer language benchmark game stuff needs to be rewritten to use Vector and stuff like that
[06:17:09] <carter> sure
[06:17:13] <carter> thats not nofib :)
[06:17:15] <kvanb> it mostly got reduced to using {poke,peek}Ptr to catch up with Java
[06:17:16] <kvanb> lol
[06:17:30] <carter> you're switching topics
[06:17:39] <carter> though if you wanna figure out how to make the shootout code pretty and high elvel and fast
[06:17:41] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:17:41] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:17:42] <kvanb> .. why can't nofib and the programs used there be the same thing
[06:17:44] <carter> go crazy :)
[06:17:48] <carter> because they're not the same thing
[06:17:58] <carter> nofib is for how humans write code
[06:18:07] <carter> shootout is a stick size contest
[06:18:09] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:18:17] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[06:18:23] <kvanb> thats what I just suggested
[06:18:23] <carter> kvanb: g2g
[06:18:28] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[06:18:29] <kvanb> get human versions of shootout and put them in nofib
[06:18:31] <carter> nope
[06:18:34] <carter> oh yeah
[06:18:36] <carter> i'm sure they're in
[06:18:46] <carter> if not patches are probably wlcome :)
[06:18:47] <carter> g2g
[06:18:49] <kvanb> bye
[06:19:03] *** Quits: derek_c (derek@AD14EDBF.72EB3852.5C3BDEF0.IP) (Ping timeout)
[06:20:09] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[06:20:09] *** ChanServ sets mode: +o acrichto
[06:21:37] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Quit: eholk)
[06:21:41] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[06:22:07] *** Quits: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net) (Quit: dogurness)
[06:22:09] *** Joins: sammykim_ (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[06:22:53] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:25:34] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:25:53] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:27:56] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[06:28:25] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[06:29:10] *** Joins: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com)
[06:30:51] *** Quits: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net) (Quit: telotortium)
[06:31:06] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:31:35] *** Joins: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net)
[06:32:21] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[06:32:33] *** Quits: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net) (Quit: dogurness)
[06:34:14] *** Joins: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net)
[06:35:26] *** Quits: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net) (Quit: telotortium)
[06:35:47] *** Joins: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net)
[06:36:06] <Skrylar_> Any idea why the inside of an impl wouldn't be able to find implementations for traits?
[06:36:21] <Skrylar_> The file has the appropriate use's, and it finds it just fine outside of that impl
[06:38:03] *** Quits: alonlevy (alon@moz-30492E92.bb.netvision.net.il) (Ping timeout)
[06:38:48] *** Quits: victorporof (victorporo@71F20205.834833CE.4A6B528C.IP) (Connection reset by peer)
[06:39:11] *** Joins: derek_c (derek@37D247A.6D9D7C73.291A146C.IP)
[06:39:38] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[06:41:10] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[06:41:28] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[06:42:56] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:47:33] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:48:48] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[06:49:56] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[06:50:58] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[06:51:00] <jdavis> How do you properly include a macro definition? It doesn't allow me to qualify it like "foo::bar!(...)"
[06:52:32] <jdavis> and if I do just "use foo" then it can't find "bar!".
[06:53:15] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[06:54:19] <sfackler> jdavis: macros don't have the same scoping rules like other stuff does
[06:54:28] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[06:54:46] <sfackler> macros are visible in the block that defined the
[06:54:47] <sfackler> m
[06:55:06] <jdavis> I'm trying to use the new ones you added to rust-postgres.
[06:55:09] <sfackler> you can add the #[macro_escape] attribute to the block to cause the definition to "bubble up" to the next block
[06:55:34] * bjz hopes that macros will be able to be accessed like that in the future :[
[06:55:51] <sfackler> jdavis: you'll have to copy it into your own source for now
[06:56:07] <sfackler> if you just put it in the crate root it should be accessible everywhere
[06:56:18] <jdavis> OK. Is that expected to be fixed though? Will macros be fully exportable like functions?
[06:57:03] <sfackler> I have a PR that will allow them to be exported from libraries
[06:57:12] <bjz> sfackler: :O
[06:57:18] <sfackler> but it's unclear if there will ever be foo::bar! style scoping
[06:57:19] <jdavis> OK, great.
[06:57:28] <bjz> sfackler: dang
[06:57:28] <sfackler> since they're processed really early in compilation
[06:58:30] <bjz> well if they're exported in libs, what happens if there is a conflict?
[06:58:40] <bjz> also, how do w do documentation?
[06:58:44] <jdavis> Global scope is at least better, but I suppose we might need to change it to something like PgRange!
[06:58:54] <bjz> will the macros be included in rustdoc?
[06:59:59] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[07:00:06] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[07:00:43] *** Quits: mib123 (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[07:01:56] <sfackler> bjz: they aren't right now but it won't be hard to get them in there
[07:02:33] <sfackler> if there's a name conflict the newer macro overwrites the old one
[07:02:48] <sfackler> n.b. it would actually be not hard at all to add namespaces to macros loaded from external crates
[07:03:26] <sfackler> so you'd do something like "#[phase(syntax)] extern mod postgres = "..."; postgres::range!(...);"
[07:03:51] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[07:05:12] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[07:07:25] <jdavis> How are macros like println! put in your namespace? Is that just magically there?
[07:07:51] <sfackler> jdavis: yeah, all of the builtin macros are automatically injected
[07:07:59] <bjz> jdavis: they are injected in at compilation
[07:08:15] <bjz> it's really quite horrible :P
[07:08:52] <jdavis> I see. It's a little disappointing that macros are so special. Why not just always load external modules during the syntax phase?
[07:09:08] <bjz> jdavis: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/expand.rs#L683-L894
[07:09:20] <jdavis> Or maybe have a different command that's more like C #include to pull in macros only?
[07:09:57] <sfackler> jdavis: that's what this will be doing! https://github.com/mozilla/rust/pull/11151
[07:09:57] <jdavis> OK, reading now
[07:10:51] <jdavis> (sorry, was a little slow to find your pull request)
[07:11:55] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[07:12:28] *** Joins: napoleon (Mibbit@4BF9D067.87B3951A.C28326FD.IP)
[07:12:47] *** Quits: napoleon (Mibbit@4BF9D067.87B3951A.C28326FD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:15:04] *** Quits: derek_c (derek@37D247A.6D9D7C73.291A146C.IP) (Quit: Leaving)
[07:16:11] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[07:22:06] *** Joins: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is)
[07:26:22] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[07:27:23] <Skrylar_> dbaupp: https://gist.github.com/Skrylar/8234218 bleh
[07:27:40] <Skrylar_> I figured putting the function there would be the most obvious way for the compiler to find it
[07:27:52] <Skrylar_> and it does work in a different crate entirely oO
[07:30:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:30:26] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:31:59] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[07:31:59] *** ChanServ sets mode: +o jack
[07:32:04] <whitequark> I just discovered that when you do clear() on an ~[u8], it actually clears the vector, i.e. fills itself with zeros prior to resetting length to 0.
[07:32:09] <whitequark> I wonder why.
[07:33:43] <Skrylar_> i'm not sure why its doing both
[07:33:52] <Skrylar_> is it setting the length as in "i contain this many" or "i *could* contain this many"
[07:34:15] <whitequark> the latter would be capacity
[07:34:18] <whitequark> it's unchanged
[07:34:23] <Skrylar_> if its the actual length and not the capacity, it probably zeroes it out for security
[07:34:30] <Skrylar_> or something like that
[07:34:46] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:34:47] <Skrylar_> though usually for something like that you would have clear_sec() or clear_unsecure()
[07:35:06] <whitequark> actually I think it clears it out so a GC wouldn't stumble upon stale pointers
[07:35:17] <Skrylar_> could
[07:35:23] <whitequark> and it does that even for ~u8 because it's not trivial to check whether a structure contains deeply nested pointers
[07:35:29] <Skrylar_> all though they ought to use a typesafe GC :/
[07:35:58] <whitequark> maybe this will happen later
[07:36:04] <Skrylar_> scripting languages use typed GCs, C doesn't because there was no compiler support for it
[07:36:08] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[07:36:21] <Skrylar_> i don't see a hugely compelling reason that a language built to have a GC would use a blind one
[07:36:27] *** Quits: valenting (Thunderbir@moz-9DFB83CF.residential.rdsnet.ro) (Ping timeout)
[07:36:31] <Skrylar_> unless they're trying to be GC agnostic, which basically never happens
[07:36:58] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:37:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:38:19] <sfackler> the zeroing is to handle the drop flag
[07:38:30] <sfackler> the docs claim it will be optimized out for non-drop types like u8
[07:38:35] <sfackler> are you compiling with optimizations?
[07:38:44] <whitequark> yup
[07:38:46] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:38:58] <sfackler> that comment may just be wrong then :P
[07:39:28] <sfackler> sounds like a bug
[07:39:29] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:40:32] <Skrylar_> sfackler: would you happen to know anything about this https://gist.github.com/Skrylar/8234218
[07:41:17] <benh> try self as &mut ApplicationDelegate?
[07:41:18] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:41:43] <sfackler> Skrylar_: remove the &mut before self on line 20
[07:42:05] <sfackler> It's correct in saying that &mut NullDelegate doesn't implement ApplicationDelegate
[07:42:14] <sfackler> NullDelegate does
[07:42:52] <Skrylar_> i think i annotated in the gist that removing the muts doesn't do anything
[07:42:56] *** Joins: Ms2ger (Ms2ger@7AE7573F.9612FC09.3773EA9F.IP)
[07:43:30] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:43:34] <Skrylar_> ah, and in a separate file i do "let mut z = Foof; &mut z as &mut ApplicationDelegate" just fine
[07:44:30] <benh> not just the mut, the one & too
[07:45:47] <sfackler> Skrylar_: this compiles https://gist.github.com/sfackler/8234365
[07:46:09] <Skrylar_> so did "let mut z = Foof; &mut z as &mut ApplicationDelegate" in a separate file
[07:46:49] <Skrylar_> i swear half this language barely makes sense some days
[07:47:23] <sfackler> Skrylar_: Inside of as_app, self has type &mut NullDelegate
[07:47:31] <sfackler> so &mut self has type &mut &mut NullDelegate
[07:47:39] <benh> I'm not a big fan of the self syntax in parameter lists :(
[07:48:03] <Skrylar_> i don't mind it but the docs need to passably mention things like that
[07:48:17] <Skrylar_> there's some of it (like lifetime specifiers) that have nonexistent referencing
[07:56:09] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:56:51] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Quit: eholk)
[07:57:06] <Skrylar_> :/
[07:57:12] <Skrylar_> it keeps giving me a &~X instead of &X
[07:57:40] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[07:57:40] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[07:58:44] <Ms2ger> ~X -> &X should happen automatically when you need it
[07:59:12] <Skrylar_> it should
[08:00:06] *** flaper87|afk is now known as flaper87
[08:02:54] <Ms2ger> let replaced = string.replace("&", "&amp;").replace("\xA0", "&nbsp;");
[08:03:00] <Ms2ger> I wonder how efficient that is
[08:03:19] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[08:04:19] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[08:05:04] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[08:06:29] *** Joins: derby (dirby@moz-773B6878.torservers.net)
[08:07:16] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[08:09:45] <quaddle> What is the syntax for declaring a mutable fixed-size array on the stack?
[08:10:26] <benh> rusti:  let mut v = [1, 2, 3]; v[2] = 4; v
[08:10:27] -rusti- [1, 2, 4]
[08:10:50] <benh> type is [int, ..3] or something, i think
[08:11:09] *** Joins: valenting (Thunderbir@244BD853.ECBF5C84.FB866788.IP)
[08:12:17] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[08:19:53] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[08:20:12] *** Quits: telotortium (rmi1@moz-46F0EE50.hsd1.ca.comcast.net) (Quit: telotortium)
[08:20:41] <quaddle> If I have a struct Foo(int), is there a way to prevent it from being copied?
[08:20:49] *** Joins: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu)
[08:21:00] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[08:28:28] *** Joins: mib_irh8oo (Mibbit@FA44AFFD.4F9C57CF.2C7E9745.IP)
[08:28:31] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:28:38] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:30:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:31:03] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[08:31:07] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: alisdair)
[08:38:50] <whitequark> quaddle: I think implementing Drop for it works
[08:40:41] *** Joins: jviereck (Adium@moz-2FD0F134.dip0.t-ipconnect.de)
[08:43:39] *** Joins: derek_c (derek@DED74182.D556260E.AA745434.IP)
[08:44:04] <derek_c> how do you serialize a uint to bytes?
[08:44:28] <derek_c> ah, I realize you have ToBytes
[08:44:57] <derek_c> but then how do you get the uint back from bytes?
[08:45:15] <Ms2ger> FromBytes? :)
[08:47:04] *** Quits: gwty (gwtypc@75A7448E.8DB61C28.F44414AF.IP) (Ping timeout)
[08:47:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:48:52] <derek_c> Ms2ger: there isn't a FromBytes
[08:50:14] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[08:50:44] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[08:51:21] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[08:51:41] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[08:51:55] <Skrylar_> ugh, this crap is giving me a migraine
[08:52:08] <Skrylar_> i put an object in a struct, and then a pointer to a trait object
[08:52:21] *** frau is now known as IRCMonkey58898
[08:52:34] <Skrylar_> but because of the struct constructor, i can't put the object in and then put borrowed pointers to that, which have a lifetime the length of the object
[08:52:41] <Skrylar_> because it has to be done in stages and it won't let me do that
[08:53:37] <Skrylar_> i'm about to just hack something with transmute because this one bit of code has taken 8-15 :|
[08:53:43] <Skrylar_> *hours
[09:00:03] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[09:03:36] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[09:07:02] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:07:58] *** Quits: jviereck (Adium@moz-2FD0F134.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:12:14] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[09:12:24] *** Joins: twi (Adium@508D576C.F6B818C.509B472F.IP)
[09:14:12] *** Quits: IRCMonkey58898 (frau@D747870C.75963994.405878F2.IP) (Quit: out)
[09:14:51] *** Joins: fabiand (fabiand@moz-691D8DA6.adsl.alicedsl.de)
[09:16:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[09:18:02] *** Joins: rca (rcatolino@moz-D0B9B101.adsl.proxad.net)
[09:19:40] <Skrylar_> i guess i'll just replace the pointers with options and put up with the branch penalty
[09:19:56] <Skrylar_> i figured assigning function pointers to empty functions would be faster than having to if (handled) everything
[09:19:59] *** Quits: sammykim_ (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[09:22:41] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[09:25:16] *** Joins: jviereck (Adium@moz-2FD0F134.dip0.t-ipconnect.de)
[09:25:24] *** Quits: jviereck (Adium@moz-2FD0F134.dip0.t-ipconnect.de) (Connection reset by peer)
[09:25:25] *** Joins: jviereck1 (Adium@moz-2FD0F134.dip0.t-ipconnect.de)
[09:26:48] *** Quits: derek_c (derek@DED74182.D556260E.AA745434.IP) (Ping timeout)
[09:27:48] *** Quits: valenting (Thunderbir@244BD853.ECBF5C84.FB866788.IP) (Ping timeout)
[09:29:02] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:30:03] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[09:31:51] <Skrylar_> nvm, the option route just causes more failure
[09:33:08] <quaddle> "error: static method `from_source` is inaccessible" <- For what reasons might a method be inaccessible? it is public
[09:34:03] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[09:34:25] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[09:35:04] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:37:06] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:37:48] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[09:39:21] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[09:39:55] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[09:43:14] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[09:47:21] *** Joins: pongad (Mibbit@moz-923C6000.revip2.asianet.co.th)
[09:48:33] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[09:53:43] *** Quits: jviereck1 (Adium@moz-2FD0F134.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:54:58] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[09:56:10] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[10:00:12] *** Quits: pongad (Mibbit@moz-923C6000.revip2.asianet.co.th) (Quit: http://www.mibbit.com ajax IRC Client)
[10:00:52] <Skrylar_> quaddle: in what context?
[10:01:05] <Skrylar_> methods can be inacessible if they are inside a trait that isn't use'd
[10:01:30] *** Joins: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:03:26] *** Joins: cwmma (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[10:04:22] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:06:17] *** Joins: gkostyanikov (gkostyanik@11289807.A859D9FD.CA6E2165.IP)
[10:06:18] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Quit: Lost terminal)
[10:06:31] *** Joins: franckverrot (cesario@E1FC23CE.D13D47C1.D6573861.IP)
[10:07:13] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[10:11:38] *** Quits: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:11:40] *** Joins: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:12:40] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[10:12:48] *** Joins: jviereck1 (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:12:48] *** Quits: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Connection reset by peer)
[10:12:49] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[10:12:58] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[10:13:42] *** Joins: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:13:42] *** Quits: jviereck1 (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Connection reset by peer)
[10:13:54] *** Quits: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Connection reset by peer)
[10:13:56] *** Joins: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:15:02] <quaddle> They were implemented on a type that was private. :(
[10:15:17] <quaddle> I need to spend more time with my rubber ducky before I talk to IRC
[10:15:41] *** Quits: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Ping timeout)
[10:16:04] <Skrylar_> ah, that'd do it
[10:16:13] <Skrylar_> i should probably write a tip about that
[10:16:25] <Skrylar_> i haven't updated my tip gist in a few days, i was working on that to document derpy pitfalls
[10:17:17] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[10:17:35] *** Joins: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de)
[10:18:26] *** Quits: gkostyanikov (gkostyanik@11289807.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:20:36] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[10:21:14] *** Quits: jviereck (Adium@moz-334E9EB5.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:21:18] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:21:53] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[10:22:02] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[10:23:07] *** Joins: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is)
[10:25:56] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[10:26:25] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[10:27:19] <quaddle> Skrylar_: It'd be nice if the error said exactly WHY the method was inaccessible...
[10:30:20] *** Quits: mib_irh8oo (Mibbit@FA44AFFD.4F9C57CF.2C7E9745.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:36:09] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:42:25] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:49:29] *** Joins: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP)
[10:51:47] <tupshin_> is there any way to force pattern matching to evaluate multiple matching arms?
[10:52:37] *** Quits: arcterus (arcterus@78E75DCF.B746606E.FEAF85EF.IP) (Client exited)
[10:53:27] *** Parts: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) ()
[10:55:23] <kimundi> tupshin_: what do you mean?
[10:55:44] <tupshin_> selectively emulate c's fall through behaviour, or something similar
[10:56:05] <tupshin_> from the tutorial: "Unlike in C, there is no "falling through" between arms: only one arm executes, and it doesn't have to explicitly break out of the construct when it is finished."
[10:56:43] <rntz_> I think rust has or-patterns, so you can have multiple distinct arms go to the same branch
[10:56:52] <kimundi> ah. No, there is no way to get the arms to fall through - and with match being an expression, it would be hard to define
[10:57:11] <tupshin_> rntz_: i want almost the opposite. multiple branches to evaluate
[10:57:20] <tupshin_> kimundi: makes some sense. 
[10:57:36] <rntz_> apart from that, the only way to do anything vaguely similar would be to loop on a mutable local variable which you update with the value of the next branch you want to go to
[10:58:25] <tupshin_> pity. rust already has just about the most elegant and readable fizzbuzz i've seen (sorry for the paste):
[10:58:25] <tupshin_> fn main() {
[10:58:25] <tupshin_> for num in std::iter::range_inclusive(1, 100) {
[10:58:25] <tupshin_> println(
[10:58:25] <tupshin_> match (num % 3 == 0, num % 5 == 0) {
[10:58:27] <tupshin_> (false, false) => num.to_str(),
[10:58:28] <tupshin_> (true, false) => ~"Fizz",
[10:58:31] <tupshin_> (false, true) => ~"Buzz",
[10:58:33] <tupshin_> (true, true) => ~"FizzBuzz"
[10:58:35] <tupshin_> }
[10:58:37] <tupshin_> );
[10:58:40] <tupshin_> }
[10:58:42] <tupshin_> }
[10:58:44] <tupshin_> could be so much better :)
[10:58:46] <tupshin_> fn main() {
[10:58:49] <tupshin_>     for num in std::iter::range_inclusive(1, 100) {
[10:58:51] <tupshin_>         println(
[10:58:53] <tupshin_>             match (num % 3 == 0, num % 5 == 0) {
[10:58:55] <tupshin_>                 (false, false) => num.to_str(),
[10:58:57] <tupshin_>                 (true, _) => ~"Fizz",
[10:59:00] <tupshin_>                 (_, true) => ~"Buzz"
[10:59:02] <tupshin_>             }
[10:59:04] <tupshin_>         );
[10:59:06] <tupshin_>     }
[10:59:08] <tupshin_> }
[10:59:13] <tupshin_> (does not work, per this conversation)
[10:59:15] <rntz_> tupshin_: please use a pastebin instead of pasting to channel.
[10:59:22] <tupshin_> sorry...will do
[10:59:27] <nano> dat paste
[10:59:53] <kimundi> tupshin_: Well, you'd need to somehow tell the compiler to concatenate both string literals for this to hypothetically work :P
[11:00:26] <tupshin_> kimundi: i understand that the second example wouldn't do it exactly even with fall through, but still
[11:01:33] <eddyb> tupshin_: you can just use ifs :P
[11:01:47] <kimundi> I'm pretty sure you can emulate fall through reasonably perfomant with the help of a tmporary variable, and a lot of mathjces and ifs - which in turn could be hidden in a macro. I'm just not sure that having fall through will ever be demanded enough for it to get specific syntax :P
[11:01:53] <eddyb> but then you have to print the newline separately
[11:01:58] <tupshin_> kimundi: that makes sense
[11:02:34] <rntz_> "mathjces"?
[11:03:14] <kimundi> matches - please ignore the fact that I'm typing worse than a monkey with a typewrite sometimes :(
[11:03:30] <rntz_> ah. sorry, my brain couldn't figure out how to autocorrect that one
[11:03:46] * kimundi really needs to work on that - it went beyond embarrassing a long time ago
[11:03:55] <tupshin_> lol
[11:05:44] <Ms2ger> Not sure how to put this, but...
[11:05:44] <Ms2ger> Yes
[11:06:13] <ChrisMorgan> Admirably put.
[11:07:09] <Ms2ger> Thank you, kind sir
[11:11:21] *** Joins: derek_c (derek@12AF321D.B04BD6DC.AA745434.IP)
[11:12:10] <tupshin_> fwiw, if fall through were ever possible, having the various branches accumulate into a Vec looks like it would be what I would want
[11:12:24] *** Joins: nkoep (nik@moz-5BF386E8.pool.mediaways.net)
[11:12:59] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:14:29] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[11:16:21] *** Joins: fixplz (uid18459@moz-A42E5B7B.irccloud.com)
[11:18:48] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[11:19:04] <kimundi> tupshin_: Having them being accessible as an Iterator might even be more general :P
[11:20:13] <tupshin_> either would be fine with me
[11:26:05] <dbaupp> Skrylar_, whitequark: we actually don't have any GC atm; @ is just reference counting
[11:26:11] <dbaupp> (FWIW)
[11:27:33] *** Parts: cwmma (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) ()
[11:27:35] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:32:02] *** Joins: zokier` (zokier@moz-C4357EA7.kapsi.fi)
[11:32:20] *** Joins: ofeldt- (ofeldt@moz-C67C85AF.dip0.t-ipconnect.de)
[11:33:31] *** Quits: ofeldt (ofeldt@moz-D989B272.dip0.t-ipconnect.de) (Ping timeout)
[11:35:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:35:46] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:36:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:38:25] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:38:35] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[11:39:02] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:50:16] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[11:50:25] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[11:50:34] <adridu59> dbaupp: hi
[11:50:52] <dbaupp> adridu59: hello
[11:51:20] <adridu59> dbaupp: could have a look at the log file from my PR? seems like it failed on semicolon after compiler attributes
[11:51:21] <adridu59> http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/2426/steps/test/logs/stdio
[11:51:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:52:15] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:53:44] *** Quits: derek_c (derek@12AF321D.B04BD6DC.AA745434.IP) (Ping timeout)
[11:53:57] <dbaupp> adridu59: which PR number again?
[11:54:26] <adridu59> #11271 https://github.com/mozilla/rust/pull/11271
[11:54:52] *** Joins: oberstet (quassel@moz-406FA144.dynamic.mnet-online.de)
[11:55:38] <adridu59> I'm working on addressing Alex's comment in the meantime but that one if legit seems like a blocker
[11:55:45] <dbaupp> hm
[11:55:59] * dbaupp consults the python script that extracts the tests
[11:56:05] <dbaupp> (etc/extract-tests.py iirc)
[11:56:28] <dbaupp> ah, ok
[11:57:00] <dbaupp> it becomes `#[allow(foo)] <some more default attributes> fn main() { <your code here> }`
[11:57:27] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:57:41] <dbaupp> wait... that should still work
[11:57:43] <adridu59> yea I looked at extract-tests but didn't found anything particular
[11:57:53] <adridu59> unused imports isn't allowed by default on the file so
[11:58:09] <dbaupp> Oh
[11:58:40] <dbaupp> you can look at the file it creates in `./<platform triples/test/doc-tutorial-conditions/...`
[11:58:56] <dbaupp> um, wait... why is it warning about unused imports?
[11:59:02] <dbaupp> can't you just... remove those imports?
[11:59:12] <adridu59> no because I am spoofing code
[11:59:18] <adridu59> mod BufferedReader
[11:59:29] <adridu59> complains that the BufferedReader import from before is unused
[11:59:40] <adridu59> but that's the one I want to show to the user
[11:59:52] <adridu59> is there a command to just tests the tutorials?
[12:00:02] <dbaupp> maybe
[12:00:09] * dbaupp doesn't know it
[12:00:19] <dbaupp> how about if you just remove the `;`
[12:00:29] <dbaupp> so the attribute just applies to the unused import
[12:00:38] <adridu59> yea I can do that
[12:00:45] <dbaupp> (i.e. just to the specific import that is unused.)
[12:00:59] <adridu59> ok I will build the code on a standalone file to test
[12:02:31] <adridu59> is this a known bug through, that semicolon does not work?
[12:02:40] <adridu59> as standalone it works good
[12:02:55] <dbaupp> yes, it's entirely a property of the extract-test runner
[12:03:00] *** Quits: twi (Adium@508D576C.F6B818C.509B472F.IP) (Ping timeout)
[12:03:21] *** Joins: jungy (Mibbit@moz-17644D08.hsd1.md.comcast.net)
[12:03:47] <dbaupp> if you look at the relevant file in the folder I mentioned above you'll see that it has `extern mod extra; #[allow(unused_imports)]; ....`
[12:03:51] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[12:03:51] <dbaupp> i.e. it's invalid.
[12:03:55] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[12:05:04] <adridu59> sorry, what is invalid?
[12:05:07] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[12:05:25] <adridu59> in extract-tests.py there's no such thing as unused_imports
[12:06:53] <ChrisMorgan> adridu59: I think he meant ./<platform triples>/test/doc-tutorial-conditions/...
[12:07:28] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[12:07:35] *** Joins: sk (sk@79248627.29248532.33B96495.IP)
[12:07:49] *** Joins: derek_c (derek@37D247A.6D9D7C73.291A146C.IP)
[12:09:37] <adridu59> ChrisMorgan: oh okay
[12:09:51] <ChrisMorgan> adridu59: the summary of the matter is that extract-tests.py goes putting the contents of the tests after an `extern mod extra;`, so the tests in tutorial-conditions.md, which use #[allow(unused_imports)], end up with that attribute coming after the extern mod extra line, which is not valid.
[12:10:17] <adridu59> ChrisMorgan: ah thanks for the explanation, this should be mentioned somewhere
[12:10:40] <adridu59> dbaupp: also, alex suggested that I just use stdin() instead of BufferedReader for eof(), but I'm not sure how eof() applies to it
[12:11:03] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[12:11:15] <ChrisMorgan> One solution, if it's *needed*, would be to search for attributes at the start of the block and put them before the `extern mod extra;`. That wouldn't be terribly difficult to do crudely.
[12:11:26] <dbaupp> adridu59: when stdin() is closed .eof() returns true
[12:11:50] <ChrisMorgan> adridu59: actually, just put the `extern mod extra;` after it and it'll do what you want.
[12:12:14] <dbaupp> e.g. if the user presses ctrl D (on linux), or if something piped to stdin ends
[12:12:37] <dbaupp> ./foo < bar.txt // eof when all of bar.txt has been read from stdin
[12:12:43] *** Joins: mib_ifh44w (Mibbit@moz-DDCB9725.dclient.lsne.ch)
[12:12:44] <adridu59> how would I go about setting a relevant test? kinda confused
[12:12:59] <dbaupp> just remove the call to BufferedReader
[12:13:08] <dbaupp> i.e. use stdin unbuffered
[12:13:10] <ChrisMorgan> adridu59: you've got how to get your #[allow(unused_imports)] working, now?
[12:13:35] *** Quits: mib_ifh44w (Mibbit@moz-DDCB9725.dclient.lsne.ch) (Quit: http://www.mibbit.com ajax IRC Client)
[12:13:50] <dbaupp> adridu59: `let mut reader = stdin(); println(reader.read_line().unwrap_or("<no line was entered>")); if reader.eof() { println("only one line"); }`
[12:13:53] <ChrisMorgan> adridu59: put the line "# extern mod extra;" after the "# #[allow(unused_imports)]" line and that'll fix it.
[12:13:56] <adridu59> ChrisMorgan: without semicolon (ie. inline), it should work
[12:14:12] <adridu59> ChrisMorgan: there's no extern mod extra in my file
[12:14:25] <ChrisMorgan> adridu59: what do you mean?
[12:14:48] <adridu59> ChrisMorgan: I am working on the conditions tutorial and it doesn't use extern mod extra
[12:14:53] <dbaupp> ChrisMorgan: so that the attribute attaches to the next line
[12:15:13] <adridu59> ChrisMorgan: what he said, I answered the wrong question
[12:15:46] <dbaupp> ChrisMorgan: (because the next line is the unused import in question)
[12:15:52] <ChrisMorgan> Oh, OK.
[12:16:20] <ChrisMorgan> But if you had wanted it with a semicolon, putting the "# extern mod extra;" line after it would have fixed that so that it was in the right place.
[12:16:38] <adridu59> ChrisMorgan: in extract-tests.py?
[12:16:46] <dbaupp> adridu59: no, in your test
[12:17:03] <ChrisMorgan> That way it won't get inserted before by extract-tests.py.
[12:17:05] <dbaupp> the test runner only inserts `extern mod extra;` before the code if it doesn't occur in the code already
[12:17:16] <adridu59> ahh ok
[12:17:41] <adridu59> but that's a hack
[12:18:18] <dbaupp> adridu59: (Oh, I guess a problem with the .eof test is plain stdin() doesn't have read_line. Could just use `let mut bytes = [0, .. 10]; reader.read(bytes); if reader.eof() { println("stdin had at most 10 bytes of data"); }`
[12:19:06] <adridu59> dbaupp: read_line() non buffered was dropped because of performance?
[12:19:25] <dbaupp> yes
[12:19:45] <dbaupp> reading a byte at a time from a non-buffered Reader can be extremely slow
[12:21:35] <adridu59> is that Java does? I don't recall using BufferedReader for stdin with it
[12:22:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[12:23:13] <dbaupp> they may buffer stdin by default
[12:25:35] <adridu59> dbaupp: updated https://github.com/mozilla/rust/pull/11271/files
[12:30:14] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[12:30:23] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[12:30:38] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[12:31:19] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[12:33:55] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[12:34:25] <adridu59> dbaupp: updated
[12:34:47] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[12:34:55] *** Quits: jungy (Mibbit@moz-17644D08.hsd1.md.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:35:07] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[12:39:28] *** Joins: mpiechotka (mpiechotka@moz-FF5F76BA.adsl.inetia.pl)
[12:40:09] <adridu59> dbaupp: updated
[12:40:37] <dbaupp> adridu59: (sorry for only doing one review at a time... I'm a little distracted right now :) )
[12:41:20] <adridu59> dbaupp: well sorry for the bad code ;)
[12:41:35] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[12:42:24] <dbaupp> heh
[12:42:39] * dbaupp has had a lot of bad things picked by reviewers
[12:43:08] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:43:15] <Ms2ger> Reviews++
[12:43:34] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[12:43:59] <mpiechotka> Hi. I have a problem with traits (https://gist.github.com/uzytkownik/8237314). If I uncomment the '<trait> for' on line 182 (and remove pub to satisfy rustc) the test stops compiling with message that "type `xml::Text<>` does not implement any method in scope named `content`". What's wrong?
[12:44:26] <mpiechotka> (Sorry for large example but I could not reproduce it in small scale)
[12:45:28] *** Quits: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz) (Quit: leaving)
[12:47:08] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[12:48:28] <ChrisMorgan> mpiechotka: to call methods on a trait, the trait must be in scope. In that case, it means you need a `use xml::TextNode;` in your tests file.
[12:49:08] <ChrisMorgan> This is deliberate and necessary to allow for multiple traits having clashing names—essential to composition of multiple libraries.
[12:50:40] <mpiechotka> ChrisMorgan: Makes sense. Thanks
[12:54:19] <adridu59> dbaupp: do you feel like it's r+ worthy? I have addressed alex comments too
[12:55:17] <dbaupp> adridu59: oh
[12:55:18] <dbaupp> oops
[12:55:25] <dbaupp> I loaded the commit page to r+
[12:55:39] <dbaupp> but got distracted before actually r+ing
[12:55:52] <dbaupp> (I'd even written it in the comment box!)
[12:55:59] * dbaupp clicks the big green button
[12:56:16] <adridu59> ahah
[12:56:17] *** Quits: derek_c (derek@37D247A.6D9D7C73.291A146C.IP) (Ping timeout)
[13:00:31] *** Joins: FreeFull (freefull@moz-23A494A8.as13285.net)
[13:01:42] *** Joins: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP)
[13:02:25] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:04:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[13:06:43] <adridu59> what's wrong with globs?
[13:06:51] <adridu59> I mean, why aren't they supported
[13:07:13] <kimundi> adridu59: There where historicaly bugs with them, and they make it less obvious what gets imported
[13:07:23] <dbaupp> there still are bugs with them
[13:07:46] <kimundi> adridu59: To be honest I never understodd how they could possibly be so broken as to put them behind a feature flag either :P
[13:07:56] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[13:08:06] <adridu59> what kind of bugs?
[13:08:38] <dbaupp> glob importing something from a module that imported something from you
[13:08:40] <kimundi> import of private things, not import of  public things, etc
[13:08:58] <adridu59> I see
[13:08:59] <dbaupp> i.e. `mod foo { use bar::*;  pub fn baz() {} } mod bar { use foo::baz; fn qux() {} ... }`
[13:09:08] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[13:09:14] <dbaupp> would fail with weird error messages
[13:09:41] *** Quits: FreeFull (freefull@moz-23A494A8.as13285.net) (Ping timeout)
[13:09:55] <adridu59> is it to be dropped for 1.0?
[13:10:09] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[13:10:10] <kimundi> I still don't understand how that could possibly be a problem of globs - shouldn'T a glob just expand to a list of import names, and then work identical to manually writing it out? I mean, obviously thats not the case, but I always wondered how the implementation could get so different for them
[13:10:37] <dbaupp> kimundi: if it's so easy, fix it :P
[13:11:10] <kimundi> dbaupp: Well, as I said, apparently its _not_ so easy :P - I never looked at resolve enough to actually understand it
[13:11:18] <dbaupp> (I guess the hardest bit/main reason for feature gating is deciding the exact semantics of some corner cases & error messages.)
[13:11:41] *** Joins: derek_c (derek@8B65464B.D556260E.AA745434.IP)
[13:11:46] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[13:13:39] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[13:18:41] <adridu59> dbaupp: the one behind the JSON PR would like an answer from you it seems https://github.com/mozilla/rust/pull/10801
[13:19:15] <dbaupp> what does https://github.com/mozilla/rust/pull/10801#discussion_r8611784 mean?
[13:20:45] <adridu59> no clue
[13:21:05] <adridu59> but he mainly wanted an answer on https://github.com/mozilla/rust/pull/10801#discussion_r8612311
[13:21:07] <adridu59> it seems
[13:21:19] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[13:25:33] *** Joins: gwty (gwtypc@FCD031E2.AE087544.25B273F5.IP)
[13:30:14] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:32:50] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:34:10] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:36:33] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[13:39:15] *** Joins: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP)
[13:40:19] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[13:43:57] *** Joins: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net)
[13:44:51] *** Parts: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net) ()
[13:45:01] *** Joins: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net)
[13:45:17] <bstrie> "i was turned off to rust by something silly... monomorphization means i can't use polymorphic recursion :("  <-- the reason why it is futile to try to appeal to haskell programmers
[13:45:50] <dbaupp> well they're correct; that's a silly reason to be turned off :P
[13:46:27] <bstrie> literally every other language channel: "rust looks nice, but I worry that it's too complex"
[13:46:28] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[13:46:40] <bstrie> #haskell: "rust looks nice, but if only it could be *more complex*"
[13:47:15] <adridu59> even C++? :p
[13:47:32] *** Quits: tav (tav@moz-6D839A1A.range109-145.btcentralplus.com) (Ping timeout)
[13:48:00] *** Joins: tav (tav@moz-A8FFF7BF.range217-44.btcentralplus.com)
[13:48:57] <bstrie> adridu59: a sample of ##c++ sentiment:
[13:49:04] <bstrie> "Rust (which I have mixed feelings for), does have immutable values in the sense I am talking about; but then again they kind of made a mess of pointer semantics"
[13:50:30] <adridu59> then the guy who said that is not a targeted user of rust
[13:50:52] <bstrie> another one:
[13:50:56] <bstrie> "'because there's so much to know about memory management in C++' --> Or because C++ does not have linear types. There is probably just as much to learn about memory management in Rust, but the worst that can happen is that you get a compile error."
[13:51:00] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[13:51:52] <adridu59> but if he says it's a mess then he doesn't even understand what it's about
[13:56:41] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[13:57:27] <marc_> Are there any docs re statically compiling rust against libc & libstdc++ ?
[13:58:17] <dbaupp> fwiw, we no longer have a libstdc++ dependency (on most platforms)
[13:58:50] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:59:12] <marc_> On HEAD?
[13:59:29] <marc_> 0.8 still has it (I think? :-))
[13:59:46] *** Joins: mib_4zwy3e (Mibbit@30EBFE47.D6EE7B4D.99FEC5C4.IP)
[13:59:59] <mib_4zwy3e> hi!
[14:00:49] <bheylin_> given a &str what is the quickest way to get a *mut u8
[14:00:50] <bheylin_> ?
[14:00:54] <ChrisMorgan> mib_4zwy3e: hi! If you've got questions, fire away.
[14:01:04] <adridu59> libstdc++ isn't coming back for unwinding on android though
[14:01:05] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:01:08] <ChrisMorgan> bheylin_: you don't, please. Unsafe.
[14:01:12] <dbaupp> marc_: (yes, on head)
[14:01:29] <marc_> OK. I assume I'll still need a newer version of libc on my system though.
[14:01:30] <adridu59> s/isn't/is
[14:01:32] <dbaupp> adridu59: oh, but we are using some C++ code?
[14:01:36] <dbaupp> ah, right
[14:01:39] <ChrisMorgan> bheylin_: what are you *actually* wanting? *mut u8 from &str doesn't make sense.
[14:01:44] <dbaupp> adridu59: that's what I mean by "on most platforms"
[14:02:03] <adridu59> yep
[14:02:07] <mib_4zwy3e> anyone who known how to download the newest Windows version of  rust, like 0.9 preview?
[14:02:17] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[14:03:13] <adridu59> mib_4zwy3e: there's a nightly for windows
[14:03:28] <marc_> I'm pulling and building from head now
[14:03:56] *** Joins: jviereck1 (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:03:56] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Connection reset by peer)
[14:04:57] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:05:06] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[14:05:12] <marc_> I assume I should use rpath when I build rust on the host with a new libc, so that when I distribute the binary I can also ship libc (and possibly ld.so)
[14:05:21] *** Quits: jviereck1 (Adium@moz-D86D9852.dip0.t-ipconnect.de) (No route to host)
[14:05:49] *** Quits: gwty (gwtypc@FCD031E2.AE087544.25B273F5.IP) (Client exited)
[14:05:51] <mib_4zwy3e> could you tell where to download? url?
[14:06:24] <adridu59> I don't find it back
[14:06:30] <adridu59> iirc it's maintained by Heather
[14:06:30] <bheylin_> ChrisMorgan: I have a ~str that I would like to parse and also mutate in place
[14:06:44] <bheylin_> ChrisMorgan: for instance converting escape chars in place
[14:06:47] <adridu59> https://www.nuget.org/packages/Rust/
[14:06:49] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:06:57] <ChrisMorgan> And 0.9 is expected to be released next week, too. (But don't stay with it or you'll get all out of date and you'll miss out on half the fun.)
[14:07:42] <adridu59> the build is from 4 days ago but miles away from 0.8 that's for sure
[14:07:53] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[14:07:55] <ChrisMorgan> bheylin_: you realise that for that to be sane your escapes will need to be of the same UTF-8 byte length, I hope?
[14:08:32] <ChrisMorgan> bheylin_: seriously, if you're doing things like that, you probably shouldn't be using ~str; you should be using ~[u8].
[14:10:22] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[14:11:19] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:12:25] *** Joins: jviereck1 (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:13:02] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:14:08] *** Quits: jviereck1 (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:14:52] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:18:29] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[14:20:13] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[14:21:10] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:21:51] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:22:33] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[14:22:33] *** ChanServ sets mode: +o jdm
[14:23:18] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[14:28:57] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[14:29:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[14:31:26] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[14:31:26] *** Quits: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP) (Ping timeout)
[14:32:15] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[14:32:32] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[14:33:14] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[14:34:55] *** Joins: hio (hio___@41B40066.39B1D634.5A9032E5.IP)
[14:35:09] <bjz> hio: o/
[14:35:11] <hio> hi
[14:35:32] <bjz> see - more people here :D
[14:35:44] <hio> so what's up, can we compile to asm.js yet?
[14:36:16] <bjz> not sure - I think acrichto was going to try compiling his emulator to js
[14:36:17] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:36:45] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:36:49] <bjz> can enscripten handle llvm ir?
[14:37:00] <bjz> because rustc can output that
[14:37:23] <hio> i think so
[14:37:50] <hio> anyway, I actually dont like Rust at all
[14:37:58] <ChrisMorgan> ☹
[14:38:22] <hio> too complicated for me
[14:38:30] <klutzy> bjz: https://gist.github.com/klutzy/7819231
[14:38:54] <bjz> hio: like anything, it gets easier
[14:39:09] <bjz> hio: it is much simpler than C++, at least x)
[14:39:09] <hio> like scala?
[14:39:24] <pepper_chico> sadly... rust is a lot complicated in my view too, even tough I'm a c++ programmer
[14:39:39] <kimundi> Now that surprises me
[14:39:43] <hio> yeah and c++ can at least interface with everything in the world very easily
[14:39:45] *** Quits: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu) (Ping timeout)
[14:39:56] <ChrisMorgan> I've come from a Python background. I don't think Rust is a terribly complex language.
[14:40:12] <kimundi> Rust is different than C++, sure - but I don't think its more complicated?
[14:40:23] <bjz> hio: rust can interface with the outside world quite easily
[14:40:36] <bjz> at least as well as C++
[14:40:58] <kimundi> rusts can interface with the outside world just as well as C++ - there are just more C++ libraries in the wild, is all
[14:40:59] <bjz> C interop is super nice
[14:41:02] <hio> anything that uses _ as a symbol is just ugh
[14:41:47] <bjz> klutzy: nice
[14:41:49] <hio> I really like Dart, why not make a language like that but have it be super fast
[14:42:00] <kimundi> hio: Well, travel back into time and give us more typeable symbols in ASCII :P - we are working with what is there in reality
[14:42:10] <ChrisMorgan> hio: Dart is an utterly unsound language. Soundness and safety is rather important to Rust.
[14:42:39] <ChrisMorgan> hio: what, you object to the usage of underscores as a whole?
[14:43:12] <hio> as a full valid name for anything yes. Too many clever programmers use it
[14:43:18] <pepper_chico> not as complicated as c++ yes, c++ has A LOT of corner cases, implicit behavior changing syntax subtly, but anyway... to just start using rust, a beginner must bend its mind around 4 kinds of pointers, move semantics etc
[14:43:34] <adridu59> pepper_chico: rust is not complicated, just less relaxed than C++
[14:43:37] <hio> i guess i got scared so much by scala
[14:43:41] <ChrisMorgan> hio: _ is not an identifier in Rust.
[14:43:51] <kimundi> hio: What do you mean? _ is not a valid identifier in rust, but a pattern
[14:43:56] *** jorendorff_away is now known as jorendorff
[14:44:09] <adridu59> pepper_chico: well Rust is not oriented towards simplicity and I think that those who want to learn it shouldn't expect Javascript typesystem
[14:44:23] <pepper_chico> soh
[14:44:44] <adridu59> C++ is harsh to learn too, not for simple things but as you start doing serious project it is
[14:44:44] <hio> yeah but why not? you just reminded me of how awesome it would be to have json implicitly be an object 
[14:44:46] <bjz> hio: the difficulty with scala is that there is so many different ways to do things. it also has a huge amount of syntactic sugar. Rust has less in that regard.
[14:45:08] <ChrisMorgan> pepper_chico: four kinds of pointers? What are you counting? ~, &, &mut? Well, that's three.
[14:45:10] <adridu59> scala abstracts too much, plus it runs on JVM
[14:45:11] <pepper_chico> if it's not going toward simplicity, its toward being complicate, and that's was just being said
[14:45:11] <kimundi> pepper_chico: To be fair, a lot of that is bap propaganda and bad documentation - the only pointer you really need to know about is & and &mut
[14:45:19] <kimundi> bad*
[14:45:25] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[14:45:41] *** Quits: derby (dirby@moz-773B6878.torservers.net) (Ping timeout)
[14:45:54] <bjz> hio: Rust does have complexity though - simplicity was never the ultimate goal.
[14:45:57] <adridu59> I tend to disagree, you have to know ~ too
[14:46:11] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[14:46:14] *** Joins: derby (dirby@83D5CDF1.BF0D2B27.7FF8B1C5.IP)
[14:46:14] <hio> also the fact that there is no IDE, I mean I know all the pros use vim but I just cant spend months learning a text editor, I tried really
[14:46:28] <adridu59> you NEED a certain level of complexity to have expressivity, else you can just basically use C
[14:46:59] <pepper_chico> ChrisMorgan, what about @
[14:47:01] <ChrisMorgan> hio: it sounds to me like your primary concerns are a little touch of misinformation (because _ isn't an identifier) and that Rust is not mature yet.
[14:47:05] <kimundi> adridu59: Usually yes, but its not essential for the language - just among the first things that you want to use additional to the essentials :P
[14:47:08] <adridu59> hio: vim has a 15-20 minutes learning curve; I can see your arguments but be at least reasonable with them
[14:47:08] <ChrisMorgan> pepper_chico: don't use it. It's dying.
[14:47:17] <ChrisMorgan> adridu59: 15-20 minutes!
[14:47:26] <hio> adridu59, oh cmon, dont be ridiculous
[14:47:26] <adridu59> ChrisMorgan: vimtutor
[14:47:31] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[14:47:37] <hio> you can get the basic navigation in 15min
[14:47:37] <hio> yes
[14:47:39] <bstrie> vim has a 15-20 minute learning curve if you've played nethack :P
[14:47:40] <hio> but to be productive
[14:47:41] <hio> ..
[14:47:57] <bjz> adridu59: I think you are being a little optimistic there :)
[14:48:00] <ChrisMorgan> adridu59: that ain't the full learning curve. Vim will be a painful editor for something like that. 15-20 months is more realistic for using it well.
[14:48:10] <pepper_chico> ChrisMorgan, dying? so managed box are going to be dropped?
[14:48:21] <bjz> pepper_chico: they are being libified
[14:48:28] <pepper_chico> I know that
[14:48:29] <adridu59> fyi you can just use it as a standard text editor; to get the important commands it would be 15-20 min, and to be productive quite more than that but it"s worth it
[14:48:39] <bjz> pepper_chico: @ will go, afaik
[14:48:40] <kimundi> If the problem is editor complexity, you need neither vim nor eclipse nor emacs - It's perfectly possible to use any random texteditor to write rust code
[14:48:50] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[14:48:57] * bjz uses sublime text
[14:49:01] <pepper_chico> anyway, it's necessary, afaik, they are said to be needed for breaking cycles?
[14:49:02] * ChrisMorgan still very occasionally finds things he doesn't know about Vim after having grown up with Vim and used it as his primary text editor for ten years
[14:49:08] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[14:49:10] <pepper_chico> that's what I recall from tutorials
[14:49:14] <pepper_chico> I think
[14:49:28] <adridu59> bjz: syntax highlight for sublime is quite weird iirc
[14:49:38] <adridu59> I mean for rust specifically
[14:49:38] <Ms2ger> pepper_chico, well, current @ doesn't break cycles
[14:49:56] <bjz> adridu59: aye, it needs some fixes
[14:50:00] <ChrisMorgan> Currently cycles will not be freed until task destruction.
[14:50:07] <ChrisMorgan> bjz: then fix it! Yay!
[14:50:12] <adridu59> bjz: not fond of pink curlies personally
[14:50:20] <bjz> adridu59: whu?
[14:50:25] <Ms2ger> adridu59, what's wrong with pink curlies? :)
[14:50:44] <kimundi> pepper_chico: @ as seperate symbold and syntax will go away, not managed boxes in general
[14:50:45] * bjz must use a different highlighting scheme
[14:50:54] <adridu59> oh I can't stand that, sorry
[14:50:55] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[14:51:05] <kimundi> pepper_chico: There will be a Gc<T> library type to replace them (already is, technically)
[14:51:06] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:51:12] <adridu59> can you say use that package for lexer and use solarized color scheme?
[14:51:22] <pepper_chico> kimundi, I know of that already
[14:51:23] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[14:51:31] <kimundi> pepper_chico: Ah, sorry then :)
[14:51:39] <pepper_chico> anyway, the functionality will be still there
[14:51:53] <pepper_chico> it's a kind of pointer
[14:51:59] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[14:52:00] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:52:10] <bjz> adridu59: I just tried solarised - no pink curlies
[14:52:15] <eddyb> pepper_chico: nope
[14:52:31] <adridu59> bjz: that cool
[14:52:33] <kimundi> pepper_chico: Right, but one you also need to know about if the need for it arises - just like Rc and Arc
[14:52:43] <kimundi> r/also/only/
[14:53:01] <eddyb> pepper_chico: unless you're referring to a library smart ptr (which aren't seamless yet)
[14:53:05] <pepper_chico> kimundi, and that's is the kind of wisdom a rust programmer needs
[14:53:33] <pepper_chico> it's not a thing one doesn't need to know
[14:53:35] <pepper_chico> it needs
[14:53:36] *** jorendorff is now known as jorendorff_away
[14:53:47] <ChrisMorgan> pepper_chico: the language-support-for-smart-pointers work should improve the situation in all of those cases as well, but it's not really a difficult thing at present.
[14:53:47] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[14:53:53] <kimundi> pepper_chico: Not neccessarly - there are a lot of java programmers out there that don't know what a SoftReference is for example :P
[14:53:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[14:54:03] <mib_4zwy3e> where happend the error?
[14:54:04] <mib_4zwy3e> tmpfs.rs:1:0: 1:0 error: can't find crate for `std` tmpfs.rs:1 use std::os::tmpdir;            ^
[14:54:05] <bstrie> pepper_chico: the Gc pointer isn't the only way to create cycles. it's not mandatory to learn
[14:54:22] <eddyb> Strong/Weak are the proper non-GC solution
[14:54:33] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[14:54:36] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[14:54:46] <pepper_chico> as in c++
[14:54:56] *** Quits: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com) (Client exited)
[14:55:11] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:55:16] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[14:55:31] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[14:55:38] <pepper_chico> well, anyway, even in c++ weak_ptr are not that present, anyway, it's necessary to know why of them
[14:55:46] <Ms2ger> Hrm
[14:56:03] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[14:56:05] <Ms2ger> Oh, missing .iter()
[14:56:35] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[14:56:56] <ChrisMorgan> mib_4zwy3e: sounds like a path problem of some form. The build you're using may well be broken, sorry :-(
[14:56:57] <kimundi> Anyway, no one claims that Rust is simply - all I'm saying is that it's not more complicated then C++, and I'd even argue its less so
[14:57:10] <kimundi> r/simply/simple
[14:57:13] <bstrie> rust is worlds less complicated than C++
[14:57:24] <ChrisMorgan> Rust the language is significantly simpler than C++ the language.
[14:57:30] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:57:45] * kimundi does not really qualify to make that assertion, as he only knows C++ from lurking in this channel
[14:57:46] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[14:57:53] <pepper_chico> what I find interesting in Rust it that, lifecycle management, N kinds of pointers, is right upfront. you can start with c++ without referring to this knowledge for a while, but with rust, that's kind of impossible
[14:58:07] <pepper_chico> one just start manipulating that
[14:58:25] <ChrisMorgan> pepper_chico: yes! It's great, isn't it! Ensures that you write safe and correct programs :-)
[14:58:35] <bstrie> pepper_chico: knowledge of lifecycles in C++ is not optional, just ignorable. if you want to write anything that actually works and ever uses references, you'll need to be aware of lifecycles anyway
[14:58:40] <ChrisMorgan> (Seriously, I do put that as a very good thing.)
[14:58:56] <kimundi> pepper_chico: I agree there - and I thinks its a good thing. Better lern to do it correctly up front, then discover 5 years later just how  much you where doing wrong all the time ;)
[14:59:20] <adridu59> bottom-line: C ftw :p
[14:59:28] *** Joins: mje113 (uid16557@moz-A42E5B7B.irccloud.com)
[14:59:45] <ChrisMorgan> …
[14:59:48] *** Joins: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu)
[15:00:01] <bstrie> nah, I use BCPL for all my side projects
[15:00:27] <pepper_chico> even it may be beneficial, it may scare people that's ignorant of this stuff
[15:00:27] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:00:44] * ChrisMorgan is thinking how much easier and safer a "write a simple HTTP file server in C" project he had in Uni would have been in Rust
[15:00:50] <bstrie> pepper_chico: you need to propose a better solution, then
[15:00:54] <pepper_chico> "beginner"
[15:01:08] <adridu59> pepper_chico: but don't these people just use Python?
[15:01:33] <pepper_chico> adridu59, yeah, or java, or go
[15:01:42] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[15:01:44] <ChrisMorgan> But had that assignment been in Rust, I wouldn't be quite so knowledgeable about obscure HTTP details or understand quite so well how the sockets and scheduling parts (epoll &c.) actually work at the lowest levels…
[15:01:58] <Ms2ger> Hrm
[15:02:52] <bstrie> adridu59: systems programming languages are inherently difficult by their nature, because all the systems in practical use are inherently complex. this isn't something that you can trivially abstract away
[15:03:10] <Ms2ger> I've got a ~[@mut T] (I know, I know), and I need an Option<@mut T> which has Some(the i'th element) if that's in bounds, and None otherwise
[15:03:48] <adridu59> (or C++ :p ...jk) but that's my point, people interested by Rust are supposedly willing to go through that learning curve
[15:03:57] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:04:03] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:04:20] <Ms2ger> Nvm, put my .map(|&x| x) in the wrong place at first
[15:04:28] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[15:04:30] <adridu59> and the additional semantic isn't bad at all because it makes you think unambiguously about what you want to do
[15:04:58] <adridu59> and in Rust you have precise control over pointers even if it means pain at the beginning
[15:05:27] * Ms2ger wishes for fewer map(|&x| x)s
[15:05:41] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:05:59] <pepper_chico> I'm just afraid that microsoft, like with C# and java, will be able to gather stuff from all current languages for that midori language thing, and produce some optionally efficient and also easy, or who knows, and that will be sad as I don't like microsoft ways
[15:06:09] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:07:01] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:07:03] <Ms2ger> pepper_chico, hey, this is Mozilla, we're used to beating up MS ;)
[15:07:38] <pepper_chico> Ms2ger, herm.... I only recall of firefox =)
[15:07:57] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:08:01] <Ms2ger> Didn't we do well there? :)
[15:08:29] <ChrisMorgan> Ms2ger: map(|&x| x) suggests you should perhaps be using move_map (if you're dealing with the appropriate type)?
[15:08:45] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:08:54] <pepper_chico> Ms2ger, yes but, this midori thing is the thing that's coming after. firefox came after IE.
[15:09:17] <Ms2ger> ChrisMorgan, don't think so... I'm doing elem.attrs.get_opt(index as uint).map(|&x| x)
[15:09:17] <pepper_chico> beating before even born, maybe
[15:09:23] <dbaupp> ChrisMorgan: move_map?
[15:09:28] <bstrie> pepper_chico: wrong, microsoft's been developing this language since roughly mozilla's been developing rust
[15:09:28] <adridu59> pepper_chico: just to reassure you about its failure... it's based-off C# :p
[15:09:41] <pepper_chico> hahaha
[15:09:43] <bstrie> pepper_chico: your misconception is based on the fact that microsoft is allowed to keep its projects hidden, whereas mozilla isn't
[15:10:09] <hio> mozilla could hide them too
[15:10:32] <adridu59> I don't see having things hidden as an advantage
[15:10:37] <Ms2ger> Could, but very rarely does
[15:10:44] <dbaupp> then the community doesn't get to get involved
[15:10:45] <adridu59> and if Microsoft makes a good programming language that's good for them
[15:10:56] <pepper_chico> yeah, I know, based-off c#, but anyway, let's say it can be as simple as c#, but also, optionally as efficient as c++ using added features, well, who knows, just speculation
[15:10:57] <hio> good for me because I'll use it if it has visual studio support
[15:10:59] <bstrie> hio: even when mozilla has *wanted* to keep something hidden, they do a very bad job at it :)
[15:11:24] <ChrisMorgan> dbaupp, Ms2ger: sorry, I meant move_iter
[15:12:00] <adridu59> I don't see the problem; that's not even like Mozilla is willing to make money out of Rust
[15:12:01] <Ms2ger> ChrisMorgan, still don't see how that helps :)
[15:12:10] <adridu59> they just want a tool that fulfills their need
[15:12:24] <adridu59> and it's a research project, not a secret enterprise product
[15:12:34] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:13:02] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[15:13:10] *** Quits: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net) (Quit: bheylin_)
[15:13:18] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[15:13:20] <dbaupp> Ms2ger: I guess he was assuming you were talking about Iterator.map, rather than Option.map
[15:13:22] <ChrisMorgan> Ms2ger: in your case it doesn't. You're using the .map(|&x| x) behaviour which demonstrates that you're using a Pod type.
[15:13:23] <marc_> dbaupp: I've built from HEAD and it still links against libstdc++
[15:13:31] <marc_> Is there a particular branch I should use?
[15:13:31] <dbaupp> marc_: hm
[15:13:33] <ChrisMorgan> dbaupp: indeed
[15:13:35] <dbaupp> no
[15:13:43] <Ms2ger> dbaupp, ah, right
[15:13:46] <dbaupp> marc_: what platform?
[15:14:03] <marc_> 3.4.73-64.112.amzn1.x86_64
[15:14:11] <marc_> aLinux 2013 AMI
[15:14:13] *** Joins: madalynn (Mibbit@4C7CCBBA.4CB67CC8.D07DE70A.IP)
[15:14:17] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:14:36] <dbaupp> oh
[15:14:45] <marc_> $ ldd x86_64-unknown-linux-gnu/stage2/bin/rustc|grep c++ # libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00007f9cde495000)
[15:14:51] <dbaupp> oh
[15:15:00] <dbaupp> rustc uses LLVM, which is written in C++
[15:15:09] <dbaupp> (maybe?)
[15:15:19] <marc_> OK, so I'm back to square 1 :)
[15:15:35] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[15:15:37] <dbaupp> oh, did you want the compiler itself to be statically linked?
[15:15:41] <marc_> Well
[15:15:44] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:15:45] <dbaupp> rather than just other executables?
[15:16:09] <marc_> I need to build rust so that it can run on an older OS that doesn't have current libc/libstdc++
[15:16:14] <dbaupp> ah
[15:16:25] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[15:16:26] <dbaupp> (sorry for leading you up the garden path, then. :) )
[15:16:29] <marc_> I think what I need to do is build it with rpath so that I can customer ld.so
[15:16:35] <marc_> customize* (stupid autocorrect)
[15:16:52] <dbaupp> we already use rpath for something, aiui
[15:16:53] <marc_> Then bundle ld.so and the rest of the runtime
[15:17:40] <dbaupp> I don't know how to do that; hopefully someone does (good luck!). :)
[15:17:43] * dbaupp -> bed
[15:17:49] * ChrisMorgan ditto
[15:17:57] <Ms2ger> Night folks
[15:18:03] * ChrisMorgan → bed, better be posh
[15:18:46] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:21:36] *** Joins: rca_ (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[15:21:58] <Ms2ger> Okay, another question
[15:21:59] <Ms2ger>                 old_raw_value = Some(attr.value.clone());
[15:21:59] <Ms2ger>                 attr.value = value.clone();
[15:22:13] *** Joins: Ferreus (ferreus@moz-26514DE4.pools.arcor-ip.net)
[15:22:16] <Ms2ger> I feel like I should be able to avoid cloning attr.value there
[15:22:30] <Ms2ger> Anyone know how?
[15:22:52] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:23:00] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:23:04] *** Quits: rca (rcatolino@moz-D0B9B101.adsl.proxad.net) (Ping timeout)
[15:23:08] *** rca_ is now known as rca
[15:23:10] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:23:21] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[15:23:30] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:24:31] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[15:24:48] *** Joins: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP)
[15:24:49] <kimundi> Ms2ger: swap() ?
[15:24:56] *** Joins: mib_zzjvar (Mibbit@moz-77C998AC.hsd1.ct.comcast.net)
[15:24:58] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[15:25:08] *** Quits: mib_zzjvar (Mibbit@moz-77C998AC.hsd1.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:25:23] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:25:54] <kimundi> let mut new_value = value; util::swap(&mut attr.value, &mut new_value);
[15:25:54] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:25:57] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:26:18] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:27:03] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[15:27:04] *** ChanServ sets mode: +o jdm
[15:27:45] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:27:53] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[15:28:52] <Ms2ger> Looks like that worked, thanks
[15:30:08] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[15:30:13] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[15:30:41] <shadower> is `rustpkg install github.com/someauthor/someproject` broken for everyone or am I doing something wrong? https://gist.github.com/anonymous/8239715
[15:30:43] <shadower> "supplied path for package dir does not exist, and couldn't interpret it as a URL fragment"
[15:30:53] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Connection reset by peer)
[15:31:12] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[15:31:21] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[15:31:29] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:31:44] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[15:32:04] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[15:32:45] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[15:33:08] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[15:33:16] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:33:55] *** Joins: twi (Adium@366146E1.F33C246D.C3DDD137.IP)
[15:34:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[15:35:31] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[15:36:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[15:36:24] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Ping timeout)
[15:36:33] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Client exited)
[15:36:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[15:36:45] *** Quits: mib_4zwy3e (Mibbit@30EBFE47.D6EE7B4D.99FEC5C4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:45] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:37:06] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[15:38:23] *** Joins: alan_andrade (alan_andra@49C209E1.1D5336B8.B7838CA6.IP)
[15:38:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[15:38:56] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[15:39:18] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[15:39:19] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[15:40:19] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:40:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:41:11] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Connection reset by peer)
[15:41:19] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[15:41:41] <kimundi> shadower: afaik rustpkg is broken in general atm
[15:41:46] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:42:13] *** Quits: espadrine (Thunderbir@moz-475D8076.w92-128.abo.wanadoo.fr) (Ping timeout)
[15:42:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:42:37] *** Quits: hio (hio___@41B40066.39B1D634.5A9032E5.IP) (Quit: Verlassend)
[15:42:40] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[15:42:46] <shadower> kimundi: ah fair enough, thanks
[15:43:02] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[15:43:22] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[15:43:56] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[15:43:56] *** ChanServ sets mode: +o jdm
[15:44:30] *** Joins: alonlevy (alon@43694F0C.262190E0.9E22F775.IP)
[15:45:40] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:46:17] *** Joins: espadrine (Thunderbir@moz-C17DE8E2.w92-128.abo.wanadoo.fr)
[15:46:24] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:46:28] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Ping timeout)
[15:47:23] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[15:48:12] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:48:21] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[15:50:24] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:51:35] *** Joins: alan_and_ (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[15:51:50] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:52:20] *** Quits: alan_andrade (alan_andra@49C209E1.1D5336B8.B7838CA6.IP) (Ping timeout)
[15:53:31] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[15:54:05] *** Joins: frogzilla (Mibbit@moz-A7A84C09.range81-131.btcentralplus.com)
[15:54:15] *** Joins: vmx (vmx@moz-BEE0328A.pools.arcor-ip.net)
[15:54:37] *** Quits: frogzilla (Mibbit@moz-A7A84C09.range81-131.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:56:41] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[15:57:17] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[15:58:10] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[15:58:59] *** Quits: alan_and_ (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Quit: Leaving...)
[15:59:06] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[16:03:43] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:03:44] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[16:04:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:05:07] *** jorendorff_away is now known as jorendorff
[16:06:08] *** jorendorff is now known as jorendorff_away
[16:07:10] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:07:23] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:08:11] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[16:08:21] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[16:08:34] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[16:10:55] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:10:55] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:11:37] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:11:54] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[16:12:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[16:12:37] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:12:43] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:12:52] *** Quits: mpiechotka (mpiechotka@moz-FF5F76BA.adsl.inetia.pl) (Ping timeout)
[16:13:58] *** Joins: erick (erick@E1304535.2A7189BF.BE19388.IP)
[16:14:19] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[16:14:25] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:14:37] <vmx> is it possible to implement an equal relation "==" for two different types? doesn't seem to be possible with the cmp::Eq trait
[16:15:34] *** Quits: alonlevy (alon@43694F0C.262190E0.9E22F775.IP) (Ping timeout)
[16:16:05] <kimundi> vmx: Afaik it is possible by implementing it generically for a trait - but it won't work with all permutations of left and right side of the ==
[16:17:26] <vmx> kimundi: i would of course implement it for both types (to cover both sides of the ==)
[16:17:49] <vmx> i think i still need to play with it a bit, to see my actual problem
[16:17:52] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[16:18:02] <kimundi> ...which is something that might not work, I'm not sure.
[16:18:14] <rca> vmx: you can also use cmp::Equiv, but then you can't use ==, you need to call .equiv()
[16:18:32] <rca> so it depends on your use case really.
[16:18:52] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[16:18:53] <kimundi> The usecase here being totoality of the equivalence
[16:19:15] <kimundi> no wait, wrong trait, nevermind
[16:19:27] <rca> totoality ? :)
[16:19:54] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[16:20:14] <vmx> rca, kimundi: in my case i could just write a "isequal" function. but i wondered if i could overload the == which would make things a bit nicer (i think)
[16:20:51] <kimundi> Try using Eq first
[16:21:01] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[16:21:39] <vmx> error: method `eq` has an incompatible type: expected struct HalfSegment but found struct Point
[16:21:51] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:22:02] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[16:22:25] <vmx> that's for an "impl for HalfSegment" where the "fn eq(&self, point: &Point)"
[16:23:54] *** Joins: mib_g1v2u3 (Mibbit@moz-68E7F64B.w90-58.abo.wanadoo.fr)
[16:24:00] <vmx> oh, i could create a trait that both types implement
[16:24:02] <rca> I think to make it work you would need to have a trait that will be implemented by both HalfSegment and Point, and then implement Eq for this trait.
[16:24:09] *** Quits: mib_g1v2u3 (Mibbit@moz-68E7F64B.w90-58.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:24:12] <rca> well yeah.
[16:24:33] <vmx> let me try that (and it actually makes a lot of sense)
[16:24:36] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[16:24:42] *** Joins: Guest (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[16:25:24] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:25:47] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[16:26:07] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[16:26:13] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[16:26:20] <vosen> hey, does anyone know why I can't borrow struct from itself: https://gist.github.com/vosen/8240844 ?
[16:26:33] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[16:26:34] <vosen> Is it by design, or am I doing something wrong?
[16:27:06] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:27:14] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[16:27:35] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[16:27:40] *** Joins: bheylin_ (brianheyli@C709828D.E7BADBF1.B0C2132F.IP)
[16:27:48] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:27:58] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:28:49] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[16:29:35] <rca> vosen: you can't mutate a value that is being borrowed somewhere else. It's by design.
[16:29:48] <kimundi> vosen: By design - it would mean you could not move the struct anymore after its creation
[16:30:00] <kimundi> also, can't muate it
[16:30:04] <kimundi> mutate*
[16:33:39] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[16:33:47] *** Quits: Kxepal (Miranda@moz-9E54938F.pppoe.mtu-net.ru) (Ping timeout)
[16:33:48] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:34:51] *** Joins: Kxepal (Miranda@moz-244F811C.pppoe.mtu-net.ru)
[16:35:00] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:35:18] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[16:35:18] *** ChanServ sets mode: +o jdm
[16:35:24] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:37:16] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:38:08] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:39:15] *** jorendorff_away is now known as jorendorff
[16:40:16] *** Quits: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu) (Ping timeout)
[16:40:21] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[16:40:40] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[16:41:34] <vmx> fyi: i won't solve my problem with a separate trait. i will just create a simple function that does the comparison (instead of a ==)
[16:41:36] *** Quits: bheylin_ (brianheyli@C709828D.E7BADBF1.B0C2132F.IP) (Quit: bheylin_)
[16:42:15] *** jorendorff is now known as jorendorff_away
[16:42:50] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:45:20] *** Joins: alonlevy (alon@43694F0C.262190E0.9E22F775.IP)
[16:46:24] <vmx> rca, kimundi: i ended up using the Equiv trait. i think that fits my needs
[16:46:33] <vmx> thanks for helping
[16:47:13] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:48:30] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:49:15] <rca> vmx: no problem. Also out of curiosity what does it mean for a HalfSegment to be equivalent to a Point ?
[16:50:24] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[16:52:54] <bvssvni> why is this not working? https://gist.github.com/bvssvni/8241479
[16:53:06] <vosen> rca: I understand that in general mutating borrowed values is disallowed. But why here? If borrowing struct end up being owned by borrowed struct anyway? I don't understand what can go wrong if I don't plan to move the values?
[16:54:19] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[16:54:45] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[16:55:26] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[16:56:11] <kimundi> vosen: & is a immutable reference - you borrow the struct and then try to change something in it - you can't do both at the same time
[16:56:37] <kimundi> vosen: If you immutably borrowed something, it is _enforced_ to be immutable, not just through that reference
[16:56:41] *** Joins: mhr (mhr@moz-EBDFD4F.cpe.net.cable.rogers.com)
[16:56:43] <vmx> rca: a halfsegment is a line with two points where one is the dominating point. when you compare with a point it compares the dominating point
[16:56:47] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[16:57:44] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[16:58:03] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[16:58:04] <mhr> I'm doing some bare metal programming on ARM, being cross compiled on Linux. Is there a way to disable morestack?
[16:58:14] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:58:35] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[16:58:40] <vosen> kimundi: ah, thanks, that makes sense
[16:58:54] <bvssvni> is there a tutorial on 'proc'?
[16:58:56] <kimundi> vosen: If you really want to store a reference to itself in a struct, then you need to express that cycle with something that allows ownership cycles, like Gc<T> or Strong<T> and Weak<T> reference counting
[16:59:26] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:00:16] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:01:14] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[17:02:00] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:03:36] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[17:03:48] *** Joins: mib_24kyol (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[17:05:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:05:37] <bstrie> mhr: I thought that morestack was totally gone
[17:05:39] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[17:05:47] <bstrie> isn't morestack only to support split stacks?
[17:05:55] <bstrie> or is it sticking around for some other reason
[17:06:01] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:06:59] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[17:08:03] <mib_24kyol> how do I write a constructor for a struct that borrows another struct? https://gist.github.com/anonymous/a0ce710201f0c907ee86
[17:09:46] *** Quits: oberstet (quassel@moz-406FA144.dynamic.mnet-online.de) (Client exited)
[17:09:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[17:11:01] <bstrie> mib_24kyol: what version of rust are you using?
[17:11:02] <rca> bstrie: i think it's still used to handle stack overflowing.
[17:11:17] <bstrie> rca: ah, that might be
[17:11:20] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[17:11:20] <mib_24kyol> 0.8
[17:11:27] <kimundi> mib_24kyol: See comment under https://gist.github.com/anonymous/a0ce710201f0c907ee86
[17:11:34] <bstrie> mib_24kyol: 0.9 will be coming out next week, if you'd like to wait :P
[17:11:37] <mhr> bstrie: It seems to be there in both x86 and ARM assembly..
[17:11:40] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:11:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[17:11:47] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[17:11:55] <mhr> Not using std or rt at all.
[17:11:58] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[17:12:05] <bstrie> mhr: see rca's comment above
[17:12:27] <mib_24kyol> i'm looking forward to 0.9
[17:12:40] <mhr> bstrie: Missed that, thanks.
[17:12:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:14:17] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:14:35] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:14:36] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:15:07] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:15:26] *** Joins: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu)
[17:15:58] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[17:16:09] <bvssvni> can proc types only be called once?
[17:16:25] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[17:16:34] <kimundi> bvssvni: yes+
[17:17:31] <bvssvni> kimundi: how would you recommend to write a closure that can called multiple times?
[17:17:42] *** Quits: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu) (Ping timeout)
[17:18:03] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:18:32] <bvssvni> kimundi: I am attempting to generate expressions using closures
[17:18:51] <SiegeLord> Rust only has stack closures at this time
[17:19:03] *** Joins: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu)
[17:19:05] <kimundi> bvssvni: well if you don't need to send them, there are still the regular stack closures
[17:19:17] *** Quits: Guest (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Ping timeout)
[17:20:05] <kimundi> bvssvni: But if you need a closure that outlives the point wher it got defined, then you need to fall back to writing a type with a call() method
[17:20:12] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:20:12] *** ChanServ sets mode: +ao brson brson
[17:20:28] <kvark> I need a victim to ask some newbie rustpkg questions (yes, I read the wiki). Can anyone help?
[17:21:17] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:21:18] <bstrie> kvark: everyone is a newbie when it comes to rustpkg!
[17:21:20] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:21:21] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[17:21:23] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[17:21:31] <kimundi> true dat
[17:21:54] <kvark> ok. the wiki says every path in RUST_PATH is treated as a workspace, containing one or more packages
[17:22:12] <kvark> but what if my dependency is not a workspace? i.e. rust-freetype has not been ported to rustpkg yet
[17:22:41] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[17:23:39] <SiegeLord> I imagine you should be able to stick that library into the lib directory of a workspace
[17:23:59] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[17:24:10] <SiegeLord> I.e. you manually compile rust-freetype and manually install it there
[17:24:19] <kvark> just copy the .so you mean?
[17:24:22] <SiegeLord> Yes
[17:24:39] <SiegeLord> At least, that's what rustpkg does to its outputs
[17:25:28] *** flaper87 is now known as flaper87|afk
[17:26:01] <kvark> ok, copied into "lib/libfreetype-725410cf-0.0.so", still getting the same error: "error: Package engine depends on freetype, but I don't know how to find it"
[17:26:06] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:26:10] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[17:26:17] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[17:27:49] <rca> kvark: did you put it in workspace/lib/ or in workspace/<build-triple>/lib ? I'm using the second and it seems to work.
[17:27:56] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[17:28:00] *** Quits: franckverrot (cesario@E1FC23CE.D13D47C1.D6573861.IP) (Quit: WeeChat 0.4.0)
[17:28:16] <SiegeLord> Oh yeah... whoops
[17:28:28] <rca> ooops also
[17:28:40] <kvark> rca: hmm do you mean workspace/lib/<build-triple>?
[17:28:42] <rca> it's workspace/lib/<build-triple>/
[17:28:45] <rca> yead
[17:28:46] <kvark> ok
[17:29:04] <kvark> what if my build triple is not created yet?
[17:29:51] <kvark> I assume there should be a simple *nix command to produce it...
[17:30:03] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:30:03] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:30:19] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:30:30] *** Joins: franckverrot (Franck_Ver@E1FC23CE.D13D47C1.D6573861.IP)
[17:30:48] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[17:31:24] *** Joins: FreeFull (freefull@moz-4DEA9E1B.as13285.net)
[17:31:41] *** Joins: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com)
[17:31:45] <SiegeLord> Hmm, that seems very inconvenient
[17:32:18] <SiegeLord> Well, maybe not... but it'd be nice if it was given by rustc or something
[17:32:38] <kvark> or at least created by rustpkg right away before checking other stuff
[17:33:47] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[17:33:47] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[17:33:51] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:34:03] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:34:04] <SiegeLord> I'm thinking more of a rustpkg free build environment :P
[17:34:40] <SiegeLord> That, nonetheless, needs to install to a rustpkg compatible workspace
[17:35:02] <SiegeLord> You can't just install to a <prefix>/lib... since the "prefix" goes after the lib
[17:35:03] <apoelstra> if julia evans is here, thx for writing a test tutorial
[17:35:27] *** Joins: courgette (Mibbit@moz-9D27B282.rev.sfr.net)
[17:35:39] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[17:35:58] <SiegeLord> I think the workspace should have the <build-triple> as a top level directory
[17:36:09] <SiegeLord> With lib/bin/build etc inside it
[17:36:31] <kvark> SiegeLord: well, what about src then? it is platform-independent
[17:36:34] <skade> whats the reason for from_string returning and Option and not a Result?
[17:36:40] <rca> SiegeLord: what if you want to cross-compile a crate for different targets ?
[17:36:44] *** Quits: courgette (Mibbit@moz-9D27B282.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:36:56] <SiegeLord> rca: You'd have two <build-triple> directories
[17:37:12] <SiegeLord> I'm just switching lib/<triple> to <triple>/lib
[17:37:13] <rca> but src/ would be inside <build-triple> this way.
[17:37:18] <rca> oh ok
[17:37:29] <SiegeLord> Well, the src would also remain a top level directory
[17:37:38] <kvark> I see, makes sense
[17:37:42] <SiegeLord> As it's platform independent, as kvark said
[17:37:55] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:38:05] <rca> i guess you could also put build/ in it btw.
[17:38:06] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[17:38:17] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[17:39:33] <kvark> ok, I got the prefix from another lib that actually builds, it's x86_64-unknown-linux-gnu
[17:39:45] <kvark> moved the libfreetype*.so into lib/x86_64-unknown-linux-gnu/
[17:40:00] <kvark> still getting the same error
[17:40:21] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:40:23] <rca> does your $RUST_PATH points to your workspace ?
[17:41:05] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[17:41:12] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:41:36] <kvark> tried "RUST_PATH=. rustpkg build engine", got task '<unnamed>' failed at 'assertion failed: dir.is_absolute()', /mnt/code/claymore/rust/src/librustpkg/path_util.rs:429
[17:42:10] <rca> apparently you need to put an absolute path.
[17:42:49] <kvark> rca: I'm building from the workspace directory, it's totally unexpected to be have to set RUST_PKG, not to mention the absolute path...
[17:43:25] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:43:45] <kvark> ok, tried RUST_PATH with absolute one, getting the same old error: Package engine depends on freetype, but I don't know how to find it
[17:44:44] <kvark> please see https://gist.github.com/kvark/8242580 for what I'm doing
[17:44:48] <rca> well, i don't know. I'm using the exact same config and it seems to work.
[17:44:54] <derek_c> does #[inline] do basically the same thing as inline in C/C++?
[17:45:31] <kvark> rca: please have a look at gist I provided, maybe you can spot something obvious since it works for you
[17:45:42] <kimundi> derek_c: Don't know what it does there, but I can tell you what it does here
[17:46:19] <derek_c> kimundi: please
[17:46:37] <kvark> btw, rustpkg -v gives me the platform info (SiegeLord may be interested)
[17:46:51] <SiegeLord> Heh... that's interesting
[17:46:52] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:47:02] <SiegeLord> That said, that's just the host platform
[17:47:18] <SiegeLord> The triple used for that directory can be different
[17:47:22] <kvark> yeah, we actually need the target one in general case, agreed
[17:47:23] <kimundi> derek_c: A #[inline] attribute tells the compiler to put the AST of the function into the crate metadata, so that another crate that links against your library can do cross crate inlining. It also gives llvm a additional inlinehint in general.
[17:47:39] *** Joins: dr_bibble (Mibbit@moz-B234C23B.rev.numericable.fr)
[17:47:43] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[17:47:55] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[17:48:00] <kimundi> derek_c: llvm already does inlining inside the same crate on its own
[17:48:15] <derek_c> kimundi: interesting. thanks :)
[17:48:33] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:48:52] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:49:03] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:49:07] <derek_c> another question: when would you define a method like fn foo(self, ...)?  Note the `self`, rather than the more common &self and &mut self
[17:49:16] <kimundi> derek_c: We basicaly have the attribute because the alternative would be to put the AST of every function into the metadata, for the off chanche that an external crate wants to inline a function. This would bloat the binaries massivly, so we use manual annotation instead
[17:49:16] *** Joins: philix (philix@moz-E2894C4B.user.veloxzone.com.br)
[17:49:29] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[17:49:58] *** Quits: twi (Adium@366146E1.F33C246D.C3DDD137.IP) (Quit: Leaving.)
[17:50:08] <derek_c> kimundi: I see. that makes sense
[17:50:59] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[17:51:04] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[17:51:22] <kimundi> derek_c: Usually if you want the method to take ownership of self - calling the method would either move self into the function, consuming the object in the process, or in the case of a plain old data type (POD) simply make a copy
[17:51:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[17:51:54] <kimundi> derek_c: For example, Option::unwrap is defined with self
[17:51:57] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:51:58] <rca> kvark: Oh! Stupid me, i was using rustc to build, not rustpkg. rustc seems to be able to find .so in lib/<build-triple>/ but not rustpkg.
[17:52:04] <kimundi> rusti: Some(~"Hello").unwrap()
[17:52:05] -rusti- ~"Hello"
[17:52:40] <derek_c> rusti: let k = Some(~"Hello"); k.unwrap(); k.unwrap()
[17:52:44] -rusti- pastebinned 10 lines of output: http://ix.io/9Ef
[17:52:56] <kvark> rca: ha! ok, can anyone within rustpkg expertise have a look plz?
[17:53:05] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[17:54:03] <derek_c> kimundi: I see. so it's semantically similar to `~self`?
[17:54:51] <kimundi> derek_c: Yes, just like for any T and ~T
[17:54:57] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[17:55:23] <kimundi> derek_c: ownership-wise, T and ~T have the same semantic - you only ever need ~ if you need the invariant of only being pointer sized
[17:56:06] <derek_c> kimundi: that was very helpful.  are you aware of any method in stdlib defined with ~self?
[17:56:20] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[17:56:34] <kimundi> ~self usually is only needed if the interface is meant to be called with trait objects - I don'T know of-hand anything that uses it in the stdlib
[17:58:11] <derek_c> kimundi: I see. thanks a lot!
[18:00:30] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[18:00:36] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[18:03:14] *** Joins: khodzha (khodzha@55DCD158.2AEE264E.CA6E2165.IP)
[18:03:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:04:13] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[18:05:06] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[18:07:00] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[18:07:13] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:07:20] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[18:07:22] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[18:07:31] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[18:08:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:09:24] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[18:09:24] *** ChanServ sets mode: +ao dherman dherman
[18:09:32] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[18:09:40] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:09:48] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:10:08] *** jorendorff_away is now known as jorendorff
[18:10:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:12:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[18:13:15] *** Quits: derek_c (derek@8B65464B.D556260E.AA745434.IP) (Quit: Leaving)
[18:13:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:13:49] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:15:22] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[18:16:19] *** jorendorff is now known as jorendorff_away
[18:17:21] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:18:32] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:18:44] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:19:13] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[18:19:15] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:20:36] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:21:42] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[18:22:05] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:23:44] <kvark> task '<unnamed>' failed at 'Unhandled condition: io_error: io::IoError{kind: FileNotFound, desc: "no such file or directory", detail: None}
[18:23:49] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[18:23:50] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:23:53] <kvark> from doing "RUST_PATH=../../../claymore-game-pkg/ rustpkg install"
[18:24:11] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[18:24:13] <kvark> great error message: *some* file is not found
[18:24:14] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[18:24:17] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[18:24:20] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[18:24:23] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[18:24:26] <bascule>                                         
[18:24:47] <kimundi> ... is almost over here :P
[18:25:12] <alan_andrade> Love that one bascule
[18:26:38] <SiegeLord> Is it easy to see the default rustc search paths?
[18:28:11] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:28:26] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[18:29:05] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:29:47] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:29:48] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:30:26] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:33:31] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:34:45] *** Quits: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net) (Quit: ZNC - http://znc.in)
[18:35:05] <brson> SiegeLord: if you log rustc::metadata::loader (or something in metadata) it will log what it's searching
[18:35:48] *** Quits: dr_bibble (Mibbit@moz-B234C23B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:36:02] *** Joins: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net)
[18:37:20] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:40:55] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[18:41:08] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:41:38] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:41:44] *** Joins: mib_g2rf2w (Mibbit@moz-B234C23B.rev.numericable.fr)
[18:42:49] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:46:20] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:47:19] *** jorendorff_away is now known as jorendorff
[18:47:23] *** Joins: antifuchs (sid10828@moz-31ABA2C0.irccloud.com)
[18:50:04] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:51:50] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[18:52:14] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:52:48] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[18:54:00] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[18:55:00] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:56:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[18:56:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[18:57:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:58:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:00:01] *** Quits: FreeFull (freefull@moz-4DEA9E1B.as13285.net) (Connection reset by peer)
[19:00:01] *** Joins: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com)
[19:00:12] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:00:34] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[19:00:36] *** Joins: eholk (eholk@9712152F.6424459F.F0219BEF.IP)
[19:01:45] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:01:51] *** Quits: vmx (vmx@moz-BEE0328A.pools.arcor-ip.net) (Quit: Leaving)
[19:02:05] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:03:19] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:03:23] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:06:44] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[19:08:54] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:08:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:11:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:11:43] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[19:12:20] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:13:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:13:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[19:13:57] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:14:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:14:35] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[19:14:44] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[19:15:01] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[19:15:37] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:15:53] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:15:57] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:16:08] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:16:25] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[19:16:56] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[19:17:28] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[19:17:33] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:19:14] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:20:57] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:22:15] *** Joins: TimAbraldes (quassel@moz-CD87643E.hfc.comcastbusiness.net)
[19:22:32] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:22:43] *** Joins: FreeFull (freefull@moz-80F8A5A9.as13285.net)
[19:23:19] *** Quits: alonlevy (alon@43694F0C.262190E0.9E22F775.IP) (Ping timeout)
[19:23:53] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[19:24:07] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[19:24:52] *** Quits: StarLight (StarLight@moz-BA2CD59E.dynamic.avangarddsl.ru) (Ping timeout)
[19:25:14] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:28:45] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:29:06] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[19:29:10] *** Joins: StarLight (StarLight@moz-48C32845.pppoe.avangarddsl.ru)
[19:32:38] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:32:54] *** Quits: eholk (eholk@9712152F.6424459F.F0219BEF.IP) (Quit: eholk)
[19:34:44] <pcwalton> the SpanHandler changes really wrecked de-@muting :(
[19:34:49] <pcwalton> and the macro changes
[19:35:32] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[19:35:37] <pcwalton> and DUMMY_SP
[19:35:54] *** Quits: mib_g2rf2w (Mibbit@moz-B234C23B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:35:57] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:36:14] <eddyb> pcwalton: >>>>>>
[19:36:48] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:37:08] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[19:39:31] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:40:05] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:41:53] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:45:16] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[19:46:01] *** Quits: fabiand (fabiand@moz-691D8DA6.adsl.alicedsl.de) (Ping timeout)
[19:46:27] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:46:37] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[19:46:47] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:46:57] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:47:05] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:47:24] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:47:44] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:48:03] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:48:10] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[19:48:11] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[19:50:48] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:51:43] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[19:52:34] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:53:05] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:53:12] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[19:54:44] *** Quits: philix (philix@moz-E2894C4B.user.veloxzone.com.br) (Input/output error)
[19:55:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[19:59:17] <kvark> bumping up the earlier problem: rustpkg with external deps anyone?
[19:59:24] *** kimundi is now known as zz_kimundi
[19:59:41] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[19:59:48] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[20:00:50] *** Quits: madalynn (Mibbit@4C7CCBBA.4CB67CC8.D07DE70A.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:01:22] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:04:13] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[20:04:44] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:05:06] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[20:05:28] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[20:05:58] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[20:06:08] *** Joins: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de)
[20:06:30] *** Joins: fabiand (fabiand@moz-691D8DA6.adsl.alicedsl.de)
[20:07:51] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:08:42] *** Quits: jviereck (Adium@moz-D86D9852.dip0.t-ipconnect.de) (Ping timeout)
[20:09:44] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[20:10:40] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[20:10:41] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[20:10:56] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[20:11:18] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:11:18] *** Joins: eholk (eholk@9712152F.6424459F.F0219BEF.IP)
[20:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:11:54] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:12:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:12:42] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[20:13:41] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:13:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[20:14:52] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:15:17] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:15:40] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[20:16:10] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:16:32] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:16:59] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:18:18] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:20:15] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:21:57] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:22:48] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[20:25:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:25:45] *** Quits: derby (dirby@83D5CDF1.BF0D2B27.7FF8B1C5.IP) (Input/output error)
[20:26:11] *** Joins: eco (eco@moz-87840B9D.net)
[20:26:25] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[20:26:45] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[20:26:55] *** Joins: philix (philix@moz-E2894C4B.user.veloxzone.com.br)
[20:27:10] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[20:27:56] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[20:28:19] <carter> so theres no notion of a package db?
[20:28:54] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[20:29:10] *** Quits: fabiand (fabiand@moz-691D8DA6.adsl.alicedsl.de) (Quit: Verlassend)
[20:29:56] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:30:12] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:32:26] *** Quits: TimAbraldes (quassel@moz-CD87643E.hfc.comcastbusiness.net) (Ping timeout)
[20:33:43] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:34:41] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[20:34:47] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[20:34:53] *** Quits: eholk (eholk@9712152F.6424459F.F0219BEF.IP) (Quit: eholk)
[20:35:09] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[20:37:39] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:37:46] <bvssvni> how do I write a mutable vector content in argument?
[20:37:53] *** flaper87|afk is now known as flaper87
[20:38:27] <bascule> lol I'm still trying to write an IRC bot
[20:38:42] *** Joins: eholk (eholk@2DE07B99.CB252E16.F0219BEF.IP)
[20:38:45] <bascule> I got it to connect and read incoming lines and chunk them into words
[20:38:46] <bascule> yay
[20:38:52] <bascule> wish I had regular expressions :|
[20:39:23] *** Joins: eco (eco@moz-87840B9D.net)
[20:39:51] <kvark> bvssvni: &mut [<something>]
[20:39:56] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[20:40:14] *** Quits: eholk (eholk@2DE07B99.CB252E16.F0219BEF.IP) (Quit: eholk)
[20:41:05] *** Joins: payload (Mibbit@moz-9A4863B8.dip0.t-ipconnect.de)
[20:41:06] <bvssvni> kvark: can I write ~mut [<something>]?
[20:41:26] <kvark> nope
[20:41:35] <bvssvni> kvark: thanks
[20:41:39] <kvark> AFAIK, you could do that in earlier versions, not now
[20:42:02] <carter> bascule: don't forget unbounded queues :P
[20:42:12] <kvark> bvssvni: if you strongly need an owned array, pass &mut ~[]
[20:42:13] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:42:21] <bascule> carter: lolol
[20:45:11] *** Joins: sab (chatzilla@moz-4E7F5254.hightouch.com)
[20:46:15] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:46:47] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:48:28] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:48:29] *** Quits: sab (chatzilla@moz-4E7F5254.hightouch.com) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0a2/20140103004002])
[20:50:08] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[20:50:21] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:51:58] <bstrie> what's the function for exponentation
[20:52:32] <kvark> std::num::exp?
[20:53:13] *** Joins: alan_and_ (alan_andra@5880C132.EEEF594E.B7838CA6.IP)
[20:53:15] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[20:53:25] <bstrie> kvark: it looks like that only takes one parameter
[20:53:41] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Ping timeout)
[20:53:47] <bstrie> I literally just want to test what rust's built-in exponent function does with 0^0
[20:53:51] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[20:54:03] <kvark> oh, you mean the power function then
[20:54:04] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[20:54:10] <bstrie> ya
[20:54:16] <kvark> it's there (pow)
[20:54:20] <bstrie> what does exp do
[20:54:32] <kvark> exp(x) = pow(e,x)
[20:54:34] <achin> it would be great if i had a way (maybe via the online rust docs) to enter a type and see all of the Traits that it implements via stdlib
[20:55:01] *** Quits: alan_and_ (alan_andra@5880C132.EEEF594E.B7838CA6.IP) (Ping timeout)
[20:55:05] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[20:55:16] <bvssvni> bstrie: 0^0 returns 1
[20:55:21] <bstrie> cool
[20:55:29] <bstrie> achin: we used to have that!
[20:55:37] <bstrie> I think.... was a long time ago
[20:55:44] <SiegeLord> achin: What sort of type?
[20:55:45] <sfackler> achin: you can do that for everything but builtin types like int
[20:55:46] <achin> exciting! that means we can have it again!
[20:55:55] <sfackler> I think?
[20:55:56] <achin> sfackler: how?
[20:56:05] <sfackler> It should just be at the bottom of the page for the type
[20:56:17] <achin> SiegeLord: the type that got me thinking about this is str
[20:56:39] <sfackler> achin: the "Trait Implementations" part at the bottom here: http://static.rust-lang.org/doc/master/std/hashmap/struct.HashMap.html
[20:57:11] <achin> sfackler: ah, good point.  so i guess built-in types is the only missing bit
[20:57:16] <SiegeLord> Yep
[20:57:21] <achin> but: it would be nice to have a slightly better format for that info
[20:57:41] <achin> (just a way to filter out the methods, and only show the traits)
[20:57:43] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:01:02] *** Quits: jackneill (jackneill@moz-D972B0FA.pool.digikabel.hu) (Ping timeout)
[21:01:47] <SiegeLord> I'd settle for a little TOC at the top
[21:02:02] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:02:06] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[21:02:12] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:02:21] <geomyidae> I'd love to hear pcwalton expand on his favorite things from golang, given his tweet a half hour ago.
[21:02:38] *** Quits: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP) (Quit: Ex-Chat)
[21:09:53] *** zz_kimundi is now known as kimundi
[21:10:02] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:10:59] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[21:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:12:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:13:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:13:29] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:14:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:16:46] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[21:18:29] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:18:29] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:18:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:18:59] *** ChanServ sets mode: +ao dherman dherman
[21:20:12] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:21:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:23:16] *** Quits: sk (sk@79248627.29248532.33B96495.IP) (Quit: Leaving)
[21:23:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:24:10] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[21:24:29] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:24:34] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[21:24:54] *** Quits: mhr (mhr@moz-EBDFD4F.cpe.net.cable.rogers.com) (Ping timeout)
[21:25:01] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[21:25:45] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[21:25:51] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[21:25:51] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[21:26:02] *** Joins: atomical (atomical@moz-C92D67E2.library.northwestern.edu)
[21:27:57] <achin> what's the difference between `let d = &c;`  and  `let d = &mut c` ?
[21:28:35] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:29:03] <bstrie> achin: the second one lets you mutate whatever is in c, but also prevents any other references to c for as long as that pointer lives
[21:29:21] <kimundi> achin: & is a immutable reference and &mut a mutable - you can only read the c value through d the first, but you can also mutate it through the second d
[21:29:52] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:30:00] <achin> and to mutate whatever is in c, do i need to explicitly deference d?  
[21:30:07] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[21:30:10] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[21:30:19] <kimundi> yes, like *c = foo
[21:30:31] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:31:04] <kimundi> unless c has a method that is defined on &mut self - then it happens automatically and you can do c.foo()
[21:31:06] <achin> and because 'd' isn't itself mutable, d will always reference c (it can never reference anything else) (?)
[21:31:21] <kimundi> err, replace c with d above
[21:31:26] <kimundi> yes
[21:31:33] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:31:33] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[21:32:17] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[21:32:54] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[21:33:11] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[21:33:14] *** Joins: redline (Mibbit@DBC5E4D2.8FBAACF3.6624BF1.IP)
[21:33:19] <achin> ok, got it.  thanks for confirming my understanding
[21:34:25] *** Quits: redline (Mibbit@DBC5E4D2.8FBAACF3.6624BF1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:35:26] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:35:54] *** Quits: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com) (Ping timeout)
[21:36:10] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[21:38:04] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:39:09] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[21:39:34] *** Quits: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP) (Quit: victorporof)
[21:39:53] <comex> has anyone written any kind of code navigation tool for Rust? 
[21:40:28] <comex> similar to cscope or clang_indexer
[21:40:35] <bstrie> comex: I think doomlord_ wrote something to that effect, maybe, a long time ago
[21:40:57] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[21:41:20] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:42:36] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[21:43:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:43:15] <wycats_> pcwalton: do you need a hug?
[21:43:15] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[21:43:20] *** Quits: wtw (wtw@moz-D8FB7390.org) (Quit: leaving)
[21:43:26] *** Joins: wtw (wtw@moz-D8FB7390.org)
[21:44:41] <bstrie> wycats_: I think pcwalton is envious of a language where the philosophical constraints are so much more straightforward :P
[21:45:08] <wycats_> hm... philosophical constraints
[21:45:09] <wycats_> hmmm
[21:45:14] *** Parts: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) ()
[21:45:38] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[21:45:41] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[21:46:09] <wycats_> "At this point I asked myself a question: Did the C++ committee really believe that was wrong with C++ was that it didn't have enough features?"
[21:46:10] <wycats_> such troll
[21:46:12] <wycats_> http://commandcenter.blogspot.it/2012/06/less-is-exponentially-more.html
[21:46:17] *** Joins: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP)
[21:46:22] <wycats_> I'll give Go one thing: they know how to market
[21:46:34] <bstrie> indeed, marketing is key
[21:46:38] <wycats_> they're not afraid of marketing
[21:46:46] <wycats_> Rust people seem to think marketing is beneath them
[21:46:57] <Ms2ger> Google does tend to be good at marketing
[21:46:59] <wycats_> or morally bad
[21:47:01] <bstrie> wycats_: um, excuse me? do I count as a rust person? :P
[21:47:02] <wycats_> Ms2ger: do they?
[21:47:07] <wycats_> bstrie: yes
[21:47:08] <geomyidae> Oh come now, Google doesn't push Go in any way
[21:47:12] <kvark> wycats_: even though their marketing for C++ audience didn't pay off at all?
[21:47:19] <Ms2ger> Would you say Chrome is faster than Firefox?
[21:47:26] <wycats_> bstrie: but I don't consider "Our competitor is amazing. So sublime" to be an example of amazing marketing ;)
[21:47:30] <bstrie> wycats_: I'm all about marketing. I market all the time. I've been saying that marketing is the most important aspect of a new language since day 1. consider yourself schooled :)
[21:47:33] <geomyidae> they have publicly announced it's use in like two things, vitess and the download server
[21:47:41] <wycats_> Ms2ger: I would say Firefox is faster than Chrome, but Chrome has done a good job marketing "fast"
[21:47:48] <wycats_> bstrie: I be schooled
[21:47:50] <geomyidae> they have a blog? I guess rust doesnt have an official blog per se
[21:47:52] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:47:52] *** ChanServ sets mode: +o tjc
[21:47:58] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:47:59] <Ms2ger> That was what I was thinking about, yes :)
[21:48:00] <wycats_> http://commandcenter.blogspot.it/2012/06/less-is-exponentially-more.html is just such a troll
[21:48:01] <wycats_> it's amazing
[21:48:02] <wycats_> anyway
[21:48:13] <wycats_> it's bad marketing to talk down about yourself in public
[21:48:15] <wycats_> that is all
[21:48:43] <wycats_> "This thing that we have been saying is critical for the use cases we want to target is actually not very important at all"
[21:49:13] <bstrie> wycats_: I don't disagree with you, but you're imagining the "use cases we want to target" bit
[21:49:30] <wycats_> bstrie: I'm talking about "And GC really isn't a problem these days"
[21:49:34] <wycats_> really?
[21:49:43] <wycats_> I'm pretty sure you would not write a browser in a GC language
[21:49:51] <wycats_> my use case totally doesn't work in a GC language
[21:49:53] *** Quits: FreeFull (freefull@moz-80F8A5A9.as13285.net) (Ping timeout)
[21:50:03] <wycats_> embedding a GC language in another GC language considered harmful
[21:50:30] <bstrie> wycats_: I feel that you're putting words in his mouth. nowhere in that statement does he mention domain
[21:50:52] <wycats_> bstrie: sorry
[21:50:55] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:50:59] <bstrie> granted, I agree with you that uninformed bystanders could misinterpret it as such
[21:51:08] <bstrie> I think he could stand to clarify
[21:51:10] <wycats_> bstrie: but having a core team member of a project say that a key differentiator "doesn't matter that much" is bad
[21:51:11] <wycats_> baaad
[21:51:19] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:51:25] <wycats_> that said, I don't need to keep ragging
[21:51:28] <wycats_> just made me O_O
[21:51:41] <bstrie> wycats_: eh, none of the C++ programmers who are interested in rust would be swayed by that statement
[21:51:46] <geomyidae> I think maybe we have wildly different expectations from a post from rob
[21:52:00] <wycats_> geomyidae: maybe?
[21:52:05] <wycats_> to me that post was O_O
[21:52:17] <wycats_> Go doesn't look much like a C+++ to me
[21:52:40] <geomyidae> When I read that, I get the almost exact opposite read as you
[21:52:51] <geomyidae> they didn't want to clone and replace c++, basically explicitly
[21:53:00] <geomyidae> less is more
[21:53:00] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[21:53:02] *** Joins: mpiechotka (mpiechotka@moz-FF5F76BA.adsl.inetia.pl)
[21:53:05] <bstrie> wycats_: in any case, a tweet is as close to a throwaway comment as you can get. and the only people bothering to get their rust news from pcwalton's twitter feed are already interested in rust
[21:53:09] <geomyidae> Maybe I'm wrong, /shrug
[21:53:22] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:53:25] <bstrie> if it was a widely-publicized blog post, then yeah I'd be facepalming
[21:53:48] <SiegeLord> What is this all about?
[21:53:54] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[21:54:31] <bstrie> SiegeLord: some positive tweets regarding golang from pcwalton
[21:54:39] <bstrie> in any case, rust and go aren't competing
[21:54:42] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[21:54:43] <bstrie> everyone say it with me now
[21:55:05] <geomyidae> I still write way more Go than rust, for pretty different things. ;)
[21:55:06] <brson> afaik the go devs never say anything about rust. maybe that's strategic
[21:55:09] <brson> and we should do the same
[21:55:27] <bstrie> pcwalton is allowed to praise whatever languages he wants
[21:55:45] <mib_24kyol> i have a question about lifetimes. why repeat the lifetime in "impl<'self> Foo<'self> { ... }"?
[21:55:53] <bstrie> if you s/golang/javascript, nobody here would be batting an eyelash
[21:56:03] <SiegeLord> You could say language A is great without it saying anything about Rust
[21:56:22] <bstrie> mib_24kyol: because the lifetime isn't always present in the name of the type there
[21:56:36] *** Quits: wtw (wtw@moz-D8FB7390.org) (Quit: leaving)
[21:56:41] <SiegeLord> I'd say Prolog is great... not writing anything in it ever though
[21:56:48] <bstrie> mib_24kyol: also, you should upgrade your version of rust :)
[21:57:14] <mib_24kyol> how does it look like in the latest version?
[21:57:18] <bstrie> brson: I think maybe pcwalton is grumpy about the progress of the great de-@mut-ing
[21:57:26] <wycats_> if we're not competing with Go, why was the second reply to his tweet "Yes! Which leads me to the question why did you guys not just use Go for Servo?"
[21:57:33] <bstrie> mib_24kyol: in the latest version, 'self is not a legal name
[21:57:46] <wycats_> I disagree that we're not competing with go
[21:57:48] <bstrie> mib_24kyol: you just name lifetimes whatever you want now. 'a works, or 'foobar
[21:57:51] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[21:57:53] <wycats_> we're not competing with go for every project
[21:57:57] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[21:57:58] <wycats_> but there are some projects where we are
[21:58:04] <wycats_> and we're certainly competing for mindshare
[21:59:25] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:59:37] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[21:59:42] <dherman> bstrie: you don't get to choose your competition
[21:59:50] <dherman> people put go and rust in the same bucket, like it or not
[22:00:15] <bstrie> dherman: yes, and I think that's an unfortunate consequence of the mozilla/google relationship
[22:00:30] <dherman> I don't really agree but it's irrelevant
[22:00:34] <geomyidae> it's just silly. it's so, so, so far from being a binary thing, or a binary bucket system. there are tons of dimensions, especially given how rust is offer lib{green,native}, etc
[22:00:42] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:00:53] <dherman> of course it's silly. but we do have to be mindful of messaging
[22:00:55] <dherman> that's life
[22:00:58] <dherman> anyway, it's all fine
[22:01:06] <dherman> I think patrick is partly frustrated with the channels discussion on rust-dev
[22:01:09] <bstrie> dherman: furthermore, I'm well within my rights to protest that bucketification :) anybody who says they're competing has yet to look closely to see how diametrically opposed they are
[22:01:10] <dherman> and concerned we've made some mistakes
[22:01:12] <dherman> he may be right!
[22:01:24] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:01:47] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:01:55] <wycats_> (he is right)
[22:02:13] <bstrie> to be fair, rust has a long history of mistakes :)
[22:02:15] <wycats_> bstrie: diametrically opposed is pushing it a tad far
[22:02:21] <wycats_> everything has a long history of mistakes ;)
[22:02:33] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:02:38] <dherman> yeah, it's all fine
[22:02:42] <dherman> we'll learn from the mistakes and fix them
[22:02:45] <wycats_> yep
[22:02:56] <dherman> and patrick needs a break :)
[22:03:01] <dherman> he's been working hard on the @mut stuff
[22:04:14] <dherman> gtg, supposed to be working on the house. technically still on vacation!
[22:04:34] <jdm> you hide it well
[22:04:36] <bstrie> wycats_: I could wrote a whole volume on how rust and go are effectively philosphical opposites
[22:04:48] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:04:53] <wycats_> and that whole volume won't convince anyone
[22:05:04] <bstrie> wycats_: I maintain that the fascination with rust vs go is a manifestation of the imagined google/mozilla rivalry
[22:05:05] <wycats_> nor will it mean that use-cases are bucketed separately
[22:05:10] <wycats_> bstrie: deny
[22:05:16] <dherman> bstrie: that is, once again, 100% irrelevant to whether people perceive go and rust as being in competition, and choose one over the other
[22:05:18] * geomyidae shakes his head
[22:05:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:05:48] <bstrie> wycats_: rust has more salient similarities to erlang than it does to go, and yet nobody, anywhere, compares rust and erlang
[22:05:59] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[22:06:05] <geomyidae> write a blog post, post it on HN, lots of people will read it
[22:06:10] <geomyidae> (I would enjoy reading it :))
[22:06:39] *** Quits: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP) (Quit: victorporof)
[22:07:02] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[22:07:09] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:07:15] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:07:25] *** Joins: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP)
[22:08:11] <egghead> a rust post on hn???? link plz
[22:08:22] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:08:28] <geomyidae> steve's had at least one, if not two
[22:08:34] <bstrie> dherman: I'm neither arguing that people do not see rust and go in competition, nor am I arguing that I have the clout to dictate people's opinions on the matter. but *someone* needs to carry this flag, or we'll be bogged down with useless comparisons *forever*
[22:08:37] *** jorendorff is now known as jorendorff_away
[22:09:00] <geomyidae> https://news.ycombinator.com/item?id=6986330
[22:09:11] <geomyidae> https://news.ycombinator.com/item?id=6986330
[22:09:14] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[22:09:14] <geomyidae> https://news.ycombinator.com/item?id=6977177
[22:09:18] <wycats_> there have been like 10 of them
[22:09:19] <geomyidae> https://news.ycombinator.com/item?id=6940624
[22:09:19] <wycats_> :P
[22:09:23] <geomyidae> https://news.ycombinator.com/item?id=6935763
[22:09:24] <wycats_> one was about my active_support hax
[22:09:34] <geomyidae> https://www.hnsearch.com/search#request/submissions&q=rust&sortby=create_ts+desc&start=0  etc
[22:09:37] <bstrie> dhedlund: the sooner we establish a mantra of "rust and go are not competing", the easier it will be to ignore the people interested in pursuing this misguided rivalry and make productive discussions
[22:09:45] <bstrie> er, dherman
[22:09:51] <wycats_> good luck with that!
[22:10:30] <bstrie> wycats_: as HN's second-most prolific rust commenter and the mod of /r/rust, I'm not impotent here :)
[22:10:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:10:41] *** Quits: mpiechotka (mpiechotka@moz-FF5F76BA.adsl.inetia.pl) (Ping timeout)
[22:10:46] <wycats_> good luck! ;)
[22:11:06] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[22:11:09] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:11:13] <bstrie> I can easily envision a future where every rust discussion is permeated with *utterly useless* "why not go?" comments
[22:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:11:22] <bstrie> we have the power to avoid this dystopia
[22:11:39] <bstrie> frankly I'm disappointed that you and dherman have taken such a defeatist stance
[22:11:43] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[22:12:00] <mib_24kyol> rust could use some marketing
[22:12:04] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:12:04] *** ChanServ sets mode: +ao dherman dherman
[22:12:08] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:12:25] <geomyidae> there's clearly an audience for it... hint
[22:12:54] <bstrie> I'm not convinced that rust is yet in a position to really benefit from marketing
[22:13:00] <bstrie> I mean, I do it all the time anyway
[22:13:13] *** jorendorff_away is now known as jorendorff
[22:13:13] <achin> rust probably gets compared to a lot of things.  comparing is how we make value judgements
[22:13:26] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:13:32] *** Quits: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP) (Quit: victorporof)
[22:13:33] <bstrie> but as long as we're in such an unstable state, we obviously can't just say "yeah go write all your stuff in rust it'll be GREAT!"
[22:13:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:13:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:13:42] *** jorendorff is now known as jorendorff_away
[22:13:45] <achin> i routeinly compare rust to python
[22:14:06] <kimundi> mib_24kyol: Re the double lifetimes from before - you repeat them because the first one _declares_ the lifetime name, while the second one _uses_ that declared name
[22:14:14] <geomyidae> I find it fun to watch the language evolve actually. the split of m:n/1:1 was really interesting to watch and read about and see the hn comments on
[22:14:41] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[22:15:08] <bstrie> achin: I am literally the world's leading expert on which languages get compared to rust. I constantly monitor twitter, hn, reddit, google+, and every programming-related irc channel on freenode that I can think of
[22:15:19] <jdm> heh
[22:15:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[22:15:41] <achin> i'm just saying: it's not a bad thing.  or even a thing to some extent
[22:15:43] <bstrie> and out of all languages that rust is compared to, python is not typically one of them
[22:15:56] *** Quits: payload (Mibbit@moz-9A4863B8.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:16:00] <bstrie> actually it gets compared to ruby more often than I'd expect
[22:16:22] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[22:16:24] <achin> bstrie: i would think that every python program who reads about rust compares rust to python
[22:16:39] <bstrie> perhaps internally. still working on my mind-reading helmet
[22:16:54] <achin> since every language competes with every other langauge, to some extent
[22:16:59] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:17:32] <bstrie> in addition, every language also competes with playing guitar, and flying kites
[22:17:44] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[22:17:53] <achin> well, yes.  but perhaps it's useful to limit our discussions to the context of programming langauges
[22:18:04] <bstrie> I think you may not have limited yourself enough :)
[22:18:23] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[22:18:34] <bstrie> let's presume that old mantra is true, and that you really should "choose the right tool for the job" for any programming task
[22:18:46] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:18:53] <achin> (i would easily accept that presumption)
[22:18:57] <bstrie> assuming that you have properly evaluated your requirements, every programming language in existence is *not* competing
[22:19:08] <bstrie> this is what I mean when I speak of domains
[22:19:25] <bstrie> "systems programming" is one of those domains, though even that's become too broadly defined these days
[22:19:34] <bstrie> you would not use python for systems programming
[22:19:43] <bstrie> at least, for how I define systems programming
[22:19:45] <achin> ok.  i will grant you that.  perhaps i should have say something like:  for a given domain, there might be an arbitrarily large set of langagues that are competing
[22:19:49] <bstrie> you could certainly write a kernel in python if you wanted to
[22:20:24] <whitequark> https://github.com/charliesome/jsos
[22:20:27] <bstrie> achin: that may very well be true. and in addition, languages do not exist only in a single domain
[22:20:35] <achin> for the "hello world" domain, probably the set is quite large.  for the "large-scale HPC application" domain, the set is probably quite small
[22:21:20] <bstrie> but languages that attempt to span *every* domain are going to be pretty bad at everything
[22:21:27] <achin> and there is a *lot* of medium sized domains for which all the popular langauges are suitable
[22:21:33] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[22:21:37] <bstrie> it's true
[22:21:41] <bstrie> rust isn't targeting that domain
[22:21:55] <achin> that doesn't mean someone is not going to use rust, though
[22:21:57] <bstrie> it might well be useful there! but that's not a concern of the language designers
[22:22:27] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:22:30] <geomyidae> which domain is rust not targetting?
[22:22:52] <bstrie> assuming that the primary concern of the language designers is *this*: "let's make software safer and more reliable by providing a compelling alternative to C++", then that needs to guide our design
[22:22:54] <achin> i might want to use rust to write a CSV parser.  there are many many languages that might be suited for this (let's say: perl and python).  it's totally reasonable for me to compare rust to perl and python in this context/domain
[22:23:45] <bstrie> but if our primary concern is *this*: "I hate all languages! let's make a new one for the hell of it", then you have no guiding design and no goal
[22:24:12] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:24:31] <achin> i can even say things like "rust is not very good for writing a CSV parser, compared to perl or python".  but i think your point is that i can't really say "the rust devs made a mistake by not supporting my CSV parser case". i agree with you here
[22:25:12] <bstrie> rust aims to be an option for whereever C++ is an option. that's a well-defined goal. we may still be better for certain domains than C++ is, completely be accident. but it would be a mistake to optimize for them.
[22:25:54] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Bye!)
[22:25:54] <achin> yep, a totally reasonable position
[22:27:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:27:54] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[22:28:10] <achin> totally unrelated question:  how can get a slice of a certain length into a [u8] vec?  
[22:28:32] <bstrie> in contrast, go also has well-defined goals. the miscommunication that arose was that their goal was to write a language for "systems programming" as envisioned by rob pike, who seems to use C programs much like one would use batch scripts
[22:28:44] <bstrie> *bash scripts
[22:29:12] <kimundi> achin: let s = vec.slice(start, end);
[22:29:14] <bstrie> in this context, pervasive gc is not an issue
[22:29:21] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:29:26] *** Joins: hdima (Mibbit@F0354C75.67925389.76FD8EA4.IP)
[22:29:39] <bstrie> then it evolved into being a language designed to overcome the specific challenges of large-scale programming at google
[22:29:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:29:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:29:58] <achin> kimundi: thanks
[22:30:10] <bstrie> specifically, a *very* opinionated programming model, with easily-enforced stylistic conventions, and fast compilation
[22:30:19] <bstrie> it achieved all of these
[22:30:29] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[22:30:40] <achin> so in that context, go seems like a great success
[22:30:57] <bstrie> and yet their goal was not "to be good at what C++ is good at", it was something different yet tantalizingly close: "be good at what we personally are using C and C++ for"
[22:31:05] <bstrie> honestly I agree with pcwalton, I think go is a good language
[22:31:52] <bstrie> a step backwards in some ways, but very neat
[22:31:56] <bstrie> the tooling especially
[22:32:10] <geomyidae> speaking of which, can someone explain what pkg.rs does?
[22:32:20] <geomyidae> does it help customize the rustpkg build process?
[22:32:25] <bstrie> geomyidae: nope, rustpkg appears to be in limbo right now
[22:32:34] <bstrie> no idea what's happening with that
[22:33:08] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:33:22] <SiegeLord> pkg.rs is advertised as doing arbitrary building stuff for a pakcage
[22:33:28] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:34:33] <SiegeLord> The implication is that what goes inside pkg.rs is what would go inside a Makefile/CMakeLists.txt/etc
[22:34:43] <SiegeLord> Except written in Rust...
[22:34:50] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:35:04] <geomyidae> so a pkgutil.rs is kinda needed to make that feasible and less painful
[22:35:19] <bstrie> wycats_: anyway, how goes your convalescence?
[22:35:26] <doomlord_> comex ?
[22:35:30] <SiegeLord> Which I find to be interesting, as that means rustpkg means to reinvent the Makefile wheel
[22:35:35] <wycats_> what a convalescence is?
[22:35:50] <bstrie> wycats_: how's your back yo
[22:35:56] <wycats_> ahhh
[22:36:06] <wycats_> my back is not a competitor with my legs yo
[22:36:09] <wycats_> come on
[22:36:26] <doomlord_> comex  - code navigation, https://github.com/dobkeratops/rustfind , makes an html view of the sourcecode, I haven't compiled it recently though
[22:37:21] *** Joins: lexs (uid12437@moz-5F4AA75A.irccloud.com)
[22:37:45] * geomyidae would donate towards a pkgutil.rs and a `rustc --fmt blah.rs` functionality; is such a thing easily done?
[22:38:27] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:39:23] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:41:06] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:41:07] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[22:41:18] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[22:42:04] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[22:42:47] <hdima> Hi! I've just compiled Rust from the repo and did 'make install' but if I try to use 'use extra::...' the compiler says 'unresolved import'. Should I configure some additional paths or something else?
[22:42:54] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[22:43:10] <bstrie> hdima: you have to actually link in the extra crate first. stick "extern mod extra;" at the top
[22:44:49] <hdima> bstrie: It works. Thanks!
[22:44:55] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:45:09] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:47:02] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[22:47:33] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[22:49:55] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:51:40] *** Joins: jvshahid_ (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[22:52:09] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:52:23] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[22:52:29] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[22:53:18] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[22:54:19] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[22:57:02] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[22:57:37] <sfackler> geomyidae: there's some infrastructure in rustc to pretty print code, check out the --pretty flag
[22:57:45] <sfackler> it could use some work though
[22:58:22] *** Quits: mib_24kyol (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[22:58:31] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[23:01:14] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:01:58] *** Quits: brylie (quassel@moz-E27796EB.hsd1.or.comcast.net) (Input/output error)
[23:02:40] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[23:02:47] *** Quits: jvshahid_ (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[23:03:23] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:04:29] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:04:50] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:05:45] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:05:49] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:06:11] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[23:06:27] *** Joins: FreeFull (freefull@moz-15C9B6BA.as13285.net)
[23:06:45] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:08:13] *** Joins: mleise (marco@moz-DB2B1845.pools.arcor-ip.net)
[23:08:31] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:08:40] *** Joins: courgette (Mibbit@moz-9D27B282.rev.sfr.net)
[23:09:07] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:09:22] *** jorendorff_away is now known as jorendorff
[23:09:41] *** Quits: Ms2ger (Ms2ger@7AE7573F.9612FC09.3773EA9F.IP) (Quit: nn)
[23:09:42] <courgette> I think the design of the tutorial is so much nicer in master then in 0.8
[23:10:05] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:11:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:11:38] <courgette> congrats for the redesign
[23:11:49] <phil_> wow that must have changed pretty recently
[23:12:23] <courgette> do you plan to redesign the documentation?
[23:12:43] <courgette> http://static.rust-lang.org/doc/master/std/index.html
[23:13:03] <courgette> the design is not as great as the tutorial
[23:13:03] *** Parts: hdima (Mibbit@F0354C75.67925389.76FD8EA4.IP) ()
[23:13:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:13:07] <phil_> im not redesiging anything :)
[23:13:12] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:14:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:14:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:15:22] <courgette> can we hope to see a 1.0 release this year?
[23:15:30] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:15:50] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:15:54] *** flaper87 is now known as flaper87|afk
[23:16:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:16:22] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[23:16:43] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:17:23] <strcat> courgette: redesign as in CSS? or content
[23:17:31] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:17:44] <courgette> CSS
[23:18:03] <courgette> it feels more modern
[23:18:38] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:19:30] <courgette> is there a plan to change the CSS of the documentation?
[23:20:39] <brson> courgette: yes
[23:21:47] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[23:22:17] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[23:22:26] *** Quits: courgette (Mibbit@moz-9D27B282.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:23:20] *** Joins: tjc (tjc@moz-9872E99C.tmodns.net)
[23:23:20] *** ChanServ sets mode: +o tjc
[23:24:23] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[23:24:38] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:28:26] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:28:47] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[23:29:54] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:31:40] *** Quits: tjc (tjc@moz-9872E99C.tmodns.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:32:12] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:32:41] *** Joins: wtw (wtw@moz-D8FB7390.org)
[23:33:14] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:33:27] <wycats_> bstrie: in all seriousness I'm feeling better but not great yet
[23:35:00] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:35:26] *** Joins: mib_9dtsi9 (Mibbit@D68B8E02.D6EE7B4D.99FEC5C4.IP)
[23:37:36] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Ping timeout)
[23:38:14] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:38:26] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:41:06] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[23:41:32] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[23:42:57] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:43:19] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[23:43:48] *** Quits: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net) (Ping timeout)
[23:45:54] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:46:23] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:47:19] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:48:04] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[23:49:04] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[23:49:40] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:49:59] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:50:24] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[23:50:24] *** ChanServ sets mode: +o tjc
[23:50:45] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[23:51:10] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:54:12] *** Joins: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net)
[23:55:02] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[23:58:17] <achin> are there plans to publish a rust style guide eventually?
[23:58:34] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[23:59:12] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:59:22] <strcat> achin: there's a style guide for the rust codebase, and most people follow it elsewhere
[23:59:31] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[23:59:46] <strcat> same as PEP8 but with 100-width columns
