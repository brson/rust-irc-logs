[00:21:34] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[00:23:48] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:25:28] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:27:24] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:29:28] *** Parts: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) ()
[00:29:52] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:38:50] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[00:41:53] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:43:34] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:48:11] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[00:59:26] *** Quits: blender (blender@5EA19532.B22400E5.217C7FCC.IP) (Ping timeout)
[00:59:56] *** Joins: blender (blender@398333AA.B22400E5.217C7FCC.IP)
[01:01:57] *** Quits: blender (blender@398333AA.B22400E5.217C7FCC.IP) (Ping timeout)
[01:03:13] *** Joins: jdm (jdm@moz-E41E4269.dsl.teksavvy.com)
[01:14:11] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[01:17:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:17:28] *** Joins: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[01:17:59] *** Parts: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) ()
[01:19:33] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[01:33:26] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[01:37:08] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:39:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:42:38] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:44:18] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:47:27] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[01:47:51] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[01:55:49] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:59:19] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:08:33] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:09:54] *** Quits: jdm (jdm@moz-E41E4269.dsl.teksavvy.com) (Ping timeout)
[02:11:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:14:50] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:16:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[02:17:04] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:20:38] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:30:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:33:35] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:43:34] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:45:15] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:46:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:46:53] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[02:56:20] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[03:08:11] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[03:08:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:08:57] *** Joins: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP)
[03:09:43] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[03:10:33] *** Joins: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP)
[03:15:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:23:43] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[03:37:29] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:38:03] *** Quits: rlane (rlane@moz-9407FB5.club.cc.cmu.edu) (Ping timeout)
[03:38:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:42:50] *** Joins: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP)
[03:44:06] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:45:46] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:48:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:49:12] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:58:52] *** Quits: kimundi (kimundi@moz-94744042.dip0.t-ipconnect.de) (Ping timeout)
[04:01:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:02:12] *** Joins: kimundi (kimundi@moz-C46B8065.dip0.t-ipconnect.de)
[04:03:24] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:06:41] *** kimundi is now known as zz_kimundi
[04:08:45] *** Quits: bytewise (bytewise@moz-20A3039F.adsl.alicedsl.de) (Ping timeout)
[04:09:01] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[04:13:32] *** zz_kimundi is now known as kimundi
[04:17:19] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:40:45] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[04:44:52] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:46:33] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:03:40] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[05:07:25] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[05:15:01] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[05:15:48] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[05:17:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:23:11] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[05:26:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:32:09] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:40:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:42:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:45:38] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:47:19] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:50:25] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[06:20:05] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:23:16] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[06:26:04] *** Joins: huon1 (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[06:26:54] *** huon1 is now known as huon
[06:35:16] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:39:47] *** Joins: ofeldt- (ofeldt@moz-7804B8F1.dip0.t-ipconnect.de)
[06:40:48] *** Quits: ofeldt (ofeldt@moz-D9D7E8D6.dip0.t-ipconnect.de) (Ping timeout)
[06:43:04] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:53:53] *** Joins: rlane (rlane@moz-9407FB5.club.cc.cmu.edu)
[06:56:59] *** Joins: ozkriff (Mibbit@6014F6.BC46A4C1.71211713.IP)
[06:59:27] *** Joins: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP)
[07:01:13] *** Quits: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:01:50] *** Joins: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP)
[07:01:51] *** Quits: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP) (Quit: angdev)
[07:11:38] <ozkriff> bjz: Hi. https://travis-ci.org/bjz/cgmath-rs/builds/19562167
[07:11:53] <ozkriff> bjz: ... "error: failed to find an implementation of trait std::fmt::Show for cgmath::matrix::Mat2<f64>" ...
[07:12:26] <huon> assert_eq now uses Show rather than {:?}
[07:12:27] <ozkriff> bjz: I`m not shure what format to use for Show for Mat*
[07:12:36] <bjz> I think assert_eq! was changed to use {} instead of {:?}
[07:13:37] <ozkriff> Yes, I have seen that change in "whis week in rust". 
[07:14:11] <huon> the correct fix would be implementing std::fmt::Show
[07:14:15] <ozkriff> Shoud matrix be printed on one line? Or few lines?
[07:14:24] <huon> oh, I see
[07:14:29] * huon lets bjz answer
[07:14:40] <bjz> hmm
[07:15:15] <bjz> Maybe one line for now?
[07:16:02] <bjz> just in [[x, ..], ..] form?
[07:16:25] <ozkriff> Ok, it`s Ok for me
[07:17:30] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:18:20] <ozkriff> bjz: I have another question: how to use timers in glfw app? I wanted to insert some calls to 'sleep'.
[07:20:27] <ozkriff> bjz:  And It event works, but my application does not exit when mainloop exits
[07:33:05] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[07:46:56] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:51:21] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[07:59:27] *** Joins: _eddyb_ (eddy@F8B50789.F33C1089.FB866788.IP)
[07:59:38] *** Quits: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP) (Connection reset by peer)
[07:59:56] *** _eddyb_ is now known as eddyb
[08:09:32] <ozkriff> https://gist.github.com/ozkriff/9320487#file-timer_sleep_test-rs-L30 - why? :(
[08:10:07] *** Joins: Ferreus (ferreus@moz-DAF3AD3F.dip0.t-ipconnect.de)
[08:15:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:15:59] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[08:16:20] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:17:14] <Yurume> https://raw.github.com/rlane/cubeland/master/doc/screenshot.png yummy.
[08:17:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:18:00] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[08:18:42] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:26:17] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[08:34:20] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:34:41] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[09:18:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:20:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:34:16] *** Joins: CarpNet (ac@98575CFC.588FCCCF.2D84FE65.IP)
[09:36:24] <ozkriff> bjz: "in [[x, ..], ..] form" - https://github.com/bjz/cgmath-rs/pull/50 - ok?
[09:43:08] <bjz> ozkriff: thanks!
[09:45:02] <bjz> ozkriff: have you tried flush_events?
[09:51:46] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[10:03:04] <ozkriff> bjz: Yes, app still does not quit in normal way :(
[10:13:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[10:26:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:27:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:28:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:59:37] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[11:00:08] *** Joins: b (b@moz-55CA322E.org)
[11:09:06] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:09:44] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:24:48] *** Joins: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[11:24:52] *** Quits: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: doomlord__)
[11:24:53] *** Quits: Ferreus (ferreus@moz-DAF3AD3F.dip0.t-ipconnect.de) (Ping timeout)
[11:34:42] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[11:39:06] *** Joins: Ferreus (ferreus@moz-7CCF6380.dip0.t-ipconnect.de)
[11:40:16] *** Quits: ozkriff (Mibbit@6014F6.BC46A4C1.71211713.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:48:18] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:52:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[12:07:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:28:27] <eddyb> are the SDK Tools enough to get rust working?
[12:28:37] <eddyb> are there rust nightlies for android?
[12:29:25] <eddyb> doesn't look like it :/
[12:31:08] <eddyb> huon, cmr: can I symlink the llvm source and build dir between my checkouts?
[12:37:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:38:26] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:53:10] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[12:59:36] <eddyb> does the Android SDK include the NDK?
[13:00:05] <hansjorg> nope, must be downloaded seperately
[13:01:49] <eddyb> so SDK for the emulator, standlone toolchain from NDK for building Rust?
[13:01:55] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[13:02:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:04:26] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:04:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:08:00] <eddyb> hansjorg: do I have to use 14, as written here? https://github.com/mozilla/rust/wiki/Doc-building-for-android
[13:08:41] <eddyb> 4.0, hmm
[13:10:18] <eddyb> pffft... NDK sh files don't have shebangs. much fun under fish
[13:14:41] <eddyb> Cloning into 'src/llvm'...
[13:14:50] <eddyb> noooo ;_;
[13:14:59] <eddyb> I made it a symlink so I can share the files :/
[13:17:20] <huon> eddyb: git workdir might be helpful
[13:17:25] <eddyb> hang on...
[13:17:25] * huon has never used it though
[13:17:38] <eddyb> the android stuff is just "rt"?
[13:17:45] <eddyb> right, it's a cross-compiler
[13:18:19] <eddyb> I hope I can symlink the x86_64-unknown-linux-gnu/llvm/ directory
[13:19:55] <eddyb> ohh I think I did the original one wrong =))
[13:20:29] <eddyb> oh dear ln and its argument order
[13:22:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:22:14] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[13:23:50] <eddyb> touch /home/eddy/Projects/rust-android/x86_64-unknown-linux-gnu/llvm/llvm-auto-clean-stamp
[13:24:30] <eddyb> why on earth is the configure/make system so annoying?
[13:25:05] <eddyb> and ccache has only misses so far, great
[13:29:01] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[13:30:45] *** Quits: Malm (malm@moz-56546B0C.edstud.chalmers.se) (Ping timeout)
[13:31:02] *** Joins: Malm (malm@moz-56546B0C.edstud.chalmers.se)
[13:33:43] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[13:36:18] *** Quits: Malm (malm@moz-56546B0C.edstud.chalmers.se) (Ping timeout)
[13:37:20] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[13:50:29] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[13:53:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:54:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:55:35] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[13:56:13] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[13:58:16] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[14:03:44] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[14:06:03] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:08:13] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[14:15:18] <eddyb> has anyone succeeded in running glfw-based Rust code on android?
[14:16:09] <cmr> servo?
[14:16:38] <eddyb> I meant for something more like a hello world :P
[14:17:47] <eddyb> I don't want to waste a lot of time on this, so I'm curious if anyone knows what's what
[14:18:30] <eddyb> I hope I can just build glfw for android using the NDK and then build the bindings using the cross-compiling rustc
[14:19:31] <cmr> you need to do some funky stuff where you build the rust code as a lib and jump into it from java.
[14:19:58] <cmr> you also need to set the crate map explicitly, judging by a recent PR
[14:20:11] <eddyb> cmr: why? doesn't something like native-activity work for Rust?
[14:20:52] <cmr> hm, maybe it does.
[14:20:53] <cmr> worth trying.
[14:21:26] <eddyb> https://github.com/mozilla-servo/rust-opengles this looks nice
[14:21:58] <cmr> they plan on ditching for gl-rs generated bindings.
[14:22:00] <eddyb> (as an alternative to the function pointer method)
[14:22:22] <eddyb> cmr: oh, so that's what I'm supposed to be using :/?
[14:23:36] <eddyb> cmr: I really wonder if there's any downside to having the function pointers loaded like that
[14:23:53] <cmr> like gl-rs's function loader?
[14:23:56] <eddyb> yeah
[14:24:02] <cmr> I mean, there's a tiny indirect hit.
[14:24:04] <eddyb> I know dynamic lib imports use function pointers anyways... so I guess there's no difference?
[14:24:17] <cmr> might be.
[14:24:50] <eddyb> if I treat gl-rs as a custom dynamic linker... makes me feel better about using it :P
[14:25:03] <eddyb> one call per frame can't hurt, anyways
[14:25:19] <eddyb> (if you use shaders and whatnot)
[14:25:30] <doomlord_> eddyb i specifically just linked rust code to  the 'native-activity' sample
[14:25:39] <cmr> cool!
[14:25:44] <doomlord_> i dont even have a neat makefile for it
[14:25:44] <eddyb> doomlord_: do you still need C code?
[14:26:14] <doomlord_> I would guess the best way is to contribute C code to android implemntation of glfw or something..
[14:26:29] <doomlord_> and just ensure the glfw interface abstracts everything needed from android.
[14:26:31] <eddyb> I don't want C or Java code in the project itself
[14:26:37] <cmr> oh, servo is using native-activity
[14:26:41] <eddyb> sweet
[14:26:57] <eddyb> I guess I have to dig in their sources after all
[14:27:22] <eddyb> compiling rustc and emulating android in qemu don't mix >_>
[14:27:49] <cmr> they still have some C++ glue for loading glut function at runtime looks like
[14:28:11] <doomlord_> eddyb I dont think what i have now is worth putting on github, it simply amounts to 'i looked up the right compiler options'
[14:28:21] <eddyb> doomlord_: gist, then?
[14:28:31] <doomlord_> i woudl be interested in collaborating on a decent rust/android sample.
[14:28:40] <doomlord_> yeah i can pastebin some mess
[14:28:54] <eddyb> this was a bad idea
[14:29:35] <eddyb> but it doesn't feel like it's swapping, even with full RAM, so maybe I'm okay
[14:29:41] <doomlord_> I still wonder if its possible to just put a build rule for .rs in the android makefile, but it might be tailored to c/c++ soujrces
[14:29:43] <eddyb> (this is with firefox closed, btw :P)
[14:30:14] <eddyb> doomlord_: that's why I don't want no C/C++ code
[14:30:25] <eddyb> Java is even worse to deal with >_>
[14:30:36] <doomlord_> without C/C++ code i think we'll need to do android.rs etc
[14:30:47] <doomlord_> rust bindings to the NDK
[14:31:12] <eddyb> can't glfw do all that?
[14:31:22] <cmr> no
[14:31:33] <cmr> glfw is just windowing and input
[14:31:53] <doomlord_> i wonder if glfw out of the box just works on android
[14:31:59] <cmr> I think it does
[14:32:01] <eddyb> but it has to initialize some android stuff, doesn't it?
[14:32:11] <doomlord_> if it does, its as simple as just linking rust code to glfw ..
[14:32:39] <eddyb> ohh and how do I handle dependencies? this will be fun :(
[14:33:48] <eddyb> (I have to build both glfw and glfw-rs for android. also all the other crates, like gl-rs)
[14:34:20] <cmr> gl-rs doesn't ship gles stuff, so you'll need to generate bindings too.
[14:34:46] <cmr> or just use rust-opengles
[14:34:48] <eddyb> as in, run a script within gl-rs?
[14:34:49] <cmr> it's not evil ;p
[14:34:55] <cmr> nah there's no script
[14:34:58] <eddyb> lol
[14:34:59] <eddyb> oxidize: x86_64-unknown-linux-gnu/stage1/lib/rustlib/arm-linux-androideabi/lib/libstd
[14:35:01] <cmr> see the readme in src/gen though
[14:35:23] <doomlord_> eddyb http://pastebin.com/rtmtyHeA there is some mess, some notes of manual commands i issued 
[14:35:28] <eddyb> but the emulator hasn't started yet, which is worrying me. and I don't have snapshot support because I chose gfx acceleration
[14:35:43] <eddyb> doomlord_: I said gist... which has multiple file support and rust highlighting >:(
[14:35:52] <eddyb> doomlord_: but thanks, I'll check it out when I can dare to open firefox again
[14:36:14] <cmr> curl http://pastebin.com/raw.php?i=rtmtyHeA
[14:36:17] <doomlord_> eddyb the rust side was just a fuinction "[no]exter "C" fn hello_android()->int { 99}" ... then i just
[14:36:25] <eddyb> cmr: | less. not bad
[14:36:50] <doomlord_> eddyb the rust side was just a fuinction "#[no_mangle] exter "C" fn hello_android()->int { 99}" ... then in ndk main.c , extern int hello_android().... LOGI("rust says %d", hello_android);
[14:37:24] <doomlord_> i saw 99 in the adb log ... i was ecstatic that the door is open 
[14:37:41] <eddyb> can't android_main be written in Rust?
[14:37:52] <cmr> uhhh maybe there isn't android support in glfw
[14:37:55] <cmr> maybe I was thinking of sdl
[14:37:58] * eddyb has to check how much of...
[14:37:59] <doomlord_> yes it can, sure - of course its more effort
[14:38:00] <eddyb> cmr: what :(?
[14:38:35] <doomlord_> could open a shared document to brainstorm the options here
[14:38:42] <doomlord_> one of those collaborative doc editors
[14:38:48] <eddyb> etherpad.mozilla.org or something like that
[14:39:09] <doomlord_> if there *isnt* glfw android support, we may be better off simply adding it, IMO
[14:39:15] <doomlord_> rather than porting android samples to rust
[14:39:29] <doomlord_> less maintainance for the world... C bindings to glfw aren't going away
[14:39:41] <doomlord_> we'll get community to maintain that for us
[14:39:46] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[14:39:53] <doomlord_> then we can just concentrate on writing Rust glfw code.
[14:40:29] <cmr> talk to dreda in #glfw on freenode
[14:40:42] <cmr> there might even be a fork somewhere with startings...
[14:42:34] <eddyb> why's the emulator so slow?
[14:43:00] <cmr> it's not accelerated like x86 is..
[14:43:18] <eddyb> but qemu does JIT :S
[14:43:32] <eddyb> it shouldn't take more than half an hour *to start*
[14:45:33] <doomlord_> i might be tempted to try and just implement whatever tiny subset of glfw I need for android, myself.
[14:45:57] <doomlord_> a propper fork would obviously be better and there must be so many people that want it
[14:46:12] <eddyb> I would think you can rewrite native-activity in Rust easily
[14:46:22] <eddyb> it's just a bunch of C functions, no?
[14:46:28] <doomlord_> i've heard of freeglut being on android aswell   
[14:46:29] <doomlord_> <doomlord_> if there *isnt* glfw android support, we may be better off simply adding it, IMO
[14:46:29] <doomlord_> <doomlord_> rather than porting android samples to rust
[14:46:29] <doomlord_> <doomlord_> less maintainance for the world... C bindings to glfw aren't going away
[14:46:29] <doomlord_> <doomlord_> we'll get community to maintain that for us
[14:46:29] <doomlord_> * judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) has joined #rust-gamedev
[14:46:31] <doomlord_> <doomlord_> then we can just concentrate on writing Rust glfw code.
[14:46:33] <doomlord_> oops sorry
[14:46:53] <doomlord_> i meant to write, "i've heard of freeglut being on android aswell"  ... http://freeglut.sourceforge.net/docs/android.php
[14:47:53] <doomlord_> eddyb yes you could definitely rewrite native-activity in rust : but an abstraction layer will facilitate crossplatform dev for many
[14:48:09] <eddyb> woo I think it just started
[14:48:29] <eddyb> might have been stupid to not enable snapshots for this, but I wanted GPU acceleration because I know how bad it can get
[14:48:53] <eddyb> aaand it doesn't help?
[14:48:57] <larsberg> doomlord_: On servo, we have some rust glut bindings that we use (instead of glfw, which we use on linux and OSX)
[14:49:16] <eddyb> larsberg: so that's what we should use for starting?
[14:49:18] <larsberg> Android glut seems to work pretty well
[14:49:23] <doomlord_> larsberg i can admit to using glut bindings 
[14:49:33] <eddyb> hehe animations work fine
[14:49:37] <doomlord_> my C++ project is glut on windows/mac/linux
[14:49:41] <larsberg> eddyb: that will *definitely* work :-)
[14:49:59] <doomlord_> then i have some stubs implemented to get that on iOS/android NDK.... so going the glut route is more familiar to me
[14:50:00] <eddyb> ok, it's smooth
[14:50:17] <eddyb> I hope it's a first start thing
[14:50:18] <doomlord_> people look down on glut, but is that due to the extra bloat?
[14:50:37] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:50:40] <doomlord_> there's not really much to it.. just creating windows and registering input  message handleres
[14:51:09] <doomlord_> larsberg so is servo basically *visible* on android
[14:51:28] <eddyb> the android browser works :D
[14:51:35] <larsberg> doomlord_: yes. once we *finally* boot, you can render a webpage, change orientations, and pinch-zoom even occasionally works :-)
[14:51:45] <doomlord_> heh
[14:51:55] <larsberg> I haven't figured out how to get the android packaging thing to actually let us open a socket, though, so just pages that have been copied locally
[14:52:07] <SiegeLord> glut allows you to draw spheres... that's unnacceptable bloat
[14:52:16] <doomlord_> sure , no need for all that
[14:52:23] <eddyb> okay, let's see how slow it boots after the first boot completed. I hope it saved all its work
[14:52:30] <doomlord_> 'some subset of glut', i'm ok with that
[14:52:33] <cmr> eddyb: wishful thinking!
[14:52:39] <SiegeLord> I was being sacrastic :P
[14:52:54] <doomlord_> no really, its got sample teapots and whatnot
[14:53:07] <SiegeLord> Teapots could be very useful in right hands
[14:53:12] <larsberg> our bindings are at: https://github.com/mozilla-servo/rust-glut
[14:53:12] <doomlord_> and some menu system
[14:54:05] <doomlord_> at the minute the only GL i've done through rust is glut on the PC (linux)
[14:54:08] <eddyb> machackstub
[14:54:10] <eddyb> classy
[14:54:19] <doomlord_> so it may be i can just keep going the way i am :) 
[14:54:30] <doomlord_> larsberg but did i hear you're intending to ditch glut
[14:54:37] <eddyb> " jdm authored 2 months ago"
[14:54:41] <eddyb> will that build on Rust master?
[14:55:14] <doomlord_> i've heard of someone else making a glfw like layer , glwt or something , and i inquired to them about the possibility of making their message declarations suitable to turn into rust enums..
[14:55:34] <eddyb> tagged unions?
[14:55:51] <doomlord_> yes, they appaered to be setting up input messages as tagged unions
[14:56:03] <doomlord_> intead of a tonne of individual functions like glut and glwt use
[14:56:09] <doomlord_> intead of a tonne of individual functions like glut and glfw use ^
[14:56:46] <cmr> I wouldn't get your hopes up too much... rust enum layout is entirely undefined :(
[14:57:00] <doomlord_> maybe a #[...] could force a predictable layout
[14:57:19] <doomlord_> or you could put key things into it that garantee it doesn't get optimized..
[14:57:23] <eddyb> we already have #[repr(C)]. could be used for tagged unions if you specify each discriminant
[14:57:34] <eddyb> well... not really C
[14:57:36] <doomlord_> i imagine the optimized special cases are isolated, small things
[14:57:47] <eddyb> #[repr(u16)] for an u16 discriminant
[14:58:01] <doomlord_> that sounds very promising
[14:58:15] <cmr> repr only works on C-like enums though
[14:58:18] <cmr> not enums with inner dat
[14:58:20] <cmr> a
[14:58:33] <cmr> rust-bindgen can handle unions etc.
[14:58:37] <eddyb> doesn't #[repr(X)] force the discriminant to be X sized?
[14:58:40] <cmr> it's not pretty, but it works very well.
[14:58:40] <doomlord_> is there something in c++11 like ... enum Foo : some_underlying_type { ... }  
[14:58:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Connection reset by peer)
[14:58:54] <cmr> that's basically what repr is
[14:59:01] <doomlord_> could propose something like that for rust... enum Foo : u16 { .. }
[14:59:05] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:59:16] <eddyb> nothing that looks like inheritance in Rust, pls :)
[14:59:17] <doomlord_> enum Foo /* unspecified, open to optimization */ { ;... }
[14:59:26] <doomlord_> inheritance is ok in moderation
[14:59:30] <larsberg> doomlord_: We'd love to move to something we should share across all our platforms, but I don't think we have plans completely nailed down yet
[14:59:46] <eddyb> larsberg: so how do I build this thing?
[14:59:52] <eddyb> with the NDK, that is
[14:59:52] <doomlord_> i would definitely like to see single inheritance in rust , because single inheritance just happens to have a simple low level reprentation
[14:59:57] <larsberg> eddyb: It'll run on rust master once I get that far in the servo rust upgrade :-) I'm still getting the submodules working on OSX
[15:00:10] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[15:00:13] <eddyb> https://github.com/mozilla-servo/rust-glut/blob/master/Makefile.in doesn't seem to have special NDK support
[15:00:29] <larsberg> eddyb: https://github.com/mozilla-servo/servo-android-glue is the bit that links everything together for android
[15:00:41] <doomlord_> larsberg, is 'glut' failing you in any way; if so can you make extentions to your own subset of it that can be suggested as additions to the mainline freeglut
[15:01:36] <larsberg> basically, we rebuild servo as a lib (using rust-glut) and that servo-android-glue submodule packages everything up, starts the rust runtime, and handles the android integration / creating an icon and such
[15:02:17] <eddyb> why jni?
[15:02:20] <larsberg> note that there's some hackery because by default rust can't find the toplevel_crate_map on Android (due to some limitations of the C runtime on Android), though acrichto helpfully added a stub function recently to let us load it explicitly
[15:03:04] <eddyb> larsberg: maybe I should wait on the update?
[15:03:36] <eddyb> there's a few things that don't exactly work (not at all outside servo's build system)
[15:03:39] <larsberg> eddyb: it'll probably be easier :-) I don't know I'll have lots of time or no time given I'm out at the rust workweek this week, but I was hoping to get it in soon (TM)
[15:04:25] <larsberg> doomlord_: I think our higher first priority is getting off of our hodgepodge of glx and such to move to egl (now that Linux has support for it for NVIDIA) and then figure out what to do with windowing system suspport
[15:04:33] <eddyb> cmr: lol, the emulator doesn't redraw without user input, if you alt-tab or anything like that
[15:04:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:05:16] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:05:27] <doomlord_> so the options are..    [1]android port of glfw (c++ community will support it?)... [2] servo's android glut (is it even going to last? could we just fork it?)... and [3] something completely new and custom for crossplatform rust gl wrappers... (glwt might suit enums?) ...
[15:06:24] <doomlord_> in my C++ project, multitouch input goes through my own layer
[15:06:53] <doomlord_> i see freeglut does have a load of hooks for multitouch input..
[15:06:58] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:07:54] <doomlord_> https://github.com/rikusalminen/glwt 
[15:08:04] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[15:09:01] <doomlord_> https://github.com/rikusalminen/glwt/blob/master/include/GLWT/glwt.h << (i saw them doing this , inquired if they could do something compatiible with rust enums..)
[15:09:26] <eddyb> https://github.com/rikusalminen/glwt/blob/master/src/egl/glwt_egl.c
[15:09:28] <doomlord_> tagged unions abound, but with extra bits of info attached. 
[15:09:33] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[15:09:35] <eddyb> looks like it could work on android, with a bit more work
[15:10:02] <eddyb> doomlord_: this is Rust-compatible, I think https://github.com/rikusalminen/glwt/blob/master/include/GLWT/glwt.h#L55-L64
[15:10:18] <doomlord_> The thing is the discriminant has information beyond 'which union variant to use'
[15:10:28] <eddyb> that's not a problem
[15:10:40] <eddyb> (can even use Rust's char for "character", woo)
[15:10:42] <doomlord_> so i wondered if they'd be open to changing it to 2 values, a main discriminatn and a sub-message
[15:10:48] <eddyb> doomlord_: you don't need that
[15:11:11] <eddyb> it's a non-issue. no need to bug the author
[15:11:33] <doomlord_> so rust has syntax to associated values with variants or what
[15:11:39] <eddyb> you can wrap each union child in a Rust struct, if you really want that
[15:11:49] <eddyb> doomlord_: it's deterministic if you avoid optimizable patterns
[15:12:01] <eddyb> it's not defined, but it's not UB either :P
[15:12:14] <doomlord_> ahh ok, we just replicate the structs... silly me
[15:12:50] <zxcdw> How complete/usable is the sdl2-rs project?
[15:13:12] <doomlord_> enum WindowEventType { NoEvent, WindowClose,..... FocusIn { x, y, butons} FOcus Out { x, y buttons... } } .. of course easy
[15:13:16] <cmr> bjz: ping
[15:13:21] <cmr> zxcdw: which one? :P
[15:13:35] <zxcdw> By bjz I guess :)
[15:14:22] <cmr> looks fairly complete at first glance
[15:14:32] <cmr> at least the ffi module
[15:14:35] <eddyb> hehe
[15:14:41] <eddyb> does SDL2 have android support?
[15:15:01] <eddyb> anything that builds right now would be nice. I don't want to waste time if I can't come up with a demo
[15:15:22] <cmr> https://github.com/zielmicha/SDL2/blob/master/README.android
[15:15:23] <larsberg> eddyb: I believe it does (and I think that SDL is what we were considering switching to)
[15:15:33] <eddyb> cmr: sweet :D
[15:15:58] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:16:05] <doomlord_> my path of minimum resistance might be to just continue with 'a glut subset'
[15:16:32] <doomlord_> but glwt looks nice
[15:19:32] <eddyb> https://github.com/zielmicha/SDL2/tree/master/android-project bleah, do I need Eclipse for this?
[15:20:15] <eddyb> is there anything in here that can't actually be written in C? https://github.com/zielmicha/SDL2/blob/master/android-project/src/org/libsdl/app/SDLActivity.java
[15:20:51] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:20:53] <cmr> I'm pretty sure the *point* is to use sdl from java
[15:21:17] <eddyb> right, I don't want that
[15:22:07] <eddyb> the question is... do I have to reimplement that functionality? or is there a nice wrapper somewhere?
[15:26:17] <eddyb> https://github.com/zielmicha/SDL2/blob/master/src/core/android/SDL_android.cpp such a mess
[15:26:21] <larsberg> eddyb: that's exactly what servo-android-glue does - it's C++ code that "hooks up" the stuff we need to do the very basic window initializeation and then call into rust code that knows how to e.g. get the global display pointer and run servo
[15:27:04] <eddyb> but... isn't the NDK supposed to not require any Java/JNI to get all that set up?
[15:27:18] <larsberg> yeah, we still don't have all the logging & error handling hooked up (I have a PR that redirects the output from RUST_LOG to the android logging facilities)
[15:27:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:28:31] <eddyb> enough Java for one day, I need some bleach
[15:28:35] <larsberg> well, you can create an android manifest that just calls into your binary, but you'll need some android-specific code somewhere
[15:28:52] <larsberg> hook up to logging, handle the fact that dlsym is broken, etc.
[15:29:00] <eddyb> lol
[15:29:31] <eddyb> I was thinking #[cfg(android)] #[no_mangle] extern "C" fn android_main() {...}
[15:29:37] <eddyb> larsberg: what's wrong with dlsym?
[15:30:15] <larsberg> eddyb: IIRC as long as you always provide the module that you want to load the symbol from, you're fine
[15:30:34] <eddyb> you can't load from self?
[15:30:46] <larsberg> if you use the default/search version, that's only implemented against (trying to remember...) modules that you explicitly called dlopen on and not ones that were implicitly loaded?
[15:31:03] <larsberg> if you dlopen'd yourself, it works fine :-)
[15:31:18] <eddyb> odd. does the std do anything like that by default?
[15:31:40] <larsberg> no. it's all documented. there's just a bunch of stuff the android c runtime library doesn't do for perf/speed/simplicitly
[15:31:46] <larsberg> e.g. pthread_cancel isn't implemented
[15:32:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:32:40] <larsberg> I'm pretty sure I'm running into some corner cases in their sockets implementation w.r.t. rust's code that I'll have to find workarounds for, but I'm waiting until post-servo-rust-upgrade to look into it
[15:35:25] <doomlord_> do you actually debug rust source on android .. or do without
[15:36:03] <larsberg> I've gotten the gdb in the android NDK to basically work
[15:36:32] <larsberg> though debugging fail! is a bit tricky becuase for some reason it's only like 1/10 times I hit the rust_fail and the others the abort goes through and kills the process before the debugger stops
[15:36:38] <larsberg> So, I try not to :-)
[15:36:49] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[15:37:23] <larsberg> debug! debugging has been most productive for me, except when it's crashes in the rust runtime, where I can't really instrument without taking an hour to rebuild everything
[15:52:57] <doomlord_> i have posted a question on reddit http://www.reddit.com/r/rust/comments/1zfuzp/rust_crossplatform_gl_code_android_desktop_what/
[15:58:28] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[15:58:52] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[15:59:49] <zokier`> doomlord_, you didn't mention sdl as an option?
[16:01:45] <doomlord_> i should but does sdl deal with GL
[16:01:50] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[16:02:16] <Amaranth> glut has API for showing the keyboard on android?
[16:06:23] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:06:31] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[16:06:52] <zokier`> doomlord_, what do you mean by deal with gl?
[16:06:59] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[16:08:42] <doomlord_> does it set up a gl context 
[16:08:50] <zokier`> http://wiki.libsdl.org/SDL_GL_CreateContext
[16:09:11] <doomlord_> ok
[16:09:27] <Amaranth> Last time I checked rust-sdl2 and gl-rs didn't get along so you couldn't make any GL calls yourself
[16:09:34] <Amaranth> I didn't get a chance to look in to why though
[16:09:42] <zokier`> that seems odd
[16:10:07] <Amaranth> The wrapper for SDL_GL_GetProcAddress is probably broken
[16:10:14] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[16:10:27] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[16:10:34] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[16:11:01] <zokier`> but if you use gl-rs then i don't think you need (or should) use sdl_gl_getprocaddress
[16:11:49] <Amaranth> You do, gl-rs doesn't actually load anything itself, you have to pass it a getprocaddress function which is uses to do the loading
[16:12:23] <zokier`> oh, right
[16:12:30] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:13:12] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[16:13:19] <zokier`> in that case, some other loader (glew?) could be wrapped which might work better with gl-rs
[16:13:58] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[16:14:11] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:14:42] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[16:16:09] <Amaranth> zokier`: Seems like a waste (and possibly breaking things) to link to both glew and sdl2 in the same project
[16:16:43] <Amaranth> And in any case it's probably a bug with rust-sdl2's wrapper, not some inherent incompatibility
[16:16:53] <Amaranth> It definitely worked when I added the wrapper
[16:17:11] <Amaranth> Some changes to rust since then probably weren't accounted for
[16:20:46] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[16:21:58] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:28:15] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:28:55] *** Joins: mib_4in1fq (Mibbit@941C3E9B.DC8A6D32.5E72BC23.IP)
[16:29:02] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:29:15] *** Quits: mib_4in1fq (Mibbit@941C3E9B.DC8A6D32.5E72BC23.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:31:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:32:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:32:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:32:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:34:18] <kimundi> Hi, I have a general gamedev related question: Does anyone have good resources about how to effectively work with with a Scene Graph in general? That is, if you have a tree-like graph of 3d objects, how to effectively build logical units out of them, how to properly encapsulate sub graphs that belong to one logical object etc. 
[16:34:30] <kimundi> Kinda open ended question I guess
[16:34:49] <tiffany> that sounds more like CSG than a scene graph
[16:35:02] <tiffany> CSG being a subset of what could be described as a scene graph, I suppose
[16:35:10] <kimundi> CSG being?
[16:35:12] <doomlord_> people do call that a scene graph 
[16:35:15] <tiffany> constructive solid geometry
[16:35:33] <doomlord_> boolean operations on solids in a graph
[16:35:42] <tiffany> in my game engine, the scenegraph is flat: every object has its own position relative to the world's frame of reference
[16:35:44] <kimundi> Ah, that sounds like the starting point from which I'm trying to get more structure here :)
[16:35:56] <doomlord_> flat scenes actually work well these days
[16:36:00] <tiffany> it's very simple compared to a tree of objects that you attempt to wrap operations around
[16:36:02] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:36:07] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:36:14] <doomlord_> but people deal with heirarchies for animation, 
[16:36:20] <tiffany> eventually I'll add the ability to mount objects on other objects, for animation, but that's it
[16:36:40] <doomlord_> even there you can treat individual skeletons as a mini scene... and just have a flat scene of characters
[16:36:48] <tiffany> yeah
[16:37:48] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:37:54] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:38:12] <kimundi> I'm pretty uneducated in theses areas, so i don't  really know whats out there
[16:39:02] <kimundi> But I have some vague plans that basically require a tree-like structure, even if most of it ends up pretty flat
[16:39:15] <doomlord_> you could have a very coarse grid for a large world
[16:39:29] <doomlord_> like 1 level of spatial partitioning.. again this actually can work very well
[16:39:35] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:39:43] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:39:51] <doomlord_> a generalized tree isn't used as often as you might think
[16:40:03] *** Quits: Ferreus (ferreus@moz-7CCF6380.dip0.t-ipconnect.de) (Ping timeout)
[16:40:24] <kimundi> Yeah, I can believe that
[16:40:33] <doomlord_> the real benefit of a scene graph is heirachical transoformations for skeletal animation
[16:40:43] <doomlord_> and thats how its used in 3d packages
[16:41:24] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:41:30] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:41:59] <doomlord_> https://github.com/rikusalminen/ndk-skeleton/blob/noglue/jni/main.c <<< mr glwt showed me this
[16:42:16] *** Joins: patpatter (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:42:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:42:22] <doomlord_> supposedly a native c program interfacing to native activity more directlyy than the  'native activity sample'
[16:42:33] <doomlord_> This looks like it could be easily replicated in rust
[16:43:11] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:43:37] <eddyb> doomlord_: you need to run bindgen on the android headers, I think
[16:43:41] <eddyb> but yeah, it looks good :D
[16:45:37] *** Quits: patpatter (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:48:08] <kimundi> Re Scene Graphs, so mostly flat lists are used these days? How does code that modifies objects in the scene look like? Like, I can imagine how the machinery for managing a scene graph looks, but I'm having trouble with marrying it to game logic
[16:58:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:59:09] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:03:48] *** Joins: jensnockert (jensnocker@moz-840940F2.wireless.lu.se)
[17:08:21] <doomlord_> its usually going to be specific to entity systems
[17:08:29] <doomlord_> update a scene, then traverse it for rendering
[17:08:53] <doomlord_> certainly on the last wave of consoles... abstracted do everything frameworks just fell down
[17:09:15] <doomlord_> to give you a concrete example:-
[17:09:46] <doomlord_> we used to use a rendering heirarchy for culling worlds on PSX, ps2, xbox... 1000's of nodes
[17:10:05] <doomlord_> bounding volume heirachy , with precomputed PVS.
[17:10:09] <doomlord_> when we moved to the xbox 360...
[17:10:17] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[17:10:27] <doomlord_> we were shocked when a microsoft person sped the code up by turning a 10,000 node scene into a flat list.
[17:10:43] <jensnockert> Ouch.
[17:10:43] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:10:45] <doomlord_> for each node( is it visible, add to list).
[17:10:53] <doomlord_> for each model in visible list - draw it
[17:11:07] <doomlord_> thats how bad the xbox 360 was at pointer-chasing and branchnig
[17:11:17] <cmr> jeez
[17:11:29] <jensnockert> All modern processors are bad at pointer-chasing though.
[17:11:31] <doomlord_> the speedup was because the unrolled , branchless maths code in the first traversal was something like 10-50x faster
[17:11:58] <jensnockert> And future processors are going to be relatively worse.
[17:12:30] <doomlord_> now i've heard of people making a 2 level heirachy faster still - so if you have 10-100 buckets of 100-1000 nodes .. that works
[17:12:38] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:12:40] <doomlord_> but we didnt' have enough objects to justify it :)
[17:12:56] <doomlord_> thats why i mentioned the idea of a top level grid.
[17:13:11] <doomlord_> the xbox 360 was especially bad because its in-order
[17:13:11] <kimundi> Yeah, I don't really care about performance implications yet - I need to learn about different Entity systems I guess, but I don't know where to start. A list of general designs would be nice I guess.
[17:13:38] <doomlord_> i haven't profiled things in anger on recent PC processors
[17:13:57] <doomlord_> we just basically had to get things running on the consoles, and took it for granted that would port to the pc fine
[17:14:22] <doomlord_> What i've done recently is go back to heirachies, but just use a very large number of elements at each tree level
[17:14:45] <doomlord_> in the past i would have done 4-8, now it would be 64+
[17:15:12] <doomlord_> animation code was a different specialization... 
[17:15:18] <jensnockert> Does the 360 do automagic prefetching?
[17:15:26] <doomlord_> no it most certainly doesn't
[17:15:30] <cmr> kimundi: bjz had an awesome list of resources, but I'm having difficulty finding it.
[17:15:32] <doomlord_> manual prefetch intrinsic instructions required
[17:16:24] <cmr> kimundi: finally! https://gist.github.com/bjz/3792143
[17:16:49] <doomlord_> for animation we had an array of bones, with parent indices, and pre-arranged them padded out to compute several matrix multiplies per loop iteration
[17:17:24] <kimundi> cmr: Heh, seems like I should work through the Game Engine Architecture section
[17:17:29] <doomlord_> like inserting 'nops' into a parent index list; again i dont think you need to go that far with oooe these days on most platforms
[17:21:08] <kimundi> I have some vague grand plans for a parallel, VR-compatible Engine that would allow defining a virtual world by assembling it out of self-contained, individually runnable subworlds/objects. But as long as I have no idea how the basics work in traditional designs, I can forget about starting that properly
[17:21:57] <doomlord_> client/server architectures for that sort of thing... a different kettle of fish
[17:22:33] <doomlord_> i'be never worked on anything so elaborate, mostly just driving games. array of cars, send some states across..
[17:23:17] <kimundi> I should properly first begin with writing games in a proper, existing Engine to gather experience, problem is I have zero interest in doing it that way, so I'm kinda stuck :P
[17:24:12] <doomlord_> one thing i suggested a while back r.e. interoperability between all the graphics projects on rust... 
[17:24:27] <kimundi> doomlord_: I have some elaborate ideas, which might completely fail in reality.
[17:25:07] <doomlord_> ... instead of standardizing a whole maths library etc...  independantly standardize some common structs.. just things like stuct Vec3<T> { x:T,y:T,z:T} etc .. in one source file, in the rust extra libs? 
[17:25:19] <doomlord_> then when people build their engines, they can directly share data;
[17:25:35] <doomlord_> everyone doesn't have to agree on the whole trait layout for everything to share data
[17:26:19] <doomlord_> leverage the decoupling that Rust allows.. whereas in C++ you're forced to agree on a whole *library* to get the declaration of a datastructure.
[17:26:42] <doomlord_> so you've got GLM, bullet's vectors, eigen .. 
[17:26:48] <doomlord_> D3DXVectors ..
[17:27:33] <doomlord_> (having said that I just switched my own vector to   Vec3<X,Y=X,Z=Y> { x:X,y:Y,z:Z } now that defaults are available :) 
[17:27:55] <jensnockert> Wait, different types for xyz ?!
[17:28:01] <jensnockert> ./o\
[17:28:02] <doomlord_> yes; [1] i plan to make types for One and Zero, so you can have a type which is
[17:28:05] <jensnockert> Madness!
[17:28:18] <doomlord_> so you can represent a value in the xz plane as 2 values
[17:28:24] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[17:28:30] <doomlord_> Vec3<F32, Zero,F32> 
[17:28:44] <doomlord_> single axis values as one value
[17:29:03] <doomlord_> also you can use different precisions - many situations have 2 preferential coordinates
[17:29:17] <doomlord_> you might have x,z coords that wrap round, but vertical ones dont
[17:29:35] <kimundi> I'm kinda trying to tackle the complexity problem of writing a game by enabling to write individual runnable components. Like, writing a working Pong game as a 2D, keyboard input based interactive component, and then taking that and let it run natively as part of a game cabinet stranding around in a virtual world somewhere.
[17:29:40] <doomlord_> i've already moved my code over to this, but most of my implementations still just default it to one value.
[17:30:05] <kimundi> without needing to modify the actual source of the ping game for that
[17:30:21] <doomlord_> one case that comes up is switching between a 'Vec3' being represented as float,float,float or as an aligned SIMD vector with w unused
[17:32:33] <doomlord_> homogeneous vectors could be f32,f32,f32,One    f32,f32,f32,Zero
[17:33:39] <doomlord_> i'm not sure if i'll persist with that experiment 
[17:33:50] <doomlord_> if there was a standard Vec3<T> i'd use it
[17:34:48] <jensnockert> I wish SIMD support was working well in Rust.
[17:37:28] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:37:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:41:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:49:59] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[17:50:35] *** Quits: jensnockert (jensnocker@moz-840940F2.wireless.lu.se) (Input/output error)
[17:52:11] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[17:52:54] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[17:54:37] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[17:58:46] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[18:01:03] *** Joins: mib_gf6w04 (Mibbit@moz-4CFEC5C.w82-123.abo.wanadoo.fr)
[18:03:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:08:07] *** Joins: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se)
[18:09:07] *** Quits: mib_gf6w04 (Mibbit@moz-4CFEC5C.w82-123.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:12:16] *** Joins: hhhhhhhhhh (mike@moz-C957E6A8.stcatz.ox.ac.uk)
[18:14:21] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[18:17:19] *** Joins: Ferreus (ferreus@moz-7218DD5.lsn.wtnet.de)
[18:19:37] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:21:35] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[18:21:49] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:27:59] *** Quits: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se) (Input/output error)
[18:28:26] *** Joins: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se)
[18:30:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:30:11] *** Quits: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se) (Ping timeout)
[18:36:46] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:38:21] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:45:00] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[18:50:24] <Yurume> https://gist.github.com/lifthrasiir/223c470182b9e484f5d0 haha. what the hell with this representation. I really need some nice surface syntax for that.
[18:52:44] * cmr blinks
[18:53:21] <eddyb> Yurume: at least it's nicer than the libsyntax tests
[18:53:41] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:54:18] <eddyb> Yurume: you need Id(StaticString("entries"))
[18:54:24] <Yurume> eddyb, awww...
[18:54:26] <eddyb> ~str is bad luck
[18:54:48] <kimundi> Yurume: Whats that code about?
[18:54:55] <kimundi> Or part of, rather
[18:55:01] <Yurume> I was inventing some kind of theme system for the game
[18:55:16] <eddyb> this reminds me of that minimalistic C++11 UI library
[18:55:43] <eddyb> Yurume: you need a macro that adds ..Default::default() to everything :P
[18:55:45] <Yurume> I sorta remember that. yes, similar to that.
[18:56:03] <eddyb> well... maybe not
[18:56:16] <Yurume> the AST will be read in run time, so I don't care :p
[18:56:17] <jeaye> eddyb: Which lib is that?
[18:56:19] <eddyb> what's with positive and negative?
[18:56:23] <eddyb> jeaye: can't really remember
[18:57:34] <Yurume> eddyb, a generic looping/layering/conditional construct: the callback calls the positive part zero or more times, and if it does not call positive, the negative part is automatically called.
[18:59:08] <Yurume> anyway, I've had a coder's block (if that's a word) for months, and I'm slowly making the engine customizable from outside... very slowly.
[18:59:08] <eddyb> jeaye: oh dear I have to search on reddit. both DDG and google are just terrible at this
[18:59:16] <eddyb> they barely match my keywords at all
[18:59:31] <jeaye> heh
[19:00:20] <Yurume> (I forgot to mention that the positive part is called with the new set of callbacks, that's why it is also a layering construct)
[19:00:39] <Yurume> sleepy...
[19:02:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:02:09] <eddyb> jeaye: oh, it's C++14, derp
[19:02:14] <eddyb> http://arauhala.github.io/libtoys/
[19:03:25] <jeaye> eddyb: Thanks.
[19:10:49] * photex is a bit disapointed in CMake overall
[19:11:03] <photex> Between different versions of Linux and OSX it's not that universal
[19:11:30] <photex> and problems manifest themselves as somewhat opaque makefile target mismatches
[19:13:10] * o11c is definitely not a fan of CMake
[19:13:19] * cmr prefers it to autotools
[19:13:26] <o11c> I just write for GNU make, possibly with a hand-written configure
[19:13:44] <o11c> I do hate the autotools implementation, but I like the ./configure interface
[19:13:50] <cmr> agree.
[19:14:21] <photex> yes, configure is the star of the autotools stable for sure
[19:14:34] <photex> I don't care much for working with autotools as a developer though
[19:14:42] <o11c> besides mine (which has never been used by anyone else), I know there are a couple of others (The Other Configure, for one)
[19:14:52] <photex> I keep trying to like it.. but meh
[19:15:01] <SiegeLord> Which part of configure is the good one... the name? :P
[19:15:11] <o11c> SiegeLord: the command-line interface
[19:15:24] <photex> when it's "configured" correctly
[19:15:31] <SiegeLord> Yeah... I prefer CMake's
[19:15:35] <photex> you have pretty standard --enable-* type options
[19:15:40] <o11c> the fact that it's ./configure CC=gcc-4.8, not cmake -D something_nasty=gcc-4.8
[19:16:00] <photex> my only gripe about CMake projects are that I can't have the equivalent to ./configure --help
[19:16:00] <cmr> CC=gcc-4.8 cmake
[19:16:02] <cmr> :P
[19:16:11] <o11c> oh, and ./configure --help is *useful*
[19:16:24] <photex> and some flags to cmake are env vars, others are -D options
[19:16:37] <cmr> yeah
[19:16:44] <o11c> (though I think ./configure --help that I wrote is even more useful)
[19:17:07] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[19:17:41] * photex might just crawl back to waf...
[19:17:56] <o11c> no!
[19:17:58] <photex> but I need to suck it up and figure out what's wrong on osx here
[19:17:59] <o11c> waf is evil
[19:18:11] <o11c> waf will get you banned from Debian
[19:18:14] <photex> but o11c I'm productive with it
[19:18:21] <photex> it gets the job done
[19:18:30] <photex> and the language is legible
[19:18:32] <o11c> then fork it to remove the closed-source bits
[19:18:32] <photex> etc etc etc
[19:18:44] * photex didn't know it was closed source
[19:19:19] <o11c> it doesn't provide the script necessary to update the embedded tarball
[19:19:28] <photex> or maybe I'll just finally work on that plugin for Groovy to support Rust
[19:19:40] <photex> meh, bad idea
[19:20:00] <photex> CMake for a mix Qt5 and Rust project is the most sane option
[19:20:16] <cmr> I fought with gradle for a java project at a point in the past
[19:20:20] <cmr> it seemed not-too-awful.
[19:20:25] <cmr> but dear god is it huge.
[19:20:33] <photex> cmr: yes
[19:20:43] <photex> for building java/scala applications though it's great
[19:23:38] <doomlord_> just talking to someone about the possibility of getting a PS4 devkit . I'm not sure how compelling a case it is , porting a fringe language .. 
[19:23:53] <photex> doomlord_: VERY COMPELLING :)
[19:24:04] <photex> doo eeet
[19:24:23] * photex is clearly envious
[19:24:43] <doomlord_> sony tend to like actual products but they have a middleware programme
[19:24:47] <doomlord_> of course
[19:25:06] <doomlord_> and hell if they're using C# with a garbage collector etc.. Rust must be worthwhile
[19:25:19] <photex> it's too bad the reason: "because it'll be a lot of fun!" isn't good enough for investors
[19:25:49] <photex> crazy investors with their money and interests
[19:26:16] <doomlord_> Its because its not exactly 'low hanging fruit'.
[19:26:30] <doomlord_> port a new language -> that will be good for writing a new engine -> then it needs a product ..
[19:27:30] <doomlord_> but they do give kits speculatively and I could do some "work" for them aswell
[19:27:47] <doomlord_> sony's libraries for everything else have always been plain C, so rust bindings would be possible
[19:27:55] <doomlord_> however they're highly closed source.
[19:28:00] <photex> also, it wouldn't have to begin as a full engine
[19:28:09] <photex> could be a nice safe library of some purpose
[19:28:21] <doomlord_> right it would work in conjunction with existing code just fine
[19:32:23] <photex> SiegeLord: are you using CMake and Rust on Linux or OSX or Windows?
[19:32:36] <SiegeLord> Linux
[19:33:20] <photex> ok. everything works fine on Linux... OSX I get "No rules to make target CMakeFiles/LIBKDS.dir/depend"
[19:33:30] <photex> where LIBKDS is my rust crate target name
[19:33:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:34:03] <photex> have you seen that in Linux ever?
[19:36:21] <SiegeLord> I did have somebody test it on OSX...
[19:36:23] <SiegeLord> Hmm
[19:36:29] <SiegeLord> Let me look at that bug report
[19:37:14] <photex> oh, looks like the same issue
[19:37:55] <SiegeLord> Looks like the fix is to name the target differently
[19:37:59] <SiegeLord> I don't know what it collides with
[19:38:54] <photex> indeed that works
[19:39:21] <photex> my custom target must have collided
[19:39:42] <photex> thanks again for the help
[19:39:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:39:59] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[19:40:21] <photex> ouch, my library isn't linking now :/
[19:40:25] <photex> not CMakes fault
[19:40:32] * photex shakes fist at OSX
[19:48:20] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:51:18] <eddyb> http://research.microsoft.com/en-us/um/people/kopf/pixelart/supplementary/multi_comparison.html OMG
[19:51:40] <eddyb> just hover over every "Ours" and you'll be amazed
[19:52:17] <SiegeLord> That's a funny way of saying 'traumatized'
[19:52:24] <SiegeLord> (Try peach)
[19:52:33] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[19:53:03] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[19:53:08] <SiegeLord> And as a dabbling pixel artist, this is akin to 'debrushing Picasso'
[19:53:38] <doomlord_> i enjoyed pixel art in the amiga era
[19:54:05] <SiegeLord> Sorry, meant Van Gogh
[19:54:17] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:54:52] <eddyb> haha melting 386
[19:58:46] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:58:46] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[19:59:06] <kimundi> hm, how do I use cargo-lite to install glfw-rs and gl-rs ?
[19:59:12] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[20:01:41] <kimundi> cmr?
[20:03:30] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[20:05:48] <photex> hrm... __rust_crate_map_toplevel is undefined for x86_64 
[20:06:58] *** Joins: brson (brson@E9A6A33E.708C0A12.C7EEF3A2.IP)
[20:08:03] <eddyb> photex: it shouldn't be arch-dependent
[20:08:11] <eddyb> your system tools might be out of date
[20:09:49] <photex> eddyb: that was just the error from clang
[20:10:03] <photex> __rust_crate_map_toplevel is in libstd according to nm
[20:10:15] <photex> but I don't want to have to find the dylib for that :/
[20:10:26] <photex> when I build a static library on linux I don't have this issue
[20:10:28] <eddyb> top level should be in your own crate
[20:10:34] <eddyb> it's weak in libstd
[20:11:12] <photex> it's weak in my static lib too
[20:11:35] <photex> and it's not listed by nm at all under linux
[20:11:55] <photex> sorry, I'll answer back in #rust
[20:13:17] <cmr> kimundi: cargo-lite install http://github.com/bjz/glfw-rs.git
[20:13:22] <cmr> kimundi: same with gl-rs.git
[20:14:10] <kimundi> cmr: Yeah, just got it to work. After installing, does "extern crate" just work?
[20:14:15] <cmr> kimundi: yup.
[20:14:26] <cmr> -- assuming your RUST_PATH is set to ~/.rust/lib
[20:15:13] <cmr> also upgrade cargo-lite if you installed 1.0.0, I fixed that last night.
[20:15:19] <cmr> (1.1.2 being most recent)
[20:15:28] <cmr> (pip install --upgrade cargo-lite)
[20:16:18] <kimundi> Well, I tried the pip way, but it didn't work, so I did the manual one (clone, cd, python2 setup.py... etc)
[20:16:48] <kimundi> I have no RUST_PATH set or anything, so where did those libraries go to? xD
[20:18:47] <cmr> they go into ~/.rust/lib/$target
[20:18:53] <cmr> but rustc won't look there without a set RUST_PATH
[20:19:05] <cmr> otherwise you can just say -L ~/.rust/lib/$target
[20:19:17] <kimundi> ah, so they are in the right place, but rustc won't look there until its set, gotcha
[20:20:02] <cmr> right.
[20:20:24] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:24:31] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[20:32:14] <kimundi> cmr: I get a bunch of "undefined reference" linking errors if I try to extern crate glfw.
[20:32:26] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[20:32:54] <cmr> kimundi: this is a detail of glfw-rs; you need to link to glfw yourself.
[20:33:01] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[20:33:12] <cmr> I usually use: -C link-args="$(pkg-config --libs glfw3)"
[20:33:49] <kimundi> sounds complicated
[20:34:14] <cmr> or you can have: #[link(name="glfw")] extern  { }
[20:34:18] <cmr> in your source.
[20:34:27] <cmr> but... the library name differs per platform :((
[20:34:45] <cmr> some it might be glfw3 etc.
[20:34:51] <kimundi> that works
[20:35:09] <kimundi> thanks! :)
[20:35:24] <kimundi> No to see if if I can actually make it open a window...
[20:35:29] <kimundi> Now*
[20:36:29] <kimundi> Sucess!
[20:36:40] <cmr> yay!
[20:37:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:37:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:45:04] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[20:48:25] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[20:51:22] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[20:54:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:57:00] <kimundi> Hm, seems like the gl-rs examples won't work for me because my notebook only supports OGL 2.1 nativly :P
[20:57:35] <kimundi> I'm running arch, with mesa installed - shouldn'T it fall back to software rendering int hat case?
[20:59:43] <cmr> the software rendering only supports 2.1 :)
[21:01:02] <kimundi> Hm, is it at all possible for me then to get familiar with modern OpenGL with this Hardware? :|
[21:01:16] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[21:02:01] <cmr> not particularly.
[21:02:12] <cmr> there might be extension support for *some* things.
[21:02:16] <SiegeLord> Makes you question the usefulness of modern OpenGL ;)
[21:02:27] <cmr> yes you can do a lot with just 2.1
[21:03:15] <eddyb> we need something generic over old and new
[21:03:28] <eddyb> but it has to be a higher-level implementation
[21:06:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:07:47] <zokier`> as long as you aren't stuck in 1.x with immediate modes and fixed functions then it is already relatively modern imho
[21:14:46] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:19:01] <doomlord_> eddyb i'm warming to the idea of implementing that whole android sample in rust - the appeal of having a 100% rust project on android
[21:21:19] <kimundi> Hm, so what is the most modern-ish way I can use 2.1?
[21:23:02] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:23:28] *** Quits: brson (brson@E9A6A33E.708C0A12.C7EEF3A2.IP) (Ping timeout)
[21:24:19] *** Joins: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP)
[21:24:40] <hhhhhhhhhh> kimundi: compile gl-rs yourself
[21:24:52] <kimundi> hm?
[21:25:01] <hhhhhhhhhh> but in src/gl, move gl21.rs to lib.rs
[21:25:09] <hhhhhhhhhh> and then it gives you the 2.1 interface
[21:25:51] <kimundi> I though gl-rs is that function loader thing that select the right functions at startup
[21:26:16] <hhhhhhhhhh> yes but lib.rs contains the loader or something
[21:26:29] <hhhhhhhhhh> and by default it wont load the 2.1 interface at all
[21:29:20] <kimundi> I'm confused :?
[21:36:02] <zokier`> so am i. that vaguely sounds like some core vs compatibility profile issue, but idk
[21:37:20] <hhhhhhhhhh> i don't see the point of not compiling with old apis available too
[21:37:24] <hhhhhhhhhh> but that's how it does it :p
[21:37:40] <hhhhhhhhhh> and replacing lib.rs with gl21.rs then recompiling gives you the 2.1 api
[21:37:43] <kimundi> well it compiles
[21:37:52] <zokier`> as for modern ways to use 2.1, you could look at gles2.0, that should give you reasonable subset with less legacy cruft
[21:38:21] <zokier`> hhhhhhhhhh, what OS are you on?
[21:38:22] <kimundi> AH, righjt I should try if gles2.0 works at least - then I can use that
[21:38:30] <hhhhhhhhhh> zokier`: linux
[21:39:03] <kimundi> I assume I need something different than gl-rs then, like rust-opengles?
[21:39:48] <hhhhhhhhhh> i think you can play with gl-rs/src/gen/*
[21:39:56] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:40:04] <hhhhhhhhhh> to make a loader for the gles api
[21:40:10] <zokier`> point was that gles2 is essentially just regular 2.x without legacy bits, you should be able to use regular gl like gles
[21:40:36] *** Quits: hhhhhhhhhh (mike@moz-C957E6A8.stcatz.ox.ac.uk) (Quit: WeeChat 0.4.3)
[21:41:04] <kimundi> zokier`: hm...
[21:41:09] <cmr> gl-rs doesn't build in every gl function because it gets ****huuuuuge**** and takes forever to compile.
[21:41:22] <cmr> but you can tell it to emit support for everything ever supported...
[21:41:22] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[21:43:03] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[21:44:11] * kimundi wishes this stuff would just work out of the boy for him
[21:44:16] <kimundi> box*
[21:47:40] <kimundi> cmr anyway to remove things installed with cargo-lite? :P
[21:48:06] <cmr> rm :(
[21:48:17] <cmr> it keeps track of the files it installs so a cargo-lite uninstall would be possible.
[21:48:21] <cmr> just haven't implemented it yet.
[21:49:25] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[21:49:50] <kimundi> Alternatively: How do I get rustc to choose a crate from a list of all it can see? If I pass two paths withs -L, does it pick the first one, or does it error?
[21:50:18] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[21:50:57] <cmr> it errors if it finds more than one
[21:51:17] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[21:51:58] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[21:52:18] <zokier`> this talk about gl versions makes me wonder if there is a opengl analysis tool that could warn about legacy stuff (and possibly about too cutting edge too)
[21:53:28] <o11c> with a couple of technicalities, working against gles2 is the most compatible
[21:53:38] <o11c> it's pretty hard to accidentally use gl1 interfaces
[21:53:40] <cmr> gl-rs just makes you generate the exact set of versions + extensions you want.
[21:53:52] <cmr> but I agree, gles2 is the baseline for a portable, modern gl right now...
[21:54:01] *** Quits: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[21:54:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:54:35] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:54:42] * o11c can't wait for a new mesa version that supports his card in GL4 mode instead of software emulation of GL2
[21:55:20] <cmr> what card do you have?
[21:55:37] <cmr> I don't know of any that require swrast when the hardware supports 3.1+
[21:55:48] <cmr> (with recent mesa/kernel)
[21:55:49] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:56:19] <o11c> Radeon HD 8610G
[21:56:37] <kimundi> Hm, I wonder if I can just include the generated gl.rs as a regular module...
[21:56:38] *** Quits: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[21:56:41] <o11c> I'm using mesa 9, because mesa 10 is still in debian experimetnal
[21:57:11] <cmr> ah, APU
[21:57:34] <o11c> I haven't found an answer about whether mesa 10 will even support it
[21:57:58] <o11c> right now, I'm just happy that it doesn't crash X all the time like the proprietary driver did
[21:58:24] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:58:36] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[21:59:23] <cmr> judging by phoronix (...ugh), kernel 3.13 + mesa 10.1 does the job: http://www.phoronix.com/scan.php?page=article&item=amd_apu_1310&num=2
[21:59:26] <zokier`> sorry to disappoint, but afaik mesa doesn't do gl4.x on any hardware yet
[21:59:32] <cmr> no, it doesn't.
[21:59:40] <cmr> they're 3.3 + extensions right now.
[22:00:22] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[22:00:23] <o11c> well, it's the 3 I care about more than the 4
[22:00:31] <cmr> yup
[22:00:36] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:01:05] *** Parts: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net) ()
[22:01:09] <cmr> I think with recent mesa and kernel, all recent AMD chips are supported, but I'm not certain of that.
[22:01:39] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:04:00] <o11c> okay, I'll schedule some time to try to get it working them
[22:04:23] <cmr> fwiw you don't need a globally installed mesa to test it out.
[22:04:58] <cmr> you can set LIBGL_DRIVERS_PATH to the build dir that has the dri.so stuff.
[22:06:01] <o11c> well, I don't have that kernel either yet
[22:07:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:08:21] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[22:14:35] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:16:10] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:23:08] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[22:28:33] *** Quits: Ferreus (ferreus@moz-7218DD5.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:38:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:44:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:45:52] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:45:53] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[22:45:53] *** ChanServ sets mode: +qo pcwalton pcwalton
[22:46:46] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[22:48:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:51:22] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:53:02] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:00:12] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:02:44] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:03:31] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[23:05:14] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[23:06:56] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[23:06:58] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[23:09:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:10:06] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[23:10:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:13:00] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[23:13:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[23:14:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:15:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[23:26:59] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[23:32:14] *** Joins: keret (Mibbit@14776E7E.21CB5B37.FCAAE698.IP)
[23:32:16] *** Quits: keret (Mibbit@14776E7E.21CB5B37.FCAAE698.IP) (Quit: keret)
[23:34:39] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[23:45:55] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:52:10] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[23:53:50] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:57:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:57:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
