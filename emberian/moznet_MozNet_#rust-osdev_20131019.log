[00:04:40] *** Joins: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca)
[00:30:08] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[00:33:44] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[00:46:55] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[01:54:34] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Quit: geoffhill)
[02:22:35] *** Quits: kimundi (kimundi@moz-729E00E8.dip0.t-ipconnect.de) (Ping timeout)
[02:26:21] *** Joins: kimundi (kimundi@moz-D33AF750.dip0.t-ipconnect.de)
[02:30:20] *** kimundi is now known as zz_kimundi
[02:37:15] *** zz_kimundi is now known as kimundi
[03:28:13] *** Quits: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca) (Quit: canhtak)
[03:36:55] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[03:38:54] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[03:41:17] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[03:49:08] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[03:54:59] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[04:19:23] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:47:34] *** Joins: dim7th (Mibbit@moz-CCA5E396.tokyo.ocn.ne.jp)
[04:48:04] *** Quits: dim7th (Mibbit@moz-CCA5E396.tokyo.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[05:14:49] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[05:14:49] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[05:20:31] *** Joins: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[05:20:34] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[05:53:37] *** Quits: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net) (Ping timeout)
[06:33:13] <devbug> pcmattman: Serious?
[06:33:32] <pcmattman> about the optimisation?
[06:33:36] <devbug> pcmattman: yep
[06:33:42] <devbug> That's like super duper constant folding
[06:33:45] <pcmattman> yup!
[06:33:58] <pcmattman> I imagine it happened at the bitcode level.
[06:34:11] <devbug> pcmattman: I'd hope so
[06:34:23] <devbug> I guess you could always try that w/ julia or w/e
[06:34:24] <pcmattman> and had I not passed inline(never) as an attribute, it would've just inlined it
[06:36:10] <devbug> pcmattman: are you just doing a monolithic kernel?
[06:36:33] <pcmattman> aye, nothing hugely exciting
[06:36:50] <devbug> pcmattman: that's quite a rustic design
[06:36:51] <pcmattman> I'm actually quite interested in the SAS possibilities Rust might be able to offer.
[06:36:55] * devbug will hang himself later
[06:37:05] <pcmattman> aww yiss, that was a pun
[06:37:13] <pcmattman> the worst of the worst puns
[06:37:19] <devbug> Such is my trade.
[06:37:23] <pcmattman> but now I know how to explain the name to anyone, so cheers
[06:37:30] <devbug> lol
[06:37:36] * pcmattman loves awful puns so I appreciate :)
[06:37:53] <devbug> pcmattman: Your logo should be a tomato
[06:39:06] <devbug> fun fact: as tomatos belong to the nightshade family, when introduced (to Italy) they were used as decorations
[06:39:34] <devbug> it was only after a _long_ time that Italians started to eat 'em
[06:39:56] <pcmattman> good thing they did
[06:39:58] <pcmattman> so tasty
[06:40:01] <devbug> thus, the pun works on many levels
[06:40:47] <pcmattman> indeed
[06:40:50] <pcmattman> it just keeps getting deeper
[06:41:13] <eddyb9> devbug: hehe, try to explain an OS named "pedigree"
[06:41:29] <devbug> eddyb9: oh, good ol' J
[06:41:46] <devbug> eddyb9: Does he still work on it?
[06:42:01] <devbug> Pedigree that is, not trying to to explain it...
[06:42:09] <eddyb9> devbug: jmolloy? nope
[06:42:16] <devbug> :(
[06:42:21] <devbug> It's 'cause he used C++
[06:42:57] * devbug is totally not biased whatsoever
[06:43:17] <eddyb9> devbug: me and pcmattman were left on it, and it kinda went dead
[06:43:21] <devbug> pcmattman: will you implement unsafe enums then?
[06:43:34] <devbug> eddyb9: :(
[06:43:37] <eddyb9> devbug: well, you know it's beer and not dogfood, right?
[06:43:46] <devbug> eddyb9: Ever touch PPC?
[06:43:57] <eddyb9> nope
[06:44:02] <devbug> eddyb9: no I did not.
[06:44:12] <pcmattman> it's not dead anymore :( it is in fact not far from being installed as a day-to-day use system on one of my boxes here
[06:44:29] <eddyb9> pcmattman: yeah, you're a necromancer :P
[06:45:14] <devbug> eddyb9: but pcmattman doesn't have an awesome white beard and wizard hat, does he?
[06:45:30] <pcmattman> that you know of!
[06:45:34] <eddyb9> it's really my fault, I wish school wasn't sucking my time and will to live
[06:46:03] <devbug> Seriously though, guys, https://github.com/mozilla/rust/issues/5492
[06:46:08] <devbug> Implement it
[06:46:36] <pcmattman> interfacing with c unions
[06:46:41] <pcmattman> ... interesting
[06:46:46] <devbug> pcmattman: multiboot
[06:46:56] <pcmattman> but sort of unnecessary, surely?
[06:46:59] <devbug> pcmattman: nope
[06:47:04] <devbug> I have to resort to a C shim
[06:47:10] <pcmattman> really?
[06:47:32] <pcmattman> I mean, sure, yes that makes sense
[06:47:34] <devbug> Well, what's his face
[06:47:45] <devbug> (Was it the gecko guy?) offered me a "solution"
[06:47:47] <pcmattman> wait are we coming into rust or going out of rust?
[06:47:50] <devbug> it was a dirty hack
[06:47:59] <devbug> pcmattman: into
[06:48:02] <eddyb9> devbug: why no dogfood joke about pedigree?
[06:48:08] <devbug> https://github.com/mtwilliams/iron/blob/master/include/multiboot.h#L161
[06:48:10] <pcmattman> ahh
[06:48:19] <devbug> eddyb9: It's 11:50pm on a Friday
[06:48:46] <devbug> I have the sleep debt, of like, a day.
[06:50:22] <eddyb9> devbug: since you brought up jmolloy, I have improved something he came up with http://forum.osdev.org/viewtopic.php?f=15&t=20878&p=228353#p228353
[06:50:40] <devbug> I can't think of one... let's see: I guess Pedigree was doomed from the start; <insert reference to inbreeding and eugenics resulting in hereditary helath issues>
[06:50:53] <dbaupp> C unions can be done by something like http://www.reddit.com/r/rust/comments/1lpmrx/storing_structsenums_of_structs_more_compactly_in/ btw
[06:51:10] <devbug> dbaupp: haha
[06:51:20] <devbug> I love the use of ~, @, and &
[06:51:48] <devbug> dbaupp: That's still pretty darn disgusting
[06:52:06] <devbug> You've got to manually handle alignment and all that good stuff
[06:52:36] <eddyb9> for unions, you can just cast pointers to structs
[06:52:45] <eddyb9> or transmute by value
[06:53:39] <devbug> eddyb9: I will confese, I haven't read pedigree's source... much.
[06:53:58] <devbug> s/confese/confess/
[06:54:02] <dbaupp> devbug: yes, but C-unions are pretty disgusting to begin with :P
[06:54:11] <devbug> dbaupp: perhaps, perhaps not.
[06:54:40] <dbaupp> devbug: from a type system point of view
[06:55:11] <eddyb9> you can wrap two types, and implement a method on the wrapper to give you one of the types
[06:55:16] <devbug> dbaupp: It just specifes a mutually exclusive collection of types
[06:55:47] <devbug> It's not that bad, really
[06:56:04] <eddyb9> mutually failing at safety, too
[06:56:10] <devbug> ninja'd
[06:56:38] <devbug> then you have the issues of construction and such (when you're talking C++)
[06:57:05] <devbug> then the lack of guarantees that are associated
[06:57:28] <devbug> A naive and optimistic me would hazard a guess that there is a better solution
[06:58:08] <devbug> which you'd most likely find in some esoteric functional language from the 60s
[06:58:18] <eddyb9> devbug: rust enums
[06:58:41] <devbug> eddyb9: along with matching, they are rather powerful
[06:58:46] <eddyb9> or haskell types, as they were the inspiration for haxe and rust enums, AFAIK
[06:58:49] <devbug> def. a good replacement
[06:59:04] <devbug> but, alas, interfacing w/ old systems code :S
[06:59:32] <dbaupp> only interface with new systems code \o/
[07:00:41] <devbug> eddyb9: I'm still awaiting my answer
[07:00:55] <devbug> I suppose I could run a blame on pedigree's ppc code
[07:01:01] <devbug> but, uhm, any docs on ppc?
[07:01:06] <eddyb9> pedigree has ppc?
[07:01:31] <eddyb9> I never built anything for ppc, must've forgotten it exists
[07:01:34] <devbug> http://pedigree-project.org/projects/pedigree/repository/revisions/master/entry/src/system/kernel/core/processor/ppc_common/
[07:02:00] <pcmattman> that was all jamesm
[07:02:15] <pcmattman> and is also a massive walk down memory lane
[07:02:16] <pcmattman> wow
[07:03:22] <devbug> The nostalgic kind, or the "holy crap! i'm getting old" kind?
[07:03:44] <eddyb9> aaah, he was jamesm, not jmolloy. that explains why my grep failed
[07:04:21] <eddyb9> shall I point out the ZOMG Barbie comment in debugger.cc?
[07:04:52] <devbug> eddyb9: hmmm?
[07:05:12] <pcmattman> nostalgic
[07:05:24] <devbug> Ooh! Pedigree is on github
[07:05:46] <pcmattman> aye
[07:06:31] <eddyb9> more like a mirror these days
[07:07:35] <devbug> Interesting.
[07:07:41] <devbug> It's still being developed
[07:07:54] <pcmattman> yes, I pushed a few changes just a few days ago
[07:08:26] <devbug> https://github.com/jmolloy/pedigree/graphs/contributors
[07:08:33] <devbug> You've touched more code than J.
[07:09:21] <devbug> Or was the history squashed prior to the mirror?
[07:10:51] <pcmattman> no, mirror is pure
[07:10:53] <eddyb9> devbug: pedigree was on github, then on redmine
[07:10:57] <devbug> https://github.com/jmolloy/pedigree/commits/master?page=75
[07:11:14] <devbug> wow
[07:11:16] <pcmattman> and the whole thing is pure as well, with a full history import from SVN from way back when we switched to git
[07:11:30] <eddyb9> devbug: http://pedigree-project.org/projects/pedigree/repository/revisions/master/entry/src/system/kernel/debugger/Debugger.cc#L101
[07:13:18] <devbug> eddyb9: lol. grep for profanity?
[07:14:11] <pcmattman> to be fair the comment is totally correct
[07:14:34] <eddyb9> I will go OCD on rustic every so often
[07:14:42] <pcmattman> but if you  break the runtime debugger, life becomes miserable
[07:15:09] <devbug> Wait, wait.
[07:15:25] <devbug> Are the XxxCommands hiding stuff inside their constructors?
[07:15:43] * pcmattman recommends not reading some of that code
[07:16:29] <devbug> I'll just let it trickle down trough rustic
[07:16:41] <pcmattman> ;)
[07:16:54] <devbug> Oh, and for the love of God.
[07:17:12] <devbug> Please don't use rdtsc for high-resolution timing
[07:17:23] <pcmattman> is that being used for hires timing?
[07:17:39] <devbug> pcmattman: I don't know about Pedigree
[07:17:41] * devbug checks
[07:17:55] <pcmattman> only in sqlite3 according to a quick grep, thank goodness
[07:18:32] <pcmattman> only use rdtsc for hires timing if CPUID specifies that the frequency is constant
[07:18:43] <eddyb9> if you're compiling a list of things one shouldn't do, let me give you a stack of paper
[07:18:47] <pcmattman> otherwise experience happy fun times when frequency scaling happens
[07:18:54] <eddyb9> and a heap of pens
[07:19:17] <devbug> pcmattman: yep
[07:19:20] <devbug> or affinity issues
[07:19:41] <eddyb9> pcmattman: kernel-level time dilation?
[07:19:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[07:20:05] <pcmattman> the thing that pissed me off in my... other kernel project (I have too many?) was calibrating the local APIC timers, and calibrating the HPET
[07:20:17] <pcmattman> calibrating the HPET might have been a nightmare and not actually a real thing you have to do
[07:20:34] <devbug> This is why Microsoft derserves to burn in hell.  QueryPerformanceCounter uses rdtsc (no cpuid for ordering).
[07:20:57] <devbug> Not to mention the resolution sucks.
[07:21:02] <pcmattman> to be fair the name of the function is query performance counter, and their multimedia hires timer stuff uses the HPET
[07:21:14] <devbug> pcmattman: nope
[07:21:17] <devbug> It should.
[07:21:24] <pcmattman> are you sure about that?
[07:21:32] <devbug> pcmattman: I stepped through with a debugger.
[07:21:45] <pcmattman> :(
[07:22:01] <eddyb9> devbug: in this case, "high" in highres has a different meaning
[07:22:02] <devbug> Apparently it's Windows flaking out at boot...
[07:22:06] <devbug> eddyb9: haha
[07:22:49] <devbug> Apparently GetSystemTimeAsFileTime has a 100ns resolution
[07:23:21] <pcmattman> FAT has a 2s resolution :3
[07:23:34] <eddyb9> it's fat, moves slow
[07:23:47] <eddyb9> devbug: that name shouldn't exist
[07:23:50] <devbug> pcmattman: guess what GetSystemTime's resolution is
[07:23:56] <pcmattman> 1s?
[07:24:02] <devbug> pcmattman: 1ms
[07:24:07] <pcmattman> yaaay consistency
[07:24:09] <devbug> Figure that one out.
[07:24:16] * pcmattman ported Windows software to OSX this year
[07:24:28] <devbug> Fun.
[07:24:30] <pcmattman> that was traumatic.
[07:24:36] <devbug> At least mach is sane w/ timing
[07:24:42] <pcmattman> yeah
[07:24:56] <pcmattman> to emulate what the software expected of windows I had to use pthread_cancel a lot :(
[07:25:00] <devbug> Even Linux is
[07:25:15] <pcmattman> I'm going to stop talking about this because bad bad memories
[07:25:16] <devbug> I get ~5 ns resolution :P
[07:25:37] <devbug> I'm suprised electrons travel far enough for that to happen
[07:25:55] <pcmattman> not far to travel
[07:26:01] <devbug> pcmattman: yep
[07:26:13] <eddyb9> *fast
[07:26:15] <devbug> I guess I'm just used to Window's overhead
[07:26:51] <eddyb9> 1ns is 1GHz
[07:27:18] <eddyb9> so 5ns needs a 200MHz clock
[07:27:51] <eddyb9> it'll be shit once we get 100+GHz CPUs
[07:27:58] <devbug> lol
[07:28:11] <pcmattman> nah, you're not going to see much faster than where we're at now, paralle is the key
[07:28:13] <pcmattman> parllel
[07:28:18] <pcmattman> damn everything about that word
[07:28:20] <pcmattman> parallel.
[07:28:36] <eddyb9> pcmattman: check out CNTs
[07:28:37] <devbug> GetProcAddress(LoadLibraryA("ntdll.dll"), "NtSetTimerResolution") :P
[07:28:52] <pcmattman> far more useful to spread out and parallelise than it is to have one insanely fast cpu, imho anyway
[07:29:03] <eddyb9> IBM managed to do a hifreq demo a few years ago
[07:29:09] <devbug> pcmattman: hey man! don't lie! I can still hope that my serial code will just get faster!
[07:29:20] <eddyb9> pcmattman: well, they have the potential of also being cheap and smaller
[07:29:40] <pcmattman> sure, and technically slower when you run a highly-parallel workload on them :)
[07:29:41] <eddyb9> heck, with the right tech, you can make CPU out of "thin" air
[07:30:49] <devbug> eddyb9: I don't think breathing in Si is a good idea
[07:30:50] <eddyb9> (add an indefinite article or a plural there)
[07:31:01] <eddyb9> devbug: I already said CNTs
[07:31:07] <eddyb9> it's all carbon
[07:31:55] <dbaupp> breaking in C still isn't great
[07:32:01] <dbaupp> *breathing
[07:32:15] <devbug> eddyb9: evanescent as cold-fusion, or even year of linux desktop
[07:32:28] <devbug> dbaupp: was that a pun?
[07:33:16] <eddyb9> don't make me look that word up, you smart pants
[07:33:39] <dbaupp> devbug: ermm.. if I say yes, will you believe me?
[07:34:05] <eddyb9> I would love to work in research, but I'm just a nobody
[07:34:19] <eddyb9> dbaupp: you breath out CO2 all the time
[07:34:27] * dbaupp knows that
[07:34:36] <devbug> dbaupp: Well, you can never have C2+
[07:34:37] <dbaupp> but you don't breathe in soot/pure carbon much
[07:34:54] <devbug> So, no C++ jokes
[07:35:13] <devbug> No, wait
[07:35:18] * devbug is being stupid
[07:35:32] <devbug> Ignore my knowledge of oxidation states
[07:35:59] <eddyb9> dbaupp: at some point, we'll be able to grow devices out of the CO2 in the air
[07:36:22] <devbug> eddyb9: Don't hold your breath, though.
[07:37:14] <pcmattman> oh man
[07:37:17] <eddyb9> http://www.chalmers.se/en/news/Pages/Graphene-Flagship-has-set-sails.aspx
[07:37:20] <pcmattman> the puns, I love the puns
[07:37:32] <devbug> pcmattman: :)
[07:37:36] * eddyb9 would love to sail with them
[07:37:37] <devbug> Speaking about respiration
[07:37:50] <devbug> If you want to loose weight, breathe faster.
[07:38:24] <devbug> eddyb9: I don't see why you can't become a researcher
[07:38:48] <eddyb9> oh you want me to tell the story of my life?
[07:38:58] <devbug> eddyb9: Well, how long have you lived?
[07:39:13] <devbug> It might take a while...
[07:39:34] <devbug> (this ofcourse depends on how much detail is used)
[07:39:46] <eddyb9> devbug: in years or seconds? the former is not that impresive
[07:40:03] <eddyb9> there's a wiki page on the pedigree project site
[07:40:16] <eddyb9> I've updated it earlier this year
[07:40:37] <devbug> eddyb9: in Lunar months?
[07:40:59] <eddyb9> devbug: nah. it's nothing impressive, just me bitching about my inabilities
[07:40:59] <devbug> or http://en.wikipedia.org/wiki/Planck_time
[07:41:07] <devbug> eddyb9: hmm?
[07:41:20] <eddyb9> that last one reminds me of minecraft ticks :P
[07:41:24] <devbug> Undergrad wherever, do some work, masters & phd
[07:41:38] <eddyb9> and I read "Lunar moths"
[07:42:35] <devbug> eddyb9: Oh Minecraft!
[07:42:56] <devbug> 90% of my playtime is attributable to redstone
[07:43:21] <eddyb9> I was the first user of analog redstone, before it was public
[07:43:34] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[07:43:37] <eddyb9> (I gave drawings for ADC and DAC to Dinnerbone)
[07:44:10] <devbug> Analog redstone?
[07:44:42] <devbug> what
[07:44:45] <devbug> eddyb9: wait
[07:44:52] <eddyb9> but I'd be basically repeating what I've said in #pedigree and other places. one of the topics being that I don't think I can take much more school. and if I manage to finish highschool, I'm not sure what I'm going to do
[07:44:57] <devbug> Do you abuse the fact signals only travel 15 blocks?
[07:45:11] <eddyb9> devbug: the new comparator
[07:45:31] <devbug> eddyb9: I quit Minecraft in late beta, iirc
[07:45:31] <eddyb9> lets to transport, compare and subtract 4bit values
[07:45:41] <devbug> eddyb9: awh :(
[07:45:43] <eddyb9> transport includes storage, with a loop
[07:45:47] <devbug> no more homegrown adders
[07:46:00] <eddyb9> (yeah, the signal strenght)
[07:46:24] <devbug> interesting
[07:46:49] <devbug> I actually figured out a more efficent latch
[07:46:56] <devbug> I think I've lost the screenshot
[07:47:14] <eddyb9> I planned an entire 8051 clone, but they didn't implement one crucial feature they were considering: infinite length, straight-only wire
[07:47:15] <devbug> eddyb9: You're still in Highschool?
[07:47:33] <eddyb9> last year
[07:47:36] <devbug> same
[07:47:47] <eddyb9> I was in pedigree when I was 12-14, IIRC
[07:47:58] <devbug> :)
[07:48:17] <devbug> eddyb9: I don't think you could handle OS 101 :P
[07:48:41] <eddyb9> but I'll be 18 in less than a month and I've got nothing to show for it
[07:48:53] <devbug> eddyb9: bullshit
[07:49:08] <devbug> Just start contributing to Linux a lil'
[07:49:34] <devbug> Then go cold-email everyone you can think of
[07:49:57] <eddyb9> americans joke about McDonalds, but here, if I don't pass the highschool graduation exam, I couldn't work even there
[07:50:04] <eddyb9> devbug: Google mailed me
[07:50:12] <devbug> eddyb9: eugh
[07:50:22] <devbug> Are they still doing blind assignments?
[07:50:24] <eddyb9> but they wanted something like a senior engineer
[07:50:45] <eddyb9> automated email just because I have a github account
[07:51:01] <devbug> eddyb9: I'm north of you.  I understand
[07:51:15] <eddyb9> my gf (now ex) and my CS teacher were hyped about that stupid email
[07:51:20] <devbug> I however, don't have to deal with the crippling debt
[07:51:32] <eddyb9> devbug: ukraine?
[07:51:42] <devbug> eddyb9: oh woops
[07:51:50] <devbug> Read your sentence wrong :P
[07:52:06] <devbug> I thought you lived in America
[07:52:38] <devbug> Well, then, eddyb9: start an online poker service.
[07:52:46] <eddyb9> one of my middle school classmated moved to US, and now she's in uni, because she graduated highschool early
[07:53:07] <devbug> Or become an excellent modern violinist...
[07:53:18] <eddyb9> devbug: oh, that reminds me I had plans with a wow gold bot
[07:53:46] <devbug> eddyb9: ah, yiss
[07:53:53] <eddyb9> but so I don't have to shitdive IDA after each patch, I needed a decompiler. so I started writing one
[07:53:58] <devbug> I remember my days of writing video game bots & hacks
[07:53:59] <Luqman> eddyb9: you've plenty more to show for than i did when i was 18 :P
[07:54:12] <eddyb9> I have so many unfinished projects :(
[07:54:18] <devbug> eddyb9: was your plan full automation?
[07:54:25] <devbug> I've seen some people throw in recast and such
[07:54:37] <eddyb9> devbug: in the bot? maybe
[07:54:46] <devbug> slightly relevant: http://www.youtube.com/watch?v=-oxQMwoJiGg
[07:55:03] <eddyb9> on the phone, will watch later if I can remember
[07:55:25] <devbug> eddyb9: Eurovision
[07:55:38] <ldunn> that looks like a good way to make yourself dizzy
[07:55:39] <dbaupp> 10hours of a 5second click on repeat
[07:55:49] <devbug> https://www.youtube.com/watch?v=8h_hN0xQYv4
[07:55:53] <devbug> ^ The whole song.
[07:56:56] <eddyb9> Luqman: still doesn't change the fact that I didn't finish anything and my life is pretty much headed for ruin
[07:57:16] <devbug> eddyb9: don't be like that
[07:57:24] <devbug> I'm sure Mozilla will take you
[07:58:23] <eddyb9> I'm a repository of ideas to be tried and an example of failing human nature
[07:59:06] <eddyb9> devbug: there's things I could do if I didn't have this stupid school to attend
[07:59:58] <devbug> eddyb9: Is there not an equivalent of the GED where you live?
[08:00:28] <eddyb9> and even better, get me out of this bloody city. my ADHD needs a large wild space to manifest
[08:01:35] <eddyb9> devbug: prolly not, let me look it up
[08:03:38] <eddyb9> devbug: BAC here (from Bacalaureat), that's the highschool graduation exam I was talking about
[08:03:53] <devbug> IB?
[08:04:04] <eddyb9> devbug: you need to finish all 12 years of school to take it
[08:04:19] <devbug> If you're refering to the IB programme, then ouch.
[08:04:56] <eddyb9> not sure what IB is. ooh, GED is when you don't have a highschool diploma
[08:05:02] <eddyb9> so no GED here
[08:05:06] <devbug> eddyb9: :(
[08:05:17] <devbug> eddyb9: Where do you live?
[08:05:45] <devbug> eddyb9: France?
[08:06:01] <eddyb9> Romania
[08:06:12] <eddyb9> hence Ukraine in the North
[08:06:17] <devbug> Ah.
[08:06:39] <devbug> You could always start drawing (http://www.youtube.com/user/ZoocDoesStuff)
[08:06:52] <devbug> Is it kinda like A-levels?
[08:07:40] <eddyb9> we have some choices, I'll go with Romanian+Maths (these are mandatory) and "Informatics" which is pretty much CS
[08:08:18] <dbaupp> devbug: http://en.wikipedia.org/wiki/Romanian_Baccalaureate
[08:08:36] <eddyb9> when I went to this highschool, I had dreams of training code warriors :P. oh silly me I feel like killing the teachers sometimes
[08:08:44] <eddyb9> dbaupp: oh that's a thing?
[08:09:05] <eddyb9> let me check for accuracy
[08:09:17] <devbug> dbaupp: hmm
[08:09:21] <devbug> Doesn't look that bad
[08:09:42] <dbaupp> eddyb9: is Romania enough of an EU member to allow you to go to university in other EU countries easily?
[08:09:51] <devbug> The Wikipedia article is rather sparse...
[08:10:04] * dbaupp doesn't quite understand the EU uni system
[08:10:11] <eddyb9> pcmattman: keep in mind I know how to do HID, so I might rip some of your code apart, no hard feelings
[08:10:46] <devbug> dbaupp: that is an option
[08:10:47] <eddyb9> dbaupp: not sure, I doubt I could get anywhere without a buttload of money
[08:11:14] <eddyb9> money which I don't have, otherwise I wouldn't be bitching about my insignificant life on IRC
[08:11:32] <dbaupp> eddyb9: ah, that's always an obstacle. what about scholarships?
[08:12:10] * dbaupp is sure there would be institutions that would pay to take someone with your skills
[08:12:23] <eddyb9> who'd give me one, I'm not a nerd
[08:12:36] <devbug> dbaupp: hell, tied scolarships (is that what they're called?) would def. want eddyb9
[08:12:42] <eddyb9> tied?
[08:13:03] <devbug> eddyb9: we'll pay/help you pay for school on the condition you come and work for us
[08:13:07] <dbaupp> eddyb9: don't have to be a nerd, but hacking around on OSes from 12 is fairly impressive
[08:13:31] <eddyb9> all I know is that my school performance sucks, so not getting a scolarship for that
[08:14:09] <devbug> eddyb9: sports?
[08:14:27] <eddyb9> and I've said it before, I don't think I could take more school, however good it was
[08:14:30] <devbug> (That's bigger NA, though)
[08:14:37] <eddyb9> devbug: what do you mean?
[08:14:59] <devbug> eddyb9: have you taken and/or excelled at any sports?
[08:15:50] <eddyb9> not really
[08:15:59] <devbug> There's also minority scolarships
[08:17:13] <eddyb9> nope
[08:17:46] <pcmattman> eddyb9: when you refer to HID, you're referring to the abysmal and disgusting keymaps that are present in rustic now?
[08:17:47] <dbaupp> "nope"? there is minority scholarships
[08:17:48] <eddyb9> the wiki page is slightly confusing, but fyi, I'm in a "maths and CS" highschool
[08:17:55] <pcmattman> because feel free to rip that apart.
[08:18:13] <eddyb9> dbaupp: as in, I'm not part of any minority
[08:18:35] <dbaupp> eddyb9: I'm sure some of the western europe unis have scholarships for eastern europeans
[08:18:39] <eddyb9> other than maybe "hackers with ADHD"
[08:18:52] <eddyb9> dbaupp: oh, that sounds interesting
[08:19:37] <devbug> dbaupp: this
[08:21:56] <eddyb9> if I could go anywhere, I'd probably go to MIT. although I'd be shadowed there
[08:22:30] <dbaupp> eddyb9: http://www.bradford.ac.uk/fees-and-financial-support/university-scholarships-and-support/eu-grant-for-students-from-eastern-europe/
[08:22:39] <devbug> eddyb9: Oh, for Christ's sake man! You're talentend, and capable.
[08:22:47] <dbaupp> eddyb9: http://www.studyinnorway.no/Tuition-Scholarships/Scholarships "The Norwegian government provides scholarships for students from developing countries and countries in Eastern Europe [...] Currently, the scheme provides full scholarships for a total of 1 100 students, of which 800 are from developing countries and 300 from Eastern Europe and Central Asia"
[08:22:58] <eddyb9> hmmm
[08:23:06] <dbaupp> eddyb9: just from "scholarship eastern europe undergraduate" in google :)
[08:23:27] <eddyb9> I'd google, but I'm still reading pcmattman's commits
[08:23:31] <dbaupp> well "scholarship for eastern european students undergraduate" to be precise
[08:24:16] <eddyb9> but that means I have to get through this last year of highschool, doesn't it?
[08:24:38] <devbug> eddyb9: unfortunately, yes.
[08:24:40] * dbaupp assumes so
[08:26:05] <eddyb9> I have a bunch of projects that could attract some attention, if they get work put into them
[08:27:11] <eddyb9> heck, I have a nifty bindings system that makes node.js C++ code look like spaghetti, but they got the publicity and I had not enough time
[08:27:31] <eddyb9> now the original dev works for joyent
[08:28:17] <dbaupp> someone else writing worse code first shouldn't stop you writing better stuff :)
[08:29:02] <eddyb9> I have that decompiler, wiREd (if you want to look on my github), with one or two months of focused work, you would have the best decompiler in existance
[08:29:09] <eddyb9> well, the only true one
[08:29:39] <eddyb9> people are still paying 4k on IDA+HexRays, and that can't do shit
[08:30:31] <eddyb9> but with school as a brick wall in my face, I'm almost useless
[08:30:39] <devbug> eddyb9: Is there a libwired?
[08:30:49] <eddyb9> no, why?
[08:31:01] <devbug> eddyb9: would be useful.
[08:31:22] <eddyb9> (the thing itself is modular, but right now it's not exactly structured)
[08:31:42] <devbug> The way I see it is:
[08:31:42] <devbug> 1. Get through the final year of secondary school.
[08:31:42] <devbug> 2. Start looking for employment and/or internship opportunities and apply (research would be great).
[08:31:42] <devbug> 3. Start buffing up your academics and start applying to every and all scholarships.
[08:31:42] <devbug> 4. Prepare for your final exams.
[08:31:42] <devbug> 5. Start cold-emailing any and everyone that can help.
[08:31:44] <devbug> 6. Start polishing one project.
[08:32:11] <devbug> I recognize that #2 is harder in Eastern Europe
[08:32:36] <eddyb9> there's a 7
[08:33:05] <eddyb9> drop from highschool and hope I can skydive
[08:33:09] <devbug> Really, though. Contributing to an open-source project like Pedigree already puts you up there
[08:34:39] <Leo`> hey
[08:35:34] <eddyb9> devbug: there's a chance my masterplan - or at least enough of it so I can live decently and do something I like - would work
[08:35:56] <devbug> eddyb9: I may be steping out of line, but, do you have parental pressue?
[08:36:03] <eddyb9> the uncertainty is why I haven't shed my shell yet
[08:36:26] <devbug> There's a reason the hardass Eastern European parent sterotype exists.
[08:36:26] <eddyb9> devbug: don't worry, we all know how parents can be
[08:36:40] <eddyb9> lol, never heard of it
[08:36:56] <eddyb9> devbug: they want me to at least finish highschool
[08:37:12] <devbug> It seems quite pervasive through Eastern European cultures
[08:37:16] <eddyb9> they say that these years would go to waste
[08:37:34] <eddyb9> devbug: it's not the cultures, it's the communism :(
[08:37:44] <Leo`> which country are you from eddyb9 ?
[08:37:45] <devbug> eddyb9: both feed each other.
[08:37:51] * Leo` missed the beginnign of the discussion
[08:38:12] <Leo`> beginning*
[08:38:17] <eddyb9> 24 years after the "revolution" and our education is still shit
[08:38:19] <devbug> eddyb9: and your parents are right, not finishing highschool is a "waste".
[08:38:26] <devbug> Leo`: Romania.
[08:38:42] <eddyb9> devbug: technically, just one year (11th grade)
[08:38:54] <devbug> Sean Parker is one succesful data-point, out of millions.
[08:39:19] <devbug> And he had a privileged start.
[08:39:41] <eddyb9> who's Sean Parker?
[08:40:18] <devbug> eddyb9: Napster, mid-to-late in Facebook, Spotify
[08:40:24] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[08:41:12] <eddyb9> ooh, I've watched The Social Network, that was his name?
[08:41:57] <devbug> The Social Network isn't factually accurate.
[08:42:04] <devbug> eddyb9: and yes.
[08:42:16] <devbug> I think Michael Dell is another data-point.
[08:42:18] <mcpherrin> I've met the real Sean Parker briefly and it's weird.  I associate his name with the movie representation now
[08:42:27] <devbug> mcpherrin: Go on.
[08:42:50] <eddyb9> devbug: what's with your data points?
[08:44:25] <mcpherrin> devbug: there's not much more to say
[08:44:45] <mcpherrin> just a weird effect of movie actors
[08:44:55] <devbug> eddyb9: It's my roundabout way of saying, "You have rather slim chance of succeeding w/o your highscool diploma. So, just get it."
[08:45:22] <Leo`> mhhh eddyb9, clang doesn't let me store pointers into compile-time constants at all ><
[08:45:55] <devbug> mcpherrin: I see.
[08:46:25] <eddyb9> Leo`: how so?
[08:46:50] <Leo`> I mean simple void foo() {Â } and the  int a = foo; (at the toplevel)
[08:46:59] <Leo`> test.c:7:9: error: initializer element is not a compile-time constant
[08:47:19] <eddyb9> Leo`: you need a cast
[08:47:23] <devbug> ^
[08:47:24] <devbug> ninja'd
[08:47:24] <Leo`> mhh
[08:47:50] * pcmattman was about to say "hang on, that's not valid rust!" before I saw the extension.
[08:48:03] <Leo`> same error
[08:48:11] <Leo`> looks like clang doesn't allow relocation at all
[08:48:20] <eddyb9> pcmattman: void foo threw me off
[08:48:27] <eddyb9> Leo`: tested it, it can work
[08:48:44] <Leo`> eddyb9: which clang version ?
[08:49:45] <eddyb9> 3.4, whatever my debian server had
[08:49:55] <eddyb9> and I used unsigned long long on 64bit
[08:50:15] <eddyb9> (i.e. uintptr_t)
[08:50:27] <pcmattman> aww that reminds me, I haven't built today's llvm svn trunk, time to turn my macbook into a heater
[08:50:57] <eddyb9> brb, food, otherwise you might want to add "starving" on my list of defects
[08:51:23] <devbug> pcmattman: lol
[08:51:39] <Leo`> mhh it works with uintptr_t
[08:51:54] <Leo`> but not with ints
[08:52:06] <pcmattman> what host architecture?
[08:52:37] <Leo`> also works with uint64_t
[08:52:42] <Leo`> pcmattman: x86_64
[08:53:02] <eddyb9> Leo`: you're compiling for 64 and using int instead of a pointer-sized type?
[08:53:15] <Leo`> yeah
[08:53:19] <eddyb9> Leo`: isn't it obvious that it won't work?
[08:53:26] <Leo`> it should truncate it but work anyway, no ?
[08:53:46] <pcmattman> truncated relocations are unhappy relocations
[08:53:59] <eddyb9> there's no 32bit relocations in x86_64 ELF
[08:54:07] <Leo`> mhhh
[08:54:19] <devbug> Leo`: what are you actually trying to achieve?
[08:54:19] <eddyb9> it would have to point the global at half the relocation
[08:54:37] <pcmattman> I think devbug has the right question.
[08:54:51] <Leo`> i'm trying to figure out what is possible and what isn't
[08:55:12] <devbug> pcmattman: https://www.youtube.com/watch?v=i5j1wWY-qus
[08:55:24] <devbug> Leo` would be the child
[08:56:01] <Leo`> so a constant pointer-to-int cast must only be done with ints and pointers of the same size ...
[08:56:08] <Leo`> devbug: i'm trying to get my PR to work :<
[08:56:14] <devbug> PR?
[08:56:20] <Leo`> pull request
[08:56:33] <devbug> Leo`: link?
[08:56:33] <Leo`> I implemented pointer-to-int casts in constant exprs in Rust
[08:56:47] <Leo`> but it still need some work on it
[08:57:01] <Leo`> https://github.com/mozilla/rust/pull/9909
[08:58:34] <Leo`> eddyb9: clang lets you add but not div in those expressions
[08:59:50] <eddyb9> Leo`: yes. but you can still make llvm segfault with two lines of ll
[09:00:12] <Leo`> mhhh
[09:00:14] <Leo`> and
[09:00:20] <Leo`> in clang the following is not valid :
[09:00:47] <Leo`> uintptr_t a = (uintptr_t) foo; // foo is the function or pointer or whatever
[09:00:49] <eddyb9> grep #rust logs for echo -e ', I pasted the segfaulting testcase there yesterday
[09:01:10] <Leo`> uintptr_b = a + 10; // fails
[09:01:16] <Leo`> a is not a compile-time constant
[09:01:50] <Leo`> this seems reasonable, since a is not know till relocation
[09:01:51] <devbug> Does Clang always compile with "-fPIC"?
[09:01:59] <Leo`> but it works with Rust ...
[09:02:19] <devbug> It should work w/ position dep.
[09:02:47] <devbug> Leo`: is it full constant though?
[09:03:04] <Leo`> no, PIC or no PIC, the compiler is not supposed to know this until link time
[09:03:14] <devbug> or does rust generate the equiv. of: uintptr_t b() { return (a + 10); }?
[09:03:39] <devbug> in which case it's not a const expr
[09:03:41] <eddyb9> Leo`: but the addition works when it's in the same constant?
[09:04:05] <eddyb9> i.e a = foo + 10
[09:04:05] <Leo`> eddyb9: yup
[09:04:24] <eddyb9> Leo`: try clang with -O3
[09:04:26] <Leo`> devbug: no, I don't with this is what happens
[09:04:40] <Leo`> eddyb9: on which code ? 
[09:04:44] <Leo`> with 2 constants ? same error
[09:04:48] <eddyb9> ah
[09:04:51] <devbug> Leo`: sorry, what?
[09:05:00] <eddyb9> and does it really work in Rust?
[09:05:17] <eddyb9> Leo`: it might be constant folding in Rust
[09:06:24] <Leo`> yeah it works in Rust
[09:06:33] <Leo`> and it works by doing something like
[09:06:36] <Leo`> a = foo;
[09:06:38] <Leo`> b = foo + 10;
[09:06:49] <Leo`> replaces a by its expression at compile-time
[09:07:22] <eddyb9> yupp, it's fine
[09:07:28] <Leo`> yep
[09:08:02] <Leo`> so this is perfectly fine when pointers and integers are of the same size
[09:08:05] <Leo`> it comes tricky with de div thing
[09:08:20] <Leo`> the*
[09:08:25] <Leo`> are we sure it's a llvm bug ?
[09:08:42] <Leo`> or is there a good reason to disallow div in relocated expressions ?
[09:08:57] <eddyb9> I have a test-case that crashes llvm, it's a bug
[09:09:19] <Leo`> so you think clang disallow this only to avoid llvm crash ?
[09:09:26] <Leo`> because the error is not very expressive
[09:09:49] <Leo`> it says "initializer is not a compile-time constant" but in theory, div on relocated expressions should be ok
[09:10:19] <eddyb9> not really, the crash probably happens because clang never gets there, so nobody would trip on bad code in LLVM
[09:10:44] <Leo`> by the way how is this implemented in the linker ? I mean, for addition by example
[09:10:45] <devbug> Leo`: constant / var or var / constant|
[09:11:12] <Leo`> devbug: var / constant
[09:11:21] <devbug> Leo`: hmm
[09:11:40] <Leo`> is the linker doing the addition at link-time, or does LLVM inserts code to do it at run time ?
[09:12:03] <devbug> Leo`: That's my question
[09:12:20] <Leo`> well it's easy to see
[09:12:21] <devbug> If you're pos. indep. then you'd have to be doing it runtime, somehow
[09:12:30] <eddyb9> Leo`: relocations can add
[09:12:31] <devbug> (does ELF allow this?)
[09:12:47] <eddyb9> Leo`: and subtract, obviously. but usually that's it
[09:12:47] <devbug> (i.e., does it automagically handle it)
[09:12:59] <eddyb9> devbug: that's how relocations work
[09:13:13] <devbug> eddyb9: I understand relocations
[09:13:36] <devbug> but does ELF handle a + 10?
[09:13:42] <eddyb9> ...
[09:13:44] <devbug> Leo`: objdump, plox
[09:14:07] <eddyb9> devbug: oh, I see the root of your confusion
[09:14:37] <eddyb9> devbug: Rela entries on 32bit ELF, and they're the default on 64bit
[09:14:57] <eddyb9> addend + reloc(symbol)
[09:15:17] <devbug> rela?
[09:15:46] <eddyb9> a from add, addend, additive, whatever
[09:16:07] <eddyb9> I think a plain old Rel still does addition, with the value at the target
[09:17:04] <eddyb9> devbug: relative jumps/calls and a few other things can't work without an add operation
[09:17:14] <devbug> eddyb9: yes, fine
[09:17:24] <devbug> oooh
[09:17:39] <devbug> i see ;)
[09:17:39] <Leo`> ok so we should definitively disallow arithmetic operations other than add and sub on relocated expressions 
[09:18:05] <eddyb9> that's fine, I guess, for most targets
[09:18:07] <devbug> that's pretty darn sneaky, if I may add
[09:18:12] <devbug> /pun
[09:18:22] <pcmattman> (h5)
[09:18:22] <Leo`> so the addition occurs at link time ?
[09:18:36] <devbug> I didn't actually notice that one until too late
[09:18:46] <pcmattman> at load time if it can't be done at link time
[09:18:59] <Leo`> pcmattman: well, yeah, in case of PIC for ex
[09:19:12] <pcmattman> devbug: don't let that subtract from the glory
[09:19:28] <devbug> pcmattman: ;)
[09:19:32] <Leo`> so a relocated expression may be a symbol, or a symbol plus something
[09:19:43] <Leo`> I mean, in the binary
[09:19:54] <pcmattman> sure, or a lookup in the GOT if it's a function call
[09:20:05] <pcmattman> well, in a dispatch table of some sort, the GOT is an ELF thing
[09:20:30] <Leo`> ooookay
[09:20:31] <devbug> It's either s clever repurposing trick, or emergent behaviour (everything in the toolchain lines up)
[09:20:47] <Leo`> so let's implement all this is Rustc now
[09:21:00] <Leo`> I guess I'll have to modify the const_check thing 
[09:22:57] <devbug> eddyb9: https://github.com/eddyb/wiREd
[09:23:01] <eddyb9> pcmattman: why u no merge my pullreq? now I need to rebase :/
[09:23:02] <devbug> Got a screenshot?
[09:23:40] <devbug> Christ!
[09:23:42] <eddyb9> devbug: UI wasn't ready, I have test logs on my laptop, but I'm on the phone
[09:23:52] <eddyb9> wait, you noticed ES6?
[09:23:57] <devbug> I'd rather implement sizeof() than a JavaScript runtime
[09:24:27] <eddyb9> uhm, what?
[09:24:34] <devbug> https://github.com/eddyb/wiREd/tree/master/cparse
[09:24:42] <devbug> The things people do to JavaScript
[09:25:12] <eddyb9> I took the official C11 yacc parser and abused it
[09:25:22] <pcmattman> eddyb9: :( I didn't get notified of the new commit
[09:25:41] <devbug> eddyb9: I think you gave it internal bleeding
[09:26:00] <eddyb9> radare2 guys are still struggling with a quite lower quality cparse
[09:26:05] <eddyb9> mine took me a few days
[09:26:07] <devbug> Ooh! ARM support.
[09:26:13] <eddyb9> limited, sadly
[09:26:29] <devbug> eddyb9: I would lend a hand...
[09:26:37] <eddyb9> I knew how to analyze mixed arm+thumb code
[09:26:59] <eddyb9> basically, you do what bx does for PC's value
[09:27:24] <eddyb9> then the disasm function can do ARM or thumb based on the lowest bit
[09:27:45] *** Joins: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr)
[09:27:49] <devbug> I don't know the specifics of Thumb
[09:28:05] <eddyb9> devbug: the analyzer can handle nested alloca stacks with proof of return
[09:28:19] <eddyb9> IDA might do that by 2050
[09:28:32] <eddyb9> there's a lot of fancy stuff in there
[09:28:41] <devbug> eddyb9: hidden under some pretty terse code
[09:29:05] <eddyb9> x86 is copied from the intel manuals' instruction tables
[09:29:14] <devbug> speaking of which
[09:29:19] <devbug> anyone get a printed version fro julu?
[09:29:20] <devbug> from*
[09:29:34] <eddyb9> devbug: I got sick of all the "spread shit" designs in disassemblers
[09:29:54] <devbug> eddyb9: spreadshit?
[09:30:25] <eddyb9> mine also outputs "functional IR", similar to a DAG in a compiler
[09:30:42] <eddyb9> devbug: you know, the big opcode tables
[09:30:54] <devbug> ah
[09:31:13] <devbug> Conceivably you should be able to define the deassembler as a FSM
[09:31:16] <eddyb9> they're complicated and utterly useless
[09:31:31] <eddyb9> devbug: have you looked at opcode definitions?
[09:31:47] <devbug> Aha!
[09:31:59] <devbug> Someone has actually used ragel for a disassembler!
[09:32:06] <eddyb9> ?
[09:32:13] <devbug> eddyb9: not deeply, no.
[09:32:26] <devbug> I know x86's general structure
[09:32:34] <pcmattman> opcodes are much nicer and saner on arm
[09:32:44] <eddyb9> devbug: in wiREd, I mean
[09:32:45] <devbug> pcmattman: RISC vs CISC
[09:32:49] <pcmattman> sure
[09:32:54] <eddyb9> disasm/x86.js
[09:33:04] <devbug> eddyb9: it's open right now
[09:33:17] <devbug> I'm not the most accustomed to JS
[09:33:27] <eddyb9> it's not JS, ES6
[09:34:26] <devbug> eddyb9: same thing
[09:34:30] <devbug> inb4 rage
[09:34:37] <eddyb9> if you scroll down, at some point you'll start to see neat definitions, the chunk at the top is helpers
[09:34:39] <devbug> inb4 as refs
[09:35:17] <devbug> So, they actually got somewhere w/ ECMAScript
[09:35:28] <devbug> I thought they just gave up after 4
[09:35:46] <eddyb9> this runs on Google's traceur-compiler
[09:36:20] <eddyb9> as there is no JS engine out there with all the features
[09:36:24] <devbug> eddyb9: oh my
[09:36:33] <devbug> Lines 195+ are elegant
[09:36:39] <eddyb9> there we go
[09:37:05] <eddyb9> that's one design principle
[09:37:34] <eddyb9> devbug: I think 8051 is complete or close to complete
[09:37:53] <devbug> What's w/ the 8051 fetish?
[09:38:30] <eddyb9> some guin in #radare, working with PC firmware, asked me to implement that
[09:38:54] <eddyb9> I'm missing generic memory region analysis, that would help with the in-RAM registers in the 8051
[09:38:57] <devbug> MCS is still used? Christ.
[09:40:12] <devbug> I'll peruse some more tommorow
[09:40:15] <eddyb9> laptops everywhere
[09:40:20] <devbug> I really need to get sleep
[09:40:27] <eddyb9> good night
[09:40:32] <devbug> Yeah, gnight.
[09:40:34] <eddyb9> don't let the rust bugs bite
[09:40:36] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Input/output error)
[09:46:54] <eddyb9> well, I impressed someone, that's my good deed for the day
[09:57:54] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:04:25] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[10:05:06] *** Parts: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (WeeChat 0.4.3-dev)
[10:05:09] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[10:17:43] <KokaKiwi> "http://rust-lang.org is not available" :(
[10:17:46] <KokaKiwi> (Hello chan)
[10:21:18] * dbaupp can reach r-l.o
[10:31:48] <eddyb> http://www.isi-web.org/component/content/article/5-root/root/81-developing oh, Romania is in there
[10:43:51] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[11:14:13] <eddyb> pcmattman: https://github.com/mozilla/rust/pull/9945 didn't I say I want to add a linkage attribute?
[11:14:29] <pcmattman> have you added a linkage attribute?
[11:16:28] <dbaupp> pcmattman: what happens for a non public extern "C" fn that is only used internally (e.g. passed as a fn ptr to a C lib)? It still gets the 'external' linkage?
[11:16:51] <pcmattman> no, the removal of the 'pub' overrides the linkage set there
[11:16:59] <dbaupp> ah, cool
[11:17:10] <pcmattman> I do not have a test for that case, but it was one thing I tried out of curiosity.
[11:17:34] <dbaupp> that's a neat little test you got to work though
[11:17:46] <pcmattman> I imagine it's because the visibility overrides the linkage at the time of emitting the symbol
[11:17:51] <dbaupp> presumably
[11:18:14] <dbaupp> does that test fail with a rustc without your patch?
[11:18:17] <pcmattman> it took a few hours to get the aha to approach it backwards with the aux -> test binary
[11:18:22] <pcmattman> yeah, I tested on unpatched master
[11:18:43] <dbaupp> awesome
[11:19:11] <pcmattman> which was also a plus because I then got to reapply my patch and see it start passing :)
[11:19:12] <dbaupp> </3 patches for which inventing the tests is harder than inventing the patch itself
[11:19:23] <pcmattman> heh, indeed
[11:19:51] <pcmattman> I knew how to test the issue, it was just getting that into the testing framework
[11:20:14] <pcmattman> but yes, it's really a stopgap until proper function linkage attributes
[11:21:21] <eddyb9> pcmattman: I know how to do it properly, I just didn't get to write to code down
[11:21:28] * dbaupp doesn't think proper linkage attributes would be too hard: add the "parser" to syntax::attr, and put the linkage setter somewhere in trans
[11:23:48] <dbaupp> I guess dereferencing "somewhere in trans" is the hardest part
[11:26:36] <pcmattman> aye
[11:32:03] <pcmattman> tar -xjf gcc-4.5.1.tar.gz
[11:32:07] <pcmattman> sigh
[11:32:35] <pcmattman> incorrect window and wrong parameters, double whammy
[11:44:04] <eddyb9> dbaupp: no, attr is harder. I know exactly where in trans
[11:44:20] <dbaupp> eddyb9: well, I know how to write attr
[11:44:24] <eddyb9> (sorry for delay, had luck)
[11:44:27] <eddyb9> *lunch
[11:44:34] <dbaupp> a lucky lunch! yum
[11:45:42] <eddyb9> do I need to have a parser?
[11:46:31] <eddyb9> there's a function in trans/base which takes attrs and llfn, right now it applies the inline attribute
[11:47:41] <dbaupp> Well, "parser" along the lines of the one for inline attribtues
[11:47:43] <dbaupp> *attributes
[11:48:11] <dbaupp> i.e. just traverses the attributes looking for `linkage(..)` and then returns an enum based on the contents of that
[11:48:37] <eddyb9> can't I just have that in trans?
[11:48:49] <dbaupp> in theory yes
[11:49:01] <dbaupp> but the convention has been to put it with the rest of the attribute handlers
[11:49:29] <dbaupp> if it works in trans, you can cut&paste the defintion into attr :P
[11:50:07] <eddyb9> it needs librustc/lib/llvm
[11:50:09] <dbaupp> (although this does start revealing implementation details of LLVM, if we support any LLVM specific ones.)
[11:50:17] <dbaupp> no it doesn't
[11:50:33] <eddyb9> I want to implement the ones in the Linkage enum
[11:51:03] <dbaupp> in attr, `enum Linkage { Internal, External, DllExport, ... }`, in trans `match get_linkage_attr(...) { Internal => { .. } External => { .. } ... }`
[11:51:27] <dbaupp> (although get_linkage_attr should return Option<Linkage>)
[11:51:31] <eddyb9> what I want to do, is take the x from linkage(x) and match it against some strings
[11:51:38] <pcmattman> I don't think all the ones in the Linkage one are necessary for the attribute, but I can't quite remember.
[11:51:48] <dbaupp> eddyb9: which should happen in attr
[11:51:56] <dbaupp> converting it into an enum
[11:52:04] <eddyb9> but why have two enums?
[11:52:08] <dbaupp> two?
[11:52:24] <eddyb9> there's already a Linkage enum in LLVM
[11:52:44] <dbaupp> that's LLVMs linkages, not Rust's (yet to be defined) linkages
[11:53:07] <dbaupp> we may support fewer, or have (platform-specific) aliases or something like that
[11:53:17] * eddyb9 grumbles something
[11:53:33] <eddyb9> dbaupp: ok then, linkage = "..." or linkage(...)?
[11:53:54] <dbaupp> linkage(..) I think; the foo="bar" syntax is going out of favour
[12:22:26] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[12:44:09] *** Joins: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca)
[12:52:36] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[13:19:10] <Leo`> eddyb9: do you know how can I make the log bot come to this chan ?
[13:19:39] <eddyb9> no idea
[13:21:12] <dbaupp> Leo`: https://botbot.me/dashboard/ #lincolnloop on freenode apparently
[13:21:29] <dbaupp> or @BotBotme on twitter
[13:22:59] <eddyb9> what's with that channel name on freenode?
[13:23:12] <Leo`> xD
[13:23:26] <dbaupp> eddyb9: 'lincoln loop'
[13:23:35] <eddyb9> whatever that means
[13:25:04] <Leo`> mhhh
[13:25:24] <Leo`> the time indicated by the bot on https://botbot.me/mozilla/rust/ are not quite accurate ...
[13:29:02] * dbaupp noticed that too
[13:33:04] <Leo`> s/are/is/
[13:34:00] <eddyb9> the plot thickens...
[13:34:24] <eddyb9> can we measure the relativistic clock drift and determine the average speed?
[14:02:14] <Leo`> eddyb9: what do you think should be the error message for relocating when sizes are different ?
[14:02:27] <Leo`> "can't relocate expression of size X into a location of size Y", something like that ?
[14:07:40] <eddyb9> I would use "cast"
[14:16:28] <Leo`> but it's specific to relocated expressions
[14:16:40] <Leo`> ou alors
[14:17:14] <Leo`> "can't cast this expression to a different size before it's not a compile-time constant
[14:17:16] <Leo`> "
[14:17:19] <Leo`> or something like that
[14:19:55] <eddyb9> Leo`: cannot cast unresolved pointer to a different size. (reword unresolved)
[14:20:08] *** Quits: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr) (Ping timeout)
[14:20:26] *** Joins: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr)
[14:20:49] <Leo`> ok seems good
[14:21:40] <eddyb9> or you can replace constant expression with relocated expression, but that's harder to express (no pun intended)
[14:24:24] <Leo`> :)
[14:27:13] <Leo`> "cannot cast this relocated expression to a different size because its value is not known at compile time"
[15:11:25] *** Quits: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr) (Client exited)
[16:05:29] <eddyb> pcmattman: here's an idea: write the interrupt handler in Rust, put asm("iret") at the end, and have ! as the return type (it means it doesn't return)
[16:06:20] <Leo`> i don't think that's a good idea
[16:06:31] <Leo`> your stack won't be cleared anyway
[16:07:23] <Leo`> fffff I can still make llvm segfault 
[16:07:25] <Leo`> :(
[16:10:03] <Leo`> acrichto: if the PR fixes the "cast of relocated to different size" problem, will you merge it ?
[16:10:39] <Leo`> acrichto: I think analysis of what can be done with such expressions (I.E. authorizing additions but denying divisions or casts on the result of the first cast, etc.) should be the object of another PR
[16:37:47] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[16:49:06] <acrichto> Leo`: sure, I agree that the "fancy analysis" should come later, but the "foo as u64" should be pretty easy to catch during trans (the only time when sizes of things are known)
[16:50:34] <Leo`> acrichto: yep, for now, the only thing that is catch is foo as u64 on 32 bit machines
[16:50:39] <Leo`> or foo as u32 on 64 bit machines
[16:50:46] <acrichto> cool, sounds good to me
[16:50:50] <Leo`> catched*
[16:51:08] <Leo`> well, in fact, what is catched is : foo as T where T is of a different size than a pointer
[16:51:15] <Leo`> acrichto: okay
[16:51:33] <Leo`> acrichto: i'm adding a compile-fail test and then I resubmit the PR
[16:51:36] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:51:50] <Leo`> acrichto: just a stupid question, how can I make the compiler stop after an error ?
[16:51:56] <acrichto> Leo`: awesome :), just ping me on the PR once it's up
[16:52:01] <acrichto> you have two options
[16:52:04] <acrichto> span_fatal will halt compilation
[16:52:06] <Leo`> I use span_err, the error is properly reported, but it continues ...
[16:52:12] <acrichto> you could also have span_err and then later call abort_if_errors
[16:52:23] <Leo`> okay
[16:52:28] <Leo`> I think the latter is better
[16:52:33] <acrichto> there's a few other errors that are reporting in trans
[16:52:36] <acrichto> things like static_assert
[16:52:40] <acrichto> you can just follow the same pattern for now
[16:52:50] <Leo`> but dunno when I should call abort_if_errors
[16:53:07] <acrichto> anyway I gtg now
[16:53:23] <Leo`> okay acrichto 
[16:53:28] <Leo`> i'll let you know when the PR is up
[16:57:52] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[16:57:56] *** Joins: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net)
[17:18:09] <Leo`> acrichto: PR should be ready for merge now
[17:20:27] *** Joins: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net)
[17:23:12] *** Joins: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr)
[18:35:22] <Leo`> ping acrichto 
[18:35:38] <Leo`> (or strcat)
[18:35:57] <strcat> Leo`: are you compiling with --lib?
[18:36:22] <strcat> it's supposed to be marked internal otherwise
[18:36:26] <Leo`> strcat: the problem is fixed xD but I noticed my code didn't pass the formatting checked
[18:36:45] <Leo`> so I think I need another r+
[18:36:47] <strcat> yeah, but I don't understand the problem that's being fixed
[18:36:49] <strcat> Leo`: which PR?
[18:36:51] <Leo`> since I did another push
[18:36:54] * strcat might be getting confused
[18:36:55] <Leo`> https://github.com/mozilla/rust/pull/9909
[18:37:01] <strcat> oh.
[18:37:06] <strcat> different one than I was thinking of
[18:37:13] <Leo`> strcat: we are not talking about the same thing I think ><
[18:37:17] <strcat> yeah
[18:37:19] <strcat> :)
[18:37:21] <Leo`> no prob
[18:37:24] <Leo`> so
[18:37:29] <Leo`> the PR is in Bors's queue
[18:37:33] <Leo`> but I ad to push again
[18:37:37] <Leo`> (cause a formatting check failed)
[18:37:42] <Leo`> do I need a new r+ ?
[18:37:45] <Leo`> or is it okay ?
[18:38:41] <strcat> Leo`: so how does this work if you do 'foo as uint + 5'?
[18:38:56] <strcat> rust assumes statics are const evaluated all the way
[18:39:25] <Leo`> it works because "foo + 5" is a valid relocated expression
[18:39:34] <Leo`> it's used for relative jumps and calls, etc.
[18:39:41] <Leo`> it's handled by the linker or loader
[18:40:00] <Leo`> but acrichto was okay to say checking constness of this would be the topic of another PR
[18:40:01] <strcat> so
[18:40:36] <strcat> static X: foo as uint; fn foo() { let xs = [1, ..X]; }
[18:40:36] <strcat> how does that work?
[18:41:20] <Leo`> should work I think
[18:41:25] <Leo`> let me test
[18:42:22] <Leo`> mh
[18:42:31] <Leo`> nope doesn't work
[18:42:38] <Leo`> expected constant integer for repeat count but found variable
[18:42:58] <Leo`> seems ok to me... ?
[18:43:06] <strcat> well it changes the meaning of static
[18:43:22] <Leo`> mhhh
[18:43:32] <strcat> I think it needs an RFC because it's a significant language change
[18:43:45] <strcat> and the errors all need to be updated
[18:44:15] <Leo`> well, do you think we need an in-between status for static taht will only be known at compile or load-time ?
[18:44:35] <Leo`> or do you think every static should be treated the same way than X in your example ?
[18:44:49] <strcat> well atm static meants constant expression with value known at compile-time, not just global
[18:44:55] <strcat> means*
[18:45:32] <Leo`> yep
[18:46:26] <Leo`> but I think the example you gave could be achieved
[18:46:43] <strcat> C++ doesn't permit this
[18:46:52] <strcat> oo.cc:5:18: error: constexpr variable 'x' must be initialized by a constant expression
[18:46:53] <strcat> constexpr size_t x = (size_t)&foo;
[18:47:12] <Leo`> clang allows this
[18:47:30] <Leo`> mh
[18:47:30] <strcat> in a global, not a constant
[18:47:36] <Leo`> well, yeah.
[18:48:36] <Leo`> so what should we do for non-constant globals ? should we completely disallow them ?
[18:48:54] <strcat> dunno
[18:48:58] <strcat> but it's RFC material
[18:50:52] <Leo`> okay
[18:50:56] <Leo`> well it's interesting
[19:16:26] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[19:20:17] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:23:54] <strcat> Leo`: meh, I'm not sure if it should go in
[19:24:03] <strcat> our code assumes static means constant..
[19:24:08] <Leo`> yeah I know
[19:24:25] <Leo`> if we finally decide a "static" is not necessarily compile-time, https://github.com/mozilla/rust/issues/9866 should be fixed as well
[19:24:29] <Leo`> it's a bit weird
[19:25:19] <Leo`> (well afk for a time)
[19:40:09] <strcat> Leo`: https://github.com/mozilla/rust/issues/9962
[19:53:09] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[19:54:00] <eddyb> strcat: oh ffs, someone made me do more reverse engineering. and that's addicting to me (I have the linkage attr changes here, just waiting on a compile, test and push)
[19:59:22] <eddyb> strcat: have you consider my "separate module, loaded specifically by user" for macros?
[19:59:26] <eddyb> *considered
[20:01:06] <strcat> eddyb: yeah, but fwiw Rc is no longer behind the libc flag
[20:01:16] <strcat> because it allocates with ~
[20:01:26] <eddyb> so it will ask for the lang item?
[20:01:31] <eddyb> (rustc that is)
[20:01:33] <strcat> yeah
[20:01:38] <strcat> Vec doesn't use ~ though
[20:06:52] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[20:10:36] <eddyb> now I have to reconfigure to use snapshot, my local rust is too old already :/
[20:11:14] <eddyb> I need to fix my OBS package to keep rebuilding and update snapshots regularly (it can already use git for everything in the git repo)
[20:16:58] <eddyb> strcat: how do I match a @str against "constant strings" ?
[20:17:15] <eddyb> I cannot just deref the pointer :/
[20:18:36] <eddyb> let linkage : &str = ... worked
[20:24:25] <KokaKiwi> Hoy
[20:25:49] <KokaKiwi> Hey, there is no way to define default value to a function parameter? :o
[20:30:25] <cmr> KokaKiwi: nope
[20:32:27] <eddyb> same for generics?
[20:32:40] <eddyb> error: non-exhaustive patterns: LinkageDefault not covered
[20:33:13] <eddyb> although it's in an if linkage == LinkageDefault... need smarter analysis :P
[20:33:22] <eddyb> !=, I mean
[20:34:09] <cmr> It doesn't do dataflow to see what the range of possible values is limited to, just uses the entire range of all values.
[20:36:41] <eddyb> cmr: I have to do this instead: LinkageDefault => { fail!() /* analysis isn't smart enough to see the if above */ }
[20:36:54] <cmr> I usually just do a _ => fail!()
[20:37:12] <cmr> but that's not a very good idea, removes all benefit of exhaustivity checking
[20:38:47] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[20:39:23] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[21:01:37] *** Joins: basichash (basichash@moz-55569B25.opaltelecom.net)
[21:29:36] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: leaving)
[21:37:44] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[21:39:53] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[21:45:31] *** Quits: kido (kido@moz-40572DAF.w92-150.abo.wanadoo.fr) (Quit: @+)
[22:13:42] <devbug> pcmattman: interestingly, rdtsc and friends on newer CPUs (read sandy bridge) return "standardized clocks".  Meaning that it can actually be used for reliable and precise timing...
[22:13:42] <devbug> http://randomascii.wordpress.com/2011/07/29/rdtsc-in-the-age-of-sandybridge/
[22:14:18] <devbug> 'Update: section 16.11 of the Intel System Programming Guide documents this behavior of the Time-Stamp Counter. Roughly speaking it says that on older processors the clock rate changes, but on newer processors it remains uniform. It finishes by saying, of Constant TSC, âThis is the architectural behavior moving forward.â'
[22:15:54] <eddyb> devbug: hi, I'm working on #[linkage(...)] :D
[22:16:26] <devbug> eddyb: :)
[22:16:47] <devbug> eddyb: messing with ABIs has to be fun
[22:17:03] <devbug> especially if you want to add support for microsoft toolchains :S
[22:17:08] <eddyb> devbug: everything is already there
[22:17:18] <eddyb> devbug: it just needs an exposed attribute
[22:17:29] <devbug> Though, if I am not mistaken, Microsoft has detailed their ABI now.
[22:18:13] <eddyb> I'll ask the reviewers to select the linkage values they'd want. right now I include every offers, so #[linkage(link_once_odr_auto_hide)] is a thing
[22:18:29] <devbug> eddyb: relevant commits?
[22:19:02] <devbug> Have you pushed 'em yet?
[22:19:15] <eddyb9> *everything LLVM offers
[22:19:29] <devbug> eddyb: Got a link?
[22:19:39] <eddyb9> devbug: you can probably tell I'm building atm, switched to phone
[22:19:45] <devbug> http://llvm.org/docs/LangRef.html#id572
[22:19:55] <eddyb9> will push in a few minutes, provided it works
[22:19:59] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[22:23:23] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[22:25:46] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[22:26:25] <eddyb9> I might have an incipient carpal tunnel syndrome. or I'm just being paranoid
[22:28:38] <eddyb9> my hands feel weird, especially after using my N900 keyboard for a long time
[22:29:21] <eddyb> ok, it's finishing the build now. this time it started swapping :/
[22:38:59] *** Quits: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net) (Quit: Lost terminal)
[22:51:38] <eddyb9> one of these days I'm going to hook a button in the kernel so it sets all processes to lowest priority possible and makes sshd top priority
[22:51:51] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[22:52:36] <eddyb9> oh, I said I'd disable swap next time. I didn't learn my lesson, I guess
[22:53:42] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[23:11:13] <eddyb> devbug: https://github.com/mozilla/rust/pull/9966
[23:21:34] <devbug> eddyb: Sounds like you need more RAM
[23:21:38] <devbug> Or less browsers tabs...
[23:22:13] <eddyb> both
[23:36:13] <devbug> eddyb: " LLVM doesn't error when using dll_export on Linux"
[23:36:21] <devbug> Well, then.
[23:37:13] <eddyb> devbug: you can use dll_export and it will work everywhere, including on windows. I assume that's their reasoning
[23:42:45] <devbug> I still find the behaviour odd.
[23:44:23] <dbaupp> we can implement a "compatibility" layer that errors for dll_export on non-windows platforms
[23:44:29] * dbaupp isn't sure if this is a good idea or not
[23:44:56] <eddyb> you mean "incompatibility"?
[23:45:08] * dbaupp wanted to use quotes
[23:45:48] <eddyb> "Â«> hi thereÂ»"
[23:46:09] <devbug> dbaupp: it's even more confusing considering clang support on windows
[23:46:17] <devbug> I guess it's about mindset
[23:49:34] <pcmattman> what linkage options does clang offer, and are they open slather or target-specific?
[23:50:29] <eddyb> pcmattman: https://github.com/mozilla/rust/pull/9966/files#diff-21e1f9f42b7976b50c28979848df2e04R298
[23:51:05] <pcmattman> ... I said clang, not llvm
[23:51:24] <pcmattman> I know what LLVM offers, I was curious about what clang lets you apply to functions
[23:51:26] <eddyb> oh, sorry. how does clang even expose linkage?
[23:51:34] <pcmattman> also a point of curiosity
[23:51:43] <pcmattman> __attribute__((.....)) if it does
[23:51:57] <eddyb> I think the GCC attributes were something like __attribute__((dllexport))
[23:52:21] <eddyb> let me look in the GCC manual
[23:52:39] <eddyb> also, morning, I guess. 3am here :P
[23:52:52] <pcmattman> can anyone think of a use case for anything other than just external/weak/internal/dllimport/dllexport ?
[23:52:57] <pcmattman> almost 10am here
[23:53:11] <eddyb> http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html visibility controls some linkage options
[23:53:50] <dbaupp> pcmattman: Aus?
[23:54:14] <pcmattman> dbaupp: yup, QLD though so no DST
[23:54:46] <dbaupp> pcmattman: weirdos :P
[23:54:51] <dbaupp> <3 DST
[23:55:07] <pcmattman> eddyb: this is why I did the small fix that I did - the hard part isn't the code, it's in defining which linkage attributes make the most sense for the most users
[23:55:38] <pcmattman> for example, I just want my symbol linked weakly, I don't want to think about what ODR is or anything like that
[23:55:53] <eddyb> pcmattman: "The subset of allowed linkages is left to be decided by the reviewers." in my PR
[23:56:40] <pcmattman> sure
[23:57:12] <pcmattman> as an example, if I did #[linkage(weak)] I'd expect that to be "weak external"
[23:57:33] <devbug> why don't you just shotgun it??
[23:57:40] <devbug> then have weak short hand
[23:57:52] <pcmattman> support everything and offer shorthands for the common ones?
