[00:15:41] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:21:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:23:26] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[00:38:44] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:39:04] *** Joins: brson (brson@moz-ib4.pdv.48.37.IP)
[00:39:05] *** ChanServ sets mode: +qo brson brson
[01:11:17] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[01:22:53] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[01:42:14] *** Quits: brson (brson@moz-ib4.pdv.48.37.IP) (Quit: leaving)
[01:46:33] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[01:47:33] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[02:07:30] *** Joins: kimundi_ (kimundi@moz-qie1ht.dip0.t-ipconnect.de)
[02:10:57] *** Quits: kimundi (kimundi@moz-7st4bq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:10:57] *** kimundi_ is now known as kimundi
[02:16:30] *** kimundi is now known as zz_kimundi
[02:23:53] *** zz_kimundi is now known as kimundi
[02:42:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[03:07:26] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:27:47] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[03:32:01] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:15:07] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:19:25] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:55:07] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[06:02:25] *** kimundi is now known as zz_kimundi
[06:19:27] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[06:19:27] *** ChanServ sets mode: +o pnkfelix
[06:53:49] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[06:57:40] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:01:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:51:50] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:56:06] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:32:41] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[08:45:58] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:50:16] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:53:09] *** zz_kimundi is now known as kimundi
[09:31:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:37:29] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:40:05] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:44:23] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:56:55] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:58:58] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[09:58:58] *** ChanServ sets mode: +o pnkfelix
[10:11:57] *** Joins: eddyb (eddyb@moz-mj8.sgj.26.188.IP)
[10:20:36] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[10:20:58] *** Quits: eddyb (eddyb@moz-mj8.sgj.26.188.IP) (Ping timeout: 121 seconds)
[10:34:19] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:38:33] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:44:18] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[11:13:25] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[11:13:25] *** ChanServ sets mode: +qo nrc nrc
[11:18:13] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[11:28:27] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:32:43] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:15:27] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[12:22:37] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[12:26:53] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:47:30] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:07:28] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[13:07:29] *** ChanServ sets mode: +o pnkfelix
[13:15:40] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:21:18] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:32:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[13:43:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:50:11] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[14:13:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:34:18] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[15:04:27] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[15:04:51] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:07:36] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:31:01] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[15:35:33] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:41:30] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:45:44] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:46:29] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[15:48:51] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:53:12] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:53:51] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[15:53:52] *** ChanServ sets mode: +o pnkfelix
[16:02:16] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:04:33] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[16:04:59] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:06:30] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:16:19] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:20:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:25:05] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:25:05] *** ChanServ sets mode: +o pnkfelix
[16:26:34] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[16:31:49] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:43:39] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:43:39] *** ChanServ sets mode: +o pnkfelix
[16:55:13] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[17:10:29] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:12:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[17:14:43] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:22:17] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:22:34] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[17:34:36] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:39:03] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:43:55] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[17:43:55] *** ChanServ sets mode: +o pnkfelix
[17:47:17] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[17:48:52] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:55:07] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:55:07] *** ChanServ sets mode: +qo brson brson
[17:58:58] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[18:04:38] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:08:09] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[18:08:09] *** ChanServ sets mode: +qo nrc nrc
[18:08:53] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:13:05] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[18:17:27] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:26:53] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[18:27:54] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:08:42] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[19:08:43] *** ChanServ sets mode: +qo nrc nrc
[19:28:08] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:38:26] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[19:41:07] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[19:41:07] *** ChanServ sets mode: +o pnkfelix
[19:53:42] <nrc> pnkfelix: ping - borrow checking question
[19:53:55] <pnkfelix> nrc: pong
[19:53:58] <nrc> http://is.gd/nhHGmb
[19:54:00] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:54:17] <nrc> pnkfelix: this used to work but is now an error
[19:54:24] <nrc> the comments indicate the old behaviour
[19:54:35] <nrc> the issue is that x is Copy
[19:54:59] <nrc> so we don't need to borrow it to use +, but now we try and get an error
[19:55:06] <nrc> is this intentional or a regression?
[19:55:23] <pnkfelix> nrc: is this a consequence of our changes to stop handling primitive operators like `+` specially?
[19:55:37] <nrc> maybe?
[19:55:45] <pnkfelix> let me poke
[19:56:14] <pnkfelix> to me, off the top of my head, this seems like a bug fix
[19:56:32] <nrc> as in, you think it is correct behaviour?
[19:56:47] <nrc> Looking at the Add trait, it takes its arguments by value
[19:56:56] <nrc> so there is no need to borrow, in my mind
[19:57:00] <pnkfelix> hmm
[20:00:09] <pnkfelix> nrc: so you do not interpret the pending access to `x` in `*y + x` as aliasing the `&mut` borrow of `x` ?
[20:00:34] <nrc> pnkfelix: I don't, it creates a copy of x, right?
[20:00:34] *** Quits: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP) (Connection closed)
[20:00:35] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[20:01:17] <pnkfelix> nrc: it doesn't create a copy before the `&mut`-borrow starts
[20:01:20] <nrc> in my mental model, if a variable is copy, then we never touch the variable itself, only a copy of it, wherever it is used
[20:02:10] <nrc> pnkfelix: I think &mut only guarantees it is the only alias, not that any changes can't be observed
[20:02:37] <pnkfelix> but that's my point: I interpret the pending refernce to `x` as an alias
[20:02:46] <pnkfelix> but its possible that this mental model is wrong too
[20:03:14] <pnkfelix> nrc: I have an idea: Lets take `+` out of the equation.  Let me try to make one that just uses a top level fn
[20:04:12] <pnkfelix> nrc: Does this version work on the version of rust you're comparing against (in terms of regression): http://is.gd/hIznOa
[20:07:38] <nrc> the last time I know this worked was >6 months ago :-s
[20:08:06] <nrc> I would expect that *might* work
[20:08:15] <nrc> by the same logic as the +
[20:08:35] <nrc> I guess it depends on what we think &mut should do
[20:08:37] <pnkfelix> i'm grabbing a nightly from march 1st via multirust
[20:08:41] <pnkfelix> to see how that behaves
[20:09:02] <nrc> my interpretation is that it is frozen, but observable, but untouchable also makes sense
[20:09:05] <pnkfelix> (the one from feb 1st does not seem to be compatible with multirust's infrastructure, and i can't be bothered to mess with web browsers)
[20:09:15] <nrc> I think it will have to be a lot older than that
[20:10:32] *** Quits: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP) (Connection closed)
[20:10:36] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[20:12:57] <pnkfelix> nrc: yeah, that one's too recent
[20:13:20] <nrc> this came up as an example on r4cppp, and I wrote the blog post an age ago
[20:14:04] <nrc> So, does Copy ensure that a variable is atomically updated?
[20:14:10] <nrc> I guess no?
[20:14:36] <nrc> because if not, then it would be unsafe, because you could observe an object in an inconsistent state
[20:14:41] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:17:00] <pnkfelix> nrc: yeah, I'm not sure I follow why Copy would ensure that
[20:19:37] <nrc> in which case, I'm pretty much persuaded the new behaviour is correct
[20:21:33] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:30:28] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:41:14] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:45:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:57:31] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[20:57:47] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:57:48] *** ChanServ sets mode: +o pnkfelix
[21:00:04] *** Quits: rprichard (rprichard@moz-qkai33.en8f.d045.0009.2601.IP) (Connection closed)
[21:34:03] <Eridius> nrc: I'm pretty sure the new behavior is correct. Even though the value is Copy, making a copy of it still requires inspecting the value
[21:34:13] <Eridius> which basically means it needs to be valid to create a &-reference to the value
[21:34:35] <Eridius> e.g. any copy of a Copy value should be equivalent to an invocation of `fn make_copy<T: Copy>(x: &T) -> T`
[21:34:59] <nrc> Yeah, I think that was my conclusion
[21:35:25] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[21:35:42] <Eridius> I'm not sure what you were talking about regarding Copy using atomic writes. The value copy that is being constructed isn't visible to any other code yet so it doesn't matter whether it uses atomic writes
[21:39:40] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:42:18] <pnkfelix> Eridius: it is more an issue that someone (e.g. stack-local thread) writes into the &mut T, right?
[21:42:46] <pnkfelix> Eridius: (and another thread reads from the original `x` ?)
[22:19:19] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[22:20:08] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:29:33] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:33:51] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:00:10] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:04:11] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:14:59] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:38:16] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:39:56] *** Joins: brson (brson@moz-0i1.c9m.56.172.IP)
[23:39:56] *** ChanServ sets mode: +qo brson brson
