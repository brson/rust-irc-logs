[00:01:25] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[00:01:58] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[00:02:08] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[00:02:43] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:04:45] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:05:04] *** Quits: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP) (Connection reset by peer)
[00:06:14] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[00:06:20] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:06:21] <vmx> dbaupp, tjc: the two type parameters are for one side and the result. i don't need the result one. so my question is how would two type parameters solve my problem?
[00:06:46] <vmx> as &self is given (it's the type i implement it for) and the other type is the parameter
[00:07:10] <dbaupp> I don't think it would help, I dunno
[00:07:43] <dbaupp> vmx: see http://smallcultfollowing.com/babysteps/blog/2012/10/04/refining-traits-slash-impls/ "what if I want overloading" for a way to work around it
[00:07:54] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[00:08:23] <vmx> dbaupp: thanks will read it
[00:08:34] <muricula> Question: How do I pass an array/vector to a function? What's wrong with:  fn primesieve(primes:bool[], max:int)
[00:08:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:08:48] <cmr> muricula: you have the type wrong
[00:08:54] <dbaupp> vmx: (In your case, I think you will just need `trait LessRhs { ... }` (no extra type parameter).)
[00:09:00] <cmr> use &[bool] for a slice (no ownership transfer)
[00:09:07] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[00:09:32] <muricula> so fn primesiece primes&[bool], max:int)  ?
[00:09:58] <muricula> s/es/es:/g
[00:10:09] <cmr> fn primesieve(primes: &[bool], max: int), yes.
[00:10:09] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:10:44] <cmr> although if I'm guessing what you're doing correctly, you're going to turn whether the number is prime or not by indexing into the primes?
[00:11:22] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:11:24] <muricula> thanks. It's a sieve of erasthones.
[00:11:34] <cmr> in which case you can just use &mut [bool], with no max.
[00:11:39] <cmr> use the length of the slice as the max.
[00:11:44] <cmr> &mut so you can modify its contents
[00:12:44] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:12:58] <muricula> okay, I'll give that a shot.
[00:13:56] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:14:22] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:15:36] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:15:44] *** Joins: mib_j4tk1d (Mibbit@8F42697D.A164F5F.C43B490F.IP)
[00:15:46] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:16:04] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:16:08] *** Quits: mib_j4tk1d (Mibbit@8F42697D.A164F5F.C43B490F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:16:10] <kmc> a classic demo of programming with message passing is a sieve where every prime number is a task which passes on any numbers not divisible by it
[00:16:27] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:16:29] <kmc> and you have a "sink" task which receives primes, prints them, and spawns new tasks
[00:16:32] <kmc> you could do that instead ;)
[00:16:41] <\n> boom goes the dynamite: https://github.com/nickdesaulniers/rust-re2
[00:17:19] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:17:27] <cmr> \n: oh, nice!
[00:17:35] <cmr> put that on rust-ci.org :)
[00:18:23] <muricula> cmr: I'm just hopelessly confused now. Would you be willing to take a look at a little code?
[00:18:53] <cmr> muricula: I'm on my way out, but I'm sure someone else would. Put your code in a pastebin.
[00:18:57] <muricula> http://pastebin.osuosl.org/4951/
[00:19:01] * cmr -> away
[00:19:41] <kmc> what is "let mut slice = &[100 - value];" meant to do?
[00:20:12] <muricula> I want to iterate over each number after the prime until the end.
[00:20:26] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:20:50] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:21:00] <kmc> look at slice / slice_from / slice_to here: http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html
[00:22:06] *** jorendorff is now known as jorendorff_away
[00:22:54] <muricula> so maybe: let mut slice = primes.slice_from[index] ?
[00:22:57] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[00:23:22] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:23:44] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[00:23:46] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:23:49] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:24:08] *** Quits: japaric (japaric@5F207A99.A347E168.F4D5766F.IP) (Quit: WeeChat 0.4.2)
[00:24:36] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:24:42] <kmc> slice_from(index), it's a function
[00:24:43] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[00:25:58] *** Quits: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com) (Quit: Leaving)
[00:26:54] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:27:41] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:28:36] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[00:29:01] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[00:29:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:29:25] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:30:14] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:30:44] <dgpratt> what are the principle ways in which traits are *not* like type classes?
[00:31:48] * dgpratt hopes kmc notices his question
[00:32:07] <kmc> hi
[00:32:12] <dgpratt> hi kmc
[00:32:18] <jmgrosen> shouldn't this work? https://gist.github.com/jmgrosen/e4e22751b5004feebdcc
[00:32:29] <jmgrosen> (the commented line with "Doesn't work", that is)
[00:32:42] <jmgrosen> oh... on second thought, no
[00:32:48] <kmc> dgpratt: one is that Rust distinguishes methods that take 'self' from 'static methods', and this distinction carries through to traits
[00:32:53] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:33:07] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:33:14] <kmc> in Haskell there's no OOP method call syntax, and a function defined in a typeclass may use the typeclass parameter in any position
[00:33:22] <kmc> indeed the things defined in a typeclass don't need to be functions
[00:33:33] <kmc> class Bounded a where { minBound :: a; maxBound :: a }
[00:34:47] <kmc> another difference: standard Haskell has only single-parameter typeclasses; GHC Haskell allows arbitrarily many params and they're treated uniformly; Rust allows traits to have type parameters but these are treated somewhat differently from the "subject" type (is there a better term for that?)
[00:34:54] <kmc> that is, you have  impl Trait<A,B,C> for D
[00:35:06] <dgpratt> oh, interesting
[00:35:11] <jmgrosen> implementor?
[00:35:14] <kmc> A,B,C are treated differently from D, for example methods taking 'self' will take a D, and Self = D
[00:35:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:35:44] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[00:35:47] <kmc> also GHC's multi-param typeclasses include "functional dependencies" which is a tool for expressing uniqueness relationships between the parameters
[00:35:50] <kmc> Rust has no such feature
[00:36:07] <dgpratt> and implementations are resolved via type D, I'd guess?
[00:36:13] <kmc> yeah
[00:36:24] <dgpratt> cool
[00:36:26] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[00:36:55] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[00:36:58] <kmc> what else... I think Rust's requirements for uniqueness of instances are less strict than standard Haskell's (which are very strict) but more strict than GHC with -XOverlappingInstances -XUndecidableInstances -XLudicrousInstances or whatever
[00:37:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:37:25] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:37:42] <Liothen> how do you convert a string to a integer?
[00:37:46] <dgpratt> not familiar with -XLudicrousInstances :)
[00:38:42] <jmgrosen> Liothen: from_str("123")
[00:38:45] <kmc> dgpratt: :)
[00:38:59] <jmgrosen> why doesn't ~Trait auto-convert to &Trait?
[00:39:09] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:39:15] <kmc> dgpratt: also, rustc's implementation strategy for traits is rather different from any Haskell compiler I know of
[00:39:26] <kmc> because its implementation of polymorphism in general is rather different
[00:39:34] <kmc> anything polymorphic gets compiled once for each set of instantiation types
[00:39:37] *** Quits: dgpratt (dpratt71@moz-86CDFA6F.ptldme.east.myfairpoint.net) (Ping timeout)
[00:39:44] <kmc> boo
[00:40:29] *** Joins: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[00:40:49] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[00:40:51] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[00:40:55] <dbaupp> jmgrosen: it normally does?
[00:41:20] *** Joins: ptc2 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[00:41:27] *** Quits: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Connection reset by peer)
[00:41:54] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:41:56] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Ping timeout)
[00:42:01] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Ping timeout)
[00:42:30] <jmgrosen> dbaupp: ...ah, you're right; I guess ~Trait isn't the same as &Trait when looking for impls, though
[00:42:37] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:43:05] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[00:43:19] <jmgrosen> i.e. if I have impl Foo for &Trait { fn foo(&self); } I can't do (~Thing as ~Trait).foo()
[00:44:43] <dbaupp> rusti: trait Foo { fn foo(&self) {} } impl<'self> Foo for &'self Clone {} (~1 as ~Clone).foo()
[00:44:48] -rusti- pastebinned 7 lines of output: http://ix.io/9L4
[00:45:03] <dbaupp> ah, that's unfortunate
[00:45:14] <dbaupp> rusti: trait Foo { fn foo(&self) {} } impl<'self> Foo for &'self int {} (~1).foo()
[00:45:17] -rusti- pastebinned 7 lines of output: http://ix.io/9L5
[00:45:34] <dbaupp> rusti: trait Foo { fn foo(&self) {} } impl<'self> Foo for &'self [int] {} (~[1]).foo()
[00:45:36] <jmgrosen> is that a bug, then?
[00:45:36] -rusti- ()
[00:45:58] <dbaupp> maybe... it's certainly weird that it works for vectors and strings but nothing else.
[00:46:20] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[00:46:20] <jmgrosen> who's the borrow system expert here?
[00:49:56] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[00:50:01] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[00:52:12] *** Joins: dgpratt (dpratt71@moz-86CDFA6F.ptldme.east.myfairpoint.net)
[00:53:26] <dgpratt> I was trying to say, before I got rudely interrupted, was that I think you folks have a very nice language shaping up here
[00:53:35] <vmx> dbaupp: thank you so much, i think that was the solution i was looking for: https://www.friendpaste.com/49C7K55Tn9SKaDCfiIblk9 (cmr, tjc: thanks for helping out)
[00:54:17] <dgpratt> also, thanks for the edification, kmc
[00:54:38] *** Joins: jzcz (nick@moz-531BAF0B.dyn.centurytel.net)
[00:55:01] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:55:35] <dgpratt> the only thing that makes me wonder is the whole business around lifetime and ownership
[00:55:55] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[00:55:59] <kmc> wb dgpratt :)
[00:56:03] <dgpratt> it seems a little complicated from my naive perspective
[00:56:08] <dgpratt> thanks
[00:56:12] <Tobba> is there any way to declare a variable as an external symbol
[00:56:34] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[00:56:56] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[00:57:06] <kmc> dgpratt: it is complicated, and besides that it's pretty unusual among languages, but it's the central answer to how Rust achieves memory safety without the overhead of garbage collection
[00:57:10] <kmc> which is a core design goal 
[00:57:29] <dgpratt> interesting
[00:57:35] <kmc> if you can afford global GC, by all means use a language that provides it
[00:57:39] <dgpratt> it seems similar to something I've seen before
[00:57:40] <kmc> GC is fantastically convenient
[00:57:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:57:52] <dgpratt> maybe spec# had something like this?
[00:58:04] <kmc> and there are already dozens of great languages that are based on GC everywhere
[00:58:16] <Earnestly> (And theoretically faster than manually freeing)
[00:58:19] <dgpratt> I know of at least one :)
[00:58:32] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[00:58:52] <dgpratt> no, it was sing# that I was thinking of
[00:59:02] <dgpratt> spec# is an AOP thing
[00:59:40] <dgpratt> oh, now I'm confusing myself -- WP says Spec# begat Sing#
[00:59:50] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[01:01:16] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:01:17] <kmc> maybe there are two things named Spec#
[01:01:35] <dgpratt> maybe
[01:01:55] <ziad> isn't the rumored "M#" based on Sing#/Spec#?
[01:01:55] <kmc> the recently announced Midori / M# stuff also came out of Singularity
[01:01:59] <kmc> yep
[01:02:01] <ziad> lol kmc
[01:02:11] *** Quits: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP) (Quit: Leaving)
[01:02:20] *** Quits: jzcz (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[01:02:31] <kmc> I guess these things are competitors to Rust but mostly I'm just excited that there's activity in this space
[01:02:32] <ziad> they did state though that they want to be syntax compatible with C#
[01:02:41] <kmc> for so long people have been stuck with C and C++, and they're so archaic and bad
[01:03:48] *** Joins: jzcz (nick@moz-531BAF0B.dyn.centurytel.net)
[01:03:57] * kmc -> afk
[01:04:43] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[01:04:44] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[01:05:53] <dgpratt> it's funny, I was just saying to someone the other day, why isn't there a PL that is C-like, but with modern features like a decent type system with generics and lambdas?
[01:07:11] *** Quits: heftig (heftig@moz-B29C59B9.dip0.t-ipconnect.de) (Ping timeout)
[01:07:24] <dgpratt> Rust pretty much fits the bill of what I had in mind, except I might've not bothered with the OO stuff :)
[01:07:33] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:08:16] <LinearInterpol> specifically, to me.
[01:08:25] <dgpratt> hi LinearInterpol :)
[01:08:39] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:08:43] <dgpratt> yes, LinearInterpol is my witness that I actually did say that :)
[01:08:49] <LinearInterpol> he did. it's so weird.
[01:08:55] <LinearInterpol> rust fits everything we discussed.
[01:09:06] <tautologico> dgpratt: maybe you're thinking about Cyclone?
[01:09:18] <Tobba> error: internal compiler error: unexpected failure
[01:09:19] <Tobba> welp
[01:09:21] *** Quits: jzcz (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[01:09:28] <dgpratt> speaking of that, LinearInterpol, why is it that I do not have 100 million dollars?
[01:09:31] <tautologico> oh, you weren't asking about a similar C-like language
[01:09:36] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:09:39] <LinearInterpol> dgpratt: .. lol.
[01:09:50] <LinearInterpol> I don't know.
[01:09:52] <tautologico> the thing is
[01:09:56] <dgpratt> neither me
[01:10:09] <LinearInterpol> tautologico: never heard of Cyclone.
[01:10:12] <tautologico> the 90s where marked by thinking that performance didn't matter anymore, and programmer productivity is more important
[01:10:13] <dgpratt> neither me
[01:10:30] <LinearInterpol> tautologico: coorrect.
[01:10:33] <tautologico> after all, moore's law was still guaranteeing performance gains
[01:10:41] <tautologico> "for free"
[01:10:49] <LinearInterpol> it wasn't free.
[01:10:59] <LinearInterpol> it's never free.
[01:11:12] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Connection reset by peer)
[01:11:20] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[01:11:38] *** Joins: twi (Adium@moz-AEB3DB3F.pa.vic.optusnet.com.au)
[01:11:44] <tautologico> well, you just needed to upgrade your hardware
[01:11:59] *** Joins: heftig (heftig@moz-E952153C.dip0.t-ipconnect.de)
[01:12:00] <Florob> But the environment!
[01:12:08] <tautologico> nowadays I think performance is becoming more important... not only sequential performance is not improving "automatically"
[01:12:10] <LinearInterpol> lolwut?
[01:12:38] <LinearInterpol> tautologico: C's simplistic method of expressing computation in such a fast manner is what keeps me using it.
[01:12:55] <tautologico> embedded systems and most stuff running on servers, on the cloud, means performance is important
[01:12:58] <dgpratt> performance gains were free in the sense that the software industry was not (for the most part) paying for them
[01:13:03] <LinearInterpol> because it hits a midpoint where you're wholely responsible for the speed of your computation
[01:13:03] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[01:13:04] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[01:13:08] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[01:13:10] <tautologico> if you pay for CPU time and your program takes 10x more to run, you'll pay 10x more
[01:13:24] *** Joins: jzcz (nick@moz-531BAF0B.dyn.centurytel.net)
[01:13:28] <tautologico> 10x more time I eman
[01:13:30] <tautologico> I mean
[01:14:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:15:11] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:16:19] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[01:16:53] *** Quits: ptc2 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[01:17:04] *** Quits: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP) (Quit: Konversation terminated!)
[01:17:07] *** Quits: vmx (vmx@moz-BC990C74.pools.arcor-ip.net) (Quit: Leaving)
[01:17:54] <Tobba> is there any way to get an unsafe pointer without using transmute
[01:18:02] <Tobba> currently transmute for static definitions causes an ICE
[01:18:19] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[01:19:01] *** Joins: flounder (Mibbit@moz-38276AA6.guam.net)
[01:19:12] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:20:03] *** nrc is now known as nrc|away
[01:21:36] <dbaupp> Tobba: `as`
[01:21:48] <dbaupp> rusti: static x: *int = 0 as *int; x
[01:21:49] <Tobba> ah, right
[01:21:51] -rusti- (0x0 as *())
[01:23:26] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:24:04] *** Quits: nkoep (nik@moz-FC2772E2.pool.mediaways.net) (Quit: Leaving)
[01:24:23] <Florob> Does ~int have a different representation then &int?
[01:24:36] <aatch> Florob, no
[01:24:51] <pyon> Is it possible to make an enum constructor priv?
[01:24:58] <aatch> but I'm not sure that's defined.
[01:25:00] <aatch> pyon, no
[01:25:03] <bjz> pyon: no :(
[01:25:10] <pyon> Mmm...
[01:25:46] <dbaupp> pyon: yes
[01:26:08] <dbaupp> rusti: mod foo { pub enum Bar { priv Baz } } foo::Baz
[01:26:11] <Florob> Hmm... so, what's the rational for (~0i as *int) → non-scalar cast, but (&0i as *int) working?
[01:26:11] -rusti- pastebinned 7 lines of output: http://ix.io/9L6
[01:26:12] <bjz> oh yeah
[01:26:13] *** Quits: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[01:26:21] <bjz> what dbaupp said
[01:26:28] *** Quits: flounder (Mibbit@moz-38276AA6.guam.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:26:34] <pyon> :-)
[01:26:43] * dbaupp scolds bjz and aatch for lying!
[01:26:44] <aatch> Oh, well TIL
[01:26:48] <dbaupp> :P
[01:26:52] <bjz> but rust doesn't have anything like idris' `abstract data Foo a = mkFoo a`
[01:27:03] * aatch hangs head in shame
[01:27:12] <Tobba> rusti: extern "C" { static kernel_end: u8; } static mut staticAllocPtr: *mut u8 = &kernel_end as *mut u8; staticAllocPtr
[01:27:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:27:14] -rusti- pastebinned 7 lines of output: http://ix.io/9L7
[01:27:16] <Tobba> though thats not gonna compile
[01:27:16] <pyon> I just want to make only some options visible from outside. :-P
[01:27:26] <Tobba> thats what I'm having issues with now, the static part craps out
[01:27:29] <bjz> or enum Foo<T> { priv Foo(T) }
[01:28:13] <pyon> :-O
[01:28:33] <aatch> Florob, it's not a defined representation.
[01:28:41] <Florob> rusti: extern "C" { static kernel_end: u8; } static mut staticAllocPtr: *mut u8 = &mut kernel_end as *mut u8; staticAllocPtr
[01:28:43] -rusti- pastebinned 11 lines of output: http://ix.io/9L8
[01:28:50] <Tobba> you can do that?
[01:29:37] <aatch> Tobba, yep.
[01:29:46] <Tobba> thoguh that doesnt compile either
[01:29:52] <Tobba> I tried making the static mutable, same error + an ICE
[01:30:29] <aatch> Tobba the extern static?
[01:30:38] <Tobba> yeah
[01:30:47] <bjz> pyon: btw, I'm saying that `enum Foo<T> { priv Foo(T) }` do *not* exist
[01:30:54] <bjz> pyon: maybe it should
[01:31:14] <aatch> Tobba, since this is internal, could you write a macro that does what you want?
[01:31:26] <Tobba> I dont think so
[01:31:36] <Tobba> its basicaly a shitty allocator that puts stuff after a static address, no deallocation
[01:31:45] <Tobba> its used to get a more... sane allcator up and running
[01:32:14] <aatch> Tobba, sure, what I mean is a macro that gets the pointer to kernel_end (since that's what I assume you want).
[01:32:19] <pyon> bjz: :-O
[01:32:31] <Tobba> I dunno how that'd help though
[01:32:33] <bjz> pyon: ?
[01:32:36] <Tobba> I have a better idea than this though
[01:33:00] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:33:05] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[01:33:14] <aatch> Well it looks like it's failing because you're storing it in a static.
[01:33:21] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:33:23] <Tobba> cant do it otherwise
[01:33:25] <Tobba> it needs global state
[01:33:36] <dbaupp> bjz: what do you mean?
[01:33:48] <Tobba> lots of these allocations take place, and they're dynamic depending on hardware configuration, CPU setup, bootloader hardware description tables
[01:33:50] <dbaupp> rusti: mod foo { pub enum Bar<T> { priv Baz(T) } } foo::Baz(1)
[01:33:53] -rusti- pastebinned 7 lines of output: http://ix.io/9L9
[01:34:00] <dbaupp> bjz: ^
[01:34:08] <bjz> :O
[01:34:11] <bjz> yay!
[01:34:16] <dbaupp> pyon: it does work
[01:34:20] <bjz> woops
[01:34:22] <dbaupp> bjz's just a madman
[01:34:30] <aatch> bjz, that would be very strange...
[01:34:30] <bjz> didn't fully read your code before
[01:34:32] *** Quits: twi (Adium@moz-AEB3DB3F.pa.vic.optusnet.com.au) (Ping timeout)
[01:34:36] * bjz is crazy
[01:34:59] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[01:35:04] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:35:29] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:35:50] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:36:10] <Tobba> I wish there was some kind of thing where you could write
[01:36:14] <Tobba> "return this but do this first"
[01:36:15] *** Joins: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP)
[01:36:23] <Tobba> I end up slapping the return value in a temporary variable so often
[01:36:45] <bjz> Tobba: yeah, I've thought of that more than once
[01:36:48] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[01:37:14] <Tobba> its something a lot of languages lack
[01:37:17] <dbaupp> macros!
[01:37:32] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:37:38] <Tobba> damnit dbaupp
[01:37:43] <Tobba> macros everywhere
[01:37:49] <dbaupp> macros_rule!
[01:37:58] <Tobba> hue
[01:38:30] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:39:10] <bjz> Tobba: (proc(x) { ... }).after(|| { ... }) you mean?
[01:39:30] <Tobba> yeah I guess
[01:39:31] <bjz> (proc(x) { ... }).after(proc() { ... })
[01:39:40] <dbaupp> bjz: proc is an allocation, fwiw
[01:39:45] <bjz> ahh
[01:39:51] <Tobba> I dont even have proc(
[01:39:53] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[01:39:54] <Tobba> or after for that matter
[01:40:03] <bjz> oh, just playing
[01:40:04] <dbaupp> return_first!(x; x -= 1)
[01:40:08] <bjz> not implemented
[01:40:14] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:40:17] <bjz> Tobba: use 0.9-pre
[01:40:23] <Tobba> I wouldent have it anyways
[01:40:26] <Tobba> kernel dev, no_std
[01:40:26] <bjz> it's highly recommended
[01:40:30] <bjz> ohhh
[01:40:32] <bjz> ok
[01:40:41] <Tobba> running a master build from like, yesterday
[01:40:58] <dbaupp> you should have proc on that?
[01:41:21] <Tobba> actually I should yeah, I never tested
[01:41:24] <Tobba> is proc a builtin thing now
[01:41:35] <dbaupp> yes
[01:41:36] <Tobba> oh
[01:41:45] <bjz> return_first!(x => x => -= 1)?
[01:41:54] <Tobba> ew
[01:41:57] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[01:42:02] <dbaupp> bjz: yeah... no. :P
[01:42:02] <Tobba> which reminds me I need to come up with some nice syntax for kernel panics
[01:42:09] <bjz> :P
[01:42:35] <bjz> oh wait
[01:42:36] <aatch>  (╯°□°）╯︵ ┻━┻
[01:42:37] <bjz> oops
[01:42:38] <sbalmos> oh_crap!()
[01:42:41] <dbaupp> bjz: what if the second bit isn't just `returned_variable <stuff>` (e.g. `modify(&mut x)`)
[01:42:43] <dbaupp> aatch: ?
[01:42:50] <bjz> return_first!(... => x => x -= 1)
[01:42:51] <sbalmos> Tobba: ^
[01:42:51] <aatch> kernal panics
[01:42:56] <dbaupp> oh, heh
[01:43:05] <sbalmos> Tobba: were_all_gonna_die!()
[01:43:08] <dbaupp> bjz: what's the repetition of x for?
[01:43:14] <bjz> hmm
[01:43:23] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:43:29] <bjz> there would need to be some way of destructuring
[01:43:37] <bjz> hmm
[01:43:39] <dbaupp> isn't `return_first!(thing_to_return => some_expression)` all you need?
[01:43:44] <dbaupp> oh, for returning you mean?
[01:44:13] <bjz> just a sec
[01:44:21] <bjz> I will have a go in a gist
[01:44:56] * bjz looks at glfw-rs for an example
[01:45:04] <Tobba> I think I'll go with something like
[01:45:19] <Tobba> panic!("something ", somevar)
[01:45:24] <Tobba> like I did for my print function
[01:45:40] <Tobba> I kind of want to be able to embed a list of variables which should be displayed on the panic report too though
[01:45:50] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[01:46:07] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[01:46:56] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[01:46:57] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:47:48] <Tobba> I think I'll modify my printable trait to take a closure for putting chars
[01:48:11] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[01:51:19] *** Joins: dangets (dangets@moz-E9E4A77B.cpe.cableone.net)
[01:51:45] <brson> some 0.9 release candidates, completely untested still https://gist.github.com/brson/8328067
[01:51:46] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:52:03] <brson> i'm going to test the windows install now, which is surprisingly 152MB small
[01:52:06] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:52:21] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:52:24] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[01:53:16] <bjz> how do you do something like: pub extern "C" unsafe fn glfwGetVersion
[01:53:33] <bjz> Untitled 2.rs:4:24: 4:30 error: expected `{` or `mod` but found `unsafe`
[01:53:33] <bjz> Untitled 2.rs:4         pub extern "C" unsafe fn glfwGetVersion(major: *mut c_int, minor: *mut c_int, rev: *mut c_int) {
[01:53:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:53:51] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:54:25] <Tobba> I think you can drop the unsafe
[01:54:27] <Tobba> and the pub
[01:54:34] *** Joins: japaric (japaric@5F207A99.A347E168.F4D5766F.IP)
[01:54:41] <klutzy> bjz: https://github.com/mozilla/rust/issues/10025
[01:54:50] <Tobba> or that
[01:55:53] <Tobba> I wonder if I can write a proper stack unwinder in rust
[01:55:59] <Tobba> it'd probably end badly though
[01:56:14] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[01:57:21] <bjz> Tobba: this is my use case: https://gist.github.com/bjz/9492f7a9634e116a1bc0
[01:57:31] <bjz> for return_first!
[01:57:43] <vadimcn> Is there currently some [hacky] way to simulate associated types in Rust?
[01:57:52] <Tobba> heh yeah
[01:57:57] <brson> going to reroll the windows installer
[01:58:00] <bjz> vadimcn: no :(
[01:58:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:58:10] <bjz> vadimcn: I wish there was
[01:58:30] <bjz> vadimcn: I get types params flying out of my ears
[01:58:32] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:58:45] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:59:07] <klutzy> brson: installer says "The Rust Project is copyright 2013" :p
[01:59:11] <bjz> https://gist.github.com/bjz/c2b0ce9362cf748b4193#file-gencomm-rs-L140-L144
[01:59:23] <Tobba> though in thoery(!) I should be able to write code that unwinds the stack on an error and dumps all local variables from each stack frame
[02:00:28] <brson> klutzy: ok, I'll fix that. it also lists a really silly version number
[02:00:33] <brson> going to have to push another commit :(
[02:00:47] <vadimcn> Any idea, what pnkfelix meant by "I am aware that one can express currently express type synonyms in much the same way that one does in Java...", here: https://github.com/mozilla/rust/issues/5033  ?
[02:01:07] <brson> pnkfelix: what did you mean by "I am aware that one can express currently express type synonyms in much the same way that one does in Java..."?
[02:01:29] <Yurume> The Rust Project is copyright $(date +%Y) :)
[02:01:38] <pnkfelix> vadimcn: brson: I just meant that you can get hackish names by adding type parameters and then instantiating them.
[02:02:21] <pnkfelix> class Foo<T/*=Bar<int>*/> { T m_; }   Foo<Bar<int>> anInstance;
[02:02:34] <pyon> What exactly is the type of an assignment expression?
[02:02:45] <dbaupp> ()
[02:02:59] <dbaupp> rusti: let mut x = 1; (x = 2)
[02:03:02] -rusti- pastebinned 7 lines of output: http://ix.io/9La
[02:03:06] <brson> Yurume: where is that?
[02:03:32] <pyon> Ah, so if I want to do the equivalent of C's "if (x = a) { ...", I would have to do "if { x = a; x } { ...", right?
[02:03:38] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[02:03:55] <brson> oh i see
[02:04:31] <Yurume> brson: sorry, I was kidding :)
[02:04:36] <vadimcn> pnkfelix: does that help if one wants to get associated types from outside of Foo ?
[02:04:41] <Yurume> (and not recommended anyway)
[02:05:09] <pnkfelix> vadimcn: nope.  (I didn't mention that the method is insufficiently-expressive in addition to being ugly.)
[02:05:35] <vadimcn> oh, ok :(
[02:05:44] <klutzy> ugh I installed 0.9 at Rust-0.8 :-/
[02:06:07] <vadimcn> are associated types still on the roadmap for v1?
[02:06:11] <brson> klutzy: that will probably go poorly!
[02:06:33] <brson> ooh, and uninstalling rust 0.9 will leave rust 0.8 artifacts around since we change the name of the rustc directory to rustlib
[02:06:44] <bjz> vadimcn: probably not, but the syntax probably needs to be prepared for their addition
[02:07:35] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[02:08:03] <bjz> vadimcn: we also need to deal with the syntax for accessing associated items in the first place
[02:08:31] <bjz> vadimcn: at the moment the only associated items we have are static methods
[02:08:33] *** Joins: jmgrosen (jmgrosen@moz-8C649C07.cs.ucsb.edu)
[02:08:56] <vadimcn> oh well
[02:09:06] <bjz> vadimcn: if they are in a trait, and don't include the Self type in theor signature, it is impossible to call them
[02:09:21] <dbaupp> <3 `dummy: Option<Self>`
[02:09:29] <bjz> yep: ^
[02:09:30] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:09:55] <bjz> vadimcn: currently the syntax proposed is: Trait::<for T>::function()
[02:10:18] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[02:10:25] <bjz> vadimcn: so I'm guessing the associated type would be: Trait::<for T>::U
[02:10:29] <vadimcn> bjz: yeah, but I want associated types, not functions()
[02:10:44] <bjz> yeah, but its something we need to sort out first
[02:10:46] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[02:10:56] <vadimcn> ok, just asking...
[02:11:11] *** Joins: erickt (etryzelaar@moz-D455C143.public.wayport.net)
[02:11:12] <klutzy> brson: 0.9 package contains libgcc and libstdc++ stuff. is it needed to add license to installer?
[02:11:15] <bjz> no worries
[02:11:25] <bjz> vadimcn: it's good to ask!
[02:11:40] <bjz> vadimcn: keep asking stuff! :)
[02:11:45] <vadimcn> klutzy: doesn't it have licenses?
[02:12:04] <vadimcn> I think I changed windows installer to include them too
[02:12:38] <bjz> vadimcn: atm for some things you can just thread the type parameters through
[02:12:47] <brson> klutzy: the license is included on disk, but not on the installer license screen
[02:12:55] <bjz> vadimcn: you end up with huge parameter lists though
[02:12:59] <brson> i hope that is sufficient
[02:13:04] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Ping timeout)
[02:13:27] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:13:32] <klutzy> vadimcn: installer shows: http://pastebin.com/uakwdNR6
[02:14:12] <vadimcn> klutzy: I mean, they get installed next to the binaries
[02:14:16] <bjz> vadimcn: unfortunately it's impossible to do everything for 1.0 :(
[02:14:39] <klutzy> vadimcn: ah yep. they are at bin/third-party/
[02:14:59] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[02:15:05] <klutzy> I was unaware of them at first because installer hadn't finished :p
[02:15:23] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:17:42] *** Quits: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP) (Quit: Konversation terminated!)
[02:17:49] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[02:18:37] *** Quits: erickt (etryzelaar@moz-D455C143.public.wayport.net) (Ping timeout)
[02:19:20] <klutzy> brson: is bin/rustc/ still necessary? installer created it
[02:19:38] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[02:19:56] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Ping timeout)
[02:20:22] <acrichto> klutzy: that's the extra bloat in the installer
[02:20:27] <acrichto> the windows bots just needed a cleaning
[02:21:22] *** Quits: jzcz (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[02:22:03] <diverse> brson: in the guide-lifetimes.md file, shouldn't it be "The Rust Reference Pointers and Lifetimes Guide" for the title?
[02:23:36] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[02:24:31] <klutzy> acrichto: do you mean installer will be re-created without rustc/?
[02:26:07] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[02:26:07] <acrichto> klutzy: yeah brson's gonna clean everything out and that'll all get dropped
[02:26:28] <klutzy> ah great!
[02:27:04] <klutzy> I was worried of that users still have to type rustc.exe
[02:27:31] <diverse> brson: nvm
[02:28:18] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[02:28:34] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:30:59] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[02:31:42] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[02:33:30] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:33:31] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[02:33:45] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[02:33:47] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:33:54] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:35:02] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:35:45] *** Joins: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net)
[02:36:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:36:18] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[02:36:22] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[02:36:24] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[02:36:41] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:37:50] *** Quits: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[02:37:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:38:58] *** zz_kimundi is now known as kimundi
[02:40:38] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[02:41:19] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[02:44:01] *** Joins: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net)
[02:45:43] *** Quits: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net) (Ping timeout)
[02:45:51] *** Joins: t4nk717 (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au)
[02:47:01] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:48:02] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[02:48:16] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[02:48:46] *** Quits: dangets (dangets@moz-E9E4A77B.cpe.cableone.net) (Ping timeout)
[02:48:56] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:49:00] <t4nk717> hi guys, how do i prompt a string and then get the user input to do something else?
[02:49:03] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[02:50:38] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[02:52:13] <Yurume> t4nk717: std::io::buffered::BufferedReader::new(std::io::stdin()).read_line() will return Option<~str> which is either a None (IO error) or Some(string) with a trailing newline if any.
[02:52:30] <SiegeLord> t4nk717: http://pastebin.ca/2530719 ?
[02:52:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:52:57] <Yurume> if you are reading multiple strings, then you'd rather store the stream to the variable: `let mut stdin = std::io::...(...stdin()); stdin.read_line()`
[02:54:01] <t4nk717> k, thanks
[02:54:24] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:56:31] <t4nk717> it turns up with an error: could not find buffered
[02:56:39] *** Joins: jzcz (nick@moz-531BAF0B.dyn.centurytel.net)
[02:57:21] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[02:59:48] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[02:59:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:02:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:02:12] <pyon> I like enums whose constructors are structs. However, the default syntax for pattern-matching them, "Foo { bar: bar, baz: baz } => ...", is quite cumbersome. Can it be abbreviated to "Foo { bar, baz }", like in ML?
[03:02:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:02:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:02:56] *** Quits: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com) (Quit: Leaving...)
[03:03:00] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: payday)
[03:03:13] <kimundi> you can
[03:03:40] <pyon> Oh, nice :-)
[03:04:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:06:41] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[03:06:51] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[03:06:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[03:06:54] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[03:08:22] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Ping timeout)
[03:08:24] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:08:24] *** ChanServ sets mode: +ao brson brson
[03:13:01] *** Quits: t4nk717 (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au) (Quit: CGI:IRC)
[03:13:04] *** Quits: kzzch (kzzch@moz-BB97B490.washdc.fios.verizon.net) (Quit: WeeChat 0.4.1)
[03:13:42] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[03:14:21] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[03:17:11] *** Quits: richo (richo@moz-1C569BCA.hsd1.ca.comcast.net) (Ping timeout)
[03:18:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:19:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:20:02] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:20:17] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[03:20:19] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[03:23:01] *** Joins: kimundi_ (kimundi@moz-9888D3CE.dip0.t-ipconnect.de)
[03:23:49] <brson> klutzy: did the windows install work otherwise?
[03:24:00] <brson> i didn't even test it after i found the first issue :-/
[03:24:07] <brson> poor choice in hindsight
[03:24:12] *** Quits: kimundi (kimundi@moz-87973BE2.dip0.t-ipconnect.de) (Ping timeout)
[03:24:13] *** kimundi_ is now known as kimundi
[03:24:56] <klutzy> brson: I removed rustc/ manually and built `fn main(){}` successfully, but haven't tested it deeply
[03:26:11] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[03:26:13] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[03:26:38] *** Joins: dhedlund (dhedlund@moz-D5D07BE4.ptld.qwest.net)
[03:26:41] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[03:27:25] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[03:27:49] <brson> klutzy: so you had to remove rustc in order to run rustc.exe?
[03:27:57] <brson> rust/
[03:27:59] <brson> rustc/
[03:28:29] <klutzy> brson: no, to save `.exe` :) I wanted to be sure that rustc/ is not used
[03:28:43] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:28:44] <brson> ah
[03:28:55] *** Quits: pnkfelix (pnkfelix@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[03:29:00] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:29:19] <klutzy> btw I've built and ran my hello-rust win32 app successfully with 0.9
[03:29:22] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[03:29:28] *** Quits: jzcz (nick@moz-531BAF0B.dyn.centurytel.net) (Quit: Konversation terminated!)
[03:29:34] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:32:24] *** kimundi is now known as zz_kimundi
[03:34:16] <Tobba> ugh, huh
[03:34:37] <Tobba> this is odd
[03:36:40] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:36:46] <Tobba> I have some internal state corruption
[03:38:11] <Tobba> yep
[03:38:18] <Tobba> dont use -fdata-sections, it breaks everything
[03:38:23] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:38:46] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:39:05] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:39:29] *** zz_kimundi is now known as kimundi
[03:39:52] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Ping timeout)
[03:40:24] *** Quits: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl) (Connection reset by peer)
[03:40:33] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[03:41:11] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[03:41:22] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[03:41:53] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[03:42:26] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[03:42:47] <kvark> task '<main>' failed at 'receiving on a closed channel', /mnt/code/claymore/rust/src/libstd/comm/mod.rs:728
[03:42:58] <kvark> is that expected during "make check"?
[03:43:25] <kvark> also, task '<main>' failed at 'called `Option::unwrap()` on a `None` value', /mnt/code/claymore/rust/src/libstd/option.rs:133
[03:43:56] <kvark> oh, it says ok, nevermind then...
[03:44:12] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[03:44:38] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[03:46:34] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: This bear's gotta fly.)
[03:46:36] <kvark> acrichto: my PR 11369 failed some whitespace checks when bors tested it. I fixed it now, the PR is updated. Is bors going to automatically try again, or is it waiting for another r+ from you?
[03:46:57] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:47:26] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[03:47:31] <dbaupp> kvark: could you squash the two commits?
[03:47:42] <dbaupp> kvark: (also, that PR needs to be rebased on top of master)
[03:48:13] * kvark went reading about squashing
[03:49:36] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Connection reset by peer)
[03:50:03] *** nrc|away is now known as nrc
[03:53:13] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:53:13] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[03:53:48] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:53:56] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[03:55:34] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Quit: Leaving...)
[03:56:20] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[03:56:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:01:46] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:05:15] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[04:06:13] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:06:47] * kvark is lost in git, doubts his PR will ever be merged
[04:07:37] <dbaupp> kvark: do you still have the two commits?
[04:08:09] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[04:08:35] <kvark> I squashed them, then pulled newest changes from your repo to merge
[04:08:53] <kvark> merged, and now "git status" shows me lots of changed files... I expected only the ones I merged
[04:09:07] <dbaupp> hm
[04:09:48] <dbaupp> can you undo the merge?
[04:09:51] <kvark> I mean, only those I had conflicts resolved. I don't see why I'm asked to commit the ones I never touched
[04:10:01] <dbaupp> oh
[04:10:18] <dbaupp> they are the others from the commit that conflicted I guess
[04:10:29] <dbaupp> `git rebase --continue` after adding tehm should be ok
[04:10:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:10:47] *** Quits: jmgrosen (jmgrosen@moz-8C649C07.cs.ucsb.edu) (Quit: jmgrosen)
[04:11:18] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:11:45] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[04:12:16] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[04:12:18] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[04:14:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:14:35] *** ChanServ sets mode: +ao dherman dherman
[04:16:51] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[04:21:36] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[04:21:49] <kvark> dbaupp: I got a clear checkout of my version of rust code, with last 2 commits. Then I squashed them locally.
[04:21:51] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[04:22:21] <kvark> now what I should do? It doesn't allow me to push the squashed result "Updates were rejected because the tip of your current branch is behind"
[04:22:45] <dbaupp> `git push -f origin <branch-name>` to force push and overwrite the remote branch
[04:22:59] <dbaupp> (dangerous in general, so be careful! :) )
[04:23:15] <kvark> ok, so basically force-pushing
[04:23:18] <kvark> done
[04:23:21] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[04:23:40] <kvark> seemed to work good
[04:23:46] <dbaupp> it's exactly force pushing ;)
[04:24:46] <dbaupp> it still needs a rebase
[04:27:28] <kvark> how do you do the rebase right?
[04:28:58] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:29:12] <dbaupp> kvark: `git rebase upstream/master` (if the github.com/mozilla/rust repo is called upstream)
[04:29:23] <dbaupp> then fix the conflicts
[04:29:28] <dbaupp> add those files
[04:29:33] <dbaupp> and `git rebase --continue`
[04:29:37] <dbaupp> then force push
[04:30:28] *** Quits: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au) (Quit: kvanb)
[04:31:49] <kvark> no squashing after I resolve the conflicts?
[04:32:36] <kvark> fatal: Needed a single revision
[04:32:37] <kvark> wow
[04:33:03] <kvark> git rebase upstream/master fails
[04:33:29] <kvark> oh wait
[04:34:16] <dbaupp> kvark: if you already have one commit you won't need to squash
[04:34:48] <kvark> https://gist.github.com/kvark/8329449
[04:35:56] <pongad> Is it possible to match pattern like   variant1(x,y) | variant2(x,y) => ... ?
[04:36:16] *** Quits: Liothen (liothen@moz-92B99500.org) (Input/output error)
[04:36:34] *** Joins: Liothen (liothen@moz-92B99500.org)
[04:36:58] <Yurume> pongad: yes, as long as types match
[04:36:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:37:40] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:37:40] <dbaupp> kvark: `git pull --rebase upstream master` I guess
[04:37:43] * dbaupp shrugs
[04:38:16] <kvark> that worked
[04:38:29] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[04:38:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:41:59] *** Quits: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[04:42:13] <kvark> ok, so I called git checkout --theirs on conflicts, then called git add on them, then called git --rebase
[04:42:27] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[04:42:39] <kvark> now I'm all set for the final push? how do I verify that everything is correct?
[04:42:53] <dbaupp> `git show` should show your changes
[04:43:08] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[04:43:59] <kvark> oh god
[04:44:11] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[04:44:19] <kvark> I see my version of files that I called git checkout --theirs on...
[04:45:36] <dbaupp> what, did you call `git --rebase` or `git rebase --continue`?
[04:45:56] <dbaupp> *wait
[04:46:08] <pongad> Yurume: Thanks xD
[04:46:11] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:46:12] <kvark> "git rebase --continue" after I resolved the conflicts (apparently, resolved them incorrectly)
[04:46:46] <dbaupp> kvark: what do you mean by "resolved them incorrectly", did git error at you?
[04:47:17] <dbaupp> kvark: (how about you push the branch up, and I'll take a look? :) )
[04:47:43] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[04:50:18] <pongad> If I have   &mut my_enum, does  my_enum = some_variant   not work? The compiler complains about a type mismatch
[04:50:25] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[04:50:36] <dbaupp> pongad: *my_enum = some_variant
[04:50:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:50:51] <pongad> dbaupp: Oh duh
[04:51:03] <kvark> I mean that "git show" shows me that I'm going to submit *my* versions of those (conflicting files), where in fact I choose *their* versions (by doing git checkout --theirs)
[04:51:10] <pongad> I was trying to do my_enum = &some_variant, which doesn't work for an obvious reason
[04:51:39] *** Quits: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au) (Quit: kvanb)
[04:51:53] <dbaupp> kvark: push it please :)
[04:51:59] <kvark> to a branch?
[04:52:04] <dbaupp> whereever
[04:52:09] <kvark> hah
[04:52:23] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[04:52:27] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[04:52:46] <dbaupp> kvark: (also, doesn't using `checkout --theirs` in theory mean you just overwrite your changes?)
[04:53:07] <kvark> https://github.com/kvark/rust/tree/test
[04:53:18] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[04:53:24] <kvark> yes, that's what I wanted to achieve... because someone replicated them already
[04:53:45] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:54:35] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[04:54:38] <kvark> now what I need is to leave only 1 file of those 3 I changed...
[04:55:04] <dbaupp> kvark: https://github.com/kvark/rust/commit/b4aab154f5d4eb917b29d96bf5d7bfb1c0ffde09#diff-b12608d176a89ee2bdc98365dac9095bL385
[04:55:24] <kvark> yes, this one
[04:56:10] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:56:14] <pongad> dbaupp: I still got problems, same error http://pastebin.com/TZTNMnXJ
[04:56:45] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:57:06] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[04:57:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:57:57] <dbaupp> pongad: what's the full error message?
[04:58:14] <pongad> mismatched types: expected `&mut MinMax<T>` but found an enum or structure pattern
[04:58:20] <kvark> heh
[04:58:21] <pongad> On all of the assignment lines
[04:58:24] <dbaupp> ah!
[04:58:28] <kvark> easy :)
[04:58:56] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[04:58:56] *** ChanServ sets mode: +o jdm
[04:59:09] <dbaupp> pongad: ah, the problem is the `self`
[04:59:14] <kvark> match as &MinMax(x,y), &NoElements, &OneElement(x), etc
[04:59:22] <dbaupp> pongad: it has type &mut MinMax
[04:59:26] <dbaupp> not type MinMax
[04:59:26] *** Joins: rootnode (rootnode@C0004EA0.3BBD8287.8EDFC9B.IP)
[04:59:40] <dbaupp> in any case, this probably requires a bit of a trick
[05:00:00] <kvark> does it?
[05:00:23] <pongad> I'm not quite sure why, it should work the same way as   int *x; *x = 42; right?
[05:00:33] <pongad> Well, it's Rust so probably not, but you know my meaning
[05:00:41] <kvark> pongad: I'd recommend doing "*self = match self { &NoElements => ... and so forth }"
[05:00:56] <dbaupp> pongad: https://gist.github.com/huonw/febc852c6dc55eaa9524
[05:01:15] <dbaupp> kvark: the trick is because you can't move out from behind a `&mut` pointer
[05:01:34] <dbaupp> (and generics move)
[05:01:37] <kvark> you don't need to move out
[05:01:45] <dbaupp> you do
[05:01:55] <dbaupp> OneElement(y) => MinMax(val, y)
[05:01:58] <dbaupp> moves y out
[05:02:05] <kvark> If you use "ref" on parameters, it will not move anything out
[05:02:19] <dbaupp> yes
[05:02:31] <kvark> I suppose either way is acceptable
[05:02:31] <dbaupp> the point is pongad actually *needs* to move out
[05:02:38] <kvark> hmm
[05:02:41] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:02:50] <kvark> ok, cool
[05:02:53] <dbaupp> `OneElement(ref y) => MinMax(val, <what goes here?>)`
[05:03:18] <kvark> hmm I see
[05:03:20] <kvark> you are correct
[05:03:26] <pongad> What does 'ref' do? :D
[05:03:44] <dbaupp> it takes a reference into some other memory location in a pattern match
[05:04:01] <dbaupp> `let ref x = 1;` and `let x = &1;` are exactly the same
[05:04:08] <pongad> oh
[05:04:17] <kvark> useful for pattern matching
[05:04:21] <dbaupp> it's required for handling generics and types that don't move
[05:04:21] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Broken pipe)
[05:04:28] <dbaupp> s/don't//
[05:04:29] <dbaupp> oops
[05:04:31] <kvark> liek OneElement(ref y) allows you to access that y
[05:04:46] <kvark> s/liek/like
[05:05:08] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[05:05:12] <kvark> (without moving the whole thing out)
[05:05:28] <kvark> anyways, dbaupp, can we get back to my git struggling? :)
[05:05:49] <pongad> :D
[05:06:00] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[05:06:29] <dbaupp> kvark: I think it would be best to resolve the conflicts by hand, rather than with a straight checkout
[05:06:32] <dbaupp> kvark: in any case
[05:06:47] <dbaupp> I guess you want to get back to a pre-rebase state?
[05:06:51] <kvark> yeap
[05:06:59] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:07:02] <kvark> possible without re-cloning the whole thing?
[05:07:13] <kvark> also, need to delete this branch
[05:07:27] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:07:38] <dbaupp> `git reset --hard origin/branch_from_the_PR` (assuming you haven't pushed the rebased code to that branch yet)
[05:08:40] <dbaupp> and then you can rebase again, but resolving the conflicts by hand :)
[05:09:02] <kvark> I'll reset these future-conflicts now, before rebasing, and squash again
[05:09:10] <kvark> so that rebase will be smooth
[05:09:26] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[05:10:35] *** Joins: thehydroimpulse (Mibbit@moz-A9FB1B83.ed.shawcable.net)
[05:11:05] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[05:11:26] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:11:44] <thehydroimpulse> Does anyone know where std::vec::raw::to_ptr has been moved to in 0.9?
[05:11:57] <pongad> dbaupp: Thanks, it works great. I'm still not quite sure how though xD
[05:11:59] <dbaupp> thehydroimpulse: .as_ptr() method
[05:12:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[05:12:03] <dbaupp> pongad: black magic :P
[05:12:23] <dbaupp> pongad: http://static.rust-lang.org/doc/master/std/util/fn.replace.html
[05:12:36] <thehydroimpulse> dbaupp Well, that works perfectly. Thanks
[05:12:50] <kvark> dbaupp: how do I hack the last commit to leave some files untouched?
[05:13:03] <dbaupp> kvark: I don't know what that means?
[05:13:16] <pongad> dbaupp: Still confused, will think on it tomorrow xD
[05:13:27] <kvark> let's say, I regret modifying those files which will cause conflicts
[05:13:33] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[05:13:51] <kvark> can I reset them now, making my commit to not touch them any more, before merging?
[05:14:16] <bjz> yay merge issues - don't we love them
[05:14:39] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[05:14:40] <kvark> yay git issues :(
[05:14:44] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:14:46] *** Quits: thehydroimpulse (Mibbit@moz-A9FB1B83.ed.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:17:03] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[05:17:09] *** Quits: rootnode (rootnode@C0004EA0.3BBD8287.8EDFC9B.IP) (Ping timeout)
[05:17:21] <nielsle> kvark: Don't do the following before you have consulted google,  beacuse I am not an expert, but: git reset --soft HEAD~1   ..and the commit again
[05:18:00] <kvark> nielsle: I suppose I can always reclone from fresh
[05:18:05] <kvark> so I'll try that
[05:18:22] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:18:27] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: movie)
[05:18:35] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[05:19:15] <nielsle> OKI
[05:19:52] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:20:18] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Ping timeout)
[05:21:33] *** Quits: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP) (Ping timeout)
[05:22:41] <dbaupp> kvark: I just rebased it https://github.com/huonw/rust/compare/kvark_master (my sequence of commands: https://gist.github.com/huonw/4f4f4ae595bc8033e2c3 )
[05:23:11] <dbaupp> kvark: (github is tell me that that branch merges cleanly, fwiw.)
[05:23:43] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[05:24:26] <kvark> dbaupp: PR is finally updated...
[05:24:50] <dbaupp> ah, looks good!
[05:24:51] <kvark> I took nielsle path, and excluded the conflicts before merging up
[05:25:15] <kvark> your help is greatly appreciated, thank you!
[05:25:59] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[05:26:09] <kvark> now.... 1) do I need to do something about the PR? 2) how do I delete the test branch? :)
[05:27:21] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[05:27:29] <kvark> (the amount of magic that I had to do is... unbelievable. Most of my professional challenges seem so minor compared to this git fight)
[05:28:06] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[05:28:08] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:28:45] <muricula> The master version of the rust language tutorial does not mention for loops in loops section. I believe this is a bug and am willing to submit a pull request to fix it. Although someone more experienced may consider fixing it.
[05:28:46] <kvark> oh, I see bors already catching up. Thanks huonw
[05:29:13] <muricula> For reference: http://static.rust-lang.org/doc/master/tutorial.html#TOC
[05:33:15] <TheHydroImpulse> Is there anyway to work with C function pointers in Rust? For example, having a dynamic function that's casted to an mmapped memory region which contains the function contents?
[05:33:29] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[05:33:53] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:34:07] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[05:34:15] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[05:34:25] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:34:36] <dbaupp> TheHydroImpulse: yes, `extern "C" fn(...) -> ...` is a C function pointer
[05:34:57] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[05:35:09] <dbaupp> TheHydroImpulse: (that should never be null, if you need a function pointer that can be null: `Option<extern "C" fn(...) -> ...>`)
[05:35:25] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[05:35:33] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:35:44] <dbaupp> muricula: aiui, it's partially by design
[05:35:48] <dbaupp> because our for loops changed
[05:35:54] <dbaupp> and still aren't perfect
[05:36:32] <dbaupp> muricula: (they are described in detail here: http://static.rust-lang.org/doc/master/guide-container.html#for-loops fwiw)
[05:37:01] <TheHydroImpulse> So something like: `let func: extern "C" fn(num: u32) -> u32 = m.addr` where `m.addr` is a *u8 pointing to an mmapped region? Seems like it's not letting because of the mismatched types.
[05:37:28] <dbaupp> TheHydroImpulse: ah, you'll need to transmute the pointer
[05:37:28] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:37:44] <dbaupp> `let func: ... = std::cast::transmute(m.addr);` if you're using libstd
[05:38:08] <muricula> Okay, I just think that something as basic as a for loop should be covered in your tutorial, but if you the language designers feel like this is a good decision or that for loops may change again, I will leave that to you.
[05:38:36] <TheHydroImpulse> dbaupp Awesome, thanks for the help.
[05:38:36] <dbaupp> muricula: I agree with you :)
[05:39:09] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:39:53] <dbaupp> muricula: (agree that for loops should be in the tutorial, that is)
[05:41:12] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[05:41:35] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:42:23] *** Joins: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net)
[05:44:36] *** Quits: Liothen (liothen@moz-92B99500.org) (Quit: Textual IRC Client: www.textualapp.com)
[05:46:54] *** Joins: jesse99_ (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[05:47:07] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[05:47:07] *** jesse99_ is now known as jesse99
[05:48:15] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[05:48:49] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:50:36] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[05:50:39] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:51:45] *** Quits: heftig (heftig@moz-E952153C.dip0.t-ipconnect.de) (Quit: Quitting)
[05:53:27] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:53:51] *** Joins: aravindavk (aravinda@47947741.B344AA5D.B71B3CC6.IP)
[05:54:35] *** Joins: catilac (catilac@25620E06.F9DF2FD8.E9463AEB.IP)
[05:54:37] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[05:54:41] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[05:54:43] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:55:14] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[05:55:52] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[05:57:47] <geomyidae> anyone around I can bug about udp stuff? Is UdpStream just an illusion that just recvfrom and filters and sendto's on the other side?
[05:58:29] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[05:58:59] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[05:59:45] <geomyidae> So after looking at the source, it becomes painfully apparent that that's the case. :) so it's a design choice for me I guess. hm
[06:00:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[06:01:52] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:02:18] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:02:26] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[06:02:29] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:02:44] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[06:03:45] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[06:05:26] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Ping timeout)
[06:07:34] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:09:15] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[06:13:11] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:13:12] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[06:13:42] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:13:42] *** ChanServ sets mode: +ao dherman dherman
[06:14:57] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[06:15:15] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[06:16:32] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:16:49] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:17:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:17:45] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[06:17:46] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:18:42] *** Joins: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de)
[06:18:47] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:19:22] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:20:46] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:23:57] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:24:08] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:24:10] <brson> here's a new rc https://gist.github.com/brson/8328067
[06:24:37] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:24:45] <alan_andrade> bumping to 0.9 huh? Exciting!
[06:25:47] <bjz> why does `println!(r"\nDefault passes for rustdoc:")` say that `n` is an invalid escape character
[06:26:53] <klutzy> bjz: https://github.com/mozilla/rust/issues/9970
[06:27:13] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[06:28:12] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[06:28:35] <bjz> ahh, cheers
[06:28:54] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:28:56] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[06:29:10] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:29:26] <brson> alan_andrade: we'll test the rc tonight and if it goes well release it tomorrow
[06:29:27] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[06:29:55] <alan_andrade> awesome!
[06:30:06] <alan_andrade> I'll be around if any help is needed
[06:30:16] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:30:43] <brson> i'm going to send a message to the mailing list then promptly go to bed. haven't slept in two days now
[06:31:02] * alan_andrade o_O
[06:31:12] <dbaupp> the joys of release engineering? :(
[06:31:57] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:32:19] <brson> nah. I just couldn't sleep last night
[06:33:00] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:33:17] <dbaupp> oh; sleep well :)
[06:37:14] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:37:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:39:00] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[06:39:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[06:39:13] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:39:28] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:39:32] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Quit: Lost terminal)
[06:39:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:39:58] <brson> please don't post the RC email to any news websites. save that for the release announce
[06:41:51] *** Joins: flounder (Mibbit@moz-38276AA6.guam.net)
[06:42:37] <flounder> I think I heard chatter the other day about a change to make borrows last through the end of a statement, does anyone know when that is set to land?
[06:42:38] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[06:42:56] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[06:43:19] <dbaupp> flounder: aiui, nmatsakis is cleaning up that patch (writing documentation and so on)
[06:43:37] <flounder> dbaupp: thanks
[06:44:03] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:44:41] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:46:02] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:46:39] *** Joins: jeffdb1 (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[06:48:33] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:48:48] <lennart> what does it likely mean if rustc overflows its stack trying to compile something?
[06:50:07] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:52:26] *** Parts: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) ()
[06:53:22] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[06:53:23] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:54:03] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:55:07] *** Quits: aravindavk (aravinda@47947741.B344AA5D.B71B3CC6.IP) (Ping timeout)
[06:58:01] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[06:58:04] <kvanb> shouldn't have removed __morestack
[06:58:11] <kvanb> :P
[06:58:34] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[06:59:31] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:59:35] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[07:00:00] *** Quits: flounder (Mibbit@moz-38276AA6.guam.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:00:04] <dbaupp> kvanb: I imagine that lennart is getting a 'rustc overflowed its stack' error message
[07:00:16] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[07:00:22] <dbaupp> which is printed by __morestack ;)
[07:00:45] <dbaupp> lennart: do you have any recursive generic functions or data types?
[07:01:51] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:02:02] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[07:02:26] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[07:03:36] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:03:48] <kvanb> an infinite type would probably do it
[07:03:52] *** Joins: fabiand (fabiand@moz-BD48AAA5.adsl.alicedsl.de)
[07:03:53] <kvanb> .. maybe
[07:03:58] <dbaupp> yes
[07:04:06] <dbaupp> we don't support polymorphic recursion
[07:04:27] <dbaupp> (and we don't detect it very well/at all... leading to plain old infinite recursion)
[07:05:29] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[07:07:05] <lennart> dbaupp: yes, a type which includes an Option of itself
[07:07:54] <lennart> but I don't get a compile error unless I implement a constructor for the type
[07:08:44] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[07:08:54] *** vfetwnuncszu is now known as dcrewi
[07:09:06] <lennart> http://pastebin.mozilla.org/3971954
[07:11:56] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[07:13:55] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[07:15:15] *** Quits: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au) (Quit: kvanb)
[07:15:45] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[07:16:05] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:16:06] *** Quits: FreeFull (freefull@moz-10D3AE1E.as13285.net) (Quit: )
[07:17:13] *** Quits: jeffdb1 (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: Leaving.)
[07:18:06] <dbaupp> lennart: ah! the fix here is bar: Option<~foo>
[07:19:00] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[07:19:11] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[07:19:13] <lennart> aha, thanks
[07:19:30] <lennart> I suppose that makes sense
[07:19:54] <lennart> if the None constructor tries to allocate space for a bar
[07:21:13] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[07:24:05] <dbaupp> yes
[07:24:35] *** Quits: catilac (catilac@25620E06.F9DF2FD8.E9463AEB.IP) (Quit: Leaving...)
[07:25:12] *** Quits: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[07:25:29] *** Joins: mib_yjpsza (Mibbit@moz-F62F3603.hsd1.ca.comcast.net)
[07:25:49] *** Quits: mib_yjpsza (Mibbit@moz-F62F3603.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:26:15] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[07:29:12] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[07:29:38] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[07:31:01] *** Joins: richo (richo@moz-320844EC.public.monkeybrains.net)
[07:31:49] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[07:33:59] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[07:34:30] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[07:35:29] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[07:35:49] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Ping timeout)
[07:36:30] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[07:37:02] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:37:37] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[07:38:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:38:27] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[07:39:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:41:26] *** Quits: alonlevy (alon@moz-30492E92.bb.netvision.net.il) (Ping timeout)
[07:42:52] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[07:43:05] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[07:43:06] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[07:45:28] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[07:46:50] <geomyidae> rusti: type FatPacket = ~[u8]; let x = ~[ 0u8, 1u8 ]; x as FatPacket
[07:46:52] -rusti- pastebinned 7 lines of output: http://ix.io/9Lu
[07:48:10] <dbaupp> geomyidae: `type` in Rust is identical to typedef in C. It's just an abbreviation/renaming of the type, it's not actually different
[07:48:22] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:48:30] <dbaupp> rusti: type whatever = uint; let x: uint = 1; let y: whatever = x; (x, y)
[07:48:31] -rusti- (1u, 1u)
[07:50:04] <geomyidae> thanks
[07:50:22] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:51:08] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[07:52:53] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[07:52:59] *** Joins: derek_c (derek@718B9E29.A924B936.AA745434.IP)
[07:55:25] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[07:56:48] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:57:37] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:59:56] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[08:00:18] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[08:01:49] *** Joins: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP)
[08:02:11] *** Joins: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch)
[08:03:06] *** Quits: derek_c (derek@718B9E29.A924B936.AA745434.IP) (Ping timeout)
[08:04:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[08:07:03] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:11:03] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[08:16:06] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[08:17:12] *** Joins: derek_c (derek@3C7DF116.117B7BA2.EB673A25.IP)
[08:23:50] *** Joins: jackneill (jackneill@moz-2B2E9D6.pool.digikabel.hu)
[08:24:42] *** Joins: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de)
[08:25:09] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[08:29:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:31:04] *** Quits: derek_c (derek@3C7DF116.117B7BA2.EB673A25.IP) (Ping timeout)
[08:31:59] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[08:33:17] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:33:50] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:33:51] *** Quits: abacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net) (Ping timeout)
[08:34:55] *** Joins: [a]bacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net)
[08:34:56] *** [a]bacus is now known as abacus
[08:35:34] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[08:35:55] *** Joins: benjamin__ (benjamin@moz-2D6D1ED1.dip0.t-ipconnect.de)
[08:36:29] *** Quits: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de) (Ping timeout)
[08:36:43] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[08:37:55] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[08:38:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:38:20] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[08:38:25] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[08:39:54] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[08:40:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:41:12] *** Quits: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch) (Quit: Verlassend)
[08:42:41] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[08:43:25] *** flaper87|afk is now known as flaper87
[08:44:39] *** Joins: derek_c (derek@B78B363A.117B7BA2.EB673A25.IP)
[08:44:56] <derek_c> what would be the format string for a (uint, uint) tuple?
[08:46:35] <bjz> I don't think tuples impl fmt::Default
[08:46:39] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:44] <bjz> unfortunately
[08:46:49] <bjz> :(
[08:46:58] <bjz> could be wrong though
[08:47:30] *** Joins: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch)
[08:47:48] <bjz> yeah, they don't :(
[08:47:52] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[08:49:08] <derek_c> yeah they don't
[08:49:24] <derek_c> so there isn't an easy way to print a tuple?
[08:49:26] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:49:58] *** Quits: cantsin (cantsin@moz-F99612CC.members.linode.com) (Ping timeout)
[08:50:04] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[08:50:36] *** Quits: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch) (Quit: Verlassend)
[08:50:52] *** Joins: cantsin (cantsin@moz-F99612CC.members.linode.com)
[08:53:43] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[08:54:08] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:54:30] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:54:39] <dbaupp> derek_c: you can use reflection via `{:?}`
[08:54:49] <dbaupp> rusti: println!("{:?}", (1, 2))
[08:54:49] -rusti- (1, 2)
[08:54:49] -rusti- ()
[08:56:31] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[08:57:17] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[08:57:22] <derek_c> dbaupp: thanks, that works!
[08:58:31] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[08:59:43] *** Joins: Arthur_D (Trillian@216737EA.B44B8BCB.F6720131.IP)
[08:59:48] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[09:01:00] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[09:01:55] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:02:21] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[09:07:29] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:07:46] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[09:07:51] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[09:08:03] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:08:32] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[09:09:24] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[09:10:21] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:12:36] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[09:13:02] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:13:49] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[09:16:31] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:17:00] *** Quits: akairobotto (akairobott@C5C92391.35A75BF5.E8E9A8EF.IP) (Quit: Going offline, see ya! (www.adiirc.com))
[09:22:29] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[09:23:39] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[09:24:22] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[09:24:51] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[09:25:11] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Quit: z0w0)
[09:25:49] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:26:13] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[09:27:59] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:28:26] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:29:59] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[09:30:37] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[09:31:33] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[09:31:35] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:32:06] *** Joins: catilac (catilac@25620E06.F9DF2FD8.E9463AEB.IP)
[09:32:16] *** Quits: catilac (catilac@25620E06.F9DF2FD8.E9463AEB.IP) (Quit: Linkinus - http://linkinus.com)
[09:33:05] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[09:33:26] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:33:45] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[09:35:31] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[09:36:07] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[09:36:25] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[09:36:36] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Connection reset by peer)
[09:37:56] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[09:38:10] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[09:38:39] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:40:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:42:01] <pzol> how do I DISABLE #[warn(unused_imports)] in a crate?
[09:44:07] <rca> pzol: #[allow(unused_imports)];
[09:45:46] <pzol> rca doesnt work (0.9)
[09:47:36] <bjz> pzol: do you have the semicolon if it is at the top of the crate?
[09:47:46] *** Joins: TisButMe (Mibbit@moz-40861B51.w90-29.abo.wanadoo.fr)
[09:48:04] <pzol> bjz thx! forgot that (again...(
[09:49:18] *** Joins: frogaincia (Mibbit@moz-25F8FE72.eduroam.dynamic.rbg.tum.de)
[09:49:27] *** Quits: frogaincia (Mibbit@moz-25F8FE72.eduroam.dynamic.rbg.tum.de) (Quit: http://www.mibbit.com ajax IRC Client)
[09:49:31] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[09:50:53] * benh misses .rc files
[09:51:56] <pzol> how can I do someting like this: let mut s = "hobbit"; s[0] = "H" ?? Expecting s to become "Hobbit"
[09:52:33] *** Joins: jaen (jaen@moz-C4D1250B.neoplus.adsl.tpnet.pl)
[09:53:36] <benh> It's disallowed because in the general case replacing one letter with another cannot be done in-place
[09:54:05] <benh> You might have to work with a u8 vec
[09:54:13] <benh> and restrict yourself to ascii or being really careful
[09:55:31] <pzol> benh got it... working with string manipulation in Rust IS painful.... 
[09:55:41] <bjz> pzol: the issue is that in utf a single character might span multiple bytes (I think that's the explanation)
[09:56:08] <pzol> bjz got that ... now
[09:56:45] <bjz> in some languages we are very used to strings just being arrays of chars
[09:56:50] <bjz> but they're not really
[09:57:08] <bjz> at least if you use unicode
[09:57:13] <bjz> Rust implements them correctly
[09:57:50] <bjz> thanks to people a great deal more experienced/knowledgable than I
[09:58:22] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:59:50] *** Joins: bachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[10:00:03] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[10:00:26] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[10:01:04] *** Joins: nkoep (nik@moz-2139AD62.pool.mediaways.net)
[10:03:35] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:05:56] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[10:06:41] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[10:07:07] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[10:08:16] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[10:10:46] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:12:45] *** Quits: StarLight (StarLight@moz-F69A1A83.dynamic.avangarddsl.ru) (Connection reset by peer)
[10:14:55] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Ping timeout)
[10:15:47] <pyon> I have noticed that, quite often, I use the following repetitive pattern: http://gist.github.com/eduardoleon/8332073 (actual.rs). Would it not be nice if "match" were a looping construct, where "continue" retries the "match" (wish.rs)?
[10:16:10] <pzol> bjz totally agree and that's crystal clear to me, it's just not convenient to work without an abstraction
[10:16:22] *** Joins: darthdeu (darthdeus@62EE3073.3B96A244.4E88690D.IP)
[10:16:22] *** Quits: darthdeus (darthdeus@62EE3073.3B96A244.4E88690D.IP) (Connection reset by peer)
[10:16:46] <pzol> How can I make THIS work? let [head, ..tail] = s1.chars(); it returns mismatched types: expected `std::str::CharIterator<>` but found a vector pattern
[10:17:29] *** Joins: StarLight (StarLight@moz-3D7D8B48.dynamic.avangarddsl.ru)
[10:17:30] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[10:17:40] <pyon> pzol: Well, a CharIterator is not the same thing as a vector of chars.
[10:17:40] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[10:17:40] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[10:17:40] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[10:17:53] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[10:17:54] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[10:18:07] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[10:18:08] <pzol> pyon I know... but how do I make a vector out of that iterator? 
[10:18:20] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[10:18:33] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:18:56] <dbaupp> pzol: .to_owned_vec() or .collect()
[10:19:07] <dbaupp> pzol: keeping it in iterator form if possible is better though
[10:19:48] <dbaupp> `let mut it = s1.chars(); let head = it.next().expect("empty string"); /* iterating over `it` will give the rest of tail */
[10:20:01] <rca> pzol: are you trying to construct a ~[u8] from your str?
[10:20:32] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:20:32] <pzol> rca currently I want to split the string into the first char and the rest using destructuring
[10:22:05] <rca> oh, ok didn't see your comment above.
[10:26:09] <pyon> s1.slice_from(1) should give you the tail of the string s1, right?
[10:26:43] <Yurume> pyon: not really, since 1 is the byte offset
[10:26:49] <pyon> Oh.
[10:26:57] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[10:27:31] <Yurume> pyon: use shift_slice_char() instead :)
[10:27:38] <pzol> dbaupp so what's wrong with this one? let [head, ..tail] = [1, 2, 3]; 
[10:27:43] <Yurume> (or if you are hardcore, char_range_at(0).)
[10:27:58] <pzol> rusti: let [head, ..tail] = [1, 2, 3];
[10:28:04] -rusti- pastebinned 7 lines of output: http://ix.io/9LB
[10:28:56] <dbaupp> pzol: a bug
[10:28:58] <dbaupp> mostly
[10:29:49] <pzol> dbaupp glad to hear that... kind of ... thought I'm goin' nuts....  
[10:29:51] <dbaupp> since the RHS is a fixed sized vector the compiler can statically verify if a pattern like that will succeed or not
[10:30:07] <pzol> dbaupp is there a way to make this work?
[10:30:14] <dbaupp> but, `let [head, .. tail] = v;` for v: ~[int] *should* not work
[10:30:40] <pyon> How do I insert Unicode literals in a static string?
[10:30:40] <dbaupp> `let (head, tail) = match [1, 2, 3] { [head, .. tail] => (h, t) };`
[10:30:59] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[10:31:19] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[10:31:51] <dbaupp> you aren't allowed patterns that may fail to match in a `let` statement
[10:31:55] <Yurume> dbaupp: wait, so it is indeed irrefutable so match does not need another arms but it incorrectly errs on the let binding?
[10:32:06] <dbaupp> pyon: "öäå" works
[10:32:07] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[10:32:12] * pzol is very confused
[10:32:13] <dbaupp> Yurume: yes, that's the bug
[10:32:25] <Yurume> I thought let and match would share the same pattern-matching code
[10:32:30] <Yurume> (in the compiler)
[10:32:33] <dbaupp> not entirely, apparently
[10:32:56] <Yurume> pzol: it's a bug in the compiler, you can use bug-free paths with `match` as dbaupp suggested
[10:32:59] <dbaupp> (that's the bug, match correctly knows about fixed length vectors but whatever checks let doesn't know)
[10:33:15] <Yurume> dbaupp didn't mean that your code has a bug ;)
[10:33:18] <dbaupp> pzol: what type are you matching on?
[10:34:07] <pyon> dbaupp: Is that the only way to insert Unicode characters in a static string?
[10:34:11] <dbaupp> pyon: you can also do "\x00" "\u0000" and "\U00000000" to give codepoints
[10:34:17] <pyon> dbaupp: Ah, nice!
[10:34:42] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[10:35:17] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Ping timeout)
[10:36:39] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[10:36:52] <dbaupp> who was asking about things existing until the end of the statement before? coincidentally niko wrote up something today: http://smallcultfollowing.com/babysteps/blog/2014/01/09/rvalue-lifetimes-in-rust/
[10:38:08] *** Joins: lenstr (lenstr@583D231B.9636F313.7A27613B.IP)
[10:38:28] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[10:38:32] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[10:39:06] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:40:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:40:56] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[10:41:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:41:57] *** Joins: oberstet (quassel@moz-64209FC2.dynamic.mnet-online.de)
[10:42:10] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:44:16] <pzol> dbaupp let (head, tail) = match [1, 2, 3] { [head, .. tail] => (head, tail) }; gives => borrowed value does not live long enough
[10:44:51] <dbaupp> ah
[10:45:26] <dbaupp> rusti: let tmp = [1, 2, 3]; let (head, tail) = match tmp { [head, .. tail] => (head, tail) }; println!("{:?}", head, tail)
[10:45:28] -rusti- pastebinned 7 lines of output: http://ix.io/9LD
[10:45:37] <dbaupp> rusti: let tmp = [1, 2, 3]; let (head, tail) = match tmp { [head, .. tail] => (head, tail) }; println!("{:?} {:?}", head, tail)
[10:45:39] -rusti- 1 &[2, 3]
[10:45:39] -rusti- ()
[10:46:46] <pzol> dbaupp thx
[10:49:51] *** Quits: jaen (jaen@moz-C4D1250B.neoplus.adsl.tpnet.pl) (Ping timeout)
[10:53:27] *** Joins: alsm (asm@moz-EDA9E7AA.emea.ibm.com)
[10:58:45] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[10:59:00] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[11:01:54] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[11:02:22] *** Joins: dbaupp (Thunderbir@moz-BB237A70.lns20.syd6.internode.on.net)
[11:04:04] *** Joins: jaen (jaen@moz-8CB7D9F2.neoplus.adsl.tpnet.pl)
[11:11:03] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[11:12:09] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[11:13:20] *** Quits: lenstr (lenstr@583D231B.9636F313.7A27613B.IP) (Ping timeout)
[11:20:52] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[11:20:58] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[11:26:00] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Quit: WeeChat 0.4.2)
[11:26:47] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[11:27:14] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[11:29:17] *** Joins: lenstr (lenstr@2134AAEC.9636F313.7A27613B.IP)
[11:29:50] *** Quits: benjamin__ (benjamin@moz-2D6D1ED1.dip0.t-ipconnect.de) (Ping timeout)
[11:31:25] *** Quits: KindOne (KindOne@31BF2913.D40F8E6E.EC6A1518.IP) (Ping timeout)
[11:32:58] *** Joins: ofeldt- (ofeldt@moz-C6A1CDAA.dip0.t-ipconnect.de)
[11:33:57] *** Quits: ofeldt (ofeldt@moz-C8402E36.dip0.t-ipconnect.de) (Ping timeout)
[11:37:23] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:38:49] *** Joins: KindOne (KindOne@moz-8C02EB21.dynamic.ip.windstream.net)
[11:39:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:39:55] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:41:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:42:32] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[11:44:33] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[11:57:07] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Connection reset by peer)
[11:57:12] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[11:57:44] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[11:58:27] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[11:58:40] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[11:58:57] *** Quits: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de) (Ping timeout)
[11:59:05] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[12:02:51] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[12:04:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:13:16] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[12:13:16] *** Quits: lenstr (lenstr@2134AAEC.9636F313.7A27613B.IP) (Ping timeout)
[12:13:54] *** Joins: Ferreus (ferreus@moz-8FF65811.dip0.t-ipconnect.de)
[12:14:12] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[12:15:53] *** Quits: Taneb (Taneb@moz-AA8D754D.hacksoc.org) (Ping timeout)
[12:19:58] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[12:20:03] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:20:27] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[12:20:31] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:21:17] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:21:49] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:22:04] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:22:54] *** Joins: lenstr (lenstr@2134AAEC.9636F313.7A27613B.IP)
[12:23:27] *** Quits: Arthur_D (Trillian@216737EA.B44B8BCB.F6720131.IP) (Input/output error)
[12:23:51] *** Quits: oberstet (quassel@moz-64209FC2.dynamic.mnet-online.de) (Client exited)
[12:24:37] *** Quits: lenstr (lenstr@2134AAEC.9636F313.7A27613B.IP) (Ping timeout)
[12:26:12] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:29:07] *** Joins: lenstr (lenstr@7E41A4A6.9636F313.7A27613B.IP)
[12:31:32] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[12:32:17] *** Quits: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP) (Quit: victorporof)
[12:33:03] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:33:06] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:33:06] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[12:33:08] *** Joins: Malm (malm@moz-56546B0C.edstud.chalmers.se)
[12:35:14] *** Joins: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP)
[12:37:33] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:38:33] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[12:40:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:41:10] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:41:16] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:41:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:42:03] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[12:42:26] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[12:44:03] *** Quits: dgpratt (dpratt71@moz-86CDFA6F.ptldme.east.myfairpoint.net) (Ping timeout)
[12:44:10] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:44:14] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:46:16] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[12:46:31] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:46:35] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:47:09] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[12:47:18] *** Joins: Taneb (Taneb@moz-AA8D754D.hacksoc.org)
[12:47:23] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:51:00] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:51:46] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[12:55:08] <pyon> If I declare a function parameter as mutable, does this mutability become a part of the function's type signature?
[12:55:45] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[12:56:03] <cmr> pyon: `mut x: ...`? no
[12:56:15] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[12:56:19] <cmr> it's only the mutability of the argument's *binding*
[12:56:57] <pyon> Ah, sweet!
[12:57:11] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:57:26] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[12:57:58] <pyon> In C++ there is this nonsense where the language distinguishes between an "int" parameter and a "const int" parameter, even though from the caller's POV there is no practical difference. :-P
[12:58:29] <bjz> :P
[12:58:31] <pyon> Glad to know Rust is smarter about this! :-)
[12:58:38] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[12:59:08] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[12:59:12] <bjz> I <3 freezing and thawing btw
[12:59:16] <bjz> :)
[12:59:59] <bjz> <3 Rust
[13:00:59] <pyon> But I wish "match" were a looping construct, with "continue" for reiterating. Wrapping lots of matches in a loop just so I can match over and over... it isn't nice. :-(
[13:01:45] <bjz> yeah, match tends to do that alot
[13:01:53] <bjz> lots of pyramids of doom
[13:01:55] *** Quits: Ferreus (ferreus@moz-8FF65811.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.2)
[13:01:58] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[13:01:59] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:02:00] *** Joins: Ferreus (ferreus@moz-8FF65811.dip0.t-ipconnect.de)
[13:02:08] <bjz> ML and Haskell have sugar for that
[13:02:55] <dwrensha> bjz: what's the sugar? Do you just make it a tail-recursive function?
[13:03:02] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[13:03:05] <pyon> bjz: Well, in ML and Haskell, you just make a recursive call in the branches. But that is because ML has tail calls and Haskell is lazy.
[13:03:14] <bjz> oh, wll not for looping - you do recursion
[13:03:32] <pyon> In a language with destructors, I do not think the concept of "tail call" even makes sense.
[13:03:38] <bjz> I'm talking more like:
[13:03:39] <bjz> fun factorial 0 = 1
[13:03:39] <bjz>   | factorial n = n * factorial (n - 1)
[13:03:48] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[13:03:52] <bjz> (SML)
[13:03:58] <pyon> That is not sugar, it is just a regular recursive call.
[13:04:15] <bjz> no, it removes the case expression
[13:04:19] <bjz> is what I mean
[13:04:28] <bjz> not talking about looping here
[13:04:31] <pyon> Ah!
[13:04:35] <bjz> talking about pyramids of doom
[13:04:41] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[13:05:01] <bjz> the above example is sugar for:
[13:05:03] <bjz> val rec factorial =
[13:05:03] <bjz>        fn n => case n of 0 => 1
[13:05:03] <bjz>                        | n => n * factorial (n - 1)
[13:05:15] <pyon> Yeah
[13:06:03] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[13:06:14] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:06:46] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:09:57] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:10:36] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:11:58] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:11:58] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:13:43] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Ping timeout)
[13:14:21] *** Joins: benjamin__ (benjamin@moz-2D6D1ED1.dip0.t-ipconnect.de)
[13:15:07] *** Joins: dangets (dangets@moz-E9E4A77B.cpe.cableone.net)
[13:15:22] *** Joins: Arthur_D (Trillian@F5DA0532.2FA69ABE.701726B4.IP)
[13:18:43] *** Joins: Ms2ger (Ms2ger@D324D80C.3387515C.187A1082.IP)
[13:18:51] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:19:33] *** Joins: dgpratt (dpratt71@2F49BEA0.B7D6B72A.4F70D6C7.IP)
[13:24:23] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[13:25:22] <bstrie> someone posted an interesting question on reddit: http://www.reddit.com/r/rust/comments/1usk90/struggling_in_thunk_implementation/
[13:25:29] <bstrie> would like to know the answer myself
[13:26:39] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[13:28:14] *** Quits: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au) (Quit: kvanb)
[13:28:52] *** Joins: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP)
[13:29:04] <rca> i'd say use an option for v.
[13:29:14] <cmr> answered
[13:29:21] <cmr> you need to pattern-match out self
[13:29:55] <rca> hehe, way more elegant yep.
[13:30:37] <marc_> https://www.irccloud.com/pastebin/j9NanChk
[13:31:03] <marc_> What does that mean?
[13:31:05] <cmr> marc_: .get_ref().unwrap()
[13:31:18] <cmr> marc_: do you know what a move is?
[13:31:25] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[13:31:37] <marc_> I assume it's because it's trying to change ownership of the volume to the current stack?
[13:31:48] <cmr> pretty much yeah
[13:36:26] *** Quits: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP) (Ping timeout)
[13:36:51] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:38:30] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[13:40:13] *** Quits: lenstr (lenstr@7E41A4A6.9636F313.7A27613B.IP) (Ping timeout)
[13:40:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:42:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:43:24] *** Joins: lenstr (lenstr@88ED11E5.9636F313.7A27613B.IP)
[13:44:03] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Ping timeout)
[13:44:08] <marc_> cmr: so I should use *volume.sm_lease.get_ref()
[13:44:33] <cmr> marc_: .unwrap() if you want a &T and not an Option<&T>
[13:44:35] <marc_> To indicate that I want to print the value that the ref points to but I don't want to take ownership of the pointer?
[13:44:53] <cmr> .get_ref is Option<T> -> Option<&T>
[13:45:05] <marc_> n get_ref<'a>(&'a self) -> &'a T
[13:45:13] <dbaupp> cmr: .as_ref() is that
[13:45:15] <marc_> http://static.rust-lang.org/doc/master/std/option/enum.Option.html
[13:45:17] <cmr> oh oops
[13:45:19] <cmr> sorry
[13:45:22] <marc_> No worries
[13:45:31] <marc_> So I could either use .as_ref().unwrap()
[13:45:36] *** Quits: lenstr (lenstr@88ED11E5.9636F313.7A27613B.IP) (Ping timeout)
[13:45:41] <marc_> Or I could use *...as_ref()
[13:45:55] <marc_> I assume the former is safer
[13:46:09] *** Quits: derek_c (derek@B78B363A.117B7BA2.EB673A25.IP) (Quit: Leaving)
[13:46:57] *** Joins: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com)
[13:50:06] *** Joins: vmx (vmx@moz-120E9EA6.pools.arcor-ip.net)
[13:51:18] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:52:15] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:54:45] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[13:55:38] *** Quits: dangets (dangets@moz-E9E4A77B.cpe.cableone.net) (Ping timeout)
[13:55:50] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[13:56:08] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[13:57:19] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[13:58:17] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[13:58:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:58:39] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:00:21] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:00:40] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:01:10] *** Quits: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au) (Quit: kvanb)
[14:02:43] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Client exited)
[14:03:11] *** Quits: TisButMe (Mibbit@moz-40861B51.w90-29.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[14:04:11] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[14:04:16] <dylukes> morning :)
[14:04:26] <dylukes> been a while since I was here. I've been playing with rust a lot more lately.
[14:04:48] <dylukes> So, is there an existing effort towards a regex!() macro or something of the sort?
[14:05:12] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[14:05:15] <cmr> dylukes: noone is working on implementing compile-time regex afaik
[14:05:24] <dylukes> I was thinking of forking and building a simple compile-time PCRE binding.
[14:05:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[14:05:35] <eddyb> dylukes: ... why?
[14:05:40] <cmr> I'm implementing lua patterns. Some other people are working on a regex engine.
[14:05:44] <dylukes> Because PCRE is simple and exists.
[14:05:49] <dylukes> And is known to work.
[14:05:49] <eddyb> how are you going to generate Rust code with PCRE?
[14:06:00] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[14:06:02] <cmr> dylukes: what does compile-time PCRE bindings get us?
[14:06:34] <dylukes> I was just thinking of what exists to work with. Perhaps simply generate unsafe externs into generated C.
[14:06:52] <dylukes> More to have something to go on, and to learn the compilers workings somewhat more.
[14:06:57] <eddyb> might as well strip irregexp of v8 dependencies and convert its IR output into Rust code. hang on, that should work
[14:07:14] <dylukes> Good idea!
[14:07:17] <eddyb> too bad we don't have clang-based C++ FFI
[14:07:19] <dylukes> Might need to fiddle with the calling conventions though.
[14:07:22] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[14:07:27] *** Joins: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP)
[14:07:34] <eddyb> dylukes: or write a thin C bridge
[14:07:43] <dylukes> Yeah, and then generate extern stubs?
[14:07:44] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[14:07:57] <dylukes> Snappy is C++ only, but we have rust bindings via C.
[14:08:09] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[14:08:18] <dylukes> Could be fun to write an NFA compiler in rust though :)
[14:08:31] <whitequark> one could also implement a ragel backend for rust
[14:08:33] <dylukes> I'm generally against roll-your-own for performance-bound tasks, but...
[14:08:37] <cmr> whitequark: already done
[14:08:39] <dylukes> whitequark It exists in multiple forms.
[14:08:44] <whitequark> oh, neat
[14:08:46] <dylukes> I was considering that yesterday.
[14:09:00] <eddyb> personally, I'd like to see regex!r"...", smaller than that is impossible considering current lexer limitations
[14:09:01] <dylukes> It requires a special recompilation of ragel with the appropriate RustCodegen.cpp
[14:09:21] <eddyb> re!r"..." might also work
[14:09:24] <dylukes> I wouldn't mind \\ syntax, but that might complexify things.
[14:09:38] <dylukes> Or even !\foo[bar]\
[14:09:48] <eddyb> why \\?
[14:09:57] <cmr> I don't want regex added to the language.
[14:10:18] <dylukes> I wouldn't want to implement as a core feature no.
[14:10:20] <dylukes> It should be a library.
[14:10:34] <eddyb> well, a loadable syntax extension to be precise
[14:10:34] <dylukes> I mean, a package can contribute macros yes?
[14:11:02] <eddyb> define "package", and no, not yet
[14:11:11] <whitequark> this seems to be planned
[14:11:14] <eddyb> regular macros couldn't parse regular expressions anyway
[14:11:15] <dylukes> https://github.com/sfackler/rust/commit/01b29fa85a3d352b2157b9ae8e1ee19b03cb6d8b
[14:11:18] <dylukes> didn't we just get this?
[14:11:27] <dylukes> eddyb Doesn't need to parse them, just know where they're bounds are.
[14:11:39] <cmr> dylukes: that's part of an open pr: https://github.com/mozilla/rust/pull/11151
[14:11:48] <dylukes> My point is it's moving.
[14:11:55] <eddyb> wait, we're also getting regular macros?
[14:12:21] <eddyb> goodbye, hardcoded macros in libsyntax :)
[14:12:27] <dylukes> :p
[14:12:53] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:12:57] <eddyb> dylukes: anyways, from that PR, you'd use a *syntax extension* i.e. procedural macro, not a macro_rules! macro
[14:13:10] <dylukes> Well yes.
[14:13:28] <dylukes> I'm thinking regex --TCA--> NFA --Ragel--> Rust
[14:13:35] <dylukes> would be the optimal pipeline reusing existing tech.
[14:13:43] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:13:49] <dylukes> Implementing TCA in rust would be fun, regardless of whether it's used actually :)
[14:13:58] <dylukes> Maybe I'll just play with writing an FSA library.
[14:14:05] <eddyb> dylukes: check this out https://github.com/v8/v8/blob/master/src/interpreter-irregexp.cc
[14:14:11] <dylukes> imo, FSA's are invaluable for task-based concurrency too ;).
[14:14:22] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:14:54] <whitequark> dylukes: why NFA-convert it yourself? let ragel do that
[14:15:07] <dylukes> Ragel converts regex → NFA?
[14:15:07] <eddyb> that's the interpreter, you'd only have to write something similar to output Rust code instead of interpreting. v8 JITs that, fwiw
[14:15:15] <dylukes> I've only ever used Ragel for NFA → goto/tables
[14:15:20] <whitequark> you can write regexps in ragel, yes
[14:15:35] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[14:16:04] <dylukes> It uses them for lexing, yeah :\.
[14:16:21] <dylukes> But I wasn't under the impression it's API included regex: str → nfa: NFA
[14:16:26] <dylukes> in any form.
[14:17:06] <whitequark> no, the resulting NFA is internal, and it doesn't accept regexps as, strictly speaking, strings
[14:17:09] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:17:11] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[14:17:17] <eddyb> oooh, this interface is even higher level https://github.com/v8/v8/blob/master/src/regexp-macro-assembler.h
[14:17:18] <dylukes> mm. 
[14:17:27] <whitequark> you need to massage the PCRE source to make it compatible with what ragel expects, and the output will be [Rust] source code
[14:18:02] <dylukes> Honestly, it'd be fun to write an NFA library.
[14:18:10] <whitequark> also, inject some code to handle the capture groups, since ragel doesn't do that
[14:18:15] <dylukes> As I mentioned earlier, FSA's are invaluable for task/actor based concurrency ime
[14:18:29] <dylukes> gen_fsm <3.
[14:18:44] <bjz> FSA?
[14:18:48] <cmr> finite state automata
[14:18:52] <eddyb> for whomever cares, https://github.com/v8/v8/blob/master/src/jsregexp.cc#L763
[14:18:53] <bjz> ah
[14:19:00] *** Joins: int3_ (int3_@2A0DB541.CC630056.D1416617.IP)
[14:19:07] <bjz> dylukes: I was working on a gen_server
[14:19:17] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:19:20] <dylukes> Sometimes it's useful (at least when I was writing Erlang) to abstract OUT details into a gen_fsm.
[14:19:25] <eddyb> they have a DOT printer? wow
[14:19:38] <cmr> eddyb: invaluable for debugging
[14:19:39] <dylukes> The big caveat is the space-growth as you add states.
[14:19:59] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[14:20:10] <dylukes> Gotta factor out sub-fsms... it's not "easy". There aren't built in nice primitives for composable FSMs.
[14:20:12] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:20:18] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[14:20:28] <eddyb> cmr: too bad it's thousands of lines, I'm tempted to translate it to Rust. not sure if it has proper unicode support (the /u flag), though
[14:20:36] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:20:57] <dylukes> eddyb The code looks relatively Rust-translation friendly.
[14:21:28] <whitequark> dylukes: ragel can compose FSMs cleanly, although I'm not sure whether it's what you want
[14:21:39] <dylukes> I was thinking in the more general context.
[14:21:40] <eddyb> the v8 guys know what they're doing. and I think it's under the Google C++ guidelines
[14:21:46] <whitequark> (it essentially flattens them. clean semantics, but somewhat bloated tables.)
[14:21:53] <dylukes> FSMs can be really helpful for managing state asynchronously.
[14:21:57] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[14:22:04] <dylukes> Yeah, what usually happens is the NFAs can be composed nicely,
[14:22:12] <dylukes> but when you convert to a DFA you have to merge and flatten them all.
[14:22:46] <dylukes> If you account for tasks/actors however, you can feasibly keep them separate by inserting "dummy" states in the parent graph which trigger send/recvs to the child graph
[14:23:04] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[14:23:07] <dylukes> Essentially the dummy states represent the initial/accept states of the child.
[14:23:09] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:23:48] <eddyb> https://github.com/v8/v8/blob/master/src/regexp-macro-assembler.h#L88-L89 UCS2 :(
[14:23:54] <dylukes> eww
[14:24:08] <dylukes> Oh, side question
[14:24:10] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[14:24:21] <dylukes> Does Rust's string/slice handling necessitate using ropes for PEGs or what not?
[14:24:36] <dylukes> i.e. how good is rust at handling big text files with roughly (but not entirely) sequential access :p
[14:25:08] <dylukes> Can slices be used to lazily read portions of a file by offset?
[14:25:16] <eddyb> but apart from the interface limiting to 16 bits, the code is designed to work with codepoints not bytes
[14:26:40] <dylukes> I was initially going to implement a simple http parser. Then I realized rust had no stable regex/parsing utilities that I could find so I started binding to http-parser.
[14:26:45] <dylukes> (joyenty)
[14:26:48] <dylukes> (joyeny*)
[14:26:52] <dylukes> ...you get the idea
[14:26:58] <dylukes> That worked okay, except callbacks aren't friendly to handle.
[14:26:59] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:27:06] <eddyb> dylukes: try rust-http
[14:27:46] *** Joins: mib_yxs4kb (Mibbit@moz-C9C7F4DA.adsl.highway.telekom.at)
[14:28:01] <dylukes> Perhaps I should just contribute to that. Lots of stuff is missing.
[14:28:11] <dylukes> Maybe I'll jump in and write a bunch of tests to familiarize with the codebase.
[14:29:03] <dylukes> I remember in high school a friend of mine submitted a pull request of 11 failing tests and ~30 passing tests.
[14:29:23] <dylukes> To my senior project.
[14:31:55] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[14:32:28] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:33:37] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:35:09] <bjz> dylukes: yes, contributors are most welcome!
[14:35:23] <dylukes> I'll get on that when I have some free time :). 
[14:35:35] <dylukes> Schoolwork doesn't lend me much free time, sadlty.
[14:35:44] <bjz> :(
[14:36:37] <Ms2ger> Dammit school
[14:39:07] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:40:13] *** Joins: judder (maradukewa@391D0079.5121DAAD.78E362FE.IP)
[14:40:25] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[14:40:56] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:41:07] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[14:41:13] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:42:09] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[14:42:54] <dylukes> Yeah, but hey, math is fun 
[14:42:55] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:43:03] <dylukes> CS department here is... "eh"
[14:43:03] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:46:30] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:48:22] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[14:48:24] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[14:48:57] <bjz> dylukes: I think it's like that everywhere
[14:49:02] <bjz> unfortunately
[14:49:25] <dylukes> Yeah :\. "software" rather than "computer sciencE"
[14:49:31] <dylukes> sec, churning out a Graph datatype.
[14:49:32] <dylukes> :)
[14:49:47] <bjz> indeed
[14:50:09] <dylukes> graphs, bane of garbage collection
[14:50:10] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[14:50:10] <dylukes> :p
[14:50:15] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[14:50:52] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:50:56] <bjz> :)
[14:51:06] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[14:51:28] <dylukes> Hm.
[14:51:36] <dylukes> So I have something like this
[14:51:37] <dylukes> trait DirectedEdge<V: Vertex<T>> : Edge<V> { .. }
[14:51:44] <dylukes> T is undeclared in that scope though.
[14:51:59] <dylukes> Any way I can massage it to work without having the DiEdge trait parametrized by T?
[14:52:04] <dylukes> i.e. it shouldn't care what T is.
[14:52:10] <dylukes> Vertex<?> sort of.
[14:52:23] <dylukes> I guess the vertices should be of the same type, since this is a homogenous graph :\.
[14:52:46] <dylukes> ah wait
[14:53:24] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:53:34] *** Joins: jhasse (jhasse@moz-930A1FAF.ewe-ip-backbone.de)
[14:53:44] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:55:05] <dylukes> there we go.
[14:57:23] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[14:57:23] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[14:57:24] *** ChanServ sets mode: +o jdm
[14:57:29] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Ping timeout)
[14:58:31] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[14:59:06] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[14:59:38] <dylukes> Could I be accused of overgeneralizing?
[14:59:38] <dylukes> trait Graph<T, V: Vertex<T>, E: Edge<T, V>> 
[14:59:41] <dylukes> yes, maybe
[14:59:48] <bjz> never!
[14:59:52] <bjz> overgeneralise!
[14:59:56] <dylukes> I have the whole graph interface sketched out with no code :p
[15:00:00] <bjz> are you a haskeller maybe?
[15:00:05] <bjz> or a C++ er?
[15:00:06] <dylukes> ;) guilty as charged
[15:00:16] <bjz> (both as bad)
[15:00:19] <dylukes> pff.
[15:00:20] <bjz> :P
[15:00:25] <dylukes> Well, I work Python/JS day to day.
[15:00:26] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[15:00:28] <dylukes> Haskell is for fun.
[15:00:49] <dylukes> Anyhow, I'm trying to decide whether operations such as distance/eccentricity on a vertex should require the graph parent
[15:00:58] <dylukes> (enabled vertex/edge sharing)
[15:01:07] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:01:09] <dylukes> or whether the vertex/edge should maintain a parent reference internally
[15:01:16] <bjz> the tricky thing you will encounter though is with lifetimes
[15:01:18] <dylukes> (which makes it syntactically more nice)
[15:01:35] <bjz> might need to use dome Rcs or something
[15:01:35] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Input/output error)
[15:01:39] <dylukes> vertices and edges should be managed children of any graphs they exist in (assuming sharing)
[15:01:42] *** Quits: int3_ (int3_@2A0DB541.CC630056.D1416617.IP) (Ping timeout)
[15:01:45] <dylukes> or unique children if I don't assume sharing.
[15:01:51] <bjz> mmk
[15:01:53] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[15:02:08] <eddyb> bjz: the nice thing about the Rc change is that you can just use it with a Weak ref without thinking hard about it
[15:02:13] <dylukes> Anyhow, the typing all checks out.
[15:02:18] <dylukes> Rc?
[15:02:28] <bjz> Reference counted
[15:02:33] <dylukes> Ah okay, that's what I thought.
[15:02:44] <bjz> we also will have Gc
[15:02:45] <dylukes> my days in ObjC make me habitually say retcounting instead of refcounting...
[15:03:10] <dylukes> I still use -retain/-release... I don't really like ARC.
[15:03:12] <bjz> and the ~s are going to be libbed too
[15:03:16] <bjz> heh
[15:03:20] <bjz> no?
[15:03:23] <bjz> why not?
[15:03:34] <dylukes> ARC adds a profusion of keywords and further _complicates_ lifetime management.
[15:03:46] <dylukes> Plus it wreaks havoc with blocks, something already a bit hard without ARC involved.
[15:03:54] <dylukes> -retain/-release and weak references are all you need.
[15:03:57] <bjz> why does it complicate lifetime management?
[15:04:03] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:04:10] <dylukes> Lemme find the list of keywords.
[15:04:18] <dylukes> Many of them don't actually do what they say anymore and become noops in ARC
[15:04:20] <dylukes> some change meaning
[15:04:27] <dylukes> the point is writing agnostic code is challenging
[15:04:28] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[15:04:39] <eddyb> dylukes: heh, reminds me of @T
[15:04:41] <dylukes> moreso than it should be. The tradeoff is not having to write arc_weak, etc
[15:05:04] <dylukes> I do appreciate ARC's declarative nature.
[15:05:09] <dylukes> I really do.
[15:05:17] <bjz> *sure* you do
[15:05:22] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[15:05:23] * bjz prods
[15:05:43] <dylukes> ARC overloads strong and weak, and introduces __strong ,__weak, __unsafe_unretained and __autoreleasing qualifiers.
[15:05:56] <dylukes> also __block, which people misuse so badly XD
[15:06:08] * bjz does not know what any of those are
[15:06:17] <dylukes> Okay a block in ObjC is a C closure.
[15:06:21] <bjz> yep
[15:06:25] <bjz> know that
[15:06:26] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:06:33] <dylukes> Essentially it's a global structure that's cloned, contains a trampoline and local state, as well as closed over variables...
[15:06:41] <eddyb> @T pretends to be garbage-collected, and has such semantics (copy-by-default as if it's just a pointer), but it's ref-counted
[15:06:43] <dylukes> the big problem is, they're actually ObjC/CoreFoundation objects too
[15:06:55] <dylukes> and if they see ObjC objects being closed over, they retain them.
[15:07:03] <dylukes> Most blocks tend to close over "self" in some way.
[15:07:18] <bjz> mmk
[15:07:21] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:07:23] <dylukes> So you need to declare __block id wself = self; to create a weak reference that won't retain and create a cycle. 
[15:07:27] <dylukes> or __weak.
[15:07:37] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[15:07:39] <dylukes> However, under ARC, __block does NOT prevent retaining :).
[15:07:45] <dylukes> You need __unsafe_unretained __block id 
[15:07:52] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[15:07:56] <eddyb> o_O
[15:07:57] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[15:08:00] <bjz> so is that not breaking message passing if you send self via a closure to another object?
[15:08:01] <dylukes> __weak is the better option.
[15:08:05] <WebeWizard> Wiiizzzaarrrrrd
[15:08:14] <dylukes> Because thankfully ObjC has safe weak referencing facilities.
[15:08:29] <dylukes> bjz it's not message passing ,it's ownership
[15:08:32] * bjz has not done much obj-c
[15:08:36] <dylukes> the issue is the new block shouldn't be a root object 
[15:08:39] <bjz> ahh
[15:08:40] <dylukes> so it tends to belong to the creator
[15:08:47] <dylukes> when it uses the creator though, you get a cycle
[15:09:06] <bjz> so ARC is not smart enough to do that
[15:09:26] <bjz> well, I mean handle it
[15:09:44] <dylukes> ARC doesn't prevent cycles.
[15:09:54] <dylukes> It just automatically handles retaining/releasing based on a declarative lifetime API.
[15:10:03] *** Quits: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com) (Client exited)
[15:10:03] <dylukes> You have to declare weak and strong properties on your objects and it will handle them.
[15:10:04] *** Joins: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com)
[15:10:10] <dylukes> It's a great idea. It's a very leaky abstraction though.
[15:11:16] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[15:11:26] <dylukes> For blocks, the best tactic is to use an NSOperationQueue anyhow.
[15:11:39] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:11:52] <dylukes> I usually push the operation queues up to the root of a set of components unless they really truly belong with ONE object.
[15:12:18] <dylukes> completion handlers are generally the finicky cases, due to the whole "need a weak ref to the object, but what if it disappears while the handler is running?"
[15:12:26] <bjz> anyway, bringing it back to Rust.... yeah our closures are sometimes challenging to work with
[15:12:52] <bjz> because Rust actually knows the ownership stuff
[15:13:18] <dylukes> yeah heh
[15:13:18] <dylukes> brb
[15:13:23] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[15:13:34] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[15:13:48] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:13:52] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[15:13:54] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:14:15] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:14:39] <dylukes> somewhat-reified lifetimes can be really nice, or not.
[15:15:22] <dylukes> Oh, does rust have any sort of call/cc :p? Is that even feasible?
[15:15:32] <dylukes> I don't know enough about rusts stack architecture.
[15:15:56] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[15:15:58] <Ms2ger> The stack is fairly similar to C, IIRC
[15:16:01] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[15:16:01] <dbaupp> plain old C call stack (with overflow protection)
[15:17:09] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[15:17:10] *** Joins: derek_c (derek@740F226.BDDB420A.DD630FEE.IP)
[15:17:35] <dylukes> All I want for Christmas is coroutines in rust <3.
[15:17:51] <dylukes> Oh wait.
[15:18:08] <Ms2ger> Easter, maybe?
[15:18:29] <dylukes> Perhaps :p
[15:18:47] <Tobba> I'm implementing some in my kernel
[15:18:52] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[15:19:02] <Tobba> though thats kinda cheating since I can dodge all the ABI bullshit
[15:19:57] *** Quits: mib_yxs4kb (Mibbit@moz-C9C7F4DA.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[15:20:12] <Tobba> + it involves craploads of asm
[15:20:28] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[15:20:44] *** jorendorff_away is now known as jorendorff
[15:20:45] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[15:22:55] <dylukes> jmp jmp jmp jmp SEGFAULT
[15:23:02] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[15:23:17] <Ms2ger> Hit the rope?
[15:23:27] <dylukes> Handcoding asm is like learning to play jump rope.
[15:23:35] <dylukes> You keep jumping until you crash.
[15:23:42] <dylukes> Eventually you can jump for a long time without crashing.
[15:23:59] <dylukes> But you can never prove whether you will or will not crash for a given session.
[15:24:04] *** Quits: bachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[15:24:04] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:24:17] <Tobba> hahahaha
[15:24:25] <dylukes> (assuming no need for food, water, air, and a perfectly spherical monochromatic cow) 
[15:24:35] <Tobba> you know shits bad when you've got a 22 line asm! macro
[15:24:44] * dylukes cringe.
[15:24:52] <Tobba> though rust doesnt have offsetof anyways so I should move this to a separate asm file, no reason to have it as a macro
[15:24:53] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[15:24:55] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[15:24:59] <Ms2ger> dylukes, those damn physicists... PETA should go after them!
[15:25:01] <Tobba> in the C++ version of this, I could do stuff like
[15:25:04] <Tobba> offsetof(Context, ebp)
[15:25:12] <Tobba> instead of having to haphazardly guess where LLVM is gonna put everything
[15:25:14] <dylukes> I remember in freshman year I had to implement a game of Asteroids in MIPS.
[15:25:28] <dylukes> I built a cactus stack and had continuations ...
[15:25:35] <dylukes> the grader emailed me to come in and explain my code XD.
[15:25:35] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:25:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[15:25:46] <Ms2ger> ... in freshman year?
[15:25:52] <dylukes> It was simplified asteroids.
[15:25:59] <dylukes> Just red/green virtual leds :p.
[15:26:06] <dylukes> But the shots had spread-on-hit.
[15:26:13] <Ms2ger> Not simplified MIPS, though, I guess
[15:26:23] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[15:26:26] <eddyb> Tobba: you sound like you're not using inline asm inputs
[15:26:30] <dylukes> MARS MIPS.
[15:26:39] <eddyb> Tobba: which... you can, btw
[15:26:40] <Tobba> eddyb: rust doesnt have any way to do offsetof afaik
[15:26:44] <Tobba> I know
[15:26:45] <dylukes> I could handle 256 entities on screen at once :). Requirement was 64.
[15:26:57] <eddyb> why do you need offsetof? you can take the address of a field
[15:27:14] <Tobba> its a context loadewr
[15:27:17] <dylukes> And I was the only person who's bullets could recursively richochet. 
[15:27:17] <Tobba> I only have one reg to work with
[15:27:17] *** Joins: atomical (atomical@moz-DEDB4821.nuwlan.northwestern.edu)
[15:27:29] <dylukes> Of course that turned into a nightmare with >128 aliens coming down like snow. Nearly infinite explosions.
[15:27:32] <Tobba> it has to bang the stack, load all regs and iret into userspace
[15:27:38] <eddyb> &(0 as *T as &T).field as *Field as uint
[15:27:42] <eddyb> does that work :)?
[15:28:03] <dylukes> Each bullet had 3 bits of state indication direction, they were all stored in a single big packed buffer.
[15:28:12] <dbaupp> eddyb: you're a bad person. :P
[15:28:13] <Tobba> yeah I know you can do that
[15:28:26] <Tobba> i'm tired as fuck, I forgot that wont need dereferencing
[15:28:27] <eddyb> Tobba: put it in a macro and call it "offsetof"
[15:28:32] <Tobba> LLVMs optimizer craps out on dereference abuse
[15:28:49] <Tobba> yeah I got this
[15:28:53] <dylukes> SHE CANNAE TAKE THE POWER CAPTN.
[15:29:05] <Tobba> I was abusing it to get member function ptrs once
[15:29:09] <Tobba> it optimized them all down to "3"
[15:29:12] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[15:29:13] <dylukes> pff.
[15:29:17] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[15:29:25] <eddyb> Tobba: stay away from &*, anything else doesn't even look like dereferences
[15:29:35] <Tobba> yeah I know, being dumb
[15:29:41] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[15:29:45] <Tobba> the code you sent should work perfectly
[15:30:01] <eddyb> (&* is safe AFAIK but I won't trust it. nope. NOPE)
[15:30:08] <Tobba> that as *T as &T is terrible though
[15:30:13] <Tobba> transmute would probably be better
[15:30:24] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[15:30:32] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:30:37] <Tobba> transmute::<uint>(&transmute::<&T>(0).field)
[15:30:41] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[15:31:08] <eddyb> Tobba: oh, even better
[15:31:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:31:23] *** ChanServ sets mode: +ao dherman dherman
[15:31:54] <eddyb> you know, you can totally implement getelementptr (or whatever it's called), with a macro
[15:31:57] <Tobba> and now to figure out macros properly
[15:32:13] <Tobba> this shouldent be that hard
[15:32:18] <eddyb> that is, support chaining of [n] and .field
[15:32:20] *** Parts: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) ()
[15:33:07] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[15:34:50] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[15:34:50] <eddyb> Tobba: with the "I" inline asm input qualifier, you can actually ensure the value is known at compile-time (and will be encoded as an immediate in the instructions you use it in) - but you may already know that
[15:35:00] <Tobba> yeah I know
[15:35:09] <Tobba> I'm rewriting my C++ kernel in Rust
[15:35:21] <Tobba> I just totally derped out on the offsetof thing
[15:35:37] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[15:36:04] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[15:36:13] *** Joins: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net)
[15:36:31] <eddyb> have fun! I'm still hoping to get rustc to not use 2.2GB or so of RAM when compiling the x86_16 emulator (you know, VBE)
[15:36:52] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:36:53] *** Quits: pnathan1 (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[15:37:08] *** Joins: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr)
[15:37:25] <Tobba> hahahah
[15:39:14] <Tobba> I wonder what MS is going to come up with though
[15:39:34] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:40:30] <Tobba> error: `offsetof` is a reserved keyword
[15:40:32] <Tobba> oh huh
[15:40:36] <Tobba> well I cant say this is documented
[15:40:39] <eddyb> so is typeof
[15:40:46] <eddyb> (reserved, that is. nothing implemented)
[15:41:48] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:42:03] <Tobba> ugh
[15:42:09] <Tobba> why would you got a keyword like that
[15:42:27] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[15:42:44] *** Quits: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr) (Ping timeout)
[15:42:52] <eddyb> Tobba: do you want to see the list of keywords and special idents?
[15:42:58] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:43:07] <dbaupp> Tobba: so that we can have a C++ like offsetof in future
[15:43:09] <Tobba> half of me doesnt want to know
[15:43:15] <Tobba> yeah I get that
[15:43:26] <Tobba> why not just make it reserved when its implemented though
[15:43:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:43:53] <eddyb> Tobba: https://github.com/mozilla/rust/blob/master/src/libsyntax/parse/token.rs#L402-L480
[15:44:20] <eddyb> 'foobar: is a cool trick, we should use that more often :D
[15:44:36] <Tobba> how does that even work
[15:44:43] <Tobba> abuses lifetimes somehow?
[15:44:43] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[15:45:51] <Tobba> I dunno why you would make offsetof a keyword though, lots of other goodies are syntax extensions right now
[15:45:53] <WebeWizard> i like the term "clownshoes"
[15:45:53] <eddyb> Tobba: you can attach labels to blocks (for a "named" break;) - unrelated to lifetimes right now, just a similar syntax. but this is inside a macro, it can just do that
[15:46:11] *** Joins: aravindavk (aravinda@58FE07.96F1AC56.D2D1FAF0.IP)
[15:46:26] <eddyb> oh, unsized is already there?
[15:47:01] <eddyb> I preferred <T: Unsized> or <T: !Sized> but <unsized T> isn't a problem if it's already reserved
[15:48:47] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[15:49:11] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[15:49:34] *** Quits: nyux (nyux@moz-1CEE0DD2.aiiane.com) (Ping timeout)
[15:50:30] <dylukes> Unsized?
[15:51:00] <Tobba> is there any way to do multiline strings right now
[15:51:03] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[15:51:07] <Ms2ger> See nmatsakis's DST5 post
[15:51:10] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:51:11] <Tobba> or will C style "stuff" "morestring" work
[15:51:19] *** Quits: xoebus (xoebus@moz-A192BC54.xen.prgmr.com) (Ping timeout)
[15:51:41] <kimundi> dylukes: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[15:52:32] *** Quits: Kxepal (Miranda@moz-4DFD725C.pppoe.mtu-net.ru) (Ping timeout)
[15:52:43] <kimundi> eddyb: The problem with that would be that apparently negative trait bounds don't really work - I don't understand the reasoning behind it myself though
[15:53:08] <kimundi> Tobba: Just make linebreaks in any string literal
[15:53:18] <Tobba> while we're at that, we need an addrspec attribute
[15:53:23] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[15:54:05] <Tobba> kimundi: that
[15:54:11] <Tobba> that'll end up putting in loads of indentation
[15:54:18] <Tobba> it also means I cant comment lines properly
[15:54:33] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[15:54:44] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[15:55:39] *** Joins: Kxepal (Miranda@moz-81616591.pppoe.mtu-net.ru)
[15:56:20] *** Quits: derek_c (derek@740F226.BDDB420A.DD630FEE.IP) (Ping timeout)
[15:56:56] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[15:58:19] <jadbaires> how do you usually do to check the inferred type of an expression?
[15:59:02] <jadbaires> got accostumed to having a repl
[16:00:00] <WebeWizard> does anyone else consume alcohol while coding? I think it makes it less stressful
[16:00:32] <Tobba> ballmer peak
[16:00:38] *** Joins: GregorR (Gregor@moz-D9651910.so)
[16:01:13] <WebeWizard> wow, didn't know there was a term for it!
[16:01:41] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[16:01:41] <bjz> rusti: let _: () = 1i; // jadbaires 
[16:01:44] -rusti- pastebinned 7 lines of output: http://ix.io/9LQ
[16:01:54] <bjz> jadbaires: x)
[16:02:03] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:02:25] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[16:02:28] <jadbaires> bjz: thanks! let me try that
[16:02:50] <bjz> jadbaires: dbaupp taught me that
[16:03:00] <bjz> he is the master of best practices
[16:03:21] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:03:29] *** Quits: aravindavk (aravinda@58FE07.96F1AC56.D2D1FAF0.IP) (Ping timeout)
[16:03:38] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[16:03:47] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[16:04:25] <bjz> jadbaires: did it suffice?
[16:04:27] <bjz> :P
[16:04:39] <jadbaires> bjz: yes sych a simple trick :)
[16:04:43] <bjz> heh
[16:04:44] *** Joins: Locke23rus (quassel@moz-1014EFC0.static.linky.ru)
[16:04:45] <jadbaires> thanks!
[16:05:00] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:05:02] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:05:10] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[16:06:12] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[16:07:18] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:08:55] *** Quits: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP) (Quit: victorporof)
[16:09:14] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:09:49] <Tobba> what the hell
[16:09:57] <Tobba> the asm macro is getting optimized out
[16:10:00] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[16:10:14] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:10:21] <Tobba> ah, forgot volatile
[16:10:23] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[16:10:23] <Tobba> goddamnit llvm
[16:10:29] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[16:10:38] *** Joins: GregorR (Gregor@moz-D9651910.so)
[16:10:50] *** Joins: derek_c (derek@9C02C29C.B04BD6DC.AA745434.IP)
[16:10:57] <kimundi> Tobba: you can use the \\n escape sequence in a multiline string literal to gobble up the indentation whitespace
[16:11:02] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:11:07] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[16:11:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:11:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:11:32] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[16:11:40] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[16:12:00] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[16:12:04] *** Joins: xoebus (xoebus@moz-A192BC54.xen.prgmr.com)
[16:12:18] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[16:12:27] <kimundi> Also, the keywords are reserved so that _if_ they need to be used in the future, they can be used without breaking code of anyone. Should it get decided that they won't be used, they can be made normal identifiers again without breaking anyones code too
[16:12:51] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[16:12:54] <Tobba> far worse things have been broken currently than sparsely used keywords
[16:12:56] <Tobba> but yeah I guess
[16:13:31] <kimundi> It's all part of the "stabilize 1.0 to a language that we still can change, but not break backwards compability with"
[16:13:36] <kimundi> -plan
[16:13:37] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:13:38] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:14:12] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:14:15] <Tobba> fair enough
[16:14:22] <jhasse> what about using contextual keywords?
[16:14:29] <kimundi> Granted, its not a perfect solution - its hard to draw the line with something like reserving keywords that might get used in the future
[16:15:00] <Tobba> most of these would be syntax extensions like asm! normally
[16:15:06] <Tobba> I dont see why specificaly these should be keywords
[16:15:27] <kimundi> jhasse: The Rust language right now does not use any contextual keywords, and would like to continue so for simplicity
[16:15:41] *** Joins: msm (Mibbit@moz-2202AB44.hsd1.ga.comcast.net)
[16:16:10] <jhasse> killerswan: ic. I would really love to name a function "use" :'(
[16:16:23] <Tobba> ^
[16:17:19] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:18:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:20:07] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:20:58] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:21:37] <Tobba> argh
[16:21:44] <Tobba> the asm extension seems to have GCC syndrome
[16:21:57] <Tobba> you can literally feed it absolutely anything
[16:21:59] <Tobba> and it doesnt give a shit
[16:22:17] <Tobba> which is making this rediclously annoying
[16:22:29] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[16:22:48] *** Quits: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP) (Ping timeout)
[16:23:26] <Tobba> specially as I have to put in a magical keyword somewhere to stop it from being optimized out
[16:24:53] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[16:25:06] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:25:14] *** Joins: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP)
[16:26:08] <Tobba> or better yet
[16:26:15] <Tobba> turns out the macro lets you put in strings the C style
[16:26:19] <Tobba> (except that it just breaks it silently)
[16:27:23] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[16:27:42] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:27:50] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:28:00] *** Joins: grahame (grahame@moz-F6161E0E.members.linode.com)
[16:28:15] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[16:28:41] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:29:27] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[16:29:29] <jack> Yurume: r? https://github.com/lifthrasiir/rust-encoding/pull/28
[16:29:31] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[16:30:08] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:30:34] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:30:39] <jack> Yurume: also, can you add SimonSapin to the committers? It would be nice to have someone from teh team able to commit upstream if you get very busy
[16:31:21] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[16:32:17] <Yurume> jack, confirmed, and I've added SimonSapin to the collaborator list :)
[16:32:38] <jack> Yurume: you rock :)
[16:33:35] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:34:07] *** Joins: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP)
[16:34:21] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:36:59] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[16:37:03] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:37:33] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[16:38:00] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:39:44] *** Joins: aravindavk (aravinda@58FE07.96F1AC56.D2D1FAF0.IP)
[16:40:14] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:40:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:42:09] *** Quits: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP) (Ping timeout)
[16:42:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:42:31] *** Joins: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP)
[16:43:43] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:44:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:46:10] <dylukes> hm
[16:46:13] <dylukes> I'm having some typing issues.
[16:46:40] <dylukes> https://gist.github.com/DylanLukes/8e1fb573df812abf58f1
[16:47:06] <dylukes> I'm creating traits to specify behavior for Bound or Shared vertices.
[16:47:28] <dylukes> the only catch is that for something like distance, I can't statically guarantee via typing that `other` is actually in the same graph.
[16:47:36] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:47:47] <dylukes> Unless I can use lifetimes to hack that :p.
[16:48:36] <dmz> how about: "trait BoundVertex<T, E:Edge<T,Self>, G: Graph<T, Self, E>> : Vertex<T> {" ?
[16:48:43] <dylukes> That's what I was thinking, yeah :\.
[16:48:57] <dylukes> I guess a BoundVertex should depend on the type of the Edges.
[16:49:18] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:49:35] *** Quits: judder (maradukewa@391D0079.5121DAAD.78E362FE.IP) (Ping timeout)
[16:49:39] <dmz> sure, since one of the methods returns G, which depends on type of Edges
[16:49:41] <dylukes> I was hoping to express it solely by its relation to the graph it's bound to.
[16:49:45] <dmz> that's a straightforward type dependency
[16:50:01] <dylukes> It is, I was just hoping to nest it as BV<T, G<T, V, ...> nicely.
[16:50:12] <dmz> hmm
[16:50:34] <dylukes> I would like to avoid using references though, since the type shouldn't be forced to be a reference.
[16:50:45] <dylukes> this should work though.
[16:50:53] *** Joins: devrelm (Mibbit@90486B9C.59E0F055.591ED24F.IP)
[16:51:05] <dylukes> Any ideas on life times for hacking distance to statically guarantee the same graph :p?
[16:51:39] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[16:51:42] <eddyb> dylukes: you can use lifetimes to ensure two things are alive for the same time
[16:51:42] <dylukes> i.e. a way to say "Self" refers to a BoundVertex in the *same graph*
[16:52:05] <dylukes> I can make this sane by making the only valid way to obtain a BoundVertex being via the graph.
[16:52:19] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[16:52:41] <dylukes> It'd be relatively pathological for someone to try to do g1.some_vertex().distance(g2.some_vertex())
[16:52:48] <dmz> lifetimes can't guarantee one graph is the same as another... they can only guarantee they both a alive for some period of time
[16:52:59] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[16:53:03] <dylukes> I wish we could guarantee identity like that.
[16:53:12] <dylukes> reverse pointer aliasing :p.
[16:53:21] <eddyb> dylukes: if those two things can only be created in a pair in a part of code that you control, you do get some assurance from using lifetimes
[16:53:39] <dylukes> The idea is a Vertex is a dumb data structure. 
[16:53:59] <dylukes> When one is appended to a Graph, internally the Graph creates a concrete BoundVertex instance and copies/embeds the vertex in it.
[16:54:13] <dylukes> (which will contain relevant caching, metadata, etc)
[16:55:20] <dylukes> So to copy a vertex from one graph to the other you'd have to do g2.add_vertex(...., g1.get_some_vertex().unbind())
[16:57:28] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[16:57:35] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[16:57:54] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:58:14] <dylukes> dmz I could also just make Bound a separate trait and include trait bounds for those functions in the plain old vertex :).
[16:58:29] <dylukes> Thoughts on that approach?
[16:58:36] <dylukes> BoundToGraph*
[16:58:41] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[16:58:57] <dylukes> After all, contraction and cleaving only apply to Edges bound to a graph.
[16:58:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:00:03] <dylukes> Debating Edges. For the creation interface they should behave "like linked lists", but internally I'm using a sparse adjacency matrix. 
[17:00:47] <tOkeshu> silly question, did anyone tried to compile rust code to js ? and is it relevant ?
[17:00:56] <dylukes> Rust → LLVM → Emscripten?
[17:01:02] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[17:01:03] <dmz> dylukes: sorry, I can't think that deeply about your problem at the moment
[17:01:07] <dylukes> No worries, haha.
[17:01:15] <dylukes> Just wondering as I'm no rust expert.
[17:01:30] <dmz> don't worry, I'm not either ;)
[17:01:36] <dylukes> fair enough ;p
[17:01:40] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:01:55] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[17:02:30] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Connection reset by peer)
[17:02:41] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[17:02:53] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:03:41] <dylukes> fn distance<Self: BoundToGraph<T, Self, E>, E: Edge<T, Self>>
[17:03:41] <dylukes>         (&self, other: &Self) -> uint;
[17:03:43] <dylukes> Now we're having fun.
[17:04:07] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[17:04:53] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[17:06:22] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:06:34] *** Quits: Ferreus (ferreus@moz-8FF65811.dip0.t-ipconnect.de) (Ping timeout)
[17:06:44] <\n> tOkeshu: I've done that
[17:06:48] <\n> rather, tried
[17:06:57] <\n> llvm IR incompatibilities
[17:07:35] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[17:08:05] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:08:10] <dmz> dylukes: why does your BoundVertex return a graph?
[17:08:25] <dylukes> Where?
[17:08:29] <dylukes> Also I scrapped that.
[17:08:33] <dmz> fn graph(&self) -> G;
[17:08:45] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:08:54] *** Quits: devrelm (Mibbit@90486B9C.59E0F055.591ED24F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:09:04] <dmz> I'd leave both Vertex and BoundVertex to be pretty dumb, and move the distance method to the graph itself
[17:09:22] <dylukes> Except, construction of subgraphs should be possible *without* a graph object.
[17:09:31] <dylukes> Because they may be in a Component, not a Graph :).
[17:09:41] <dylukes> Not sure about the subtyping there yet.
[17:09:44] <dmz> so graph() constructs a subgraph?
[17:09:52] <dylukes> No, it returns the graph the vertex is bound to.
[17:09:58] <dylukes> Lemme paste a new interface.
[17:09:59] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:10:04] <dylukes> It contains logic for shared vertices/edges.
[17:10:10] <dylukes> Just need to work in hyperedges.
[17:11:25] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:11:44] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[17:11:56] *** Quits: Locke23rus (quassel@moz-1014EFC0.static.linky.ru) (Client exited)
[17:12:25] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[17:12:26] <dylukes> https://gist.github.com/DylanLukes/8e1fb573df812abf58f1
[17:13:00] <dylukes> Might remove the "Edge" from those traits, but you get the idea. I'm generalizing up to hypergraphs.
[17:13:06] <dylukes> weighted directed hypergraphs specifically.
[17:13:18] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[17:13:55] <dylukes> In the end it makes sense that distance depends on the Edge type actually :).
[17:14:02] <dylukes> distance is computed differently in different sorts of graphs.
[17:14:38] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:14:51] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[17:16:18] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[17:16:22] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:17:29] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:18:02] *** Joins: moostik (Icedove@moz-2E0A4DA6.minet.net)
[17:18:07] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:19:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:19:06] *** Quits: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP) (Quit: victorporof)
[17:19:23] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:20:22] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:20:52] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:21:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:21:03] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[17:21:15] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[17:22:20] *** Joins: dew1 (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[17:22:50] *** Joins: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP)
[17:23:44] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[17:28:20] *** Quits: alsm (asm@moz-EDA9E7AA.emea.ibm.com) (Ping timeout)
[17:28:54] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[17:29:04] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[17:29:17] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[17:29:55] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:30:06] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:30:16] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Ping timeout)
[17:30:20] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:31:44] <dylukes> hrm. So I have a trait function with an extra bound on Self
[17:31:59] <dylukes> is there any way to get out of implementing that function for implementations of the trait that don't have that trait?...
[17:32:35] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:33:18] *** Joins: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[17:33:54] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[17:33:59] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:34:15] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:34:29] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[17:34:51] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[17:35:39] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[17:36:00] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[17:36:03] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[17:36:21] *** Quits: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com) (Client exited)
[17:36:49] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:37:44] *** Joins: bytewise (bytewise@moz-B0382145.adsl.alicedsl.de)
[17:39:31] <tOkeshu> \n: what are llvm IR incompatibilities ?
[17:40:08] *** Joins: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP)
[17:40:47] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[17:42:11] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:42:26] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[17:42:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:43:01] *** Quits: gkostyanikov (gkostyanik@55B8F2DC.2AEE264E.CA6E2165.IP) (Ping timeout)
[17:43:29] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[17:43:44] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[17:44:18] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:44:22] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:44:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:46:22] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[17:46:33] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[17:47:45] <\n> The Intermediate Representation has breaking changes from 3.2 to 3.3
[17:48:01] <\n> Rust emits 3.3, emscripten needs 3.2
[17:48:01] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[17:48:11] *** Joins: nyux (nyux@moz-1CEE0DD2.aiiane.com)
[17:48:50] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[17:49:14] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:50:08] *** Joins: mib_do4frm (Mibbit@285A12BB.D6EE7B4D.99FEC5C4.IP)
[17:50:54] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[17:51:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:52:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:54:00] *** Quits: jhasse (jhasse@moz-930A1FAF.ewe-ip-backbone.de) (Quit: Verlassend)
[17:54:25] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:54:25] *** ChanServ sets mode: +ao brson brson
[17:54:29] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[17:54:39] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:55:41] *** Quits: benjamin__ (benjamin@moz-2D6D1ED1.dip0.t-ipconnect.de) (Ping timeout)
[17:55:51] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[17:57:52] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:58:37] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[18:00:10] *** Joins: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com)
[18:00:31] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:00:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:01:53] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[18:02:24] *** Quits: richo (richo@moz-320844EC.public.monkeybrains.net) (Ping timeout)
[18:02:51] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:03:22] <Tobba> eugh
[18:03:28] <Tobba> "m"(&kcontext.eip) does not appear to do what I think it does in inline asm
[18:03:59] <Ms2ger> Yes it does
[18:04:05] <Ms2ger> If you think it gives me a headache :)
[18:04:10] <Tobba> its loading complete bollocks
[18:05:43] *** Joins: pnkfelix (pnkfelix@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:05:48] *** Quits: derek_c (derek@9C02C29C.B04BD6DC.AA745434.IP) (Quit: Leaving)
[18:07:56] <jld> I'd expect that should be "m"(kcontext.eip), unless you want the address of something containing the pointer to the eip field.
[18:09:15] <Tobba> I would suspect it was reading the address to whatever it was holding
[18:09:20] <Tobba> but its reading a nice value of 32
[18:09:27] <Tobba> which is nowhere close to my stack
[18:10:34] <Tobba> if I change it to that it does read out where the value is placed, actually
[18:10:35] <Tobba> so uhhhhh
[18:11:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:13:02] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:13:20] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[18:13:20] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:15:29] <jeffdb> Is there a way to iterate over all of an enum's variants?
[18:16:47] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:17:23] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[18:18:04] <Tobba> aaaaaaaaah
[18:18:05] <Tobba> bollocks
[18:18:24] <Ms2ger> jeffdb, np
[18:18:25] <Ms2ger> no*
[18:18:30] <Tobba> I need to tell it to avoid esp for the m constraint
[18:18:46] <jeffdb> Ms2ger: thanks.
[18:18:56] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:19:09] <Ms2ger> People seem to ask that regularly, but I haven't really figured out what it'd do
[18:19:19] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[18:19:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:19:58] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[18:20:27] <Matthias247> Usually I'm doing something like ValidValues = [A, B, C, D, ...]
[18:20:50] <Matthias247> or create a static map which maps the enum values to their string representation
[18:20:54] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:21:00] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:21:49] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[18:22:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:23:23] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:23:31] <Matthias247> maybe a #[Deriving(EnumEnumerator)] would be an idea ;)
[18:23:43] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[18:24:39] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:24:48] <jeffdb> https://github.com/mozilla/rust/issues/5417
[18:25:01] *** Parts: \n (uid15310@moz-31ABA2C0.irccloud.com) ()
[18:25:13] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[18:26:13] <Matthias247> but would only work for C-like enums I think
[18:26:49] <Tobba> aaargh
[18:27:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:27:18] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[18:28:03] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:28:03] *** ChanServ sets mode: +o jdm
[18:28:10] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[18:28:22] <SiegeLord> Why wouldn't an Iterator<EnumType> not work?
[18:30:34] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[18:30:44] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[18:31:26] <SiegeLord> It'd essentially then be a #[deriving(Iterator)]
[18:32:20] <eddyb> let me repeat myself: this is a relatively simple #[deriving]. the problem you want to avoid is implementing Enumerator or whatever for int/uint
[18:32:20] <Tobba> anyone here got experience with llvm inline assembly constraints
[18:32:23] <Tobba> they're entirely undocumented
[18:32:27] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[18:33:12] <eddyb> Tobba: clang converts some GCC magic to simpler forms. apart from that, it should be GCC-compatible
[18:33:34] <eddyb> "a" => "{ax}" (which works with al/ax/eax/rax fwiw)
[18:33:34] <Tobba> eugh, I'll just run this through clang and see what it would crap out in LLVM form
[18:33:47] <Tobba> doing some complex stuff where I need a memory operand but it cant use the esp register
[18:34:04] <Eridius> SiegeLord: I feel like maybe you should be able to derive Bounded for C-like enums, and then define another trait that adds .next_val() and .prev_val(), for walking the enum
[18:34:07] <Eridius> using an iterator just feels.. weird
[18:34:47] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[18:35:06] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:35:23] <SiegeLord> Why would you restrict it to C-like enums?
[18:35:26] <kimundi> eddyb: What do you mean with that uint/int comment?
[18:35:33] <steveklabnik> my codemash talk went over well :D
[18:35:39] <steveklabnik> no video though
[18:35:43] <Eridius> SiegeLord: because non-C-like enums require extra values?
[18:35:59] <jeffdb> steveklabnik: slides or notes?
[18:36:02] <dmz> steveklabnik: any links at all?
[18:36:15] <steveklabnik> slides: http://steveklabnik.github.io/nobody_knows_rust/#/
[18:36:19] <jeffdb> steveklabnik: <3 thanks
[18:36:26] <SiegeLord> Oh, hmm... fair enough
[18:36:41] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[18:36:44] <eddyb> kimundi: enum Foo {Bar, Baz(int)} that would be valid with deriving(Enumerator) or w/e, but it would give you a ridiculous number of values
[18:36:46] <dmz> that name... would definitely attract weird people :)
[18:36:57] <eddyb> kimundi: I mean, it feels error-prone
[18:37:14] *** Joins: richo (richo@10726D5F.1B04FC3.5CC412D0.IP)
[18:37:19] <SiegeLord> Still, .next_val() .prev_val() is a poor man's reimplementation of Iterator
[18:37:28] <kimundi> eddyb: Ah, you mean if it does recursivly call enumerate on all contained values, and one of them is very large - yeah that'd be a problem
[18:37:30] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:37:31] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[18:38:34] *** Joins: rca_ (rcatolino@6A636113.7FFEF089.2CE09D78.IP)
[18:38:41] <kimundi> It would break, because then the number of possible enumeration values can easyly become larger than the number of possible uint values, which would probably break quite a lot of iteration code :P
[18:38:45] <Eridius> SiegeLord: well, iterators can't yield the same element multiple times, which you can get with .next_val() and .prev_val(), so it's not quite a poor-man's iterator
[18:38:49] <Eridius> it's similar, but a bit more flexible
[18:39:14] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[18:39:16] *** rca_ is now known as rca
[18:39:24] <eddyb> kimundi: nah, it wouldn't break anything. just the cost of brute-force :P
[18:40:18] <Matthias247> it could get you the default constructed value for each item
[18:40:27] <Matthias247> and work only for things which have a default
[18:40:48] <kimundi> eddyb: Well, if you have enum { Foo(uint), Bar(uint) } and would iterate over it, giving a range of 2 * size_of<uint> - what would the Iterator len() method return for example?
[18:41:01] <SiegeLord> Eridius, It sounds like a C++ iterator
[18:41:21] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[18:41:21] <Eridius> kimundi: (-1u, None)
[18:41:22] <Tobba> ugh, anyone know whats wrong with this macro
[18:41:27] <Tobba> macro_rules! offsetof_(($t:ty, $f:ident) => {unsafe{transmute::<uint>(&transmute::<&$t>(0).$f)}})
[18:41:32] <kimundi> Matthias247: Sounds reasonable, but so does iterating over nested enum values
[18:41:34] <Eridius> kimundi: but I think iterating over a non-C-like enum makes no sense
[18:41:40] <eddyb> kimundi: oh, I see. but .len() consumes the iterator, doesn't it?
[18:41:43] <Tobba> it complains that the type of the value has to be known in that context
[18:41:45] <pauls> Tobba: what's the failure mode?
[18:41:55] <eddyb> Eridius: it makes sense when you have nested state
[18:42:00] <Eridius> oh len(). I was thinking size_hint(). I don't know what len() does for out of bounds
[18:42:13] <Tobba> error: the type of this value must be known in this context
[18:42:37] <Tobba> on the transmute::<&$t> part
[18:42:46] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[18:42:52] <eddyb> Tobba: doesn't transmute have two type params?
[18:42:57] <kimundi> eddyb: SUre, it does consume - doesn'T change the fact that its return value is of type uint, which does not fit double the max alue of a uint :P
[18:43:04] <Matthias247> Eridius: I also think that. For C-like enums it's a typical use case. For others - don't know
[18:43:06] <Tobba> it only has one afaik
[18:43:12] <Tobba> actually wait
[18:43:15] <eddyb> :)
[18:43:20] <Tobba> oh yep it has two
[18:43:26] <Eridius> oh dear, len() is implemented in such a way that it will overflow
[18:43:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:44:18] <jack> cmr: what's your twitter handle?
[18:44:39] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:44:59] <Eridius> rusti: range(0, ::std::uint::max_value).chain(range(0u, 10u)).len()
[18:45:04] -rusti- timeout triggered!
[18:45:09] <kimundi> In any cases having a derving mode for c-like enums is desirable and ought to be added - the question is if it can usefully extended to enumerate non-c-like enums
[18:45:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:45:22] <jadbaires> so... why does this work?   fn plus_one(x: &int) -> int {*x + 1}   fn main() {println(plus_one(&5).to_str());}
[18:45:27] <kimundi> Eridius: Good luck trying that with rusti :P
[18:45:43] <kimundi> jadbaires: why shouldn't it?
[18:45:50] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:45:51] <Eridius> kimundi: yeah, this iteration takes a while. I'm actually slightly surprised llvm doesn't fold it somehow
[18:46:17] <jadbaires> kimundi: would that work in C?  5 is constant and we're changing a constant via a pointer to it
[18:46:21] <Eridius> this would work a lot better on a 32-bit arch..
[18:46:39] <kimundi> jadbaires: Ah, thats not what happens
[18:46:44] <Eridius> jadbaires: you can't say &5 in C. you can say &(int){5} and that will work
[18:46:54] <Eridius> because &(int){5} produces a temporary value initialized to 5 and takes its address
[18:46:57] <Eridius> which is exactly what Rust is doing
[18:47:04] <jadbaires> kimundi: Eridius: I see
[18:47:07] <jadbaires> thank you
[18:47:18] <eddyb> jadbaires: &int is an immutable borrow btw
[18:47:25] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[18:47:27] <Eridius> yeah in rust you'd need &mut int
[18:47:30] <Eridius> and &mut 5
[18:47:46] <Eridius> well if you wanted to modify it
[18:47:50] <Eridius> which your plus_one() doesn't even try and do
[18:47:54] <eddyb> *then* you could modify the temporary
[18:47:54] <jadbaires> I'm still not sure about the semantics though... what if instead of 5 that was an  x:int
[18:48:11] <kimundi> jadbaires: &5 in Rust creates a temporary with value 5, it gives you a immutable reference to it. The *x in the function body copies the value of that 5 out of the reference, increments that new independent value, and returns it as a normal value
[18:48:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:48:19] <eddyb> jadbaires: plus_one(&x) can't allow plus_one to mutate x
[18:48:25] <Eridius> rusti: fn incr(x: &mut int) { *x += 1 } println!({}", incr(&mut 5))
[18:48:26] <eddyb> jadbaires: you need &mut x for that
[18:48:28] -rusti- pastebinned 6 lines of output: http://ix.io/9M0
[18:48:40] <Eridius> rusti: fn incr(x: &mut int) { *x += 1 } println!("{}", incr(&mut 5))
[18:48:42] -rusti- pastebinned 10 lines of output: http://ix.io/9M1
[18:48:43] <jadbaires> kimundi: yes that I understood, I meant in more general cases
[18:48:49] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[18:48:53] <Tobba> ugh
[18:49:08] <Tobba> is there any way I can specify the second type of a generic, but not the first one
[18:49:22] <kimundi> jadbaires: Well, in general you can't mutate the x through a immutable reference (&), as the other above said :P
[18:49:22] <Eridius> rusti: fn incr(x: &mut int) -> int { *x += 1; *x } println!("{}", incr(&mut 5))
[18:49:23] -rusti- 6
[18:49:23] -rusti- ()
[18:49:30] <eddyb> Tobba: you can use temporaries. remember everything is an expression in Rust
[18:49:48] <Tobba> I dont see how that'd work
[18:49:58] <jadbaires> kimundi: right, I got it know
[18:50:02] <Tobba> actually yeah
[18:50:04] <Tobba> I can use a hack for this
[18:50:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:50:11] <Eridius> Tobba: from what I understand, nmatsakis plans to make _ work to indicate that a type parameter is unspecified, e.g. transmute::<_,T>, but I don't think that works yet
[18:50:20] <eddyb> Tobba: {let x: &$t = transmute(0); x}
[18:50:25] <kimundi> Tobba: Its currently not possible to only partially infer generic type parameters, though it will likely be possible in the future
[18:50:25] *** Quits: aravindavk (aravinda@58FE07.96F1AC56.D2D1FAF0.IP) (Ping timeout)
[18:50:27] <Tobba> yeah just did that eddyb
[18:52:50] *** Quits: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP) (Client exited)
[18:52:53] *** Quits: negativezero (negativeze@moz-28BCB6CD.cit.cornell.edu) (Ping timeout)
[18:54:04] <jadbaires> I understand what's going on, but still find ti kind of weird that, e.g., then this is valid code        println(plus_one(&mut 5).to_str());
[18:55:07] <kimundi> jadbaires: It looks a bit weird indeed, but its useful to do that
[18:55:17] <Eridius> jadbaires: well, there is no singleton instance of 5. It _must_ create a temporary in order to work
[18:55:27] <Eridius> and since it created a temporary, there's no reason you can't &mut borrow it
[18:55:45] <eddyb> rusti: &5
[18:55:48] -rusti- pastebinned 18 lines of output: http://ix.io/9M3
[18:55:51] <eddyb> rusti: &'static 5
[18:55:52] <jadbaires> couldn't the temporary be akin to a locally declarate non-mutable value though?
[18:55:53] -rusti- pastebinned 18 lines of output: http://ix.io/9M4
[18:56:00] <eddyb> wait, what, that was supposed to work :/
[18:56:25] <kimundi> jadbaires: What do you mean?
[18:56:43] <kimundi> rusti: static foo: &'static uint = &5; foo
[18:56:43] -rusti- &5u
[18:57:06] <jadbaires> kimundi: i.e. desugar    println(plus_one(&mut 5).to_str());  into      let z : int = 5;  println(plus_one(&mut z).to_str());
[18:57:08] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[18:57:21] <kimundi> jadbaires: That'S whats happening today
[18:57:24] <jadbaires> or does that work to?
[18:57:30] <eddyb> they both work
[18:57:40] <jadbaires> oh ok, right... 
[18:57:45] *** Quits: victorporof (victorporo@25A290A9.6984E353.6A4F8DA2.IP) (Quit: victorporof)
[18:57:53] <eddyb> the latter needs let mut z = 5; btw
[18:57:58] <Tobba> finally
[18:57:59] <Tobba> it works
[18:57:59] <Eridius> jadbaires: it's a temporary. Only slots can be non-mutable. Temporaries are, well, temporaries
[18:58:10] *** Kjelle is now known as Zylinski
[18:58:24] <kimundi> jadbaires: In fact there is currently a bit of uncertainty about how long such temporary values are suposed to last - see http://smallcultfollowing.com/babysteps/blog/2014/01/09/rvalue-lifetimes-in-rust/ for a recent blog post of one of the core developers about that
[18:58:27] <jadbaires> eddyb: wait, my point was precisely that I'd expect the desugaring without the mut
[18:58:51] <eddyb> jadbaires: why? you can't see the temporary outside of the call to plus_one
[18:58:53] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[18:59:09] <Eridius> jadbaires: if it desugared at all it would be more like {let z: int = 5; z}, and you can mutate the value of that
[18:59:14] <Eridius> because, of course, it becomes a temporary again
[18:59:32] <Zylinski> Hello :) Installing MinGW, gonna try out rust for the first time soon :D
[18:59:32] <Eridius> rusti: fn incr(x: &mut int) -> int { *x += 1; *x } println!("{}", incr(&mut {let z: int = 5; z}))
[18:59:33] -rusti- 6
[18:59:33] -rusti- ()
[18:59:36] <Eridius> jadbaires: ^
[19:00:39] <jadbaires> right, thing is I'm trying to express what I'd expect the semantics to be, in terms of something else whose semantics also surprise me in the same manner :/
[19:00:47] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:00:48] <jadbaires> it is consistent though
[19:00:57] <jadbaires> so I just have to wrap my head around it
[19:02:30] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[19:04:51] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:05:33] <jadbaires> Eridius: ok so, I get your point, and I see that constant values are treated consistently with regards to mutability
[19:05:51] <jadbaires> in that they are implicitely copied to a mut variable 
[19:06:03] <Eridius> jadbaires: well no, there's no mut variable involved
[19:06:06] <Eridius> I think that's the confusion
[19:06:11] <jadbaires> Eridius: maybe it is...
[19:06:12] <Eridius> it's a _temporary_. It's not stored in a variable
[19:06:18] <Eridius> it's a value without a slot
[19:06:29] *** Joins: Ferreus (ferreus@moz-D0C499AD.pools.arcor-ip.net)
[19:06:32] <jadbaires> I see, and all temporaries are mutable?
[19:06:50] <Eridius> yes. Or perhaps easier to think about it: slots impose immutability
[19:06:57] <Eridius> so if a value has no slot, it's not immutable
[19:06:57] <jadbaires> right
[19:07:10] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:07:58] <jadbaires> ok so I get the semantics as they are defined... I guess at the moment at least, I'm just not a fan...
[19:08:16] *** Quits: pnkfelix (pnkfelix@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[19:09:14] <jadbaires> eg. this doesn't compile... and it would feel wrong to make it correct by copying z to a temporary to make it work:    let z:int;  println(plus_one(&mut z).to_str());
[19:09:27] *** Joins: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP)
[19:10:18] <jadbaires> because that's not what we inted... z is immutable therefore its value should remain constant, therefore anything that attempts to change it is probably wrong, therefore it is a type error
[19:10:37] <jadbaires> and I find it hard to think differently of       println(plus_one(&mut 5).to_str());
[19:10:39] <kimundi> jadbaires: The difference is that here z is not a rvalue
[19:11:01] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:11:01] *** ChanServ sets mode: +ao dherman dherman
[19:12:24] <jadbaires> kimundi: yes I understand that's the difference between them, but is that a good reason choose these semantics?
[19:12:29] <Eridius> jadbaires: yes
[19:12:36] <jadbaires> maybe there's a good reason why this should work, I just don't see it
[19:12:50] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[19:12:54] <Eridius> there's no difference between `&mut 5` and `fn five() -> int { 5 }; &mut five()`
[19:13:26] <jadbaires> Eridius: and the latter should work because?
[19:13:36] <Eridius> jadbaires: because immutable rvalues would be an incredibly useless limitation
[19:13:49] <jadbaires> Eridius: is there an example of how it can be used?
[19:13:58] <Eridius> foo().bar_that_takes_mut_self()
[19:14:06] <alan_andrade> How can I extract the (~str) value from this ? http://static.rust-lang.org/doc/master/extra/getopts/enum.Fail_.html
[19:14:17] <Eridius> alan_andrade: with a match statement
[19:14:20] <jadbaires> Eridius: riiight
[19:14:33] <alan_andrade> hmmm, let me try that :)
[19:14:40] <jadbaires> hmmm
[19:14:58] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:14:59] <kimundi> alan_andrade: Apart from the .to_err_smg() function, you mean?
[19:15:05] <alan_andrade> yes
[19:15:15] <Eridius> kimundi: to_err_msg() constructs a new message based on the enum value
[19:15:19] <alan_andrade> I want to know the value of the error, not the message of the error
[19:15:44] <kimundi> let s = match foo() { ArgumentMissing(s) | UnrecognizedOption(s) | ... => s }
[19:15:44] <Eridius> here's how to_err_msg() is implemented: https://gist.github.com/kballard/10fda52922290171f080
[19:15:46] <alan_andrade> yeah, for instance "foo" being a not recognized options, I want to get "foo"
[19:15:49] <Eridius> alan_andrade: note how it uses a match
[19:16:15] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[19:16:21] <alan_andrade> ohhh gotcha
[19:16:50] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[19:17:25] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[19:17:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:18:05] <alan_andrade> Eridius it worked, I just had to import the enum that I'm interested in.
[19:18:14] <alan_andrade> thanks \o/
[19:22:29] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:22:59] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[19:23:52] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[19:24:03] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[19:24:29] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[19:24:40] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:25:14] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:27:37] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[19:28:03] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[19:29:21] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[19:29:37] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:30:49] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[19:30:54] *** Joins: pnkfelix (pnkfelix@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:33:35] *** Quits: khodzha1 (khodzha@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:35:21] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[19:37:02] *** Joins: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP)
[19:39:10] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:41:41] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:42:44] *** Joins: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com)
[19:44:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:45:42] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[19:45:47] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:45:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:47:49] *** Quits: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com) (Client exited)
[19:48:06] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[19:48:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:48:54] *** Joins: khodzha (khodzha@2FB2166B.A859D9FD.CA6E2165.IP)
[19:50:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:50:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:51:00] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:52:57] <strcat> rusti: 2
[19:53:02] -rusti- out.rs:5:1: 5:80 warning: code is never used: `version`, #[warn(dead_code)] on by default
[19:53:02] -rusti- out.rs:5 static version: &'static str = "rustc 0.9 (7613b15 2014-01-08 18:04:43 -0800)";
[19:53:02] -rusti-          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[19:53:02] -rusti- timeout triggered!
[19:53:04] <jadbaires> the 2nd code snippet doesn't compile  http://adridu59.github.io/rust-tuts/tutorial/ch-03.html  is it supposed to be .iter()  instead of .chars() ?
[19:53:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:53:22] <strcat> oh well, no more rusti until that I/O problem is fixed
[19:53:31] <strcat> don't want to keep around an old version after 0.9 is released
[19:53:53] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[19:54:02] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[19:54:30] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[19:55:13] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[19:55:20] <jadbaires> I'm guessing it isn't .iter() as it seems to force it to be sequential
[19:56:25] <strcat> jadbaires: neither way will make it sequential, it's arbitrary
[19:56:32] <strcat> are you using master?
[19:57:07] <jadbaires> strcat: not yet... guess I should really update, on 0.8
[19:57:47] <strcat> well, nothing is going to be written for 0.8 (libraries, tutorials) because almost all of the community follows master
[19:58:19] <jadbaires> strcat: yes I understand... you're right
[19:58:28] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[19:58:42] <jadbaires> updating it now
[20:00:47] *** Joins: john (Mibbit@moz-C4AB3F9E.home.otenet.gr)
[20:02:31] *** Quits: jaen (jaen@moz-8CB7D9F2.neoplus.adsl.tpnet.pl) (Ping timeout)
[20:03:08] *** john is now known as Gondegal
[20:04:41] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:04:41] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:07:38] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:07:58] *** Joins: igork_3231 (Mibbit@moz-578E0B8C.broadband.corbina.ru)
[20:08:00] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:08:15] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[20:08:42] *** Joins: twi (Adium@moz-DC24E4B0.static.tpgi.com.au)
[20:09:00] *** Gondegal is now known as Daen
[20:09:42] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:10:17] <jadbaires> I undestand that lexically scooped non-local control (e.g. break, continue...) sometimes can make code much more simple. But if it's straightforward to express with "while do{}" I'd rather not use a loop 
[20:10:40] <jadbaires> for the same reason I was surprised to see this advice:   "Also, Rust doesn’t have the do { } while; syntax, we just use a loop with a breaking condition instead"
[20:11:38] <jadbaires> wouldn't it make more sense to express that for which a    "do{} while" is appropriate  with a "while do{}"  instead?
[20:11:46] <strcat> huh?
[20:12:34] <jadbaires> if you wanted to use a "do {} while" and not a loop in the first place, it's because what you want to express can be easily done with non-local control
[20:12:49] <jadbaires> moving from a do while  to a while do is trivial
[20:14:35] <Ms2ger> I don't know what point you're trying to make
[20:15:18] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:16:02] <strcat> jadbaires: I don't know what you mean by while do, or what you're suggesting
[20:16:45] <Matthias247> how about repeat until :-)
[20:17:53] <jadbaires> ok so:   do {P} while C;   <=>   let mut cond = true;   while cond do {P; cond = C}
[20:18:19] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[20:18:29] <jadbaires> if the code on the lhs doesn't use local control, neither does the code on the rhs
[20:18:48] <strcat> jadbaires: I still don't really understand what you're saying
[20:18:50] <strcat> rust has while loops
[20:19:03] <Daen> Hi, can someone use Rust to transform an in-house scripting language to python ? Is there any parser-related support in rust ? 
[20:19:11] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[20:19:41] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[20:19:54] <whitequark> Daen: you can write a lexer based on rust with ragel (a fork of it)
[20:20:04] <jadbaires> strcat: that page suggest translating code that one would wish to write with a "do while" (which the language doesn't have, into code with loops
[20:20:13] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[20:20:24] <whitequark> and apparently there's also rust-antlr
[20:20:38] <jadbaires> strcat: personally I'd say it is more sensible to use the translation above, with "while do"
[20:20:40] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[20:22:03] <jadbaires> referring to the advice here:  http://adridu59.github.io/rust-tuts/tutorial/ch-03.html
[20:22:20] <jadbaires> "Also, Rust doesn’t have the do { } while; syntax, we just use a loop with a breaking condition instead"
[20:22:43] <strcat> well, it seems a bit wrong to say *we* in an unofficial tutorial
[20:22:58] <strcat> at least with the implication that it's the consensus of the rust community
[20:23:25] <strcat> it's one person's opinion
[20:23:55] <Daen> ok, thanks a lot. If I decide to do a hand-written parser, is it doable. I guess the library is stable enough for string handling and regular expressions. Am I wrong ?  
[20:24:40] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[20:24:41] <jadbaires> strcat: right, I was wondering indeed if this was a de facto standard coding style or anything of the sort
[20:25:02] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[20:25:10] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Ping timeout)
[20:25:15] <strcat> jadbaires: it's an unofficial tutorial written AFAIK by one person, so it's not telling you what the rust community thinks
[20:25:22] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[20:25:53] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[20:25:56] <jadbaires> right
[20:26:08] <jadbaires> I didn't know sorry
[20:27:03] <whitequark> Daen: i think there's no regexps in stdlib, you have to use an external library for that
[20:27:13] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: Leaving)
[20:27:22] *** Joins: Matthias247_ (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[20:27:26] <kimundi> jadbaires: This "rewrite to bare loop with a break condition" really unly applis to a do { ... } while P loop, which we don't support because the P breaks lexical scooping rulse a bit :P
[20:27:37] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[20:27:40] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Ping timeout)
[20:28:46] <jadbaires> kimundi: yes I do see how lexical scooping is kind of broken in do while, I understand not supporting them 
[20:29:49] <kimundi> The recommended way is to express loops with external iterators if possible, as they are higher level but optimize very well
[20:30:04] *** Quits: bytewise (bytewise@moz-B0382145.adsl.alicedsl.de) (Quit: Leaving)
[20:30:42] <jadbaires> kimundi: yes I've seen the same in scala
[20:31:30] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[20:32:25] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[20:34:11] *** Joins: heftig (heftig@moz-E952153C.dip0.t-ipconnect.de)
[20:34:48] *** Quits: Daen (Mibbit@moz-C4AB3F9E.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:34:50] *** Quits: sk (sk@DE4CC43A.C8AF14A1.33B96495.IP) (Quit: Leaving)
[20:37:03] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[20:37:10] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[20:39:18] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[20:41:19] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:42:21] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:42:23] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[20:43:38] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Ping timeout)
[20:43:42] *** Quits: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) (Connection reset by peer)
[20:43:49] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:44:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:46:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:46:25] *** Joins: mw1001 (mw@moz-17825C76.cable.virginm.net)
[20:46:45] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[20:47:09] *** Parts: mw1001 (mw@moz-17825C76.cable.virginm.net) ()
[20:48:00] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[20:48:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:49:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:50:00] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:51:15] *** Parts: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) ()
[20:51:19] *** Joins: earlzlap (earlz@ED11D7F2.3A0412A8.3D8DAE4F.IP)
[20:52:58] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[20:53:16] *** Quits: earlzlap (earlz@ED11D7F2.3A0412A8.3D8DAE4F.IP) (Quit: Leaving.)
[20:53:21] *** Joins: earlzlap (earlz@ED11D7F2.3A0412A8.3D8DAE4F.IP)
[20:53:26] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[20:53:46] <earlzlap> is there a good way of downloading the standard library documentation for offline use?
[20:54:06] <strcat> earlzlap: generate it with rustdoc
[20:54:19] <strcat> rustdoc libstd/lib.rs
[20:56:05] <earlzlap> ah. that would be the easiest heh
[21:00:18] <olsonjeffery> \o/
[21:00:20] *** Joins: mw1001_ (mw1001@moz-17825C76.cable.virginm.net)
[21:00:38] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:00:40] *** Joins: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com)
[21:00:54] *** Quits: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com) (Quit: Leaving...)
[21:00:58] <lennart> newbie question: if I have fn foo(bar: &int), is it possible to mutate the value pointed to by bar inside foo?
[21:01:07] *** Quits: mw1001_ (mw1001@moz-17825C76.cable.virginm.net) (Quit: Ex-Chat)
[21:01:09] <lennart> if foo is only called with mutable pointers
[21:01:45] <kimundi> no
[21:01:57] <kimundi> foo would need to take &mut for that
[21:02:02] <earlzlap> So, doc/README says you can use `make docs` to make all the common documentation. but that doesn't work without configuring things, which means you have to have LLVM and all that setup
[21:02:31] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[21:02:31] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[21:02:32] <olsonjeffery> earlzlap: yes.
[21:02:33] <kimundi> earlzlap: right, make docs needs to build current rustdoc and compiler first
[21:02:58] <lennart> kimundi: would the syntax be fn foo(bar: &mut int) ?
[21:03:10] <kimundi> lennart: yes
[21:03:12] <adridu59> strcat: what is wrong with my do {} while paragraph?
[21:03:15] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[21:03:57] <lennart> oh I see, I also have to pass the parameter into the function with &mut
[21:04:17] <lennart> thanks for your help
[21:04:31] <earlzlap> ah, I'll just build manually then. I have a nightly build, but my machine isn't setup right now for building Rust
[21:05:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:05:36] *** Quits: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP) (Client exited)
[21:07:11] <olsonjeffery> earlzlap: all of the docs you would want (from the make docs build) are on rust-lang.org and updated for master
[21:07:45] <olsonjeffery> rustdoc is useful for generating docs for local codebases. i use it frequently.
[21:08:15] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:09:59] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[21:10:53] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:12:39] *** Joins: gwty (gwtypc@D1719613.914FDA14.F44414AF.IP)
[21:13:03] *** Quits: fabiand (fabiand@moz-BD48AAA5.adsl.alicedsl.de) (Quit: Verlassend)
[21:13:10] <rossm> is it weird that I notice rust releases on hn before anywhere else?
[21:13:26] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:13:28] <earlzlap> olsonjeffery: yea, but I wanted to download them for offline use
[21:13:56] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[21:14:05] <earlzlap> I can just deal with reading markdown directly instead of HTML for what rustdoc can't handle I suppose
[21:14:27] <kimundi> rossm: Don't tell me the release candiate already hit hackernews...
[21:15:17] <Ms2ger> ross, because they're not released yet, perhaps :)
[21:15:38] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[21:16:08] <jdm> Ms2ger: false!
[21:17:24] <dmz> kimundi: candidate? but... the main page says we are on 0.9 already
[21:17:41] *** Joins: khodzha1 (khodzha@DBBBFFE1.3E410295.CA6E2165.IP)
[21:17:47] <kimundi> whoops, apparently we released 15 minutes ago
[21:17:58] <Ms2ger> Heh
[21:18:36] *** Quits: khodzha (khodzha@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:18:40] <adridu59> ok
[21:19:04] <dmz> ah, my CL didn't make it into the release
[21:23:32] *** Joins: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP)
[21:25:14] *** Quits: lenstr (lenstr@49CCCAE.9636F313.7A27613B.IP) (Ping timeout)
[21:25:43] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:28:21] *** Quits: twi (Adium@moz-DC24E4B0.static.tpgi.com.au) (Quit: Leaving.)
[21:28:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:29:10] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[21:29:35] <earlzlap> So what should be used instead of <'self>? 
[21:29:44] <kimundi> 'a
[21:29:52] <kimundi> 'lt, 'foobar etc
[21:29:59] <kimundi> anything else, basically :P
[21:30:16] <earlzlap> ah. I thought self was special though
[21:30:42] <earlzlap> er, what did 'self use to mean in comparison to 'a
[21:30:51] <kimundi> nope, it used to be, long ago. but the recent 'self was special in name only, not in semantic, and that specialness has finally been removed too
[21:31:13] <earlzlap> long ago? that was like last month! :) 
[21:31:25] *** Quits: alan_andrade_ (uid23020@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[21:31:27] <kimundi> right - only the _name_ 'Self was special there
[21:31:33] <kimundi> not the semantic
[21:31:34] <earlzlap> er, nvm
[21:31:58] <kimundi> I'm just glad thats fixed now :P
[21:32:03] <earlzlap> is there more plans to rework the syntax of lifetimes, out of curiousity? 
[21:32:09] <earlzlap> named lifetimes, that is
[21:32:19] <kimundi> syntax - not that I know of
[21:32:31] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[21:34:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[21:35:31] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[21:35:34] *** Quits: earlzlap (earlz@ED11D7F2.3A0412A8.3D8DAE4F.IP) (Ping timeout)
[21:35:35] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:35:35] *** ChanServ sets mode: +ao dherman dherman
[21:38:05] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:38:49] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:39:47] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:39:52] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[21:40:04] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:40:28] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[21:41:17] <`achin> congrats all on 0.9 \o/
[21:41:49] <Ms2ger> Next is 1.0? :)
[21:42:16] <zxcdw> Unlikely
[21:43:29] <kmc> my friends keep asking me when 1.0 will be out :)
[21:43:31] <kimundi> we'R gonn have at least .10 and .11 I guess
[21:43:46] <kmc> i've been saying "probably the first half of this year" -- should I be saying something different?
[21:44:15] <kimundi> Yes, you should be saying "When it's done" :P
[21:44:21] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[21:44:22] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[21:44:24] <erickt> kmc: all I've heard was hopefully in 2014
[21:44:26] <kmc> somehow I don't think they will find that answer very satisfying
[21:44:42] <kmc> re "when it's done" ;P
[21:44:48] <pyon> Is it possible to omit branches from a "match" block if the type of the whole "match" expression is () ?
[21:44:48] <kimundi> With a targeted date less then January first 2015
[21:45:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:45:09] <kimundi> pyon: I don't think so
[21:45:12] <Ms2ger> pyon, _ => ()
[21:45:15] <`achin> _ => ()
[21:45:56] <pyon> Well, yeah, but "if" allows you to omit the "else" branch if the type of the conditionally-executed expression is () . Anyway, I was just wondering. :-P
[21:46:13] <kimundi> pyon: match needs to be exhaustive - allowing to non-exhaustive matches in certain situations would just introduce subtle bugs for users :P
[21:46:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:46:37] <kmc> using _ as your last pattern kind of defeats that safeguard though ;P
[21:46:45] <jadbaires> kimundi: pyon: in fact some authors even dislike _ for that reason
[21:46:51] <kimundi> Granted, one could draw the paralell to if ... else ...
[21:46:55] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:47:03] <kmc> but I still think the current behavior is best; sometimes one *wants* exhaustiveness checking even with result type ()
[21:47:30] <kimundi> jadbaires: Yeah - its certainly a problem if you change a enum and don't get compile errors because the new variant gets cobbled up in an _
[21:47:52] <kimundi> kmc: yup
[21:48:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[21:48:05] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[21:48:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:50:11] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[21:50:31] <jadbaires> in the closure type   &fn<no-bounds>(int) -> int   what does the no-bounds refer to?
[21:50:43] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[21:50:54] <kmc> it says there are no trait bounds on the free variables of the closure
[21:51:01] <jadbaires> oh I see
[21:51:26] <kmc> I think that's the default for &fn, and the default for ~fn is a Send bound? but also, everything's different in 0.9
[21:51:44] *** Joins: mib_xkjxa3 (Mibbit@B398BE78.F804C29E.D35A31DF.IP)
[21:51:46] *** Quits: mib_xkjxa3 (Mibbit@B398BE78.F804C29E.D35A31DF.IP) (Quit: mib_xkjxa3)
[21:52:11] <jadbaires> compiling 0.9 now
[21:53:05] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[21:53:33] <diverse> yay, 0.9 came out, now the minority of 0.8 users can finally update their crap, and tutorials can be updated (I'm looking at you steveklabnik)
[21:54:42] <mcpherrin> diverse: and all will be good for two or three weeks until goodness lands on Master and then we'll be cursing people using 0.9 :-)
[21:55:23] *** Joins: dr_bibble (Mibbit@moz-9930DE6A.client.mchsi.com)
[21:55:57] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[21:56:18] <geomyidae_> :) the pointer guide is good
[21:56:33] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[21:57:02] *** Joins: gamakichi (Mibbit@moz-CD3EFF74.cs.virginia.edu)
[21:58:03] *** Quits: dr_bibble (Mibbit@moz-9930DE6A.client.mchsi.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:58:44] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:59:20] <adridu59> diverse: yea steve has staging patches already
[21:59:53] *** Quits: jackneill (jackneill@moz-2B2E9D6.pool.digikabel.hu) (Ping timeout)
[22:00:07] *** Quits: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP) (Ping timeout)
[22:00:15] <adridu59> geomyidae_: yes it's quite cool, first time I see a paper that both summarizes pointers and explains them in a simple way
[22:00:19] <diverse> mcpherrin: indeed, in a month or two, we will be back to recommending master just like yesterday
[22:00:23] <diverse> adridu59: awesome
[22:00:32] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[22:00:57] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[22:01:02] <adridu59> I mean pointers are not really complex, you don't need to get the underlying concept i.e. why each of them were thought the way they were i.e. what issues they solve
[22:01:38] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Ping timeout)
[22:01:40] <strcat> diverse: or really, in a week
[22:01:47] <bstrie> I give it two days
[22:01:56] <kmc> the different types of pointers in Rust basically codify things that C / C++ programmers already have to think about
[22:01:58] <strcat> if someone asks how they can write a tree with parent pointers and without unsafe code, we're going to have to say 'use master'
[22:02:06] <strcat> that's going to land in an hour
[22:02:23] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:02:24] <strcat> kmc: they're already codified in C++ :)
[22:02:26] <gamakichi> Hi all, I noticed that the "single threaded" spawning mode for tasks had been removed in Rust 0.9. Is there any alternatives? The "single threaded" spawning mode is useful when I need to spawn a child process in one of the tasks. Without it, all of the other tasks would be blocked when a child process was spawned in any task.
[22:02:30] <strcat> lifetimes are what rust adds over C++
[22:02:39] <adridu59> kmc: yes, that's why I think they are trivial to understand when introduced in context
[22:03:16] <dmz> strcat: where can I get more info about your change on trees with parent pointers?
[22:03:37] <strcat> dmz: https://github.com/mozilla/rust/pull/10926
[22:03:46] *** Joins: Ycros (ycros@moz-E0894734.ycros.org)
[22:03:56] * strcat is not incredibly enthusiastic about adding a word to all Rc boxes but whatever
[22:04:01] <mcpherrin> strcat: ooo, link to patch? I want me some parent pointers
[22:05:05] <bstrie> strcat: how hard it is to write a version of the old naive Rc without that extra word?
[22:05:06] <kmc> strcat: lifetimes, and relatedly, static & sound enforcement of uniqueness
[22:05:14] <kmc> C++ has unique_ptr but there are all kinds of loopholes
[22:05:15] <strcat> bstrie: this is just as naive as the old one
[22:05:25] <bstrie> then why did we get rid of the old one :P
[22:05:31] <pyon> strcat: Also, nothing ever came out of the C++ concept proposal, but Rust has traits. :-)
[22:05:31] <strcat> kmc: it's not more or less safe than rust's unique pointer
[22:05:40] <kmc> eh, we've had this argument before
[22:05:49] <dmz> strcat: awesome change, even though I'm slightly scared everytime basic things become more complex in Rust
[22:05:52] <mcpherrin> pyon: I think there is still people hoping to get concepts-lite into c++18 or whatever :P
[22:06:01] <pyon> mcpherrin: lol
[22:06:02] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[22:06:02] <strcat> dmz: doesn't make the existing code any more complex
[22:06:08] <Ms2ger> mcpherrin, C++32, maybe ;)
[22:06:11] <strcat> if you were using Rc before, it's the same now
[22:06:17] <strcat> it picks up one method (downgrade)
[22:06:19] <dmz> true, all good then :)
[22:06:19] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:06:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:06:32] <mcpherrin> Ms2ger: Let's hope we use Rust 5.0 instead of C++32 ;)
[22:06:45] <cmr> jack: seems you found it :)
[22:06:45] <pyon> mcpherrin: They would have to rewrite the standard library to turn type_traits into concept instances rather than templates.
[22:06:49] <strcat> pyon: concepts are still going to land in C++ as concepts lite
[22:07:02] <Ms2ger> mcpherrin, not holding my breath :)
[22:07:04] <pyon> strcat: But... when?
[22:07:08] <strcat> pyon: concepts still use templates
[22:07:09] <Ms2ger> mcpherrin, and definitely not until '32 :)
[22:07:09] <bstrie> are concepts scheduled for c++17?
[22:07:19] <strcat> pyon: does it matter? C++ templates aren't worse than rust's traits anyway
[22:07:24] <zxcdw> Rust 5.0 confirmed for 2032!?
[22:07:28] <strcat> they let you express a lot more in the type system
[22:07:46] <pyon> strcat: Rust is better in that it clearly separates parametric polymorphism (generics) from ad-hoc polymorphism (traits).
[22:07:48] *** jorendorff is now known as jorendorff_away
[22:07:51] <strcat> as a trade off, your API is not clear without documentation since it's typed based on the implementation
[22:08:12] *** Joins: jurniss (Mibbit@moz-C9FEED49.midsouth.biz.rr.com)
[22:08:17] <strcat> pyon: traits are used for both
[22:08:28] <Ms2ger> 2032
[22:08:29] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:08:32] <Ms2ger> 20-->3<--2
[22:08:35] <Ms2ger> HL3 confirmed
[22:08:43] <pyon> strcat: The only thing I really miss is exported typedefs (though hopefully in a more Haskell-type-family-like form), but that can be worked around.
[22:08:50] <diverse> Ms2ger: I knew someone was going to say that
[22:08:54] <Ms2ger> :D
[22:08:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:09:13] <strcat> pyon: well, I miss lots more than that from C++ and I find it dishonest to list that as the only thing you lose
[22:09:15] <mcpherrin> Which has been in development longer: Rust or HL3?
[22:09:21] <zxcdw> HL3 written in Rust 5.0 in 2032
[22:09:59] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:10:05] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[22:10:18] <adridu59> strcat: is let cond= true; while cond { calc(); } better than loop { calc(); if cond { break; } } ? because of the use of loop keyword and related optimizations possibly?
[22:10:27] <diverse> I would find it more believe if it was written in Rust 3.0 ;)
[22:10:29] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Ping timeout)
[22:10:35] <strcat> adridu59: not going to make a difference to optimizations
[22:11:00] <diverse> *believable
[22:11:05] <adridu59> so what's best?
[22:11:17] *** Quits: dgpratt (dpratt71@2F49BEA0.B7D6B72A.4F70D6C7.IP) (Ping timeout)
[22:11:25] <adridu59> (my example is flawed btw)
[22:11:34] <strcat> adridu59: I think the latter is better but it's subjective
[22:13:34] <kmc> I would favor the one without the superfluous variable
[22:13:42] <diverse> the latter would make a good replacement for do-while loops in C etc
[22:14:33] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:15:10] <jadbaires> after compiling rust it appears to work, but whenever there's a compile error it ends with the following messages:   "task 'rustc' failed at 'explicit failure', /home/jadrian/bin/software/rust_install/src/libsyntax/diagnostic.rs:41"
[22:15:24] <jadbaires> and "task '<main>' failed at 'explicit failure', /home/jadrian/bin/software/rust_install/src/librustc/lib.rs:453"
[22:15:50] <jadbaires> is this normal or do I have an installation problem?
[22:16:03] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Ping timeout)
[22:16:05] <diverse> I had errors like that before
[22:16:09] <adridu59> oh ok I thought you implied the opposite before (I like getting advised on improvements)
[22:16:22] <dmz> do we have a list of rust-related IRC channels somewhere?
[22:16:32] <kimundi> I don't know if its normal, but I think I have similar error messages too - I always irgnored them as they seem to do no harm :P
[22:16:44] <bstrie> dmz: sidebar on reddit.com/r/rust
[22:16:58] <Ms2ger> /list #rust*
[22:17:45] <dmz> thanks!
[22:17:51] <diverse> bstrie: still kicking ass on those 'accidental' playrust posts?
[22:18:03] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[22:18:47] <bstrie> diverse: eh, we really only get 1 a day on average
[22:18:48] *** Joins: Anker (Mibbit@1B10F7CA.6E79B171.7182960C.IP)
[22:19:57] *** Quits: Anker (Mibbit@1B10F7CA.6E79B171.7182960C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:19:57] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[22:20:28] <mcpherrin> At least there's only been 1 to the mailing list :)
[22:20:48] <bascule> woohoo, Rust 0.9!
[22:21:15] <bascule> heh what title of the email is Rust 0.8 released? ;)
[22:21:37] <diverse> bascule: it's called PEBKAC
[22:21:48] <mcpherrin> bascule: there's another email after with the correct subject :)
[22:22:43] <steveklabnik> someone who knows Windows well should respond to https://news.ycombinator.com/item?id=7033676
[22:22:52] <steveklabnik> I don't know what the current situation is
[22:23:19] <adridu59> it is supposed to bundle the DLLs
[22:23:29] <strcat> it does
[22:23:31] <adridu59> and it is supposed to have been tested through RC release
[22:23:39] <adridu59> so it is supposed to be trouble-free
[22:23:48] <strcat> steveklabnik: rust needs a linker, windows doesn't include a linker, LLVM's LLD isn't mature yet
[22:24:14] <steveklabnik> .... so what's the actual future plan?
[22:24:17] <diverse> aww :(
[22:24:18] <strcat> steveklabnik: using LLD
[22:24:24] <strcat> steveklabnik: it's not mature yet
[22:24:48] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:24:51] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[22:24:55] *** Joins: amphibulus (Mibbit@moz-C9C7F4DA.adsl.highway.telekom.at)
[22:25:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:26:04] <btipling> congratulations on the new release
[22:26:04] <elux> congrats on 0.9 gents :)
[22:26:07] <btipling> ^^
[22:26:19] <btipling> also any gals of course
[22:26:19] <adridu59> strcat: is it expected that the windows package doesn't work upon just installing it? are there additional steps?
[22:26:31] <strcat> yes it's expected, it needs gcc
[22:26:37] <adridu59> I see
[22:26:41] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[22:26:56] <vmx> i can clearly see the pattern of implementing the Equiv trait (and a Less trait) for two types and all possible combinations (thanks again dbaupp for pointing me to that solution) . i wonder if some syntactic sugar could make this easier: https://www.friendpaste.com/1jNZycL5CrZ0YuJU3BEv6H
[22:27:06] <SiegeLord> Why can't we distribute the GCC ld? Licensing terms?
[22:27:17] <diverse> now everybody jump into the 0.9 pool, while we enjoy our rust master mojitos
[22:27:18] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:27:46] <elux> btw.. amateur question, but is rust going to have an optional gc?
[22:27:49] <strcat> SiegeLord: the plan is to use LLD
[22:27:57] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[22:27:57] <Ycros> I use scoop on windows, they have a rust package
[22:28:08] *** Joins: goran (goran@B83196FF.C26CF587.3C521BE1.IP)
[22:28:08] <SiegeLord> strcat: Will LLD be ready in 6 months?
[22:28:09] <kmc> elux: yes; task-local
[22:28:11] <strcat> elux: yes, std::gc will provide a garbage collected pointer type, there is currently not a garbage collector implemented
[22:28:19] <elux> gotcha, cool
[22:28:21] <strcat> SiegeLord: it already works now
[22:28:26] <strcat> for static linking
[22:28:37] <strcat> dynamic linking is pretty pointless on windows
[22:28:44] <kmc> elux: that's what @T was intended to be... I don't know if there's a final decision on whether the @T syntax will return as sugar for Gc<T>
[22:28:48] <SiegeLord> Dynamic linking is the only way to use LGPL ;)
[22:29:00] <strcat> SiegeLord: no, it isn't
[22:29:16] <SiegeLord> What other way is there?
[22:29:20] <strcat> you can use an LGPL library by 
[22:29:23] <strcat> 1) dynamic linking
[22:29:36] <strcat> 2) providing source code (doesn't have to be LGPL or even an open-source license)
[22:29:42] <strcat> 3) providing linkable object files
[22:29:43] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[22:29:55] <strcat> number 3 works fine for a closed source project
[22:30:10] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[22:30:19] <SiegeLord> I guess...
[22:30:27] <SiegeLord> Not quite as convenient as #1 though
[22:30:34] <strcat> SiegeLord: more convenient imo
[22:30:38] <strcat> you have a single static binary
[22:30:43] <SiegeLord> You need a post-installation step
[22:30:46] <strcat> and you throw up the archive files on your site from your build
[22:30:55] <strcat> SiegeLord: nope
[22:30:59] <strcat> SiegeLord: you can ship the static executable
[22:31:06] <SiegeLord> Oh I see what you're getting at
[22:31:07] <strcat> as long as you also provide linkable object files they can use
[22:31:11] <SiegeLord> Ok, fair enough that makes sense
[22:31:13] <SiegeLord> Nvm
[22:31:15] <adridu59> We really should update our docs, e.g. the README on top of the repo says "Just download the Windows installer" and only on the bottom there is a note about it. this is misleading
[22:31:21] *** flaper87 is now known as flaper87|afk
[22:31:28] <strcat> SiegeLord: the LGPL just wants to provide the freedom to swap out another library providing the same ABI
[22:31:34] <strcat> it's not really that hard to accomodate it
[22:31:50] <strcat> SiegeLord: and.... it considers inline functions of 10 or more lines to count as static linking
[22:31:59] <strcat> so in many cases, dynamic linking doesn't free you from providing 2 or 3
[22:32:18] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[22:32:41] <strcat> C++ or Rust LGPL library -> you pretty much have to provide linkable object files, generic functions count as static linking
[22:32:58] <SiegeLord> Interesting
[22:34:16] <diverse> I find it interesting too, thanks for the rundown on that
[22:34:50] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[22:35:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:35:35] <strcat> anyway the idea is that although you don't have the freedom to modify the application itself, you can modify the library and link against your altered version
[22:35:43] <strcat> either via dynamic linking, source code or the linkable object files
[22:35:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:35:58] <strcat> (or use lib security updates)
[22:36:06] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[22:36:15] *** Joins: bitcrusher (Mibbit@moz-9148CDF7.hsd1.wa.comcast.net)
[22:36:36] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:37:04] <diverse> strcat: how would you compare LGPL to MIT or BSD?
[22:37:21] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[22:37:32] <strcat> diverse: quite a lot different
[22:37:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:37:37] <adridu59> well MIT is do what you want
[22:37:50] <strcat> adridu59: not entirely, you have to leave the copyright headers intact
[22:37:56] <adridu59> BSD is in-between GPL and MIT, and LGPL is permissive for libraries
[22:38:08] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[22:38:18] <strcat> BSD/MIT are basically the same
[22:38:25] *** Joins: jaen1 (jaen@moz-E0979827.copit.pl)
[22:38:26] *** Quits: jaen1 (jaen@moz-E0979827.copit.pl) (Quit: jaen1)
[22:38:29] <adridu59> strcat: well when I said do what you want, I didn't mean public domain
[22:38:43] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:38:56] <strcat> the modern 2/3-clause BSD license is the same as the MIT license in practice
[22:39:50] <strcat> with either GPL or LGPL, you have to make source code available to anyone you distribute the modified code to
[22:40:03] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:41:20] <strcat> LGPL allows you to make a derivative of it without the restrictions applying to the derivative work
[22:41:44] *** Joins: HeroesGrave (Mibbit@moz-41A7FD02.dyn.cust.vf.net.nz)
[22:41:52] <strcat> and AGPL is like GPL but extends it to requiring distribution of source when used for software as a service
[22:42:12] <adridu59> choosealicense.com, courtesy of GitHub
[22:42:18] <adridu59> http://choosealicense.com
[22:42:49] <HeroesGrave> Hi. I have a question about cross-compiling
[22:43:07] <HeroesGrave> How do you cross-compile with rust?
[22:43:34] <HeroesGrave> I've tried rustc --target=... but it tells me it can't find libstd
[22:43:36] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:44:07] <acrichto> HeroesGrave: you need to pass flags to ./configure when building rust to instruct it that you'd like to cross-compile
[22:44:26] <acrichto> HeroesGrave: in doing so, the build process will build libraries like libstd for the target
[22:44:35] <HeroesGrave> Ah, okay.
[22:44:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:44:46] <HeroesGrave> What do I need to pass?
[22:44:54] <acrichto> I think it's --target
[22:44:59] <mcpherrin> acrichto: If you #[no_std], then --target= should work, right?  The issues i just libraries?
[22:45:01] <acrichto> ./configure --target=$1,$2,$2
[22:45:01] <HeroesGrave> Sorry, I'm quite new to low-level programming
[22:45:14] <acrichto> mcpherrin: correct, although you'll still need a system linker
[22:45:22] <elux> btw i heard about some rust lua bindings.. is there any more info about that?
[22:45:25] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:45:33] <elux> i just saw it was mentioned on twitter
[22:45:35] <HeroesGrave> So if I do that, will it install the libs for other OS's
[22:45:44] <HeroesGrave> and then rustc --target will work?
[22:46:04] <mcpherrin> This seems worth documenting tutorial style maybe
[22:46:22] <mcpherrin> (I always forget how)
[22:46:33] <mcpherrin> Maybe I'll write a quick OS this weekend
[22:46:46] <adridu59> mcpherrin: you can send a pull request for it if you want :)
[22:46:47] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:47:03] <mcpherrin> adridu59: That's what I was thinking :)
[22:47:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:47:37] <HeroesGrave> This page could probably do with a bit more information: https://github.com/mozilla/rust/wiki/note-build-system
[22:47:45] <adridu59> elux: https://github.com/kballard/rust-lua
[22:48:30] <elux> very cool
[22:49:15] <elux> btw.. if i wanted to distribute a rust binary, what do i need to run on the box?
[22:49:38] <mcpherrin> I think we have static linking working now? so if you do that, nothing
[22:50:04] <adridu59> mcpherrin: static is default now
[22:50:15] <adridu59> rustc uses static
[22:50:31] <mcpherrin> I don't think I've compiled any rust code since that landed :P
[22:50:44] <HeroesGrave> So I can distribute a binary without the target having rust installed?
[22:50:49] <elux> mcpherrin: interesting.. where can i find info on that?
[22:50:57] <elux> oh gotcha nice
[22:51:01] *** Quits: rca (rcatolino@6A636113.7FFEF089.2CE09D78.IP) (Ping timeout)
[22:51:14] *** Joins: azita (Azita@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:51:15] <HeroesGrave> That makes things easier for me
[22:51:26] <elux> beautiful
[22:52:26] <mcpherrin> At least doing rustc hello.rs and copying hello to another machine works
[22:52:36] <mcpherrin> with hello.rs having fn main() {println!("Hello world");}
[22:53:15] *** Quits: amphibulus (Mibbit@moz-C9C7F4DA.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[22:53:47] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[22:53:59] *** Joins: dgpratt (dpratt71@moz-559F42EB.ptldme.east.myfairpoint.net)
[22:54:17] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Quit: eholk)
[22:54:19] <acrichto> HeroesGrave: currently if you want to build libstd for a different platform you'll have to have an entire toolchain for the target platform
[22:54:32] <acrichto> HeroesGrave: it's pretty involved if you want to cross compile from something like OSX to linux
[22:54:47] <Cork> is there any libs for uis in rust?
[22:55:07] <acrichto> elux: you can distribute rust binaries, but they still have system dependencies (like libc, librt, libm, etc), but those are normally available everywhere (so long as you run on the same platform)
[22:55:12] <Cork> been googling around and can't find any
[22:55:27] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[22:55:28] <acrichto> Cork: there are indeed! https://github.com/mozilla/rust/wiki/Community-libraries#gui
[22:55:44] <Cork> acrichto: super, thx
[22:57:13] *** Joins: ecr (chatzilla@6C7C14.5FFFD366.11F8506F.IP)
[22:57:18] <strcat> acrichto: well, it's trivial when your package manager has those toolchains a command away ;p
[22:57:43] <ecr> nmatsakis: ping
[22:57:47] <elux> very cool
[22:58:05] <olsonjeffery> strcat: what do you think GC opt-out would look like.. hidden from the programmer?
[22:58:14] <olsonjeffery> or would it be a build/code-time thing
[22:58:20] <olsonjeffery> like a NoGc trait or somesuch..?
[22:58:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:58:42] <strcat> olsonjeffery: #[no_std] -> disable various code generation features used to support the libstd gc
[22:58:50] <strcat> or make a libgc
[22:58:56] <strcat> and only enable them when you include it
[22:59:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:59:23] <strcat> which means no gc in libstd, at all
[22:59:52] <bstrie> iirc we already have a crate attribute to forbid anything from using Gc
[23:00:04] <strcat> bstrie: doesn't matter
[23:00:07] <strcat> still lets you call code using GC
[23:00:12] <strcat> those lint attributes aren't useful
[23:00:17] <strcat> #[deny(heap_memory)]
[23:00:24] <strcat> std::allocate_memory_on_the_heap()
[23:00:26] <strcat> doesn't stop that
[23:00:34] <HeroesGrave> acrichto: Thanks for the help anyway.
[23:00:55] <strcat> need an effects system to implement something like that in robust way
[23:01:08] <strcat> otherwise.... it might be slightly better than nothing, but it's not really doing much
[23:01:21] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[23:01:28] *** Quits: msm (Mibbit@moz-2202AB44.hsd1.ga.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:01:29] <strcat> bstrie: for example, trait objects
[23:01:34] <strcat> you can put managed pointers in them
[23:01:47] <strcat> so they'll have overhead when you aren't using GC
[23:01:48] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[23:02:00] *** Quits: Ms2ger (Ms2ger@D324D80C.3387515C.187A1082.IP) (Quit: nn)
[23:02:08] <strcat> and closures
[23:02:24] <strcat> however tracing is going to work seems pretty worrying to me anyway
[23:02:35] <strcat> what happens if you put a borrowed pointer to a managed thing inside ~?
[23:03:03] <strcat> do *all* ~ need headers? does a shadow stack take care of this (won't that add overhead everywhere?) ?
[23:03:14] *** Joins: dylukes (dylukes@23AB4C11.AF8B4D87.E8393EEB.IP)
[23:03:34] <dylukes> Hey so, I was thinking about a potential enhancement to the typing system. It might be a bit too specific to be considerable though. 
[23:03:48] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Ping timeout)
[23:03:53] <lkuper> I don't think I've seen the channel over 400 people before.
[23:03:57] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:03:59] <dylukes> Essentially, it might be helpful to be able to have what I'm coining "owner identity typing". This would look something like:
[23:04:06] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[23:04:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:04:17] <mcpherrin> lkuper: I think it went up to ~410 around 0.8 release
[23:04:47] <dylukes> trait Foo { ... fn bar(&self) → Bar<`self> }
[23:04:51] <lkuper> mcpherrin: ah. that's the number to beat, then
[23:05:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:05:14] <ecr> I'll go make some alt accounts then
[23:05:16] <dylukes> Essentially, say you have two "class rosters" of students, and a comparison function that compares some statistical property of them *in the context of a roster*.
[23:05:18] *** Joins: hjr3 (hradtke@moz-1ED9056D.lsanca.dsl-w.verizon.net)
[23:05:23] <HeroesGrave> 3 more...
[23:05:45] <dylukes> So you could have cmp(thing1: Bar<`self>, thing2: Bar<`self>) → ...
[23:06:04] <dylukes> Which basically means: "the two bar objects *must* have "come from" the same place"
[23:06:16] <diverse> I thought we removed `'self`?
[23:06:26] <dylukes> It's unrelated. I don't know if a backtick existed before.
[23:06:30] <dylukes> It's my made up syntax.
[23:06:52] <ecr> diverse: my understanding is that 'self is no longer special. you can still name lifetimes 'self if you like
[23:06:53] <dylukes> So basically the issue is this. Say we have structs representing spaces with different metrics or something
[23:06:58] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:06:59] <dylukes> ` not '
[23:07:17] <diverse> gotcha
[23:07:19] <dylukes> Space::cmp(space1.some_point(), space2.some_point()) should be illegal
[23:07:24] <dylukes> since it doesn't make sense for them to be compared.
[23:07:29] <dylukes> My solution would be to have:
[23:07:37] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[23:07:40] <dylukes> some_point(&self) → Point<`self>
[23:07:50] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Connection reset by peer)
[23:07:52] <dylukes> cmp(Point<`a>, Point<`a>) -> whatever
[23:07:58] <aatch> You might not be able to use 'self, since I think '<keyword> is forbidden now.
[23:08:07] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[23:08:14] <dylukes> Basically, the points are "tied" to the space they came from.
[23:08:18] <strcat> dylukes: you will already be able to do this if we add unboxed closures
[23:08:28] <dylukes> how so?
[23:08:29] <strcat> each unboxed closure will have a unique type
[23:08:44] <strcat> you can give each space a unique associated type
[23:08:45] <dylukes> My thought was essentially "identity types"
[23:08:52] <ecr> lkuper mcpherrin: I'm seeing 411
[23:08:59] <dylukes> but these should be hygienically generated.
[23:09:11] <lkuper> ecr: cheers!
[23:09:12] <mcpherrin> ecr: aww yuss possibly beating then!
[23:09:19] * lkuper uncorks champagne
[23:09:22] <strcat> dylukes: unboxed closures have unique types, isn't that 'hygienic'?
[23:09:27] <mcpherrin> (I don't know what the number to beat was, but I'll celebrate!)
[23:09:29] <strcat> dylukes: you can't ever generate another with the same type
[23:09:32] <dylukes> Link to the unboxed closure thing
[23:09:33] <dylukes> ?
[23:09:38] <lkuper> we're going to pretend it was 410
[23:09:49] <ecr> victory by fiat
[23:09:49] <strcat> dylukes: look at C++'s closures
[23:10:04] <lkuper> steveklabnik: I really, really like that your pointer tutorial starts with "it's seriously not that big a deal"
[23:10:06] *** Quits: jurniss (Mibbit@moz-C9FEED49.midsouth.biz.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:10:07] <strcat> they have unspeakable, unique types
[23:10:09] <lkuper> steveklabnik: that's what I always tell people
[23:10:10] <strcat> each one has a unique type
[23:10:21] <dylukes> Would that apply for things *other* than closures?
[23:10:29] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[23:10:40] <olsonjeffery> the type that shall not be spoken
[23:10:40] <strcat> dylukes: it doesn't really matter, a closure without captures is a 0-size value with a unique type
[23:10:58] *** Quits: HeroesGrave (Mibbit@moz-41A7FD02.dyn.cust.vf.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[23:11:02] <strcat> (well, in rust, in C++ I don't think stuff can be 0-size and conformant pre-optimization)
[23:11:14] <diverse> ecr & mcpherrin & lkuper: did you guys forget about the botnet parade we had a month ago which made our channel reach 900+?
[23:11:38] <mcpherrin> diverse: I wasn't around for that, but I don't think it counts :)
[23:11:54] <ecr> diverse: I've been away since September so I guess I missed it
[23:12:05] <olsonjeffery> ecr: welcome back!
[23:12:09] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:12:13] <ecr> olsonjeffery: thanks :)
[23:12:20] <olsonjeffery> you're at UW now, right?
[23:12:37] *** Quits: moostik (Icedove@moz-2E0A4DA6.minet.net) (Ping timeout)
[23:12:46] <vmx> is there some helper for assertions when wanting to pattern match results? or do i need to build my own?
[23:12:47] <steveklabnik> Kuper: thanks :)
[23:13:15] <ecr> yep. got back in the fall, but was busy with other stuff during the quarter. I'm starting up some Rust related research this quarter, so I figured I should re-immerse myself.
[23:13:18] <strcat> vmx: as in Result? there are methods on it
[23:13:24] *** Joins: blank_name (blank_name@C5C84EB0.9E887BEB.53C6B850.IP)
[23:13:26] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:13:46] <dylukes> strcat https://gist.github.com/DylanLukes/8343914
[23:13:55] <dylukes> Here I use $ instead of `
[23:13:59] <dylukes> er wait
[23:14:01] <dylukes> needs an edit
[23:14:15] <dylukes> there we go
[23:14:34] <itdaniher> Trying to compile a rust app soft-float. Anyone know what flags to pass to rustc along with -Z soft-float to resolve "X uses VFP register arguments, Y does not"?
[23:14:36] <dylukes> So basically $foo denotes an unique "related value identity type". 
[23:14:37] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:14:37] *** ChanServ sets mode: +ao dherman dherman
[23:14:44] <vmx> strcat: not really. i write some unit test for my own code and pattern matching asserts would be nice
[23:14:51] <dylukes> where $self is a conveniently automagic one for impl functions.
[23:14:59] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[23:15:01] <dylukes> $... should work for an arbitrary name in scope.
[23:15:14] <strcat> dylukes: there's no such thing as 'self anymore
[23:15:28] <dylukes> I'm not talking about lifetimes at all :\
[23:15:36] <strcat> dylukes: seems to have the same implications
[23:15:43] <diverse> sorry for the confused I caused earlier -_-
[23:15:45] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[23:15:50] <diverse> *confusion
[23:15:57] <strcat> dylukes: does $self mean 'inside the object', or does it also include stuff references in the object point to?
[23:15:57] <dylukes> No. They're very different strcat.
[23:16:11] <strcat> seems quite a similar concept to me
[23:16:17] <dylukes> $self means "related to this particular instance of self"
[23:16:25] <dylukes> Think of it as a trait bound.
[23:16:28] <strcat> dylukes: and what it is an 'instance of self'?
[23:16:36] <dylukes> In this case, a particular collection.
[23:16:41] <strcat> dylukes: which is... what?
[23:16:43] <vadimcn> Regarding Windows toolchain...  Why does everybody keeps referring to MSVC linker as a solution?   It's not shipped in the box with Windows OS, you need to install some MSVC distribution to get it.   How is MSVC dependency better than MinGW dependency?
[23:16:47] <dylukes> This is an abstract example.
[23:16:48] <strcat> dylukes: if you have a borrowed pointer in it, is that included as inside it?
[23:16:59] <dylukes> Okay, trivial example.
[23:17:08] <dylukes> You have two Graph objects, you get vertices from them.
[23:17:08] <strcat> dylukes: I'm not asking for a concrete example, I'm asking about the same problems that caused 'self to be removed
[23:17:15] <dylukes> Finding the distance between those two vertices is illegal.
[23:17:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:17:29] <strcat> dylukes: okay, and those graphs include stuff by-reference
[23:17:33] <strcat> is it included as being inside them?
[23:17:45] <dylukes> I don't understand what you mean.
[23:17:52] <strcat> a struct can contain a reference
[23:17:53] <dylukes> what is "it" here?
[23:17:55] <dylukes> Right.
[23:18:06] <strcat> is what is behind the reference something you can return with this annotation
[23:18:18] <strcat> even though they don't own it
[23:18:23] <strcat> and don't know where it comes from
[23:18:24] <dylukes> It's not about ownership.
[23:18:29] <dylukes> So yes.
[23:18:49] <strcat> well, I'm afraid I don't get it at all then
[23:18:56] <dylukes> This isn't for necessarily denoting ownership, it's for statically preventing operations on, e.g. elements from distinct collections of the same type.
[23:18:57] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[23:19:01] <strcat> so, lets say you have Rc<Graph>
[23:19:06] <strcat> you have 2 refs to the same graph
[23:19:17] <strcat> the compiler can't know they are refs to the same graph statically
[23:19:24] <strcat> do they count as being incompatible with each other?
[23:19:26] <dylukes> Yes.
[23:19:40] *** Quits: goran (goran@B83196FF.C26CF587.3C521BE1.IP) (Ping timeout)
[23:19:42] *** Quits: ecr (chatzilla@6C7C14.5FFFD366.11F8506F.IP) (Ping timeout)
[23:20:17] <strcat> I think unboxed closures would work then
[23:20:20] <dylukes> The implication is that there needs to be a way for a function to statically assert its arguments (say in my example c1 and c2) are not the same.
[23:20:42] <dylukes> There has to be a chain of trust back, essentially.
[23:21:14] *** Joins: mib_80slh7 (Mibbit@moz-E43090D5.apt.gru.net)
[23:21:33] <dylukes> Simply having annotations to say "x and y argument to this function, while of the same type, are guaranteed to be the same or not the same object"
[23:21:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:21:37] <vadimcn> brson
[23:21:52] *** Quits: mib_80slh7 (Mibbit@moz-E43090D5.apt.gru.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:22:17] <dbaupp> strcat: `~&<managed type>` I don't hink that needs to be traced at all: the borrow will freeze the original value in some other place (which acts as a root)
[23:22:52] <dylukes> brb fire drill :\
[23:22:53] *** Quits: dylukes (dylukes@23AB4C11.AF8B4D87.E8393EEB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:23:18] *** Quits: bobthenameless (bobthename@moz-A1BB42C4.dhcp.leds.al.charter.com) (Ping timeout)
[23:23:20] <dbaupp> strcat: (although pnkfelix knows more than me, so what he said may be true.)
[23:24:05] *** Joins: ecr (chatzilla@moz-8B5E7056.dhcp4.washington.edu)
[23:24:08] *** Quits: blank_name (blank_name@C5C84EB0.9E887BEB.53C6B850.IP) (Quit: leaving)
[23:24:12] *** Joins: bobthenameless (bobthename@moz-A1BB42C4.dhcp.leds.al.charter.com)
[23:24:14] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:25:32] <brson> vadimcn
[23:26:43] <vadimcn> brson: re https://news.ycombinator.com/item?id=7033676, what did you have in mind to address the platform linker issue?
[23:26:58] *** Joins: blank_name (blank_name@C5C84EB0.9E887BEB.53C6B850.IP)
[23:28:31] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[23:29:05] *** Joins: FreeFull (freefull@moz-4A920176.as13285.net)
[23:29:43] <vadimcn> brson: acrichto seems to be of the opinion that binutils should not be bundled, ever
[23:29:51] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[23:30:00] <vadimcn> referrig to (https://github.com/mozilla/rust/issues/3459#issuecomment-31474585)
[23:30:05] <strcat> we could use LLD now and just not support dynamic linking on windows yet
[23:30:21] <strcat> dynamic linking on windows isn't incredibly useful because windows doesn't share library objects in-memory
[23:30:29] <strcat> except for certain hardcoded system libs
[23:30:30] <vadimcn> dynamic linking?
[23:30:43] <bstrie> strcat: is LLD even usable yet? I thought it was basically stagnant
[23:30:48] <acrichto> vadimcn: what other toolchains for windows are there? as in what other linkers would other people expect to work with?
[23:30:52] <strcat> bstrie: it's usable and not stagnant
[23:30:57] <strcat> it's more mature on windows than linux
[23:31:21] <strcat> because there isn't much interest in yet another ELF linker
[23:31:25] <strcat> gold is already great
[23:32:05] <acrichto> vadimcn: I suppose for me personally I don't understand the picture. I have a vague notion of things other than mingw, but it's not clear to me what they are and why we aren't or can't use them right now
[23:32:11] <vadimcn> acrichto: mingw, msvc, some toolchains, like D, rolled their own
[23:32:24] <acrichto> D has its own windows linker?
[23:32:35] <strcat> Go has a really terrible C compiler and linker everywhere ;p
[23:32:41] <strcat> its own
[23:33:05] <strcat> and debugger, and profiler
[23:33:09] <vadimcn> acrichto: msvc linker probably doesn't support half the features that Rust libs would need, e.g. weak symbols, pseudo-relocations, probably more
[23:33:45] <acrichto> vadimcn: hm, those are all kinda fluff features that are "just nice" and replaced something else more standard, so we can probably do away with most of those
[23:34:06] <pnkfelix> dbaupp: BTW whether you need to trace `~&<managed type` is tied into how general a Gc strategy you want to support.  My goal has been to ensure that we can support a moving gc.  If we were to restrict ourselves to non-moving, then I think your argument (that you can just relying on the borrow to do the rooting) should hold water.
[23:34:14] *** Joins: jhasse (jhass_000@moz-930A1FAF.ewe-ip-backbone.de)
[23:34:17] <acrichto> vadimcn: I suppose that it'd be nice to just try out using msvc and seeing what happened (seems like some should work?)
[23:34:21] <whitequark> wouldn't that just result in a bunch of libraries not working on windows, because people tend to not care about it by default/
[23:34:24] <whitequark> *?
[23:34:33] <whitequark> at least that's how it is with ruby gems.
[23:34:41] <strcat> acrichto: well, MSVC will never be more convenient than mingw
[23:34:45] <strcat> we can *never* ship it ourselves
[23:34:46] <eevee> 15:28:16 [@antimagical:10] it's been over an hour and llvm isn't even halfway done compiling. golang compiles in 4 minutes.
[23:34:47] <acrichto> whitequark: these are all features that are behind feature gates and not usuable from a language level easily
[23:34:55] <dbaupp> pnkfelix: wouldn't a fully-moving GC require tracing every sub-reference too?
[23:34:58] <jhasse> Are we talking about MinGW vs. MSVC?
[23:35:07] <strcat> acrichto: the the MSVC++ express ToU may not be acceptable for everyone who wants to use rust
[23:35:11] <vadimcn> acrichto: yes, D seems to have it's own linker, this one http://www.digitalmars.com/ctg/optlink.html
[23:35:21] <bstrie> eevee: tell them that lua compiles in a quarter of a second! lua > all
[23:35:41] <vadimcn> acrichto: and msvc linker does not come with windows, you need to install MSVC distro to get it
[23:35:49] <pnkfelix> dbaupp: I think the answer is "yes", but I also am not sure what you mean by "sub-reference"
[23:35:57] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[23:35:57] <acrichto> vadimcn: well we're expecting there to be *some* linker available, right?
[23:36:06] <brson> vadimcn: I'm counting on lld maturing
[23:36:07] <vadimcn> acrichto: nope
[23:36:09] <bstrie> one does not simply link on windows
[23:36:10] <olsonjeffery> vadimcn: yeah. the point of that poster's complaint was "I'm a windows c++ developer and I'm offended by the state of affairs in Rust.
[23:36:10] <acrichto> vadimcn: I thought the major complaint was that the local linker just wasn't the msvc linker/
[23:36:11] <olsonjeffery> "
[23:36:16] <brson> vadimcn: we may need to put some of our own resources into it
[23:36:19] <olsonjeffery> it wasn't "rust has to 100% stand alone"
[23:36:27] <olsonjeffery> it was "rust needs to comform to *my* needs"
[23:36:32] <dbaupp> pnkfelix: `let y: Gc<(int, int)> = ... ; let (_, ref x) = *y.borrow();`
[23:36:33] <olsonjeffery> i kind of felt like it wasn't very constructive.
[23:36:39] <strcat> and what are their needs? I don't get it
[23:36:48] <olsonjeffery> or, at least, could've made his point in one paragraph instead of 5.
[23:36:49] <dbaupp> pnkfelix: (i.e. x points inside the GC pointer, not to the start of the allocation.)
[23:36:49] *** Joins: bb (Mibbit@moz-126A1ADE.dhcp.insightbb.com)
[23:36:53] <strcat> anyway, I'd prefer not having that person the community ;p
[23:36:58] <strcat> so lets not please them
[23:37:02] <vadimcn> acrichto: no, the complaint is that you need mingw env with gcc to use Rust compiler
[23:37:06] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Quit: WeeChat 0.4.2)
[23:37:09] <acrichto> brson: the good news is lld looks pretty active: https://github.com/llvm-mirror/lld/graphs/commit-activity
[23:37:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:37:11] <Matthias247_> msvc would be more convenient for some developers (incl. me), because they already have it installed. However others will like it even less, because it's basically a non-free dependency
[23:37:15] <pnkfelix> dbaupp: ah I see, interior pointers
[23:37:28] <vadimcn> brson: why bundling lld is better than ld ?
[23:37:31] <acrichto> vadimcn: yes, but those that are complaining all mostly have link.exe locally, right?
[23:37:35] *** Quits: bb (Mibbit@moz-126A1ADE.dhcp.insightbb.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:38] <brson> vadimcn: licensing
[23:37:40] <dbaupp> pnkfelix: yeah, that's the word I was looking for :)
[23:37:41] <pnkfelix> dbaupp: Well, you cannot put borrowed references into a Gc-object anymore, right?
[23:37:43] <jhasse> strcat: +1
[23:37:51] <acrichto> vadimcn: plus we're also already bundling all of llvm
[23:38:00] <dbaupp> pnkfelix: I believe that's true with a 'static bound, yes
[23:38:01] <brson> all things considered it's better not to include any GPL software
[23:38:13] <pnkfelix> dbaupp: so the identification of interior pointers would be restricted to the stack scan and the scan of ~-allocated objects.
[23:38:30] <lurk_> I'm just a noob, but getting mingw32 working and getting rust to compile a program which didn't give me errors would not easy
[23:38:31] <brson> though if it comes down to it, and we can create a self-contained GNU ld, then I'd be happy to do it
[23:38:36] <lurk_> was*
[23:38:46] <jadbaires> why doesn't/can't main have return type int?
[23:38:46] <jhasse> How about the windows installer executes the mingw installer of no mingw installation is found in the PATH?
[23:38:49] * strcat shrugs
[23:38:54] <jhasse> *if
[23:38:56] <dbaupp> pnkfelix: makes sense
[23:39:06] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[23:39:12] <acrichto> jadbaires: std::os::set_exit_status() should work instead
[23:39:15] <lurk_> I don't think the version of gcc needed on Windows is available anymore either
[23:39:21] <jadbaires> acrichto: ah thanks!
[23:39:31] <strcat> lurk_: we don't require a specific gcc version afaik for this requirement
[23:39:45] <acrichto> lurk_: back for 0.8 we required a specific gcc version, but we shouldn't any more
[23:39:51] <pnkfelix> dbaupp: BTW sorry I haven't gotten to look at your GC patch yet; I've been trying to focus on face-to-face interactions while I am in SF.  I hope to get to look at it on Saturday or Monday.
[23:39:54] <lurk_> oh good
[23:39:59] <vadimcn> brson: what about ld license?   Rust is open source, so what's the problem
[23:40:00] <vadimcn> ?
[23:40:40] <strcat> does gold work on windows?
[23:40:44] <strcat> LTO working is important
[23:40:57] <vadimcn> brson, acrichto: besides, rust also needs "ar", doesn't it?
[23:41:01] <dbaupp> pnkfelix: (I'm actually leaning toward closing that PR, since I think you (et al) have a much clearer idea of what will work... unless landing something very very simple that mostly works is acceptable as a first step.)
[23:41:05] <mcpherrin> strcat: gold is elf-only, so unless you make windows load ELFs, no
[23:41:08] <dbaupp> pnkfelix: no problem :)
[23:41:11] <brson> vadimcn: it's just very unfortunate to include copyleft software in our permissively licensed product
[23:41:14] <strcat> ah so we don't have LTO on windows
[23:41:16] <acrichto> vadimcn: llvm has llvm-ar which would probably suffice, ar is a pretty small program
[23:41:23] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:41:26] <ecr> LLVM LTO is still ELF based
[23:41:28] <vadimcn> strcat: we do have LTO
[23:41:44] <acrichto> rust version of LTO has nothing to do with the linker
[23:42:02] <strcat> acrichto: so... we don't actually do real LTO?
[23:42:13] <acrichto> strcat: I would recommend reading rustc::back::lto
[23:42:24] <strcat> I thought the linker was required to remove all extra dead symbols
[23:42:36] <acrichto> again, I would recommend reading rustc::back::lto
[23:42:42] <vadimcn> strcat: we combine LLVM IR from all crates and emit a single object file
[23:42:50] <strcat> which isn't LTO
[23:43:01] <ecr> that's just linking
[23:43:05] <strcat> you can do that with llvm-link too, but it's not really the same thing
[23:43:06] *** Joins: Florob (Florob@moz-39532932.de)
[23:43:16] <vadimcn> strcat: that's hair splitting :)
[23:43:24] <strcat> vadimcn: not really
[23:43:33] <olsonjeffery> mom, dad, stop fighting
[23:43:41] <vadimcn> stdcat: linking in this case is performed by rustc
[23:44:12] <vadimcn> (which defers actual linking of obj to ld, of course)
[23:44:36] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[23:44:39] <vmx> for those who wondered what i mean with a pattern matching assert helper: https://gist.github.com/vmx/8344286
[23:44:44] <strcat> when you perform link-time optimization with clang/gcc, you are linking with clang/gcc
[23:45:14] <strcat> afaik there's a reason for using the linker plugin instead of clang loading the IR itself
[23:45:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:46:17] <strcat> maybe it doesn't matter for rust because we don't have .o files
[23:46:32] <acrichto> strcat: when I wrote LTO, I literally opened up and read how LLVM did it, cut out all the cruft that we didn't need and implemented LTO for rust
[23:46:37] <dbaupp> vmx: `assert!(true)`? why not just `=> {}` for than branch
[23:46:49] <acrichto> strcat: it's the exact same thing, the only thing that rustc doesn't do is LTO with native libraries
[23:46:49] <strcat> acrichto: just curious why they need the linker plugin then
[23:46:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:47:12] <acrichto> strcat: LLVM is architected to be run differently, when you link in foo.o and bar.o it looks to see if foo.o is actually LLVM bytecode
[23:47:25] *** Joins: smerft (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net)
[23:47:25] <strcat> acrichto: http://llvm.org/docs/LinkTimeOptimization.html#multi-phase-communication-between-liblto-and-linker
[23:47:28] <acrichto> strcat: it all ends up with the same result, a bunch of native object files and one huge LLVM ir module
[23:47:28] <strcat> it does more steps though
[23:47:39] <strcat> curious why it needs to do those steps
[23:47:39] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:47:43] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:47:48] <acrichto> well the general tool also has lots of fancy things to make sure that the right symbols are exposed
[23:48:01] <acrichto> it also attempts to not load IR/object files 
[23:48:06] <acrichto> by looking up symbol tables
[23:48:09] *** Joins: mr_trousers (Mibbit@moz-4014DDC7.ga.at.cox.net)
[23:48:21] <vadimcn> acrichto: anyhow, rust needs to bundle *some* linker, whether lld or ld
[23:48:22] <mr_trousers> Why was Either removed from Rust?
[23:48:24] <pcwalton> reading back scroll… regarding GC, I think that the GC should not use headers anywhere and just use pointer hash side tables
[23:48:30] *** Quits: smerft (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:48:39] <pcwalton> that is what fast conservative GCs like Boehm do anyway
[23:48:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:48:48] <acrichto> mr_trousers: Left/Right are very nondescript and it's tough to understand what they are in general
[23:48:53] <pcwalton> and then the GC can get hooks to say "hey, this thingy might contain managed pointers, please trace it"
[23:49:03] <pcwalton> conservatively in some cases, perhaps
[23:49:04] *** Quits: Ferreus (ferreus@moz-D0C499AD.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[23:49:10] <vmx> dbaupp: thanks. i used too many testing frameworks where you need to give a count on how many asserts you have
[23:49:11] <mr_trousers> acrichto: So, what's the alternative?
[23:49:14] <pcwalton> if you have no GC, then there is no overhead as those GC routines become no-ops
[23:49:23] <acrichto> mr_trousers: defining a custom enum with more descriptive variants
[23:49:26] <pcwalton> but all state related to the GC should be maintained from *outside* the objects
[23:49:38] <pcwalton> as I said, a good GC does that anyway for speed (card marking, etc.)
[23:49:47] <cmr> mr_trousers: we have the Result type.
[23:49:50] <strcat> mr_trousers: tuples are frequently used, but Either wasn't so it was removed
[23:49:52] <acrichto> vadimcn: hm, I remember in the past I couldn't even get lld to bulid without cmake, so starting to bundle lld would definitely need some investigation
[23:49:57] <pcwalton> http://en.wikipedia.org/wiki/Card_marking is not what I was expecting :)
[23:50:12] <strcat> acrichto: LLVM build system is really a PITA :(, getting cling to build sucks
[23:50:17] <pcwalton> http://www.memorymanagement.org/glossary/c.html :)
[23:50:21] <cmr> it really is a pita
[23:50:22] <jhasse> mr_trousers: see https://github.com/AngryLawyer/rust-sdl2/commit/05d9217aed4878aee09979cf5af5832935e78101 for an example
[23:50:22] *** Joins: dylukes (dylukes@23B8C449.AF8B4D87.E8393EEB.IP)
[23:50:23] <dbaupp> pnkfelix: ah, good to hear I'm on approximately the right track :) (I don't understand how to handle vectors though...)
[23:50:23] <strcat> it needs a switch only available with non-cmake
[23:50:24] <mr_trousers> strcat: But using tuples would take up more space than an Either, correct?
[23:50:31] <strcat> but I needed the cmake build sys for something
[23:50:32] <dbaupp> pcwalton: ^
[23:50:36] <acrichto> strcat: yeah I think they have like 3 build systems as well :\ (make/cmake/some random thing)
[23:50:37] <dbaupp> pnkfelix: (sorry)
[23:50:41] <strcat> mr_trousers: I am saying that...
[23:50:49] <strcat> tuples are to structs as Either is to a custom enum
[23:50:52] <pcwalton> dbaupp: what's wrong with vectors?
[23:50:57] <strcat> and tuples are widely used in rust, but Either wasn't
[23:50:59] <strcat> so it was dropped
[23:51:04] <dylukes> Either was dropped :0?
[23:51:08] <strcat> it existed for convenience but wasn't an idiom people used
[23:51:09] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[23:51:14] <dylukes> Is it in extra? I use it :\.
[23:51:19] <strcat> dylukes: nope, it's gone
[23:51:23] <mr_trousers> jhasse: Oh, I see... enum.
[23:51:36] <dbaupp> pcwalton: the last paragraph of https://github.com/mozilla/rust/pull/11399#issuecomment-31945182 (below the <hr>)
[23:51:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:51:52] <strcat> tbh I prefer Either<ResultType, ErrorEnum> over Result<ResultType, ErrorEnum>
[23:51:58] <ecr> dylukes: you can create your own custom Either I guess. I was pretty surprised by its removal too.
[23:52:02] *** Joins: kozikow (textual@36D12E7.4B9DC31C.413A0BDB.IP)
[23:52:06] <strcat> just because I think if you have nice error types, you don't really need Result
[23:52:26] <dylukes> Besides, type Result<A, B> = Either<A, B> :p
[23:52:30] *** Joins: blaenk (blaenk@moz-C270A5EA.lsanca.dsl-w.verizon.net)
[23:52:35] <dylukes> Either is *usually* used as a result, but not always.
[23:52:40] <cmr> dylukes: no it doesn't, not with our typedefs.
[23:52:41] <blaenk> psh, had been idling for days in freenode's #rust wondering why it was so quiet
[23:52:45] <blaenk> didn't know everyone was here
[23:52:47] <pcwalton> dbaupp: can Vec<T> tell the GC about it? it won't make push and pop that expensive.
[23:52:49] <cmr> blaenk: you should have read the topic.
[23:52:52] <pcwalton> if you do it right.
[23:52:53] <blaenk> yep -_-
[23:53:06] <strcat> cmr: can that channel just be removed? #rust isn't the correct name on freenode
[23:53:07] <blaenk> but I wasn't actively looking for discussion anyways, just idled in there while talking in other channels
[23:53:15] <strcat> single hash == official channel, supported by upstream
[23:53:25] <cmr> ... is it possible to remove a channel?
[23:53:36] <dbaupp> pcwalton: I guess; it just means it'd involve a task borrow + pointer-trie look-up
[23:53:39] <pcwalton> dbaupp: keep in mind that state-of-the-art GCs will tell the GC every time *any pointer anywhere* is modified and it doesn't kill them
[23:53:39] <strcat> cmr: sure, if it's not officially registered it will go away
[23:53:45] <dylukes> cmr It requires a crowbar, access to the mozilla offices and tranquilizer
[23:53:47] <pcwalton> dbaupp: you only have to do that if contains-managed though
[23:53:50] <pcwalton> if T contains managed
[23:53:53] <strcat> cmr: someone can join it... but if everyone leaves it will vanish
[23:53:54] <dbaupp> pcwalton: true enough
[23:53:56] <cmr> dylukes: on freenode
[23:54:02] <dylukes> cmr oh yeah, everyone needs to leave
[23:54:07] <dylukes> if it's not registered
[23:54:08] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:54:11] <pcwalton> we just beat #developers!!
[23:54:14] <pcwalton> we're #1
[23:54:14] <pnkfelix> pcwalton: well, those state-of-the-art GCs also then invest in heavy JIT optimizations to get rid of those notifications when possible.
[23:54:19] <cmr> strcat: well that hardly counts as a channel being removed? it's not like no one can ever rejoin it ever.
[23:54:20] <dylukes> We are the champions, my friends.
[23:54:22] <strcat> my point is that it shouldn't be registered because it's not official
[23:54:25] <cmr> sure
[23:54:41] <dbaupp> pcwalton: do we know how expensive std::rt::local::Local::borrow() is? (because most other languages with GC won't have to do this, right?)
[23:54:44] <mr_trousers> Have enums been hammered out yet?
[23:54:45] <brson> pcwalton: \o/
[23:54:50] * brson taking a screenshot
[23:54:51] <dylukes> cmr The channel could be set to only allow whitelisted users
[23:54:52] * ecr checks step off Rust's plan for world domination
[23:54:55] <dylukes> and just whitelist no one
[23:55:01] <dylukes> except a bot that kicks people if they manage to join somehow
[23:55:02] <acrichto> success!
[23:55:03] <dbaupp> mr_trousers: in what sense?
[23:55:12] <kozikow> Hello, how can I contribute to Rust at the moment? E.g. what thing I could look at
[23:55:17] <strcat> cmr: well, all I know is that you're not supposed to make an #foo channel when you aren't foo's upstream
[23:55:22] <strcat> you can make ##foo
[23:55:26] <acrichto> dbaupp: Local::borrow is an OS TLS read/write
[23:55:27] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:55:32] <strcat> that's why there's stuff like ##linux
[23:55:38] <dbaupp> kozikow: do you have a particular area of interest? :)
[23:55:39] <dylukes> So what happened to 'self?
[23:55:41] <mr_trousers> dbaupp: idk I remember there was some discussion earlier about enums
[23:55:49] <dbaupp> acrichto: so pretty cheap? awesome
[23:55:53] <strcat> dylukes: removed, it didn't make sense
[23:55:53] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:55:59] <mr_trousers> Are DSTs mutable by definition?
[23:56:01] <alan_andrade> kozikow I asked the same thing 1 month ago and I believe the best would be to learn it or help with documentation
[23:56:03] <acrichto> dbaupp: you can also unsafely borrow which is just a read
[23:56:05] <strcat> conflated the concept of the struct's lifetime with the lifetime of what it contained
[23:56:08] <ecr> kozikow: check out https://github.com/mozilla/rust/issues?labels=&milestone=&page=1&state=open
[23:56:11] <strcat> which are not always the same
[23:56:13] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[23:56:24] <strcat> for example an iterator can be moved forwards without discarding the last ref it gave you
[23:56:25] <dbaupp> acrichto: yum... <3 unsafe
[23:56:33] <brson> gr for some reason pidgen doesn't show #rust
[23:56:39] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[23:56:56] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:57:02] <kozikow> Thanks. I will look through issues
[23:57:06] <brson> does somebody have a screenshot of top irc channels on the network?
[23:57:12] <dbaupp> oh, we have no E-mentor bugs at the moment :(
[23:57:25] *** Quits: vmx (vmx@moz-120E9EA6.pools.arcor-ip.net) (Quit: Leaving)
[23:57:35] <brson> oh we're not beating #developers now
[23:57:42] <brson> tell your friends to join!
[23:58:02] <dbaupp> kozikow: there's https://github.com/mozilla/rust/issues?labels=E-easy&milestone=&page=1&state=open too, but in many cases "E-easy" means "E-repetitive" or "E-easy-for-a-experience-Rust-dev", unfortunately :(
[23:58:26] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[23:58:50] *** Quits: dgpratt (dpratt71@moz-559F42EB.ptldme.east.myfairpoint.net) (Ping timeout)
[23:59:35] <dylukes> brson tell people in developers to come here instead :p
[23:59:59] <dbaupp> they can't call themselves "developers" if they're not using Rust. :P
