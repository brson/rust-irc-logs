[00:00:11] <pcmattman> I've moved the Makefile sideways and I'm rerunning configure, the last time I re-ran configure it didn't regenerate the Makefile
[00:01:21] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:01:52] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[00:02:37] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[00:03:37] *** Joins: andrew-__ (andrew-d_w@26B64496.9DFA657C.CC0301A2.IP)
[00:04:08] *** Quits: andrew-d_w (andrew-d_w@3D890366.5FA265D1.30850A2D.IP) (Ping timeout)
[00:04:21] *** Parts: andrew-__ (andrew-d_w@26B64496.9DFA657C.CC0301A2.IP) (Leaving...)
[00:05:46] <pcmattman> sigh, for some odd reason I was passing in a local rust root (it was in the scrollback), all is fine now when that's not passed in
[00:06:13] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:06:22] <pcmattman> so all seems okay, just a misuse (abuse?) of the build system.
[00:07:12] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[00:07:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:08:24] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:10:14] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:11:42] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:12:07] *** Joins: jdm (jdm@A931292E.20A5B7E6.930FA32.IP)
[00:12:08] *** ChanServ sets mode: +o jdm
[00:12:11] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[00:14:22] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:16:14] *** Joins: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net)
[00:18:44] <skeet70> So dbaupp and strcat were helping me with this last night. strcat informed me that what I was trying to do (pass a pointer to the same vector to four threads) was possible in unsafe blocks. I'm trying now to split the vector into four, and pass those four to the four threads, but I can't remember what was wrong with it last night, and don't understand the errors now. What type of pointer should I be using to pass those vectors to the
[00:18:45] <skeet70>  threads?
[00:19:13] <strcat> take the slices with mut_slice
[00:19:39] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:19:52] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[00:19:54] <strcat> and temporary work around the lack of fork-join by carefully converting them to the Slice representation, sending them, and making sure the tasks can't outlive the slices
[00:19:59] <strcat> temporarily*
[00:21:08] <ChrisMorgan> Currently unanswered question: "Is it possible to wrap C enums in Rust?" - http://stackoverflow.com/questions/19433827/is-it-possible-to-wrap-c-enums-in-rust
[00:21:30] <skeet70> Is there something wrong with using mut_split to save lines? It just uses slice itself right?
[00:21:53] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:21:54] <strcat> skeet70: &mut [T] is mutable, &[T] isn't
[00:22:12] <strcat> mutable slices/pointers cannot overlap with other slices/pointers
[00:22:51] <skeet70> Don't both return &mut [T]?
[00:23:00] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:23:32] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:24:04] <strcat> skeet70: slice returns &[T], mut_slice returns &mut [T]
[00:24:15] <strcat> you need mut_split to get the disjoint slices
[00:24:39] <skeet70> oh, yeah I meant mut_slice vss mut_split
[00:24:51] <strcat> then to work around the lack of fork-join, you need to convert them to Slice (sendable), and transmute to slices again
[00:24:56] <skeet70> I'm using mut_split right now to get all the pieces.
[00:24:59] <skeet70> Okay
[00:25:02] <strcat> and make sure the tasks don't outlive the slices
[00:25:12] <strcat> up to you since it's unsafe code
[00:25:56] <skeet70> So how does that conversion to slice work exactly? Is Slice the base struct without the Rust trappings?
[00:26:08] * aatch keeps thinking about how to implement a fork-join library
[00:26:44] <strcat> rusti: use std::unstable::raw::Repr; let xs = &[1, 2, 3]; xs.repr()
[00:26:45] -rusti- std::unstable::raw::Slice<int>{data: (0x7f9ed922a0e8 as *()), len: 3u}
[00:29:06] <skeet70> so repr casts it into it's Slice struct? and that is passable in an unsafe way? does xs have to be immutable, or is it actually mutable there?
[00:29:17] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:29:26] <strcat> skeet70: xs is an immutable slice there
[00:29:49] <skeet70> I need it to be mutable though correct?
[00:29:54] <strcat> yes
[00:29:57] <strcat> rusti: use std::unstable::raw::Repr; let xs = &mut [1, 2, 3]; xs.repr()
[00:29:58] -rusti- std::unstable::raw::Slice<int>{data: (0x7f1f04a2a0e8 as *()), len: 3u}
[00:30:14] <skeet70> Okay, just wasn't sure if that was specific to what you were doing or not
[00:30:19] <strcat> send that (it's not considered a borrowed slice anymore, you can send it)
[00:30:42] <strcat> and transmute back to a slice unsafety
[00:30:48] <strcat> unsafely*
[00:32:03] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[00:33:01] <skeet70> So should I be expecting an &mut [T] in the function I'm passing to, or is it going to be some different type?
[00:33:55] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Ping timeout)
[00:34:30] <strcat> it's going to be an &mut [T] because you are going to (completely unsafely) transmute back
[00:34:51] <strcat> if the task outlives the slice's lifetime, there will be memory corruption
[00:34:51] *** Joins: wilsonk|2 (kvirc@moz-8E86F35A.cg.shawcable.net)
[00:34:54] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:34:58] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:35:46] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Ping timeout)
[00:36:02] <skeet70> Hmmm… I'm getting http://hastebin.com/lerulaqiqe.sm when I try to pass part_one.repr() in to the spawned quicksort function...
[00:36:28] <strcat> you need to transmute back to a slice
[00:36:37] <skeet70> As I'm passing it?
[00:36:46] <skeet70> Wouldn't that defeat the purpose?
[00:36:49] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[00:37:03] <strcat> you are sending the Slice to a channel and transmuting back to a slice
[00:37:11] <skeet70> Ooooooh
[00:37:13] <maikeru> looks like rust-ssl and rust-http play nice together, if I can just figure out how to optionally return Option<BufferedStream<TcpStream>> or Option<BufferedStream<SslStream<TcpStream>>
[00:37:14] <strcat> the only point is to work around the safety guarantees and do something unsafe
[00:37:31] <strcat> you're going to need some way of preventing the task from outliving the slice
[00:37:33] <strcat> you're missing that
[00:37:47] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Client exited)
[00:38:18] <skeet70> Yeah I am right now, I wanted to be able to even pass it in the first place.
[00:38:28] <sfackler> maikeru: You can use trait objects and return a ~Stream
[00:38:40] <strcat> skeet70: and you probably need to guarantee it can never unwind
[00:38:46] <strcat> to preserve memory safety
[00:39:22] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:39:29] <strcat> anyway it doesn't seem worth it optimization-wise ;p
[00:39:54] *** Quits: Jesin (Jessin_@moz-76F15F40.cc.lehigh.edu) (Ping timeout)
[00:40:21] <sfackler> maikeru: (also, rust-ssl still doesn't do important things like certificate verification, so don't use it for anything important)
[00:40:27] <maikeru> sfackler: I was playing with that before, going to hack on it again. Gave up and wanted to just make sure it worked at all.. and it appears to.
[00:40:45] <maikeru> Shoud you be using rust for anything important? :)
[00:41:04] <sfackler> i'd be more okay with using rust than rust-ssl :P
[00:41:35] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Client exited)
[00:41:47] <sfackler> I should start working on that again
[00:41:59] <strcat> maikeru: more likely it's going to be robust than something you wrote in C ;p
[00:42:23] <maikeru> that may be true
[00:43:18] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:43:28] <maikeru> I think part of my problem is this impl RequestWriter<TcpStream>...
[00:44:34] <ercxx> ChrisMorgan: ping
[00:44:46] <maikeru> failed to find an implementation of trait std::rt::io::Reader for ~std::rt::io::Stream:Send
[00:45:25] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:46:06] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:46:43] <ChrisMorgan> ercxx: pong
[00:47:01] <sfackler> oh, yeah, that implementation needs to be added to std::rt::io
[00:47:33] <maikeru> :/
[00:47:41] <skeet70> strcat Yeah I'd agree with you at this point. Unfortunately the nature of an assignment means I have to make this work :S
[00:47:54] <maikeru> There's no way to specify Reader + Writer in place of Stream?
[00:48:10] <sfackler> that's not the issue
[00:48:12] <ChrisMorgan> maikeru: sure, but Stream is implemented for T: Reader + Writer
[00:48:13] <ercxx> ChrisMorgan: I want to start working on issue #27
[00:48:31] <ChrisMorgan> :-)
[00:48:36] <ercxx> ChrisMorgan: Did you take a look at LWS stuff?
[00:48:43] <sfackler> the issue is that trait T is not automatically implemented for ~T for reasons I don't fully understand
[00:49:10] <ChrisMorgan> Yep; brson merged it earlier today, I'm just doing a couple of slight tidying things but no functionality changes. What you did was good.
[00:49:11] <strcat> because when you have a trait object, you can't directly use the object by-value
[00:49:12] <maikeru> Yeah I sorta meant ~Reader + ~Writer...
[00:49:13] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:49:18] <strcat> no by-value self methods, no methods using Self
[00:49:25] <strcat> and we probably don't compile methods using complex generics properly
[00:49:31] <ercxx> ChrisMorgan: I'll start then.
[00:49:32] <strcat> (if we allow them at all)
[00:49:35] *** Joins: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP)
[00:50:46] <ChrisMorgan> Ah, trait objects and generics. I find it hard to decide when should I be using generics, <T: Stream>, and when should I be using trait objects, ~Stream?
[00:51:07] <kmc> it's a question of static vs. dynamic dispatch
[00:51:21] <strcat> for people who only need preemptive scheduling and are on 64-bit, rust-core will implement 1:1 threading and plain old sync I/O soon
[00:51:29] <strcat> ChrisMorgan: don't use trait objects
[00:51:32] <kmc> use the former when you can, because it's generally more efficient
[00:51:44] <strcat> if you're backed into a corner where a trait object is actually the best way, use one
[00:51:50] <maikeru> this would be dynamic since it depends on runtime
[00:51:59] <ChrisMorgan> More efficient but leads to uglier code as you need to specify the constraints all the time.
[00:52:26] <ChrisMorgan> I note things like std::fmt are using &mut Writer rather than <W: Writer> &mut W.
[00:52:47] <sfackler> maikeru: you can work around it by making something like "enum MyHackyStreamThing { Normal(BufferedStream<TcpStream>), Ssl(BufferedStream<SslStream<TcpStream>>) } impl Reader for MyHackyStreamThing {...} ..."
[00:53:09] <strcat> ChrisMorgan: it shouldn't look worse
[00:53:32] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[00:53:39] <maikeru> Ideally I'd like to do something like this:
[00:53:41] <maikeru>                 Some(stream) if use_ssl => Some(BufferedStream::new(SslStream.new(stream) as ~Stream, false)),
[00:53:43] <maikeru>                 Some(stream) => Some(BufferedStream::new(stream as ~Stream, false)),
[00:54:24] <sfackler> yeah, wrapping it in something like MyHackyStreamThing seems like the cleanest way of dealing with it
[00:54:32] * maikeru nods
[00:54:44] <ChrisMorgan> strcat: don't you think `fn f(w: &mut Writer)` looks nicer than `fn f<W: Writer>(w: &mut W)`?
[00:55:08] <strcat> ChrisMorgan: that's not the whole picture, you're missing that it looks worse in every single caller
[00:55:15] <strcat> and it's less flexible for the caller
[00:55:45] <strcat> the fact that dynamic dispatch was given a nicer syntax than static dispatch is a language flaw imo
[00:55:53] <strcat> people look to trait objects before more idiomatic solutions
[00:56:07] <strcat> our generics syntax isn't great
[00:57:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:57:14] <ChrisMorgan> I think we need new syntax for that very common type of generic.
[00:57:25] <bstrie> if there's a better syntax for our generics, I'd like to see it proposed
[00:57:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:57:32] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[00:57:41] <bstrie> but I'm having a hard time imagining one
[00:57:48] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:57:55] <aatch> strcat, yeah, but it's hard to come up with a better version than keeps the syntax simple (without resorting to enforced naming conventions)
[00:57:59] <aatch> that*
[00:58:11] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:58:17] <aatch> bah..
[00:58:29] <aatch> <aatch> strcat, yeah, but it's hard to come up with a better version that keeps the syntax simple (without resorting to enforced naming conventions)
[00:58:38] <ChrisMorgan> I'm thinking perhaps just a sigil in there like `fn f(w: &mut @Writer)` (naturally, that requires the @ sigil to be freed—I was just looking along the row of symbols and couldn't find anything free...)
[00:58:42] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[00:58:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:58:56] <bstrie> but we allow an arbitrary number of typeclasses
[00:59:03] <bstrie> and traits can have their own typeclasses
[00:59:09] <bstrie> there's no way to hide that complexity
[00:59:09] <SiegeLord> Or just : Writer
[00:59:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[00:59:37] <SiegeLord> Well, I guess that doesn't quite work for by reference :P
[00:59:42] <ChrisMorgan> `fn f(w: &mut @Reader + Writer)` would work (I don't think those things can have , in them, so there's no grammar clash immediately apparent)
[01:00:17] <bstrie> I don't agree that adding the traits inside the parameter list as opposed to outside of it actually wins you anything
[01:00:19] <ChrisMorgan> This would just be for simple cases; fall back to the expanded syntax for anything it can't represent or where you get multiple uses of it.
[01:00:23] <sfackler> ChrisMorgan: how would something like fn<W: Writer>(w: &W) -> W work?
[01:00:36] * strcat isn't very interested in the stdlib anymore anyways
[01:00:41] <bstrie> I also don't agree that our current syntax is bad
[01:00:42] <sfackler> oh
[01:00:47] <sfackler> efb, haha
[01:00:55] <ChrisMorgan> sfackler: it would add the possibility of `fn(w: &@Writer) -> @Writer`
[01:00:59] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:01:19] <sfackler> but that wouldn't force w's type and the return type to be identical, right?
[01:01:25] <ChrisMorgan> bstrie: it just encourages using trait objects because
[01:01:39] <ChrisMorgan> sfackler: you're right, so it'd need to use the current syntax after all
[01:02:06] <bstrie> ChrisMorgan: I disagree that it encourages using trait objects. library authors *do* use the APIs that they create, they will not be blind to the pain of casting to trait objects at every invocation site
[01:02:26] <sfackler> isn't pcwalton getting rid of the explicit cast requirements?
[01:02:33] <aatch> sfackler, yes
[01:02:36] <bstrie> only because it's painful
[01:02:44] <bstrie> if we *want* it to be painful, we can add it back
[01:02:51] <aatch> so 'as' would only be for scalars
[01:02:53] <strcat> they're still painful because they force boxing, and won't ever support self/Self
[01:03:36] <strcat> in theory you write a generic API and it can be used via either generics or trait objects, but it doesn't work that way in practice
[01:03:46] <bstrie> I don't think it's warranted to worry about people using trait objects exclusively :P
[01:03:54] <sfackler> is self-by-move not possible even for ~T?
[01:03:54] <strcat> in practice, you either write the entire API using trait objects or you write the API without trait objects and they don't work with it
[01:04:03] <SiegeLord> I'd love for trait objects to be more usable with trait based APIs 
[01:04:08] <strcat> sfackler: ~self is possible, self/Self aren't
[01:05:46] <aatch> What happens at the moment if you try to call a self-by-value on a trait object?
[01:05:48] <ChrisMorgan> bstrie: with rust-http, I have the choices of letting people write `fn handler_request<S: Stream>(r: &Request<S>, w: &mut ResponseWriter<S>)` with generics, or `fn handle_request(&self, _r: &Request, w: &mut ResponseWriter)` with trait objects. Admittedly, that's more of a higher kinds matter, but generics influence it heavily there.
[01:05:59] <strcat> aatch: it won't let you make a trait object for a trait with self-by-value
[01:06:02] <strcat> oh wait no
[01:06:07] <strcat> it just stops you from calling it now
[01:06:09] <strcat> nvm
[01:06:15] * strcat was thinking of how it was ages ago
[01:06:34] <aatch> strcat, but real error, right? Not an ICE?
[01:06:51] <strcat> a real error
[01:06:56] <skeet70> strcat so are these the task needing to outlive the slice issues you mentioned or is this something else? http://hastebin.com/rehofejuxu.coffee
[01:07:04] <strcat> it just says oh look a method with Self/self or complex generics, can't do that
[01:07:37] <strcat> skeet70: those are other errors
[01:07:42] <skeet70> damn
[01:07:55] <strcat> skeet70: lifetime errors are local to a function
[01:07:59] <strcat> there's no global inference
[01:08:01] <strcat> just simple local rules
[01:08:46] <strcat> skeet70: you're not able to return &mut [T]
[01:08:53] <strcat> you would need to give it a lifetime
[01:09:23] <aatch> skeet70, it's in-place right?
[01:09:58] <skeet70> aatch it was originally. I'm honestly profoundly confused now that I'm tranforming it around before hand
[01:10:01] <skeet70> transforming*
[01:10:21] *** Quits: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP) (Ping timeout)
[01:10:23] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:10:33] <strcat> skeet70: the transmute stuff to escape from safety land is unrelated
[01:10:47] <strcat> skeet70: your sort function is being type-checked in isolation from the rest of the program
[01:11:01] <aatch> skeet70, heh, fair enough. Assuming it is, you can add a lifetime parameter to the function to link the lifetime of the input vector to output vector
[01:11:05] *** Quits: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net) (Quit: eatkinson)
[01:11:11] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:11:13] <strcat> at least I'm assuming you're transmuting externally
[01:11:48] *** Joins: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP)
[01:12:23] <aatch> skeet70, wait, if it's in-place, why return a value?
[01:12:45] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:12:59] <skeet70> I'm getting the Slice, sending it to the spawn, then transmuting back to a &mut [int] (I think). Then I'm calling my quicksort with that. If the part (pre-Slice) is still what is being modified by the quicksort function, I don't think I need to return anything
[01:13:05] *** Quits: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP) (Quit: Leaving)
[01:13:32] <skeet70> But then I get complaints when it tries to send to the shared port the results are all on
[01:13:40] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:13:48] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[01:14:07] <strcat> skeet70: Slice is just the representation of &mut [T]
[01:14:11] <strcat> it's an implementation detail of rust
[01:14:22] <strcat> the only reason for converting to and from it is to violate the safety rules
[01:14:36] <strcat> &mut [T] -> Slice -> &mut [T] is a no-op
[01:14:39] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[01:14:39] *** ChanServ sets mode: +ao brson brson
[01:14:40] <strcat> you have the same &mut [T] at the end
[01:14:56] <skeet70> Okay, that's what I thought originally, the errors I was getting just threw me off.
[01:15:02] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:15:12] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[01:15:43] <strcat> I guess our SipHash implementation is just slow because it's a streaming hash
[01:16:06] <strcat> instead of the one-pass variant + specialized for arrays + without bounds checks
[01:16:21] <skeet70> http://hastebin.com/qufexefowa.hs is what I get when trying it without any returns
[01:16:41] <strcat> skeet70: can't really say much about that
[01:16:55] <skeet70> I thought that was because it wasn't returning anything concrete to send back to the port
[01:16:58] <strcat> it doesn't return anything, so I'm not sure what you want to be sending into the channel
[01:17:01] <skeet70> so I was trying to return stuff.
[01:17:22] <skeet70> I thought send/recv was a was to make sure my main process waited for the threads
[01:17:44] <strcat> it's just upset about not knowing the full type
[01:17:46] <strcat> for the channel
[01:17:54] <Eridius> hey skeet70
[01:18:00] <skeet70> Hallo Eridius 
[01:18:05] <Eridius> last night I produced a functioning quicksort, but you were no longer here :/
[01:18:29] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: Leaving)
[01:18:30] <Eridius> some things I remember: I changed quicksort and partition to just take `&mut [T]`, no indexes. They both operate on the entire slice
[01:18:33] <Eridius> I used .mut_slice() a lot
[01:18:52] <Eridius> for the 4 threads, I used .mut_slice 3 times to produce 4 sections, then converted them to (*mut T, uint) (where uint is the length)
[01:19:14] <strcat> Eridius: you can use std::unstable::raw::Repr
[01:19:19] <Eridius> after spawning, I converted back to &mut [T] using std::vec::raw::mut_buf_as_slice()
[01:19:24] <Eridius> strcat: I'm sticking with documented things ;)
[01:19:36] <strcat> the slice representation isn't documented afaik
[01:19:39] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:19:47] <strcat> it just changed a few days ago
[01:19:54] <Eridius> strcat: I used `(vec::raw::to_mut_ptr(v), v.len())`
[01:19:55] <strcat> I didn't have to update any docs
[01:19:58] <Eridius> not relying on any repr
[01:20:28] <strcat> Eridius: and you're converting back with one of those buffer ones?
[01:20:43] <Eridius> yeah, mut_buf_as_slice(), which takes *mut T and a uint representing the number of elements
[01:20:46] <Eridius> which is precisely what I had
[01:21:09] <Eridius> skeet70: one important thing to note: partition() cannot operate on an empty slice. But it can return the first or last index. So when creating the first 4 slices, you may end up trying to partition an empty slice
[01:21:16] <Eridius> the solution is to just have partition return 0u if the slice is empty
[01:21:23] <Eridius> which works because [].mut_slice(0) returns ([], [])
[01:22:55] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:23:07] *** Joins: brendan (brendaneic@5FF29450.615B56E6.43362C16.IP)
[01:23:30] <skeet70> so your partition was returning the two new slices to operate on instead of a new pivot?
[01:23:58] <Eridius> no, it returned the pivot
[01:24:01] <Eridius> which I then passed to .mut_slice()
[01:24:06] <Eridius> I could have made it return 2 slices, sure, but I didn't
[01:24:11] <Eridius> I suppose it's cleaner to do that
[01:24:22] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:24:31] <Eridius> fn partition<T: Ord>(v: &mut [T]) -> (&mut [T], &mut [T]) makes a lot of sense
[01:24:49] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[01:24:52] <skeet70> kinda feels right yeah
[01:24:53] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:26:14] <aatch> (You'll want to throw some lifetime params on that btw)
[01:26:24] <Eridius> ah right
[01:26:37] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:26:41] <Eridius> `fn partition<'a, T: Ord>(v: &'a mut [T]) -> (&'a mut [T], &'a mut [T])`
[01:26:59] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[01:26:59] *** ChanServ sets mode: +ao brson brson
[01:27:26] <aatch> That also has the advantage of preventing you from modifying the original slice
[01:27:50] *** Quits: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP) (Ping timeout)
[01:27:51] <skeet70> so how were you getting your first four slices?
[01:28:06] <skeet70> just dividing your legth up?
[01:28:08] <skeet70> length*
[01:28:26] <Eridius> well no, you still have to partition
[01:28:37] <Eridius> otherwise you'll end up with 4 independently sorted subsequences
[01:28:51] <Eridius> I just partitioned numbers once, then partitioned each half a second time
[01:28:55] <Eridius> so that's 3 partitions to produce 4 slices
[01:29:26] *** Joins: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP)
[01:29:31] <skeet70> ah, so you partitioned, sliced, then partitioned, and sliced the two results?
[01:29:55] <aatch> Effectively it's two iterations of qsort
[01:30:05] <Eridius> skeet70: yes. Although if you make partition return slices directly, it's just 3 partitions
[01:34:30] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:36:24] <skeet70> Okay… I think that makes sense.
[01:36:43] <skeet70> In the case of what I was doing it was always just acting on the whole slice
[01:36:51] <skeet70> so cutting the args works
[01:37:18] *** jxs is now known as jxs_
[01:37:20] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[01:39:07] *** jorendorff_away is now known as jorendorff
[01:39:08] *** Quits: geoffhill (geoffhill@moz-79C8D45C.amazon.com) (Ping timeout)
[01:40:36] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:40:37] <ercxx> Is 'RUST_LOG=rustc=1' supposed to give more information?
[01:41:09] <reedlepee> brson:https://github.com/mozilla/rust/issues/6085 Can you help me with this bug?
[01:41:17] <Eridius> ercxx: I believe that will tell you the location that triggered an ICE
[01:41:52] <ercxx> I think error message is identical with or without it.
[01:44:10] <reedlepee> brson: Could you please explain a lil about the bug.. I would like to work on the bug as part of my first contribution for OPW..
[01:44:27] <skeet70> whelp, back to the same unconstrained type error
[01:45:37] <cmr> skeet70: you can add type hints
[01:45:37] <strcat> reedlepee: it should be something like a Mode type, with the c_int in a private field, predefined constants for the available values and overloaded bitwise operators
[01:45:55] <strcat> reedlepee: there's an EnumSet type in extra, but I am really not sure if it's solid atm
[01:47:01] <brson> why not just an enum and take &[Mode]?
[01:47:15] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[01:47:43] <strcat> brson: because it's really inconvenient for the caller
[01:47:51] <ercxx> Compiling this : http://pastebin.mozilla.org/3282094 gives the same error message as this issue: https://github.com/mozilla/rust/issues/6873?source=cc 
[01:48:11] <strcat> brson: they have to dynamically build an array, if they have varying needs at runtime
[01:48:13] <skeet70> cmr what are type hints?
[01:48:23] <strcat> brson: nmatsakis made EnumSet to factor out this kind of thing
[01:48:28] <strcat> just not sure if it's finished
[01:49:02] <brson> strcat: why is dynamically building an array more inconvenient than or'ing flags together?
[01:49:17] *** Joins: avaf (Mibbit@A1793499.EC15082C.D7C984E0.IP)
[01:49:18] <cmr> skeet70: `let x: T = ...` :T is a type hint.
[01:49:58] <ercxx> What is the proper way of submitting a bug on a closed issue?
[01:50:25] *** Quits: themgt (themgt@moz-9AAC8E45.baf.movistar.cl) (Ping timeout)
[01:50:26] <reedlepee> I am a new comer i am searching an  easy bug  to solve as part of  my first small contribution for applying for OPW. Could someone help in selecting a bug!! 
[01:50:45] <strcat> brson: don't have to worry about fixed-size arrays vs. slices vs. ~[T] and push vs. push_all_move
[01:51:05] <reedlepee> cmr: https://github.com/mozilla/rust/issues/8263 could you give brief  idea about the bug 
[01:51:08] <strcat> it's not awful to have an array, but it's less nice
[01:51:17] *** Joins: themgt (themgt@moz-9D44981C.baf.movistar.cl)
[01:51:26] <strcat> if you have a group of flags, you need push_all_move, and push for 1 flag
[01:51:34] *** Quits: themgt (themgt@moz-9D44981C.baf.movistar.cl) (Quit: Pogoapp - http://www.pogoapp.com)
[01:51:41] <strcat> brson: maybe I'm the only one who thinks it's painful :)
[01:51:45] *** Joins: blinky (Mibbit@FC27FF07.E9769B29.2FA4EA88.IP)
[01:51:54] <blinky> Hey guys 
[01:51:58] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[01:51:59] <blinky> anyone active ?
[01:52:03] *** Parts: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) ()
[01:52:20] <brson> reedlepee: have you given up on 6085 already?!
[01:52:30] <strcat> I like being able to do 'static X: Mode = A | B | C; static Y: Mode = X | D;' and so on without any duplication
[01:52:31] <cmr> reedlepee: the span should only point at the `foo` in `foo:`.
[01:52:43] <cmr> reedlepee: rather than the entire thing.
[01:53:12] <brson> strcat: EnumSet is not so succinct as that
[01:53:38] <skeet70> cmr does my function have a type at all if it isn't returning anything?
[01:53:59] <strcat> brson: I just did it manually for libmagic https://github.com/thestinger/rust-magic/blob/master/magic.rs#L17
[01:54:05] <strcat> would be nice if it could just be factored out
[01:54:10] <strcat> maybe a syntax extension, dunno
[01:54:12] <cmr> skeet70: the return type is unit, written as `()`, which has a single value, also written as `()`
[01:54:25] <maikeru> This means I win, right? Segmentation fault (core dumped)
[01:54:42] * strcat has a feeling that doesn't currently compile
[01:54:45] <reedlepee> cmr: could you explain in detail . I am not able to understand ..
[01:55:05] <strcat> maikeru: there's currently no implementation of protection from stack overflows, probably caused by infinite recursion
[01:55:38] <cmr> reedlepee: I added a comment.
[01:56:10] *** Quits: jhenahan (jhenahan@moz-BF70BC63.ngn.east.myfairpoint.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:56:12] <skeet70> WOOOH it compiled
[01:56:54] <avaf> Who can help me fix the code ?  Thanks!     https://github.com/elexing/common-pool/blob/master/src/pool/lib.rs
[01:56:56] <maikeru> ah, I think I know what I'm doing... maybe
[01:56:56] <brson> so many E-easy bugs are not
[01:57:21] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:57:23] <acrichto> brson: we should un E-easy non-easy bugs
[01:57:44] <acrichto> I like E-easy being actually a good starting point, and if we water it down then it's probably not too useful to have in the first place
[01:57:51] <brson> agreed
[01:58:10] * acrichto goes and reads some bugs
[01:58:26] <brson> it's ok if it requires some handholding, but a lot of these need some deep knowledge and a big time investment
[01:58:37] <benh> find out who tagged the hard ones as easy in the first place and make them fix it real quick ;)
[01:58:44] <brson> a lot are really old, never-going-to-be-fixed type of bugs too
[01:59:29] <acrichto> haha 7889 is both E-easy and E-hard
[02:00:27] <reedlepee> cmr: I would like to know if it is ok to work on this bug ?  as I am a newcomer 
[02:00:40] <reedlepee> I am looking for an easy bug!!
[02:00:45] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:00:46] *** Joins: jxs (joaoxsouls@moz-A7EE0DAF.compute-1.amazonaws.com)
[02:00:53] <cmr> reedlepee: It will require some work, but it's not a very hard work.
[02:01:14] <cmr> I think it is a good bug for a newcomer (that's why I tagged it E-easy)
[02:01:34] *** Quits: nkoep (nik@moz-4CC49C1B.pool.mediaways.net) (Client exited)
[02:01:41] *** Quits: jxs_ (textual@moz-7D72AF75.rev.vodafone.pt) (Quit: bye)
[02:02:31] <reedlepee> cmr:ohk then from where should i start i mean which files should i look into?
[02:02:32] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:02:40] <reedlepee> sorry its Ohk*
[02:03:22] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[02:03:42] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[02:03:43] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:03:53] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[02:04:17] <cmr> reedlepee: so the error is emitted at line 2034 of src/librustc/middle/typeck/check/mod.rs
[02:05:24] <maikeru> [how] can I destructure a &mut self?
[02:05:26] *** Quits: blinky (Mibbit@FC27FF07.E9769B29.2FA4EA88.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:06:13] <benh> non-destructively, maybe with ref or so
[02:08:11] <cmr> reedlepee: I have to go. You should be able to find more help in #rust-internals
[02:09:00] <jack> whatever bug this is, it is driving me crazy: /home/jack/src/servo/src/support/glfw/glfw-rs/src/glfw/lib.rs:1:0: 1:0 error: can't find crate for `std`
[02:09:49] <strcat> jack: use std; should work, I find it weird too
[02:10:03] <jack> i need to use std?
[02:10:17] <strcat> if it's not a top-level mod, I think so
[02:10:25] <strcat> I don't really understand
[02:10:26] <jack> this is the same error i get when i was doing #[feature(globs, macro_rules)]; yesterday. and so i had to put them on separate lines.
[02:10:48] <jack> but now the features are on separate lines, so i'm wondering if it's wanting them on the same line now.
[02:12:47] <reedlepee> cmr:Could you tell me from where should i start for solving the bug I mean which part of the code should i understand in order to solve the bug ?
[02:13:03] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[02:14:07] <maikeru> ref mut, thanks!
[02:16:33] <brson> reedlepee: for that bug, the problem is with spans, which represent a region of source code. your code that cmr pointed out is printing the wrong span, identified by the variable field.span
[02:16:50] <brson> reedlepee: most of the code dealing with span reported is in the session, which is defined in librustc/driver/session.rs
[02:17:05] <brson> reedlepee: lucky you, all this code is completely undocumented
[02:17:30] <brson> reedlepee: so the problem here is to figure out why field.span is the wrong span, find the *right* span and put it there instead
[02:18:27] *** Quits: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:20:07] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[02:20:59] <brson> reedlepee: so field.span is a field of the ast::Field type, defined in libsyntax/ast.rs
[02:21:16] <brson> reedlepee: spans are assigned in the parser, somewhere in the vicinity of libsyntax/parse/parser.rs
[02:21:56] <brson> reedlepee: you could start by trying to understand where, why, and how Field spans are assigned
[02:22:19] <brson> reedlepee: then try to figure out if there's another span somewhere that represents the code region that cmr suggested would be more correct
[02:22:24] *** Joins: kimundi_ (kimundi@moz-729E00E8.dip0.t-ipconnect.de)
[02:23:22] *** Quits: kimundi (kimundi@moz-55AF642C.dip0.t-ipconnect.de) (Ping timeout)
[02:23:22] *** kimundi_ is now known as kimundi
[02:25:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[02:26:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:27:39] <jack> is this supposed to fail now? https://gist.github.com/metajack/7035591
[02:27:42] <brson> reedlepee: it may be that all span's for Fields are incorrect and you can just modify the span assignment in the parser. if so you can try to do that and see if any tests break
[02:27:46] *** Quits: kurisumasu (chris@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: G'night everynyan~!)
[02:28:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:31:34] *** kimundi is now known as zz_kimundi
[02:31:34] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[02:35:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:35:45] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:37:46] <sam113101> when will 0.9 be out?
[02:38:05] <jdm> sam113101: december or january, I think
[02:38:19] *** zz_kimundi is now known as kimundi
[02:38:22] <maikeru> cannot bind by-move into a pattern guard
[02:38:24] <maikeru> ?
[02:38:42] <sam113101> cool
[02:44:49] <skeet70> What's the best way to concatenate vectors?
[02:45:05] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[02:46:09] <skeet70> nvm haha
[02:46:11] <doomlord_> i presume there's somethign to concatenate iterators
[02:46:21] <doomlord_> (related question)
[02:46:52] <maikeru> Of course my terminal crashes at the moment of my greatest triumph
[02:47:03] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:47:26] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[02:48:21] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: )
[02:49:13] *** Quits: brendan (brendaneic@5FF29450.615B56E6.43362C16.IP) (Quit: brendan)
[02:49:17] *** jorendorff is now known as jorendorff_away
[02:49:40] <ChrisMorgan> I wish to solicit opinions. I wish to write a method consume_lws() which consumes one or more SP or HT; however, there's the error case where the next byte is not SP or HT. What, then should its return type be? bool, some enum with two values, Result<(), ()>, something else?
[02:50:25] <sp3d> uint number consumed?
[02:50:37] <maikeru> ChrisMorgan: I just implemented ssl for rust-http client ^_^
[02:51:01] <maikeru> https://github.com/mletterle/rust-http/tree/add-ssl
[02:51:06] <ChrisMorgan> sp3d: there's no semantic value in that
[02:51:06] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:51:07] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[02:51:16] <ChrisMorgan> maikeru: \o/
[02:51:29] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[02:51:49] <strcat> rusti: let x: *int = 0 as *int; x < x
[02:51:54] -rusti- false
[02:51:59] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[02:52:09] <sp3d> I'd just expect a bool then; either a bool or an enum would require documentation before you knew what it meant
[02:52:23] <maikeru> You want I should submit a PR? Going to probably work on it some more.. but that works for retrieving pages currently.
[02:53:06] <ChrisMorgan> maikeru: it raises the question, though, of whether we want an absolute dependency on libssl. It adds to the difficulty of maintenance at present
[02:53:30] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[02:53:52] <maikeru> ChrisMorgan: This is true, but the alternative is to reimplement it, and that seems silly.
[02:53:59] <ChrisMorgan> Of course.
[02:54:19] <maikeru> I'm more apt to work on rust-ssl's packaging and what not, it's a good use case for packaging in general really
[02:54:52] *** Quits: vodik (simon@moz-2D668626.cpe.net.cable.rogers.com) (Ping timeout)
[02:54:58] <maikeru> there's ifdef like functionality with attributes, right?
[02:55:09] * ChrisMorgan wonders whether it's possible to arrange libraries so that you can have libhttp function, provided you don't touch anything using libssl, if libssl isn't there at run time.
[02:55:13] <ChrisMorgan> Not desirable, I think!
[02:55:19] <ChrisMorgan> Hey, that's an idea.
[02:55:28] <ChrisMorgan> #[not(cfg(nossl))]
[02:55:29] *** Quits: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[02:55:35] <maikeru> yeah
[02:55:56] <maikeru> or #[cfg(ssl)] if you don't want ssl by default
[02:55:57] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:56:07] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[02:56:08] <ChrisMorgan> Better to have it by default, I imagine.
[02:56:19] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[02:56:31] *** Joins: Jesin (Jessin_@moz-76F15F40.cc.lehigh.edu)
[02:56:41] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:57:46] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[02:58:01] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Input/output error)
[02:58:30] <maikeru> hrm...
[02:59:29] <ChrisMorgan> That's some long lines you've got there, maikeru (src/libhttp/client/request.rs:207-209)
[03:00:29] * ChrisMorgan meant to write "lineses" there to highlight the singularity of the first contraction
[03:00:35] <maikeru> ChrisMorgan: Can I blame rust-ssl?
[03:00:41] <ChrisMorgan> maikeru: no
[03:01:22] <ChrisMorgan> The indentation isn't quite right there either, nor at L285-286 et al.
[03:01:41] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:01:55] <maikeru> There, fixed the long line.. I was too scared to try splitting it originally
[03:01:59] <maikeru> good to see it works
[03:02:31] <maikeru> not sure what would be the ideomatic way to split that.
[03:02:44] <maikeru> yeah, still feeling around bracing style and what not.
[03:02:52] <ChrisMorgan> Anyway, presuming it works, that looks good.
[03:03:31] <skeet70> Okay I am confused again. I'm trying to use std::vec::concat on my sorted vectors, getting type errors that it's expecting &[~[T]] and getting [&mut [T]]. Do I need to put all these sorted vectors into ~[T] before I can concat them?
[03:03:56] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:04:05] <ChrisMorgan> I'm not sure whether the enum solution is optimal; having another trait which both TcpStream and ssl::SslStream<TcpStream> implement and using a generic on it would be another approach that would work.
[03:04:36] <ChrisMorgan> But as being discussed earlier, generics can make for excessive pain in an API.
[03:05:22] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[03:05:35] <maikeru> I had been trying that earlier, I think it would require more code and I was trying to make as little changes as possible
[03:06:48] <maikeru> "Hey man, I added SSL and like.. rewrote everyting.. I hope that's ok..." >.>
[03:06:54] <ChrisMorgan> :-)
[03:07:29] *** Quits: avaf (Mibbit@A1793499.EC15082C.D7C984E0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:08:28] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[03:09:13] <ChrisMorgan> maikeru: at present, Url.scheme is not case-normalised. (It should be, to lower case.) I think you probably shouldn't worry about it in rust-http?
[03:10:18] * ChrisMorgan needs to finish throwing away http::buffer::BufferedStream, which is obsoleted by std::rt::io::buffer::BufferedStream
[03:10:32] <maikeru> I'm not currently? 
[03:11:07] <ChrisMorgan> maikeru: correct, I was thinking aloud about the thing; sorry, I didn't make it clear.
[03:12:32] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[03:12:58] <maikeru> s'alright, wanted to make sure i was following correctly. 
[03:14:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:18:08] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[03:18:46] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[03:20:25] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:21:38] *** Quits: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net) (Ping timeout)
[03:21:52] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:22:16] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[03:24:03] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:24:16] *** Joins: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net)
[03:24:41] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[03:26:13] <maikeru> ChrisMorgan: you can now opt out of ssl, I'm going to go ahead and submit a pull request, there may be more clean up and what not, but I have to get to bed.
[03:27:41] <ChrisMorgan> Sounds good.
[03:28:31] <skeet70> How do I concat vectors. http://hastebin.com/qevehifuko.sm Rust errors are still in the "near impossible to decipher" area for me :/
[03:28:32] <ChrisMorgan> Hey, that'll mean rust-http can be used with GitHub, too (an HTTPS only site).
[03:28:58] <maikeru> my actual project that started this is a command line twitter client.. so next is OAuth and what not.
[03:29:07] <maikeru> but maybe a github client would be nice too...
[03:29:07] <ChrisMorgan> skeet70: the parts are of type &mut [int] rather than &[int]
[03:29:13] <maikeru> anyway, yeah, that kind of stuff :)
[03:29:19] * maikeru out!
[03:29:40] <skeet70> Yeah I see that part, I just have no idea how to fix that. Why can't I concat my list of &mut [int]'s?
[03:29:45] * ChrisMorgan is delighted to see rust-http being used even though it's so far from complete
[03:30:55] <dbaupp> ChrisMorgan: once we have github interaction we can rewrite bors into pure rust! \o/
[03:31:05] <ChrisMorgan> skeet70: are you using Rust 0.8?\
[03:31:08] <skeet70> Yeah
[03:31:10] <ChrisMorgan> dbaupp: my thought exactly
[03:32:03] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[03:32:28] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[03:32:57] <ercxx> ChrisMorgan: Soon there'll be a nice web framework/library using rust-http and it'll get even better.
[03:33:05] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[03:33:15] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[03:33:16] <ChrisMorgan> Of course. It all just takes time...
[03:34:36] <ChrisMorgan> ercxx: web framework is what I wanted to write, it was just that HTTP was needed first!
[03:35:27] <skeet70> ChrisMorgan, as something changed since 0.8 in regards to concat-ing non &[int] vectors?
[03:35:51] <ChrisMorgan> skeet70: try [part_one, part_two, part_three, part_four].concat_vec()
[03:36:04] <eddyb> strcat: did I ask you if you'd be fine with requiring the users to enable macros in their crate, when cfg(has_custom_allocator) or something like that is set?
[03:36:06] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[03:36:15] <eddyb> pcmattman: ^^
[03:36:26] <strcat> eddyb: well, atm macros can't be used at all
[03:36:36] <eddyb> uhm, why?
[03:36:49] * ChrisMorgan isn't quite positive if that'll work for &mut [T] as he can't remember the precise differences in where such impls apply
[03:37:02] <ercxx> ChrisMorgan: Somebody has to invent the wheel :)
[03:37:18] <ChrisMorgan> skeet70: as a matter of fact, since 0.8, std::vec::concat has been removed
[03:37:39] <strcat> eddyb: because #[feature] won't work
[03:37:46] <dbaupp> skeet70: ... aren't those &mut []'s already sorted?
[03:37:53] <eddyb> strcat: how so? is it broken?
[03:37:53] <strcat> it only works at a crate level and rust-core isn't a crate
[03:37:56] <skeet70> Oh, it's still in the .8 docs :/. Or do you mean after .8
[03:38:01] <ChrisMorgan> ercxx: it also gave me a good opportunity to make *that* layer what I wanted as far as typing discipline is concerned.
[03:38:07] <skeet70> dbaupp yes, but I need them in a final sorted array.
[03:38:13] <dbaupp> skeet70: i.e. the underlying vector to which the &mut has sorted sections?
[03:38:17] <ChrisMorgan> skeet70: std::vec::concat is in 0.8 but not master
[03:38:21] <dbaupp> *to which the &mut [] points too
[03:38:27] <eddyb> strcat: derp, I know, my question was about requiring the user to put #[feature] into their crate
[03:38:33] <strcat> eddyb: oh
[03:38:34] <strcat> well
[03:38:37] <strcat> I don't really want to require that
[03:38:45] <skeet70> ChrisMorgan I got error: type `[&mut [int], .. 4]` does not implement any method in scope named `concat_vec`
[03:38:46] <eddyb> "when cfg(has_custom_allocator) or something like that is set?"
[03:38:48] <strcat> I'll wait until #[feature] works better before using macros
[03:38:50] <sam113101> is it true that @pointers might get removed from the language?
[03:39:00] <strcat> eddyb: I don't think cfg works on macros
[03:39:04] <strcat> sam113101: yes
[03:39:07] <eddyb> strcat: it works on modules
[03:39:21] <eddyb> you don't load the module, you don't get the macros
[03:39:22] <skeet70> dbaupp I don't think so, I split the original vector into four separate ones, then sorted them. Now I need to recombine them.
[03:39:22] <ChrisMorgan> skeet70: OK, that won't work then. But are not these &mut [int] instances slices of a larger ~[int]?
[03:39:53] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[03:39:55] <eddyb> strcat: gtg, will continue the discussion later
[03:39:57] <skeet70> Honestly not sure.
[03:40:08] <ChrisMorgan> skeet70: if you split your ~[int] into four parts, updating those four parts will have the changes reflected in the ~[int].
[03:40:16] <dbaupp> skeet70: you didn't split them, you just took references into the interior of them
[03:40:36] <strcat> eddyb: it looks inside the module to parse it even if you cfg() it
[03:40:42] <skeet70> dbaupp current source http://hastebin.com/tigaxebocu.cs
[03:40:49] <strcat> eddyb: so that doesn't work
[03:40:51] <dbaupp> rusti: let mut v = ~[1,2,3,4]; { let (a,b) = v.mut_split(2); a[0] += 10; b[0] += 100; }; v
[03:40:52] -rusti- ~[11, 2, 103, 4]
[03:41:12] <dbaupp> skeet70: the a and b vectors are just updating the `v` one
[03:41:49] <skeet70> Well that is not what I would have expected haha.
[03:42:50] <ChrisMorgan> skeet70: what other languages are you familiar with?
[03:43:24] <skeet70> C a bit, Python, Java, Haskell, JavaScript are the ones I've done substantial things in.
[03:43:48] <ChrisMorgan> The same thing can be observed with Python slices: e.g. `v = [1, 2, 3, 4]; a, b = v[0:2], v[2:4]; a[0] += 10; b[0] += 100; v == [11, 2, 103, 4]`
[03:43:58] <dbaupp> ChrisMorgan: err... really??
[03:44:04] * dbaupp was sure they copied
[03:44:12] <skeet70> I don't think I've ever experienced that in Python...
[03:44:16] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[03:44:16] <ChrisMorgan> Hang on, I'm getting myself tangled. ints are immutable.
[03:44:27] <ChrisMorgan> Well, if you had mutable ints it'd work!
[03:44:44] <dbaupp> but that's just because then you're shallow copying the array of pointers
[03:44:49] <ChrisMorgan> Yeah, slicing is shallow copying.
[03:44:50] <dbaupp> it's still not an internal slice
[03:44:58] <dbaupp> (not like &[] is)
[03:45:04] * ChrisMorgan *really* made a mess of that!
[03:45:26] * ChrisMorgan was tangling the two concepts up for some reason unknown to himself
[03:46:12] <dbaupp> ChrisMorgan: and you call(ed) yourself a Python dev! :P
[03:46:19] <skeet70> hahaha
[03:46:46] <skeet70> I was about to freak out and go start checking a bunch of production code
[03:47:21] <jeyraof_> k
[03:48:09] <SiegeLord> I'd imagine they copy on write
[03:48:56] <dbaupp> SiegeLord: python slices?
[03:49:00] <skeet70> So… if numbers (the original vector) has been split into these ones, how can I print the original vector? Can I destroy these borrowed pieces somehow so that I can use the original numbers reference again?
[03:49:07] <SiegeLord> dbaupp: Yeah
[03:50:24] <dbaupp> skeet70: the borrows last for the length of the enclosing scope
[03:50:46] <dbaupp> so you can just wrap the region that you use the slices in {} and the original vector will be usable after that
[03:51:45] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[03:51:49] <SiegeLord> Or I guess they are not, judging by a glance on the Internet... oh well
[03:52:05] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[03:52:32] <dbaupp> SiegeLord: yeah, running some benches with timeit.timeit seems to suggest that `v = a[1:100]` and `v = a[1:100]; v[0] = 10` are pretty similar
[03:53:00] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[03:53:48] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[03:55:00] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:56:03] <skeet70> dbaupp that didn't seem to work… http://hastebin.com/goforusutu.hs is the actual error I'm getting, maybe I'm thinking it's the wrong type of error?
[03:56:47] <dbaupp> skeet70: code?
[03:58:29] *** Quits: reedlepee (Mibbit@BD7C15CC.C619D10B.9D59D0D8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:58:52] <skeet70> http://hastebin.com/cowowojeto.cs
[03:59:19] <ChrisMorgan> skeet70: it's the first part that needs to be in braces
[03:59:19] <dbaupp> skeet70: you need to restrict the scope of the mutable borrows, not the immutable one
[04:00:18] <dbaupp> also, quicksort::<()> is saying that the T parameter is (), which is very incorrect: your transmute is being inferred casting to &[()]
[04:00:27] <dbaupp> it should be ::<int>
[04:00:37] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[04:01:03] <skeet70> Oh, for some reason earlier I thought the ::<> bit there was telling it what the return was
[04:01:04] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[04:01:04] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[04:01:06] <skeet70> I'll change that
[04:01:17] <dbaupp> no, it's tell it what any type parameters are
[04:01:23] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:01:24] *** Joins: jordyd (jordyd@moz-88923F63.seg54.ucf.edu)
[04:01:29] <skeet70> mmk that makes sense
[04:02:07] <dbaupp> (so, if the return type was a type parameter, then yes it would be telling it what the return was. :P )
[04:02:14] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[04:02:41] <ChrisMorgan> maikeru: how is the rust-ssl dependency to be managed?
[04:03:16] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[04:03:34] <skeet70> Alright well wrapping it in {} works! Now I just have to figure out how to get it to not die abnormally, as much of a hint as that is.
[04:03:57] <ChrisMorgan> Is rustpkg capable yet of building rust-http with its code generation technique?
[04:04:08] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[04:04:12] <skeet70> Ah that was tail, looks like a SIGBUS
[04:04:36] <ChrisMorgan> (The very _thought_ of a Rust program crashing! :P)
[04:04:46] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:04:46] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[04:05:29] <dbaupp> ChrisMorgan: if you write a pkg.rs, in theory it would be
[04:06:03] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[04:06:54] <skeet70> Yay for unsafe operations in a language I'm not at all comfortable with yet! haha
[04:06:58] <dbaupp> ChrisMorgan: I imagine you could even have the code gen as part of pkg.rs directly
[04:07:00] <dbaupp> skeet70: \o/
[04:07:32] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[04:08:08] <strcat> skeet70: or infinite recursion
[04:08:44] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:08:58] <ChrisMorgan> dbaupp: that's the impression I had
[04:10:19] <dbaupp> ChrisMorgan: I have no idea how one actually writes a (working) pkg.rs though
[04:10:31] <ChrisMorgan> Nor do I. That's all part of the fun :D
[04:11:53] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[04:13:53] <erickt> cmr: ping
[04:14:34] <skeet70> strcat I don't think it could infinitely recurse as is… but my reasoning is not at prime.
[04:14:38] *** Quits: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca) (Quit: canhtak)
[04:18:33] *** Joins: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net)
[04:19:32] <skeet70> Googling for thread related Rust issues is difficult. So many teflon tips :P
[04:19:57] <ChrisMorgan> Rust doesn't deal in threads. It deals in tasks.
[04:20:34] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[04:20:41] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[04:21:27] <mcpherrin> skeet70: I learned Rust at the same time as I learned to weld, so there was some fortuitous crossovers when googling things occasionally
[04:21:31] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[04:22:37] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[04:25:46] <skeet70> Task is higher level than thread correct?
[04:27:46] <dbaupp> skeet70: tasks are multiplexed on to os threads; so the Rust runtime starts num-cores OS threads but each thread can run any number of tasks
[04:27:51] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[04:28:06] <skeet70> Ah alright, cool.
[04:30:38] <skeet70> So I need to block after spawning the tasks to wait for them to finish. Right now I have a wait that is receiving from the connection created for the tasks, but I don't think that blocks? What should I use for blocking?
[04:31:35] *** sam113101 is now known as sam113101_afk
[04:32:09] <skeet70> future_spawn or future_result or something?
[04:32:10] <dbaupp> it does block
[04:32:35] <skeet70> The port.recv() does?
[04:32:52] <dbaupp> rusti: let (p,_c) = stream::<int>(); p.recv() // will timeout
[04:32:56] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[04:32:58] -rusti- timeout triggered!
[04:34:04] *** sam113101_afk is now known as sam113101
[04:34:54] <skeet70> Well then.
[04:35:25] *** Joins: eddyb9 (eddy@39B2BC48.57DCF858.4A6B528C.IP)
[04:36:11] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[04:36:42] *** Quits: tautologico (shung@703660AA.CFE755C8.C27E1635.IP) (Quit: tautologico)
[04:36:56] <eddyb9> strcat: can the cfg attribute control another attribute? (like #[path])
[04:37:40] <dbaupp> eddyb9: you mean you want to change the #[path] of an item based on a cfg?
[04:38:19] <eddyb9> dbaupp: yes, as an workaround for the fact that a mod disabled by cfg will still be parsed
[04:38:39] <dbaupp> you just have to repeat the entire item for each cfg/path pair
[04:39:19] <eddyb9> that will have the same problem. gotta fix cfg
[04:39:22] <eddyb9> strcat: what about requiring the user to load a specific submodule for the allocator and related macros?
[04:39:58] <dbaupp> how on earth do you have a module that will occasionally parse?
[04:40:19] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Connection reset by peer)
[04:40:31] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[04:41:16] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Ping timeout)
[04:41:18] <eddyb9> dbaupp: it uses macros, and they might not always be enabled in the crate
[04:41:34] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Ping timeout)
[04:41:57] *** Quits: jordyd (jordyd@moz-88923F63.seg54.ucf.edu) (Ping timeout)
[04:42:07] <dbaupp> eddyb9: #[cfg] happens before (and after) macros get expanded
[04:42:12] <dbaupp> so it should still parse
[04:42:33] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[04:43:16] <eddyb9> dbaupp: I don't want to module to be loaded before cfg deems it disabled, because it will fail to parse
[04:43:29] <dbaupp> rusti: #[cfg(this_gets_removed)] fn foo() { fake_macro!() }
[04:43:29] -rusti- ()
[04:43:46] <eddyb9> dbaupp: same for modules?
[04:43:56] <eddyb9> strcat: ^^
[04:44:37] <eddyb9> dbaupp: wait, this is about macro_rules! (defining its own macros, needs a crate-level feature attr)
[04:44:50] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[04:45:09] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[04:45:26] <eddyb9> I get misunderstood so often, you'd think I've learned by now
[04:45:59] *** Joins: tautologico (shung@703660AA.CFE755C8.C27E1635.IP)
[04:46:25] <Luqman> eddyb9: your asm pull failed cause of tidy issues
[04:46:47] <eddyb9> I thought it got merged :/
[04:47:03] <eddyb9> rusti: #[cfg(this_gets_removed)] fn foo() { macro_rules! fake_macro () }
[04:47:04] -rusti- ()
[04:47:10] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[04:47:28] <Luqman> eddyb9: sadly not, need to run `make tidy` and fix the stuff it's yelling about
[04:47:41] <eddyb9> dbaupp: seems to work for macro_rules! too. maybe strcat had wrong info
[04:48:09] <eddyb9> Luqman: ok, thanks. does it trigger a build of any kind?
[04:49:24] <dbaupp> eddyb9: macro_rules! is "expanded" in the same pass as normal macros, so yes.
[04:49:39] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:49:52] <Luqman> eddyb9: no the tidy target just checks for things like line lengths & correct license
[04:49:54] <dbaupp> anything ending with `!` happens in the same pass
[04:50:08] <eddyb9> rusti: #[cfg(this_gets_removed)] mod foo { macro_rules! fake_macro () }
[04:50:11] -rusti- ()
[04:50:20] <eddyb9> rusti: macro_rules! fake_macro ()
[04:50:30] -rusti- failed to pastebin 6 lines of output
[04:50:34] <eddyb9> pffft
[04:50:52] <dbaupp> eddyb9: #[cfg] removes whatever it is attached to, so anything you can put #[cfg] on will not have the interior touched by the macro phase
[04:51:01] <dbaupp> rusti: #[cfg(this_gets_removed)] mod foo { macro_rules! fake_macro () }
[04:51:02] -rusti- ()
[04:51:16] <ChrisMorgan> macro_rules! do not work inside a cfg where it is removed.
[04:51:16] <ChrisMorgan> rusti: #[cfg(foo)]#[macro_escape]mod foo{macro_rules! foo(()=>(42))} foo!()
[04:51:17] -rusti- pastebinned 6 lines of output: http://ix.io/8z0
[04:51:26] <ChrisMorgan> rusti: /*#[cfg(foo)]*/#[macro_escape]mod foo{macro_rules! foo(()=>(42))} foo!()
[04:51:27] -rusti- 42
[04:51:49] <eddyb9> rusti is useless here
[04:52:03] <eddyb9> we're assuming no feature(macros)
[04:52:09] <ChrisMorgan> Oh, yeah.
[04:52:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:52:42] <eddyb9> I hate showing someone is wrong then right again
[04:52:43] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[04:52:48] * dbaupp isn't sure if feature runs before or after macro_rules
[04:52:49] *** Joins: jhenahan (jhenahan@moz-65B7D4EE.hsd1.vt.comcast.net)
[04:52:50] <dbaupp> *ffg
[04:52:52] <dbaupp> *cfg
[04:52:54] * dbaupp sighs
[04:53:26] <dbaupp> :( feature is first
[04:55:09] *** sam113101 is now known as sam113101_afk
[04:55:20] <eddyb9> cfg should just kill the item before anything happens with it
[04:55:30] <eddyb9> rusti: #[cfg(this_gets_removed)] mod foo;
[04:55:33] -rusti- pastebinned 6 lines of output: http://ix.io/8z1
[04:55:39] <eddyb9> that should compile
[04:55:44] * dbaupp disagrees
[04:56:02] *** sam113101_afk is now known as sam113101
[04:56:02] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:56:12] <dbaupp> having a conditionally-existing file?
[04:56:30] <eddyb9> dbaupp: maybe just check for the file or throw a warning. not parse something that is behind cfg just because it depends on features being enabled
[04:57:15] *** Quits: Jesin (Jessin_@moz-76F15F40.cc.lehigh.edu) (Ping timeout)
[04:57:34] <eddyb9> how do I split arguments in rust code? one indent or aligned with previous arguments?
[04:57:37] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:58:39] <eddyb9> Luqman: ^ (the only fail was a long line. it got long because I replaced the first argument)
[04:58:41] <Eridius> you mean if you put a hard newline? I align the subsequent arguments with the first arg
[04:58:50] <Eridius> so foobar(arg1,\n       arg2)
[04:59:21] <eddyb9> *rust's code (libsyntax in this case)
[05:00:04] <dbaupp> align args with the first one
[05:00:35] * ChrisMorgan needs to improve the Vim indent rules to do that properly
[05:00:41] <eddyb9> thanks, will commit in a sec
[05:02:45] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[05:03:47] <Luqman> eddyb9: make check should have caught those for you since it runs the tidy target as well
[05:03:48] *** sam113101 is now known as sam113101_afk
[05:03:56] <eddyb9> aaah, it was an auto merge. didn't pay attention
[05:04:32] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[05:05:11] <eddyb9> Luqman: thanks for the notice. I've pushed, will bors retry automagically?
[05:05:16] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[05:05:26] <Luqman> eddyb9: no, i'll r+
[05:06:00] *** sam113101_afk is now known as sam113101
[05:06:38] <Luqman> eddyb9: ok, bors should pick it up next. Thanks!
[05:06:46] *** Quits: tautologico (shung@703660AA.CFE755C8.C27E1635.IP) (Quit: tautologico)
[05:07:45] <eddyb9> np, I'm sorry it wasn't done Monday. I blame the build times
[05:09:02] *** Joins: Jesin (Jessin_@moz-76F15F40.cc.lehigh.edu)
[05:09:32] <eddyb9> next time I try to patch something, I'll disable swap, limit rustc's CPU usage *and* do something useful in the meanwhile
[05:09:49] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[05:10:16] <Heather> what means obsolete syntax: const pointer
[05:10:21] <dbaupp> eddyb9: how long does it take you to build/how much ram do you have?
[05:10:32] <dbaupp> Heather: `&const T` is no longer valid
[05:10:33] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[05:10:44] <Heather> dbaupp how can I replace : parents: *const *git_commit
[05:10:53] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[05:10:55] <dbaupp> Heather: **git_commit
[05:11:43] <eddyb9> dbaupp: 3GB, out of which 1 to 2 are usable for rustc. and between 15min and half an hour (more if it starts swapping hard)
[05:12:34] <dbaupp> eddyb9: oh, yeah, that's on the low end of useable for compiling rustc unfortunately :(
[05:13:26] *** Quits: Kxepal (Miranda@moz-D440E09C.pppoe.mtu-net.ru) (Ping timeout)
[05:14:17] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[05:15:33] <eddyb9> the memmove intrinsic is from LLVM and it will generate native code, not a call to a libc function, right?
[05:16:00] <strcat> eddyb9: it can do either
[05:16:00] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[05:16:13] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[05:16:14] <strcat> you need to provide memcpy, memmove, memset even if you don't use the intrinsic
[05:16:23] <eddyb9> strcat: thanks. sorry for highlighting you tons before
[05:16:43] <eddyb9> strcat: wait, what do you mean?
[05:16:55] *** Joins: Kxepal (Miranda@moz-6C231589.pppoe.mtu-net.ru)
[05:17:03] <eddyb9> I thought I could use the intrinsic and not write my own functions
[05:17:10] <strcat> eddyb9: no
[05:17:13] <strcat> LLVM will generate calls to the memcpy family of functions (maybe even memcmp)
[05:17:19] <strcat> whether or not you use the intrinsics
[05:17:23] <skeet70> Looks like it is infinite recursion :(
[05:17:33] <Heather> dbaupp there is no `from_c_str_len` in `std::str::raw`
[05:17:41] <strcat> eddyb9: with -ffreestanding, it's basically limited to those functions
[05:17:47] <strcat> without it, it will generate calls to *many* functions
[05:18:01] * strcat shrugs
[05:18:18] *** sam113101 is now known as sam113101_afk
[05:18:29] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[05:18:36] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Ping timeout)
[05:18:36] *** Quits: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (Ping timeout)
[05:18:37] <strcat> oh and -ffreestanding implies -fno-builtin
[05:18:42] <strcat> with gcc at least
[05:18:51] *** sam113101_afk is now known as sam113101
[05:18:51] <eddyb9> pcmattman: hmpf. we need -ffreestanding + the mem functions in C
[05:18:55] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[05:18:58] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[05:19:03] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[05:19:03] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[05:19:18] <strcat> eddyb9: well they don't need to be implemented in C
[05:19:21] <strcat> you can implement them in rust
[05:19:34] *** Quits: dguenther (dg@moz-AF6F3E94.com) (Ping timeout)
[05:19:35] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[05:19:35] <strcat> anyway just implement them when it wants them
[05:19:51] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[05:20:25] <Heather> should from_c_str_len be replaced with from_buf_len ?
[05:20:40] <dbaupp> Heather: ok... what do you want me do about that?
[05:21:11] <Heather> dbaupp it's deprecated seems like :S I wonder why, with what it should be rplaced
[05:21:21] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[05:22:28] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[05:22:34] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[05:22:35] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[05:22:42] *** Joins: dguenther (dg@moz-AF6F3E94.com)
[05:22:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:22:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:22:50] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[05:23:32] *** Joins: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP)
[05:23:38] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[05:23:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:23:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:23:55] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:24:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:24:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:24:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:24:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:25:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:25:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:26:02] <eddyb9> strcat: can I write a C function in Rust that can be used by an extern "C" import?
[05:26:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:26:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:26:25] <strcat> eddyb9: you can write a rust function exposing a C ABI
[05:26:35] <strcat> #[no_mangle] extern "C" fn memcpy() {}
[05:26:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:26:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:26:49] <strcat> but anyway, wait until LLVM asks for them
[05:26:50] <strcat> if it does
[05:27:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:27:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:27:17] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[05:27:23] <eddyb9> I know. but can I export and import it in the same crate?
[05:27:28] <dbaupp> Heather: something in std::c_str
[05:27:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:27:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:27:58] <eddyb9> strcat: like, define a malloc in Rust for your libc (temporary solution, the allocator is a hack)
[05:28:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:28:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:28:37] <strcat> eddyb9: I think that will work
[05:28:39] <strcat> try ;p
[05:28:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:28:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:29:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:29:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:29:26] <eddyb9> strcat: last time I tried it didn't work. the imports generated ELF imports for those functions
[05:29:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:29:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:29:53] *** Quits: Jesin (Jessin_@moz-76F15F40.cc.lehigh.edu) (Ping timeout)
[05:29:59] <skeet70> Eridius do you happen to still have your working QS code?
[05:30:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:30:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:30:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:30:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:30:56] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[05:31:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:31:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:31:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:31:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:31:51] *** Joins: tautologico (shung@703660AA.CFE755C8.C27E1635.IP)
[05:32:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:32:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:33:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:33:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:33:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:33:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:34:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:34:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:34:26] *** kimundi is now known as zz_kimundi
[05:34:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:34:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:35:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:35:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:35:19] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: WeeChat 0.4.2)
[05:35:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:35:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:36:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:36:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:36:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:36:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:37:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:37:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:37:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:37:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:38:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:38:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:38:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:38:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:39:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:39:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:40:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:40:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:40:25] *** Quits: joone_ (joone@moz-C50DC051.jf.intel.com) (Ping timeout)
[05:40:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:40:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:40:55] <Heather> was trying to compile project with last commit 2 months ago and got tonns of errors ... how fast things breaks :(
[05:41:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:41:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:41:24] <dbaupp> Heather: git2-rs/
[05:41:26] <dbaupp> *?
[05:41:44] *** Joins: joone_ (joone@moz-C50DC051.jf.intel.com)
[05:41:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:41:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:42:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:42:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:42:38] <Heather> dbaupp yes
[05:42:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:42:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:42:47] <Heather> dbaupp found it https://github.com/huonw/git2-rs/tree/rustc-d09f569aac99a4ef2f577d288d547504e3dcf588
[05:43:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:43:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:43:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:43:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:44:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:44:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:44:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:44:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:45:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:45:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:45:25] <dbaupp> Heather: haha, I was literally about to link you that
[05:45:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:45:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:46:03] <dbaupp> Heather: (be careful with it: it was updated very poorly... and I haven't even tested it (which is why I haven't submitted it upstream.))
[05:46:07] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[05:46:15] <Heather> dbaupp still errors :(
[05:46:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:46:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:46:36] <Heather> dbaupp is it yours?
[05:46:45] <dbaupp> Heather: yeah, I'm huonw on GH.
[05:47:01] <dbaupp> Heather: (updating that one will be *much* less effort than the original one.)
[05:47:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:47:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:47:29] <Heather> dbaupp I doubt
[05:47:31] * dbaupp fixed maybe 1000 errors in total to get it to work
[05:47:41] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[05:47:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:47:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:47:55] <Heather> dbaupp on which version?
[05:48:07] <dbaupp> Heather: believe me, updating kimhyunkang's one will be hard, updating my one will be much easier
[05:48:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:48:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:48:22] <Heather> dbaupp agreed )
[05:48:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:48:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:48:50] <Heather> dbaupp I already picked commit
[05:49:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:49:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:49:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:49:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:49:52] <ChrisMorgan> dbaupp: whence came the name dbaupp?
[05:50:00] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Quit: Lost terminal)
[05:50:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:50:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:50:17] * ChrisMorgan likes to make things easy for people and so goes by the name Chris Morgan or a trivial variant of it everywhere
[05:50:41] <ChrisMorgan> What is this Tobbi doing?
[05:50:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:50:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:51:08] <dbaupp> ChrisMorgan: dunno... exact origins lost to history. "AU" is australia though, I think.
[05:51:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:51:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:51:32] <ChrisMorgan> For the last half hour, Tobbi has been reconnecting and immediately dying every thirty seconds.
[05:51:41] <dbaupp> and I think the 'pp' where just because someone else had dbau on some gmail (iirc/fwiw)
[05:51:44] <dbaupp> *was
[05:51:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:51:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:52:22] <tiffany> does rust have a way of overriding .?
[05:52:26] <tiffany> like, adding imaginary fields to structures
[05:52:29] <strcat> no
[05:52:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:52:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:52:49] <strcat> I don't think a feature like that would be added
[05:53:07] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[05:53:10] <strcat> fields on traits are a possibility
[05:53:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:53:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:53:17] <tiffany> it would make binding things like gobject painful
[05:53:42] <dbaupp> rusti: use extra::complex::Cmplx; Cmplx::new(0, 1).im // all the imaginary fields you want
[05:53:42] -rusti- 1
[05:53:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:53:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:54:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:54:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:54:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:54:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:55:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:55:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:55:21] <tiffany> I suppose you can have a macro which spits out a trait with the desired methods and an impl that wraps a gobject class
[05:55:24] <tiffany> in the example I gave
[05:55:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:55:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:55:56] *** zz_kimundi is now known as kimundi
[05:56:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:56:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:56:45] <ChrisMorgan> tiffany: no trait needed, surely?
[05:56:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[05:56:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[05:57:03] <tiffany> chrismorgan: if you need to call a method from a gobject interface?
[05:57:20] <tiffany> oh right, anonymous impls
[05:57:33] <tiffany> wait, there can't be more than one of those for each type can there
[05:57:51] <ChrisMorgan> With generics there can be.
[05:58:07] <ChrisMorgan> But other than that, I believe the answer is no.
[05:59:15] <Heather> dbaupp  method `drop` has an incompatible type: values differ in mutability
[05:59:19] <tiffany> is there a reason why there'd never be an override to .? just because it's always a hacky solution?
[05:59:24] <tiffany> or because it breaks things
[05:59:32] <dbaupp> Heather: fn drop(&self) => fn drop(&mut self)
[05:59:50] <Heather> dbaupp thanks
[05:59:54] *** Quits: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP) (Quit: Leaving)
[06:00:05] <dbaupp> tiffany: dynamic method/field look-up is counter to Rust's performance & explicitness goal? (I guess)
[06:00:08] <sp3d> tiffany: how would gobject bindings be made cleaner with . overloading?
[06:00:22] <tiffany> being able to access fields and methods easily
[06:00:34] <sp3d> the way grust is doing (is planned to do) it is create a wrapper rust object with the right methods
[06:00:40] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[06:00:50] <tiffany> that's what I thought of after I asked about it
[06:00:54] <sp3d> fields of the struct itself are generally opaque to bindings
[06:01:20] <tiffany> they are?
[06:01:30] <sp3d> I believe so
[06:01:46] <sp3d> properties have get/set pairs in C which is also imo the right way to expose them to rust--because the get/set logic isn't guaranteed to match the logic of plain-old-data struct fields
[06:02:22] <sp3d> that's why GTK2 -> 3 added a lot of accessor functions to the API--because accessing fields directly was being avoided so bindings would be more seamless
[06:03:25] *** Quits: tautologico (shung@703660AA.CFE755C8.C27E1635.IP) (Quit: tautologico)
[06:03:47] <ChrisMorgan> I quite like the C# approach, which is that a property named self.foo is sugar for self.GetFoo() and self.SetFoo(foo).
[06:04:21] *** Quits: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:04:22] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[06:04:30] <Heather> dbaupp I really want "go to definition button"
[06:04:30] <tiffany> yeah, that is kind of useful
[06:05:05] <ChrisMorgan> Thus you can still have the `get_foo(&self) -> Foo` and `set_foo(&mut self, foo: Foo)` (or even provide syntax sugar for the definitions of them, like `prop foo: Foo { get { ... } set { ... } }` with those last two being optional) and use it as `self.foo` and `self.foo = foo`.
[06:05:41] <dbaupp> Heather: for stdlib functions?
[06:06:10] <tiffany> oh, so gobject bindings for languages without access overloading will usually just have .get_foo like functions
[06:06:43] <tiffany> what about accessor overloading, would that ever make its way into rust?
[06:06:47] <dbaupp> Heather: `git grep 'fn <name>'` in the rust repo works ok (especially if you do it with editor support, e.g. in emacs), and I think there's rudimentary ctags/etags support too.
[06:07:31] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[06:08:09] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:09:49] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[06:10:19] *** sam113101 is now known as sam113101_afk
[06:10:51] *** sam113101_afk is now known as sam113101
[06:11:06] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[06:11:24] <dbaupp> acrichto: https://github.com/huonw/fileinput (fwiw)
[06:11:38] <Heather> dbaupp what means : transmute called on types with different sizes: u64 (64 bits) to OType (32 b its)
[06:11:44] <acrichto> dbaupp: nice!
[06:11:51] <acrichto> I had better see that on hiho.io/rust-ci soon :)
[06:11:54] *** Joins: engla (engla@moz-2A311D3C.mobile.tre.se)
[06:12:02] <Heather> dbaupp not for stdlib but for application ones
[06:12:24] *** Quits: jhenahan (jhenahan@moz-65B7D4EE.hsd1.vt.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:13:32] <dbaupp> acrichto: setting it up now
[06:13:33] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[06:13:54] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:13:54] <ChrisMorgan> Hi ho, I/O, it's off to work rust-ci goes...
[06:13:57] <dbaupp> Heather: oh, grepping works pretty well for them too
[06:14:23] <Heather> dbaupp what means 01: transmute called on types with different sizes: u64 (64 bits) to OType (32 b its)01, getting it now :S
[06:14:38] <dbaupp> Heather: it means that transmute is being called on a u64 and is being asked to return a u32, which is impossible
[06:14:58] <dbaupp> transmute just makes the compiler treat a block of bytes as a different type
[06:15:09] <dbaupp> so they input and output types need to be the same size
[06:15:43] <Heather> dbaupp but it points to git2.rs:1 #[link(name = "git2"
[06:17:24] <dbaupp> Heather: ah, yes... the error message is *really* useless
[06:17:32] <dbaupp> it's one of the transmute calls
[06:17:40] <dbaupp> no idea which one. :(
[06:17:58] <dbaupp> as in, the compiler gives you a useless location, so you can't tell.
[06:18:32] <Heather> dbaupp alike let a = b as i64 ?
[06:19:40] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[06:20:53] <engla> you can use transmute in generic functions, but the size is only checked upon compilation of a particular function + type combination. So it mildly breaks the abstraction of trait bounds etc
[06:20:57] <engla> just an observation
[06:22:08] <dbaupp> engla: C++-esque
[06:22:54] <Eridius> engla: interesting. I suppose that could be fixed by defining an intrinsic trait Transmute<A,B> that is defined by the compiler for all types A, B where sizeof(A) == sizeof(B)
[06:22:59] <Eridius> probably not worth it though
[06:23:28] <dbaupp> acrichto: Rust-CI'd it
[06:23:47] <acrichto> dbaupp: \o/
[06:23:50] <engla> I don't know if it is ever useful. Transmute is mostly used on pointers and the repr structs
[06:24:19] * dbaupp uses it when he wants to feel like he's writing C
[06:24:28] <dbaupp> segfaults are fun
[06:25:07] <eddyb9> dbaupp: I... don't really use transmute (only for repr)
[06:26:22] <eddyb9> I've seen it used for unsafe pointers and that seems like asking for (more) trouble
[06:26:27] <dbaupp> eddyb9: you're missing out! ... have you ever wanted to just turn one type into any other? yes? well, I've got the thing for you!
[06:26:57] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[06:27:02] <dbaupp> yeah, using `as` for casts, or one of the restricted transmutes is almost always better.
[06:27:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:28:22] <eddyb9> rusti: unsafe {*((~[1, 2, 3] as *u8 as uint + 1) as *u8)}
[06:28:28] -rusti- pastebinned 7 lines of output: http://ix.io/8zf
[06:28:52] <Heather> dbaupp I doubt I can deal with this error :S
[06:29:08] <dbaupp> rusti: let v = ~[1,2,3]; unsafe {*(((&v[0]) as *u8 as uint + 1) as *u8)}
[06:29:08] -rusti- 2u8
[06:29:10] <eddyb9> rusti: unsafe {*((&(~[1, 2, 3][0]) as *u8 as uint + 1) as *u8)}
[06:29:12] -rusti- pastebinned 7 lines of output: http://ix.io/8zg
[06:29:22] <dbaupp> Heather: yeah, the transmute ones are horrible :(
[06:29:27] <eddyb9> dbaupp: ah, it's escaping scope?
[06:29:45] <dbaupp> no, some other problem
[06:29:48] <eddyb9> let v = ~[1,2,3]; unsafe {*((v as *u8 as uint + 1) as *u8)}
[06:30:02] <dbaupp> you can't go ~[T] -> *T with as
[06:30:12] <Heather> dbaupp maybe I will just wait until you update it
[06:30:13] <dbaupp> rusti: unsafe {*((&(~[1, 2, 3])[0] as *u8 as uint + 1) as *u8)}
[06:30:14] -rusti- 2u8
[06:30:21] <Heather> dbaupp do you plan to?
[06:30:24] <dbaupp> Heather: I probably won't
[06:30:29] *** Quits: FreeFull (freefull@31BCA4E6.5B0E29BE.159B5998.IP) (Quit: Gbye)
[06:30:29] <Heather> ah, sad
[06:30:33] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[06:30:53] <eddyb9> dbaupp: aaah, didn't have enough parens. although I doubt that's entirely safe
[06:31:18] <dbaupp> Heather: if I was going to use libgit2 I'd write new bindings using rust-bindgen from the start (those bindings were mostly handwritten, it seemed.)
[06:31:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:31:27] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[06:32:32] <Heather> dbaupp I failed to get bindgen to work on windows :S there's bug about it, it compiles, runs but generate nothing...
[06:32:45] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[06:32:51] <dbaupp> Heather: oh :(
[06:32:56] <Heather> dbaupp well sure I can run it on linux ) but usually I develop on windows...
[06:33:22] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[06:33:29] <eddyb9> bad Heather
[06:34:01] <Heather> eddyb9 why?
[06:35:07] <eddyb9> not saying linux master race, but I'd avoid windows for any serious dev work
[06:35:52] <tiffany> ^
[06:35:56] * dbaupp thinks eddyb9 is saying linux master race :P
[06:36:07] <tiffany> well not really
[06:36:13] <tiffany> because freeBSD and OS X work just fine as well
[06:36:33] <tiffany> well, freebsd would be bad for rust because it's not maintained, but in general
[06:36:34] <eddyb9> dbaupp: I've been in osdev and I'm back again, I wouldn't do it if I thought linux was perfect
[06:36:59] <tiffany> windows is just a rather bad place to use compiled languages
[06:37:15] <dbaupp> eddyb9: haha ;)
[06:37:24] <jason_> is rust-bindgen the pref way to bind to C?
[06:37:44] <dbaupp> jason_: yes, it makes getting the C definitions into Rust much much easier
[06:37:45] <tiffany> rust-bindgen doesn't do everything for you, it just produces the C-type wrappers
[06:37:51] * jason_ has been writing extern blocks by hand
[06:37:53] <tiffany> you still need to make high-level wrappers using rust types
[06:38:02] <tiffany> like, &str instead of *u8
[06:38:08] <Heather> well, I'm not agreed... windows is fine platform for development, specially when your target users / platform is windows.
[06:38:59] <tiffany> I don't know how it is with rust but C/C++ with windows is rather sad to use
[06:39:15] <Heather> tiffany why?
[06:39:26] <tiffany> visual studio didn't have C99 support until vs 2013 (which doesn't run on my computer, because microsoft hates optimus users), so I have to use mingw
[06:39:36] <tiffany> and mingw is really awkward, some projects don't even build under mingw
[06:39:38] <Heather> tiffany I can open and compile llvm & clang in VS2013 with all the stuff, isn't it enough?
[06:39:54] <Heather> tiffany also withdows C++ dev-t is COM world
[06:40:07] <tiffany> the windows API is horrendous
[06:40:13] <tiffany> I've had to deal with it myself
[06:40:17] <jason_> but you can't use c++11 with VS2013
[06:40:18] *** Joins: Ms2ger (Ms2ger@moz-92A79B55.adsl-dyn.isp.belgacom.be)
[06:41:08] <Heather> jason_ you even can't fly under the water but tools I get make me enough productive
[06:41:51] <Heather> where is Path
[06:41:52] <tiffany> all of the tools I'm familiar with are broken or unavailble on windows, and those that microsoft pushes don't even work
[06:42:09] <Heather> I mean with last compiler changes I'm getting error: unresolved name `Path`
[06:42:32] <Heather> tiffany well maybe you're just bad dancer
[06:42:59] <tiffany> I can't install vs2013 because it requires IE 10 which doesn't install because of an error that microsoft won't fix, and blames nvidia
[06:43:00] <mark_edward> how do you take self by value mutably?
[06:43:43] <tiffany> I can't even build my engine on windows right now without cross compiling because freetype2's autoconf doesn't work with windows-like paths
[06:44:00] <Luqman> mark_edward: something like fn foo(mut self) { ..  } but i don't think that works right now so `let mut self = self;`
[06:44:14] <mark_edward> Luqman: ok thansk
[06:44:18] <kimundi> mark_edward: By value means you own the value, you can just rebind it as an mutable variable
[06:44:25] <mark_edward> ok
[06:44:34] <tiffany> there's also the finer complains like command prompt being a horrible excuse for a terminal emulator
[06:44:47] <Heather> tiffany how horrible... but it's really specific troubles, I doubt I will meet something like that in near future
[06:44:54] <tiffany> and the only way to fix it is to install tools borrowed right from the linux world
[06:44:56] <mark_edward> how do you move a struc into a new struct with the record syntax?
[06:45:20] <tiffany> "it works for me" isn't that good of an argument when it comes to the operation of a platform
[06:45:32] <kimundi> mark_edward: What do you mean?
[06:45:39] <Heather> tiffany well it works for most users
[06:46:04] <Heather> tiffany I think there is only one country in africa with no computers where linux dominating because of some phones
[06:46:18] <tiffany> I'm not referring to users, I'm referring to development
[06:46:34] <mark_edward> kimundi: i've seen something like struct Pair {a:int, b:int}; let p1 = Pair {a:1,b:2}, let p2 = Pair { ..p1} or soomething loike that
[06:46:58] <Heather> tiffany well most of tools developed on linux for windows are not that good
[06:47:09] <tiffany> and the tools developed for windows by microsoft are broken
[06:47:28] <kimundi> rusti: struct Pair {a:int, b:int}; let p1 = Pair {a:1,b:2}, let p2 = Pair {a:10, ..p1}; p2
[06:47:30] -rusti- pastebinned 13 lines of output: http://ix.io/8zi
[06:47:30] <tiffany> anyone running optimus, which is nearly everyone who is running a mid-range laptop, can't run vs2013
[06:47:34] <Heather> tiffany well you are from that 1% of unhappy people
[06:47:47] <kimundi> rusti: struct Pair {a:int, b:int}; let p1 = Pair {a:1,b:2}; let p2 = Pair {a:10, ..p1}; p2
[06:47:48] -rusti- main::Pair{a: 10, b: 2}
[06:47:56] <kimundi> mark_edward: ^ ?
[06:48:04] <jason_> the only language you're going to get a superious experience from on windows is C#
[06:48:13] <jason_> superior*
[06:48:22] <tiffany> ^
[06:48:40] <mark_edward> kimundi: ah yes, thanks!
[06:48:47] <Heather> jason_ well, I'm not agreed, it even sounds kiddy
[06:49:06] * dbaupp reminds everyone this is #rust, not #argue-about-operating-systems ;)
[06:49:12] *** Quits: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[06:49:37] <sp3d> besides, shouldn't fxos be winning? :P
[06:50:15] <dbaupp> or one of the many Rust ones
[06:50:44] <Heather> dbaupp I even wonder that I protect windows being an linux distribution developer %D but I always hate to see when people say that windows is bad...
[06:50:45] <tiffany> you seem to just be adjusted to all the problems there are when developing on windows :/
[06:50:58] <mark_edward> strcat: ping
[06:50:58] <kimundi> Ah yes. "Orange screen" OS will be the future! ;D
[06:51:12] <tiffany> you think windows can't be bad?
[06:51:23] <tiffany> have you ever seen anything from the windows api?
[06:51:37] <jason_> Heather: i'm not saying windows is bad. you just asked why it isn't good for development, so i answered that question.
[06:51:58] <Heather> tiffany rust on windows problems is not windows problems. it's Rust problems, else way I will leave (and not only me) rust
[06:52:30] <tiffany> so the fact windows has a horrible developer environment is rust's fault
[06:52:46] <kimundi> Guys, calm down :P
[06:52:58] <tiffany> it's a pretty sensitive issue for me kimundi
[06:53:06] <Heather> tiffany exactly because I don't think so, so let's stop this discuss here, it's becoming to much offtopic
[06:53:17] <tiffany> I've wasted countless hours fighting windows trying to get anything to work
[06:53:24] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[06:53:51] <kimundi> Windows might have a few more issues than other platforms, but at the same time many people don't have a choice in the matter, so complaining about it isn't very productive
[06:54:01] <strcat> mark_edward: pong
[06:54:20] <mark_edward> strcat: rusti eeps saying i failed o pastebin
[06:54:31] <strcat> rusti: asdfsg
[06:54:33] -rusti- pastebinned 7 lines of output: http://ix.io/8zj
[06:54:44] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[06:55:20] <kimundi> Rust is probably going to try to make Rust development under windows as painless as C++ development under windows, but how it will look in detail we can't say yet
[06:56:01] <Heather> kimundi Integration with VS should be perfect
[06:56:28] <Heather> kimundi for now emacs on windows runs fine
[06:56:28] <strcat> it's going to use the LLVM toolchain
[06:56:30] <jason_> kimundi: does that depend on llvm linker getting better support for windows?
[06:56:34] <kimundi> Probably. But it will take a few years at most, I bet
[06:56:56] <kimundi> jason_: No idea, but apparently that would improve the situation
[06:57:14] <Heather> back to my question: where is Path
[06:57:54] <kimundi> Heather: There was a PR that changed something about Paths recently I think
[06:57:56] <Leo`> strcat: I don't understand why my pull rq failed tests :/
[06:58:01] <kimundi> let me look in the source...
[06:58:03] <Leo`> strcat: it's the test I added that failed
[06:58:10] <Leo`> with "LLVM ERROR: expected relocatable expression" as error message
[06:58:22] <Leo`> (only on Linux, on Mac it's fine ... )
[06:59:06] <Heather> can I make my app compiling for different rust versions?
[06:59:21] <Heather> alike #if rust 0.8 .... #else #if #endif .... ?
[06:59:31] <dbaupp> Heather: Path has become Path::new()
[06:59:35] <strcat> Heather: no
[06:59:46] <strcat> it won't parse
[06:59:52] <Heather> strcat sad...
[07:00:10] <strcat> it's an alpha, when it's post 1.0 the syntax won't change
[07:00:14] <dbaupp> Heather: maybe when we hit syntax stable at 1.0
[07:00:34] <Heather> dbaupp strcat can I #define Path Path::new ?
[07:00:51] <dbaupp> Heather: not easily
[07:01:43] <kimundi> Heather: ::new is rusts convention for constructor functions
[07:02:01] <jason_> hey, does anyone know if rust has plans to support the address/memory/thread/etc sanatizers that llvm/clang have?
[07:02:26] <dbaupp> kimundi: that's not very relevant :P
[07:02:49] <kimundi> Ah, sorry I misunderstood :P
[07:02:55] <dbaupp> jason_: in theory they're not as necessary as they are with C/C++
[07:03:34] <dbaupp> jason_: but if they're part of LLVM (rather than part of clang), then supporting them would be as hard as working out how to get rustc to drive correctly LLVM.
[07:03:41] <dbaupp> strcat: ^ ?
[07:04:01] <strcat> jason_: no real plans to support them afaik
[07:04:25] <strcat> just an idea that has been floated around
[07:04:33] <strcat> but I don't think anyone has looked into what it entails
[07:04:46] <jason_> thread sanatizer would be the most useful imo
[07:04:53] <strcat> why?
[07:05:03] <strcat> for developing the runtime?
[07:05:12] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[07:05:19] <jason_> yeah
[07:06:58] *** Quits: atul_ (chatzilla@80CD12EB.CDE2649A.C842849F.IP) (Ping timeout)
[07:10:21] <eddyb9> pfft, class started and I didn't get to send my message
[07:11:54] <dbaupp> eddyb9: do you get to send it now?
[07:11:56] <eddyb9> dbaupp: gnu/linux+kde4 is almost feature-complete, for my usecase, but there's 20+years old C code, and spaghetti monsters
[07:12:04] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[07:12:49] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[07:14:33] <eddyb9> windows should burn in a fire, linux should be obsoleted
[07:15:08] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Input/output error)
[07:15:42] <eddyb9> you can surely design a better ecosystem, the problem is migration
[07:16:11] <Ms2ger> Mac?
[07:16:19] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:17:03] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:17:04] <Leo`> eddyb: every system has old compatibility code. you can't really do without
[07:17:29] <Leo`> (a'd Linux != KDE :P)
[07:17:43] <Heather> I hate KDE -_-'
[07:18:09] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:18:35] <Leo`> I don't really like it either
[07:18:53] <tiffany> I used kde like last year and it crashed within 5 minutes
[07:19:04] <tiffany> it's nice otherwise
[07:19:25] <tiffany> eddyb9: do you know what we should replace linux with?
[07:20:01] <Heather> sure, rustos
[07:20:05] <eddyb9> pedigree drivers looked better than the linux ones because of the abstraction capabilities of C++, but who'd be mad enough to rewrite every linux driver and reverse engineer all the windows ones?
[07:20:59] <eddyb9> tiffany: I use unstable packages and only have problems when I do something stupid (i.e. stop a distro upgrade halfway through)
[07:21:15] <tiffany> well the stupid thing I did was open up xchat
[07:21:17] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[07:21:21] <tiffany> I got highlighted and the whole desktop crashed
[07:21:37] <strcat> it detected you were using a gtk application
[07:22:13] <Leo`> :D
[07:22:15] <tiffany> it'd be acceptable if only the little applet that handles highlights for you crashed
[07:22:18] <tiffany> but the entire desktop crashed
[07:22:28] <eddyb9> tiffany: konversation > xchat. but peferences aside, were you using a recent stable version?
[07:22:30] *** Joins: SingingBoyo (sboyo@DA28FB90.A5D0D593.4F048BDC.IP)
[07:22:30] <sp3d> sounds like X's fault, really--EWMH is a lot of fiddly bits where one (the window manager) might get something wrong and crash
[07:22:39] <tiffany> I was using whatever the arch linux packge for it was
[07:23:00] <Ms2ger> Okay, who started this holy war?
[07:23:04] <eddyb9> I heard good things about arch, should have at least stable
[07:23:15] <strcat> well, the window manager is almost just a client
[07:23:21] <tiffany> arch always gets the most up to date packages
[07:23:25] <strcat> it's easy for any application to screw everything up
[07:24:07] <strcat> tiffany: well, the latest stable release
[07:24:31] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[07:24:31] <tiffany> I thought it was the latest versioned release that is stable
[07:24:53] <tiffany> "stable" for one project could be something silly like a 3 year out of date package
[07:24:57] <strcat> 'stable release' as in whatever upstream considers their stable release branch
[07:25:09] <eddyb9> if just plasma-desktop crashes (btw, it should start a kde tool that lets you get stack traces and other good stuff), it should get automatically restarted
[07:25:11] <strcat> so not odd numbered gnome versions, for example
[07:25:23] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[07:25:46] <tiffany> on the other subject of how OSes are terrible, it'd be pretty awesome to see an OS written in rust using an exokernel someday
[07:25:50] * Heather emacs > vim
[07:25:56] <tiffany> if I had a couple years to dump into it I would probably do it
[07:26:29] <eddyb9> node.js (and recently, radare2) use the same odd version scheme
[07:27:31] <eddyb9> tiffany: hmm, which one was exokernel?
[07:27:42] <eddyb9> I knew these things better back in the day
[07:27:51] <tiffany> exokernel is when you have a minimal kernel which acts as an arbitrater of resourcse like cpu, memory, etc.
[07:27:58] <tiffany> the OS is basically a big library
[07:28:06] <eddyb9> (although I was 12-14 when I was into osdev)
[07:28:13] <tiffany> you could have multiple OSes running on the same exokernel with no problems, really
[07:28:36] <Leo`> i don't get the difference with microkernel
[07:28:41] <tiffany> it's a rather neat idea because it lets applications run at whatever level of abstraction they like
[07:29:00] <tiffany> in a microkernel you have a difference between the kernel, the services, and the actual applications
[07:29:13] <tiffany> and the microkernel kind of boxes applications, you still have lots of syscalls and stuff
[07:29:20] <Leo`> mhh
[07:29:24] <tiffany> I'm not really sure about the exact semantics because I haven't actually written an exokernel
[07:29:27] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:29:52] <Leo`> in a micro kernel, isn't a service just like any application ?
[07:29:57] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:29:59] <tiffany> depends on the microkernel
[07:30:06] <tiffany> they usually have elevated privileges and other stuff
[07:30:06] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[07:30:22] <tiffany> minix has drivers, servers, and applications
[07:30:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:30:30] *** Quits: alonlevy (alon@moz-697DD27F.bb.netvision.net.il) (Ping timeout)
[07:33:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:34:47] <eddyb9> about syscalls, I can use Rust variants and some kind of proxy to keep types in one place and ensure their safety
[07:35:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[07:35:36] <tiffany> I think exokernels might be lower level than a microkernels
[07:35:59] <eddyb9> in C++, this kind of syscall gate was a bit too bloated
[07:36:02] <tiffany> the MIT exokernel does disk sharing by allowing applications to request access to blocks on the disk
[07:36:21] <tiffany> kind of like a fixed-size memory allocator, I guess
[07:36:22] <eddyb9> it should work even better in Rust
[07:36:24] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[07:36:37] *** pmoore|away is now known as pmoore
[07:36:54] *** Joins: d4v1w3i (d4v1w3i@CF877293.CABC4BB9.5FBC15B.IP)
[07:37:20] *** Quits: d4v1w3i (d4v1w3i@CF877293.CABC4BB9.5FBC15B.IP) (Quit: )
[07:37:30] <tiffany> it seems that exokernels don't even implement ipc
[07:37:39] <dbaupp> cmr: eurgh, multibuilder uses Path so much... (updated, btw.)
[07:37:40] <pcmattman> the real question is, can rust 'objects' be marshalled and used for RPC (as opposed to just local IPC)? ;)
[07:37:46] <eddyb9> tiffany: I thought about giving exclusive access for hw IO resources to modules, which would need to be safe-code-only
[07:38:08] <dbaupp> pcmattman: with the appropriate traits & code, sure.
[07:38:15] <eddyb9> and you could check in the kernel if the calling module owns that resource
[07:38:19] <tiffany> I wonder if #rust-osdev would be as successful as #rust-gamedev
[07:38:45] <pcmattman> depends how much interest there is? gamedev seems like more of a general interest thing...
[07:38:57] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:39:01] <Leo`> \o/ I'm in
[07:39:19] <tiffany> if someone makes the channel I'll join
[07:39:26] <eddyb9> strcat and cmr too, AFAIK
[07:39:39] <Leo`> done
[07:39:41] <Leo`> xD
[07:39:51] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:40:17] <mcpherrin> Heather: heathen, vim for life
[07:41:00] <mcpherrin> Hmm I haven't written an OS in a few years
[07:41:06] <mcpherrin> about time for me to write another, I think
[07:41:11] <kimundi> nano ftw!
[07:41:20] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[07:41:29] <mcpherrin> kimundi: next you're going to be recommending notepad.exe?
[07:41:44] <SingingBoyo> mcpherrin: you're making me feel bad.  already in second year CS and haven't written an OS, what am I doing!?!
[07:41:44] *** Quits: eddyb9 (eddy@39B2BC48.57DCF858.4A6B528C.IP) (Client exited)
[07:41:44] <kimundi> mcpherrin: Good no, that's horrible
[07:42:40] <mcpherrin> SingingBoyo: I wrote my first operating system in 3rd year CS, don't worry :)
[07:42:46] <kimundi> mcpherrin: But nano with syntax highlighting and proper key bindings is quite nice if you only use it for occasional command line editing.
[07:42:52] * dbaupp prefers using 'cat'
[07:42:57] <SingingBoyo> mcpherrin: oh goody I still have a year
[07:43:03] <mcpherrin> SingingBoyo: second one too, I think
[07:43:08] <mcpherrin> Third and fourth in 4th year
[07:43:10] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[07:43:26] <kimundi> I don't think that I'll ever write an OS in my CS studies :P
[07:43:26] <mcpherrin> fifth in the summer after graduating :)
[07:43:57] <SingingBoyo> oh great.  313 (Operating Systems) should just be a blast next semester...
[07:44:01] <tiffany> I haven't written an OS yet but I have a whole lot of ideas
[07:44:21] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:44:51] <dbaupp> SingingBoyo: if it's not written in Rust, it doesn't count :P
[07:45:15] <SingingBoyo> dbaupp: pfft.  I still have to update evict to catch up with a month's worth of rust changes
[07:45:32] <SingingBoyo> midterms are wonderful things :/
[07:45:32] <dbaupp> SingingBoyo: only a month! that's nothing :P
[07:46:07] <SingingBoyo> dbaupp: yes but it's 1am and this may be the only chance I get in the near future to use rust :(
[07:46:33] <Heather> mcpherrin hi
[07:48:21] *** Joins: eddyb9 (eddy@E9E78D78.3C60C00D.4A6B528C.IP)
[07:48:32] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:53:52] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[07:54:32] <mcpherrin> Heather: hello again :)
[07:54:33] *** kimundi is now known as zz_kimundi
[07:55:06] *** Joins: Ferreus (ferreus@moz-C9D9FEC8.dip0.t-ipconnect.de)
[07:56:02] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[07:56:12] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[07:57:34] *** Joins: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi)
[07:58:38] <nathan7> Is a binary move the <-> thing?
[08:00:13] <dbaupp> nathan7: historically, yes
[08:00:17] <dbaupp> currently, no
[08:00:50] <dbaupp> rusti: let mut a = ~[1,2,3]; let mut b = ~[10,20,30]; std::util::swap(&mut a, &mut b); (a,b)
[08:00:51] -rusti- (~[10, 20, 30], ~[1, 2, 3])
[08:00:57] <dbaupp> ^ is the replacement
[08:01:03] *** Quits: eddyb9 (eddy@E9E78D78.3C60C00D.4A6B528C.IP) (Ping timeout)
[08:01:20] *** Joins: autra (augustin@moz-2EA7A1DF.fullsix.com)
[08:03:48] *** Quits: autra (augustin@moz-2EA7A1DF.fullsix.com) (Quit: by!)
[08:04:53] <nathan7> dbaupp: yeah, http://static.rust-lang.org/doc/0.8/rust.html#lvalues-rvalues-and-temporaries still references it, but it leads to nowhere
[08:05:04] <nathan7> I recall discussionson removing it, but wasn't sure if it happened
[08:05:37] *** Quits: engla (engla@moz-2A311D3C.mobile.tre.se) (Ping timeout)
[08:05:55] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:06:17] *** Joins: autra (augustin@moz-2EA7A1DF.fullsix.com)
[08:06:45] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[08:08:37] <dbaupp> nathan7: oh, yet another problem with the manual :(
[08:09:08] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:10:25] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[08:12:04] *** zz_kimundi is now known as kimundi
[08:14:44] *** Joins: squiddy (squiddy@moz-C106AB5F.adsl.alicedsl.de)
[08:21:19] <Ms2ger> Mm, does Option::map return None for None?
[08:22:44] <kimundi> rusti: None::<uint>.map(|x| x)
[08:22:45] -rusti- None
[08:22:59] <kimundi> Ms2ger: Yes
[08:23:08] <Ms2ger> Neat
[08:23:14] <Heather> rusti: extern mod extra;
[08:23:17] -rusti- pastebinned 7 lines of output: http://ix.io/8zq
[08:23:37] <kimundi> That doesn't work in rusti
[08:23:50] <kimundi> But rusti does include "extern mod extra" automatically
[08:24:25] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[08:24:26] <Heather> what means:  can't find crate for `std`
[08:25:08] <kimundi> Need more context, but it usually mean that rust can't find the library file for std 
[08:25:29] <Heather> kimundi std.dll?
[08:25:37] <SingingBoyo> argh. since when are glob imports experimental?
[08:25:57] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[08:26:18] <kimundi> Heather: Can you post the full error message?
[08:26:43] <kimundi> SingingBoyo: A week or so
[08:27:16] <SingingBoyo> kimundi: what changed? they always seemed to work fine, as far as I could tell.
[08:27:19] <kimundi> SingingBoyo: We started to put features that don't work well and are not essential for 1.0 behind experimental flags
[08:27:30] <kimundi> SingingBoyo: There were issues with private items
[08:27:34] <dbaupp> SingingBoyo: there are various subtle bugs with `pub use ...::*` 
[08:27:38] <kimundi> SingingBoyo: No idea what those where, though
[08:27:56] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:28:05] <Heather> kimundi https://dpaste.de/4qmI
[08:28:30] <dbaupp> if someone feels like a challenge, making https://github.com/cs4414/Public-Reference-Solution more rustic might be fun(?) (e.g. using iterators, not doing bracketing if conditions)
[08:29:10] <dbaupp> (also, using format!)
[08:29:21] *** Quits: revls (uid14245@moz-5F4AA75A.irccloud.com) (Ping timeout)
[08:29:21] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: gazoombo (uid6629@moz-E77DEB21.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: etrepum (uid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: osa1 (uid13910@moz-5F4AA75A.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: geomyidae__ (uid214@moz-E77DEB21.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: jeyraof_ (uid6796@moz-31ABA2C0.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: kseo_ (uid14607@moz-E77DEB21.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: netoarmando (uid10138@moz-E77DEB21.irccloud.com) (Ping timeout)
[08:29:44] *** Quits: wilfred (uid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[08:29:59] <kimundi> Heather: Hum... Thats strange. Are you suing no_std, or do you use rustc from a different location than where it is installed/build to?
[08:30:12] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:31:05] *** Quits: Ms2ger (Ms2ger@moz-92A79B55.adsl-dyn.isp.belgacom.be) (Ping timeout)
[08:31:26] <Heather> kimundi ah I failed to compile it -_-'
[08:31:31] <Heather> kimundi d:\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/winnt.h:3819:14: error: typedef '__AW' is initialized (use decltype instead)
[08:33:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:34:02] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:35:15] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:35:23] <Heather> why X::new and not new X :(
[08:35:34] *** Joins: fabiand (fabiand@moz-3B259832.adsl.alicedsl.de)
[08:36:06] <Heather> or I really liked how it was just with Path ( loc )
[08:36:30] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[08:36:30] <Heather> why you need this new?
[08:36:48] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:37:10] <Heather> Nemerle lives pretty fine without new... for example
[08:38:02] <SingingBoyo> Heather: consistency.  most of std and extra used new, but some didn't.  Those that didn't either do now, or are being changed to use new, afaik.
[08:38:28] <Heather> SingingBoyo it's better to not use new....
[08:38:31] <SingingBoyo> Heather: also to differentiate from tuple structs I think.
[08:38:59] <Heather> SingingBoyo why someone need new call in direct way like this?
[08:39:59] <dbaupp> Heather: (`new` isn't a special name, btw. you could call it X::make or X::create or whatever you want.)
[08:40:00] *** Joins: dissimile (dissimile@moz-141B07E7.static.as13285.net)
[08:40:38] <dbaupp> Heather: it's because Rust doesn't have a special thing for constructors, so you have to define your own functions to act as them
[08:40:42] <Heather> dbaupp then why deprecate things like Path( ...
[08:41:54] <Heather> dbaupp why no constructors? constructors are good :(
[08:42:18] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:42:27] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:42:32] <klutzy> Heather: Path accepts [u8], not str
[08:42:39] <SingingBoyo> Heather: Because Path(...) looks like Path is a tuple struct or an enum, which it's not.
[08:42:49] <klutzy> or you can't make path with filename "\xff.txt"
[08:43:01] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[08:43:06] <klutzy> where \xff is 0xff, so it is not utf-8
[08:43:26] <SingingBoyo> klutzy: pretty sure it takes strings, unless that changed too.
[08:43:56] *** Joins: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com)
[08:44:39] <klutzy> SingingBoyo: you can still create path from str via "helper" functions, but it does not use the str internally
[08:44:44] <SingingBoyo> Heather: constructors are just methods that are given special treatment in some languages.  Rust doesn't need them, and in fact it doesn't make much sense given the struct{...} /*something*/ impl{...} structuring of code
[08:45:07] *** Joins: netoarmando (uid10138@moz-E77DEB21.irccloud.com)
[08:45:08] *** Joins: jeyraof_ (uid6796@moz-31ABA2C0.irccloud.com)
[08:47:11] *** Joins: cc (Mibbit@moz-62CFF06.mrt.ac.lk)
[08:47:51] *** Quits: cc (Mibbit@moz-62CFF06.mrt.ac.lk) (Quit: http://www.mibbit.com ajax IRC Client)
[08:48:18] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[08:50:25] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:56:07] *** Joins: maik (maik@moz-FF7537DA.dip0.t-ipconnect.de)
[08:56:17] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[08:58:20] <Heather> someone killed rusti?
[08:58:28] *** Joins: revls (uid14245@moz-5F4AA75A.irccloud.com)
[08:58:46] *** Joins: gazoombo (uid6629@moz-E77DEB21.irccloud.com)
[08:58:55] <SingingBoyo> rusti: None
[08:58:57] -rusti- pastebinned 12 lines of output: http://ix.io/8rG
[08:59:19] <Heather> SingingBoyo I mean in rust install process
[08:59:34] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[08:59:43] <Heather> SingingBoyo install: cannot stat ���i686-pc-linux-gnu/stage2/bin/rusti���: No such file or directory
[08:59:57] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[09:00:09] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[09:00:10] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[09:00:15] *** Quits: maik (maik@moz-FF7537DA.dip0.t-ipconnect.de) (Ping timeout)
[09:00:16] <Heather> Here is bad guy : https://github.com/Heather/rust/commit/28a6498dbf97d274a0691f4c38f7224cbba7cf9f
[09:01:01] <SingingBoyo> Heather: ah.  the actual rusti is somewhat buggy, IIRC.  so I wouldn't be surprised if it had been removed.  though I wouldn't expect that.
[09:01:14] <mcpherrin> It has been removed today, yes
[09:01:16] *** Parts: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi) ()
[09:01:21] <kimundi> the rusti and rust executables have been removed
[09:01:26] <Heather> okay now you make install is broken
[09:01:34] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[09:01:40] <Heather> need to remove it from install.mk too
[09:01:52] <kimundi> That wouldn't surpise me :P
[09:01:54] <SingingBoyo> Heather: works fine for me.  make sure you have the latest commits
[09:02:01] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[09:02:04] <kimundi> and that you have run ./configure
[09:03:03] <Heather> kimundi SingingBoyo ah... it's my pc-linux-gnu configuration doesn't follow this change
[09:03:18] <SingingBoyo> who worked on the new rustdoc?  I'm quite impressed, if annoyed that all the URLs my browser remembers don't work :P
[09:03:32] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[09:03:46] *** Joins: etrepum (uid763@moz-5F4AA75A.irccloud.com)
[09:03:49] <Heather> btw what about this file ? https://github.com/mozilla/rust/blob/master/src/driver/driver.rs
[09:03:56] <Heather> should they be cleaned form it?
[09:04:23] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[09:04:44] <SingingBoyo> Heather: I'd guess so, though I honestly couldn't tell you for sure.
[09:05:02] <SingingBoyo> The magical depths of the rust executables are not for mere mortals such as I
[09:06:43] <kimundi> Heather: Should be cleaned from driver.rs, yes
[09:07:00] *** Joins: nkoep (nik@moz-3BD3EE1F.pool.mediaways.net)
[09:07:04] <SingingBoyo> kimundi: any idea what happened to Option::map_move?
[09:07:23] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:07:32] *** Joins: mib_n56dkn (Mibbit@moz-92DA4D6E.cable.virginmedia.com)
[09:07:51] *** Quits: mib_n56dkn (Mibbit@moz-92DA4D6E.cable.virginmedia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[09:08:32] <mcpherrin> SingingBoyo: looks like https://github.com/mozilla/rust/commit/6a90e80b6240d8213f2b99fa470ef6ee04552d1b
[09:08:45] <mcpherrin> map_move seem to be changed to just map
[09:08:54] <mcpherrin> and old map to as_ref().map
[09:09:37] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[09:09:42] <kimundi> rusti: Some(5u).map(|x| x + 100)
[09:09:43] -rusti- Some(105u)
[09:09:57] <SingingBoyo> mcpherrin: ahh okay. so as_ref() and as_mut did happen.
[09:10:04] <kimundi> rusti: Some(5u).as_ref().map(|x| *x + 100)
[09:10:14] -rusti- failed to pastebin 13 lines of output
[09:10:21] <SingingBoyo> things to keep in mind... I really need to keep more up to date with my rust :/
[09:13:49] *** Joins: osa1 (uid13910@moz-5F4AA75A.irccloud.com)
[09:14:33] <mcpherrin> rusti: let x = Some(5u); x.as_ref().map(|x| *x + 100)
[09:14:34] -rusti- Some(105u)
[09:15:17] *** Joins: maik (maik@moz-FF7537DA.dip0.t-ipconnect.de)
[09:20:12] *** Joins: jdm (jdm@A931292E.20A5B7E6.930FA32.IP)
[09:20:12] *** ChanServ sets mode: +o jdm
[09:20:22] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Quit: Lost terminal)
[09:22:04] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[09:24:35] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[09:24:40] *** Quits: SingingBoyo (sboyo@DA28FB90.A5D0D593.4F048BDC.IP) (Client exited)
[09:24:59] *** Joins: Ms2ger (Ms2ger@moz-88764C01.ugent.be)
[09:25:15] *** Quits: maik (maik@moz-FF7537DA.dip0.t-ipconnect.de) (Ping timeout)
[09:25:16] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[09:25:51] *** Joins: bholley (anonymous@moz-EB4E0A58.net-89-2-124.rev.numericable.fr)
[09:25:58] *** Quits: bholley (anonymous@moz-EB4E0A58.net-89-2-124.rev.numericable.fr) (Quit: bholley)
[09:26:38] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Connection reset by peer)
[09:29:29] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[09:30:40] *** Quits: heftig (heftig@moz-4F8F88EB.dip0.t-ipconnect.de) (Quit: Quitting)
[09:31:32] <Leo`> does someone have an idea why this test fails to build ? https://github.com/LeoTestard/rust/blob/master/src/test/run-pass/const-ptr-cast.rs?source=cc
[09:31:42] <Leo`> the error is LLVM ERROR: expected relocatable expression
[09:32:07] <Leo`> (it builds successfully on my OS X, but fails with Bors, on Linux apparently)
[09:32:38] *** flaper87|afk is now known as flaper87
[09:32:41] *** Quits: dolphinling (andrew@moz-80A1E448.uvm.edu) (Ping timeout)
[09:34:44] *** kimundi is now known as zz_kimundi
[09:36:05] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Quit: z0w0)
[09:36:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:37:57] *** Joins: dolphinling (andrew@moz-80A1E448.uvm.edu)
[09:38:50] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[09:38:56] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[09:39:50] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[09:40:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:41:42] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[09:43:17] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[09:45:03] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Quit: dbaupp)
[09:50:33] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[09:52:07] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[09:55:34] *** Joins: marco (marco@moz-161CB040.dynamic.surfer.at)
[09:56:11] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[09:57:37] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[09:57:37] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[09:57:51] *** marco is now known as m314159
[09:58:23] *** Joins: valentin (bzlandfill@8F0102EB.5212FFAB.1D4420CD.IP)
[09:58:37] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[09:58:37] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[09:59:07] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[09:59:07] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[09:59:37] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[09:59:37] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[09:59:42] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: biafh)
[10:00:07] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:00:07] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:00:18] <valentin> Guys, hello.
[10:00:33] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[10:00:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:00:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:00:49] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[10:01:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:01:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:01:08] <valentin> What is the current state of regex support in Rust? Is there any work in progress or discussions? I've seen a couple of old github issues, but currently looking for an up-to-date information.
[10:01:24] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[10:01:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:01:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:02:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:02:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:02:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:02:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:03:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:03:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:03:23] <dbaupp> valentin: the best support is libraries binding to external libs (e.g. pcre), no support in the stdlib yet.
[10:03:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:03:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:04:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:04:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:05:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:05:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:05:23] *** zz_kimundi is now known as kimundi
[10:05:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:05:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:06:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:06:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:06:34] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Quit: WeeChat 0.4.2-rc2)
[10:06:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:06:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:06:47] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:06:53] <kimundi> valentin: We did get raw string literals recently, though :P
[10:07:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:07:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:07:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:07:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:08:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:08:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:08:17] <dbaupp> rusti: print(r###"foo#"#bar"###)
[10:08:18] -rusti- foo#"#bar()
[10:08:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:08:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:09:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:09:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:09:31] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Quit: WeeChat 0.4.2-rc2)
[10:09:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:09:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:10:08] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:10:08] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:10:30] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Client exited)
[10:10:38] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:10:38] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:11:18] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:11:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:11:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:12:03] *** Quits: StarLight (StarLight@moz-C2023557.dynamic.avangarddsl.ru) (Ping timeout)
[10:12:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:12:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:12:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:12:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:13:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:13:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:13:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:13:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:14:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:14:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:14:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:14:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:15:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:15:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:15:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:15:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:15:50] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[10:16:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:16:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:16:11] *** Joins: StarLight (StarLight@moz-3501BC4B.dynamic.avangarddsl.ru)
[10:16:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:16:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:16:46] *** Quits: Ms2ger (Ms2ger@moz-88764C01.ugent.be) (Ping timeout)
[10:16:46] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[10:17:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:17:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:17:16] *** Joins: Ms2ger (Ms2ger@moz-5B56DF9C.ugent.be)
[10:17:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:17:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:18:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:18:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:18:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:18:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:19:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:19:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:19:18] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[10:19:39] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:19:39] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:20:09] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:20:09] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:20:10] *** Quits: valentin (bzlandfill@8F0102EB.5212FFAB.1D4420CD.IP) (Quit: CGI:IRC (EOF))
[10:20:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:20:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:20:45] *** Joins: ksf (ksf@moz-6312B38F.adsl.hansenet.de)
[10:21:19] *** Joins: maik (maik@moz-7EC83788.uni-koblenz.de)
[10:21:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:21:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:22:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:22:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:22:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:22:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:23:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:23:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:23:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:23:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:24:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:24:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:24:34] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[10:24:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:24:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:24:53] *** kimundi is now known as zz_kimundi
[10:25:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:25:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:25:40] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:25:40] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:25:58] *** pmoore is now known as pmoore|lunch
[10:26:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:26:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:26:21] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[10:26:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:26:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:27:10] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:27:10] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:27:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:27:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:28:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:28:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:28:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:28:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:29:08] *** Quits: ksf (ksf@moz-6312B38F.adsl.hansenet.de) (Ping timeout)
[10:29:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:29:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:29:28] *** Quits: Ms2ger (Ms2ger@moz-5B56DF9C.ugent.be) (Ping timeout)
[10:29:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:29:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:29:43] *** flaper87 is now known as flaper87|afk
[10:30:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:30:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:30:12] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:30:16] *** Joins: geomyidae__ (uid214@moz-E77DEB21.irccloud.com)
[10:30:18] *** Joins: wilfred (uid159@moz-5F4AA75A.irccloud.com)
[10:30:18] *** Joins: kseo_ (uid14607@moz-E77DEB21.irccloud.com)
[10:30:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:30:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:31:10] *** Joins: ksf (ksf@moz-2241BB98.adsl.hansenet.de)
[10:31:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:31:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:31:59] *** Quits: ksf (ksf@moz-2241BB98.adsl.hansenet.de) (Connection reset by peer)
[10:32:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:32:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:32:12] *** Joins: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca)
[10:32:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:32:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:33:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:33:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:33:41] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:33:41] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:33:59] *** Joins: ksf (ksf@moz-2241BB98.adsl.hansenet.de)
[10:34:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:34:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:34:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:34:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:34:59] *** Quits: ksf (ksf@moz-2241BB98.adsl.hansenet.de) (Connection reset by peer)
[10:35:11] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:35:11] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:35:26] *** Joins: ksf (ksf@moz-2241BB98.adsl.hansenet.de)
[10:35:30] *** pmoore|lunch is now known as pmoore|away
[10:35:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:35:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:36:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:36:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:36:29] *** Quits: ksf (ksf@moz-2241BB98.adsl.hansenet.de) (Client exited)
[10:36:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:36:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:37:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:37:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:37:30] *** Parts: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) ()
[10:37:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:37:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:38:35] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[10:38:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:38:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:39:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:39:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:39:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:39:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:39:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:40:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:40:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:40:42] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:40:42] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:41:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:41:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:41:15] *** Joins: engla (engla@moz-2A311D3C.mobile.tre.se)
[10:41:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:41:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:42:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:42:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:42:20] *** Quits: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca) (Quit: canhtak)
[10:42:36] *** Quits: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP) (Connection reset by peer)
[10:42:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:42:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:42:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:42:49] *** Joins: ksf (ksf@moz-CF715D4E.adsl.hansenet.de)
[10:43:12] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:43:12] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:43:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:43:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:44:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:44:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:44:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:44:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:44:43] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Quit: DeTeam)
[10:44:57] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[10:45:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:45:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:45:24] *** Joins: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP)
[10:45:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:45:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:46:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:46:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:46:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:46:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:47:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:47:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:48:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:48:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:48:21] *** Quits: dissimile (dissimile@moz-141B07E7.static.as13285.net) (Ping timeout)
[10:48:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:48:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:49:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:49:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:49:19] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Quit: WeeChat 0.4.3-dev)
[10:49:24] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:49:43] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:49:43] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:50:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:50:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:50:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:50:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:51:06] *** Quits: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP) (Connection reset by peer)
[10:51:13] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:51:13] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:51:25] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[10:51:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:51:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:52:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:52:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:52:16] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[10:52:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:52:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:53:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:53:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:53:37] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[10:53:38] *** ChanServ sets mode: +o jdm
[10:53:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:53:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:54:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:54:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:54:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:54:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:55:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:55:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:55:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:55:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:56:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:56:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:56:39] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[10:57:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:57:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:57:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:57:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:58:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:58:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:58:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:58:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:59:02] *** Quits: ksf (ksf@moz-CF715D4E.adsl.hansenet.de) (Client exited)
[10:59:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:59:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[10:59:15] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[10:59:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[10:59:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:00:14] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:00:14] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:00:44] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:00:44] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:01:04] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[11:01:14] *** Joins: ksf (ksf@moz-CF715D4E.adsl.hansenet.de)
[11:01:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:01:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:01:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:01:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:02:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:02:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:03:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:03:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:03:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:03:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:04:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:04:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:04:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:04:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:05:09] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Quit: Lost terminal)
[11:05:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:05:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:05:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:05:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:06:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:06:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:06:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:06:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:06:50] *** Joins: mihneadb (mihneadb@moz-C5B7A4E3.residential.rdsnet.ro)
[11:07:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:07:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:07:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:07:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:08:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:08:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:08:43] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[11:08:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:08:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:09:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:09:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:09:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:09:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:10:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:10:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:11:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:11:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:11:46] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:11:46] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:12:16] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[11:12:16] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[11:12:21] *** jdm sets mode: +b *!Tobbi@moz-CAA98E97.xxx
[11:13:53] *** jdm sets mode: -b *!Tobbi@moz-CAA98E97.xxx
[11:14:16] *** Joins: IRCMonkey28966 (Tobbi@moz-CAA98E97.xxx)
[11:14:40] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[11:14:53] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[11:15:54] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:18:30] *** pmoore|away is now known as pmoore
[11:19:10] *** Quits: ksf (ksf@moz-CF715D4E.adsl.hansenet.de) (Ping timeout)
[11:19:55] *** Joins: ksf (ksf@moz-228F78A3.adsl.hansenet.de)
[11:21:40] *** Joins: bholley (anonymous@moz-104CC309.mv.mozilla.com)
[11:25:19] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[11:27:42] *** zz_kimundi is now known as kimundi
[11:29:01] *** Quits: bholley (anonymous@moz-104CC309.mv.mozilla.com) (Ping timeout)
[11:29:45] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[11:30:20] *** Quits: _Vi (vi@527C345F.497AA854.B16B3BE6.IP) (Ping timeout)
[11:33:10] *** Quits: Voomer__ (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Ping timeout)
[11:33:25] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[11:34:14] *** pmoore is now known as pmoore|away
[11:35:09] *** Quits: cdidd (cdidd@moz-74A778E3.broadband.corbina.ru) (Quit: Leaving)
[11:38:05] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[11:39:51] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[11:42:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:43:05] *** Joins: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr)
[11:43:15] *** Quits: ksf (ksf@moz-228F78A3.adsl.hansenet.de) (Ping timeout)
[11:43:35] *** Joins: ksf (ksf@moz-42890A0F.adsl.hansenet.de)
[11:44:36] *** Quits: ksf (ksf@moz-42890A0F.adsl.hansenet.de) (Client exited)
[11:44:44] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[11:45:55] *** Joins: Ms2ger (Ms2ger@moz-92A79B55.adsl-dyn.isp.belgacom.be)
[11:46:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:46:50] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[11:47:17] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[11:47:23] *** Joins: aegeaner (Aegeaner@83533B47.BD9EA362.4446104D.IP)
[11:48:16] *** Joins: cdidd (cdidd@moz-AD2A8F17.broadband.corbina.ru)
[11:48:32] *** flaper87|afk is now known as flaper87
[11:50:28] *** Quits: maik (maik@moz-7EC83788.uni-koblenz.de) (Ping timeout)
[11:51:09] *** pmoore|away is now known as pmoore
[11:51:20] *** kimundi is now known as zz_kimundi
[11:51:49] *** Quits: cdidd (cdidd@moz-AD2A8F17.broadband.corbina.ru) (Input/output error)
[11:52:03] *** Joins: cdidd (cdidd@moz-AD2A8F17.broadband.corbina.ru)
[11:53:44] *** Joins: canhtak (jeremy@moz-C1CE4BB.wl.t.ulaval.ca)
[12:00:12] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[12:00:26] *** zz_kimundi is now known as kimundi
[12:00:29] *** Quits: clonejo (clonejo@moz-CC9FD036.de) (Ping timeout)
[12:01:24] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[12:04:30] *** Quits: engla (engla@moz-2A311D3C.mobile.tre.se) (Ping timeout)
[12:04:48] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[12:05:14] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[12:06:30] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[12:06:59] *** Joins: clonejo (clonejo@moz-190802EB.de)
[12:10:19] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[12:16:21] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[12:18:07] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:19:21] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[12:24:41] <Earnestly> ping
[12:24:52] <Leo`> Earnestly: ?
[12:25:21] <Earnestly> Been having troubles with my irc client, was wondering if this channel was either quiet or I broke something
[12:25:48] <Leo`> just quiet :D
[12:26:00] <Earnestly> Ta o/
[12:27:55] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[12:29:55] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[12:31:56] *** bhearsum|afk is now known as bhearsum
[12:32:22] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[12:33:01] *** Joins: ksf (ksf@moz-D162B8B3.adsl.alicedsl.de)
[12:35:37] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:35:57] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[12:36:27] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[12:37:39] *** Joins: _Vi (vi@77C5EFC7.65F4C6C6.48F984E6.IP)
[12:40:02] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[12:41:16] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Ping timeout)
[12:42:03] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Client exited)
[12:43:51] *** Joins: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP)
[12:45:21] <pyrac> Hi all. I am trying to wrap a C function returning a double* using FFI. Is &libc::c_double the right returning type for Rust? I use vec::raw::from_buf_raw.
[12:45:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:45:51] <dbaupp> pyrac: *libc::c_double
[12:46:06] *** Joins: tgummerer (tgummerer@moz-3BE96E52.kthopen.kth.se)
[12:46:17] <dbaupp> (should be the return value of the C function declared in the extern block)
[12:46:54] <pyrac> dbaupp: ok thanks ! I just had my mind blown again by rust, this time for its FFI :)
[12:48:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:48:57] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[12:50:59] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[12:53:41] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Ping timeout)
[12:54:29] <eddyb> pyrac: FFI might be a misnomer, it just can interface directly with C code (and you can use raw/unsafe * pointers, but there's no pointer arithmetic)
[12:54:36] *** Quits: mihneadb (mihneadb@moz-C5B7A4E3.residential.rdsnet.ro) (Input/output error)
[12:55:04] *** Joins: mihneadb (mihneadb@moz-C5B7A4E3.residential.rdsnet.ro)
[12:55:36] <pyrac> eddyb: that's great, I just spent a day fighting with FFI on ruby, it is so clean with Rust
[12:56:54] *** Quits: mihneadb (mihneadb@moz-C5B7A4E3.residential.rdsnet.ro) (Ping timeout)
[13:01:02] * ksf achieved his most difficult feat in rust yet: getting a multi-file crate to compile
[13:01:15] *** Quits: aegeaner (Aegeaner@83533B47.BD9EA362.4446104D.IP) (Ping timeout)
[13:01:34] *** Joins: aegeaner (Aegeaner@6D9BD02D.3B57393D.8395810B.IP)
[13:01:38] *** Joins: aegeaner1 (Aegeaner@83533B47.BD9EA362.4446104D.IP)
[13:01:54] <kimundi> ksf: haha, :)
[13:01:54] <dbaupp> ksf: \o/
[13:02:18] *** Joins: rail44 (Mibbit@moz-327E5E76.m-net.ne.jp)
[13:02:52] <kimundi> dbaupp: You have review powers, right?
[13:03:19] *** Quits: aegeaner (Aegeaner@6D9BD02D.3B57393D.8395810B.IP) (Ping timeout)
[13:03:25] <kimundi> bors has nothing to do, and I have a nice, unreviewed PR here: https://github.com/mozilla/rust/pull/9926 ;)
[13:04:20] *** Joins: dissimile (dissimile@moz-141B07E7.static.as13285.net)
[13:04:35] <dbaupp> kimundi: is that a "correct" fix?
[13:05:00] <kimundi> dbaupp: I talked with brson about it yesterday, and he said that change is fine
[13:05:03] <dbaupp> i.e. are you sure there isn't some reason that it wasn't like that before?
[13:05:04] <dbaupp> oh
[13:05:06] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[13:05:14] *** Quits: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr) (Ping timeout)
[13:05:43] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[13:06:10] <kimundi> The reson it was like that is that the TaskBuilder used to use method chaning, so the return value was taken. But brson said that he'd change that to something different anyway, like just have a .spawn_result() methodc chain terminator or so
[13:07:22] <zokier`> how do I get more info of an ICE?
[13:08:26] <dbaupp> zokier`: `RUST_LOG=rustc=1 rustc ....`
[13:08:48] <dbaupp> zokier`: and/or running under gdb with 'catch throw' to get a backtrace from the place it is fail!()-ing
[13:08:57] *** Joins: maik (maik@moz-7EC83788.uni-koblenz.de)
[13:09:02] <kimundi> dbaupp: You can read the chat logs starting here: https://botbot.me/mozilla/rust/msg/6990791/
[13:09:17] <Leo`> dbaupp: you are huonw on Github ?
[13:09:43] <zokier`> RUST_LOG=rustc=1 rustc .. does not generate any additional info, going to try gdb next
[13:09:57] <dbaupp> Leo`: yup
[13:10:51] <ChrisMorgan> I guess I should submit a PR to fix up url::to_str to include the port.
[13:12:03] <ChrisMorgan> And another for Vim syntax updates (mostly prelude updates and recognising \0).
[13:12:20] <dbaupp> raw strings, or was that done already?
[13:12:56] *** Quits: rail44 (Mibbit@moz-327E5E76.m-net.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[13:15:18] <ksf> btw. IMHO having encode :: str -> str is a bad idea.
[13:15:35] <ksf> many bugs to be had in confusing encoded and non-encoded uris
[13:16:08] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[13:16:13] <zokier`> i guess backtraces without debug symbols aren't that useful https://gist.github.com/zokier/7041364
[13:16:43] <ChrisMorgan> Raw strings?
[13:16:51] <dbaupp> zokier`: it's not so bad "const_eval::ConstEvalVisitor::classify"
[13:16:52] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[13:17:02] <dbaupp> zokier`: "middle::ty::node_id_to_type"
[13:17:04] <dbaupp> zokier`: code?
[13:17:40] <dbaupp> rusti: print(r###" ChrisMorgan "##" abc def "###)
[13:17:41] -rusti-  ChrisMorgan "##" abc def ()
[13:18:12] <zokier`> haven't yet been able to properly isolate a testcase
[13:18:17] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[13:18:36] <dbaupp> zokier`: it's possibly related to a `static`, based on that backtrace
[13:18:50] <dbaupp> zokier`: and/or a fixed-length vector
[13:19:36] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:20:17] <zokier`> "vvel.y = 0.5*hvel.x*std::num::sinh(3.14*paddle_distance/paddle_height)/3.14;" i think is somehow related, without that last division it compiles just fine
[13:20:19] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:20:20] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:20:24] <ChrisMorgan> dbaupp: that's #9674, right? So `r\(#*\)".*"\1`, as it were?
[13:20:32] * ChrisMorgan was thinking of byte strings for a moment
[13:20:48] <dbaupp> ChrisMorgan: yeah (dunno the PR number, but that's the right regex)
[13:21:07] *** Quits: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP) (Quit: pyrac)
[13:21:07] <ChrisMorgan> Seems to have been done already.
[13:21:17] <dbaupp> awesome
[13:21:21] <kimundi> rusti: bytes!("foo")
[13:21:22] -rusti- &[102u8, 111u8, 111u8]
[13:22:14] <ChrisMorgan> kimundi: I was meaning the likes of b"..." and 'x'u8
[13:22:16] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[13:22:21] *** Joins: sebcrozet (sebcrozet@582DB599.940A4703.BA2F4534.IP)
[13:22:24] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[13:22:36] <kimundi> ah, those aren't in yet
[13:22:45] * ChrisMorgan would have been surprised if raw strings hadn't been added
[13:22:51] <ChrisMorgan> to the Vim syntax
[13:23:58] * dbaupp doesn't think they've been added to any of the other modes
[13:24:38] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[13:26:17] <eddyb> dbaupp: it's RUST_LOG=rustc, the =1 makes it fail, btw
[13:26:19] * ChrisMorgan is surprised
[13:26:21] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[13:26:35] <eddyb> dbaupp: fail as in not do anything at all
[13:29:18] *** pmoore is now known as pmoore|away
[13:29:55] <dbaupp> eddyb: RUST_LOG=rustc makes it dump gigabytes of logging out put, right?
[13:30:03] <zokier`> RUST_LOG=rustc generates huge amount of logging (>3 gigabytes before I interrupted)
[13:30:18] <eddyb> dbaupp: it's broken when compiling anything using format!
[13:30:19] <dbaupp> eddyb: =1 will mean that only error!()'s get logged, which is far more reasonable & useful
[13:30:26] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[13:30:47] <dbaupp> eddyb: I don't understand what you mean by that
[13:31:10] <eddyb> dbaupp: the GBs of output come from compiling things using format!, even indirectly
[13:31:15] <dbaupp> eddyb: using RUST_LOG=rustc=1 on a file with format! will mean it doesn't compile anything/it ICEs/something else happens?
[13:31:30] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/9927
[13:31:41] <ChrisMorgan> (Ah, finally a PR where I needed to add a test case!)
[13:31:42] <dbaupp> eddyb: oh, logging output, or compiled output??
[13:31:52] <eddyb> rustc logging
[13:32:10] <dbaupp> ok (I don't see how that's directly relevant though)
[13:32:27] <eddyb> I remember someone talking about something similar, not sure if there's an issue for it
[13:32:46] *** pmoore|away is now known as pmoore
[13:33:15] <eddyb> dbaupp: removing all uses of format! (or info!, in the case of the tests I was working on) produces a reasonable small output with RUST_LOG=rustc
[13:33:21] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[13:33:28] *** IRCMonkey28966 is now known as Tobbi_
[13:33:51] <kimundi> Hm, I wonder if format! introduces some kind of endless recusion if used on itself...
[13:34:05] <kimundi> Wouldn't wonder me
[13:34:09] <eddyb> dbaupp: it's not really GBs, I'm pretty certain it will never stop (before running out of HDD space)
[13:34:21] <eddyb> it was DoSing my laptop when piped to ix (oops)
[13:34:36] <eddyb> kimundi: info!("{}", x) is enough to trigger it
[13:35:00] <kimundi> rusti: info!("{}", 5u);
[13:35:14] -rusti- failed to pastebin 6 lines of output
[13:35:16] *** jorendorff_away is now known as jorendorff
[13:35:18] <kimundi> :P
[13:35:22] <dbaupp> golly, that was a bad idea
[13:35:35] <kimundi> dbaupp: You're trying it? xD
[13:35:38] <eddyb> kimundi: in the debug output when running rustc with RUST_LOG=rustc
[13:35:52] <dbaupp> thousands of lines of 132u8, 0u8, 0u8, 0u8, 0u8, 146u8, 16u8, 0u8, 0u8, 0u8, 155u8, 132u8, 115u8, 112u8, 97u8, 110u8, 155u8, 132u8, 115u8, 112u8, 97u8, 110u8
[13:35:54] <dbaupp> (etc)
[13:36:04] <dbaupp> with `RUST_LOG=rustc rustc - <<<'fn main() { format!(""); }'`
[13:36:17] <eddyb> and it works fine without the format, right?
[13:36:23] <dbaupp> yup
[13:36:24] <kimundi> It's a code hidden in the compiler!
[13:36:26] * dbaupp files a bug
[13:36:40] <eddyb> dbaupp: I could've sworn people were talking about this a few days ago
[13:36:59] <kimundi> We birthed an Artificial intelligence in the formating system!
[13:37:02] <eddyb> kimundi: it's computing the digits of PI in base 128
[13:37:08] <kimundi> Sadly it doesn't know our language
[13:37:23] <dbaupp> eddyb: doesn't appear to be a bug about it
[13:37:34] <eddyb> err, base 256
[13:37:52] <kimundi> Hm, now I'm curious how pi's digits would look like in base 128...
[13:38:18] <kimundi> rusti: let x: f64 = Float::PI; x
[13:38:24] <eddyb> find an alphabet first
[13:38:24] -rusti- pastebinned 7 lines of output: http://ix.io/8zy
[13:38:33] <kimundi> rusti: let x: f64 = std::num::Float::PI; x
[13:38:36] -rusti- pastebinned 7 lines of output: http://ix.io/8zz
[13:38:39] *** Quits: aegeaner1 (Aegeaner@83533B47.BD9EA362.4446104D.IP) (Ping timeout)
[13:38:52] *** Joins: aegeaner (Aegeaner@83533B47.BD9EA362.4446104D.IP)
[13:39:11] <kimundi> rusti: let x: f64 = std::num::Real::pi(); x
[13:39:12] -rusti- 3.14159265f64
[13:39:29] <kimundi> eddyb: That's not a problem :P unicode is vast
[13:40:49] <Leo`> I'd lik to see how PI looks like in base 4294967296
[13:40:56] *** Joins: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP)
[13:41:58] <eddyb> rusti: int_base!(int, uint, 128, Foobary, "")
[13:42:00] -rusti- pastebinned 6 lines of output: http://ix.io/8zA
[13:42:17] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[13:43:11] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:43:56] <kimundi> rusti: use std::num::Round; let x: f64 = std::num::Real::pi()/10.0; let mut x = x; loop { x = x * 256f; let y = x.floor(); x = x.trunc(); print!("{} ", y); if x <= 0.0 { break; }}
[13:43:58] <dbaupp> eddyb, kimundi: https://github.com/mozilla/rust/issues/9928 looks like it's printing the crate metadata
[13:43:58] -rusti- pastebinned 6 lines of output: http://ix.io/8zB
[13:44:27] <kimundi> Oh my
[13:44:27] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[13:44:41] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[13:45:06] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:45:18] *** Quits: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP) (Ping timeout)
[13:48:13] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:48:25] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[13:49:53] *** Quits: fabiand (fabiand@moz-3B259832.adsl.alicedsl.de) (Quit: Verlassend)
[13:50:29] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:51:17] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[13:51:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:51:51] *** Joins: fabiand (fabiand@moz-3B259832.adsl.alicedsl.de)
[13:52:11] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[13:52:33] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:52:51] *** Joins: oberstet (quassel@moz-C51EF865.dynamic.mnet-online.de)
[13:53:21] *** jorendorff is now known as jorendorff_away
[13:53:25] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[13:56:14] *** Quits: StarLight (StarLight@moz-3501BC4B.dynamic.avangarddsl.ru) (Ping timeout)
[13:59:01] *** kimundi is now known as zz_kimundi
[13:59:10] <ChrisMorgan> And the other one I promised, Vim updates: https://github.com/mozilla/rust/pull/9929
[13:59:52] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[13:59:52] <nmatsakis> http://hiho.io/rust-ci/ is mega geil
[13:59:55] <nmatsakis> neat
[14:00:08] <nmatsakis> ah, vim updates... that reminds me I want to file various bugs against the emacs-mode
[14:00:37] *** Joins: StarLight (StarLight@moz-771B3E3E.dynamic.avangarddsl.ru)
[14:00:45] <ksf> ey alter voll porno
[14:01:14] <ChrisMorgan> nmatsakis: you remember my augmented-assignment branch that I didn't quite get working? If I rebase it, would you be willing to take a look at it? (I understand you're the one who knows the most about it.)
[14:01:39] <ChrisMorgan> (The answer doesn't have to be yes, I just want to know if it's worth rebasing it again.)
[14:01:49] <nmatsakis> ChrisMorgan: Yes, I would be -- but can you point me the unrebased branch, I'd like to get an idea of what approach you took, maybe suggest some changes 
[14:02:04] <ChrisMorgan> https://github.com/chris-morgan/rust/compare/augmented-assignment
[14:02:06] <nmatsakis> ChrisMorgan: I've been tinkering with how we handle overloaded operators, though not augmented assignmented
[14:02:27] <ChrisMorgan> And https://github.com/mozilla/rust/issues/5992
[14:03:01] *** Quits: MrByte (Dartakio@moz-147070D0.chy-wy.client.bresnan.net) (Quit: )
[14:03:17] <nmatsakis> ChrisMorgan: I am mildly amused by the last commit (get() => unwrap()) since I think we'll be naming it back :)
[14:03:31] <nmatsakis> ChrisMorgan: anyway, that looks quite reasonable, if you rebase yes please ping me on IRC and I will review promptly
[14:03:42] <ChrisMorgan> Basically, the majority of it was routine, but then I got to actually tying it back together again and got out of my depth, as I had expected to happen.
[14:03:49] <ChrisMorgan> :D
[14:04:26] <nmatsakis> ChrisMorgan: we also have to fixup the Index trait, I've been tinkering about with various options, but it was a while ago and I forgot what I had in mind. I just remember that the current def'n is unsatisfactory :)
[14:04:34] <nmatsakis> anyway that's indep
[14:04:42] *** Joins: lkuper_ (lkuper@5C7623CF.14CD977C.51B6877.IP)
[14:06:37] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[14:07:14] *** zz_kimundi is now known as kimundi
[14:10:06] <SimonSapin> What’s the advantage of the dual MIT/Apache2 license over just MIT?
[14:10:22] <ksf> patents, probably.
[14:10:42] <bstrie> SimonSapin: apache gives some sort of patent protection, but isn't compatible with as many things as mit
[14:11:13] <SimonSapin> what’s recommended for a new library that may end up libextra later?
[14:11:23] <bstrie> so if you need to integrate the compiler with something that isn't compatible with apache, you have the option of just choosing mit
[14:11:29] <bstrie> SimonSapin: dual license
[14:11:32] <bstrie> or just mit
[14:11:36] <bstrie> but IANAL
[14:11:41] <SimonSapin> (I’m looking at implementing http://url.spec.whatwg.org/)
[14:11:55] <Ms2ger> What's your string representation? ;)
[14:11:57] <ksf> well mit allows you to relicense, so you can endual the whole thing.
[14:12:00] <bstrie> url pareser eh
[14:12:11] <SimonSapin> Ms2ger: I’ll use str for now
[14:12:16] <ksf> *shudder*
[14:12:33] <bstrie> SimonSapin: is this something that you'd like to end up in servo?
[14:12:54] <bstrie> I'm not sure what they currently use for url parsing
[14:12:54] <SimonSapin> bstrie: yes
[14:12:58] <SimonSapin> for some values of "in"
[14:13:00] * ChrisMorgan is concerned about this rebase—it had no conflicts when I expected changes in the lang items... did it do the wrong thing?
[14:13:16] <SimonSapin> but used in servo yes
[14:13:44] <SimonSapin> bstrie: all I know is it’s broken :(
[14:14:11] <bstrie> SimonSapin: have you tried asking in #servo?
[14:14:15] <bstrie> re: the license issue
[14:14:21] <bstrie> I think servo is also mit/apache, but not sure
[14:14:23] <ksf> option<protocol>, option<port>, [pathelem], map<str,str>
[14:14:29] <SimonSapin> bstrie: servo is MPL2
[14:14:29] <ksf> ...I'd say. roughly.
[14:14:48] <bstrie> SimonSapin: well you can't go wrong with WTFPL :)
[14:14:51] <ChrisMorgan> So Rust is MIT/Apache2 and Servo is MPL.
[14:14:59] <SimonSapin> but URLs could be useful outside of Servo
[14:15:00] <bstrie> ChrisMorgan: MPL2... important difference
[14:15:10] <ChrisMorgan> Sorry, MPL2 indeed.
[14:15:15] <SimonSapin> bstrie: or CC0 :)
[14:15:16] <ChrisMorgan> bstrie: I hate that license with a passion because of its name.
[14:15:26] <bstrie> MPL?
[14:15:44] <ChrisMorgan> No, the one you mentioned previously.
[14:15:45] <ksf> though the most important thing is strict enough typing to make mixing up urlencoded with non-urlencoded stuff more or less impossible.
[14:15:46] <Ms2ger> SimonSapin, do you have a patent portfolio? Then I don't want your cc0 code ;)
[14:15:52] <bstrie> ChrisMorgan: ah, the WTFPL :)
[14:16:18] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[14:16:18] <bstrie> haha, they have a new website
[14:16:20] <bstrie> http://www.wtfpl.net/
[14:16:35] <Ms2ger> Is that pl for programming language?
[14:16:45] <bstrie> public license
[14:16:47] <ksf> "public license"
[14:17:02] <bstrie> wtfpl is basically mit with less bullshit :P
[14:17:11] *** Joins: sinma (seb@moz-6A11C47C.fbx.proxad.net)
[14:17:48] <sinma> Hi, is it possible to easily cross-compile a rust code to Windows?
[14:18:12] <Ms2ger> bstrie, well, the bullshit is "make this actually legally binding", no? ;)
[14:18:14] <bstrie> sinma: rustc is a cross-compiler, or so I hear. should be entirely possible to compile a windows binary while on a different OS
[14:18:18] <bstrie> but I can't tell you how!
[14:18:34] <Leo`> with --target
[14:18:45] <Leo`> but you need the libs for the OS you target I think
[14:19:02] <sinma> For example if I use another project, like a rust binding
[14:19:12] <ChrisMorgan> All (well, not all) I want is rustc running on arm-unknown-linux-gnueabi
[14:19:17] <bstrie> Ms2ger: eh, a license is always legally binding until it gets challenged :)
[14:19:24] <sinma> rustc is able to recompile both for Windows if I am on GNU/Linux?
[14:20:02] <ksf> the bullshit is the disclaimer, and more polite wording.
[14:20:20] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[14:20:26] <Leo`> sinma: yes, it is able to compile. but not to link, since you don't have the libs for Windows
[14:20:33] <ksf> also, wtfpl doesn't require you to keep copyright notices intact.
[14:21:51] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:22:42] <sinma> Leo`: I haven’t cross-compiled anything, so what do I need exactly?
[14:23:21] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:23:24] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[14:23:32] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:23:53] <ChrisMorgan> *Whew* rebased again, this time I got the expected conflicts.
[14:23:54] <Leo`> sinma: I think there may be a way to cross-compile the stdlib but I don't know how exactly... never tried 
[14:24:28] <ChrisMorgan> "It's times like these when" you hate Git.
[14:24:46] <ChrisMorgan> Mercurial is *ever* so much nicer in its CLI than Git.
[14:24:47] <Ms2ger> There are other times?
[14:24:57] <benh> :(
[14:25:03] <benh> I still don't know how to rebase in hg
[14:25:10] <Ms2ger> hg qpo -a &&  hg pull -u && hg qpu -a
[14:25:18] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[14:27:41] *** Quits: maik (maik@moz-7EC83788.uni-koblenz.de) (Ping timeout)
[14:27:56] *** Joins: GeneralMaximus (ankur@B0D61FE7.36DB1090.BE90E62C.IP)
[14:27:59] *** Joins: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP)
[14:28:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:29:08] <dbaupp> "qpo", "qpu"? looks... very... nice.
[14:30:07] <bstrie> acrichto: ping
[14:30:25] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:32:26] <sinma> Leo`: at least it might be easy to compile on win with rustc
[14:32:45] *** Joins: maik (maik@moz-7EC83788.uni-koblenz.de)
[14:32:54] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[14:35:22] <Ms2ger> dbaupp, well, hg allows you to abbreviate
[14:35:29] <Ms2ger> dbaupp, that's qpop and qpush
[14:37:04] *** Parts: dguenther (dg@moz-AF6F3E94.com) ()
[14:37:10] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[14:37:27] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[14:38:57] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:39:38] *** Joins: jordyd (jordyd@moz-BB628E0D.seg48.ucf.edu)
[14:39:52] *** jorendorff_away is now known as jorendorff
[14:40:05] *** Quits: StarLight (StarLight@moz-771B3E3E.dynamic.avangarddsl.ru) (Ping timeout)
[14:40:13] *** Joins: dg (dg@moz-AF6F3E94.com)
[14:40:25] *** Joins: reedlepee (Mibbit@EFDFDA63.8471470E.9D59D0D8.IP)
[14:41:58] <ChrisMorgan> That's using mq; if you've enabled the rebase extension, `hg rebase`.
[14:42:00] *** Quits: ksf (ksf@moz-D162B8B3.adsl.alicedsl.de) (Ping timeout)
[14:42:28] <Ms2ger> [Notoriously buggy]
[14:42:32] * ChrisMorgan wants to rewrite lang_items with macros to reduce the crazy duplication
[14:43:07] *** Joins: ksf (ksf@moz-B38C9A52.adsl.hansenet.de)
[14:43:38] <ChrisMorgan> In Mercurial such things are much more strongly discouraged than in Git. Plus in more recent versions of hg the phases stuff comes into play so that it'll let you do these sorts of things if you haven't pushed to a public repository but will try to prevent you if you have.
[14:44:06] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[14:45:15] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:45:25] *** Quits: reedlepee (Mibbit@EFDFDA63.8471470E.9D59D0D8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:45:28] *** Joins: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net)
[14:45:50] *** Quits: sebcrozet (sebcrozet@582DB599.940A4703.BA2F4534.IP) (Ping timeout)
[14:46:17] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:47:51] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:48:37] *** Joins: Jackneill (Jackneill@moz-C8FD023D.pool.digikabel.hu)
[14:49:25] <Ms2ger> Right, you don't commit something unless you want to commit to it
[14:49:38] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Connection reset by peer)
[14:49:53] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:51:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:52:31] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[14:52:33] *** Quits: dissimile (dissimile@moz-141B07E7.static.as13285.net) (Ping timeout)
[14:55:27] *** Quits: JanC__ (janc@moz-4CCD39BC.dsl.scarlet.be) (Ping timeout)
[14:55:27] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:56:59] <eddyb> rusti: match("foo") {"foo" => "bar", "bar" => "baz"}
[14:57:02] -rusti- pastebinned 7 lines of output: http://ix.io/8zH
[14:57:22] <eddyb> rusti: match("foo") {"foo" => "bar", "bar" => "baz", _ => "meh"}
[14:57:23] -rusti- "bar"
[14:58:02] *** Quits: sinma (seb@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[14:58:05] *** Quits: GeneralMaximus (ankur@B0D61FE7.36DB1090.BE90E62C.IP) (Quit: Computer has gone to sleep.)
[14:58:22] <eddyb> hah, I just had a crazy idea: allow some sort of predicates in match that could be implemented by regexps
[14:59:03] *** Quits: canhtak (jeremy@moz-C1CE4BB.wl.t.ulaval.ca) (Quit: canhtak)
[14:59:33] <eddyb> (also, I hope the coming constexprs will allow for compiling every regexp instance's matching code to native code)
[15:00:03] *** Quits: aegeaner (Aegeaner@83533B47.BD9EA362.4446104D.IP) (Connection reset by peer)
[15:00:41] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[15:02:07] *** Quits: squiddy (squiddy@moz-C106AB5F.adsl.alicedsl.de) (Ping timeout)
[15:02:42] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[15:03:57] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[15:04:30] * eddyb found librustc/middle/trans/meth.rs. Heisenberg?
[15:05:40] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[15:06:05] *** Joins: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net)
[15:06:06] *** ChanServ sets mode: +o pnkfelix
[15:06:20] *** ozten is now known as ozten|errand
[15:06:59] *** Quits: ksf (ksf@moz-B38C9A52.adsl.hansenet.de) (Ping timeout)
[15:07:58] <Earnestly> Uncertaintly Principle?
[15:08:08] <Earnestly> Uncertainty/
[15:09:56] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[15:10:09] *** Joins: JanC__ (janc@moz-58D3F9C4.dsl.scarlet.be)
[15:10:15] <SimonSapin> rusti: " a  b".split(' ').to_owned_vec()
[15:10:24] -rusti- failed to pastebin 7 lines of output
[15:10:36] <SimonSapin> eh
[15:11:14] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Client exited)
[15:11:29] <ChrisMorgan> Finally, rebase complete. Now to build it and find the errors which merged fine but aren't correct (e.g. ast::subtract -> ast::BiSub)
[15:12:02] <SimonSapin> rusti: " a  b".split_iter(' ').to_owned_vec()
[15:12:02] -rusti- ~["", "a", "", "b"]
[15:12:04] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Quit: DeTeam)
[15:12:50] <ChrisMorgan> *Sigh* Need to build LLVM.
[15:13:37] <eddyb> Earnestly: Breaking Bad
[15:14:35] <ChrisMorgan> nmatsakis: I've finished the rebase but it's pretty certain to fail to compile due to parts that rebase fine but have been renamed in the underlying code base (believe it or not, I didn't try recompiling after every change); it being 2:13am, I need to get to bed some time fairly soon.
[15:15:26] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[15:16:07] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[15:18:16] *** Joins: skeet70 (skeet70@moz-156ACA63.msu.montana.edu)
[15:19:31] <nmatsakis> ChrisMorgan: ok
[15:20:08] <ChrisMorgan> (Actually, it was 2:14am by the time I sent that message. And now it's 2:20am. How time flies.)
[15:21:28] <skeet70> Eridius dunno if you're around, but I asked last night if you still had your working quicksort. I've got everything almost working, no more infinite recursion, but now things aren't actually being completely sorted (just into vague negative, mixed, and positive sections), and I haven't been able to figure out why.
[15:21:54] *** Joins: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net)
[15:21:55] *** Quits: lkuper_ (lkuper@5C7623CF.14CD977C.51B6877.IP) (Quit: lkuper_)
[15:22:42] <Earnestly> eddyb: Oh, I’m not familiar with the show
[15:24:40] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:25:28] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[15:26:54] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[15:28:19] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:29:27] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[15:30:32] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:30:46] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:32:22] *** Quits: _Vi (vi@77C5EFC7.65F4C6C6.48F984E6.IP) (Client exited)
[15:32:56] *** Quits: tgummerer (tgummerer@moz-3BE96E52.kthopen.kth.se) (Ping timeout)
[15:33:17] *** Joins: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr)
[15:33:28] *** Joins: ksf (ksf@moz-475EAD32.adsl.hansenet.de)
[15:33:38] *** Joins: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP)
[15:35:23] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[15:37:02] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Konversation terminated!)
[15:37:10] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[15:37:17] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:38:46] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:39:15] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[15:40:05] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:40:53] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[15:41:19] *** ozten|errand is now known as ozten
[15:41:38] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[15:41:53] <ChrisMorgan> Preferred style: `impl X for Y {}` or `impl X for Y { }`?
[15:42:41] <bstrie> ChrisMorgan: former, I guess?
[15:42:48] <bstrie> who would even notice the difference :P
[15:42:56] *** Quits: ksf (ksf@moz-475EAD32.adsl.hansenet.de) (Connection reset by peer)
[15:43:04] *** Joins: ksf (ksf@moz-475EAD32.adsl.hansenet.de)
[15:43:08] <ChrisMorgan> (The "obsolete syntax" error message if you use `impl X for Y;` uses the former.)
[15:43:44] *** Joins: StarLight (StarLight@moz-9D8F5E9E.dynamic.avangarddsl.ru)
[15:43:52] *** Joins: Toussa (Mibbit@moz-1D48EEA3.iconmobile.com)
[15:44:03] <Toussa> Hi guys
[15:44:07] <ChrisMorgan> bstrie: I would notice the difference :-)
[15:44:07] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[15:44:10] <ChrisMorgan> Hi Toussa
[15:44:36] <bstrie> ChrisMorgan: I'll make a conscious effort to use `impl X for Y {    };` in the future, then :)
[15:44:36] <Toussa> I actually have a really interesting(for me question)
[15:44:48] <ChrisMorgan> bstrie: don't you dare!
[15:44:57] <bstrie> <--- history's greatest monster
[15:45:01] <ChrisMorgan> Toussa: fire away!
[15:45:13] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[15:45:41] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:45:49] <Toussa> The Option is implemented as an enum right? I just discovered the monads, and how powerfull they could be
[15:46:05] <bstrie> Toussa: they aren't really monads in the haskell sense
[15:46:10] <bstrie> we don't have that much power
[15:46:19] <bstrie> not enough jiggawatts
[15:46:25] <Toussa> ah
[15:46:28] <Toussa> =P
[15:46:43] <ChrisMorgan> Toussa: yes, it's just `enum Option<T> { Some(T), None }` and some helper methods
[15:46:54] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[15:46:55] <Toussa> maybe there is a way to implement such thing isn;t it?
[15:47:29] * ChrisMorgan has never tried *quite* hard enough to understand monads and so can't remember a thing about them now :-)
[15:48:07] <Toussa> ChrisMorgan: it's still a bit blurry for me still, but it looks to be a wonderfull tool to deal with side effect
[15:48:28] <Toussa> we obviously have other tool in rust
[15:48:59] <Toussa> but this can be pretty interesting to have such thing 
[15:50:09] <Toussa> well, maybe the best way is to give it a shot and try some implementation
[15:50:24] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[15:50:47] *** Joins: earlz2 (earlz@3BA8656D.F04AFED0.49B48A1E.IP)
[15:50:58] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[15:51:05] <earlz2> oooh. this looks nice.  http://words.steveklabnik.com/pointers-in-rust-a-guide
[15:51:18] *** Quits: skeet70 (skeet70@moz-156ACA63.msu.montana.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:51:34] *** Joins: dnyy (uid2106@moz-31ABA2C0.irccloud.com)
[15:51:43] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Client exited)
[15:51:49] <sanxiyn> Toussa: As I understand, Rust type system at the moment is not powerful enough to do monads.
[15:52:04] <rveach> earlz2: just finished reading that
[15:52:08] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:52:09] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[15:52:17] <Toussa> sanxiyn: a ok, do you know what is the limitation?
[15:52:19] <rveach> earlz2: it was pretty good
[15:52:52] <jdsanders> Is there an easy way to get the "raw" arguments to a program, rather than the ~[~str] returned by std::os::args()? I'm currently converting them back manually, but it seems trickier than I'd like: https://gist.github.com/jsanders/6908022#file-glut_hello_world-rs-L27-L35
[15:54:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:54:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:54:08] *** Quits: ksf (ksf@moz-475EAD32.adsl.hansenet.de) (Ping timeout)
[15:54:51] <earlz2> I have been waiting for someone to write a guide to pointers with real use cases of each type
[15:54:53] *** kimundi is now known as zz_kimundi
[15:54:59] <sanxiyn> Toussa: No type constructor
[15:55:04] <sanxiyn> I think that is the right term
[15:55:34] *** Joins: ksf (ksf@moz-92BAD2C2.adsl.alicedsl.de)
[15:55:41] <Toussa> sanxiyn: aaaaah indeed!
[15:56:32] <ChrisMorgan> What is a type constructor?
[15:57:03] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[15:57:34] *** Joins: reedlepee (Mibbit@EFDFDA63.8471470E.9D59D0D8.IP)
[15:57:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:58:09] <Toussa> sanxiyn: can't you fake it by giving the addess of a static function that construct your type something like Type::new, and you end up with something like &Type::new?
[15:58:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:58:41] <sanxiyn> Toussa: No idea
[15:59:09] <Toussa> sanxiyn: i'll try that and give feedback
[15:59:27] <sanxiyn> Toussa: Without type constructor, one can't do general monad, but any particular instantiation of monad can be done
[15:59:38] <sanxiyn> See src/test/run-pass/monad.rs for an example
[15:59:56] <Toussa> ok im gonna watch that
[16:01:01] <ChrisMorgan> nmatsakis: whether I should have or not is another question, but I've finished (I think—it's still building, but it's got far enough into building librustc that I'm fairly confident) fixing the problems and have updated my augmented-assignment branch.
[16:01:02] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[16:01:14] <ChrisMorgan> Now that it's 3:01am, it really *is* time for bed :P
[16:01:26] * ChrisMorgan is crazy
[16:01:44] <sanxiyn> ChrisMorgan: UTC+11?!
[16:01:53] <ChrisMorgan> sanxiyn: AEDT
[16:02:10] <sanxiyn> Ah DST
[16:02:12] <ChrisMorgan> I'm afraid Rust has been very bad for me. My Uni marks have been suffering, I lose sleep... so addicting!
[16:02:21] <sanxiyn> :(
[16:02:38] <ChrisMorgan> :-)
[16:02:41] <sanxiyn> ChrisMorgan: I lost my marks to PyPy. Not sure how I feel about that.
[16:03:20] *** Quits: maik (maik@moz-7EC83788.uni-koblenz.de) (Ping timeout)
[16:03:25] <sanxiyn> (This was when PyPy was 1000x slower than CPython)
[16:03:43] * ChrisMorgan figures Rust is only young once
[16:03:50] *** Quits: Ferreus (ferreus@moz-C9D9FEC8.dip0.t-ipconnect.de) (Ping timeout)
[16:04:28] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:05:28] <bstrie> ChrisMorgan++
[16:05:44] <ChrisMorgan> In writing rust-http I'm also getting to influence an extremely commonly used part of the language heavily and ensure that Rust's type system gets used well (I was concerned that if anyone else did it string typing might prevail, which I would hate to see).
[16:06:31] * ChrisMorgan hasn't had the will-power to take a break from Rust like cmr is
[16:06:33] <bstrie> ChrisMorgan: I meant to ask about your use of enums over strings in rust-http
[16:06:36] <bstrie> curious how well it works
[16:06:46] <ChrisMorgan> Some other time. Bed now.
[16:06:48] <bstrie> because I tried to use the file reading interface in io, and the use of enums is very painful
[16:06:52] <bstrie> truetrue
[16:06:53] <bstrie> good night :)
[16:07:18] *** Quits: doomlord_ (servitor@moz-6732E9D4.range86-184.btcentralplus.com) (Connection reset by peer)
[16:07:23] *** Quits: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP) (Ping timeout)
[16:08:22] *** Quits: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[16:08:35] <nmatsakis> ChrisMorgan: nice work
[16:10:17] *** Joins: doomlord_ (servitor@moz-6732E9D4.range86-184.btcentralplus.com)
[16:11:29] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[16:12:52] *** Parts: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) ()
[16:14:12] *** Joins: rail44 (Mibbit@moz-327E5E76.m-net.ne.jp)
[16:14:22] <myname> i am missing my short little ternary operator :(
[16:14:25] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[16:14:35] *** Quits: ksf (ksf@moz-92BAD2C2.adsl.alicedsl.de) (Ping timeout)
[16:14:36] *** Joins: ksf (ksf@moz-2012C4C8.adsl.alicedsl.de)
[16:15:13] <rail44> https://gist.github.com/rail44/7029201
[16:16:43] <rail44> why can I compile this code without any waning and error?
[16:17:07] <reedlepee> bstrie: Hi.. 
[16:17:35] <bstrie> reedlepee: hello. did you get a hold of tjc yesterday?
[16:17:49] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[16:18:17] <reedlepee> bstrie: I would like to work on https://github.com/mozilla/rust/issues/4386 . This is opened by you.. Could you help me with this bug..
[16:18:20] <jdm> rail44: why should it not?
[16:18:22] <bstrie> oh ho
[16:18:25] <bstrie> a bug of mine eh
[16:18:37] <rail44> is it duplication definition?
[16:18:38] <klutzy> was there any major changes on makefile/libuv?
[16:18:58] *** Tobbi_ is now known as Tobbi
[16:19:03] <reedlepee> bstrie: no actually i got to talk to brson . brson suggested me this bug!!
[16:19:07] <klutzy> I've just got `make` failure report from both macosx and windows
[16:19:59] *** Tobbi is now known as IRCMonkey63043
[16:20:17] <reedlepee> bstrie: Could you explain what needs to be done to fix the bug !!
[16:20:21] <jdm> rail44: we have hygenic macros for some identifers; I think functions are given unique names in macros.
[16:20:28] *** Quits: Toussa (Mibbit@moz-1D48EEA3.iconmobile.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:20:29] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[16:20:50] <bstrie> reedlepee: let me think for a moment
[16:20:52] <bstrie> hm
[16:21:13] <adridu59> r? https://github.com/mozilla/rust/pull/9868 bstrie
[16:21:17] *** Quits: jordyd (jordyd@moz-BB628E0D.seg48.ucf.edu) (Ping timeout)
[16:21:39] *** Joins: jordyd (jordyd@moz-BB628E0D.seg48.ucf.edu)
[16:21:48] <rail44> jdm: i see. thank you.
[16:22:42] <rail44> jdm: so, it's not bad thinking to write code using behavior isnt it?
[16:22:46] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[16:22:59] *** Parts: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) ()
[16:23:07] *** Joins: ksf_ (ksf@moz-7130248A.adsl.alicedsl.de)
[16:23:23] *** Quits: jordyd (jordyd@moz-BB628E0D.seg48.ucf.edu) (Ping timeout)
[16:23:26] *** Quits: ksf (ksf@moz-2012C4C8.adsl.alicedsl.de) (Ping timeout)
[16:23:28] <acrichto> bstrie: pong
[16:23:40] <jdm> rail44: no.
[16:24:09] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[16:24:38] *** Joins: mib_c3egox (Mibbit@moz-A6AF8067.ga.at.cox.net)
[16:24:43] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[16:24:53] <mib_c3egox> Is it just me or is this article posted on HN a load of crap http://words.steveklabnik.com/pointers-in-rust-a-guide ?
[16:25:00] <mib_c3egox> Sorry if author is in here
[16:25:15] <cmr> mib_c3egox: in what way?
[16:25:23] <jdm> mib_c3egox: yep, the author's here
[16:25:35] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[16:25:38] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[16:25:47] <cmr> erickt: pong
[16:25:51] <sanxiyn> mib_c3egox: Looks fine to me
[16:26:31] <cmr> mib_c3egox: that blog post was rejected from the tutorial only because it duplicated content, but it's accurate and good content.
[16:26:34] <mib_c3egox> Says "For smaller structs, this way will be more efficient." right underneath an example using borrowed pointers
[16:26:53] <mib_c3egox> How do borrowed pointers have any overhead
[16:27:26] <sanxiyn> mib_c3egox: You need to dereference it?
[16:27:35] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[16:27:36] <cmr> mib_c3egox: that example isn't using borrowed pointers at all.
[16:27:41] <sanxiyn> That is, if you can pass int, passing int* will be (slightly) less efficient
[16:28:31] *** Joins: jhenahan (jhenahan@B3761908.1CF6F642.6C361E84.IP)
[16:28:47] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[16:28:54] <mib_c3egox> cmr: fn transform(p: &Point) -> Point ?
[16:29:10] <mib_c3egox> It is in the example that he says not to do and underneath it says there is too much overhead
[16:29:11] <cmr> Oh, two examples up.
[16:29:15] <adridu59> acrichto: do you know why is this for? https://github.com/mozilla/rust/blob/master/mk/docs.mk#L23
[16:29:28] <adridu59> what*
[16:29:38] <sanxiyn> mib_c3egox: Still looks fine to me
[16:29:42] *** Joins: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP)
[16:29:43] <acrichto> adridu59: I wondered myself when I saw things like that... it may just be some super old makefile rule
[16:29:52] <cmr> mib_c3egox: it doesn't say there is too much overhead, it says there *is* overhead.
[16:30:19] <mib_c3egox> cmr: Yea well how is there overhead for a borrowed pointer?
[16:30:29] <sanxiyn> mib_c3egox: Dereferencing it
[16:30:32] <cmr> mib_c3egox: You need to dereference it.
[16:31:05] <adridu59> acrichto: do you think I should drop it? must be what makes the error on the buildbot, I dropped the other one but I switcher version.html on inline using --include-body for it
[16:31:18] <adridu59> I'm trying to rebuild without this rule
[16:31:24] <mib_c3egox> cmr: Oh so you cannot pass unboxed values toa  borrowed pointer?
[16:31:27] <cmr> Makes codesize bigger and adds an indirection. For tiny structs, it's cheaper just to put it on the stack.
[16:31:29] <adridu59> I've got some time seing bors queue
[16:31:30] *** Joins: sinma (seb@moz-6A11C47C.fbx.proxad.net)
[16:31:33] <sinma> Hi
[16:31:34] *** Joins: mib_06jlba (Mibbit@moz-8F90A6FB.dk.customer.tdc.net)
[16:31:36] <cmr> mib_c3egox: You can.
[16:31:37] <acrichto> adridu59: do you have the err logs for that build?
[16:31:39] <bstrie> reedlepee: I'm going to put more information on how to fix that bug in the comments section, but first I need to figure out some more details. sorry for the delay
[16:31:45] *** pmoore is now known as pmoore|weeeeeeeekendddddd
[16:31:47] <sinma> I saw that there are a Japanese traduction of the main tutorial
[16:31:52] *** IRCMonkey63043 is now known as Tobbi
[16:31:54] <sinma> So if I make a modification of the doc
[16:31:57] <sanxiyn> sinma: Where?
[16:32:11] <mib_c3egox> cmr: But it doesn't add any overhead...
[16:32:15] <sinma> On Github, doc/po/ja
[16:32:18] <sanxiyn> Ah right
[16:32:27] <adridu59> acrichto: I'm trying to find it but I pushed new commits...
[16:32:32] <cmr> mib_c3egox: let x = 5i; foo(&x);
[16:32:48] <cmr> mib_c3egox: for foo to access the value it is passed, it needs to dereference the pointer. That is the overhead.
[16:32:53] <sinma> So if I make a modification of the doc, must I change the po files in ja subfolders?
[16:32:55] <acrichto> adridu59: eh, bors will make another one if it needs to :)
[16:33:03] <adridu59> acrichto: from what I've seen it just said "Error 1: doc/css/rust.css" without further precision
[16:33:05] <erickt> cmr: hey there. Are you going to be keeping up with TWiR while you're off at school? If so, I wanted to let you know I got https://github.com/erickt/rust-zmq and https://github.com/erickt/rust-mustache working with Rust HEAD again
[16:33:13] <cmr> erickt: Yes, and thanks!
[16:33:15] <reedlepee> bstrie: dere ?
[16:33:16] <mib_c3egox> cmr: Maybe I just don't understand why the Rust compiler needs to use a pointer in that case... why cannot it just hardcode the mem location into assembly
[16:33:22] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Client exited)
[16:33:33] <erickt> cmr: great!
[16:33:34] <cmr> mib_c3egox: well if it's inlined the indirection will be removed entirely.
[16:33:34] <mib_c3egox> Also, underneat "Here’s the rule of thumb: only return a unique or managed pointer if you were given one in the first place." He says don't do: fn foo(x: ~int) -> ~int
[16:33:34] *** Quits: ksf_ (ksf@moz-7130248A.adsl.alicedsl.de) (Quit: Leaving)
[16:33:37] <mib_c3egox> Which I don't understand
[16:33:41] <acrichto> erickt: you should add it to rust-ci !
[16:33:50] <sinma> Cause I’m doing French translation on a forked repositorie, so I can correct English then French
[16:34:15] *** Parts: mib_06jlba (Mibbit@moz-8F90A6FB.dk.customer.tdc.net) ()
[16:34:27] <sinma> Must I contact directly the translator? Or are ther a special workflow?
[16:34:39] <erickt> acrichto: I already added rust-zmq :) travis-ci was being a bit slow last night for rust-mustache, but I'll see if it ran now
[16:34:53] <cmr> mib_c3egox: but it can't "hardcode" the value because it's arbitrary.
[16:34:56] <sanxiyn> sinma: No idea, but common sense says you won't need to update translation to languages you don't know?
[16:35:22] <sinma> sanxiyn: so must I contact the japanese translator to tell him that he needs to make changes?
[16:35:46] *** Joins: FreeFull (freefull@31BCA4E6.5B0E29BE.159B5998.IP)
[16:35:55] <sanxiyn> sinma: Can't hurt, I guess
[16:36:05] <sanxiyn> sinma: We don't have workflow decided yet
[16:36:19] <sinma> Ok, so I’ll continue translating then avert him after pull request
[16:36:21] <sanxiyn> sinma: makoto.nksm@gmail.com
[16:36:41] <erickt> acrichto: I love that rust-ci is becoming our registry of maintained rust projects. I was sad that we lost that when cargo-central went away
[16:36:45] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:36:52] <acrichto> erickt: I'm also loving this, it's so useful!
[16:36:57] <sanxiyn> But then, I guess translation team could prefer to get notification, or perfer not to, updating before the release in batch
[16:36:58] <sinma> sanxiyn: is it better to correct English doc first?
[16:36:59] <sanxiyn> Who knows
[16:37:04] <sanxiyn> sinma: I think so
[16:37:11] <adridu59> sinma: good to see you! I did read your article
[16:37:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:37:24] <mib_c3egox> k
[16:37:33] <sinma> sanxiyn: the email address is the translation team’s one?
[16:37:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:37:42] <sinma> adridu59: thank you very much
[16:37:57] <sanxiyn> sinma: I don't know. I just did git log doc/po/ja
[16:38:05] *** Quits: rail44 (Mibbit@moz-327E5E76.m-net.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[16:38:34] <sinma> I know that email address of the translator is in po file
[16:38:45] <bstrie> reedlepee: I sent you a private message, it's getting crowded in here :P
[16:39:07] <sinma> I’m a git noob, so how to pull request on specific files? git add myfile then git pull request?
[16:39:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:39:42] <adridu59> sinma: pull request is done on Github, it isn't part of git
[16:40:02] <sinma> Oh yes
[16:40:18] <adridu59> sinma: to make a specific pull request start from a new clean branch then import the changes you want to PR
[16:40:27] <sinma> adridu59: argh
[16:40:37] <sinma> Didn’t know how to manage branches
[16:41:07] <adridu59> sinma: git checkout. what branch are you on currently? if you're on master you have some moves to make
[16:41:23] <sinma> I think I’m on master
[16:42:02] <adridu59> sinma: ok, you should create a branch first when you're creating a new feature, let's speak on PM
[16:42:29] *** Quits: mib_c3egox (Mibbit@moz-A6AF8067.ga.at.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:43:52] <doomlord_> yikes. new errors in the latest compiler.. "macro definitions are not stable enough for use.."
[16:44:15] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[16:44:18] <cmr> doomlord_: smack a #[feature(macros)] on it (or whatever the feature gate is)
[16:44:22] <sanxiyn> doomlord_: #[feature(macro_rules)];
[16:44:33] <doomlord_> ok i see that now in the output
[16:44:40] <sanxiyn> cmr: Macros are not gated, macro definitions are.
[16:44:57] <doomlord_> oh so the inbuilt ones are considered safer perhaps
[16:44:59] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[16:45:19] <sanxiyn> Not really safe/unsafe thing, but "stable"
[16:45:20] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[16:45:22] <sanxiyn> as in error message
[16:46:12] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[16:47:18] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[16:47:58] <doomlord_> is there a compileer switch for it -Z or something
[16:48:26] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[16:48:45] <sanxiyn> No, put #[feature]; at the crate file
[16:51:24] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[16:52:13] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:52:31] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:53:34] <cmr> Right
[16:53:36] <doomlord_> i just tried that at the start of the crate-file, but it still gives me the error, should it go somewhere else 
[16:53:51] <cmr> doomlord_: the idea is that we can keep the macros backwards compatible, but maybe not macro_rules!
[16:54:00] <cmr> doomlord_: did you forget the semicolon?
[16:54:07] <doomlord_> yes of course i did lol
[16:54:14] <cmr> heh
[16:54:17] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[16:54:36] <sanxiyn> That should be warning or so
[16:54:52] <sanxiyn> (since that would apply #[feature] to something other than crate, which is wrong)
[16:55:06] <doomlord_> i can get of my main  macros, and i guess the debug ones i like might have standard equivalents by now
[16:55:18] *** zz_kimundi is now known as kimundi
[16:55:26] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[16:55:29] <cmr> doomlord_: there's no problem with using them, but we're not commited to backwards compat of them once we hit 1.0
[16:55:30] <doomlord_> the way i did "trace!"  and dumping debug expressions
[16:55:37] <doomlord_> ok
[16:55:47] <doomlord_> will 1.0 have multi-item
[16:55:56] <sanxiyn> doomlord_: No idea
[16:55:58] <doomlord_> looking forward to that
[16:56:15] <sanxiyn> Although multi-item macro certanily won't block 1.0
[16:56:21] <sanxiyn> But if someone implements it...
[16:56:32] *** Quits: jhenahan (jhenahan@B3761908.1CF6F642.6C361E84.IP) (Ping timeout)
[16:57:12] *** Quits: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net) (Quit: Leaving)
[16:58:47] *** bent is now known as bent|mtg
[16:59:12] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[16:59:15] *** Quits: FreeFull (freefull@31BCA4E6.5B0E29BE.159B5998.IP) (Ping timeout)
[16:59:27] <adridu59> acrichto: seems to work fine without the odd rule
[16:59:40] <acrichto> adridu59: I would believe that
[17:01:01] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[17:01:18] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Quit: echristo)
[17:01:34] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[17:02:26] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[17:02:46] <zokier`> how do I build a c-language component of a library with rustpkg? can i put some magic into pkg.rs or something that will invoke Makefile
[17:03:41] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[17:03:54] <acrichto> zokier`: I believe the idea is for you to use pkg.rs and the helpers in rustpkg::api, but I'm not sure that they're completely ready for use just yet
[17:03:56] *** Joins: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP)
[17:04:06] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[17:04:20] <zokier`> is rustpkg::api documented somewhere?
[17:04:33] <acrichto> sadly not yet, but soon hopefully!
[17:04:43] <acrichto> tjc would know all the nitty-gritty details
[17:04:58] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[17:05:02] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[17:05:26] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[17:06:45] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:08:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:08:10] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[17:08:55] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:08:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[17:09:20] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[17:09:47] *** Joins: test_fxos_nick (nodebot@moz-7B0110AD.mv.mozilla.com)
[17:09:53] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:10:11] *** Quits: test_fxos_nick (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[17:10:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:10:23] *** Quits: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[17:11:23] *** Joins: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca)
[17:11:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:12:19] <doomlord_> std::path::posix::Path ... should this work  
[17:13:11] <doomlord_> i've tried  have use std::path;  use std::path::posix;   use std::path::posix::path    
[17:14:09] <doomlord_> std::path::Path       std::path::posix::Path
[17:15:06] <doomlord_> http://static.rust-lang.org/doc/master/std/path/posix/struct.Path.html
[17:15:06] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[17:15:32] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[17:15:34] *** Parts: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) ()
[17:15:55] <doomlord_> ah
[17:16:27] <doomlord_> std::path::PosixPath ok
[17:17:05] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[17:17:28] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[17:17:30] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:17:38] <adridu59> acrichto: does the buildbot have any rule to move the css file over to the website or something?
[17:17:53] <adridu59> I just created a css/ folder, is that what gives errors on the buildbot?
[17:17:53] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:18:03] <acrichto> adridu59: it uploads doc/ do aws I believe
[17:18:37] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[17:18:38] <doomlord_> yikes it still doesnt work
[17:18:44] <adridu59> I do not know that command... so basically it's not a potential source of errors?
[17:19:00] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[17:19:00] <acrichto> adridu59: what errors are you talking about?
[17:19:58] *** Joins: kr0e (Mibbit@moz-B054486D.dip0.t-ipconnect.de)
[17:20:05] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Ping timeout)
[17:20:18] <doomlord_> arrghht
[17:20:33] <doomlord_> http://static.rust-lang.org/doc/0.8/std/path/fn.PosixPath.html
[17:20:52] *** Quits: kr0e (Mibbit@moz-B054486D.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[17:21:04] <adridu59> acrichto: when bors tried to build with my changes last time, the log just said "Error 1: doc/css/rust.css"
[17:21:17] <adridu59> something like that
[17:21:59] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[17:22:38] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[17:22:54] <doomlord_> what could i be doing wrong.. i can't seem to see std::path::PosixPath; 
[17:23:04] <acrichto> adridu59: hm I think I'd need to see the logs again
[17:23:20] <adridu59> acrichto: first one http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/2002
[17:23:23] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[17:23:27] <adridu59> second http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/2017
[17:23:36] <adridu59> it failed on "cp: doc/css/rust.css"
[17:23:43] *** Quits: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[17:24:00] <doomlord_> doesn't matter what i try with 'use' and the reference itself :(
[17:24:23] <adridu59> maybe it's caused by that rule
[17:24:50] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:25:21] <acrichto> adridu59: I think those rules are incredibly old
[17:25:30] <acrichto> they're just copying css in to the right lpace
[17:25:37] <doomlord_> should std::path::posix::Path work?
[17:25:40] <acrichto> they're already in the right place though, so the rules can just get removed
[17:26:08] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:26:32] <adridu59> acrichto: I just need a new r+, sir https://github.com/mozilla/rust/pull/9868 :)
[17:27:07] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Client exited)
[17:27:22] <acrichto> adridu59: thanks!
[17:27:35] <adridu59> acrichto: thank you! hopefully it'll work now
[17:28:16] <Eridius> doomlord_: what are you trying to do?
[17:28:27] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[17:28:35] <Eridius> doomlord_: std::path::PosixPath is a `pub use` of std::path::posix::Path
[17:28:40] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[17:28:57] <doomlord_> i had some code using a collection of paths  ;  just updated to latest rust
[17:29:24] *** Quits: autra (augustin@moz-2EA7A1DF.fullsix.com) (Ping timeout)
[17:29:55] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:30:09] *** flaper87 is now known as flaper87|afk
[17:30:28] *** Quits: oberstet (quassel@moz-C51EF865.dynamic.mnet-online.de) (Client exited)
[17:31:32] *** Joins: ofeldt- (ofeldt@moz-EC2920C3.dip0.t-ipconnect.de)
[17:32:34] *** Quits: ofeldt (ofeldt@moz-90CA896C.dip0.t-ipconnect.de) (Ping timeout)
[17:33:00] *** Quits: fabiand (fabiand@moz-3B259832.adsl.alicedsl.de) (Quit: Verlassend)
[17:33:21] *** Quits: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net) (Ping timeout)
[17:33:42] <doomlord_> i have a ' use std::path::PosixPath' at the top of my cratefile and references to PosixPath(..)
[17:34:22] <doomlord_> i've tried many combinations of use and the actual reference 
[17:34:33] <doomlord_> std::path::posix::Path  etc
[17:35:13] <doomlord_> it should just be 'use', right, nothing to 'mod' to get thjis?
[17:35:22] <doomlord_> (std::... should be there by default)
[17:36:05] <cmr> Yes
[17:36:33] <cmr> rusti: use p = std::path::posix::Path; 42i
[17:36:34] -rusti- <anon>:9:13: 9:40 warning: unused import, #[warn(unused_imports)] on by default
[17:36:34] -rusti- <anon>:9          use p = std::path::posix::Path; 42i
[17:36:34] -rusti-                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[17:36:34] -rusti- 42
[17:36:35] <doomlord_> http://static.rust-lang.org/doc/0.8/std/path/fn.PosixPath.html   <<< i think this is the functoin i needed
[17:37:06] <cmr> doomlord_: you need Path::new() now
[17:38:00] <doomlord_> ok that works thanks
[17:38:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:39:24] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[17:40:22] *** Joins: themgt (themgt@moz-B8C84832.baf.movistar.cl)
[17:40:34] <ercxx> Can I access a variable that exists in a function A from a function B which is defined in A's body.
[17:40:36] <ercxx> ?
[17:41:13] <cmr> ercxx: no, B would need to be a closure, not a function.
[17:41:34] <kimundi> ercxx: ANd even then, it depends on the kind of closure
[17:41:49] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[17:41:49] <ercxx> so it's kinda hairy, stay away
[17:41:51] <ercxx> ok
[17:42:02] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[17:42:23] *** Quits: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[17:46:12] *** Joins: Ferreus (ferreus@moz-B7818BDD.pools.arcor-ip.net)
[17:47:51] *** Quits: KindOne (KindOne@moz-AF4FC72D.dynamic.ip.windstream.net) (Ping timeout)
[17:48:03] <doomlord_> were you using ty::ctxt_  ty_t_opaque in rustdoc, seems this si private now , is there a replacement
[17:48:03] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[17:48:12] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[17:48:45] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:49:11] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Ping timeout)
[17:49:12] <andre_> was `foo(fn(x) { blah(x); })` ever considered as syntax for closures?
[17:49:56] <doomlord_> yikes :(
[17:50:45] <doomlord_> ah pub type ctxt ...
[17:51:07] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[17:52:13] *** Joins: KindOne (KindOne@moz-AF4FC72D.dynamic.ip.windstream.net)
[17:52:57] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[17:53:08] *** Joins: DeTeam (DeTeam@moz-76DDA368.dyn.broadband.iskratelecom.ru)
[17:53:42] *** pmoore|weeeeeeeekendddddd is now known as pmoore|away
[17:53:48] *** Joins: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP)
[17:54:00] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:57:12] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:57:12] *** ChanServ sets mode: +ao brson brson
[17:57:33] <doomlord_> everything works again :)
[17:58:12] *** Joins: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP)
[17:59:38] <kimundi> andre_: Why would you want that syntax?
[18:00:15] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:00:33] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:00:33] *** Joins: heftig (heftig@moz-895B551B.dip0.t-ipconnect.de)
[18:01:08] <andre_> kimundi: i don't really like the pipes to define argument list (even though i'm a rubyist too)
[18:01:15] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:01:16] *** ChanServ sets mode: +ao brson brson
[18:01:41] <kimundi> andre_: hm. well the idea behind the syntax is to be as lightwight as possible
[18:02:00] *** Joins: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP)
[18:02:07] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:02:25] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Ping timeout)
[18:02:30] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[18:02:33] <kimundi> foo.map(|x| x + 1) vs foo.map(fn(x) x + 1)
[18:02:36] <eddyb9> andre_: I'm sure they'd use something nicer if it was available
[18:02:57] <andre_> kimundi: ok, just thought it had already been proposed in the past, it seems a natural syntax for me because fn() looks like an anonymous function definition
[18:03:08] <andre_> maybe it's too javascript-like :p
[18:03:15] <kimundi> there used to be foo.map(_ + 1) as suagr too, but it got removed because it made the fact that it's just a closure unclear
[18:03:47] <eddyb9> andre_: ES6 has x => x + 1, "function" has very limited uses now
[18:03:56] <kimundi> andre_: Well, we already have ~ 4 different kind of function types, and there will be an reformation of them before 1.0, so
[18:04:09] <eddyb9> (limited because who the fuck would type "function" again?)
[18:04:37] <andre_> i type fun<tab> but i see the point :)
[18:05:07] <eddyb9> you can use {fn() {}}.fn if you need an unbound function
[18:05:24] <eddyb9> if you have more functions, class or object methods are the way to go
[18:05:33] <Earnestly> \x = x + 1? :p
[18:05:39] <eddyb9> pls no
[18:05:51] *** Quits: topspin (allenc@moz-3A4A8509.frii.com) (Quit: leaving)
[18:06:10] <eddyb9> whoever said we don't have enough paren-like symbols was right
[18:06:29] *** Joins: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP)
[18:06:41] <Earnestly> foo.map(+1)
[18:07:01] <eddyb9> Earnestly: that's foo.map(1)
[18:07:22] <Earnestly> There’s an implicit addition?
[18:07:38] *** Joins: skeet70 (skeet70@A0A6F0BD.C24BC101.B6E96A0D.IP)
[18:08:02] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Quit: WeeChat 0.4.0)
[18:08:16] <eddyb9> I'd be a little surprised if there was no unary plus
[18:08:22] *** Joins: maik (maik@moz-FE60843D.dip0.t-ipconnect.de)
[18:08:29] <Earnestly> (point-free)
[18:08:47] <Earnestly> Or as the old languages called, Tacit
[18:09:06] *** Joins: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP)
[18:09:16] *** Quits: DeTeam (DeTeam@moz-76DDA368.dyn.broadband.iskratelecom.ru) (Quit: DeTeam)
[18:09:31] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:09:34] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:09:38] <skeet70> What should I use to clock/time a rust function?
[18:10:04] <strcat> for benchmarking? or a more specific thing
[18:10:15] <strcat> there's a #[bench] attribute for writing benchmarks as part of the unit test support
[18:10:18] *** Joins: squiddy (squiddy@moz-C106AB5F.adsl.alicedsl.de)
[18:10:22] <skeet70> Specifically for an experiment.
[18:11:01] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[18:11:05] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:11:08] <eddyb9> oh, if we're still talking syntax, any_fn`foo ${expr} bar` is a powerful raw interpolated (template) string in ES6. the function will be called with the string pieces and the values in between them
[18:11:22] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[18:12:16] <skeet70> #[bench] attribute?
[18:12:28] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:12:34] *** Joins: anon (Mibbit@moz-61BAEB66.bois.qwest.net)
[18:12:35] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:12:35] *** ChanServ sets mode: +ao brson brson
[18:12:35] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:12:52] <eddyb9> strcat: oh, that's cool, maybe I'll use that to compare jemalloc with SlamAllocator
[18:13:25] *** Joins: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP)
[18:15:01] <strcat> eddyb9: it's really hard to compare allocators
[18:15:24] <strcat> jemalloc tries to do very well in the long run by limiting the amount of fragmentation, etc.
[18:16:17] <eddyb9> I was going to do it by size class, and I'm expecting it to be faster/use less memory for the smallest allocations
[18:16:24] <eddyb9> strcat: oh, that's fancy
[18:17:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:18:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:19:41] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:19:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:20:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:21:15] <skeet70> strcat I don't know if #[bench] would work… I need to run this sort 10 reps per vector size, and average the run times. I've got everything written for this, just need a way to get the time so I can average it.
[18:21:40] <cmr> skeet70: there's things in extra::time
[18:22:58] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[18:23:03] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[18:23:03] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:23:32] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:24:09] <strcat> brson: pcwalton: is https://github.com/mozilla/rust/pull/9923 okay? it seems like an obvious thing to do until we implement a GC and figure out what the syntax is going to be
[18:25:00] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[18:25:00] *** Quits: KindOne (KindOne@moz-AF4FC72D.dynamic.ip.windstream.net) (Ping timeout)
[18:27:16] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[18:27:23] <Dcoder> i have a question/suggestion
[18:27:28] <Dcoder> probably too late at this point, but..
[18:27:38] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[18:27:39] <pcwalton> strcat: let's hold until meeting
[18:27:42] <pnkfelix> strcat: should we at least port rustc to use Rc first?
[18:27:51] <adridu59> acrichto: maybe that rule was useful in the end... log: http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/1130/steps/compile/logs/stdio
[18:28:03] <Dcoder> one major ("major") limitation of C-like languages is the lack of syntax for addition with carry and wide multiplication in the language
[18:28:04] <strcat> pnkfelix: well rustc would just enable the feature gate
[18:28:05] <pnkfelix> strcat: to provide further evidence that Rc suffices to replace current uses of @ ?
[18:28:24] <pnkfelix> strcat: (I understand that  having rustc enable the feature gate would be the other, easier option)
[18:28:26] <Dcoder> it would be great to have access to that without resorting to assembly
[18:28:39] *** Joins: ksf (ksf@moz-1B905B4D.adsl.hansenet.de)
[18:28:49] <acrichto> adridu59: I think the file just needs to exist
[18:29:08] <pnkfelix> strcat: (but it also would make the assertion that Rc suffices less credulous)
[18:29:11] <strcat> pnkfelix: it needs sugar to be a drop-in replacement, and I don't think we're going to want the sugar @mut currently uses
[18:29:22] * ksf thinks it's confusing not to allow mod foo; before use foo;
[18:29:25] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[18:29:52] <adridu59> acrichto: shall I put the rule back then? I'll like to get pointers on this, don't wanna spend too much time trying... as I said I don't have this error on my PC so it's really hard to hack on
[18:29:54] <strcat> I don't think it's credulous, it's definitely a drop-in replacement for any Freeze type, and if it's not Freeze you have to use the unchecked constructor letting you make cycles
[18:29:57] <cmr> ksf: it is confusing. the reasoning is that `use` shadows `mod`, so `use` goes after.
[18:30:10] <strcat> rustc uses a *lot* of @mut, due to legacy reasons
[18:30:14] <FreeFull> Rust allows a lot more abstraction than C does
[18:30:23] <acrichto> adridu59: try starting from a clean repo, this should be reproducable on your local checkout
[18:30:34] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[18:31:16] <adridu59> acrichto: my repo is latest master + my patches on top of it, it has always built fine with no errors
[18:31:22] <strcat> Dcoder: wide multiplication as in 128-bit floats/integers?
[18:31:30] <ksf> excuse me for being glib, but wouldn't it be a good idea to get rid of managed pointers in rustc in any case, so you don't really need a migration path? :)
[18:31:32] <acrichto> adridu59: I mean clean in terms of no ignored files in git, a clean checkout
[18:31:39] <Dcoder> yeah, 32x32 -> 64, or whatever hte register length is
[18:31:45] <acrichto> adridu59: you may have files sitting around not checked in which are preventing the errors on your machine
[18:31:51] <strcat> ksf: it's a huge, legacy codebase
[18:31:57] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[18:32:06] <strcat> it doesn't have ownership worked out, because it wasn't done in the first place
[18:32:15] <cmr> ksf: that's harder than it soudns.
[18:32:24] <strcat> it's really hard to retroactively move to lightweight references + clear owners
[18:32:33] <adridu59> acrichto: but if they're here, they have been generated, I deleted the local and rebased 2 hours ago
[18:32:51] <strcat> we get dynamic borrowck errors all the time when messing around with the code because it's really unclear
[18:32:57] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[18:33:05] <acrichto> adridu59: if they're generated files, then you need to make sure that there's makefile rules to generate them
[18:33:52] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Ping timeout)
[18:33:53] <adridu59> acrichto: I don't understand, if it wasn't the case I would have gotten the error too on my machine?
[18:34:00] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[18:34:12] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[18:34:16] <ercxx> I bumped into this issue yesterday: https://github.com/mozilla/rust/issues/6873 and issue was closed 3 months ago.
[18:34:34] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[18:34:39] <ercxx> I added a comment there. Is that enough?
[18:34:58] <adridu59> ercxx: https://github.com/graydon/triage
[18:35:04] <adridu59> maybe start an issue there
[18:35:06] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:35:22] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[18:35:51] *** Joins: rveach (kvirc@moz-7E54B3A2.hsd1.ca.comcast.net)
[18:36:00] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[18:36:03] <adridu59> acrichto: do the buildbot have latest pandoc?
[18:36:07] <pnkfelix> ercxx: you probably should either reopen the issue (6873) or open a new issue that links back to 6873
[18:36:13] <acrichto> ercxx: feel free to open a new issue, it could be something different nwadays
[18:36:22] <acrichto> adridu59: no they're a little outdated
[18:36:23] <pnkfelix> ercxx: just commenting on a closed issue fails to convey that there remains a bug
[18:36:26] <acrichto> adridu59: or at least I think
[18:36:47] *** Quits: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[18:36:50] <adridu59> acrichto: but I just recalled, the error was a make error
[18:36:53] <ercxx> ok
[18:36:57] <adridu59> ercxx: my bad
[18:37:03] <adridu59> I didn't understand the problem
[18:37:18] <acrichto> adridu59: I'm confused though, there are so many non-existent files/rules for all these target dependencies, yet it's been working somehow
[18:37:18] <skeet70> cmr thanks, the time stuff was what I needed
[18:38:56] <adridu59> acrichto: think I'll bring back the rule but edited (did some makefile edits before removing it completely, note that it has always worked on my computer...) so that could fix it, do you agree?
[18:38:57] *** ozten is now known as ozten|afk
[18:39:01] *** Joins: test_fxos (nodebot@moz-7B0110AD.mv.mozilla.com)
[18:39:08] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[18:39:21] <acrichto> adridu59: you should still be able to reproduce this locally, you should clean out all non-git files and see if it works
[18:39:37] *** Quits: test_fxos (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[18:39:37] <acrichto> adridu59: I do that normally by running "git clean -fdx"
[18:39:58] <adridu59> acrichto: I totally deleted the rust folder and pulled back from remote 2 hours ago but I can try that
[18:40:04] <anon> Quick question on rust, I'm trying to compile a helloworld rust program on windows7 and whenver I try to run "rustc" I get an error message telling me that libpthread-2.dll is missing. I read somewhere that I may have to run "rustc.exe" and I tried that and it still doesn't work. Any fixes?
[18:41:09] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[18:41:30] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Client exited)
[18:41:30] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Ping timeout)
[18:41:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:41:51] <adridu59> acrichto: but I did tests with my previous tree so you could be right, let's see
[18:41:55] <kimundi> anon: windows support is a bit tricky at the moment... you need to have mysys installed and do a little upgrade/downgrade dance with some of its libraries
[18:42:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:42:09] <kimundi> or is it mingw?
[18:42:12] <Earnestly> msys
[18:42:31] <Earnestly> (which is part of mingw)
[18:42:55] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[18:43:11] <anon> I have mingw installed
[18:43:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:43:58] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:44:29] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[18:45:09] *** Joins: KindOne (KindOne@moz-5EDF9D9.dynamic.ip.windstream.net)
[18:45:24] *** Quits: StarLight (StarLight@moz-9D8F5E9E.dynamic.avangarddsl.ru) (Connection reset by peer)
[18:45:58] *** Joins: rumpler (Mibbit@moz-5C847163.dip0.t-ipconnect.de)
[18:46:32] <anon> screw it I'll just install linux
[18:47:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:47:14] *** Joins: test_fxos (nodebot@moz-BBE3ABD.mv.mozilla.com)
[18:47:39] <eddyb9> good guy anon
[18:47:55] <rumpler> hello, a short question. is it possible to access COM-Objects with rust under os windows?
[18:49:05] <rumpler> sorry if this is a dump question at this location.
[18:49:21] <FreeFull> Not a dump question
[18:49:49] *** Joins: tjc (tjc@moz-80F8D2BA.hsd1.ca.comcast.net)
[18:49:49] *** ChanServ sets mode: +o tjc
[18:50:56] *** Quits: skeet70 (skeet70@A0A6F0BD.C24BC101.B6E96A0D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:51:04] *** Quits: test_fxos (nodebot@moz-BBE3ABD.mv.mozilla.com) (Client exited)
[18:51:18] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:55:49] *** Quits: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[18:56:25] *** Quits: anon (Mibbit@moz-61BAEB66.bois.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:56:38] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[18:57:30] <rumpler> is there any doc about something like that?
[18:58:47] *** Joins: MauricioC (mauricioc@moz-3A63F597.impa.br)
[18:59:28] <bstrie> rumpler: I doubt we have anything for that at this time
[18:59:58] <bstrie> "I evaluated rust a couple months ago but rejected it because it has pointers" "well what language did you end up choosing?" "lua" #shitHNsays
[19:00:12] <myname> hn?
[19:00:19] <jeffdb> hacker news
[19:00:21] <sfackler> hacker news
[19:00:22] <bstrie> you're better off not knowing
[19:00:23] <myname> ah
[19:00:28] <myname> okay
[19:00:58] <sfackler> for a good (bad) time, see https://twitter.com/shit_hn_says
[19:01:14] <Scriptor> that one's defunc, unfortunately
[19:01:54] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[19:02:14] <myname> is "run" some special word? i get an error message about something not implementing any method named run, but there is
[19:02:30] <bstrie> run is not special
[19:02:43] *** Quits: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:03:14] *** Joins: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net)
[19:03:17] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[19:04:01] <myname> humm
[19:04:25] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:05:05] <eddyb9> myname: are you using something which expects you to implement a trait for a certain structure?
[19:05:14] <rumpler> bsrrie: can you direct to some info?
[19:05:31] <myname> i am implementing a self made trait with said run
[19:05:49] <ksf> "If you have to make a mental effort to avoid the M&Ms when you pass the kitchen, that diminishes your productivity for the rest of the day"
[19:05:52] <ksf> actually, I found a gem.
[19:05:53] <eddyb9> myname: can you gist the relevant part, and the error?
[19:06:33] *** Quits: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca) (Quit: canhtak)
[19:07:09] <eddyb9> ksf: I'm like a rodent, if I have apples, peanuts, seeds, or other food items around, I eat continuously while working
[19:07:29] <ksf> chestnuts+raisins, here.
[19:07:31] <tjc> eddyb9: you'd love working at Mozilla
[19:07:37] <eddyb9> hahahaha
[19:07:57] <tjc> we don't have human-sized hamster balls, though
[19:07:59] <ksf> or as it's called in germany, "student fodder" (or "feed")
[19:07:59] <tjc> maybe in the new office :-)
[19:08:05] <eddyb9> pcmattman: bookmark ^
[19:08:17] <myname> https://gist.github.com/mynery/7046531
[19:08:24] <eddyb9> tjc: I got a mail from Google
[19:08:25] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[19:08:31] <tjc> eddyb9: oh, Google has way more snacks than us
[19:08:53] <tjc> if you are making a career decision solely based on office food, Google always wins :-)
[19:08:59] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[19:09:01] * eddyb9 was hoping to create some competition :/
[19:09:07] <sfackler> myname: you need a "use ui::UI;"
[19:09:16] <eddyb9> tjc: nah it was a lame automated mail
[19:09:19] <tjc> it's easier to have more food when you have 100 times as many employees :-)
[19:09:33] <Yoric> I seem to remember that their food budget is somewhat larger than our total budget, too.
[19:09:37] <eddyb9> they want something like a senior engineer and I'm not even 18 yet
[19:09:39] <myname> sfackler: huh?
[19:10:00] <sfackler> in main.rs
[19:10:03] <tjc> eddyb9: well, if you were 18 ten years ago, that might not have been an obstacle :-)
[19:10:07] <tjc> things are a little different now
[19:10:43] <eddyb9> tjc: don't get me started on bitching about the future
[19:10:53] <myname> sfackler: i can't. if i put it below pub mod ui, i get an error of use having to precede items
[19:10:55] <tjc> eddyb9: plastics. get into plastics.
[19:11:01] * tjc wonders if kids these days know that reference
[19:11:09] <sfackler> myname: it goes above pub mod ui
[19:11:12] * Yoric isn't a kid and doesn't know the difference.
[19:11:14] <eddyb9> tjc: plastic surgery?
[19:11:17] <earlz2> eddyb9: something about your name is familiar. Did you once frequent the osdev.org forums? 
[19:11:20] <myname> sfackler: that sounds very strange
[19:11:21] <Yoric> s/difference/reference/
[19:11:23] <tjc> eddyb9: nah, it's from a movie called "The Graduate"
[19:11:27] <tjc> set in the sixties
[19:11:30] * tjc goes back to fixing bugs ;-)
[19:11:43] <myname> but it seems to be right
[19:11:44] <myname> interesting
[19:11:56] <eddyb9> earlz2: pedigree, I was 12-14yo
[19:12:07] <myname> i don't get why, thoug
[19:12:33] <earlz2> ahhh.. you should frequent #quokforge more :) 
[19:12:44] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:12:57] <eddyb9> earlz2: on freenode?
[19:13:21] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:13:23] *** ozten|afk is now known as ozten
[19:13:28] <eddyb9> I'm in #pedigree, since pcmattman brought it from the dead
[19:13:43] <earlz2> yea
[19:13:45] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[19:13:52] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:14:02] <Leo`> strcat: https://github.com/mozilla/rust/pull/9909 fixed the bug in this PR
[19:14:04] <earlz2> It's been rather quiet the past year though
[19:14:26] <eddyb9> 4 years later, not sure if I can pull through the last year of highschool
[19:14:53] <eddyb9> I wouldn't feel like taking more school after this, but I would gladly replace highschool with uni
[19:15:11] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[19:15:26] *** Joins: _Vi (vi@527C345F.497AA854.B16B3BE6.IP)
[19:15:56] <eddyb9> a friend of mine went to Canada and then US, she managed to graduate one year earlier, and she says uni is awesome
[19:16:06] <Leo`> (or acrichto )
[19:16:18] <tjc> eddyb9: uni being awesome or not depends on where you go to uni :-)
[19:16:18] <eddyb9> I'm still here in this mudpit, barely getting anything done
[19:16:32] <tjc> but I don't have a good impression about high school in general (I didn't go to high school myself, so can't say)
[19:16:44] <eddyb9> wait, what?
[19:16:51] *** Quits: rumpler (Mibbit@moz-5C847163.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:16:55] <tjc> Yeah, I was a homeschooler. Or unschooler. I'm never sure which one to say
[19:17:02] <tjc> but I didn't go to school at all between kindergarten and college
[19:17:04] <acrichto> Leo`: hm, you were receiving an LLVM error on a constant cast of different sizes?
[19:17:13] <Leo`> acrichto: it's fixed
[19:17:15] <tjc> I used to proudly display my kindergarten diploma since it was my highest degree until I graduated college :-)
[19:17:17] <Leo`> acrichto:                                                                                      │ anshin
[19:17:22] <Leo`> fu
[19:17:24] <Leo`> paste failed
[19:17:35] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:17:44] <Leo`> acrichto: https://github.com/mozilla/rust/pull/9909#issuecomment-26622107 you can review it :P
[19:17:47] <acrichto> Leo`: I wouldn't consider it fixed in the sense that code will still generate weird llvm errors if there are different sizes
[19:17:57] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:18:02] <eddyb9> acrichto: it's not about different sizes
[19:18:05] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:18:15] <Leo`> acrichto: isn't it a LLVM problem if it's unable to relocate a 64 bits thing ?
[19:18:37] <acrichto> do we know what the problem inside of LLVM was?
[19:18:38] <eddyb9> acrichto: LLVM can't generate a relocation for a 32bit address in a 64bit box
[19:18:49] <eddyb9> and it errors out
[19:19:06] <acrichto> it sounds like we should provide an error  then instead of waiting for LLVM to die
[19:19:10] <eddyb9> acrichto: even more, using div in the constexpr makes LLVM crash when assembling
[19:19:28] *** Joins: geert (geert@moz-5EFDD81E.access.telenet.be)
[19:19:35] <acrichto> hm, it sounds like this isn't quite ready for merging then
[19:20:00] <Leo`> so what is the proper way to do ?
[19:20:02] <eddyb9> acrichto: LLVM's fault though. we'd need to find all the LLVM bugs then workaround for all of them
[19:20:20] <acrichto> eddyb9: it's not necessarily LLVM's fault if it's impossible
[19:20:22] <tjc> eddyb9: I filed a bug once for making rustc report LLVM errors in a nicer way
[19:20:29] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[19:20:33] <acrichto> if you have a dynamically linked symbol you can't divide by it because you don't knkow the value until runtime
[19:20:45] <tjc> https://github.com/mozilla/rust/issues/2975 (I decided it wasn't worth keeping open anymore, though, since we don't have as many of those anymore)
[19:21:11] <tjc> bbiab
[19:21:12] *** Quits: tjc (tjc@moz-80F8D2BA.hsd1.ca.comcast.net) (Quit: zzzzzzzzzz)
[19:21:25] <eddyb9> acrichto: no, divide the address of a symbol by a constant
[19:21:41] <acrichto> eddyb9: yes, we shouldn't even allow that, it doesn't really make sense
[19:21:47] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:21:47] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:21:54] <Leo`> mhhhm
[19:22:01] <eddyb9> acrichto: the problem is that rustc can't know the implementation details in LLVM
[19:22:03] <Leo`> so what should we do ?
[19:22:22] <acrichto> eddyb9: this isn't an implementation detail, this is a "dynamic linking makes this impossible" detail
[19:22:22] <Leo`> only allow a plain ptr-to-int cast without modifications ?
[19:22:32] <Leo`> it works for additionning
[19:22:38] <Leo`> but not for div
[19:22:39] <acrichto> for now, it sounds like we should disallow casts with operands of different sizes
[19:22:52] <acrichto> and then it also seems like we need to restrict what can be in constants in the first place
[19:22:52] <Leo`> acrichto: the div problem appears even with operands of same sizes
[19:23:15] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[19:23:16] <eddyb9> acrichto: for example, symbol_addr + const will work on certain architectures and binary formats
[19:23:23] <acrichto> the same-size-ness I think can be part of this pull, but the restrictions of what can be in a constant expression should probably be in a different pull reuqest
[19:23:32] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[19:23:48] *** Joins: pnkfelix (pnkfelix@82680D2B.9F7BDBDF.8B824544.IP)
[19:23:48] *** ChanServ sets mode: +o pnkfelix
[19:23:48] <Leo`> acrichto: so for now, what should I do in this PR ? just a size check ?
[19:23:48] <acrichto> eddyb9: we should still be at least filtering on impossible operations
[19:24:01] *** Quits: pnkfelix (pnkfelix@82680D2B.9F7BDBDF.8B824544.IP) (Connection reset by peer)
[19:24:05] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[19:24:07] *** Joins: pnkfelix (pnkfelix@82680D2B.9F7BDBDF.8B824544.IP)
[19:24:07] *** ChanServ sets mode: +o pnkfelix
[19:24:11] <acrichto> Leo`: yes, and emit a genuine span_err in the case that there's a faiure
[19:24:12] <strcat> Leo`: should prevent it from dying on 32-bit though
[19:24:21] <strcat> Leo`: and can you rebase out the rusti commit? since it's a no-op now
[19:24:26] <strcat> just need to rebase -i and delete the line
[19:24:31] <Leo`> strcat: yeah ok
[19:24:38] <Leo`> i fix that same-size thing and then I do it
[19:24:56] <eddyb9> Leo`: maybe add a compile-fail test for the different size cast
[19:24:58] <Leo`> btw it compiles fine a 32 bit... providen operands are on the same size
[19:25:05] <Leo`> eddyb9: yeah I was just about to say that
[19:25:10] *** Joins: obk (Mibbit@moz-C50DC051.jf.intel.com)
[19:25:20] <Leo`> btw strcat has the Makefile fix been merged ?
[19:25:22] <eddyb9> strcat: I do git pull --rebase parent master
[19:25:25] <adridu59> acrichto: compiles fine...
[19:25:26] <Leo`> if not, I keep it in the PR
[19:25:42] <eddyb9> strcat: where parent is set to the mozilla repo, in my fork working dir
[19:25:49] *** Quits: m314159 (marco@moz-161CB040.dynamic.surfer.at) (Quit: Lost terminal)
[19:26:02] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[19:26:40] <ksf> strcat, coming back to the discussion from yesterday, what about a -i <file> option (for --incremental) that saves some implementation-defined data?
[19:26:46] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[19:26:53] <acrichto> adridu59: perhaps those makefile rules are serving some mysterious purpose that I can't figure out
[19:26:59] <Leo`> acrichto: strcat should I also check sign-ness of the type ? casting a pointer to a signed int doesn't make much sense
[19:27:02] <ksf> ...principially, I mean.
[19:27:20] <obk> What is wrong with `fn foo(writer: &Writer) { writer.write_str(""); }` ?
[19:27:26] <acrichto> Leo`: I don't think that check would be too useful
[19:27:30] <eddyb9> Leo`: it's a noop, signedness is an interpretation when the sizes are the same
[19:27:43] <ksf> obk, Writer isn't a type, it's a trait.
[19:27:53] <eddyb9> Leo`: it's broken when casting to a larger type
[19:28:01] <ksf> fn foo<W: Writer>(writer: W) ...
[19:28:02] <acrichto> Leo`: you also may want to make sure that 'static foo: u64 = (other_function as u32) as u64' doesn't cause llvm to die
[19:28:14] <Leo`> okay
[19:28:20] <eddyb9> oh, I didn't think of that
[19:28:21] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[19:28:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:28:42] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[19:28:49] <Leo`> and to a smaller-size integer ? it will be truncated. Is that okay ?
[19:28:55] <obk> ksf: then I can't make `foo` an object method. "cannot call a generic method through an object"
[19:28:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:29:12] <obk> And why can't I have an &TraitName? I can have a ~TraitName...
[19:29:13] *** Parts: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) ()
[19:29:14] <eddyb9> acrichto: what's the closest LLVM channel?
[19:29:24] <ksf> obk, you can do impl<W: Writer>
[19:30:14] <obk> No, I need to implement something like pub fn my_special_print(&self, &Writer, extra-parameters)
[19:30:25] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[19:30:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:31:06] <Leo`> how do I get the size of a type with the LLVM binding ?
[19:31:09] <acrichto> eddyb9: llvm channel?
[19:31:30] *** Joins: dherman (dherman@moz-A7B57B40.bltmmd.fios.verizon.net)
[19:31:30] *** ChanServ sets mode: +ao dherman dherman
[19:32:31] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:32:53] <obk> So, there's no way to write `pub fn(&self, &Writer, more-stuff)` ?
[19:32:55] *** Joins: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com)
[19:33:16] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:33:26] *** Joins: tjc (tjc@moz-A979B497.tmodns.net)
[19:33:26] *** ChanServ sets mode: +o tjc
[19:33:41] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:33:51] <eddyb9> acrichto: IRC channel
[19:34:16] <acrichto> eddyb9: there's the official #llvm on irc.oftc.net
[19:35:00] <obk> Sorry, I meant: There's no way to write `trait Foo { pub fn bar(&self, &Writer, ... more parameters ...); }`?
[19:35:44] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:35:48] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[19:35:58] <obk> The above doesn't compile and if writing `trait Foo { pub fn bar<W: Writer>(&self, &W, ... more parameters ...); }` then one can't invoke `bar` via a `Foo` traint pointer because "cannot invoke a generic method via an object"
[19:36:00] <eddyb9> acrichto: thanks
[19:36:08] <obk> So, damned if I do, damned if I don't?
[19:40:19] <adridu59> acrichto: r? https://github.com/mozilla/rust/pull/9868 I brought back the rule with my previous edits... fingers crossed
[19:41:11] <adridu59> acrichto: do you know who handles the buildbots? maybe updating pandoc could be an option if it does not work
[19:41:25] <acrichto> adridu59: why would pandoc need to get updated?
[19:41:49] <adridu59> right, it was a make error! I'm tired
[19:42:16] <acrichto> no worries :)
[19:42:50] *** Quits: test-fxos-device (nodebot@moz-7B0110AD.mv.mozilla.com) (Client exited)
[19:42:56] *** Quits: ksf (ksf@moz-1B905B4D.adsl.hansenet.de) (Ping timeout)
[19:42:56] *** Joins: ksf_ (ksf@moz-3C341A4F.adsl.hansenet.de)
[19:43:58] *** Joins: zargony (zargony@moz-A17F33DF.versanet.de)
[19:45:06] <zargony> hi everybody
[19:45:39] *** Quits: tjc (tjc@moz-A979B497.tmodns.net) (Ping timeout)
[19:46:19] <zargony> I'm a bit stuck with using std::rt::io::net. Could anybody give me a hint if it's somehow possible to write to a TcpStream while a different task is doing the synchronous read?
[19:47:00] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[19:47:35] *** Joins: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca)
[19:48:43] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[19:50:04] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[19:50:25] <acrichto> zargony: right now a TcpStream has only one owner, so that wouldn't be possible
[19:50:46] <acrichto> but in theory there could be a utility which takes a Stream and returns an owned reader/writer pair for exactly that purpose
[19:52:01] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:52:03] *** Joins: tjc (tjc@moz-A979B497.tmodns.net)
[19:52:03] *** ChanServ sets mode: +o tjc
[19:52:05] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:53:08] <acrichto> zargony: but you're also not guaranteed that the implementation is thread-safe which would allow the split to be safe
[19:53:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:53:47] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[19:54:28] <FreeFull> It'd be nice if you could have safe Haskell-like networking
[19:54:45] <FreeFull> Where multiple threads reading/writing gets turned into something like an epoll
[19:54:52] <zargony> acrichto: I see. I tried to spawn a task that redirects reads/writes into different chan/port streams, but that didn't work well since I couldn't read or select from i/o and the port simultneously
[19:56:48] <acrichto> zargony: hm that is unfortunate
[19:56:57] <ksf_> zargony, what about splitting the whole thing into two, so you don't have to?
[19:57:00] <acrichto> this is where async I/O bindings would probably be useful as well
[19:57:56] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:59:23] <zargony> acrichto: shouldn't the low level socket descriptors the kernel provides be thread-safe? I was a bit surprised that I can't just clone the stream or somehow get a separate reader and writer
[19:59:59] <acrichto> zargony: you don't know about the internal state of the tcp stream that you're looking at. There could be statistic-tracking things which you don't know about which are racy
[20:00:00] <zargony> ksf_: splitting the whole thing?
[20:00:11] *** Quits: Ms2ger (Ms2ger@moz-92A79B55.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:00:22] <ksf_> zargony, doing what you just said doesn't work because you don't get separate readers and writers :)
[20:01:25] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:01:28] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:01:48] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:01:51] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[20:02:28] <strcat> acrichto: we should have a select working on arbitrary events
[20:02:30] <zargony> ksf_: I thought about trying to clone the stream and make sure that only one task reads. I'm not so familiar with libuv internals and not sure if this could work
[20:02:40] *** Quits: dherman (dherman@moz-A7B57B40.bltmmd.fios.verizon.net) (Quit: dherman)
[20:02:51] <strcat> acrichto: need to be able to do stuff like waiting for the next signal, timer or I/O event - whatever comes first
[20:03:10] <acrichto> strcat: yeah that would also solve this
[20:03:13] <eddyb9> Leo`: clang doesn't compile the pointer division in constexpr. error: initializer element is not a compile-time constant
[20:04:00] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:04:41] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[20:04:59] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[20:05:59] <ksf_> well, epoll certainly could do it.
[20:06:15] <zargony> I was just trying to write a simple chat server to try out the rt::io::net stuff. Having reader and writer combined works well as long as you only need to write after a previous read (like with http typically)
[20:06:32] <Leo`> eddyb9: okay
[20:06:40] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[20:08:12] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[20:09:19] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[20:09:36] <eddyb9> Leo`: but I got llc to crash with that div
[20:11:03] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:11:30] <sinma> hi, the float type has been removed so f32 or f64 for the doc examples?
[20:11:37] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[20:12:10] <sinma> (I edit the English doc)
[20:12:17] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[20:12:19] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[20:14:05] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[20:14:23] <eddyb9> sinma: f64 is what the old float used, I think
[20:14:53] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[20:15:07] <FreeFull> Does Rust have any support for 80-bit floats?
[20:15:26] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:15:53] *** Joins: ppet (Mibbit@moz-2FB60752.socal.res.rr.com)
[20:16:25] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[20:16:37] <Ke> 80-bit floats are a relic in the era of sse
[20:17:02] <Leo`> 80 bits floats ? I had never heard of that
[20:17:25] <eddyb9> x87
[20:17:26] <FreeFull> The x86 FPU registers are 80 bit
[20:17:38] <Leo`> han
[20:17:40] <Leo`> okay :D
[20:18:03] <FreeFull> Ke: More accurate than 64-bit
[20:18:10] <doomlord_> could it load and store 80bit
[20:20:24] <eddyb9> segfault: echo -e '@bar = constant i32 udiv (i32 ptrtoint (void ()* @foo to i32), i32 10)\n define void @foo() #0 { ret void }' | llc-3.4
[20:21:04] <kmc> doomlord_: yes
[20:21:07] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[20:21:18] <Ke> FreeFull: again that is not sse
[20:21:40] <Ke> most people will never see non-sse floats
[20:21:52] <eddyb9> 80bit is an intel hack
[20:22:14] <Ke> in fact 80bit floating point registers are so old they likely never existed
[20:22:27] <Ke> !
[20:22:42] <kmc> what
[20:22:46] <doomlord_> the old register stack idea  doesn't optimize well
[20:23:03] <FreeFull> Yes, you can load and store 80bit
[20:23:07] *** Parts: ppet (Mibbit@moz-2FB60752.socal.res.rr.com) ()
[20:23:17] <FreeFull> Although the recommendation has always been to load and store 64-bit instead
[20:23:21] * kmc learned too much about x87 by writing https://github.com/kmcallister/phosphene
[20:23:31] <Ke> heh
[20:23:39] <eddyb9> doomlord_: and it's a PITA to represent as IR
[20:23:41] *** Quits: squiddy (squiddy@moz-C106AB5F.adsl.alicedsl.de) (Ping timeout)
[20:24:03] <kmc> FreeFull: and compilers will sometimes skip converting intermediate results back to 64-bit, if you give e.g. -ffast-math, which leads to hilarity like http://www.exploringbinary.com/php-hangs-on-numeric-value-2-2250738585072011e-308/
[20:24:06] <eddyb9> doomlord_: you consider it a circular buffer, and you shift it around for every push/pop
[20:24:12] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:24:39] <eddyb9> doomlord_: 9 moves + whatever operation you were doing
[20:24:41] <kmc> hey everyone I wrote a little script to automate the process of running a Rust program under GDB to get a backtrace on task failure
[20:24:43] <kmc> https://gist.github.com/kmcallister/7047619
[20:24:51] <doomlord_> yikes
[20:24:59] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[20:25:41] <eddyb9> doomlord_: at least you can then consider the stack a fixed set of registers, there's no non-constant indexing
[20:26:08] <obk> In the name of all that has holes in it... don't use X87 :-) Once IEEE compatible floats became accessible via SSE, X87 has been phased out by "most everyone". For good reasons.
[20:26:36] <doomlord_> +1
[20:26:48] <obk> E.g., MS forbids using X87 in kernel mode; all modern compilers simply don't emit any X87 when running in 64-bit mode (unless forced to by the user).
[20:27:05] <eddyb9> doomlord_: I was writing a decompilator. the project was halted this summer, so I can start in a gamedev group. school started, that's halted as well, now I'll playing with kernels in Rust
[20:27:17] <doomlord_> in the middle there was mmx which was mutually exclusive with x87
[20:27:21] <eddyb9> *I'm playing
[20:27:29] <doomlord_> nice
[20:27:38] <doomlord_> haven't done anything so low level in a long time
[20:27:50] <eddyb9> I can't get anything done :(
[20:28:42] <FreeFull> kmc: Doing maths correctly and accurately with floating point is tricky
[20:28:47] <doomlord_> i last used x87 when porting a ps1 game to the PC in the pentium era 
[20:29:07] <doomlord_> i remember the shock that floating point was actually fast
[20:29:23] *** Quits: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:29:49] *** Joins: dherman (dherman@moz-A7B57B40.bltmmd.fios.verizon.net)
[20:29:49] *** ChanServ sets mode: +ao dherman dherman
[20:30:09] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:30:21] <FreeFull> kmc: Phosphene does run pretty smoothly with kvm enabled
[20:31:25] <kmc> cool
[20:31:52] <ksf_> x87 is actually pretty neat. do some math -> convert to rpn -> implement directly
[20:32:01] <kmc> that was for http://io.smashthestack.org/intro/
[20:32:03] <FreeFull> Good ol' io boot record demo compo
[20:32:03] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[20:32:32] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[20:32:41] <kmc> so when will rustc support 16-bit real mode x86 as a target???
[20:33:23] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:33:27] <kmc> don't think LLVM supports it :/
[20:33:30] <sfackler> does llvm support real mode?
[20:33:42] <sfackler> I've always had to write the assembly manually
[20:33:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:33:45] <Ke> I wouldn't mind unhosted rust, though it may be already supported
[20:33:45] <eddyb9> llvm? real? no, it's not
[20:33:46] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[20:34:13] <eddyb9> Ke: we have rust kernels and #rust-osdev now
[20:34:18] <ksf_> unhosted is rather extreme, but xen or say baremetalos would be a thing.
[20:34:54] <kmc> or write your own assembly stub to get into 64-bit mode, or borrow one, e.g. http://www.returninfinity.com/pure64.html
[20:34:56] <Ke> eddyb9: does it seccomp?
[20:35:02] <eddyb9> wait, what does unhosted mean?
[20:35:04] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:35:11] <eddyb9> (in this context)
[20:35:17] <ksf_> eddyb9, kernelless, I'd think.
[20:35:17] <Ke> eddyb9: C99 unhosted
[20:35:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:35:27] <Ke> something that can run ef on AVR
[20:35:31] <ksf_> no brk to implement malloc with.
[20:35:34] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[20:35:39] <eddyb9> Ke: ah, sure
[20:35:47] <zargony> acrichto / ksf_: can you think of an easy workaround to get separate reader and writer from a TcpStream without modifying libstd? I suppose simply cloning the underlying RtioTcpStream wouldn't be safe? ;)
[20:35:55] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:35:58] <nwmcsween> imo I don't think rust is suited for low level os programming
[20:35:59] <eddyb9> Ke: but AVR isn't supported by rustc yet
[20:36:03] <ksf_> zargony, I don't think so.
[20:36:07] <Ke> what about seccomp?
[20:36:13] <acrichto> zargony: right now I don't believe that there's a way to do it at all
[20:36:17] <acrichto> without changing libstd
[20:36:23] <kmc> nwmcsween: why not? other than the language being generally not ready yet
[20:36:34] <eddyb9> Ke: secure computing? I'm not sure what you're referring to
[20:36:34] <ksf_> I was already mentally preparing myself to write my own IO layer directly on top of epoll, I'm going to need one sooner or later.
[20:36:35] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[20:36:49] <Ke> linux seccomp
[20:37:00] <kmc> ksf_: if you have total ownership of memory (e.g. are a kernel) it should be possible to write your own allocator in Rust and use it as the ~-box allocator, which is really really cool
[20:37:24] <nwmcsween> kmc: it abstracts too much, you would need to reimplement half of rust inside the kernel
[20:37:31] <nwmcsween> vs. c
[20:37:34] <Ke> PR_SET_SECCOMP in man prctl
[20:37:45] <eddyb9> nwmcsween: nope
[20:37:52] <kmc> nwmcsween: you only need to implement the runtime features you use
[20:37:57] <kmc> and those are mostly features C just doesn't have
[20:38:05] <eddyb9> kmc: already done, I'll push in a few days
[20:38:17] <kmc> you don't need to implement @-boxes or tasks or unwinding if you don't use these things
[20:38:20] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[20:38:21] <kmc> and C doesn't have them
[20:38:40] <eddyb9> (the proper allocator. temporarily using a static linearly allocated heap space to get pages, no vmm yet)
[20:38:43] <kmc> cool
[20:39:39] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:39:42] <kmc> nwmcsween: the big downside right now is that the Rust standard library isn't broken up into e.g. a piece that you can use without @-boxes
[20:40:01] *** Quits: Jackneill (Jackneill@moz-C8FD023D.pool.digikabel.hu) (Input/output error)
[20:40:40] <kmc> but consider that the Linux kernel doesn't link in glibc either
[20:40:42] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[20:40:59] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[20:41:13] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[20:41:58] *** Quits: tjc (tjc@moz-A979B497.tmodns.net) (Quit: zzzzzzzzzz)
[20:42:37] <nwmcsween> it doesn't need to c is pretty simple
[20:42:39] <ksf_> what about libgcc?
[20:43:45] <Ke> eddyb9: seccompability is mostly about being able to not have separate IO thread and being able to run non IO code with limited set of system calls
[20:43:45] *** Quits: geert (geert@moz-5EFDD81E.access.telenet.be) (Ping timeout)
[20:44:26] <Ke> haskell also breaks on fork obviously
[20:44:30] <glennsl> How do I return from a do loop? I get expected '()'… error
[20:44:32] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:44:36] <kmc> glennsl: pastebin your code?
[20:45:17] <ksf_> sounds like a missing semicolon
[20:45:31] <kmc> nwmcsween: they have their own implementation of a lot of stdlib-like things https://github.com/torvalds/linux/tree/master/lib
[20:45:54] <eddyb9> Ke: oooh, you're talking about running a Rust app in a special environment, but still on top of a kernel?
[20:45:59] <glennsl> kmc: http://pastebin.com/D1eJZLhX
[20:46:01] <Ke>  yes
[20:46:17] <eddyb9> rusti: do {break 8}
[20:46:21] -rusti- pastebinned 6 lines of output: http://ix.io/8Ad
[20:46:27] <Ke> in this case standard linux with limited set of system calls
[20:46:31] <eddyb9> err nvm, do not loop
[20:46:33] <kmc> Ke: i'd really like to have seccomp sandboxing built into Rust: https://github.com/mozilla/rust/issues/6811
[20:46:58] *** Joins: engla (engla@moz-E4A8CEF5.customer.cdi.no)
[20:47:12] <eddyb9> Ke: AFAIK, with no_std there's nothing using syscalls, that's how kernels work in Rust
[20:47:24] *** Parts: Dcoder (a@moz-F8BDC9E8.org) ()
[20:47:26] <kmc> glennsl: n.times is basically deprecated at this point, use  for _ in range(0, n)
[20:47:53] <glennsl> oh.. will do. thanks
[20:48:16] <eddyb9> Ke: you'd have to use rust-core instead of std and/or reimplement some stuff with the limited set of syscalls
[20:48:17] <nwmcsween> yeah they do but rust isn't the same as c, it's too high level, you can do the low level things but not without digging into the abstractions
[20:48:23] <nwmcsween> in my opinion anyways
[20:48:37] <kmc> nwmcsween: I've already provided arguments to the contrary, which you haven't really addressed
[20:48:45] <eddyb9> nwmcsween: you haven't seen Rust kernel code, have you?
[20:48:51] <nwmcsween> show me it
[20:48:53] <zargony> ksf_ / acrichto: I see. Maybe I'll try to work around it with an ugly timed poll loop for now.  Is there anything I could do to help out with the i/o development? I'm not a compiler expert but familiar with system level programming and got to know most of libstd in the meantime. Writing rust-fuse helped me learning a lot :)
[20:49:00] <nwmcsween> I've seen others yes
[20:49:04] <Earnestly> C was once considered really high level :x
[20:49:14] <nwmcsween> type safety is ignored in almost all kernels
[20:49:21] <nwmcsween> i've seen in rust
[20:49:24] *** Quits: maik (maik@moz-FE60843D.dip0.t-ipconnect.de) (Client exited)
[20:49:24] <Ke> eddyb9: is there a way to just not use the bad functions and not have IO thread execute everything the sandbox says
[20:49:25] <eddyb9> nwmcsween: https://github.com/mozilla/rust/wiki/Operating-system-development
[20:49:26] <kmc> nwmcsween: and medicine was once practiced without anasthesia
[20:49:29] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:49:34] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:49:38] <doomlord_> lol
[20:49:39] <kmc> Ke: also linux has this "seccomp mode 2" now, which lets you load custom rules into the kernel about what syscalls are allowed
[20:49:51] <Ke> kmc: yes, that's what I use
[20:49:56] <Ke> and libseccomp
[20:49:56] <FreeFull> How would you make a range of u8 from 0 to 255 inclusive?
[20:50:06] <kimundi> FreeFull: range_inclusive
[20:50:10] <ksf_> zargony, I don't know enough about the infrastructure to know if the whole thing needs any changes besides the actual lib calling a couple of c functions, like changing the scheduler in the rt or something.
[20:50:11] <Ke> kmc: the portability is nasty though
[20:50:15] <kimundi> FreeFull: Need to import it from Iterator
[20:50:29] <nwmcsween> yes it's all unsafe so far just reading the first link
[20:50:41] <FreeFull> Thanks
[20:50:48] <kimundi> rusti: use std::iter::range_inclusive; range_inclusive(0u8, 255u8).to_owned_vec()
[20:50:49] <acrichto> zargony: the tracking issue for the runtime in general is https://github.com/mozilla/rust/issues/4248, and you're welcome to help out on any of the points! I'm not sure how much there is to do to accelerate what you're trying to do though, I want an abstraction like that to work and I'm trying to think of how to do it
[20:50:49] <bjz_> nwmcsween: try not to use 'in my opinion' when trying to make a point. stick to facts and reasoning
[20:50:51] <eddyb9> nwmcsween: which one?
[20:50:59] -rusti- failed to pastebin 1 lines of output
[20:51:09] *** Joins: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp)
[20:51:12] <kimundi> rusti: use std::iter::range_inclusive; range_inclusive(240u8, 255u8).to_owned_vec()
[20:51:13] -rusti- ~[240u8, 241u8, 242u8, 243u8, 244u8, 245u8, 246u8, 247u8, 248u8, 249u8, 250u8, 251u8, 252u8, 253u8, 254u8, 255u8]
[20:51:35] <kmc> nwmcsween: I agree that there will always be an unsafe layer to a kernel, that establishes the abstractions which allow the rest of it to be written safely
[20:51:44] <bjz_> nwmcsween: I'm not saying your point is invalid, just a tip
[20:51:56] <nwmcsween> opinions are allowed my opinion is c++ (without restrictions) is also a horrid language to use in kernel dev
[20:52:13] <nwmcsween> not saying rust is
[20:52:21] <kmc> since the extant Rust kernels are small toys, they'll consist mainly of that unsafe core layer, and not e.g. a bunch of drivers written in safe style
[20:52:30] <eddyb9> C++ worked well for Pedigree. much better code quality than the linux spaghetti drivers
[20:52:31] <bjz_> nwmcsween: it seems to work for haiku
[20:52:48] <nwmcsween> haiku uses a restricted subset of c++
[20:52:53] *** Quits: tetsuharu (tetsuharu@moz-43BF7D89.catv.ppp.infoweb.ne.jp) (Ping timeout)
[20:52:58] <kmc> nwmcsween: most of the exploits in Linux come from obscure drivers, network protocols, etc. and they're often in codepaths that could be written in safe style
[20:53:08] <FreeFull> Windows uses c++
[20:53:24] <eddyb9> nwmcsween: that's the point of C++, though: you pick the tools suited for the job
[20:53:30] *** Quits: sinma (seb@moz-6A11C47C.fbx.proxad.net) (Ping timeout)
[20:53:40] <eddyb9> FreeFull: you can't really call that C++
[20:53:44] <kmc> even the most h4rdc0re low level C program is going to spend more code on initialization, error handling, argument parsing than on h4rdc0re bit mashing
[20:53:47] *** Joins: sinma (seb@moz-6A11C47C.fbx.proxad.net)
[20:53:53] <ksf_> c++ as abi was a bad choice for beos/haiku, though.
[20:54:01] <Ke> has anyone made toy modules for linux?
[20:54:03] <kmc> yes
[20:54:09] <kmc> https://github.com/tsgates/rust.ko
[20:54:14] <eddyb9> o_O
[20:54:17] <nwmcsween> kmc, I would disagree, have you seen how libc's are written?
[20:54:29] <kmc> nwmcsween: yes, what about it?
[20:54:30] <nwmcsween> glibc being a bad example but makes my point
[20:54:41] <nwmcsween> lots of bit mashing
[20:54:44] <ksf_> scary amounts of underscores?
[20:55:42] <ksf_> stroustrup says that when you understand vector you understand c++, the problem is that vector is ~3500 *very* scary lines.
[20:55:50] <FreeFull> _______printf_______
[20:56:53] <kmc> I think arguing that memory safety can't be useful for systems programming is usually an argument from lack of imagination
[20:57:26] <nwmcsween> rust is not the only memory safe languge
[20:57:32] <FreeFull> Well, it's not as if rust has unsafe blocks built into the language, right?
[20:57:49] <eddyb9> kmc++
[20:58:00] <eddyb9> err, += 1
[20:58:04] <bjz_> ksf_: doesn't he mean 'understand the api'?
[20:58:12] <nwmcsween> unsafe is an effect, it's not like rust has an effect system right?
[20:58:20] <ksf_> nah, the api is too trivial for that to be true.
[20:58:20] <nwmcsween> hint it doesn't
[20:58:27] <kmc> you're getting pretty confrontational nwmcsween
[20:58:28] <eddyb9> nwmcsween: it's in the works
[20:58:46] <zargony> acrichto / ksf_: Thanks :). I'm watching #4248 for updates (found it yesterday) and see if I can help with any of it.
[20:59:05] <kmc> eddyb9: is it?
[20:59:11] <strcat> kmc: Ke: seccomp is useless with CLONE_VM
[20:59:18] <kmc> I thought Rust has been moving towards less of an effect system
[20:59:25] <strcat> you need separate address space for it to add security
[20:59:30] <kmc> strcat: the proposal in that ticket involves a fresh exec()
[20:59:35] <bjz_> kmc: wasn't bblum talking about it?
[20:59:42] <strcat> nwmcsween: you can use https://github.com/thestinger/rust-core for freestanding rust
[20:59:47] <eddyb9> kmc: I think cmr linked me to the issue
[20:59:49] <bjz_> kmc: what do you mean by 'moving away'?
[20:59:53] <nwmcsween> because I'm disliking your comment about memory safety how does not agreeing with language abstractions (implementation details) have anything to do with memory safety
[20:59:55] <kmc> well we had 'pure' and now we don't
[20:59:58] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[21:00:05] <kimundi> kmc: Our pure was rubbish
[21:00:17] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:00:21] <kimundi> kmc: Had nothing todo with a 'pure' effect
[21:00:32] <Ke> strcat: I have no idea how the IO trheads function, which is why I don't like them
[21:00:35] <eddyb9> impure purity
[21:00:35] <kmc> <nwmcsween> type safety is ignored in almost all kernels  <nwmcsween> yes it's all unsafe so far just reading the first link
[21:00:48] <kmc> i thought your point here was "kernels can't be memory safe therefore why use rust"
[21:00:54] <strcat> Ke: rust doesn't have concurrency or I/O as language features
[21:00:55] <Ke> strcat: but I'm not sure what you are referring to
[21:01:08] <Ke> ok
[21:01:13] <Ke> that's good
[21:01:18] <nwmcsween> no kernel's can be but the features that ruse use for memory safety make it not possible
[21:01:25] <kmc> that's just not true
[21:01:33] <nwmcsween> show me a safe rust kernel
[21:01:45] <kmc> stop trolling
[21:02:02] <strcat> rust's memory safety guarantees work outside of userspace
[21:02:12] <kmc> nwmcsween: is it your general claim that anything which doesn't exist today is impossible to build?
[21:02:30] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:02:30] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Ping timeout)
[21:02:44] <kimundi> Using unsafe code is not the same as being unsafe. In fact, all unsafe code should implement a safe interface, or it's just buggy
[21:02:55] *** Quits: sinma (seb@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[21:02:56] <strcat> borrowed pointers work fine regardless of the environment
[21:03:07] <bblum> nwmcsween: your argument suggests a very binary view of safety; either a codebase is completely safe or it has a single unsafe line and is tainted forever
[21:03:09] <strcat> for owned boxes you need to define the exchange_{malloc,free} lang items
[21:03:16] <kmc> as do owned boxes, as long as you have a basic malloc (which every kernel does)
[21:03:20] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:03:22] <strcat> so yes, you need unsafe code to implement the allocator, but it is an externally safe inferface
[21:03:22] <zargony> acrichto: do you already know which kind of abstraction you're targeting? When it comes to the tcp read/write problem, I could think about separating reader and writer (which might be rarely useful for other kind of streams) or maybe a generic select that works on all kind of events (which sounds pretty complicated to me)
[21:03:25] <strcat> interface*
[21:03:36] <kmc> linearity/moves + borrow checking gets you a ton of memory saftey versus C and C++
[21:03:42] <bblum> nwmcsween: in the security research field, people are much more concerned with the size of the "trusted code base" - the amount of unsafe code that must be manually verified, which provides a safe interface that the rest of a project can build upon
[21:03:46] <kmc> with zero runtime support
[21:03:49] <strcat> https://github.com/thestinger/rust-core/blob/master/core/mod.rs
[21:03:55] <bblum> nwmcsween: without rust, an entire kernel must be its trusted code base
[21:04:04] <acrichto> zargony: a generic select interface seems like an extremely desirable, yet intangible abstraction to me at this point, so I'm leaning towards some method of separating the reader/writer
[21:04:08] <kmc> and lets you build things like a safe Rc<T>... refcounting is also pretty common in kernels :)
[21:04:09] <bblum> nwmcsween: rust allows a drastic reduction in the size of the code you must audit by hand.
[21:04:10] *** Joins: SingingBoyo (sboyo@moz-4EFEF6A7.ubcsecure.wireless.ubc.ca)
[21:04:15] <strcat> kmc: yeah, I have that in there ;p
[21:04:23] <bblum> nwmcsween: we are not deluded idealists thinking that there can be a perfectly safe language
[21:04:30] <strcat> sadly atm Vec requires --cfg libc, because I need to come up with a way to define a custom allocator
[21:04:35] <strcat> Rc doesn't because it allocates with ~
[21:04:42] <FreeFull> Of course, the safe code can always do the wrong thing
[21:04:43] <bblum> hope that helps a bit with the perspective...
[21:04:51] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[21:04:58] <strcat> kmc: although I left out RcMut for the moment because I had to add the abort intrinsic first...
[21:04:59] <SingingBoyo> bblum: but of course there can!  it just can't do anything :P
[21:05:00] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:05:01] *** ChanServ sets mode: +ao brson brson
[21:05:01] <strcat> now I can add RcMut
[21:05:19] <bblum> SingingBoyo: :P
[21:05:37] <bblum> SingingBoyo: don't short-sell it. it can probably prove some basic arithmetic properties.
[21:05:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:06:05] <nwmcsween> the initial argument wasn't against rust safety, it was the abstractions that make the safety
[21:06:08] <ksf_> bblum, I'd say there can be, but expect it to be a dependently typed assembly language that's virtually impossible to code in.
[21:06:16] <strcat> acrichto: until we have a generic select, C + epoll is better than whatever we have :s
[21:06:29] <strcat> it's something we really need
[21:06:46] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[21:06:51] <strcat> rusti: fn foo() { loop {} } foo()
[21:06:56] <ksf_> there's nothing stopping you from modelling the whole architecture in the type system, but then you've got a type system you need to check instead of a couple of lines of code :)
[21:06:56] -rusti- timeout triggered!
[21:07:01] <strcat> rusti: 2 + 2
[21:07:02] -rusti- 4
[21:07:06] <bblum> ksf_: well said
[21:07:09] <kmc> nwmcsween: but you haven't provided any explanation for why you think those abstractions are not suitable for kernel dev
[21:07:11] <strcat> you couldn't write that in rust with the runtime
[21:07:35] <eddyb9> nwmcsween: the "abstractions" are static compiler checks
[21:08:06] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[21:08:11] *** Quits: engla (engla@moz-E4A8CEF5.customer.cdi.no) (Ping timeout)
[21:08:24] <strcat> rusti: fn foo() { loop {} } println("foo"); foo()
[21:08:27] *** Quits: KindOne (KindOne@moz-5EDF9D9.dynamic.ip.windstream.net) (Ping timeout)
[21:08:29] -rusti- foo
[21:08:29] -rusti- timeout triggered!
[21:08:43] <bjz_> nwmcsween: if the static checks have been proven to be sound, formally, then the level of safety is greatly increased
[21:08:47] <Amaranth> strcat: Need some way to flush stdout there
[21:08:53] <zargony> strcat: but epoll wouldn't work for comm streams, right?
[21:08:56] <strcat> Amaranth: it does write it out immediately
[21:09:02] <strcat> Amaranth: it's the irc script's fault
[21:09:03] <strcat> ;p
[21:09:19] <ksf_> it's got to wait for the whole output to know if it needs to paste it
[21:09:34] <bjz_> nwmcsween: at the moment Rust's semantics haven't been proven sound, but I believe there is work being put into that, hopefully before 1.0
[21:09:36] <Amaranth> Oh right
[21:09:39] <strcat> zargony: it handles arbitrary events via eventfd
[21:10:05] <SingingBoyo> ooh once I get this version of issue saving in evict working then I won't depend on running git commands anymore! \o/
[21:10:10] <ksf_> bjz_, never bother about that, haskell doesn't have formal semantics, either.
[21:10:18] <strcat> zargony: problem is that we're not targeting epoll
[21:10:36] <FreeFull> Haskell is magical though
[21:10:40] <strcat> if we were, we'd have very fast, flexible I/O like Go already - we're targeting a lossy cross-platform abstraction (libuv)
[21:10:42] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[21:10:48] <zargony> strcat: because it's Linux only?
[21:10:52] <strcat> zargony: right
[21:11:04] <strcat> epoll and kqueue offer us everything we need to build a simple, fast, flexible event loop
[21:11:10] <strcat> but windows uses a *completely different* paradigm
[21:11:18] <mcpherrin> How much of the runtime actually depends on libuv?
[21:11:19] <strcat> libuv abstracts over this, but it's not for free
[21:11:27] <Amaranth> I mean, Go works on Windows too
[21:11:29] <mcpherrin> If I wanted to replace it, how much of the stdlib could be reused?
[21:11:29] *** Quits: earlz2 (earlz@3BA8656D.F04AFED0.49B48A1E.IP) (Quit: Leaving.)
[21:11:42] <FreeFull> Damn you Windows
[21:11:42] <nwmcsween> ^
[21:11:44] <zargony> darn windows always ;)
[21:11:46] <strcat> Amaranth: originally it was incredibly slow everywhere but linux
[21:11:54] <strcat> and it's probably still not very quick on windows
[21:12:03] <FreeFull> I'm guessing OS X and BSD do their own thing too
[21:12:06] <Amaranth> I don't know how the performance is
[21:12:10] <ksf_> same with GHC, all the nice IO stuff is unix only.
[21:12:13] <eddyb9> someone say windows?
[21:12:16] <eddyb9> buuurrn
[21:12:32] <strcat> ksf_: and the funny part about that is microsoft research developed a lot of it
[21:12:35] <strcat> but it doesn't work on windows
[21:12:37] <strcat> ;p
[21:12:44] <eddyb9> winblows, the crap on fiiire
[21:12:51] <strcat> it's not that windows way is *worse*, necessarily
[21:12:54] <ksf_> SPJ isn't at microsoft to build anything for microsoft.
[21:13:04] <strcat> it's just different enough that in order to abstract over both you lose capabilities
[21:13:08] <mcpherrin> Microsoft Research is more concerned with making cool shit than making stuff that fits their ecosystem
[21:13:09] <ksf_> it's so that other people building things for microsoft have him in an office next to them.
[21:13:18] <kmc> his dogfooding consists of him using Comic Sans for slides
[21:13:51] <mcpherrin> kmc: nice!
[21:14:02] <zargony> How comprehensive is stuff in libuv? I thought it's "just" an event loop with some hanlder for non-blocking i/o stuff. would it be much work to do the same in Rust?
[21:14:22] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:14:47] <mcpherrin> zargony: It's got abstractions for a few OSes, which is a lot of work to rebuild if you don't need to
[21:14:53] <mcpherrin> Rust has a hard enough time working on Windows already :P
[21:15:05] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[21:15:35] <strcat> zargony: it's an event loop, abstracted into a callback-based API
[21:15:49] <strcat> it has non-blocking reads, writes, tty handling, process handling, timers, signals, etc.
[21:16:01] <strcat> but lots of it is poorly implemented, if you look at it from a platform-specific perspective
[21:16:33] <strcat> if you were writing just for a specific platform it would be faster and higher-level
[21:16:45] <strcat> ;s
[21:17:01] *** Quits: ksf_ (ksf@moz-3C341A4F.adsl.hansenet.de) (Ping timeout)
[21:17:12] <sam113101> what part of it is poorly implemented?
[21:17:23] *** Joins: ksf (ksf@moz-CB1BD971.adsl.hansenet.de)
[21:17:51] <zargony> I recently wrote fuse bindings in Rust. The C version does a lot of callbacks and it was a pain trying to route them to Rust. I ended by rewriting the fuse i/o loop in Rust
[21:17:53] <strcat> it's essentially lower-level than epoll and doesn't have proper timers/signals
[21:17:58] <strcat> and it's going to be slower
[21:18:09] <benh> that's sad
[21:18:29] <strcat> and it's not designed for multi-threaded use
[21:18:30] <pcwalton> strcat: do you have a concrete suggestion for what we should be doing differently
[21:18:31] <benh> doesn't that make our concurrency story look a bit embarassing
[21:18:31] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Quit: alan)
[21:18:37] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:18:40] <strcat> pcwalton: nope ;p
[21:18:44] <strcat> I only know the linux way of doing it
[21:18:52] <ksf> ...speaking of things that'd be nice to have, what about inotify?
[21:19:04] <FreeFull> I know that SDL offers an audio callback, but the Haskell bindings are missing it
[21:19:06] <pcwalton> benh: we need to just fix libuv to be multithreaded.
[21:19:16] <sam113101> is IOCP better than epoll/kqueue?
[21:19:23] <pcwalton> in many ways yes
[21:19:28] <strcat> sam113101: it's different
[21:19:34] <pcwalton> because it scales better to many cores
[21:19:49] <eddyb9> about fancy stuff you can't get on windows: I know it's not safe, but has anyone seen a decent abuse of fork to remove starting times for a certain category of apps? or split computations with fork, and revert to a previous state with exit (CoW makes it memory efficient)?
[21:19:56] <benh> pcwalton: currently we use one uv loop per os-level runtime thread, right? is that supposed to change or just that io structures themselves don't need to home?
[21:19:59] <strcat> pcwalton: maybe, afaik epoll still scales well to many cores
[21:20:03] <strcat> you just many many event loops
[21:20:03] *** Quits: dherman (dherman@moz-A7B57B40.bltmmd.fios.verizon.net) (Quit: dherman)
[21:20:16] <pcwalton> IOCP load balances in the kernel by spawning threads into your thread pool
[21:20:21] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:20:40] <Ralith> epoll works fine corewise
[21:20:51] <Ralith> as strcat says, just run separate waits on each thread
[21:20:51] <pcwalton> benh: if we could migrate uv stuff from thread to thread we'd be fine.
[21:20:59] <pcwalton> anyway, this is not productiv e
[21:21:02] <pcwalton> productive*
[21:21:06] <pcwalton> we don't have a choice about Windows
[21:21:19] <pcwalton> it is fine to say "screw windows" but look at the market share numbers
[21:21:29] <pcwalton> we have to perform well on windows
[21:21:46] <Eridius> ehh, windows is dying out
[21:21:46] <sam113101> yeah
[21:21:47] <sp3d> eddyb9: yes on the former, only an impractical POC of the latter
[21:21:50] <pcwalton> there is a reasonable argument to be made that it is MORE important to perform well on windows than on Mac and Linux
[21:21:55] <Eridius> the PC market is on the decline, and Windows for Mobile isn't taking off
[21:21:56] <benh> Eridius: we can't really wait until it's dead tho
[21:21:57] <Ralith> strcat: what's improper about its timers and signals? why do you think it's slower?
[21:22:04] *** Quits: ksf (ksf@moz-CB1BD971.adsl.hansenet.de) (Ping timeout)
[21:22:06] <SiegeLord> rusti: ignore!{1}
[21:22:08] -rusti- pastebinned 6 lines of output: http://ix.io/8Ae
[21:22:22] <strcat> Ralith: I don't think their signal handling is actually thread-safe
[21:22:33] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:22:35] <Ralith> sam113101: IOCP is functionally equivalent to epoll/kqueue
[21:22:40] <SiegeLord> rusti: ignore!(1)
[21:22:40] <FreeFull> rusti: ignore!(1)
[21:22:41] -rusti- ()
[21:22:41] -rusti- ()
[21:22:41] <strcat> afaict you're responsible for not starting 2 libuv loops and listening for the same signal in both
[21:22:48] <SiegeLord> Why is my ignore not working...
[21:22:48] <strcat> they're not using signalfd and the kqueue equivalent
[21:23:03] <Ralith> strcat: are they opposed to doing so?
[21:23:04] *** Joins: ksf (ksf@moz-754A6CD8.adsl.hansenet.de)
[21:23:23] <strcat> Ralith: I don't think they are opposed to doing so... I just find it questionable that they're not using signalfd/timerfd
[21:23:41] <Ralith> it's a relatively new library; open an issue :p
[21:24:01] <Ralith> if something's questionable, it's often worthwhile to actually *ask the question*
[21:24:19] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:24:27] <Ralith> strcat: and what's the basis for your claim of poor performance?
[21:24:37] <pcwalton> if someone wants to rewrite libuv, please feel free :)
[21:24:43] <pcwalton> there's just no alternative
[21:24:46] <strcat> Ralith: I've measured it
[21:24:50] <Ralith> strcat: link?
[21:24:56] <strcat> I don't have a link
[21:25:03] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:25:09] <Ralith> pcwalton: this particular issue seems unlikely to be require major changes
[21:25:18] <Ralith> strcat: do you have instructions to reproduce your results?
[21:25:29] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:25:30] <strcat> I could make them
[21:25:35] <Ralith> that would be helpful
[21:25:52] <Ralith> if you do, I'd quite like to see them
[21:25:57] <strcat> I was comparing epoll, libuv, rust, and go for tcp requests/s with varying things they had to return
[21:26:16] *** Joins: tjc (tjc@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:26:16] *** ChanServ sets mode: +o tjc
[21:26:19] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:26:21] <SingingBoyo> is there an id function in rust?
[21:26:31] <strcat> SingingBoyo: util::id, but |x| x would be easier
[21:26:33] <Ralith> I'm mainly interested in epoll vs. libuv since in theory those should be more or less equivalent
[21:26:40] <kmc> util::id is useful as a type ascription
[21:26:59] <kmc> id::<T>(x) requires that x has type T
[21:27:27] <strcat> Ralith: when you write it by hand you can "cheat" and use io vectors
[21:27:54] <strcat> readv, writev
[21:28:00] <Ralith> I'm familiar with them
[21:28:17] <Ralith> is that the sole cause?
[21:28:25] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:28:34] <strcat> Ralith: no
[21:28:47] <Ralith> so far it seems like this is less "reasons not to use libuv" and more "things to fix in libuv"
[21:29:04] <SingingBoyo> also, where are the rustdoc docs?  need to brush up on where to put my comments/with what formatting.
[21:29:52] <kmc> i have "use msg::Msg; mod msg;" in mod.rs and yet the enum Msg in msg.rs isn't visible in my mod.rs
[21:30:00] <kmc> i get 'unresolved import. maybe a missing `extern mod msg`?'
[21:30:07] <kmc> what gives? do I need to do something at the crate root instead?
[21:30:26] <benh> the crate root needs to be declaring mod msg;
[21:30:31] <Ralith> strcat: insofar as that they're not already working to address these issues, it seems like this information could be quite valuable to the libuv devs.
[21:30:53] <benh> if you do it in mod.rs, you'd need to use mod::msg::Msg;
[21:31:02] <strcat> I'm more interested in just writing a special-cased stack for linux (what I care about) for rust-core
[21:31:17] <strcat> it's easier to use epoll than it is to fix libuv
[21:31:19] <kmc> benh: ok, that's odd because the mod.rs (which is not the crate root) already has some 'mod' declarations which work fine https://github.com/mozilla/servo/blob/master/src/components/main/compositing/mod.rs#L47-L48
[21:31:23] <kmc> benh: ok
[21:31:28] <kmc> benh: or self::msg::Msg?
[21:31:40] <benh> kmc: sure, i think
[21:32:16] <strcat> I like what Go does - making system calls themselves via the vdso, rather than going through libc
[21:32:25] <benh> if i'm getting this right the issue is just that mod msg; in mod.rs creates <crate root>::mod::msg but use msg::Msg; looks for <crate root>::msg::Msg;
[21:32:33] <strcat> although if you aren't using segmented stacks there's not much advantage to avoiding libc
[21:32:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:32:40] <pcwalton> it also doesn't work on windows
[21:32:40] *** bent|mtg is now known as bent
[21:33:03] <benh> maybe we should really do the "'use' paths must start with ::" thing :D
[21:33:29] <strcat> pcwalton: http://www.techempower.com/benchmarks/#section=data-r6&hw=winec2&test=query whatever they're doing on windows seems fine ;p
[21:33:36] <kmc> benh: thanks, I got it sorted out now :)
[21:33:37] <benh> (( i like what haskell does, making ffi calls transparently nonblocking, unrelatedly ))
[21:33:50] *** Joins: KindOne (KindOne@moz-EE7A90AF.dynamic.ip.windstream.net)
[21:33:57] <pcwalton> they probably just aren't doing that on windows
[21:33:57] <kmc> benh: yeah although there's a cost and you want the ability to disable that with an attribute
[21:34:06] <pcwalton> since you just can't do syscalls like that on windows
[21:34:28] <benh> kmc: yeah, but it's a nice option to have, or even a nice default if it's not your bottleneck
[21:34:30] <pcwalton> unless you want to update your table for every OS version
[21:34:31] <eddyb9> strcat: how does the vdso work? and what is still using "normal" syscalls?
[21:34:32] <kmc> unfortunately there's no way to make reads/writes to a memory mapped file transparently nonblocking :(
[21:34:32] <strcat> pcwalton: they need to use undocumented stuff on windows for segmented stacks
[21:34:35] <kmc> yep
[21:34:47] <benh> i think how transparent haskell makes its green threads is a huge point in its favor
[21:34:48] <pcwalton> windows changes the syscall numbers for every OS version
[21:35:00] <strcat> eddyb9: the vdso is basically a virtual dynamic library at a magical address
[21:35:13] <strcat> eddyb9: if knows the best way to make every syscall
[21:35:21] <kmc> on AMD64 Linux you don't go through the vDSO for "normal" syscalls, just for the virtual actually-in-userspace syscalls like clock_gettime()
[21:35:26] <kmc> also it's not at a magical address anymore
[21:35:29] <strcat> for example, clock_gettime (or the deprecated gettimeofday) don't need to context switch
[21:35:39] <strcat> kmc: well, you get it from some weird place after envp, right?
[21:35:39] <bjz_> benh: how does it do that?
[21:35:40] <mcpherrin> pcwalton: Define version? XP/Vista/7/8 is only 4 versions, and if there is an auto tool to do it, doesn't seem that bad
[21:35:46] <strcat> kmc: aatch looked into it
[21:35:47] <mcpherrin> If you mean per-service pack or something that is different
[21:35:48] <strcat> dunno if he got it working
[21:35:50] <kmc> strcat: the dynamic linker does, yes
[21:36:04] <Luqman> strcat: did vdso work with every syscall? i thought it was only for a few, like gettimeofday
[21:36:04] <nwmcsween> kmc why do you think the vdso is amd64 only?
[21:36:07] <strcat> kmc: do you just make plain old calls now?
[21:36:10] <pcwalton> mcpherrin: Windows users don't expect their apps to break when they update their OS
[21:36:22] <kmc> the kernel loads what looks like a normal ELF .so into memory at a random address and passes its address in the ELF auxv; ld.so will dynamically link it into your program
[21:36:29] <mcpherrin> pcwalton: Oh, yeah, of course.
[21:36:32] <ksf> kmc, why in everything's name would you want to use int 0x80?
[21:36:38] <kmc> if you want to call the vDSO from a static binary, you need to parse the auxv yourself
[21:36:50] <kmc> ksf: on AMD64 you make a system call using the SYSCALL instruction
[21:37:12] <kmc> on i386 you can't assume SYSCALL exists, so you branch to the vDSO for any system call
[21:37:14] <ksf> which shouldn't really be faster than a jump to the vdso
[21:37:17] <benh> bjz_: from what I remember, it wraps ffi calls so that they activate an OS thread from a thread pool to take over all the green threads on the current OS thread while the current thread is blocking on the ffi call
[21:37:23] <strcat> ksf: yeah, and Go binaries are all static ;p
[21:37:25] <strcat> er
[21:37:27] <strcat> kmc: *
[21:37:29] <Ralith> strcat: libuv already *has* a special-cased stack for linux; it should not be harder to modify thta than to build a new one from the ground up.
[21:37:32] <pcwalton> why not just LTO with musl?
[21:37:44] <pcwalton> this seems so much easier than reinventing libc like Go did
[21:37:48] <nwmcsween> the vdso covers more than how to do a syscall
[21:37:54] <Ralith> strcat: certainly, if you were to publish your information or detail how to reproduce it, I might be motivated to do so
[21:38:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:38:24] <pcwalton> Go does what it does because its FFI is not as advanced as Rust's
[21:38:37] <benh> bjz_: also all the standard IO is farmed out to an IO thread so when your thread blocks on IO it's really blocking on a green-thread concurrency primitive for the IO thread to tell it that it can do the real IO without blocking now
[21:38:39] <strcat> pcwalton: they do it because they use segmented stacks and syscalls don't need stack space
[21:38:51] *** Quits: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr) (Quit: Gone)
[21:38:51] <strcat> they also have problems from the GC with FFI
[21:38:51] <pcwalton> oh, we can solve that though
[21:38:55] <pcwalton> right
[21:39:00] <pcwalton> their FFI just isn't as well integrated
[21:39:18] <kmc> iirc, on GHC when you make a FFI call, it happens on the current OS thread but the thread first gives up its "Haskell Execution Capability" which means that another OS thread can pick up running green threads if the FFI call takes too long
[21:39:33] <kmc> but it avoids the overhead of switching OS threads for fast FFI calls
[21:39:34] <benh> bjz_: basically you have to do some weird stuff with thread-local storage or fork() to really notice that your threads aren't green threads, afaik
[21:39:50] <kmc> the remaining overhead is that giving up the HEC requires getting into a quiescent state akin to what you'd need to enter the GC
[21:40:11] <kmc> whereas an FFI call marked "unsafe" just emits a call instruction in the middle of Haskell code
[21:40:13] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[21:40:22] *** Quits: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) (Quit: Leaving.)
[21:40:27] <kmc> nwmcsween: I know
[21:40:29] <kmc> I said as much above
[21:40:31] * pcwalton wonders if we should LTO with libuv
[21:40:37] <pcwalton> to do better on these I/O heavy benchmarks
[21:40:43] <kimundi> Hm, you know what would be useful? A compiler flag to disable #[test] stripping, so that the makefile catch compile errors directly
[21:40:45] <pcwalton> LTO can eliminate lots of indirection
[21:40:50] <strcat> haskell is in a weird situation compared to us, because they have cooperative scheduling but it acts like preemptive scheduling most of the time
[21:40:54] <echristo> pcwalton: do you make a lot of calls into it?
[21:40:57] <tjc> kimundi: I would like that -- could speed up my testing process a lot!
[21:40:58] <strcat> because allocations are yield points and it nearly always allocates
[21:41:04] <brson> pcwalton: interesting idea, but there's a lot lower hanging fruit still
[21:41:05] <pcwalton> echristo: on I/O microbenchmarks we sure do ;)
[21:41:08] <echristo> basically you'll reduce the call overhead with proper inlining, but...
[21:41:15] <tjc> strcat: Yes, I personally ran into an interesting GHC bug involving a tight loop that didn't allocate
[21:41:20] <tjc> it was surprising to me at a time :-)
[21:41:21] <kmc> strcat: and there's now a flag to make even non-allocating loops preemptible
[21:41:26] <strcat> echristo: we could compile libuv as "rust" with segmented stacks
[21:41:42] <strcat> but it calls libc so...
[21:42:05] <strcat> kmc: : do they just insert yields?
[21:42:06] <pcwalton> segmented stacks are probably dead in rust anyway
[21:42:07] <kimundi> tjc: Btw, I seem to make progess with my make-task-failure-return-a-result experiments.
[21:42:19] <tjc> kimundi: great! I'm not actively working on my "simpler" version at the moment anyway
[21:42:23] <pcwalton> at least on 64 bit
[21:42:25] <tjc> so if you get that done before I get back to it, awesome :-)
[21:42:32] <kmc> strcat: they insert checks of a global variable that says whether you should yield, yeah
[21:42:35] <kimundi> tjc: We'll see about that ;)
[21:42:40] <nwmcsween> the idea of 'fixing' it was creating a giant stack was it not?
[21:42:42] <eddyb9> pcwalton: +1 on LTO, I thought about inlining wine+libc in windows apps, so they syscall directly into linux, all with LTO :P
[21:42:48] <strcat> kmc: thread-local rather than global I guess?
[21:42:55] <kmc> don't recall
[21:42:59] <pcwalton> I would love to see uv writes inline down to just write() and read()
[21:43:11] <pcwalton> I share strcat's feeling that this is desirable to win these benchmarks
[21:43:34] <eddyb9> pcwalton: why stop there :P?
[21:43:42] <pcwalton> inline down into the syscalls even
[21:43:53] <pcwalton> to the extent that's possible anyway.
[21:44:00] <eddyb9> muhahaha
[21:44:00] *** Quits: SingingBoyo (sboyo@moz-4EFEF6A7.ubcsecure.wireless.ubc.ca) (Ping timeout)
[21:44:01] <pcwalton> on windows it isn't
[21:44:33] * strcat wants to copy the tricks https://github.com/facebook/folly uses
[21:44:53] <strcat> https://github.com/facebook/folly/blob/master/folly/Malloc.h#L119 look at this beautiful thing ;p
[21:44:57] <eddyb9> oh, facebooks, the masters of making terrible shit run fast
[21:45:53] <pcwalton> // Holy Moly
[21:45:54] <eddyb9> (I'm looking at you, PHP)
[21:46:06] <strcat> they use that for their vectors
[21:46:16] <sfackler>  // no smarts
[21:46:39] <strcat> hardcoded magic numbers for an allocator, yay
[21:46:42] <eddyb9> how big is it? it's loading slow
[21:46:50] <strcat> eddyb9: 232 lines? ;p
[21:47:13] <eddyb9> strcat: why enable -O3 when you can inline manually?
[21:47:19] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[21:47:31] <strcat> eddyb9: -O2 vs. -O3 is about more than inlining threshold
[21:47:57] <eddyb9> I know, I was just making a funneh
[21:48:00] <echristo> also, inlining manually is a tool of the devil. :)
[21:48:36] <eddyb9> I was highly sarcastic, guys. don't take my comment positively
[21:49:17] <strcat> our * 2 multiplication on vector realloc works really poorly with jemalloc
[21:49:21] <ercxx> Is there a place where I can read about the changes to the std::path
[21:49:40] <jason_> strcat: it works really poorly with glibc malloc too fwiw
[21:50:01] <Luqman> echristo: speaking of manual inlining, any idea as to the best approach for my question in #llvm/.
[21:50:06] <strcat> jason_: but libstdc++ uses it ;p
[21:50:38] <echristo> Luqman: not without looking into it more, sorry.
[21:51:01] <benh> strcat: how do you feel about  https://github.com/mozilla/rust/pull/9933 ;)
[21:51:36] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:51:54] *** Joins: virgil (chatzilla@946FC913.D507B90B.CD219C36.IP)
[21:52:09] *** Quits: zargony (zargony@moz-A17F33DF.versanet.de) (Input/output error)
[21:52:25] <jason_> i'm not strcat, but its not a terrible idea
[21:52:47] *** Quits: obk (Mibbit@moz-C50DC051.jf.intel.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:52:49] <jason_> as long as someone can add -ljemalloc on platforms they need it for
[21:53:10] <kmc> can I split the non-trait impls for a single type across multiple modules in the same crate?
[21:53:28] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:54:35] <acrichto> is madjar from github in here?
[21:54:53] <strcat> benh: I suggested removing it to acrichto last night
[21:55:14] <acrichto> benh: we have some serious issues about our usage of jemalloc apparently :(
[21:55:26] <acrichto> I don't fully understand the causes, but if anyone else does, feel free to jump in!
[21:55:39] <benh> strcat: i thought you were vaguely excited about using "non-standard" jemalloc features in the vague future :)
[21:55:44] <acrichto> I was googling around and I couldn't even find a page on "how to use libuv"
[21:55:47] <acrichto> jemalloc*
[21:56:17] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[21:56:18] <strcat> benh: yeah, but my excitement will be directed at using them in rust-core's vector with --cfg jemalloc, and then trying to integrate that into the stdlib
[21:56:19] <jason_> http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html
[21:56:37] <acrichto> jason_: I couldn't find a lot of info on how to use it though
[21:56:39] <strcat> anyway it's probably better to just hardcode the sizes like facebook's lib
[21:56:59] <acrichto> jason_: all I could find was "edit your local configuration files and invoke with LD_PRELOAD" which won't really work for rust in general
[21:57:25] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[21:57:26] <benh> acrichto: I don't have a plan or anything, I just thought jemalloc had a lot more buy-in or whatever than it apparently has :D
[21:57:28] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:58:03] <acrichto> benh: yeah I wish I knew more about it, but strcat was also mentioning that there was a perf *boost* from removing it, so I think that we're seriously using it in a wrong manner
[21:58:08] <strcat> benh: it reduces memory fragmentation over time, speeds up small allocations significantly and handles a large number of threads sanely (unlike glibc)
[21:58:12] <jason_> acrichto: in my limited experience (linux) you just link with it. lazy symbol binding takes care of the rest.
[21:58:29] <strcat> benh: but I think bundling it might be a bad idea
[21:58:35] <benh> (strcat: by default we won't have many more threads than cores, right?)
[21:58:51] <acrichto> jason_: yeah I got confused b/c what does it mean to "just link with it" ? How does it turn the strdup calls inside of libuv to calling jemalloc's malloc? That's when I got confused :(
[21:58:57] <strcat> benh: right, and in that case glibc isn't pathological
[21:59:12] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:00:12] <benh> anyway, out of curiosity, if segmented stacks are on the death bed, what's the plan on 32bit?
[22:00:17] <strcat> acrichto: I think the perf loss might just be a side effect of using the *2 realloc
[22:00:31] <strcat> + random allocations made by the benchmark harness, screwing with the numbers
[22:00:37] <benh> (my curiosity regarding these plumbing details is much larger than my expertise, it's kinda embarassing, sorry)
[22:00:40] <jason_> acrichto: when you -ljemalloc the dynamic linker finds the symbols for malloc/free inside libjemalloc.so and uses those instead of libc.so
[22:00:51] <acrichto> strcat: yeah I wouldn't want to remove it just b/c of that
[22:01:58] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[22:02:27] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[22:02:46] <acrichto> jason_: hm so we build jemalloc as a static library and bundle it with a dynamic librustrt, but when I exported the malloc/free symbols from librustrt (which came from jemalloc) things got real confused real fast on osx, but passed fine on linux
[22:02:53] <acrichto> I didn't investigate much further though
[22:03:05] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:03:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:03:37] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[22:04:09] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[22:04:52] <jason_> acrichto: yeah i've only used it on linux using LD_PRELOAD or staticly linking it into my executable. you might need to make sure its listed before libSystem.dylib or something (i haven't done OS X dev since like 10.2)
[22:05:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:06:40] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:06:55] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[22:07:45] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:08:26] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[22:09:32] *** Quits: ksf (ksf@moz-754A6CD8.adsl.hansenet.de) (Client exited)
[22:09:59] *** Joins: Toussa (Mibbit@moz-D7E0D603.adsl.alicedsl.de)
[22:10:11] <Toussa> Hi guys
[22:10:39] *** Joins: ksf (ksf@moz-754A6CD8.adsl.hansenet.de)
[22:10:42] <kmc> hi Toussa
[22:10:58] <Toussa> how is it going?
[22:11:43] <kmc> pretty well :)
[22:11:53] <Toussa> good!
[22:12:14] <Toussa> do you have brain space to receive a question?
[22:13:08] <kmc> give it a shot :)
[22:13:41] <Toussa> I try to implement a Monoid Pattern
[22:15:15] <Toussa> i have two Trait. SemiGroup { fn append(&self, n :Self) ->} and Monoid {fn unit<T>() -> T}
[22:16:24] *** Joins: yo (Mibbit@moz-7968B5BB.hsd1.ca.comcast.net)
[22:16:29] <Toussa> i made the Monoid generic because to have such notation Monoid<int>::unit()
[22:16:39] <Toussa> or Monoid::unit<int>()
[22:16:51] <Toussa> i dunno if it make sense
[22:16:51] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[22:16:52] <rntz> pretty sure you don't want the monoid to be generic there
[22:16:57] <rntz> you want fn unit() -> Self, I think
[22:17:03] <yo> who you calling a Monoid?
[22:17:59] <Toussa> rntz: Yep, i read that somewhere, but in term of notation, it kindda suck
[22:18:05] <rntz> ...?
[22:18:36] <rntz> what notation does it give you, and what notation do you want?
[22:18:37] *** Quits: yo (Mibbit@moz-7968B5BB.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:18:41] <Toussa> i end up with something like 10.append(Monoid::unit())
[22:18:52] *** Joins: true_droid (true_droid@moz-E365ACEF.volia.net)
[22:19:09] <Toussa> and i'd like to see the typename where unit is called
[22:19:18] <Toussa> something like T::unit()
[22:19:42] <kmc> I think there's a proposed syntax Monoid::unit::<for int>() but it doesn't exist yet
[22:19:50] <Toussa> then you explicitly display which Type unit value you want
[22:20:00] <rntz> kmc: hm. I would assume Monoid<int>::unit()
[22:20:07] <kmc> but why do you want to write it? type inference is great :)
[22:20:09] <rntz> oh, but that doesn't jibe with how the rust folks think of typeclasses, does it
[22:20:11] *** Quits: ksf (ksf@moz-754A6CD8.adsl.hansenet.de) (Ping timeout)
[22:20:15] <rntz> they think (int : Monoid), not Monoid<int>
[22:20:20] <rntz> bleh
[22:20:26] <rntz> Toussa: you can create a wrapper function
[22:20:26] <kmc> you can write  «let x: int = 10.append(Monoid::unit())»
[22:20:36] <rntz> fn unit<T:Monoid>() -> T { return Monoid::unit(); }
[22:20:38] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:20:38] <rntz> er
[22:20:49] <rntz> fn unitfor<T:Monoid>() -> T { return Monoid::unit(); }
[22:21:24] <rntz> and then unitfor::<int>() will do what you want
[22:21:24] <Toussa> rntz: yep indeed, it works pretty well this way
[22:21:39] <Toussa> thanks for the advise!
[22:22:26] <Toussa> kmc: indeed type inference rock, but in this case, for myself, i want to explicitly see the type
[22:22:30] *** Joins: ksf (ksf@moz-9C20EA34.adsl.hansenet.de)
[22:22:39] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[22:23:01] <Toussa> kmc: im learning the application of monoids and monads atm
[22:23:29] <Toussa> i could use haskell, but i'd like to give it a try in rust, see if can work as well
[22:24:04] <Toussa> Thanks a lot for you answers ;)
[22:27:26] <kmc> Toussa: if you want to write the type then you can use 'let' or id::<T>(...)
[22:27:41] <kmc> unfortunately we don't have anything as nice as Haskell where (e :: T) is a valid expression
[22:27:50] <dbaupp> (yet...)
[22:29:51] *** Quits: Toussa (Mibbit@moz-D7E0D603.adsl.alicedsl.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:30:43] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[22:30:48] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:30:59] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[22:31:22] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:31:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:31:27] *** Quits: ksf (ksf@moz-9C20EA34.adsl.hansenet.de) (Quit: Leaving)
[22:31:38] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[22:31:56] *** Quits: _Vi (vi@527C345F.497AA854.B16B3BE6.IP) (Ping timeout)
[22:32:15] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:32:31] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[22:35:43] *** Joins: carllerche (carllerche@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:35:57] *** Quits: carllerche (carllerche@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: carllerche)
[22:40:47] *** Quits: virgil (chatzilla@946FC913.D507B90B.CD219C36.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131017174213])
[22:41:55] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[22:43:39] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[22:44:55] <tjc> I've actually wanted (e :: T) in Rust pretty frequently
[22:45:08] <tjc> solely for allowing me to turn a type error message into an easier-to-understand one :-)
[22:45:36] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[22:46:01] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[22:50:51] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[22:51:42] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[22:53:15] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[22:53:45] <sam113101> should I start learning rust
[22:53:59] <kmc> yes
[22:54:27] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[22:54:41] <sam113101> should I update my vim syntax, color, etc. files for rust?
[22:54:43] *** Joins: kermie (Mibbit@moz-DC77EB66.red-2-139-150.staticip.rima-tde.net)
[22:54:47] <sam113101> last time I used rust it was 0.7
[22:54:59] <kmc> yeah, grab the newest ones out of the repo
[22:54:59] <kimundi> tjc: I just confirmed the first successful fail!() -> task::try string propagation :)
[22:55:04] <kmc> whatever version of the compiler you're building
[22:55:07] <tjc> kimundi: *high-five*
[22:55:12] <kmc> that said I don't think the lexical syntax has changed much since 0.7
[22:55:24] <sam113101> ok
[22:55:24] * kimundi *high fives back*
[22:56:29] *** Quits: kermie (Mibbit@moz-DC77EB66.red-2-139-150.staticip.rima-tde.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:57:19] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:57:47] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[22:58:10] <dbaupp> kimundi: \o/
[22:58:53] <kimundi> Now I need to actually write tests, though :P
[22:59:36] <tjc> the test should be pretty easy!
[22:59:40] <tjc> at least the first one, anyway :-)
[23:00:59] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:02:46] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[23:07:07] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[23:08:16] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[23:08:25] *** Joins: jordyd (jordyd@moz-BB628E0D.seg48.ucf.edu)
[23:10:49] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:10:52] <earlzlap> If I have a string like "foo,bar,biz", what would be the best way to split that at the comma so that it becomes ["foo", "bar", "biz"] ? 
[23:11:25] <mcpherrin> split_iter
[23:11:57] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[23:12:14] <mcpherrin> rusti:  "Mary had a little lamb".split_iter(' ').collect()
[23:12:16] -rusti- pastebinned 6 lines of output: http://ix.io/8Ai
[23:12:18] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[23:12:25] <earlzlap> I saw that, but how would I turn an iterator into an array? That also appears to iterate over chars, not strings
[23:12:29] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:12:30] <earlzlap> oh.. 
[23:12:39] <mcpherrin> let v: ~[&str] = "Mary had a little lamb".split_iter(' ').collect(); v
[23:12:40] <benh> .collect() turns an iterator into a vec
[23:12:54] <mcpherrin> rusti: let v: ~[&str] = "Mary had a little lamb".split_iter(' ').collect(); v
[23:12:54] -rusti- ~["Mary", "had", "a", "little", "lamb"]
[23:13:22] <earlzlap> So is the usual behavior to return iterators where traditionally an array would be returned? 
[23:13:37] <mcpherrin> Well iterators are generally more useful
[23:13:41] <Luqman> earlzlap: you can chain iterators together
[23:13:52] <earlzlap> what do you mean chain together? 
[23:13:59] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[23:14:02] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[23:14:04] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[23:14:13] <strcat> the Iterator trait provides a bunch of default methods, and some of them are 'iterator adaptors'
[23:14:19] <strcat> as in they return an iterator wrapping the old one
[23:14:23] *** jorendorff is now known as jorendorff_away
[23:14:28] <strcat> map, filter, take_while, skip_while, take, skip, and so on
[23:14:33] <earlzlap> ahhh. 
[23:14:33] <sfackler> stuff like "foo".split_iter(' ').filter(|s| s.len() != 10).collect()
[23:14:37] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[23:14:52] <earlzlap> similar to IEnumerable<T> or some such in C#
[23:14:54] <strcat> you should usually be able to avoid collect
[23:14:58] <strcat> earlzlap: yes
[23:15:16] <strcat> but they are more like ranges in D
[23:15:44] <strcat> rusti: let xs = &[1, 2, 3]; let mut it = xs.iter(); (it.next(), it.next_back())
[23:15:45] -rusti- (Some(&1), Some(&3))
[23:15:51] *** Quits: canhtak (jeremy@moz-44A7DE0.wl.t.ulaval.ca) (Quit: canhtak)
[23:16:39] <kimundi> who here is experienced with the rustpkg implementation?
[23:17:09] <tjc> kimundi: Mostly me, right now
[23:17:54] <strcat> rusti: let mut xs = [1, 2, 3, 4, 5, 6, 7, 8, 9]; xs.mut_iter().filter(|x| **x & 1 == 0).reverse_(); xs
[23:17:55] -rusti- [1, 8, 3, 6, 5, 4, 7, 2, 9]
[23:17:59] <earlzlap> thanks. use to the C# way of everything returning either arrays or List<T>s heh. I imagine iterators are more performant in most cases as well due to not serializing to an array multiple times
[23:18:45] <kimundi> tjc: in librustpkg/test.rs line 620: "Not the best test -- doesn't test that we failed in the right way. Best we can do for now." I'm trying to find what the failure message is so that I can test for it :)
[23:19:00] <tjc> kimundi: right. let me see what it is there...
[23:19:39] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[23:19:40] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Client exited)
[23:19:52] <kimundi> (I'm still in process of fixing all the try result value type changes)
[23:20:45] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[23:21:56] <tjc> kimundi: ok, it should be enough to check that "supplied path for package dir does not exist" is a substring of the failure message
[23:22:01] <dbaupp> earlzlap: yes
[23:22:08] <brson> if we have a meetup in the sf office in november should we get catering and/or alcohol?
[23:22:50] <tjc> brson: the meetup is mainly a talk, right?
[23:23:06] <kimundi> tjc: Ha, okay. Need to find out what str method to call for that then. :)
[23:23:07] <dbaupp> earlzlap: they also optimise very well (e.g. `vector.iter().map(|&i| i + 1).fold(0, |t, n| t + n)` probably vectorises with -O / --opt-level=3)
[23:23:20] <brson> tjc: idk!
[23:23:22] <tjc> kimundi: I think we have a method that does exactly what's needed, I just don't remember what it's called :-)
[23:23:32] <tjc> brson: I thought pcwalton was tentatively giving a talk on sprocketnes for the next meetup
[23:23:36] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[23:23:43] <strcat> dbaupp: well, it will vectorize without fold but last time I checked it didn't feel like doing it if you did a fold
[23:23:44] <pcwalton> I'm always happy to talk sprocketnes :)
[23:23:56] <tjc> brson: In my opinion, though, catering yes, alcohol no. If we're going to alternate between a pub meetup and an office meetup, the people who don't want to be in an environment with alcohol can come to the office ones
[23:24:04] <tjc> and the people who like to drink can go to the pub meetups or both :-)
[23:24:41] <brson> erickt: opinions?
[23:25:32] <dbaupp> strcat: oh :(
[23:26:37] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[23:26:37] <strcat> dbaupp: it's an LLVM issue more than a rust one
[23:26:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[23:26:46] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:26:49] <strcat> it doesn't vectorize in C++ either if you separate the loop body
[23:27:06] <strcat> even though it inlines
[23:27:20] <brson> i wonder how useful tuple structs are. it seems like we often end up converting them to normal structs so the fields can be private
[23:28:24] <tjc> brson: I've never found much use for them
[23:28:38] <tjc> and they always seem to be the one special case that doesn't work :-)
[23:29:24] <acrichto> brson: a quick grep shows that there's maybe only 2 or three uses of more-than-one-field tuple structs in the compiler
[23:29:39] *** Quits: true_droid (true_droid@moz-E365ACEF.volia.net) (Client exited)
[23:29:55] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:29:57] <acrichto> actually make that 1
[23:30:02] <acrichto> except for simd
[23:30:05] <strcat> we use the enum variant a lot, obviously
[23:30:16] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:30:43] <acrichto> git grep -w 'struct .*(.*,.*)' src
[23:30:55] <acrichto> rustdoc/html/format and that's kinda it
[23:31:20] *** Quits: pnkfelix (pnkfelix@82680D2B.9F7BDBDF.8B824544.IP) (Ping timeout)
[23:31:21] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[23:31:57] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:32:07] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:32:46] *** Quits: MauricioC (mauricioc@moz-3A63F597.impa.br) (Quit: Lost terminal)
[23:33:44] *** Quits: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[23:36:32] <strcat> dbaupp: could deriving be taught to just use Eq instead of ::cmp::Eq? I know it'd be slightly annoying in libstd itself
[23:37:33] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[23:37:50] <sfackler> it should be able to use ::std::cmp::Eq if cmp is added to the "mod std" inside of libstd/mod.rs
[23:38:17] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[23:39:03] <dbaupp> strcat: my idea is to provide a #[syntax_ext_path(std="foo", extra="blah")] attribute (either of which can be empty, defaulting to `::std` or `::extra`), so that libstd/extra can actually use them properly
[23:39:32] <strcat> dbaupp: I'm thinking about their usage outside of the stdlib
[23:39:32] <dbaupp> strcat: and then you'd use #[syntax_ext_path(std="")] I guess
[23:39:38] <strcat> the traits will have the same name but not the same path
[23:39:42] <dbaupp> strcat: yes, I know, this would covert that
[23:39:45] <dbaupp> *cover
[23:40:04] <dbaupp> (although, yes, having them not in cmp::Eq would make it annoying.)
[23:42:39] <ChrisMorgan> acrichto: FYI, splitting a TcpStream into reader and writer (as discussed several hours ago) is something that rust-http *needs* in order to be efficient.
[23:43:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[23:43:16] <acrichto> ChrisMorgan: oh interesting! I was envisioining something like "fn split(~self) -> (~Writer, ~Reader)", would that be what you need?
[23:43:35] <ChrisMorgan> Yep, that'd be fine (though why ~self rather than self?)
[23:43:37] <ChrisMorgan> g2g
[23:43:58] <acrichto> brson: I mean to ask you if you had thought about that before
[23:44:12] <acrichto> right now you can't simultaneously read and write from a stream
[23:44:22] <acrichto> as in having one thing wait for a read while someone else is writing
[23:44:54] <acrichto> having a generic select over I/O events would be sufficient, but that may also be far enough in the future that another interim solution is needed
[23:45:01] <sfackler> acrichto: will the writer and reader be Send or will they have to live in the same task?
[23:45:13] <acrichto> sfackler: they'd be Send to get sent around
[23:45:30] *** jorendorff_away is now known as jorendorff
[23:45:42] <acrichto> although the TcpStream has methods for stuff like the peer name and whatnot, but you'd lose that once you split the stream
[23:45:55] <acrichto> there could be a TcpReader/TcpWriter, but I'd rather avoid that kind of blowup
[23:46:32] <acrichto> sfackler: does postgres need this ability anywhere inside of it as well?
[23:46:41] <bjz> brson: is there a way to get all the events from a Port's 'mailbox' without having to do an infinite loop?
[23:46:46] *** Quits: tjc (tjc@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: zzzzzzzzzz)
[23:47:30] <bjz> brson: I want to be able to call an 'update' funtion that gets all the messages that have been recieved since it was last called
[23:47:37] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[23:48:24] <sfackler> acrichto: not currently
[23:48:37] *** Joins: SingingBoyo (sboyo@DA28FB90.A5D0D593.4F048BDC.IP)
[23:48:43] <sfackler> the thing that would be most useful for it would be a nonblocking read
[23:48:55] <acrichto> how so?
[23:48:59] <sfackler> or I guess more specifically read-if-there's-data
[23:49:18] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:49:29] <sfackler> as opposed to read-with-a-callback
[23:49:54] <acrichto> I think that we would like to support async I/O at some point, but it's not clear how it will be done right now
[23:49:59] *** Quits: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:50:04] <sfackler> currently the only way to check for an asyncronous notification is to send off a no-op query and then check for notifications
[23:50:30] <jason_> why? this is what tasks and scheduler is for, so you don't end up with callback spaghetti
[23:50:42] *** bhearsum is now known as bhearsum|afk
[23:50:51] <acrichto> jason_: it'd be optional, you'd basically pick and choose whichever style you liked
[23:50:54] <sfackler> it has nothing to do with callbacks
[23:50:57] <dbaupp> strcat: fwiw, changing the derivings to not use absolute paths for the traits would be fairly easy
[23:50:58] <acrichto> at least that was the theory I thought
[23:51:00] <sfackler> er, my issue doesn't 
[23:51:14] <acrichto> sfackler: this is a tcp connection, right?
[23:51:19] <sfackler> yeah
[23:51:39] <dbaupp> strcat: syntax/ext/deriving and editing the `path` field of all the TraitDef structs.
[23:52:04] <sfackler> basically just calling select(2) on it to see if the kernel has anything in the read buffer
[23:52:36] <jason_> sfackler: why not call read()?
[23:52:36] * acrichto looks at uv.h
[23:52:51] <sfackler> jason_ read will block until there is data, but there may never be any
[23:53:26] <jason_> sfackler: read with a timeout?
[23:53:37] <sfackler> that also doesn't exist :P
[23:54:25] *** Joins: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP)
[23:54:42] <acrichto> hm it doesn't look like libuv exposes an ability to do that
[23:54:50] <acrichto> but it would be nice to have timeouts in general
[23:54:52] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Client exited)
[23:55:12] <jason_> i would be *shocked* if libuv didn't support timeouts because i know libev does
[23:55:13] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[23:55:39] <acrichto> libuv doesn't look like it has support in the read functions themselves
[23:55:54] <acrichto> as in there's not a uv_read_timeout
[23:55:59] <acrichto> but it's all in an event loop and you can cancel reads
[23:56:10] <acrichto> and uv definitely has timers
[23:56:21] <strcat> sfackler: I don't think read blocks?
[23:56:43] <strcat> if you use O_NONBLOCK
[23:56:46] *** jorendorff is now known as jorendorff_away
[23:57:02] *** Quits: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP) (Ping timeout)
[23:57:39] <sfackler> strcat: yeah, but I'm using Reader::read, not read(2) :P
[23:57:44] <ercxx> ChrisMorgan: ping
[23:57:58] <strcat> sfackler: the stdlib I/O doesn't support a generic select mixing timers/signals and I/O
[23:58:24] <jason_> acrichto: you use uv_timer i guess, so before you read/send/connect you set a uv_timer
[23:58:29] <strcat> need to either use something else or build on top of tasks + channels if you need it
[23:58:34] <strcat> jason_: it won't work
[23:58:41] <strcat> there's no way to stop a timer early, we don't have select
[23:58:47] <brson> acrichto: yes not being able to block on reads while performing writes is a problem. your 'split' method is the only real idea i have
[23:58:57] <brson> acrichto: I assume other languages solve this with global gc?
[23:59:05] <erickt> brson: catering, definitely.
[23:59:08] *** Joins: echristo (echristo@4241698A.2E4FD3DD.225F4543.IP)
[23:59:12] <acrichto> brson: that's what I imagine (for other languages)
[23:59:15] <brson> acrichto: or for C just sharing the file handles
