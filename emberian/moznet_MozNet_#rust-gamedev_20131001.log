[00:02:41] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[00:17:09] *** Quits: maik (maik@moz-6A162886.dip0.t-ipconnect.de) (Ping timeout)
[00:25:40] <noct> dual contouring is nice for terrain voxels
[00:25:55] <noct> less bloby than marching cubes
[00:27:03] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[00:28:54] <noct> jeaye: you should look into it for q3, it would work well with the sharp features of a quake-like level
[00:29:10] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[00:29:37] <jeaye> Yeah, I've been considering something like that.
[00:30:02] <jeaye> Long down the road though, until I start working on a different renderer.
[00:30:12] <jeaye> Thanks for the tip.
[00:46:20] *** Quits: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP) (Quit: tikue_)
[00:52:28] *** Joins: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP)
[00:54:47] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[01:11:39] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:12:57] <jeaye> cmr: https://github.com/jeaye/ncurses-rs
[01:18:25] <jeaye> pnkfelix: There's a note for you in there ^
[01:20:23] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[01:22:50] <pnkfelix> i can't believe I've let that library lie fallow for so long
[01:24:16] *** Joins: yeri_ (yeri@41C91A8A.CE609BA5.E39FBF79.IP)
[01:26:44] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[01:27:07] *** Quits: yeri_ (yeri@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[01:30:00] *** Joins: maik (maik@moz-6A162886.dip0.t-ipconnect.de)
[01:38:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:43:08] *** Quits: maik (maik@moz-6A162886.dip0.t-ipconnect.de) (Ping timeout)
[02:17:25] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[02:21:28] *** Quits: canhtak (jeremy@moz-82E9E6D2.wl.t.ulaval.ca) (Quit: canhtak)
[02:26:31] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:30:48] *** Quits: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP) (Quit: tikue_)
[02:32:12] *** Quits: kimundi (kimundi@moz-FECF1514.dip0.t-ipconnect.de) (Ping timeout)
[02:35:42] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:35:44] *** Joins: zz_kimundi (kimundi@moz-F02A6FA4.dip0.t-ipconnect.de)
[02:35:50] *** zz_kimundi is now known as kimundi
[02:40:09] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[02:42:57] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:43:19] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[02:45:00] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:56:10] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[03:19:55] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:29:35] *** Joins: Ferreus_ (ferreus@moz-19B48F1C.dyn.telefonica.de)
[03:30:01] *** Quits: Ferreus (ferreus@moz-8A4B42D4.dyn.telefonica.de) (Ping timeout)
[03:43:33] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[03:45:13] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[03:45:25] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[03:50:34] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[03:55:45] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[03:58:57] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[04:12:08] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:13:47] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:41:26] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:43:21] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:12:53] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:20:02] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:28:59] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[05:57:50] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Input/output error)
[05:57:52] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[06:16:40] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:21:23] *** Joins: timot (timot@moz-1A989AA3.mobile.tre.se)
[06:41:51] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[06:42:53] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[06:51:51] *** Quits: timot (timot@moz-1A989AA3.mobile.tre.se) (Connection reset by peer)
[06:51:54] *** Joins: timot_ (timot@moz-1A989AA3.mobile.tre.se)
[06:54:29] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:33:02] *** Joins: timot (timot@moz-1A989AA3.mobile.tre.se)
[07:34:07] *** Quits: timot_ (timot@moz-1A989AA3.mobile.tre.se) (Ping timeout)
[07:34:50] *** Quits: timot (timot@moz-1A989AA3.mobile.tre.se) (Ping timeout)
[07:37:20] *** Joins: timot (timot@moz-DF4A6D9D.anonymous.at.anonine.com)
[07:42:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:07:18] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:07:23] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:25:50] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[08:31:45] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:33:03] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[08:35:49] *** Quits: timot (timot@moz-DF4A6D9D.anonymous.at.anonine.com) (Ping timeout)
[08:35:54] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[08:36:04] *** Joins: krebbit (Mibbit@moz-6578D033.adsl.highway.telekom.at)
[08:36:36] *** Quits: krebbit (Mibbit@moz-6578D033.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[08:39:21] *** Joins: squiddy (squiddy@moz-738B3C60.adsl.alicedsl.de)
[08:55:36] *** Joins: maik (maik@moz-6A162886.dip0.t-ipconnect.de)
[08:58:01] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[09:04:02] *** Quits: maik (maik@moz-6A162886.dip0.t-ipconnect.de) (Ping timeout)
[09:21:14] *** Joins: maik (maik@moz-6A162886.dip0.t-ipconnect.de)
[09:22:11] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Ping timeout)
[09:23:18] *** Quits: maik (maik@moz-6A162886.dip0.t-ipconnect.de) (Client exited)
[09:27:58] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[09:57:21] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Quit: dbaupp)
[10:00:10] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[10:02:28] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:02:47] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:24:44] *** Joins: maik (maik@C08593A3.C3960D65.B166373C.IP)
[10:26:45] *** Quits: maik (maik@C08593A3.C3960D65.B166373C.IP) (Ping timeout)
[12:04:52] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[12:06:05] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:18:38] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[12:25:33] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[12:30:37] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[12:33:08] *** Joins: timot (timot@moz-B3E7DB2F.anonymous.at.anonine.com)
[12:38:51] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[12:55:38] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[12:57:14] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[13:13:11] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[13:14:22] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[13:48:15] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[13:53:46] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[13:59:17] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:59:22] *** Quits: timot (timot@moz-B3E7DB2F.anonymous.at.anonine.com) (Ping timeout)
[14:01:24] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[14:02:02] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[14:08:58] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[14:23:09] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[14:26:50] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[14:28:54] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[14:40:05] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[14:45:09] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[14:45:24] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[14:54:03] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[15:03:37] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[15:04:37] <kvark> bjz: I'd like to talk about glfw-rs pull request 33
[15:05:15] <kvark> first of all, the title "Really use managed closures for Window callbacks." is misleading, since managed closures are removed (yet?) from the language
[15:07:43] <kvark> sebcrozet doesn't seem to be here, are you?
[15:09:38] <dbaupp> kvark: yes, they are removed now, but that PR was opened month(s?) ago when they were still around
[15:11:08] <kvark> dbaupp: I've read through the discussion, and there were several proposals on how to "make it work", but none of them seemed anywhere near to be convenient
[15:11:54] <kvark> do you know, if these proposals are temporary workarounds, or this is supposed to be this way from now on?
[15:12:19] <kvark> (namely, Solution 1-3 from sebcrozet)
[15:17:53] <kvark> Oh well... I guess I'll just comment on Github then :(
[15:18:47] * dbaupp has no idea
[15:26:45] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Ping timeout)
[15:29:50] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:34:55] *** Quits: StarLight (StarLight@moz-21100A01.dynamic.avangarddsl.ru) (Ping timeout)
[15:36:43] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[15:39:29] *** Joins: StarLight (StarLight@moz-3A24043E.pppoe.avangarddsl.ru)
[15:46:10] *** Joins: sastraxi (Thunderbir@moz-CAF0BAE9.cpe.net.cable.rogers.com)
[15:46:28] *** Quits: sastraxi (Thunderbir@moz-CAF0BAE9.cpe.net.cable.rogers.com) (Quit: sastraxi)
[15:50:16] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[15:52:03] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[15:56:53] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[16:15:49] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:19:03] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[16:22:19] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[16:22:23] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[16:48:23] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[16:58:37] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:01:03] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[17:01:33] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:01:43] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:11:59] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[17:24:13] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:28:25] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[17:30:34] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (NickServ (GHOST command used by stevekla1nik))
[17:30:37] *** stevekla1nik is now known as steveklabnik
[17:30:49] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[17:40:45] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:40:57] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:50:05] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:50:05] *** ChanServ sets mode: +qo pcwalton pcwalton
[18:05:16] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:08:34] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:09:37] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[18:10:17] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:10:17] *** ChanServ sets mode: +qo pcwalton pcwalton
[18:10:21] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[18:14:16] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:19:27] *** Quits: squiddy (squiddy@moz-738B3C60.adsl.alicedsl.de) (Ping timeout)
[18:27:02] *** Joins: timot_ (timot@moz-4DC1FDA.bredband.tre.se)
[18:27:28] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[18:32:57] *** Quits: timot_ (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[18:35:39] *** Joins: timot_ (timot@moz-D037EF70.cust.tele2.se)
[18:40:02] *** Joins: timot (timot@moz-4DC1FDA.bredband.tre.se)
[18:40:32] *** Quits: timot_ (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[18:41:12] *** Joins: RayWizard (kvirc@E248DB08.9470356F.5B864609.IP)
[18:42:49] *** Quits: timot (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[18:45:21] *** Joins: timot (timot@moz-4DC1FDA.bredband.tre.se)
[18:57:29] *** Joins: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP)
[19:18:26] *** Joins: timot_ (timot@moz-7088860C.bredband.tre.se)
[19:18:45] *** Quits: timot (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[19:31:18] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[19:38:29] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:42:40] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[19:49:14] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[20:05:10] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:14:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[20:14:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:14:38] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:14:38] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[20:22:27] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[20:34:08] <bjz> kvark: jack might have some ideas, they are using it on servo
[20:38:06] <kvark> bjz: still no response though...
[20:38:22] *** Quits: pksu (pksu@moz-2051CC54.fi) (Ping timeout)
[20:38:26] *** Joins: pksu (pksu@moz-2051CC54.fi)
[20:39:06] <bjz> kvark: yup :(
[20:39:53] <bjz> something that really needs to be figured out
[20:40:50] <kvark> I'm not that much against TLS, at least as a temporary solution... It's just that I've never heard of it (in the context of Rust) until this issue
[20:40:54] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[20:41:27] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[20:42:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:42:42] <bjz> yeah here is the relevant code in servo: https://github.com/mozilla/servo/blob/master/src/components/main/platform/common/glfw_windowing.rs#L58
[20:42:54] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:43:52] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[20:44:11] <bjz> lbergstrom: o/
[20:44:14] <kvark> so they ended up with TLS
[20:44:28] <bjz> kvark: lbergstrom was helping out with the callbacks
[20:45:37] <lbergstrom> bjz, kvark: we don't want to store the window in TLS long-term, but it was the quickest solution to get servo onto a new Rust build
[20:46:26] <bjz> lbergstrom: yeah, kvark was saying that TLS 'felt' like a short term workaround
[20:46:33] <lbergstrom> to answer the question from bjz on github, the reason we didn't stick with the event-based version is that it meant that:
[20:46:42] <kvark> I'll follow the same route then... TLS it is for now
[20:46:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:46:58] <lbergstrom> 1) poll_events no longer dispatched the event all the way to the handler (just queued an event)
[20:47:08] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:47:09] <lbergstrom> 2) the handlers were also then no longer run on the main/platform thread
[20:47:39] <lbergstrom> since lots of handlers call back into glfw (eventually), that seemed very risky for developers using it
[20:48:29] <bjz> lbergstrom: would it be possible to integrate some of the wrapping that servo does arounf glfw-rs into glfw-rs itself? or would that be too restricting?
[20:48:32] <kvark> can we forbid access to glfw inside the handler?
[20:49:42] <bjz> kvark
[20:49:45] <bjz> woops
[20:49:52] <lbergstrom> kvark: not that I'm aware of. a call to anything in the glfw library will probably break (I believe almost every underlying C method requires that you are on the thread you created the window on)
[20:50:10] <lbergstrom> bjz: once we have something clean for the event solution, that sounds like a good idea. 
[20:50:36] <bjz> kvark: apparently the mozilla folks are getting ready for the Mozilla Summit, so they are quite busy - hence the difficulty in getting responses
[20:50:39] <lbergstrom> I also have some pending changes that will allow us to use wait_events (namely, a glfw::interrupt() function that does a platform-specific window messaging call to "break" it out of the wait)
[20:50:42] <bjz> lbergstrom: cool
[20:51:38] <lbergstrom> that change lets a thread wait on the windowing system and check various streams for messages so that e.g., you can process window events and then get any physics/world updates as well instead of polling like we do today
[20:51:54] <bjz> nice :)
[20:52:22] <lbergstrom> kvark: yeah, sorry about that. we have a pretty bad gpu memory leak I'm trying to track down in servo that hurts our demo and jack is doing a workweek for the daala (sp?) video transcoder stuff
[20:52:25] <bjz> lbergstrom: I would *really* love to close seb's PR with an adequate solution in place. Luckily Servo is now under pressure to find something that works :)
[20:53:28] <jack> well, removing @fn from servo was really easy
[20:53:33] <jack> there was no real shoring of note
[20:54:04] <bjz> kvark: we did a big cicuit in trying to implement a decent backend for the callbacks - first attempting to use ports/chans, but we settled on hooking into the glfwWindowUserPointer
[20:54:08] <jack> i had to use a struct plus a @Trait in a single case (somewhere in netsurfcss callback stuff) an all the rest were just switched directly to ~fn
[20:54:38] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[20:54:57] <bjz> ah nice
[20:55:45] <bjz> jack: oh, and just so you know, I'm hoping to do most of my gl-rs/glfw-rs talk in this channel, so it can be seen by the other graphics dudes
[20:55:45] <kvark> bjz: so ports/chans didn't work for you? Frankly, I don't see how you can get this done without actually using callbacks, and still not introducing latency
[20:56:59] <bjz> kvark: that was just the backend - we were still using callbacks externally
[20:57:20] <kvark> uh ok
[20:58:11] <Amaranth> bjz: Would you be open to adding a workaround for platforms missing KHR_debug to gl-rs? It would basically be an option that makes gl-rs generate wrappers of every function that call glGetError after and call a callback method if one is set
[20:58:15] <bjz> kvark: just letting you know we have been battling this stuff for a while :) but yeah, we'll get there
[20:59:15] <kvark> bjz: thanks for the info, there seem to be a lot of research done here while I was absent
[20:59:49] <bjz> kvark: no worries, it is a pain point. but it is always good to have more brains working on it
[21:00:27] <bjz> Amaranth: hmm, will have to think
[21:00:35] <bjz> Amaranth: maybe post an issue
[21:00:52] <Amaranth> Sure, it's an ugly hack and a slippery slope
[21:01:15] <Amaranth> But KHR_debug is just too awesome to not allow for the poor folks who have crappy drivers (mostly OS X users)
[21:01:25] <kvark> (sorry for bringing up this name again) OpenTK did that too (check for GL error on each function)
[21:01:57] <tiffany> I have a similar mechanism in my engine
[21:01:58] <bjz> Amaranth: aye. will Mavericks open the door for this?
[21:02:06] <tiffany> there's a wrapper function around glGetError and it is spammed everywhere
[21:02:14] <tiffany> as for normal debugging I'm using ARB_debug_output
[21:02:20] <Amaranth> bjz: Haven't tested but Mavericks is only promising OpenGL 4.2 while KHR_debug is only required as of 4.3
[21:02:22] <tiffany> is there any reason I should use KHR_debug instead?
[21:02:32] <bjz> >.<
[21:02:42] <Amaranth> tiffany: They're mostly identical but going forward KHR_debug is more likely to exist
[21:03:21] <Amaranth> iirc mesa added KHR_debug over the summer
[21:03:40] <tiffany> I noticed that mesa actually has performance warnings with ARB_debug_output now
[21:03:51] <Amaranth> Yay valve? :)
[21:03:59] <bjz> http://renderingpipeline.com/2013/09/simulating-khr_debug-on-macos-x/
[21:04:24] <Amaranth> bjz: Yep, that's what reminded me I should look into doing it with gl-rs :)
[21:04:25] <cmr> bjz: Amaranth: I'd be ok with an option for that in the generator
[21:04:28] <cmr> I feel like it'd be valuable.
[21:05:13] <bjz> Amaranth: we could also just have a separate, gl-rs specific function that does it, with a performance warning on there
[21:05:30] <Amaranth> Eh?
[21:05:32] <bjz> that way we wouldn't have to overload the base function
[21:05:36] <bjz> I dunno...
[21:05:51] <Amaranth> Oh, I see
[21:06:03] <Amaranth> Well the point is to pretend KHR_debug exists everywhere via support in the wrapper
[21:06:15] <bjz> yup
[21:06:46] <Amaranth> If you have separate functions you have to go out of your way
[21:08:14] <bjz> yup, agreed
[21:09:15] <bjz> cmr: have you seen this? https://github.com/bjz/gl-rs/pull/6
[21:09:55] <bjz> cmr: not sure I'm a fan of how he implemented it, but it's something the would be useful
[21:10:15] <bjz> Amaranth: yes, make an issue on gl-rs if you can
[21:10:46] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[21:11:21] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[21:11:21] *** ChanServ sets mode: +qo pcwalton pcwalton
[21:12:23] <bjz> Amaranth: is that something you might be interested in implementing?
[21:12:38] <bjz> Something along the lines of that blog post?
[21:12:50] <Amaranth> bjz: If I can find my way around the generator sure
[21:12:59] <bjz> :)
[21:13:15] <bjz> Amaranth: I tried to make it reasonably easy to follow
[21:13:42] <bjz> Amaranth: lots of the generators I've seen have been rather astronautically designed
[21:14:26] <cmr> astronautically designed?
[21:15:13] <Amaranth> cmr: http://www.joelonsoftware.com/articles/fog0000000018.html
[21:15:38] <bjz> overly complicated/general
[21:16:09] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[21:16:42] <bjz> I should probably cut out the struct generator even
[21:17:52] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[21:17:58] <cmr> Heh
[21:18:44] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[21:19:38] <bjz> jeaye: o/
[21:19:48] <jeaye> bjz: o/
[21:20:06] *** Joins: mark_edward (quassel@7C4F88E6.78B47078.37339E3A.IP)
[21:20:15] <bjz> jeaye: https://botbot.me/mozilla/rust-gamedev/msg/6530637/
[21:22:25] <jeaye> bjz: What am I looking for?
[21:22:49] <bjz> Amaranth: "bjz: Would you be open to adding a workaround for platforms missing KHR_debug to gl-rs? It would basically be an option that makes gl-rs generate wrappers of every function that call glGetError after and call a callback method if one is set"
[21:23:08] <bjz> renderingpipeline.com/2013/09/simulating-khr_debug-on-macos-x/
[21:23:19] <jeaye> Ah, right.
[21:23:37] <jeaye> I know of ARB_debug_output
[21:23:55] <jeaye> It's not a big deal though.
[21:24:08] <tiffany> it can produce useful warnings
[21:24:11] <jeaye> q3 just uses the check!() macro to get the same work done.
[21:24:24] <tiffany> I, for one, never knew that mesa had to recompile every shader in my engine simply because I was compiling them before binding my FBO
[21:24:33] <jeaye> Makes it easy to search for GL calls, too. :P
[21:24:45] <Amaranth> Right this is why it'd be an option, you might prefer your own setup
[21:24:58] <Amaranth> Just like you might decide not to use KHR_debug or ARB_debug_output
[21:25:08] <jeaye> It'd be a nice option though. I agree, bjz .
[21:25:20] <kvark> tiffany: what?! why?
[21:25:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:25:26] <cmr> I, for one, would use it.
[21:25:40] <tiffany> kvark: because my FBO has 4 colour channels and the default framebuffer only has one, probably
[21:25:49] <Amaranth> Should it check for those extensions and just proxy them or should it always do its own thing?
[21:26:15] <jeaye> kvark: I was wondering, do you use GL and D3D at work?
[21:26:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:26:43] <kvark> tiffany: that seems so broken... as if it had to recompile shaders when you draw it with a different mesh....
[21:26:51] <tiffany> no, it's not like that
[21:27:04] <tiffany> you want to use a given set of shaders with a given framebuffer configuration
[21:27:09] <tiffany> for example
[21:27:23] <tiffany> if you suddenly decide to use HDR with floating point colour values, but your shader is outputting bytes
[21:27:23] <kvark> jeaye: it's difficult to answer without exposing some sensitive stuff... but we don't have GL, unfortunately. I'm pushing it, though I don't have that much power here
[21:27:26] <tiffany> it won't know to scale up
[21:27:32] <tiffany> and thus recompile
[21:27:58] <jeaye> aye
[21:28:08] <tiffany> in my case, my shaders output 4 different channels into a G-buffer in order to perform deferred shading
[21:28:40] <tiffany> I can't think of any case in which you would need to swap out framebuffer configurations under the feet of your shaders
[21:28:49] <kvark> tiffany: conversion from your shader into the target surface *should be* done as a separate stage from the shader, perhaps a fixed-function one
[21:29:14] <tiffany> I think it is
[21:29:28] <tiffany> but the way mesa does it causes a detriment to performance when the fbo configuration drops out under it
[21:29:48] <tiffany> I can't really see how this would be a problem though
[21:30:04] <tiffany> why would you suddenly switch off HDR without being willing to have your shaders recompile?
[21:30:10] <kvark> well, it's just architecturally broken...
[21:30:37] <tiffany> kvark: can you think of an example where this would pose a problem, though?
[21:30:38] <kvark> let's say you decided to render stuff into the mirror, which you want to have a simpler (less-precise) format?
[21:30:48] <tiffany> hm
[21:30:57] <tiffany> I don't know if it recompiles when you change precision
[21:31:02] <tiffany> the warning is pretty specific
[21:31:22] <tiffany> (graphics/context.c:334 error_cb): OpenGL API Performance (MEDIUM): Recompiling fragment shader for program 12
[21:31:22] <tiffany> (graphics/context.c:334 error_cb): OpenGL API Performance (MEDIUM):   number of color buffers 1->4
[21:31:23] <tiffany> (graphics/context.c:334 error_cb): OpenGL API Performance (MEDIUM): FS compile took 1.466 ms and stalled the GPU
[21:31:26] <kvark> I mean, if the mirror is RGBA8, while your other target is RGBA16F
[21:31:40] <tiffany> that doesn't say anything about  which format the buffer is, just that the number changed
[21:32:21] <kvark> tiffany: and how on earth are they recompiling just the fragment shader? Last time I checked all the work was done inside the program linking, and shader compiling did nothing...
[21:32:55] <tiffany> I don't really know about mesa's internals
[21:33:19] <kvark> oh well, let me stop ranting, it was just an unexpected behavior to me...
[21:33:38] <cmr> This is specific to the i965 driver.
[21:33:41] * kvark is cooling off
[21:33:56] <kvark> hah, Intel stuff, I should have suspected ;)
[21:35:09] <tiffany> ah
[21:35:21] *** Quits: RayWizard (kvirc@E248DB08.9470356F.5B864609.IP) (Ping timeout)
[21:35:36] <tiffany> speaking of mesa perf warnings
[21:35:46] <tiffany> I have absolutely no idea what this means: OpenGL API Performance (MEDIUM): 2048x18564 miptree larger than aperture; falling back to X-tiled
[21:35:51] <kvark> tiffany: I'd prefer GL to report error if the output buffers don't match pixel output semantics, in the same way it complains about vertex inputs, or even more harsh
[21:36:12] <tiffany> it might
[21:36:14] <kvark> tiffany: did you check the maximum texture size?
[21:36:24] <tiffany> I don't have any textures that big
[21:36:30] <tiffany> oh wait, my cubemap is
[21:36:39] <tiffany> rusti: 2048*6
[21:36:40] -rusti- 12288
[21:36:42] <tiffany> or not
[21:36:48] <tiffany> well, miptree
[21:36:50] <tiffany> so it could still
[21:37:28] <tiffany> I don't know what my maximum texture size is
[21:37:29] <kvark> 12288 is not going to add up to 18564 even with mips... hmm
[21:37:38] <tiffany> I should probably disable mip mapping for that cube map
[21:37:40] <tiffany> it's a skybox
[21:37:45] <tiffany> I didn't know it was enabled..
[21:37:46] <kvark> yeah
[21:37:59] <kvark> and see if the warning goes away
[21:39:50] <kvark> anyway, the fact that shader compiler depends on the currently active FBO is totally broken, maybe even contradicting the GL spec
[21:40:11] <cmr> tiffany: the comment in the mesa souce:
[21:40:13] <cmr>  /* If the region is too large to fit in the aperture, we need to use the     
[21:40:15] <cmr>   * BLT engine to support it.  The BLT paths can't currently handle Y-tiling, 
[21:40:17] <cmr>   * so we need to fall back to X.                                             
[21:40:19] <cmr>   */                                                                          
[21:40:50] <tiffany> I don't know what X- or Y- tiling are
[21:42:16] * kvark left temporarily
[21:42:19] <cmr> according to intel's reference manual, it's just copying the same thing into the destination.
[21:42:54] <cmr> (multiple times, a smaller thing into a bigger thing)
[21:44:17] <tiffany> setting GL_TEXTURE_MAX_LEVEL to 0 did not cause the warning to stop
[21:57:46] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[22:02:35] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[22:08:19] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:15:42] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[22:25:01] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[22:49:53] *** Quits: mark_edward (quassel@7C4F88E6.78B47078.37339E3A.IP) (Ping timeout)
[22:51:44] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[22:55:33] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:55:45] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:56:55] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:58:14] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[23:04:12] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[23:09:01] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[23:09:28] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[23:10:58] *** Joins: mark_edward (quassel@51C589B3.EF2694B5.DFAC6AA7.IP)
[23:15:44] *** kimundi is now known as zz_kimundi
[23:29:01] *** Quits: Ferreus_ (ferreus@moz-19B48F1C.dyn.telefonica.de) (Ping timeout)
[23:29:16] *** Joins: Ferreus_ (ferreus@moz-19B48F1C.dyn.telefonica.de)
[23:29:41] *** Quits: luisbg (luisbg@moz-E7587DBE.collabora.co.uk) (Ping timeout)
[23:36:05] *** Joins: luisbg (luisbg@moz-E7587DBE.collabora.co.uk)
[23:42:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
