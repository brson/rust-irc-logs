[00:00:31] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Connection reset by peer)
[00:00:37] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[00:02:17] *** concrete.mozilla.org sets mode: -M 
[00:04:10] *** Quits: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp) (Client exited)
[00:04:24] *** Quits: mdu (mdu@moz-9962C9F4.rev.numericable.fr) (Quit: mdu)
[00:05:29] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[00:05:42] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Quit: WeeChat 0.4.0)
[00:05:50] <Vermeille> Is there a way to have a kind of "struct embedded typedef" like in C++ ? or a decltype like in C++11 ?
[00:06:04] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[00:06:27] <steven_is_false> Vermeille: You mean associated types?
[00:06:38] <Vermeille> yup
[00:06:56] <steven_is_false> Vermeille: Some people want them but they haven't been implemented yet.
[00:07:09] <cmr> I'm pretty sure everybody wants them
[00:07:13] <cmr> there are just other priorities
[00:07:15] <bjz> yup
[00:07:30] <bjz> many many things still to do :(
[00:07:49] <EXetoC> still pwns though :>
[00:08:03] *** Joins: RMF (RMF@moz-F61412D.dsl.telepac.pt)
[00:08:16] <Vermeille> are you developpers of the compiler ?
[00:08:31] <bjz> well, we are volunteers
[00:08:41] <bjz> the ops are from mozilla
[00:09:08] <bjz> they mainly work during office hours PST
[00:09:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:09:18] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/quLqFA
[00:09:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:09:28] <bjz> the IRC is much more lively then
[00:09:29] <Vermeille> OKaaaaaaay
[00:09:59] <Vermeille> In my really newbie point of view, Rust looks like a perfect programming languages
[00:10:08] <Vermeille> It takes the best from all worlds
[00:10:09] <bjz> I mainly am working on core::num, but some of us hack the compiler (it's abit beyond me)
[00:10:23] <bjz> Vermeille: there are still lots of warts
[00:10:29] <cmr> It's not *quite* perfect, mostly due to incomplete/imperfect implementation
[00:10:30] <bjz> Vermeille: that worry me
[00:10:44] <bjz> Vermeille: but the devs are well aware of most of them
[00:11:02] <Vermeille> But... it exists for years, and I'm afraid that, like a lot of great idea, nobody wants to use it
[00:11:07] <steven_is_false> Vermeille: Though there is a lot more community, and a much better implementation it's not as powerful as AST (Applied Type System.)
[00:11:09] <bjz> Vermeille: the issue is just time and man-power
[00:11:48] <bjz> steven_is_false: ATS?
[00:11:57] <Vermeille> I mean, why the Hell is C++ still overused ? (I love C++) We have C#, it works well on Linux now, and is much more painless and is cross platform
[00:12:01] <steven_is_false> bjz: Oops, typo.
[00:12:12] <EXetoC> because of industry support
[00:12:16] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:12:16] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/5dboMw
[00:12:16] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:12:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:12:18] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Yw-oDw
[00:12:18] <ghrust> 13rust/06auto 14a9f2132 15Matthijs Hofstra: Adds atomic_load, atomic_load_acq, atomic_store, and atomic_store_rel intrinsics....
[00:12:18] <ghrust> 13rust/06auto 14fa1a172 15Matthijs Hofstra: Removed unnecessary check from build.rs
[00:12:18] <ghrust> 13rust/06auto 14ae9ab47 15bors: auto merge of #6437 : Thiez/rust/atomic, r=brson...
[00:12:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:12:22] <steven_is_false> Vermeille: C# isn't suitable for hard real time systems.
[00:12:37] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[00:13:07] <Vermeille> Well, it's just a question of time
[00:13:11] <Vermeille> There is games in C#
[00:13:23] <bjz> Vermeille: yes, industry support, big corporate backers, lots of time and man-hours poured into tooling/compilers
[00:13:23] <steven_is_false> I wonder if there's a way to turn garbage collection off for it, and then only use custom datatypes.
[00:13:39] <bjz> Vermeille: I would even say man-millenea
[00:14:06] <bjz> Vermeille: also people don't like change
[00:14:20] <steven_is_false> What's a good pun based off of hammerfrost, curvescrew, and rusthammer but for C#?
[00:14:31] <Vermeille> That's sad.
[00:14:36] <steven_is_false> Those are codenames for my previous projects that I've worked on.
[00:14:47] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[00:14:59] <steven_is_false> Vermeille: At least we aren't working in COBOL. Although, COBOL is actually fairly readable.
[00:15:07] <bjz> Vermeille: C++ will never go away, it's too entrenched. but hopefully new codebases might consider Rust, or begin to use it for parts of their code-base
[00:15:37] <Vermeille> One thing that may be a bad point for Rust is that it does not respect the pattern "Compile once, run everywhere" which is really useful
[00:15:47] <Vermeille> Haha. Cobol.
[00:15:57] <cmr> Vermeille: the main reason rust isn't more popular is it's entirely unstable and unsuitable for significant production use
[00:16:11] <cmr> debugging is spotty, compiler frequently dies on valid code, etc
[00:16:23] <cmr> all things in time
[00:16:24] <bjz> steven_is_false: if you know cobol, and can stand working with it, you have serious career security. and will make serious cash. :)
[00:16:44] <mcpherrin> Vermeille: "compile once, run everywhere" means you can't take advantage or have tight control over the particular machine you're targetting.  A major negative.
[00:16:54] <Vermeille> cmr: Really ? The compiler is that much unstable ?
[00:16:58] <cmr> Vermeille: yes.
[00:17:05] <steven_is_false> bjz: If I start working on a project in COBOL my ass will sprout blisters, my family will miss me, and I will die alone.
[00:17:14] <ssbr> Vermeille: I don't think you can program a week in rust without hitting multiple internal compiler errors :)
[00:17:19] <ssbr> (at least, not your first week)
[00:17:21] <Vermeille> mcpherrin: Isn't JIT compiling made exactly to overcome this limit ?
[00:17:35] <bjz> steven_is_false: it's a tradeoff. The extra pay is danger-money, I think.
[00:17:46] <cmr> Vermeille: JITs make it hard to reason about your program. rust is targeted for systems developers.
[00:18:22] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[00:18:25] <steven_is_false> Vermeille: Also, I know Java at least has difficulty dealing with Big data.
[00:18:40] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[00:18:49] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[00:19:00] <Vermeille> Java is just horrible from idea to implementation.
[00:19:37] <mcpherrin> Java is unpopular, beurocratic, and verbose, but that doesn't mean it's horrible
[00:19:39] <engla> think about that.. design responsibly, we're still paying off for Java more than 20 years later
[00:19:51] <engla> you don't want to be that kind of language :)
[00:19:52] <ssbr> Vermeille: I don't see why you're so depressed about Rust, BTW
[00:20:35] <ssbr> it gets a lot of attention, which is more than can be said about most new languages.
[00:20:46] <bjz> the great plus for Rust is it has a realtively strong corporate backer
[00:20:59] <ssbr> In a strong sense, it's already on the path to success
[00:21:04] <bjz> and it has good communicators developing it
[00:21:06] <Vermeille> ssbr: It's like... The perfect syntax I dreamt everynight, I would try it, but you guys say that it's unstable
[00:21:16] <ssbr> Vermeille: why not try it?
[00:21:24] <cmr> Vermeille: It's not so unstable as to be useless. the compiler itself is written in rust, after all.
[00:21:39] <Vermeille> Haha. One million points.
[00:21:46] <ssbr> Vermeille: I mean, so what, you have to change your codebase to deal with no compiler versions, and sometimes you get a compiler error
[00:21:51] <ssbr> it's not the end of the world
[00:22:00] <ssbr> you can still do lots of work in such an environment
[00:22:00] <Vermeille> I'll try to do a small game to try it =)
[00:22:40] <ssbr> Rust also has some really great docs. Not perfect, but better than expected.
[00:23:00] <Vermeille> Something better that Rust-SDL to advise ?
[00:23:02] <ssbr> so it's not so hard to learn, which is IMO the big deal-breaker for many other languages in this space
[00:23:15] <bjz> Vermeille: glfw-rs! :D
[00:23:20] <ssbr> Vermeille: I'm using OpenGL (via glfw-rs and coregl-rs)
[00:23:38] <ssbr> but if you've never used opengl before it,s uh, different
[00:23:45] <bjz> ssbr: glcore-rs?
[00:23:49] <ssbr> uuhhhhh
[00:23:51] <ssbr> bjz: one of those
[00:23:59] <ssbr> (yes)
[00:24:10] <bjz> ssbr: want a collaborator invite?
[00:24:21] <bjz> ssbr: so you can do housekeeping?
[00:24:31] <EXetoC> Vermeille: there's already a game dev overload though
[00:24:38] <EXetoC> j/k
[00:24:44] <bjz> ssbr: I was away on the weekend and Jeaye helped me out
[00:24:47] <ssbr> bjz: Oh, on github? If you just mean "making sure it builds in the latest rust", I can do that easily enough.
[00:24:56] <bjz> ssbr: pretty much
[00:25:17] <bjz> ssbr: for architechtual changes I'd prefer pull requests though
[00:25:22] <Vermeille> Well, I just had the intent to write a Sonic-like game, and I just looked for another language to lear through this project
[00:25:24] <ssbr> bjz: yes, that makes sense.
[00:25:26] <bjz> ssbr: what's your user name
[00:25:30] <ssbr> bjz: ssbr
[00:26:32] <ssbr> Vermeille: if you used OpenGL, you could learn two languages!
[00:26:35] <ssbr> (GLSL and Rust)
[00:26:49] <EXetoC> double the pain :p
[00:26:55] <Vermeille> Wow.
[00:26:58] <ssbr> Yeah, I'm not sure it's such a great idea.
[00:27:02] <Vermeille> Ambitious.
[00:27:17] <ssbr> The learning curve for OpenGL is not incredibly shallow -- there's a ton of code you have to write to get even something trivial done
[00:27:51] <Vermeille> GLFW looks really interesting - never used it -
[00:28:04] <EXetoC> I was almost a OpenGL 3.x newbie when I started out, so it was a very slow process
[00:28:14] <mcpherrin> code-to-first-triangle with glfw is probably 100 lines of c++?
[00:28:17] <ssbr> AFAIK GLFW is just some stuff for creating a window and handling interaction events (keyboard, mouse, etc.)
[00:28:19] <EXetoC> totally worth it though
[00:28:26] <bjz> Vermeille: I use glfw3 (it's in dev, but pretty stable)
[00:28:33] <bjz> Vermeille: almost released
[00:29:27] <Vermeille> Well, SDL is maybe higher level
[00:29:31] <mcpherrin> glfw is pretty slick.  It's my preferred API for "give me a window to draw in, also mouse/keyboard"
[00:29:31] <Vermeille> I don't know
[00:30:31] <ssbr> SDL is low level in a certain sense, and not usefully so. It still requires you to specify exactly how things are drawn, but it uses a convention that doesn't help you do anything fancy.
[00:31:47] <bjz> Vermeille: I still want to make the high-level wrapper of glfw better
[00:32:12] <EXetoC> most people don't need fancy graphics though
[00:32:18] <bjz> Vermeille: ie. use messages instead of callbacks
[00:32:38] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[00:32:46] <Vermeille> Hum, We're talking about 2D graphics right ? what about it in OpenGL / GLFW ? I still see matrices etc
[00:33:00] <mcpherrin> OpenGL is 3D graphics
[00:33:20] <Vermeille> Only ?
[00:33:30] <cmr> "only", yes.
[00:33:41] <h3r3tic> OpenGL is for 2D as well.
[00:33:42] <EXetoC> you can obviously make a 2D game in it though
[00:33:42] <cmr> but you can turn off perspective and render textures onto planes
[00:33:54] <cmr> and other such techniques to make 2D games
[00:34:14] <Vermeille> Yes. But it implies dealing with projection matrix and such painful things
[00:34:19] <ssbr> EXetoC: matrices are good even for 2D games. :)
[00:34:19] <ssbr> er
[00:34:23] <ssbr> Vermeille: ^
[00:34:38] <h3r3tic> you don't need a projection matrix :)
[00:34:41] <ssbr> Vermeille: once you're comfortable with linear algebra, matrices are the natural thing.
[00:34:48] <h3r3tic> you just output the verts where you want them from the shader
[00:34:48] <ssbr> also yes, modern opengl doesn't have a projection matrix
[00:35:02] <ssbr> (you can define one to use yourself, though.)
[00:35:23] <Vermeille> Oh ? I only used DirectX for 3D Graphics, so, I don't know anything about 2D, excuse me
[00:35:53] <EXetoC> same thing there, most likely
[00:35:59] <ssbr> Vermeille: well, if you have a camera looking at a 2D plane, you still want to specify the rotation of the camera (in 2D), and its panning across the 2D plane
[00:36:02] <h3r3tic> all that D3D/GL cares about is that you output clip-space verts from your vertex shader
[00:36:02] <EXetoC> oops, misread
[00:36:13] <ssbr> Vermeille: this can be represented using a 3x3 matrix very handily
[00:36:35] <ssbr> Vermeille: and you get natural things like, "oh, I want to go from a point in the screen back to its world position, let's just use the inverse matrix", and that works
[00:36:40] *** Quits: jaen (jaen@moz-5C345224.play-internet.pl) (Ping timeout)
[00:36:43] <ssbr> or you can compose another translation using matrix multiplication, and that works
[00:36:46] <ssbr> matrices are great ;)
[00:37:06] <Vermeille> Well, okay. I wrote a 3D physics engine
[00:37:07] <bjz> Vermeille: I have a linear algebra lib, but it's broken atm. hopefully the compiler is updated soon with a fix
[00:37:21] <Vermeille> But I'm not a ease with mathematics for graphics
[00:37:39] <ssbr> Vermeille: are you comfortable with linear algebra in general?
[00:37:44] <Vermeille> (I never learnt them, in fact)
[00:37:46] <h3r3tic> it's peanuts compared to a physics engine :P
[00:37:50] <Vermeille> More or less.
[00:38:03] <ssbr> Vermeille: the only new thing I found when learning graphics, was affine transformations
[00:38:10] <ssbr> (I learned them later in a geometry course, too)
[00:38:31] <bjz> quaternions!
[00:38:34] <bjz> :)
[00:38:51] <h3r3tic> quatforms!
[00:38:55] <ssbr> well, I never did 3D graphics ;)
[00:39:00] <bjz> heh
[00:39:19] <bjz> re lmath, should I merge it with cgmalth?
[00:39:28] <Vermeille> Well, I'll definitely take a look. But for a few hours / days toy project, I think it's too much pain. Don't you ?
[00:39:40] <ssbr> bjz: what's the difference?
[00:39:44] <bjz> h3r3tic: ^
[00:40:02] <bjz> cgmath depends on lmath
[00:40:12] <bjz> has cg-specific functions
[00:40:12] <ssbr> Vermeille: I spent a lot of time making my first opengl program, so I'd probably agree.
[00:40:23] <h3r3tic> I'd say yeah! But then again I would never use just lmath alone
[00:40:31] <bjz> ssbr: like plane intersections/frustrums
[00:40:46] <ssbr> bjz: as long as I still can use it for GLSL, there's no big problem
[00:40:58] <Vermeille> Haha guys, now I want to learn graphics mathematics, but I don't have enough time. Soooo frustrating >_<
[00:41:06] <bjz> h3r3tic: yeah, my reasoning is that sometimes you want cg-specific optimisations
[00:41:06] <ssbr> Vermeille: there's always time
[00:41:17] <Vermeille> Not in my school <_<
[00:41:21] <bjz> that don't make sense for general matricies
[00:41:28] <h3r3tic> oh?
[00:41:31] <ssbr> Vermeille: it takes about 6 hours to learn projective geometry maybe
[00:41:35] <h3r3tic> really? :P
[00:41:45] <ssbr> hm, no. Maybe 10
[00:41:50] <h3r3tic> ah
[00:42:06] <h3r3tic> you mean like assuming that a 4x4 (4x3) matrix represents just an affine transform
[00:42:09] <ssbr> Vermeille: see if your school has a graphics or geometry course
[00:42:16] <EXetoC> ssbr: probably took longer for me, but then again I didn't know linalg very well at that time
[00:42:17] <h3r3tic> hence turning an inverse into a transpose + negation + mul?
[00:42:33] <bjz> h3r3tic: possibly
[00:42:40] <ssbr> Vermeille: a geometry course will definitely teach you what you need to know, but it won't help you link the geometry concepts with the graphics math
[00:42:43] <Vermeille> Well. I initially intended to write half of the code tonight. It's 2:40 here x)
[00:42:54] <ssbr> (I haven't bothered to learn how graphics relates to projective geometry yet, even though I know projective geometry)
[00:42:56] <steven_is_false> A quarternion is just a generalization of the idea of an imaginary number.
[00:43:02] <ssbr> steven_is_false: "just"
[00:43:04] <h3r3tic> bjz: any other cases? in this specific one, it's worth having both options around.
[00:43:23] <ssbr> (also, complex number)
[00:43:48] <bjz> h3r3tic: another reason is I don't want to worry about doing a full-blown general matrix lib :)
[00:43:49] <steven_is_false> An imaginary number is simply a special type of matrix of the form a1 + bi where 1, and i are the identity matrix, and the 90 degress rotation matrix respectively.
[00:43:59] <ssbr> steven_is_false: complex number
[00:44:00] <ssbr> and that's terrible
[00:44:40] <h3r3tic> bjz: hah, but it's not just cg which has use for "small matrices", it's also stuff like robotics and simulation
[00:44:54] <bjz> h3r3tic: I would rather use another lib for that. say if I was doing certain simulations
[00:45:18] <h3r3tic> yeah, I wouldn't want to maintain a huge matrix lib either
[00:45:27] <h3r3tic> besides, could never get as fast as the best stuff out there
[00:45:39] <bjz> yeah
[00:45:49] <steven_is_false> ssbr: If you want terrible then integer numbers are simply sizes of sets.
[00:46:02] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:46:09] <ssbr> well, that gives you a good intuition about something at least
[00:46:14] <steven_is_false> ssbr: And reals are identified with multiples of probabilties which are simply ratios of set sizes.
[00:46:16] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[00:46:18] <EXetoC> also, I was trying to find out what did what in glm (still while coding in Rust)
[00:46:29] <steven_is_false> ssbr: Where the sets can even be infinitely big.
[00:46:32] <bjz> h3r3tic: I was wondering, could you possibly help with the documentation of lmath?
[00:46:38] <ssbr> I don't know what intuition describing complex numbers as those matrices gives you, except perhaps to note that there is a component of orthogonality?
[00:46:39] <EXetoC> what a brain exercise that was. grep saves the day
[00:46:59] <steven_is_false> While were on the topic of matrices though if anyone could create a good binding to a simple matrix library that would be really good.
[00:47:16] <bjz> ssbr: the thing about maths is, sometimes you have to drop intution
[00:47:24] <ssbr> bjz: I don't believe that
[00:47:36] <bjz> ssbr: and just think of it as moving sybols around
[00:47:39] <ssbr> nooooooooooo
[00:47:45] <engla> what you have to, is to get used to things. You need a week for a new abstraction.
[00:47:53] <ssbr> bjz: that's the kind of thinking first year math tries to rid people of :(
[00:47:55] <steven_is_false> bjz: I firmly believe that math is a solid, and concrete thing, and not abstract nonsense.
[00:47:56] <h3r3tic> bjz: can't promise much with my rather restricted spare time, but if you point me at something that needs writing, I'll try to find some time :)
[00:48:14] <ssbr> steven_is_false: pfeh, idealist
[00:48:18] <bjz> ssbr: graphical proofs can help though, I'm not against that
[00:48:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:48:18] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ae9ab47 to 148d1a09c: 02http://git.io/N3iJvQ
[00:48:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:48:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:48:20] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/dgFkJw
[00:48:20] <ghrust> 13rust/06auto 1406ef889 15Patrick Walton: libsyntax: Remove `extern mod foo { ... }` from the language.
[00:48:20] <ghrust> 13rust/06auto 145d3559e 15Patrick Walton: librustc: Make `self` and `static` into keywords
[00:48:20] <ghrust> 13rust/06auto 14db0693a 15Patrick Walton: libsyntax: Tighten up expressions in patterns to only allow identifiers or literals (possibly with a minus)....
[00:48:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:48:39] <cmr> Yay shrinking the language more!
[00:48:44] <steven_is_false> ssbr: Not an idealist, a constructivist, as makes sense for a computer programmer working in a constructive logic.
[00:48:48] <bjz> steven_is_false: I'm definitely not saying maths is abstract knowledge
[00:49:08] <ssbr> steven_is_false: a constructivist who believes in the reals? now I've seen everything!
[00:49:57] <ssbr> bjz: http://www.maa.org/devlin/lockhartslament.pdf
[00:50:04] <bjz> steven_is_false: it's just sometimes the attempts at metaphor and intution get in the way of how things really work, and from the beauty of it.
[00:50:18] <bjz> ssbr: yup, good essay
[00:50:25] <ssbr> Bah! pre-empted
[00:50:39] <steven_is_false> bjz: But how can I get rid of of intuition if I'm working in an intuitionist logic?
[00:50:57] <ssbr> steven_is_false: oh that's part easy
[00:51:13] <ssbr> just let your mind wander a bit as you navigate a proof and before you know it, you'll have no intuition for what you're reading whatsoever
[00:51:22] <cmr> hahah
[00:51:25] <bjz> ssbr: we might think the along the same lines, but aren't communicating using the same definitions
[00:52:17] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[00:52:40] <steven_is_false> hah
[00:54:16] <ssbr> bjz: given that you definitely know what I'm talking about, I'd agree
[00:54:35] <ssbr> or we may be communicating from the same definitions, but aiming at different points.
[00:54:39] <ssbr> some silly thing.
[00:55:02] <Vermeille> What about more functional traits like partial application ?
[00:55:08] <bjz> ssbr: hah, I am very much a beginner when it comes to maths. lots to learn
[00:55:19] <bjz> Vermeille: not going to happen.
[00:55:35] <ssbr> Vermeille: that would not seem to be possible as a non-macro feature
[00:55:43] <bjz> Vermeille: you can sort of simulate it using lambdas
[00:56:03] <bjz> Vermeille: but it's not on the agenda
[00:56:16] <Vermeille> Or kind of "structural type checking/inference" ?
[00:57:45] <strcat> there were records before but they were removed because they didn't fit in well with the other features
[00:57:59] <ssbr> strcat: structurally-typed records?
[00:58:02] <strcat> yes
[00:58:47] <Vermeille> Hum, okay :)
[00:59:03] <ssbr> something like ocaml object types (duck-typing) would be kind of interesting, but traits are supposed to already solve that problem (and it already works fine that way in e.g. java, haskell, etc.)
[00:59:19] *** Joins: ysuzuki (ysuzuki@moz-F333A8C8.st.keio.ac.jp)
[01:01:14] <cmr> wasn't there a proposal for an attribute that would provide for duck typing?
[01:01:48] <Vermeille> You mean dynamic structural typing ?
[01:01:49] <steven_is_false> Okay goodbye.
[01:01:53] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[01:08:52] *** Quits: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[01:11:00] *** Quits: heftig (heftig@93DBB692.3D2735E2.172227A7.IP) (Ping timeout)
[01:11:01] *** Joins: igl1 (igl@moz-250CDF29.adsl.alicedsl.de)
[01:11:10] *** Quits: igl (igl@moz-FD12F972.adsl.alicedsl.de) (Ping timeout)
[01:11:56] *** Joins: leal (user@moz-BC5B28B3.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[01:13:08] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[01:15:14] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[01:15:20] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[01:17:01] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Quit: Leaving)
[01:20:35] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Connection reset by peer)
[01:20:41] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[01:21:48] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:22:44] *** Joins: z0w0 (zack@D1D2DBCB.806EA3ED.2CE63F58.IP)
[01:22:44] <bjz> how would I translate this into rust code? http://stackoverflow.com/a/15685301/679485
[01:23:26] <cmr> you wouldn't
[01:23:29] <cmr> afaik
[01:23:31] <cmr> that is so hacky :|
[01:23:53] <cmr> (and quite clever, a very neat hack)
[01:24:15] <bjz> :P
[01:25:29] <cmr> anyway if you can cast a f32/f64 to a u32/u64 you could use bit shifts to extract the components
[01:25:37] <cmr> I imagine that's what the code generated by that C does.
[01:26:22] <bjz> yup
[01:26:25] <ssbr> bjz: that's terrifying
[01:26:30] <bjz> heh
[01:26:40] <bjz> hoorah for C!
[01:26:52] <ssbr> Surely that's implementation-defined behavior?
[01:27:00] <ssbr> and also, just generally, yikes
[01:27:03] <cmr> it is.
[01:27:36] <EXetoC> math.d contains similar code, in case you need a layout reference
[01:27:42] <EXetoC> for different types
[01:28:03] <cmr> ssbr: it assumes ieee754 floats, but other than that, it's not too bad.
[01:28:14] <bjz> EXetoC: will look
[01:28:17] <cmr> that's the most creative use of bit fields I"ve seen before
[01:28:32] <bjz> cmr: seems to pop up a bit
[01:28:43] <bjz> cmr: the Julia lib uses it
[01:28:44] <EXetoC> alright, bye. don't forget to... you know, stay alive and all that stuff
[01:28:47] <bjz> heh
[01:29:34] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[01:31:01] <Vermeille> Wooooooooow :( No signature overloading
[01:31:46] <cmr> Vermeille: you can work around that with traits
[01:31:50] <cmr> well
[01:31:52] <cmr> not really
[01:31:53] <ssbr> Ish.
[01:31:54] <cmr> for most usecases
[01:31:59] <cmr> so I take it back
[01:32:12] <ssbr> I don't miss signature overloading as much as optional arguments.
[01:32:18] <cmr> yeah
[01:32:27] <ssbr> and I expect optional arguments actually fit nicely into the type system, unlike overloading
[01:32:33] <Vermeille> And no traits overloading :( I can't make implementations for Add<Point, Point> and Add<Point, float> :(
[01:32:55] <strcat> ssbr: optional arguments are just a special case of overloading
[01:32:59] <ssbr> Vermeille: if Add takes two type parameters T and U...
[01:33:14] <strcat> either way they're syntactic sugar for defining functions with different names in rust's system
[01:33:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:33:17] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14de0739d to 148d1a09c: 02http://git.io/N3iJvQ
[01:33:17] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:33:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:33:18] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/my6FBw
[01:33:18] <ghrust> 13rust/06auto 142a9a4a8 15Alex Crichton: Don't create subprocesses for the `rust` command...
[01:33:18] <ghrust> 13rust/06auto 147f3273b 15bors: auto merge of #6438 : alexcrichton/rust/issue-5387, r=thestinger...
[01:33:19] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:33:28] <ssbr> strcat: special cases can be easier to implement than the general case! AFAIK overloading would interfere with type inference, where optional arguments would not
[01:33:42] <cmr> acrichto: nice!
[01:33:59] <acrichto> let's hope it passes :)
[01:34:02] <cmr> strcat: r? https://github.com/mozilla/rust/pull/6400
[01:34:53] <Vermeille> " if Add takes two type parameters T and U..." => What is the end of the sentence ?
[01:35:12] <ssbr> Vermeille: "then I don't see why that isn't possible"
[01:35:14] <fread2281> strcat: seems to me like optional arguments are just sugar for calling functions
[01:36:17] <cmr> well optional args are a syntactic step up from default args
[01:36:33] <sonwow> bstrie: thanks for your r+ about renaming str/vec::from_slice to str/vec::to_owned. however there is another from_slice that returns managed vector in at_vec.rs.
[01:36:37] <ssbr> Oh, sorry, I did mean default args.
[01:36:47] <ssbr> Although optional is good too.
[01:36:48] <EXetoC> bjz: hm maybe not
[01:36:54] <fread2281> cmr: and they are just nice sugar :)
[01:37:01] <bjz> EXetoC: nope
[01:37:07] <bjz> EXetoC: was looking
[01:37:13] <EXetoC> so dizzy. really shouldn't be awake now
[01:37:14] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.0)
[01:37:16] <fread2281> seems really simple to me (in theroy)
[01:37:59] <bjz> Vermeille: http://smallcultfollowing.com/babysteps/blog/2012/10/04/refining-traits-slash-impls/
[01:37:59] <Vermeille> Well, ssbr , if I understood well, Add works like lhs + rhs is Add<Lhs, Rhs>, if I want to do Point + Point, I'll implement Add<Point, Point>, if I want Point + float too, I need another implementation: Add<Point, float>. There is two different implementations
[01:38:07] <ssbr> Vermeille: oh, no
[01:38:11] <bjz> it's tricky
[01:38:19] <bjz> :(
[01:38:21] <ssbr> Vermeille: Add<Point, float> means that x : float = y + z; where y and z are Points
[01:38:25] <ssbr> AIUI
[01:38:32] <bjz> I'm planning to use macros for it in lmath
[01:38:42] <bjz> but it'll be a pain
[01:38:43] <ssbr> Vermeille: the Add trait doesn't let you overload "Point + float" or "float + Point"
[01:39:10] <engla> Vermeille: Add<Rhs,Result> is the correct reading. Rhs is the    (Self + Rhs) -> Result
[01:39:19] <ssbr> oh eep
[01:39:21] <engla> ssbr: yes it does
[01:39:25] <ssbr> yes
[01:39:30] <ssbr> sorry
[01:39:40] <ssbr> because you're defining it for Self. I wasn't thinking.
[01:39:49] <Vermeille> Ooh. I see. Thank you.
[01:40:00] <Vermeille> I could I overload "Point + float" then ?
[01:40:04] <engla> yes
[01:40:08] <Vermeille> How could I*
[01:40:13] <ssbr> Vermeille: by defining Add<float, T>
[01:40:16] <ssbr> for Point
[01:40:29] <ssbr> (where T is the result type)
[01:40:55] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[01:41:01] <engla> (I implemented this on a 2d point today to draw some b√©zier curves, that's why I had it fresh)
[01:41:44] *** aatch|bed is now known as aatch
[01:41:46] <Vermeille> "conflicting implementation"
[01:41:46] <aatch> bah, missed brson again
[01:41:48] <Vermeille> Hummmmm
[01:42:15] <aatch> Vermeille, it's a little more complicated than that.
[01:42:20] <aatch> unfortunately
[01:42:53] <aatch> http://smallcultfollowing.com/babysteps/blog/2012/10/04/refining-traits-slash-impls/ <- shows how to do it.
[01:43:38] <Vermeille> Okay, I'm gonna read it, thank you !
[01:43:50] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[01:44:03] <engla> that's a nice article
[01:44:09] <aatch> And I'm gonna install linux on a Mac Mini
[01:44:23] <engla> have fun
[01:44:27] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[01:45:29] *** Quits: ysuzuki (ysuzuki@moz-F333A8C8.st.keio.ac.jp) (Client exited)
[01:46:20] <engla> Vermeille: there's some obsolete syntax in that article btw, nothing big I think
[01:46:35] <engla> just the impl and trait lines use ':' sometimes and not 'for'
[01:47:02] <engla> just the impl lines.
[01:48:31] * aatch should convert the relevant bits of that article to the wiki.
[01:50:12] <Vermeille> Wowowow
[01:50:24] <Vermeille> Double dispatch for operator overloading
[01:50:33] <Vermeille> *runtime* dispatch
[01:50:38] *** Joins: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com)
[01:50:47] <cmr> it's not runtime dispatch
[01:50:51] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[01:51:25] <Vermeille> The word "visitor" made me interpret it like that
[01:51:53] <aatch> Vermeille, inlining nullifies that
[01:52:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:52:25] <Vermeille> is inlining automatic ?
[01:52:29] <cmr> yup
[01:52:36] <Vermeille> What means the keyword "pure" in the article ?
[01:52:41] <cmr> obsolete syntax
[01:52:43] <aatch> Vermeille, if LLVM thinks it will help
[01:52:57] <cmr> There's also the inline attribute
[01:53:07] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:53:07] <fread2281> Vermeille: yep, but you can help it along with #[inline] and you have to manually enable it cross-crate
[01:53:10] <aatch> But you can mark fns as #[inline(always)] to force it.
[01:53:35] <aatch> (there is also #[inline(never)])
[01:54:05] <strcat> Vermeille: inlining is automatic within a crate
[01:54:05] *** Quits: leal (user@moz-BC5B28B3.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:54:15] <strcat> but like C you have to specify if you want to allow cross-crate inlining
[01:54:19] <strcat> since it has ABI implications
[01:54:43] <fread2281> aatch: is #[inline] == #[inline(always)] and does it do it cross-crate with #[inline(always)]?
[01:54:52] <strcat> #[inline] is #[inline(hint)]
[01:54:58] <aatch> fread2281, I'm pretty sure #[inline] is just a hint
[01:55:21] <fread2281> aatch, strcat: okay
[01:55:23] <strcat> if you don't have either it won't inline cross-crate
[01:55:24] <aatch> it just adds a couple points to whatever heuristic LLVM uses to decide
[01:55:42] <fread2281> does #[inline(always)] to cross-crate?
[01:55:47] <aatch> strcat, though generic functions complicate that.
[01:56:00] <fread2281> oh strcat answered me already
[01:56:01] <strcat> aatch: not really, they just always get instantiated in the crate using them
[01:56:28] <Vermeille> Who are developpers Rust targets ? I see there is a lot of low level control
[01:56:38] <cmr> Vermeille: Systems developers
[01:56:40] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[01:56:57] <aatch> There are quite a few games programmers floating around.
[01:56:59] <strcat> atm there isn't a way to export instantiations like C++11's extern can do
[01:57:33] <aatch> Mozilla also has a sister project, servo, that is a browser rendering engine
[01:58:04] <Vermeille> Why does Mozilla cares about system devs ?
[01:58:12] <fread2281> can I have global variables/when will we have extern fn closures?
[01:58:13] <cmr> Vermeille: browsers!
[01:58:38] <Vermeille> For future smartphones running Mozilla OS ?
[01:58:46] <aatch> Vermeille, also, have you not seen Mozilla trying to get into the smartphone market?
[01:58:55] <cmr> Vermeille: it's the same target market as c++
[01:58:56] <fread2281> for callbacks for C lib that need to save data to rust land
[01:59:01] <cmr> and largely C, as well.
[01:59:22] <Vermeille> (was "pure" a keyword related to purely functional programming ? Why was it removed ?)
[01:59:26] <fread2281> Vermeille: also likely firefox
[01:59:33] <aatch> fread2281, global mutable data will happen eventually, but it's a tricky prospect for Rust as a language
[01:59:47] <strcat> you probably don't want globals for a library
[01:59:53] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[01:59:58] <strcat> unless you *really* want to deal with thread safety yourself
[02:00:10] <fread2281> aatch: right. It seems like the only way to do this (save data from C callback into rust land)
[02:00:19] <cmr> Vermeille: it was a complement to "io", which said "this has side-effects". it was removed because it was useless. look through the ML, there's lots of discussion about it.
[02:00:33] * aatch would be happy with mutable extern vars for C integration)
[02:00:57] <Vermeille> Oh. Kind of IO Monad.
[02:01:06] <aatch> pure was weird and didn't really help anything.
[02:01:16] <aatch> It just annoyed everybody.
[02:01:18] <strcat> pure wasn't really anything to do with I/O or external side effects
[02:01:43] <fread2281> or I could write more C (and less rust) and do this stuff in C land but :(
[02:01:55] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[02:02:01] <ssbr> Egh. Is there a way to have/use a static method with the signature fn()->int ?
[02:02:02] <aatch> fread2281, what do you need to do?
[02:02:25] <strcat> ssbr: yes
[02:02:29] <aatch> ssbr, did you try &'static fn?
[02:02:32] <fread2281> aatch: get data into rust land from callback provided to C library
[02:02:46] <ssbr> aatch: eh? I don't mean function pointers, I was just using that to show the signature
[02:02:57] <strcat> rusti: trait Foo { fn() -> int };
[02:02:58] <ssbr> I'm not sure how to define/call such a thing, considering that there's nothing to dispatch on
[02:02:58] <rusti> foo.rs:5:23: 5:24 error: expected ident, found `(`
[02:02:58] <rusti> foo.rs:5          trait Foo { fn() -> int };
[02:02:58] <rusti>                                 ^
[02:03:01] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:03:02] <strcat> rusti: trait Foo { fn foo() -> int };
[02:03:02] <rusti> foo.rs:5:37: 5:38 error: expected `;` or `}` but found `}`
[02:03:03] <rusti> foo.rs:5          trait Foo { fn foo() -> int };
[02:03:03] <rusti>                                               ^
[02:03:08] <strcat> rusti: trait Foo { fn foo() -> int; }
[02:03:29] <ssbr> if I call MyTrait::foo()  -- how does it know which implementation to invoke?
[02:03:38] <strcat> ssbr: yes, it will infer
[02:03:43] <strcat> if it can't infer you can give a hint
[02:03:45] <ssbr> strcat: how?
[02:03:56] <ssbr> it definitely cannot infer, since nothing about the usage ever uses the type
[02:04:02] <ssbr> (Self isn't used anywhere)
[02:04:02] <strcat> MyTrait::foo::<T>()
[02:04:04] <strcat> or just
[02:04:12] <strcat> let x: T = MyTrait::foo()
[02:04:22] <ssbr> strcat: the latter won't work, it returns an int
[02:05:04] <ssbr> Woo, the former worked!
[02:05:05] <ssbr> Thanks :)
[02:05:16] <ssbr> (this should definitely be added to the reference manual :( )
[02:05:33] <strcat> you can add it ;p
[02:05:38] <ssbr> strcat: okay
[02:05:53] *** Quits: cstrahan (cstrahan@moz-4C7E5789.hsd1.dc.comcast.net) (Ping timeout)
[02:06:21] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:06:53] <steven_is_false> Hey guys. I made a pull request, and then brson did the r+ thingy to notify Bors but now I think I noticed a bug. What should I do?
[02:07:34] <strcat> steven_is_false: which PR?
[02:07:42] <aatch> steven_is_false, push the new commit, bors will ignore it (I think)
[02:07:45] <cmr> strcat: push a fix, get it reviewed again.
[02:08:05] <steven_is_false> Okay. I'll push a fix, and get it reviewed.
[02:08:16] <cmr> whoops, misfire. heh
[02:08:41] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[02:09:19] <ssbr> Is there anything that tests that the examples in the docs compile, or does that have to be done manually?
[02:09:33] <cmr> ssbr: all examples are tested with make check
[02:09:36] <ssbr> (let alone produce the right behavior, I suppose)
[02:10:04] <ssbr> cmr: thanks
[02:11:21] <steven_is_false> Is it possible to make a testcase which should compile but doesn't need to be executed?
[02:11:41] <steven_is_false> Scratch that I figured out a way to make it execute.
[02:11:47] <cmr> just add an empty main
[02:12:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:12:19] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147f3273b to 148d1a09c: 02http://git.io/N3iJvQ
[02:12:19] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:12:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:12:19] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/cpc-vQ
[02:12:19] <ghrust> 13rust/06auto 147d4bb90 15Corey Richardson: Remove redundant import error
[02:12:19] <ghrust> 13rust/06auto 14258abf1 15Corey Richardson: Fix failing test
[02:12:19] <ghrust> 13rust/06auto 1411aadc7 15bors: auto merge of #6400 : cmr/rust/remove_useless_import_error, r=thestinger...
[02:12:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:12:20] <steven_is_false> Testing an uninhabited type is tricky.
[02:12:25] <cmr> strcat: thanks
[02:12:56] <strcat> steven_is_false: you can also make a #[should_fail] test
[02:13:19] <steven_is_false> strcat: How about a should not compile?
[02:13:28] <cmr> compile-fail directory in src/test
[02:13:35] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[02:15:22] <steven_is_false> cmr: Thanks!
[02:15:39] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[02:15:47] <Vermeille> OKaaaaaaaaaaay, this double dispatch works but is really painful
[02:15:52] <Vermeille> Thank you very much
[02:16:09] <Vermeille> I'm gonna sleep (4:14 here)
[02:16:31] <Vermeille> I'm sure I'll *love* rust
[02:17:55] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[02:18:14] *** Quits: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net) (Ping timeout)
[02:18:17] *** Parts: Vermeille (Mibbit@574EF439.4D395588.31D22F4.IP) ()
[02:21:52] *** Joins: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net)
[02:23:13] <steven_is_false> Good night!
[02:23:15] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[02:30:40] *** Quits: inolen (Adium@moz-FA2406D8.socal.res.rr.com) (Connection reset by peer)
[02:31:30] *** Joins: inolen (Adium@moz-FA2406D8.socal.res.rr.com)
[02:41:42] *** Joins: mib_izswtz (Mibbit@moz-9F4E62C.lightspeed.sntcca.sbcglobal.net)
[02:42:26] *** Quits: mib_izswtz (Mibbit@moz-9F4E62C.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:50:34] *** Joins: brson (brson@E02A6CDD.75598729.B6A3AE99.IP)
[02:50:34] *** ChanServ sets mode: +o brson
[02:51:35] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Ping timeout)
[02:53:30] *** Joins: eevee_ (eevee@moz-A20C5AE8.evrt.wa.frontiernet.net)
[02:54:17] *** Quits: eevee (eevee@moz-C02C240F.evrt.wa.frontiernet.net) (Ping timeout)
[02:56:26] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[02:57:25] *** Quits: zz_kimundi (kimundi@moz-51380A8A.dip0.t-ipconnect.de) (Ping timeout)
[02:58:24] *** Quits: markluffel (markluffel@179F0C2A.5C4C7C24.8354FB35.IP) (Ping timeout)
[02:58:49] *** Joins: markluffel (markluffel@179F0C2A.5C4C7C24.8354FB35.IP)
[03:00:15] *** Quits: brson (brson@E02A6CDD.75598729.B6A3AE99.IP) (Ping timeout)
[03:00:42] *** Joins: zz_kimundi (kimundi@moz-341A8002.dip0.t-ipconnect.de)
[03:00:52] *** Joins: cstrahan (cstrahan@moz-F976BC85.hsd1.va.comcast.net)
[03:01:01] *** zz_kimundi is now known as kimundi
[03:03:51] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[03:04:12] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:04:43] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[03:04:43] *** ChanServ sets mode: +o brson
[03:07:24] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Input/output error)
[03:08:03] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[03:09:07] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Connection reset by peer)
[03:09:19] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[03:11:07] *** Quits: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[03:14:06] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[03:15:23] *** Joins: jaen (jaen@moz-5C345224.play-internet.pl)
[03:15:38] *** Joins: catpigger (catpig@moz-6C02F391.dip0.t-ipconnect.de)
[03:16:09] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[03:16:36] *** Quits: catpig (catpig@moz-1662AE50.dip0.t-ipconnect.de) (Ping timeout)
[03:16:48] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[03:19:06] <cmr> strcat: 
[03:19:13] <cmr> hoops
[03:19:17] <cmr> *whoops
[03:19:27] <cmr> mind giving another r+ to https://github.com/mozilla/rust/pull/6400? silly oversight :(
[03:21:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:21:28] *** Joins: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com)
[03:21:46] <strcat> cmr: sure, sec
[03:22:55] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:23:09] <strcat> rusti: 5 + 5
[03:23:12] <rusti> 10
[03:23:14] <strcat> rusti: 5 + 5
[03:23:15] <rusti> 10
[03:23:15] <strcat> rusti: 5 + 5
[03:23:16] <rusti> 10
[03:23:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:24:05] *** Quits: cstrahan (cstrahan@moz-F976BC85.hsd1.va.comcast.net) (Ping timeout)
[03:24:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:24:20] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/lqXm4g
[03:24:20] <ghrust> 13rust/06auto 147d4bb90 15Corey Richardson: Remove redundant import error
[03:24:20] <ghrust> 13rust/06auto 14258abf1 15Corey Richardson: Fix failing test
[03:24:20] <ghrust> 13rust/06auto 14e605536 15Corey Richardson: actually fix failing test
[03:24:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:25:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:25:26] *** Joins: Mic92 (Mic92@moz-35FE9196.linuxlovers.at)
[03:25:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:26:09] *** Parts: Mic92 (Mic92@moz-35FE9196.linuxlovers.at) ()
[03:26:25] *** Joins: Mic92 (Mic92@moz-35FE9196.linuxlovers.at)
[03:28:25] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[03:28:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:29:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:30:30] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[03:30:55] <bjz> nmatsakis: https://gist.github.com/bjz/fbf54b214b36aeed471e
[03:31:01] <bjz> nmatsakis: :(
[03:31:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:31:24] <strcat> rusti: 5 + 5
[03:31:25] <rusti> 10
[03:31:40] <bjz> nmatsakis: I thought that was ok if the type parameters weren't generic
[03:31:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:38:50] <strcat> ;\
[03:39:46] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:39:50] <strcat> rusti: 5 + 5
[03:39:51] <rusti> 10
[03:39:55] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[03:39:58] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[03:41:21] <strcat> rusti: 5 + 5
[03:41:22] <rusti> 10
[03:41:41] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:42:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:42:31] <strcat> rusti: 5 + 5
[03:42:32] <rusti> 10
[03:42:41] <strcat> rusti: 5 + 5
[03:42:41] <rusti> 10
[03:43:33] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:43:40] <cmr> bjz: what is a supertrait? which is the duplicate?
[03:44:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:44:04] <cmr> if my intuition serves me correctly it's uint being equivalent to u32/u64, maybe?
[03:44:12] <cmr> oh I see supertrait now
[03:44:21] <cmr> trait inheritance
[03:45:35] *** Quits: catpigger (catpig@moz-6C02F391.dip0.t-ipconnect.de) (Quit: Verlassend)
[03:56:48] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[04:03:47] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:03:52] <strcat> rusti: 5
[04:04:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:04:52] *** Joins: eholk (eholk@moz-728534AB.tmodns.net)
[04:05:18] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[04:06:11] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[04:07:31] *** Joins: cdidd (cdidd@moz-74DC6AA8.broadband.corbina.ru)
[04:07:59] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[04:09:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:09:19] <strcat> rusti: 5
[04:09:20] <rusti> foo.rs
[04:09:20] <rusti> 5
[04:09:22] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:10:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:10:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:11:19] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[04:13:51] *** Joins: bent|away (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[04:14:36] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[04:14:42] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[04:15:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:15:20] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/lqXm4g
[04:15:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:15:33] <cmr> yay
[04:15:44] <cmr> only one more patchset until all the cases of unresolved import have better errors
[04:16:45] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[04:18:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:18:18] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Bwzqwg
[04:18:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:18:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:18:19] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/vIcYMw
[04:18:19] <ghrust> 13rust/06auto 14f946bbc 15Alex Crichton: rustpkg: Remove #[allow(vecs_implicitly_copyable)]
[04:18:19] <ghrust> 13rust/06auto 141bd5a3a 15Alex Crichton: compiletest: Remove #[allow(vecs_implicitly_copyable)]
[04:18:19] <ghrust> 13rust/06auto 14fb141ef 15Alex Crichton: syntax: Remove #[allow(vecs_implicitly_copyable)]
[04:18:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:18:47] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[04:19:26] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[04:20:12] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[04:20:54] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[04:26:10] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:37:42] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[04:40:41] <aatch> strcat, you wouldn't know anything about making archiso usb disks for EFI?
[04:40:57] <strcat> no, not really
[04:41:05] <strcat> I haven't used EFI ;p
[04:41:19] <strcat> although this laptop has it... but it also just has legacy boot mode
[04:41:39] <Ralith> I tried to get arch to use EFI once
[04:41:46] <Ralith> after the fourth reinstall, I gave up and used legacy
[04:41:48] <cmr> I'd use EFI if it weren't so buggy
[04:42:12] <cmr> I don't know if it's just my mobo's implementation... or it just being a bloaty buggy heap of crap
[04:42:19] <cmr> (in general, that is)
[04:42:29] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[04:42:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:42:52] <aatch> I've got a mac mini that my boss gave me as a temporary fix until I get a new laptop.
[04:42:59] <strcat> rusti: core::run::run_program("ls", []);
[04:43:00] <rusti> foo
[04:43:00] <rusti> foo.rs
[04:43:03] <strcat> rusti: core::run::run_program("uname", []);
[04:43:13] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:43:18] <aatch> So I can actually work in the office again.
[04:43:23] <strcat> goodbye, half the syscalls ;p
[04:43:32] * strcat wonders how many rustc ends up actually using
[04:43:35] <strcat> guess I'll find out
[04:43:43] <sammykim> Is this different between above thing and below thing?
[04:43:50] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:45:34] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[04:45:35] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[04:46:10] <cmr> sammykim: hm?
[04:46:16] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:49:03] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[04:49:31] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:49:37] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[04:50:14] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[04:51:05] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:51:08] <bjz> rusti: 0x7ff0000000000000
[04:51:17] <strcat> sec ;p
[04:51:31] <bjz> :P
[04:51:36] * bjz wishes rusti was working
[04:51:43] <strcat> I should just start from 0 syscalls and add them until it works...
[04:51:51] <bjz> (the local one)
[04:51:53] <strcat> then I could get rid of the VM
[04:52:11] <cmr> strcat: or... use strace?
[04:52:22] <strcat> I guess ;p
[04:53:25] <strcat> atm it runs bash, sudo (could just be a setuid call), rustc and the binary
[04:55:01] <fread2281> strcat: or keep the vm...
[04:55:18] <strcat> I'd rather just select the set of syscalls it needs
[04:55:22] <sammykim> cmr: fn unsafe {} fn { unsafe { } } Do those functions have different meaning?
[04:55:30] <sammykim> http://pastebin.mozilla.org/2398869
[04:55:50] <sammykim> or Are those same? I am sorry about that I didn't attach source code :P
[04:55:58] <strcat> only real reason is to limit the availability of local root exploits
[04:56:00] <fread2281> sammykim: unasfe fn must be called fro an unsafe block
[04:56:05] <cmr> sammykim: yes. the first promises to contain the safety, the second is only usable in unsafe code.
[04:56:12] <cmr> *contain the unsafety
[04:56:43] <fread2281> cmr: other way around 
[04:57:34] <cmr> fread2281: is it? isn't the first a safe function, and the second an unsafe function?
[04:58:20] <strcat> bjz: http://ix.io/5Cg well lets see if your idea works :)
[04:58:35] <strcat> that's for rustc
[04:58:44] <fread2281> cmr: the first is fn unsafe {//code here}, should be unsafe fn but same thing. second is fn { unsafe{//code here}}
[04:59:07] <cmr> fread2281: the order is different in the paste
[04:59:21] <fread2281> oh
[05:00:06] <sammykim> Yes sorry for confusing you :)
[05:00:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:00:17] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1428f135e to 148291e36: 02http://git.io/N3iJvQ
[05:00:17] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:00:19] <sammykim> I ordered the code different :(
[05:00:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:00:20] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/kXvCcQ
[05:00:20] <ghrust> 13rust/06auto 142a9a4a8 15Alex Crichton: Don't create subprocesses for the `rust` command...
[05:00:20] <ghrust> 13rust/06auto 148a5561b 15bors: auto merge of #6438 : alexcrichton/rust/issue-5387, r=thestinger...
[05:00:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:00:47] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[05:03:15] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[05:05:03] <bjz> strcat: ?
[05:05:15] *** Joins: heftig (heftig@moz-6266CC43.dip0.t-ipconnect.de)
[05:05:16] <strcat> err, cmr 
[05:06:13] <bjz> :P
[05:06:17] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[05:06:32] <cmr> https://github.com/cmr/rust/commit/31c5b4c2712062aae9b06a76409c24acd6f591e8#L0R2326
[05:06:42] <strcat> rustc forks a child process ;\
[05:06:46] <cmr> Is there any way I can get a span there?
[05:06:53] <cmr> strcat: strace -f!
[05:07:04] <strcat> cmr: :)
[05:08:32] <strcat> annoyingly messy output
[05:08:45] <strcat> oh well ;p
[05:08:59] <cmr> (update: https://github.com/cmr/rust/commit/be82449a9a73efd7831b01a523c5f11cd27baa11#L0R2325)
[05:10:37] <sammykim> cmr : Thx a lot 
[05:11:21] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[05:13:09] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[05:13:56] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[05:13:59] *** Quits: eholk (eholk@moz-728534AB.tmodns.net) (Quit: eholk)
[05:14:17] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[05:14:45] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[05:15:04] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[05:15:45] *** Quits: spaceships (spaceships@moz-8323E7E6.msl-mt.client.bresnan.net) (Quit: leaving)
[05:16:50] <Diablo-D3> https://www.youtube.com/watch?v=KaOC9danxNo&feature=player_embedded
[05:17:15] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[05:17:43] *** Quits: z0w0 (zack@D1D2DBCB.806EA3ED.2CE63F58.IP) (Quit: Leaving.)
[05:18:37] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[05:20:36] <dbaupp> Diablo-D3: that's amazing! :)
[05:21:26] <Diablo-D3> very
[05:23:31] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[05:23:50] *** Joins: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr)
[05:29:57] *** Joins: mdu (mdu@moz-9962C9F4.rev.numericable.fr)
[05:31:01] <sammykim> What's that ? Was it taken in space?
[05:31:18] <cmr> it looks like it, but they must have done a lot of postprocessing
[05:32:25] <sammykim> How can they take it? Oh that's like musical.. ;)
[05:33:13] <sammykim> I just clicked link and then I didn't turn on the sound before.. It's pretty wonderful :)
[05:35:22] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Ping timeout)
[05:38:51] *** Quits: bent|away (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[05:42:40] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[05:44:37] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Quit: leaving)
[05:45:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:50:22] *** Quits: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[05:51:15] *** Quits: mdu (mdu@moz-9962C9F4.rev.numericable.fr) (Quit: mdu)
[05:51:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:51:19] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/kXvCcQ
[05:51:19] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:52:11] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[05:52:52] <steven_is_false> Today, I learned a nice technique. Use watch make target to continuously poll build.
[05:52:56] *** Quits: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr) (Quit: pyrac)
[05:53:02] <steven_is_false> *poll for builds.
[05:53:13] <cmr> steven_is_false: why is that useful?
[05:53:39] <steven_is_false> cmr: I can hack on my files, and have the build finished when I'm done.
[05:54:05] <cmr> but won't editing the files while it's building cause some issues?
[05:54:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:54:19] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/HVaciQ
[05:54:19] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:54:53] *** Joins: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr)
[05:54:54] <steven_is_false> cmr: I know what your talking about but in practise I never run into those problems.
[05:55:35] <steven_is_false> Of course a smarter build system like tup which implements the monitoring stuff itself won't ever run into these problems.
[05:57:17] <cmr> cool
[05:57:39] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:57:55] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[05:58:56] <cmr> "In a typical build system, the dependency arrows go down. Although this is the way they would naturally go due to gravity, it is unfortunately also where the enemy's gate is. This makes it very inefficient and unfriendly. In tup, the arrows go up. This is obviously true because it rhymes."
[05:59:03] <cmr> The author of tup has a good sense of humor :)
[05:59:50] <steven_is_false> Unfortunately tup is incompatible with rust's library naming system
[06:01:22] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[06:01:46] <steven_is_false> Well goodnight.
[06:01:53] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[06:02:50] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[06:03:20] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[06:09:54] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Quit: dbaupp)
[06:10:52] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[06:11:11] *** Quits: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr) (Quit: pyrac)
[06:13:42] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[06:14:08] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[06:15:08] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[06:15:36] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[06:16:32] *** Joins: reed (reed@tech.monkey)
[06:17:39] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[06:18:14] *** raze is now known as raise
[06:18:17] *** raise is now known as raze
[06:22:21] *** Joins: haard (fredrik@F3248749.C2E49760.92AEF337.IP)
[06:34:38] *** Quits: jaen (jaen@moz-5C345224.play-internet.pl) (Ping timeout)
[06:35:46] *** Joins: jaen (jaen@moz-5C345224.play-internet.pl)
[06:37:52] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[06:40:17] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[06:42:09] *** Joins: fabiand (fabiand@moz-C40CFDE4.adsl.alicedsl.de)
[06:43:16] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[06:45:38] *** Quits: haard (fredrik@F3248749.C2E49760.92AEF337.IP) (Ping timeout)
[06:48:31] *** Joins: ysuzuki_ (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[06:48:44] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Ping timeout)
[06:50:39] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Quit: dbaupp)
[06:55:37] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[06:56:33] *** Joins: pyrac (pyrac@19E86D0A.73C89388.AD05C589.IP)
[07:01:43] *** Joins: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP)
[07:03:13] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[07:03:39] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:12:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:12:20] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f80cdb0 to 148a5561b: 02http://git.io/N3iJvQ
[07:12:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:12:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:12:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/1xFBJA
[07:12:25] <ghrust> 13rust/06auto 14fed0ff8 15Alex Crichton: Remove re-exports from libcore/core.rc...
[07:12:25] <ghrust> 13rust/06auto 14e5c5aa2 15bors: auto merge of #6441 : alexcrichton/rust/issue-5531, r=luqmana...
[07:12:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:17:17] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[07:23:13] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[07:23:26] *** Joins: haard (fredrik@F3248749.C2E49760.92AEF337.IP)
[07:27:41] *** kimundi is now known as zz_kimundi
[07:32:35] *** Parts: Mic92 (Mic92@moz-35FE9196.linuxlovers.at) ()
[07:33:37] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:34:04] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[07:41:05] *** Joins: jviereck (Adium@moz-E24C0E58.ethz.ch)
[07:46:19] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[07:46:39] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[07:47:04] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[07:48:29] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[07:51:31] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[07:56:05] *** Quits: ysuzuki_ (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[07:59:55] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[08:00:40] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[08:04:22] *** Quits: froystig (froystig@4AB93A85.352137A1.BCED17D.IP) (Quit: leaving)
[08:08:28] *** Quits: jaen (jaen@moz-5C345224.play-internet.pl) (Ping timeout)
[08:09:15] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[08:11:19] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[08:16:02] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[08:16:21] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[08:18:17] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[08:20:42] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:20:52] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[08:27:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:27:21] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e5c5aa2 to 148a5561b: 02http://git.io/N3iJvQ
[08:27:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:27:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:27:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gurVpg
[08:27:23] <ghrust> 13rust/06auto 14103a68b 15Luqman Aden: Correct #[always_inline] -> #[inline(always)] and __attribute((...)) -> __attribute__((...)).
[08:27:23] <ghrust> 13rust/06auto 148d4a3d5 15bors: auto merge of #6447 : luqmana/rust/6446, r=thestinger...
[08:27:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:27:28] <sammykim> Isn't there anyone who knows about shell well?
[08:28:00] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[08:28:01] <sammykim> I am curious about what the differences are between $@ $*?
[08:30:34] <Luqman> sammykim: http://www.gnu.org/software/bash/manual/bashref.html#Special-Parameters
[08:30:38] <dbaupp> sammykim: http://stackoverflow.com/questions/2761723/what-is-the-difference-between-and-in-shell-scripts#2761739
[08:30:39] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[08:32:59] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[08:33:01] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[08:35:56] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:39:21] <sammykim> How can I use $* and $@ properly? I don't really know when I have to use $@? I can use $* to do something recursively
[08:40:21] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[08:40:28] <sammykim> Like for d in $*; do echo "\$*" $d; done it works well. but for d in $*; do echo "\$*" $d; done doesn't work. Then when do I have to use it exactly?
[08:41:27] <dbaupp> sammykim: you should almost always use "$@", e.g. `for d in "$@"; do echo $d; done`
[08:41:52] <sammykim> http://tldp.org/LDP/abs/html/refcards.html
[08:42:13] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[08:42:58] *** Joins: z0w0 (zack@D1D2DBCB.806EA3ED.2CE63F58.IP)
[08:43:04] <sammykim> Oh.. I see then what's the different between both.?
[08:44:21] *** Joins: Blub\w (wry@moz-73A18FA9.wireless.dyn.drei.com)
[08:45:20] <dbaupp> sammykim: did you have a look at the links that Luqman and I gave you?
[08:46:55] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[08:47:27] <ion> "$@" expands to "$1" "$2" "$3"‚Ä¶ depending on the number of parameters, "$*" expands to "$1 $2 $3‚Ä¶"
[08:47:35] <ion> You usually want "$@"
[08:51:01] *** Joins: sdh_ (sdh@8557E3E0.AAC4A127.9105FBCF.IP)
[08:51:33] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[08:55:00] *** Joins: libertas (libertas@moz-4F571E07.rev.vodafone.pt)
[08:58:15] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[09:02:26] <doener> Hm, does cross-crate inlining always require #[inline]? I'm wondering because https://github.com/mozilla/rust/blob/incoming/src/libcore/hash.rs#L87 doesn't get inlined
[09:02:48] *** Quits: jviereck (Adium@moz-E24C0E58.ethz.ch) (Quit: Leaving.)
[09:04:17] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[09:04:29] *** Quits: heftig (heftig@moz-6266CC43.dip0.t-ipconnect.de) (Quit: Quitting)
[09:04:45] *** Joins: heftig (heftig@moz-6266CC43.dip0.t-ipconnect.de)
[09:05:45] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:06:46] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[09:11:08] *** Joins: berak (chatzilla@55EBAEF8.5E545589.16E13E53.IP)
[09:16:49] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:18:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:18:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/gurVpg
[09:18:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:22:21] *** Joins: jviereck (Adium@moz-AA7F519B.ethz.ch)
[09:22:42] *** Quits: jviereck (Adium@moz-AA7F519B.ethz.ch) (Max SendQ exceeded)
[09:22:59] *** Joins: jviereck (Adium@moz-AA7F519B.ethz.ch)
[09:35:25] <dbaupp> doener: yes
[09:35:59] <dbaupp> (the relevant data only gets written to the crate file if #[inline] #[inline(always)] is specified)
[09:36:04] <dbaupp> *or
[09:44:16] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[09:48:00] *** Quits: jviereck (Adium@moz-AA7F519B.ethz.ch) (Quit: Leaving.)
[09:54:02] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:56:39] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:57:23] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:02:47] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:03:58] *** Joins: vmx (vmx@moz-D942A0A2.pools.arcor-ip.net)
[10:06:04] <indutny> hey people
[10:06:05] <indutny> unresolved name: `rustpkg::usage::general`.
[10:06:06] <indutny> have you fixed it?
[10:06:18] <indutny> seems like no...
[10:07:42] *** Quits: sdh_ (sdh@8557E3E0.AAC4A127.9105FBCF.IP) (Quit: Konversation terminated!)
[10:13:48] <dbaupp> aatch: ping
[10:14:38] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[10:14:56] *** Quits: indutny (indutny@moz-49D42D15.c.ircrelay.com) (Quit: IRCRelay - http://ircrelay.com)
[10:15:10] *** Quits: haard (fredrik@F3248749.C2E49760.92AEF337.IP) (Ping timeout)
[10:24:38] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[10:27:58] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[10:28:02] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Input/output error)
[10:28:03] *** zz_kimundi is now known as kimundi
[10:30:39] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[10:33:14] *** Joins: indutny (indutny@moz-49D42D15.c.ircrelay.com)
[10:35:10] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[10:40:26] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[10:41:54] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:46:07] *** Joins: thiez (thiez@moz-BF669398.student.utwente.nl)
[10:48:16] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[11:02:39] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[11:02:50] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:04:39] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[11:05:18] *** Joins: lbonn (lbonn@moz-29C8E1BA.ap-w02.canvas.ne.jp)
[11:06:09] <aatch> dbaupp, pong
[11:08:24] <dbaupp> aatch: read-over + r? https://github.com/mozilla/rust/pull/6448
[11:08:27] <dbaupp> :)
[11:09:45] <aatch> dbaupp, done :P
[11:10:02] <dbaupp> sweet!
[11:10:15] <dbaupp> how's the queue/whatever you're working on now?
[11:11:45] *** Joins: cstrahan (cstrahan@moz-4C7E5789.hsd1.dc.comcast.net)
[11:12:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:12:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/iP6zpA
[11:12:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:12:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:12:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Cs2KIQ
[11:12:23] <ghrust> 13rust/06auto 14d43908a 15Huon Wilson: doc: document the #[deriving] attribute....
[11:12:24] <ghrust> 13rust/06auto 142774392 15bors: auto merge of #6448 : huonw/rust/deriving-doc, r=Aatch...
[11:12:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:12:34] <aatch> dbaupp, didn't have a chance today, was installing linux on a mac minit
[11:12:36] <aatch> mini*
[11:13:35] <dbaupp> it works?
[11:13:58] <aatch> dbaupp, the mac? yeah
[11:22:16] *** Quits: Blub\w (wry@moz-73A18FA9.wireless.dyn.drei.com) (Ping timeout)
[11:23:36] *** Joins: synapsos (Mibbit@640C6C8D.C434660A.DAB1EB3B.IP)
[11:24:21] *** Joins: jviereck (Adium@moz-9B55AF2D.ethz.ch)
[11:25:44] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[11:27:38] *** Quits: jviereck (Adium@moz-9B55AF2D.ethz.ch) (Quit: Leaving.)
[11:34:14] <darkf> can you parameterize enums? like enum Tree<T> { Leaf(T, Tree), Empty }?
[11:34:23] <engla> yes
[11:34:49] <engla> prime example is the Option<T> enum
[11:34:55] <darkf> ah, right
[11:34:58] <darkf> excelelnt
[11:35:03] *** Parts: berak (chatzilla@55EBAEF8.5E545589.16E13E53.IP) ()
[11:36:52] <engla> You need a pointer to make a recursive datatype, I can't vouch for the best way to do it
[11:37:07] <engla> Either using ~ or @
[11:37:18] <kimundi> or &
[11:37:39] <engla> is that possible?
[11:37:41] <kimundi> though that means allocating it somewhere else, so maybe not optimal
[11:37:45] <aatch> engla, generally ~ is better
[11:37:50] <kimundi> In principle yes.
[11:37:56] <aatch> engla, with lifetimes it is
[11:38:37] <kimundi> rusti: let s : &~str = &~"foo"; Some(s)
[11:39:01] <kimundi> rusti: ?
[11:39:09] <kimundi> rusti: "test"
[11:39:10] <aatch> kimundi, not up
[11:39:10] <rusti> "test"
[11:39:22] <aatch> or maybe he is...
[11:39:33] <kimundi> rusti: if true { fail!("foo") }
[11:39:38] <aatch> rusti: let s : &~str = &~"foo"; Some(s)
[11:39:51] <kimundi> has the 'on error no printout' bug again
[11:40:25] <engla> I'm a novice at least. It's easier to code recursive datatypes with @ boxes
[11:40:26] <EXetoC> rusti: {{{{{}}}}}
[11:40:59] *** Joins: Blub\w (wry@moz-13F8279B.wireless.dyn.drei.com)
[11:41:34] <engla> for example like an immutable linked list in std::list
[11:41:35] <kimundi> rusti: enum Foo { Atom, Op(&Foo, &Foo) }; let x = Atom, y = Atom; let o = Op(&x, &y); print(fmt!("%?", o))
[11:42:01] *** Joins: drguildo (drguildo@moz-D4255ABE.drguildo.com)
[11:43:02] *** Quits: drguildo (drguildo@moz-D4255ABE.drguildo.com) (Quit: Leaving)
[11:43:31] <dbaupp> rusti: enum Foo<'self> { Atom, Op(&'self Foo, &'self Foo) }; let x = Atom, y = Atom; let o = Op(&x, &y); print(fmt!("%?", o))
[11:46:31] <dbaupp> aatch: https://github.com/mozilla/rust/pull/6437
[11:46:42] <engla> I like how std::treemap uses Option so it doesn't need to encode an algebraic datatype itself
[11:48:26] <aatch> damn trailing whitespace.
[11:49:22] <dbaupp> <3 kill trailing whitespace on save
[11:50:01] <aatch> dbaupp, I have vim highlight it
[11:50:36] <dbaupp> that works too
[11:51:24] <dbaupp> (it really annoys me when someone has highlight trailing whitespace on, and then doesn't bother to delete it :/ ... pet peaves )
[11:55:40] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[11:59:46] *** Joins: haard (fredrik@F3248749.C2E49760.92AEF337.IP)
[12:01:53] <bjz> rusti: 0x7ff0000000000000
[12:01:54] <rusti> 9218868437227405312
[12:02:35] <bjz> rusti: u64::to_str_radix(0x7ff0000000000000, 2)
[12:02:36] <rusti> ~"111111111110000000000000000000000000000000000000000000000000000"
[12:02:45] <bjz> rusti: u64::to_str_radix(0x7ff0000000000000, 2).len()
[12:02:46] <rusti> 63
[12:02:50] <dbaupp> that's not right?
[12:03:06] <bjz> :S
[12:03:12] <EXetoC> rusti: {{{{{}}}}}
[12:03:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:03:22] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/Cs2KIQ
[12:03:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:03:26] <EXetoC> rusti: "√•"
[12:03:28] <rusti> "\xe5"
[12:03:31] <aatch> u8::to_str_radix(0x7f, 2).len()
[12:03:41] <dbaupp> EXetoC: svensk?
[12:03:43] <aatch> rusti: u8::to_str_radix(0x7f, 2).len()
[12:03:44] <rusti> 7
[12:03:50] <EXetoC> dbaupp: typ!
[12:03:57] *** Joins: cmr_ (cmr_@moz-E7EA111C.clients.kiwiirc.com)
[12:04:13] <aatch> rusti: u8::to_str_radix(0x7f, 2)
[12:04:15] <rusti> ~"1111111"
[12:04:25] <aatch> rusti: u8::to_str_radix(0x80, 2)
[12:04:26] <rusti> ~"10000000"
[12:04:29] <EXetoC> dbaupp: du
[12:04:34] <EXetoC> ?
[12:04:54] <cmr_> rusti: u8::to_str_radix(0x1ff, 2)
[12:04:55] <rusti> ~"11111111"
[12:05:03] <cmr_> yuck!
[12:05:17] <cmr_> rusti: u8::to_str_radix(0x1fe, 2)
[12:05:19] <rusti> ~"11111110"
[12:05:23] <bjz> ?
[12:05:27] <dbaupp> EXetoC: nej, jag √§r australisk (?), men jag bodde i Uppsala i sista termin
[12:05:31] <cmr_> rusti: u8::to_str_radix(0x1feu32, 2)
[12:05:32] <bjz> yuck?
[12:05:40] <dbaupp> EXetoC: jag talar j√§ttelite svenska :)
[12:05:51] <cmr_> bjz: 0x1ff is too large to fit in a u8
[12:06:14] <bjz> ahh :P
[12:06:17] <EXetoC> dbaupp: ooh. cool!
[12:06:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:06:20] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/heEZjA
[12:06:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:06:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:06:22] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/DVdKDQ
[12:06:22] <ghrust> 13rust/06auto 14a9f2132 15Matthijs Hofstra: Adds atomic_load, atomic_load_acq, atomic_store, and atomic_store_rel intrinsics....
[12:06:22] <ghrust> 13rust/06auto 14fa1a172 15Matthijs Hofstra: Removed unnecessary check from build.rs
[12:06:22] <ghrust> 13rust/06auto 14852af34 15Matthijs Hofstra: Tidy
[12:06:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:06:26] <dbaupp> EXetoC: and very poorly, I'm sure :(
[12:06:32] <bjz> cmr_: nice find
[12:06:51] <dbaupp> EXetoC: is 'typ' slang for yes?
[12:07:06] <thiez> aatch: thanks for the r+ :)
[12:07:27] <aatch> thiez, no problem.
[12:07:31] <cmr_> bjz:¬†https://github.com/mozilla/rust/issues/6450
[12:08:16] <dbaupp> rusti: let a: u8 = 0x1ff; a
[12:08:17] <rusti> 255
[12:08:32] <dbaupp> rusti: let a: u8 = 0x123; a
[12:08:33] <rusti> 35
[12:08:53] <EXetoC> dbaupp: decent grammar I guess
[12:09:10] <engla> dbaupp: 'typ' kan betyda ungef√§r/n√§stan.. i alla fall f√∂rst√•r jag det s√•
[12:09:17] <cmr_> Should be a compile-time failure, yeah? "value too large for type"?
[12:09:18] <EXetoC> dbaupp: it means 'kinda', sort of, but yes I meant 'yes' :p
[12:09:23] <dbaupp> cmr_: looks like it's more general than just to_str_radix
[12:09:48] <dbaupp> EXetoC engla: jaha
[12:10:05] <dbaupp> jag f√∂rst√•r
[12:10:08] <cmr_> Updated the title.
[12:11:07] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:12:02] <dbaupp> rusti: 0xff1234567812345678u64
[12:12:27] <dbaupp> rusti: let a: u64 = 0xff1234567812345678; a
[12:12:44] <EXetoC> dbaupp: why this cold part of the world, of all places?
[12:12:45] <bjz> rusti: use ::core::option::Some;
[12:12:46] <cmr_> It'd be really nice if it reported errors...
[12:13:05] <cmr_> strcat, breakin' stuff :p
[12:13:08] <dbaupp> EXetoC: snow's awesome!
[12:13:42] <aatch> dbaupp, spoken like an Australian
[12:13:43] <EXetoC> ok :p
[12:14:01] <dbaupp> EXetoC: and, I wanted to go to Europe (but not England), but I had to go to a place that has classes in English, and that basically left Scandinavia
[12:14:14] <dbaupp> so, yeah, sweden.
[12:14:18] <dbaupp> aatch: :D
[12:15:34] <aatch> dbaupp, don't worry, most of the North Is. kiwis are the same
[12:15:43] <dbaupp> EXetoC: where are you? Stockholm?
[12:15:58] <EXetoC> yep
[12:16:10] * aatch has never seen so many grown people get exited over snow
[12:16:13] <cmr_> is there a planned timeframe for the incoming->master transition?
[12:16:28] <dbaupp> aatch: skiing is awesome
[12:16:55] <dbaupp> EXetoC: cool! just down the trainline
[12:18:54] <EXetoC> dbaupp: not in the actual city, but yeah that still holds
[12:19:22] <EXetoC> I haven't skied in over 10 years. I'm such a bad Swede
[12:19:32] *** Quits: cmr_ (cmr_@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[12:21:35] <engla> Only certain parts of Sweden have hills and snow well accessible
[12:22:18] <engla> my parts as far away as possible from all that unfortunately. Sometimes I think quality of life would be better far north or in norway
[12:22:32] <engla> if you're into snow
[12:22:59] <dbaupp> engla: Sk√•ne?
[12:23:04] <engla> yup
[12:23:39] <dbaupp> (And, yeah, I didn't actually ski in sweden... although I went dog sledding in Kiruna, and that's pretty awesome too.)
[12:23:42] <engla> but I was skiing just 1.5 months ago in norway though
[12:24:14] <dbaupp> :)
[12:25:25] <engla> a friend left to √ñstersund (far more north) and lamented all the time he'd wasted in front of computer screens down here. Now he's out every weekend in the mountains
[12:30:47] * dbaupp is jealous
[12:35:04] *** Quits: z0w0 (zack@D1D2DBCB.806EA3ED.2CE63F58.IP) (Quit: Leaving.)
[12:41:36] <EXetoC> sounds like fun
[12:41:41] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[12:42:46] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:42:52] <nmatsakis> bjz: I don't think that should be an error.
[12:42:57] *** Joins: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP)
[12:43:22] <bjz> nmatsakis: that gist I posted?
[12:44:00] <nmatsakis> bjz: yes, right. The code seems to think that one type should not implement the same trait more than once, no matter whether it has different type parameters or not. this is incorrect. I think I opened a bug on it...
[12:44:20] <nmatsakis> or at least it's been on my mind to fix
[12:44:35] <bjz> nmatsakis: coolies
[12:45:06] <bjz> nmatsakis: do you know what the bug is? Maybe I should add this as an example?
[12:45:48] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[12:45:56] <nmatsakis> bjz: let me look...
[12:47:22] *** Joins: jviereck (Adium@moz-516569DE.ethz.ch)
[12:47:57] <nmatsakis> bjz: I think I just meant https://github.com/mozilla/rust/issues/5527
[12:48:00] <nmatsakis> bjz: I added your gist as a comment
[12:48:07] <bjz> cheers
[12:48:33] <EXetoC> dbaupp, engla: sk√•ne, √∂stersund? interesting. I wonder what the rest of Sweden is like :D
[12:48:42] <EXetoC> it almost feels like I'm a newly arrived immigrant
[12:49:41] <jensnockert> Sk√•ne!
[12:50:08] <dbaupp> jensnockert: you missed the sweden party! :P
[12:50:13] <jensnockert> :(
[12:59:11] *** Joins: trapni (trapni@moz-6A0EA166.dawanda.com)
[12:59:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:00:22] *** Quits: haard (fredrik@F3248749.C2E49760.92AEF337.IP) (Ping timeout)
[13:05:11] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[13:06:06] *** Quits: Blub\w (wry@moz-13F8279B.wireless.dyn.drei.com) (Quit: bb2m)
[13:07:53] <dbaupp> Does the makefile only check for modified files to a certain depth?
[13:10:11] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[13:11:07] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[13:11:30] *** Joins: wunki (wunki@moz-7300E3D6.ip.prioritytelecom.net)
[13:12:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:12:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/DVdKDQ
[13:12:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:12:53] *** Quits: wunki (wunki@moz-7300E3D6.ip.prioritytelecom.net) (Quit: Bye)
[13:14:00] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[13:15:09] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[13:16:05] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[13:17:53] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[13:18:53] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[13:23:57] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Client exited)
[13:30:20] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[13:30:30] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[13:31:28] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:33:04] *** Joins: spaceships (spaceships@moz-8323E7E6.msl-mt.client.bresnan.net)
[13:35:58] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[13:36:55] <bjz> spaceships: pew pew pew
[13:38:17] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[13:39:32] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[13:39:37] <EXetoC> *warp speed... choo choo*
[13:42:35] *** Quits: jviereck (Adium@moz-516569DE.ethz.ch) (Quit: Leaving.)
[13:46:26] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[13:49:51] <ssbr> Looks like writing a macro for early return makes for prettier code than repeatedly invoking result::chain :(
[13:51:04] <ssbr> I should write a haskelly do macro and monad trait.
[13:51:54] <bjz> ssbr: do you use the method?
[13:52:30] <ssbr> bjz: the problem is 7 levels of indentation
[13:52:38] <bjz> hah
[13:53:05] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:53:26] <ssbr> bjz: also, how can I tell if something is a method?
[13:53:37] <ssbr> it didn't look like a method in the docs, because there was no mention of self
[13:53:43] <bjz> look for the trait
[13:54:02] <ssbr> oh, there it is
[13:54:02] <bjz> the docs are pretty difficult (imo)
[13:54:04] <ssbr> derf
[13:54:09] <bjz> room for improvement
[13:54:29] <bjz> it's hard working out what methods are available for what
[13:55:41] <ssbr> the usual API doc format is to list out all the methods at the start of the interface or class (or trait, for Rust) and make them links to more detailed docs for the methods
[13:55:56] <ssbr> so if you navigate to a trait, the first thing you'd see is a compact listing of all its methods
[13:56:08] <ssbr> the current format is decidedly un-compact
[13:57:07] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[13:57:47] <dbaupp> ssbr: https://github.com/mozilla/rust/issues/5413
[13:58:19] <ssbr> oh dear
[14:00:51] <dbaupp> ssbr: and https://github.com/mozilla/rust/issues?labels=A-rustdoc&page=1&state=open
[14:01:36] <nmatsakis> strc
[14:01:40] <nmatsakis> oops, sorry.
[14:03:34] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:04:40] <ssbr> dbaupp: man, that looks like a lot of work
[14:06:00] *** kimundi is now known as zz_kimundi
[14:06:28] <dbaupp> ssbr: I guess a ground up rewrite might be "easiest"
[14:06:51] <ssbr> dbaupp: even so, doing it well involves introspecting crates in nasty ways
[14:07:06] <ssbr> https://github.com/mozilla/rust/issues/1678
[14:13:35] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[14:13:47] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[14:14:14] *** Joins: reed (reed@tech.monkey)
[14:20:44] <doener> https://github.com/mozilla/rust/pull/6357 -- r? freshly rebased and bors pending queue is empty, so maybe it will make it this time :-)
[14:21:59] *** zz_kimundi is now known as kimundi
[14:22:11] *** Quits: sp3d (a@moz-17CB39F1.fidnet.com) (Quit: sp3d)
[14:24:27] *** Joins: sp3d (a@moz-17CB39F1.fidnet.com)
[14:25:08] <indutny> extern mod this(name = "rust", vers = "0.7-pre");
[14:25:15] <indutny> error: multiple matching crates for `rust
[14:25:22] *** Joins: meepy (jircii@96566F04.A417A335.DF3C7188.IP)
[14:26:22] <indutny> ok, I removed one crate
[14:26:23] <ssbr> indutny: sounds like you have some leftover builds you need to delete
[14:26:32] <indutny> yes, already did it
[14:26:33] <indutny> thanks
[14:26:39] <indutny> lets see if it'll continue building
[14:26:46] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[14:26:52] <indutny> it seems that you've tweaked build system recently, right?
[14:27:12] <ssbr> don't look at me!
[14:28:51] <indutny> haha
[14:28:51] <indutny> :)
[14:30:36] *** Joins: jviereck (Adium@moz-9B55AF2D.ethz.ch)
[14:31:48] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Ping timeout)
[14:32:33] *** Quits: jviereck (Adium@moz-9B55AF2D.ethz.ch) (Quit: Leaving.)
[14:33:56] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[14:39:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:39:20] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/dr4u5A
[14:39:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:39:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:39:23] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/tbbxDQ
[14:39:23] <ghrust> 13rust/06auto 14f946bbc 15Alex Crichton: rustpkg: Remove #[allow(vecs_implicitly_copyable)]
[14:39:23] <ghrust> 13rust/06auto 141bd5a3a 15Alex Crichton: compiletest: Remove #[allow(vecs_implicitly_copyable)]
[14:39:25] <ghrust> 13rust/06auto 14fb141ef 15Alex Crichton: syntax: Remove #[allow(vecs_implicitly_copyable)]
[14:39:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:40:27] <indutny> ok, what about unresolved name `rustpkg::usage::general`. ?
[14:40:47] <doener> hm, too late, that one will cause merge conflicts :-/
[14:40:55] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:41:00] <indutny> em?
[14:41:28] <doener> indutny: about the r? for #6357 I asked about
[14:41:36] <indutny> ah
[14:41:57] <indutny> I just thought for a moment that you was answering my question :)
[14:42:03] <indutny> sorry
[14:42:16] <doener> well, it was confusing ;-)
[14:45:04] *** Quits: pyrac (pyrac@19E86D0A.73C89388.AD05C589.IP) (Ping timeout)
[14:47:04] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[14:47:06] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[14:50:14] <meepy> I'm running into the following error message "error: binary operation == cannot be applied to type `file::FileType`" when using == with enums. Was doing this in a pattern matching guard. Any ideas?
[14:50:48] *** Joins: jviereck (Adium@moz-675F0381.ethz.ch)
[14:50:50] <meepy> Issue 4099 might or might not be related
[14:51:02] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:52:10] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[14:55:27] <bstrie> nmatsakis: new borrock fixes https://github.com/mozilla/rust/issues/2992 , yes?
[14:55:38] <meepy> Example guard during matching: Ok(file_type) if file_type == file::UniversalBinary => do stuff..
[14:55:57] <nmatsakis> bstrie: no.
[14:56:03] <bstrie> ah :(
[14:56:07] <EXetoC> meepy: it's not implemented automatically. the simplest way is to add #[deriving(Eq)]
[14:56:19] <EXetoC> just before the declaration
[14:58:50] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[14:58:50] <meepy> Thanks, I'll give it a go. I noticed that reworking the example to pattern match in the pattern matching arm worked. Would that be preferrable style-wise?
[14:58:52] <EXetoC> or match on that as well
[14:59:18] <EXetoC> I guess it depends
[15:00:18] <EXetoC> I'd use a match if I wanted to deal with all, or most of the variants
[15:00:32] <bjz> meepy: you could do: Ok(file::UniversalBinary) => do stuff
[15:01:24] *** Joins: jviereck1 (Adium@moz-9B55AF2D.ethz.ch)
[15:01:30] <EXetoC> that's better. I've never done that
[15:02:12] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[15:02:17] *** Quits: jviereck (Adium@moz-675F0381.ethz.ch) (Ping timeout)
[15:03:12] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:03:29] <indutny> so
[15:03:33] <indutny> I still unable to build incoming
[15:03:35] <indutny> unresolved name `rustpkg::usage::general`.
[15:03:37] <indutny> is it something known?
[15:04:08] *** jdm is now known as teb
[15:04:35] *** Joins: doomlord (doomlod@moz-B4683AA6.range31-52.btcentralplus.com)
[15:04:59] <indutny> it seems that usage::general::_6b4be5e14bc9ce0::_07pre
[15:05:00] <indutny> is present
[15:05:05] <indutny> in dylib
[15:05:24] <indutny> oh go
[15:05:27] <meepy> bjz: ahh, thats much more clear. Thanks.
[15:05:30] <indutny> it builds now
[15:05:31] <indutny> wtf
[15:05:51] <bjz> meepy: it takes time to get into the swing of pattern matching
[15:07:22] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[15:07:49] *** Joins: akashj87 (akash@30F51EB1.E7C6C45F.35E3DDC8.IP)
[15:08:07] *** Quits: libertas (libertas@moz-4F571E07.rev.vodafone.pt) (Ping timeout)
[15:11:08] *** Parts: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) ()
[15:11:26] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[15:12:26] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[15:13:47] *** Quits: meepy (jircii@96566F04.A417A335.DF3C7188.IP) (Quit: jIRCii - http://www.oldschoolirc.com)
[15:17:11] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:18:32] *** Joins: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net)
[15:20:21] *** Quits: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net) (Ping timeout)
[15:20:35] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[15:20:40] *** Quits: jviereck1 (Adium@moz-9B55AF2D.ethz.ch) (Quit: Leaving.)
[15:22:58] *** Joins: pancake (pancake@moz-1003A46C.dynamic.jazztel.es)
[15:22:59] *** Joins: jviereck (Adium@moz-9B55AF2D.ethz.ch)
[15:23:23] <pancake> im trying to call a C function from rust. like this: extern mod c { fn puts(s: ~libc::c_char); }
[15:23:33] *** Joins: libertas (libertas@moz-24C1C65B.cpe.netcabo.pt)
[15:23:46] <pancake> how should i define the argument to make it callable from rust?
[15:24:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:24:24] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14bc98b38 to 141bf2f68: 02http://git.io/N3iJvQ
[15:24:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:24:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:24:29] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/_kdnIw
[15:24:29] <ghrust> 13rust/06auto 144942318 15Bj√∂rn Steinbrink: Use static string with fail!() and remove fail!(fmt!())...
[15:24:29] <ghrust> 13rust/06auto 141bd9e3c 15Marvin L√∂bel: Fix cosmetics for fail!() calls
[15:24:29] <ghrust> 13rust/06auto 141302bc7 15bors: auto merge of #6357 : dotdash/rust/fixfmt, r=bstrie...
[15:24:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:25:40] <cyndis> pancake: make it *libc::c_char and use str::as_c_str
[15:25:53] *** Joins: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr)
[15:28:11] <bstrie> what did durable become?
[15:29:40] <bstrie> also, is the github user "dotdash" in here?
[15:30:28] <pancake> cyndis:  this function takes 2 parameters but 1 parameter was supplied
[15:30:37] <pancake> c::puts (str::as_c_str ("Hello"));
[15:30:49] <cyndis> it takes a &fn it passes the cstr to
[15:31:07] <doener> bstrie: here!
[15:31:19] <nmatsakis> bstrie: Durable is `'static`
[15:31:27] <bstrie> ty
[15:32:07] <pancake> cyndis: how shoul di call use it? im still confused of how ~&* works and all those as_* methods
[15:32:28] <cyndis> do str::as_c_str("Hello") |cstr| { c::puts(cstr); }
[15:33:32] <doener> bstrie: thanks for the r+
[15:33:40] <pancake> uhm.. why that? is as_c_str returning a lambda instead of string?
[15:33:50] <doener> gone now, back in an hour or so
[15:33:52] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[15:33:57] <cyndis> it calls a lambda with the string as a parameter
[15:34:18] <pancake> why's done like this?
[15:34:23] <sp3d> to enforce lifetime of the borrow?
[15:34:33] <pancake> isnt this overengineering a cast?
[15:34:42] <cyndis> *-pointers don't have lifetimes
[15:35:09] <cyndis> of course, at that point you're gonna be unsafe anyway..
[15:35:17] <sp3d> oh, yeah, I guess it's not actually a borrow
[15:35:55] <cyndis> the point is that within the lambda the *-pointer will be guaranteed to point to the right thing
[15:36:43] <sp3d> yeah
[15:36:46] <cyndis> you can just return the *-pointer from the lambda and use it but if anything happens to the string it might not be valid anymore
[15:37:32] <pancake> its a weak pointer.. so the lambda is a way to define its lifetime
[15:37:33] <pancake> ?
[15:37:38] <cyndis> yes
[15:38:08] <cyndis> as_c_str takes a &str, so the borrow checker makes the string immutable during the call
[15:38:37] <pancake> what if i have to pass multiple parameters? do i have a create a new lambda for each?
[15:39:08] <cyndis> well, you can just do str::as_c_str(a) |x| { x }
[15:39:11] *** Quits: fabiand (fabiand@moz-C40CFDE4.adsl.alicedsl.de) (Ping timeout)
[15:39:26] <doomlord> what are 'regions' in rust. 
[15:39:35] <cyndis> but you have to take care of the string yourselves
[15:39:38] <doomlord> (region anlysis/borrowed pointers/freezing)
[15:39:41] <cyndis> ..*yourself
[15:39:50] <cyndis> region == lifetime
[15:39:56] <pancake> so, if i want to generate rust bindings for C libs, i have to not only define the extern mod c signatures, but also wrappers for them to catch that thing
[15:40:00] *** Quits: trapni (trapni@moz-6A0EA166.dawanda.com) (Quit: Leaving)
[15:40:37] <cyndis> yes. the C interface for strings is unsafe and if you want to make it safe it must be wrapped somehow
[15:40:54] *** Joins: fabiand (fabiand@moz-27BF4615.adsl.alicedsl.de)
[15:41:17] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[15:41:30] *** Quits: synapsos (Mibbit@640C6C8D.C434660A.DAB1EB3B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:42:19] <kimundi> pancake: as _c_str uses a closure becuase it makes sure that the string you get a unsafe ptf for is null terminated
[15:42:29] <pancake> and is there a way to define char* and const char* ?
[15:43:04] <bstrie> doomlord: academic literature refers to them as regions, but in rust it was decided that "lifetime" was a less ambiguous name
[15:43:25] <pancake> about 'unsafe' attribute.. i should define the function as unsafe, right? i cant do this with the region
[15:43:28] <kimundi> pancake: you pass in a &str, and if it ends in 0 you just get a ptr to that. if it doesn't end in null it makes a null terminated copy and gives you a ptr for that. using a closure means tha that copy gets cleaned up properly afterwards
[15:43:34] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:44:15] <doomlord> lifetime refers to borrowed pointers ?
[15:44:21] <kimundi> pancake: Note that a rust char is 32bit. there is a c_char somewhere I think
[15:44:37] <kimundi> that one would be a C char
[15:44:43] <pancake> kimundi: oh. i see, so there are more differences than just a pointer
[15:44:55] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:44:59] <pancake> why char is 32bit? 
[15:45:29] <kimundi> pancake: becuase it is a unicode codepoint
[15:45:38] <kimundi> pancake: and rusts strings are utf8
[15:45:53] <kimundi> have to go now
[15:45:59] <pancake> ok thanks for the info :)
[15:46:22] <doomlord> rust has message-passing between tasks?
[15:48:17] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[15:48:23] <engla> doomlord: yup, see http://static.rust-lang.org/doc/tutorial-tasks.html
[15:49:31] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[15:53:41] <doomlord> interesting stuff
[15:53:54] <doomlord> i'm just talking to a diehard C++ beleiver who thinks there is no need for rust.
[15:54:04] <doomlord> i'm trying to expllain that concurrent programing in C++ is a nightmare
[15:54:08] <bjz> doomlord: that's one of the biggest selling points of rust
[15:54:13] *** Quits: jonasac (jonasac@moz-D4CDC8CE.members.linode.com) (Quit: Coyote finally caught me)
[15:54:34] <doomlord> the big thing is, if i've understood, the smartpointers can be reasoned about throughtout the program, and they're task -aware, right?
[15:54:49] *** Joins: frogmella (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[15:54:54] <doomlord> i would still be interested in rust for the cleaned up  syntax and trait system , even if that wasn't here
[15:55:38] *** kimundi is now known as zz_kimundi
[15:55:56] *** Quits: frogmella (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:56:25] *** Quits: eevee_ (eevee@moz-A20C5AE8.evrt.wa.frontiernet.net) (Ping timeout)
[15:57:47] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[15:57:48] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:57:48] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141302bc7 to 141bf2f68: 02http://git.io/N3iJvQ
[15:57:48] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:57:49] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:57:49] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/o9Uqtw
[15:57:49] <ghrust> 13rust/06auto 1410fcb23 15Steven Stewart-Gallus: Fixed type signature of uninhabited method....
[15:57:49] <ghrust> 13rust/06auto 14d7babce 15bors: auto merge of #6442 : sstewartgallus/rust/incoming, r=bstrie...
[15:57:49] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:59:47] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[16:01:27] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[16:02:06] *** Quits: libertas (libertas@moz-24C1C65B.cpe.netcabo.pt) (Ping timeout)
[16:02:58] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[16:03:13] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[16:06:38] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[16:07:20] <bstrie> doomlord: a lifetime is essentially the potential scope of any given borrow
[16:07:24] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[16:07:26] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[16:08:18] *** Quits: pancake (pancake@moz-1003A46C.dynamic.jazztel.es) (Quit: Lost terminal)
[16:09:48] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[16:11:27] *** Quits: thomaslee (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Quit: Leaving)
[16:12:25] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:14:04] <jack> that almost sounds like sage wisdom
[16:14:16] <doomlord> and thats when the 'original' is frozen i guess
[16:14:43] *** Joins: jlembeck (jlembeck@moz-E5A16406.hsd1.wa.comcast.net)
[16:15:46] <EXetoC> doomlord: I'm curious to know what kind of languages I have been using. I might care a little too much about features sometimes, but I tried D once and I really couldn't be bothered with C++ after that
[16:16:01] <EXetoC> s/I have/he has/
[16:16:11] <EXetoC> grammar fail
[16:16:23] <doomlord> my opponent seems to have only used C++.
[16:16:34] <doomlord> i'm not so far off - i've only written serious programs in C++
[16:17:43] <EXetoC> case closed then, I guess
[16:17:59] <doomlord> independantly of the pointer/concurrency features - the CFG (no headers) and Traits (which seem to unify compiler-time and runtime polymorphism elegantly) attract me to rust
[16:18:06] <ssbr> aside from being a C++ replacement, Rust has an interesting place in the ML family
[16:18:14] <doomlord> i have a langauege wish list, and rust ticks key boxes
[16:19:17] <ssbr> it's an impure ML descendant with static and dynamic dispatch on any type. which makes it really really usable, compared to the ML dialects. (And being impure makes it friendlier than Haskell.)
[16:19:22] <doomlord> this person is particularly stubborn though :)  i'm still trying to explain the difference between 'concurrency' and 'parallelism' r.e. multicore programming. he's convinced the latter doesn't exist.. 
[16:19:30] <ssbr> doomlord: oh dear
[16:19:50] <doomlord> he's taught threads, he knows them inside and out... aparently.
[16:20:00] <ssbr> doomlord: does he literally think that nobody writes software that is meant to run on multiple cores simultaneously?
[16:20:15] <doomlord> like i say, he's particularly stubborn.
[16:20:23] <ssbr> maybe this is not a person worth talking to
[16:20:25] <doomlord> if its not in Qt, it doesn't exist. there's probably no need.
[16:20:33] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[16:20:34] <doomlord> Qt solved all the problems already
[16:20:59] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[16:21:01] <doomlord> i get drawn into these arguments :)
[16:21:13] <ssbr> doomlord: get drawn into arguments with someone more interesting and less brainwashed
[16:21:28] *** Joins: Eleeleth (anthony@moz-87BA63DD.me)
[16:21:38] <ssbr> (how can you reasonably discuss alternative programming languages with someone who's only programmed in one language, anyway?)
[16:21:44] <EXetoC> at least some programmers are open-minded, so that's good
[16:21:51] <ssbr> doomlord: it sounds very distressing
[16:22:09] <doomlord> iv've enjoyed dabbling with other languages, even though i still feel a cripple outside of C++
[16:22:12] <ssbr> EXetoC: so many
[16:22:18] *** Quits: jviereck (Adium@moz-9B55AF2D.ethz.ch) (Quit: Leaving.)
[16:22:22] *** teb is now known as jdm
[16:22:27] <ssbr> There's a huge chunk of python programmers from Freenode's #python that are at least semi-interested in Rust
[16:22:31] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[16:22:56] <Flibo> i'm a cripple outside of python, but i'm pretty much just a beginner anyway
[16:22:59] <ssbr> (that channel has an attitude of, "python sucks, but everything else so far seems to suck more", so it's easier for them to be open minded)
[16:23:06] <EXetoC> great. or is it? trying to be open-minded here :p
[16:23:08] <doomlord> i'm trying Haskell again,  having a bit of fun with that.. going back to typeclasses after rust traits
[16:23:24] <ssbr> doomlord: you should write a blog post comparing the two
[16:24:01] <doomlord> i was wondering if a resource existed on the web like this - language X described in terms of language Y
[16:24:04] <ssbr> Flibo: don't worry, me too
[16:24:17] <ssbr> I spent like two hours yesterday just wrapping C code with rust types. Actually, I'm still not done.
[16:24:19] <doomlord> and C++ / Rust / Haskell is an interseting sliding scale 
[16:24:31] <doomlord> i think Rust has helped me understand haskell..
[16:25:05] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:27:02] <bblum> rust is like the exact midpoint between C++ and haskell
[16:28:01] *** Joins: eevee (eevee@moz-A20C5AE8.evrt.wa.frontiernet.net)
[16:28:19] <ssbr> eevee: speak of the devil
[16:29:41] *** Joins: jviereck (Adium@moz-675F0381.ethz.ch)
[16:30:19] <eevee> were we
[16:30:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:30:24] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d7babce to 141bf2f68: 02http://git.io/N3iJvQ
[16:30:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:30:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:30:28] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/9pbb6A
[16:30:28] <ghrust> 13rust/06auto 14be82449 15Corey Richardson: Better error for some unresolved imports...
[16:30:28] <ghrust> 13rust/06auto 142210d2d 15Corey Richardson: Use backticks to delineate paths/identifiers
[16:30:28] <ghrust> 13rust/06auto 14935b7ba 15bors: auto merge of #6443 : cmr/rust/resolution, r=bstrie...
[16:30:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:30:32] <steven_is_false> bblum: It's probable more like Ocaml, or SML.
[16:30:33] <eevee> hey i wrote like ten lines of amulet code last night, speaking of speaking of the devil
[16:31:01] <bblum> steven_is_false: i think the rust <-> ML distance is lower than the rust <-> C++ difference
[16:31:07] <bblum> if you ignore the syntax similarities to C++ :P
[16:32:14] <ssbr> eevee: what is amulet?
[16:32:18] <EXetoC> C++ is the first programming language taught in certain schools. isn't that wonderful?
[16:32:36] <cantsin> yea, i'd agree. i was initially drawn to rust because of certain similarities to ML (pattern matching!)
[16:32:38] *** Joins: bent|away (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:32:39] <eevee> ssbr: terminal gui thing
[16:32:48] <ssbr> eevee: aha
[16:32:56] <steven_is_false> Five seconds, I just noticed bors failed some tests, on my pull request.
[16:33:09] <ssbr> eevee: Make it better than urwid!
[16:33:21] <eevee> i intend to rip off urwid and curses like crazy
[16:33:36] <eevee> though atm i mostly want to just get it far enough along that i can work on a roguelike with it
[16:33:36] <cantsin> eevee: cool, i could use amulet.
[16:33:57] <cantsin> yea :) i was using rust-term
[16:34:06] <ssbr> eevee: well, the thing is that urwid/curses have completely godawful APIs
[16:34:25] <cantsin> no kidding.
[16:34:34] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[16:34:36] <ssbr> eevee: to catch a ctrl+v event you check if key_event == 'ctrl v'
[16:34:43] <ssbr> (in urwid). is that not absurd?
[16:34:46] <eevee> hahaha yes.
[16:34:53] <eevee> to be fair, keys are hard
[16:35:23] <ssbr> eevee: do you know how hard it is to emulate that API from SDL?
[16:35:24] <ssbr> (really hard)
[16:35:33] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:35:38] <ssbr> eevee: the benchmark of success should be if you can write an OpenGL/SDL backend for the same API
[16:37:43] <lucian> in a way i like that it's more obvious whether a function is polymorphic in rust (as opposed to haskell), but i sort of prefer the uniformity of type classes
[16:37:52] <lucian> ssbr: meh, gl isn't the best of apis either
[16:38:46] <ssbr> lucian: I don't mean to say it is
[16:39:02] *** Quits: inolen (Adium@moz-FA2406D8.socal.res.rr.com) (Quit: Leaving.)
[16:39:11] <ssbr> I mean to say that a console API should be sufficiently detached from curses/etc. that it can be implemented using something entirely unrelated without headaches
[16:39:15] <steven_is_false> So make check worked on my machine but the pull request failed on Bors. Am I missing something obvious?
[16:39:30] <lucian> ssbr: right
[16:39:58] <ssbr> I actually am writing something in the form of a roguelike currently, using opengl directly
[16:40:05] <ssbr> (but it won't stay that way forever.)
[16:40:12] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:40:26] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[16:40:42] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[16:42:09] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[16:43:31] <steven_is_false> How does importing methods work? For example will use module::{Foo} import all the methods for Foo as well?
[16:43:50] *** bent|away is now known as bent
[16:44:43] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[16:47:08] <ssbr> bjz: I have "use glcore::*", but rust complains with things like "error: use of undeclared type name `GLuint`". Any idea what's up?
[16:47:18] <ssbr> (I'm suspecting glcore didn't build nicely or some such thing)
[16:48:24] *** zz_kimundi is now known as kimundi
[16:50:05] <bjz> ssbr: odd
[16:50:19] <bjz> ssbr: could you post the errrors?
[16:51:06] *** Joins: Ralith (ralith@moz-729DC03E.wireless.sfu.ca)
[16:51:25] <EXetoC> steven_is_false: yes
[16:53:11] <steven_is_false> EXetoC: Thanks.
[16:53:38] <ssbr> bjz: I tried to make a less embarrassing minimal test case... it compiled successfully but then failed to link. Guh. https://gist.github.com/ssbr/8745baa7d10888f0579a
[16:54:06] <ssbr> oh, I know why
[16:54:19] <ssbr> I was only using at the top level, not in nested modules. Geh, still not used to that.
[16:54:24] <bjz> ssbr: oh, rustpkg doesn't seem to work :(
[16:54:32] <ssbr> bjz: However, the new problem is definitely not that
[16:54:39] <ssbr> bjz: I'm not using rustpkg <_<
[16:55:04] <ssbr> I used "make" to build the libraries, and then copied them into .rustpkg/lib
[16:55:12] <ssbr> (because that was where I noticed rust was looking for libraries)
[16:55:19] <ssbr> (I don't know the "right way" to depend on crates)
[16:56:53] *** Joins: cmr_ (bzlandfill@86DBC01E.79C29BED.C209128E.IP)
[16:57:19] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:58:00] <steven_is_false> Does it annoy anyone else that types aren't type checked on regular builds?
[16:58:08] <steven_is_false> *For tests
[16:58:43] <cmr_> example?
[16:58:47] *** Quits: jviereck (Adium@moz-675F0381.ethz.ch) (Ping timeout)
[16:59:36] <steven_is_false> cmr_: I added a simple test in a pull request to one of the core libraries util.rs, and it didn't even compile.
[16:59:54] <steven_is_false> But I didn't notice that because tests aren't type checked.
[17:00:21] <cmr_> Well why would they be? They're conditionally compiled.
[17:00:25] <ssbr> steven_is_false: why would you add a test you never ran?
[17:01:20] <kimundi> steven_is_false: IT has nothing todo with typechecking, #[cfg(test)] stuff just never gets compiled unless test is set
[17:01:23] <steven_is_false> ssbr: I thought I tested compiling it. (The test only tests if compiling succeeds it has no runtime information really.)
[17:02:45] <nmatsakis> steven_is_false: it annoys me, but I don't know how to fix it.
[17:02:52] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:03:15] <nmatsakis> (and yes, the problem is broader than tests)
[17:03:29] <steven_is_false> kimundi 's message reminds me that #[test] is implemented in terms of #[cfg(test)] stuff
[17:03:42] <steven_is_false> And different configurations shouldn't be type checked.
[17:03:49] <steven_is_false> *I mean compiled
[17:03:59] <steven_is_false> On different platforms.
[17:04:29] <cmr_> I don't see a way to fix it without compiling (but not translating) *every* item regardless of its attributes, but doesn't that defeat the purpose?
[17:04:36] <steven_is_false> Because, certain functions might not even exist. For example, macSpecialFunction, windowsOnly, etc..
[17:06:32] <kimundi> I think the only way to improve the current setup is compiling the test executable in parallel with the regular stage0 one, but not run it. then later compile it again in stage2 and run it as usual
[17:07:01] <kimundi> Might even be easy to add to the makefile, as nothing would depend on that first out of band compile
[17:07:26] <cmr_> that doesn't solve the generic case of bitrot in unused/untested configurations
[17:07:38] <lucian> i don't think anything can
[17:07:42] <ssbr> bjz: aside from that, isn't it weird that functions like glGetProgramiv take a *-ptr instead of *mut-ptr for pointers which they mutate? Or do I misunderstand the semantics of mutable raw pointers?
[17:07:44] <kimundi> but there are already makefile targets to do that manually for stage0 or stage1, so...
[17:07:58] <steven_is_false> kimundi: Dang wouldn't that make the build even SLOWER?
[17:08:15] <kimundi> steven_is_false: Depends on wether you have multible cores
[17:08:29] <cmr_> lucian: well, it could just run the frontend/middle (but not trans) on everything, but not generate any code.
[17:08:47] <cmr_> would need an option to disable that for quicker builds
[17:08:52] <cmr_> but I'm not sure that's a good idea
[17:08:57] <lucian> cmr_: that would only help to keep them compileable, which is not necessarily helpful
[17:08:59] <bstrie> doener: that pull request failed, can you resolve the merge conflicts and push again?
[17:09:13] <lucian> cmr_: what really matters is whether they run, which requires an actual target environment
[17:09:17] <steven_is_false> I wonder how much of the build time is hard drive performance? I know I have an extremely large hard drive that probable wasn't optimized for speed.
[17:09:25] <kimundi> steven_is_false: what you can do right now, instead of make check use make check_stage1. That would at least spare you one additional compilation step
[17:09:43] <lucian> cmr_: although perhaps an opting in to compiling unused tests might be useful, as a sort of lint-like check
[17:09:48] <doener> bstrie: I'm on it, but have some problems building anything, trying with a git-clean'ed tree now
[17:09:54] <steven_is_false> kimundi: Thank you. That seems like a good idea.
[17:09:54] <bstrie> doener: ah, weird
[17:10:12] <cmr_> steven_is_false: almost none if it, unless your hard drive is really, *really* slow, but after the first read it'll be cached if you have enough RAM
[17:10:28] <cmr_> lucian: yes, you are right. I meant as a lint.
[17:10:51] <steven_is_false> cmr_: Okay.
[17:11:08] <doener> bstrie: yeah, first failure was due to a new snapshot I guess (more than one crate found...), not sure why the second one failed
[17:11:17] <kimundi> steven_is_false: make check-stage1, not check_stage1, sorry :)
[17:11:21] <cmr_> (I've done tests compiling the linux kernel on a cache-dropped hard drive and in a tmpfs, the difference is <1s)
[17:11:34] <bstrie> doener: distressing
[17:11:38] <steven_is_false> kimundi: Thank you.
[17:12:01] <steven_is_false> cmr_: Wouldn't compiling C code be even more I/O bound then compiling rust code?
[17:13:37] <cmr_> steven_is_false: *shrug* no idea. I wouldn't think so, considering the various caches (in the compiler, kernel, hard drive...) all conspiring to make IO delay disappear
[17:13:57] <ssbr> how is this even supposed to work? http://pcwalton.github.io/blog/2012/12/26/typestate-is-dead/
[17:14:12] <ssbr> best as I can tell "struct Foo(@Foo);" will always be rejected by the compiler
[17:14:45] * steven_is_false Shrugs
[17:15:06] <steven_is_false> ssbr: I think that rejection is a recent change.
[17:15:13] <nmatsakis> ssbr: why ... would you do that?
[17:15:21] <steven_is_false> ssbr: But the intent is to make a phantom type..
[17:15:31] <nmatsakis> ssbr: oh, I see. that's a typo
[17:15:36] <steven_is_false> A nicer way of accomplishing that is enum Empty { }
[17:15:49] <ssbr> nmatsakis: it doesn't look like a typo to me
[17:15:51] <nmatsakis> ssbr: should be Open(@File) or something
[17:16:17] <nmatsakis> ssbr: oh, I suppose you're correct.
[17:16:33] <ssbr> steven_is_false: that works
[17:16:33] <nmatsakis> ssbr: yes, you just want struct Open; or else enum Open {}
[17:16:37] <ssbr> now if only I didn't get an ICE
[17:16:44] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:16:47] <ssbr> I think I've gotten an ICE for every new source file I've ever made
[17:16:55] <nmatsakis> :(
[17:16:56] <steven_is_false> nmatsakis: struct Open; is worse than enum Open {}
[17:17:05] * nmatsakis shrugs
[17:17:08] <steven_is_false> Because struct Open introduces the tag Open
[17:17:21] <steven_is_false> When all that's needed is the type name.
[17:17:32] <nmatsakis> steven_is_false: sometimes it's handy to have a symbolic value of that type. depends on what you're doing.
[17:17:47] <steven_is_false> nmatsakis: Oh sure.
[17:17:48] <ssbr> `rust: task failed at 'ty_fn_sig() called on non-fn type: &ty_err',`
[17:18:15] <cmr_> wasn't a fix for that pushed recently?
[17:18:21] <cmr_> it might have failed tests, but I recall bors mentioning
[17:18:23] <cmr_> it
[17:18:26] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[17:18:28] <ssbr> I don't know. I can try rebuilding.
[17:18:30] *** Joins: brendan (brendaneic@moz-5E7E4876.sub-70-211-84.myvzw.com)
[17:19:10] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[17:21:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:21:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/9pbb6A
[17:21:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:21:51] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:21:51] *** ChanServ sets mode: +o brson
[17:22:52] <cmr_> yay. should be much better errors on all cases of unresolved imports. if anyone notices a bare "unresolved name" on an unresolved import, ping me please :)
[17:22:59] <bstrie> doener: alternatively, if things are too busy right now, just wait until the queue is cleared and then let me know
[17:24:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:24:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/yidkxw
[17:24:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:24:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:24:24] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/vDLcSg
[17:24:24] <ghrust> 13rust/06auto 1406ef889 15Patrick Walton: libsyntax: Remove `extern mod foo { ... }` from the language.
[17:24:24] <ghrust> 13rust/06auto 145d3559e 15Patrick Walton: librustc: Make `self` and `static` into keywords
[17:24:24] <ghrust> 13rust/06auto 14db0693a 15Patrick Walton: libsyntax: Tighten up expressions in patterns to only allow identifiers or literals (possibly with a minus)....
[17:24:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:24:32] <doener> hrm, failed again with /home/doener/src/rust-submit/src/librust/rust.rc:23:0: 23:37 error: can't find crate for `rustpkg`
[17:24:41] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:24:52] <bstrie> :(
[17:25:19] <doener> I'm pretty clueless as to how I could have caused that...
[17:25:32] <bstrie> doener: that only happens with your changes applied?
[17:25:39] <doener> building incoming now...
[17:26:09] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:26:12] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:26:31] *** Quits: Ralith (ralith@moz-729DC03E.wireless.sfu.ca) (Ping timeout)
[17:27:06] <bstrie> nmatsakis: to be honest, rather than having to occasionally write `fn~` I think I'd rather just have `fn:Owned`
[17:27:21] <bstrie> not looking forward to the inevitable "wtf why are the sigils after the fn there"
[17:28:40] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:29:24] <nmatsakis> bstrie: yeah, I toyed around with this idea, but I couldn't come up with a coherent way to interpret that that also met other use cases.
[17:29:52] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[17:29:54] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[17:29:55] *** Joins: inolen (Adium@moz-9F4F17DF.tourcaster.com)
[17:29:57] <bstrie> nmatsakis: I also don't understand why `once` comes before but `Const` comes after... it seems like a mess all around :)
[17:29:57] <nmatsakis> bstrie: in particular I wanted to interpret :Owned as a kind of bound (meaning that it only closes over Owned data)
[17:30:27] <nmatsakis> bstrie: there's a method to the madness... 
[17:30:42] <nmatsakis> bstrie: once doesn't refer to the environment (the variables from the parent function)
[17:30:56] <nmatsakis> bstrie: Const says "only variables that are Const can be used from the parent function)
[17:31:20] <nmatsakis> bstrie: but it's...non-obvious. I'm not terribly pleased.
[17:31:23] <nmatsakis> brson: pong
[17:31:25] <nmatsakis> er, ping
[17:31:31] <bstrie> nmatsakis: and which does the sigil refer to?
[17:31:37] *** Quits: inolen (Adium@moz-9F4F17DF.tourcaster.com) (Ping timeout)
[17:31:43] *** Joins: inolen (Adium@moz-9F4F17DF.tourcaster.com)
[17:31:58] <nmatsakis> bstrie: the sigil in that case indicates the kind of pointer that is used to point to the environment...
[17:32:07] <nmatsakis> bstrie: ...maybe the answer is just not to accommodate all use cases.
[17:32:30] <nmatsakis> you can often rephrase things as a trait/object
[17:33:29] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[17:33:39] <nmatsakis> bstrie: I do agree that just writing fn:Owned seems...nicer.
[17:33:48] *** Joins: catpig (catpig@moz-6C02F391.dip0.t-ipconnect.de)
[17:34:24] <nmatsakis> or fn:Send, or whatever it winds up being.
[17:35:58] *** Joins: victorporof_ (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP)
[17:36:32] *** Quits: victorporof (victorporo@B86E46F.1B500F07.6A4F8DA2.IP) (Ping timeout)
[17:37:45] <steven_is_false> I don't remember if only useable once functions can be implemented using traits right now.
[17:37:58] <steven_is_false> Last time I tried there were bugs doing so.
[17:40:28] <steven_is_false> There have a lot of changes in the checking rules recently though.
[17:41:10] *** Quits: akashj87 (akash@30F51EB1.E7C6C45F.35E3DDC8.IP) (Quit: Leaving)
[17:42:28] <bstrie> I feel sort of like putting the sigils after the `fn` would lose as much in consistency as you gain via being able to treat all &T the same :)
[17:42:30] <doener> bstrie: incoming fails the same way
[17:42:43] <bstrie> doener: even without your changes? how strange
[17:42:45] <cmr_> doener: do you have a clean build?
[17:42:55] <bstrie> I just finished compiling incoming with no problems
[17:43:00] <bstrie> doener: what os?
[17:43:12] <doener> cmr_: ran "git clean -fxd && ./configure && make"
[17:43:38] * bstrie googles git clean
[17:43:53] <cmr_> doener: weird :\
[17:44:03] <doener> bstrie: removes all untracked files, including ignored (-x) and directories (-d)
[17:44:25] <doener> d'oh... I actually ran "make -j32" and it seems that there's a race condition
[17:44:45] <bstrie> haha
[17:44:46] <doener> re-running "make" makes it continue
[17:44:53] <bstrie> ok then
[17:45:04] <cmr_> The build is serial anyway, except for llvm
[17:45:18] <cmr_> although I frequently use -j8 with no problems
[17:45:21] <bstrie> me too
[17:45:26] <doener> and the four crates build after librustc, which includes rustpkg
[17:45:29] *** Joins: blitter (blitter@moz-7C98731E.dyn.centurytel.net)
[17:45:54] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[17:46:02] <acrichto> oh dear, I changed librust to depend on rustpkg/rusti/rustc/others and this may be a case that librust is built in parallel (other builds haven't finished first)
[17:46:46] <doener> yeah, that would make sense
[17:46:55] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:47:11] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[17:47:29] <nmatsakis> bstrie: regarding sigils, you may be right, I don't know. hopefully we'll come up with a better answer.
[17:47:33] <bstrie> acrichto: then as penance you must be the one to shepherd doener's patch through :)
[17:47:54] <acrichto> there's a patch? I've got one right now if there isn't one
[17:48:24] <bstrie> acrichto: no, an unrelated patch... that was nonetheless conflict'd by my act of approving your other patch this morning :P
[17:48:35] <bstrie> so we are both to blame for doener's misery
[17:49:07] <acrichto> doener: sorry about that :(
[17:49:34] <bstrie> acrichto: https://github.com/mozilla/rust/pull/6357
[17:50:13] <doener> no worries :-) I introduced that test failure myself and could have split that pull requests into smaller ones, so it's my fault just as much
[17:50:21] <acrichto> bstrie: I don't think that is the fault of the build system
[17:53:00] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:53:04] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[17:53:08] <doener> acrichto: the build system failures were only on my box, trying to get a build with the test failure fixed
[17:53:14] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[17:53:15] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[17:53:31] <acrichto> bstrie: r? https://github.com/mozilla/rust/pull/6452
[17:53:49] *** Quits: hmax (hmax@moz-15514FA1.yandex.net) (Quit: ????? ? ?? ??? (xchat 2.4.5 ??? ??????))
[17:54:55] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[17:54:56] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[17:54:57] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[17:54:58] <bstrie> plus'd
[17:55:14] <bstrie> also, make is horrifying
[17:55:42] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Ping timeout)
[17:55:46] <acrichto> I just copied/pasted the surrouding lines, I understand none of that
[17:55:49] <bstrie> $$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBRUSTI_$(4))    \ 
[17:55:54] *** Quits: lbonn (lbonn@moz-29C8E1BA.ap-w02.canvas.ne.jp) (Quit: leaving)
[17:56:03] <bstrie> tjc, deliver us
[17:56:45] <steven_is_false> Okay bye.
[17:56:47] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[17:58:37] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[17:59:23] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:59:27] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[18:01:17] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[18:01:20] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[18:01:21] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Ping timeout)
[18:01:40] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[18:01:40] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[18:01:44] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[18:01:58] *** Joins: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com)
[18:02:12] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[18:02:14] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[18:03:05] <brson> nmatsakis: pong
[18:03:42] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[18:04:12] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[18:06:02] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[18:07:32] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:07:36] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[18:08:20] *** mschifer1 is now known as mschifer
[18:10:27] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[18:10:38] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[18:11:29] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:12:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:12:24] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14feb6f27 to 14935b7ba: 02http://git.io/N3iJvQ
[18:12:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:12:43] *** Joins: jlembeck_ (jlembeck@moz-E5A16406.hsd1.wa.comcast.net)
[18:13:25] *** Quits: jlembeck (jlembeck@moz-E5A16406.hsd1.wa.comcast.net) (Ping timeout)
[18:13:28] *** Joins: sawyer (sawyer@moz-F8DBF066.barbara.ds.polsl.pl)
[18:13:55] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:15:28] <doener> bstrie: should be fine now
[18:16:08] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[18:16:08] *** ChanServ sets mode: +o dherman
[18:16:32] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[18:16:39] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[18:18:27] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:19:16] *** Quits: brendan (brendaneic@moz-5E7E4876.sub-70-211-84.myvzw.com) (Quit: brendan)
[18:19:31] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:19:31] *** ChanServ sets mode: +o brson
[18:20:24] *** Quits: sawyer (sawyer@moz-F8DBF066.barbara.ds.polsl.pl) (Quit: WeeChat 0.4.0)
[18:22:13] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[18:22:43] *** Joins: sk_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[18:22:58] <bstrie> doener: approv√©d
[18:23:55] <doener> thanks!
[18:24:17] <bstrie> acrichto: wait, I thought that the vecs_implicitly_copyable thing got merged...
[18:24:43] <acrichto> bstrie: nah, I forgot to run the doc tests and every single one failed because #[forbid(vecs_implicitly_copyable)] was injected
[18:24:47] <acrichto> it should be good for another go though
[18:24:47] <cmr_> Should https://github.com/cmr/rust/commit/f5727c8c5b131f242112070c9953bf3765d16093 be enough to fix #502?
[18:24:48] <bstrie> haha
[18:24:53] <cmr_> (leaving from this client but cmr is listening)
[18:24:58] <bstrie> acrichto: well you're gonna conflict with the huge change that I just approved
[18:24:59] *** Quits: cmr_ (bzlandfill@86DBC01E.79C29BED.C209128E.IP) (Quit: CGI:IRC (EOF))
[18:25:13] <bstrie> just a little bit
[18:25:15] <acrichto> bstrie: oh dear, I'll let that one go through first then
[18:25:48] <bstrie> a project like this often feels like eight people all trying to move through a narrow hallway at the same time
[18:26:17] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[18:26:19] <acrichto> in theory once there's no more huge sweeping changes the commits will conflict with one another a lot less...
[18:26:27] <bstrie> indeed
[18:26:52] <bstrie> but there's been "huge sweeping changes" on a weekly basis for the past... 1.5 years now :P
[18:28:48] <EXetoC> automatic conflict resolution would be awesome
[18:31:10] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:31:10] *** ChanServ sets mode: +o pcwalton
[18:31:57] *** Joins: hamid (nithp@D0C1BAE7.2E59322E.D196F00B.IP)
[18:32:48] *** Quits: cstrahan (cstrahan@moz-4C7E5789.hsd1.dc.comcast.net) (Ping timeout)
[18:34:53] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[18:37:01] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[18:38:23] *** Quits: catpig (catpig@moz-6C02F391.dip0.t-ipconnect.de) (Quit: Verlassend)
[18:38:28] *** Joins: catpig (catpig@moz-6C02F391.dip0.t-ipconnect.de)
[18:38:42] <bstrie> doener: oh no, pcwalton overruled you... I think you might need to try again after his commit is done :P
[18:38:50] <doener> yeah, just saw it
[18:38:52] <pcwalton> sorry, commit wars
[18:38:57] <bstrie> all's fair
[18:40:27] <bstrie> this just means that I need to determine what the highest possible priority number is, to be used in cases of extreme duress
[18:41:34] <bstrie> r+ p=1.7976931348623157e+308
[18:42:42] <bstrie> that's assuming bors is javascript
[18:42:44] <kimundi> bstrie: Or p=-1, depending on what it uses...
[18:42:58] *** Quits: fabiand (fabiand@moz-27BF4615.adsl.alicedsl.de) (Ping timeout)
[18:43:26] *** Quits: hamid (nithp@D0C1BAE7.2E59322E.D196F00B.IP) (Quit: Lost terminal)
[18:44:04] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Input/output error)
[18:45:25] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:47:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[18:47:32] <ssbr> bjz_: match glfw::Window::create(...) { ... } appears to ICE rust now :(
[18:47:44] <ssbr> I am so tired of this.
[18:48:52] <ssbr> (also, for some reason, make -j6 no longer works with compiling rust...)
[18:49:39] *** Joins: fabiand (fabiand@moz-27BF4615.adsl.alicedsl.de)
[18:49:59] <doener> ssbr: the make thing is https://github.com/mozilla/rust/pull/6452
[18:51:57] *** Quits: lerc (quassel@121.75.155.67) (Ping timeout)
[18:52:56] <acrichto> ssbr: sorry about that :(
[18:55:42] <brendanc> is the bors source available?
[18:55:56] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:56:15] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[18:56:28] <cmr> I don't think so
[18:56:47] <brendanc> aw, too bad
[18:57:00] <cmr> the issue tracker was private for security issues, iirc (saw that on the ML)
[18:57:13] <brendanc> workflow is pretty cool, but I'd like to be able to adapt it to something other than github
[18:57:19] <kimundi> brendanc, afaik graydon plans to open source it, but needs to talk it over with some folks due to security reasons
[18:57:33] <brendanc> k, thanks
[18:58:00] <kimundi> but that is older news, so no idea when/if that's gonna heppen
[18:58:17] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (services.mozilla.org (Too many invalid passwords))
[18:58:23] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[19:00:08] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[19:01:11] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[19:02:55] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[19:03:29] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[19:03:35] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:03:35] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/fmy9GQ
[19:03:35] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:05:03] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:05:16] *** Quits: Libreofficer (jightuse@5ACC7636.C3AC81A2.906273CD.IP) (Quit: Leaving.)
[19:06:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:06:18] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/miy2_A
[19:06:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:06:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:06:21] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/-QwbrQ
[19:06:21] <ghrust> 13rust/06auto 1406ef889 15Patrick Walton: libsyntax: Remove `extern mod foo { ... }` from the language.
[19:06:21] <ghrust> 13rust/06auto 145d3559e 15Patrick Walton: librustc: Make `self` and `static` into keywords
[19:06:22] <ghrust> 13rust/06auto 14db0693a 15Patrick Walton: libsyntax: Tighten up expressions in patterns to only allow identifiers or literals (possibly with a minus)....
[19:06:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:07:40] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:08:22] *** Joins: jclements_ (clements@moz-180CB07A.members.linode.com)
[19:09:19] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:10:06] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[19:10:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[19:10:33] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[19:12:12] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[19:14:08] *** Quits: jlembeck_ (jlembeck@moz-E5A16406.hsd1.wa.comcast.net) (Client exited)
[19:14:28] *** Joins: jlembeck (jlembeck@moz-E5A16406.hsd1.wa.comcast.net)
[19:16:58] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:17:09] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:17:09] *** ChanServ sets mode: +o dherman
[19:17:38] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[19:19:45] *** Joins: cstrahan (cstrahan@moz-4C7E5789.hsd1.dc.comcast.net)
[19:22:54] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:23:50] *** Parts: fairfieldt (chatzilla@F0DA239E.246E5E69.4AE11518.IP) ()
[19:28:18] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[19:29:06] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[19:29:40] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[19:30:13] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[19:30:30] <bstrie> kimundi: a long time ago graydon was talking about open-sourcing *rustbot*, bors' precursor. the fact that it was obviated before ever making it through the security queue does not speak well of bors' chances
[19:31:17] <kimundi> bstrie: I think he said the same about bors too, though. But don't take my wory for it :)
[19:31:25] <kimundi> word*
[19:32:45] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Quit: zZ)
[19:33:44] <brendanc> wonder what the security risk would b
[19:36:01] *** Quits: fabiand (fabiand@moz-27BF4615.adsl.alicedsl.de) (Quit: Verlassend)
[19:40:09] *** Joins: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[19:41:08] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[19:42:49] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[19:45:06] <pcwalton> argh, bounced
[19:45:29] <pcwalton> doener wins then
[19:47:36] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[19:48:08] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[19:48:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:48:22] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14075842d to 141b88336: 02http://git.io/N3iJvQ
[19:48:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:48:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:48:25] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/jkDHIg
[19:48:25] <ghrust> 13rust/06auto 14f92dcf1 15Bj√∂rn Steinbrink: Use static string with fail!() and remove fail!(fmt!())...
[19:48:25] <ghrust> 13rust/06auto 14c688ed3 15Marvin L√∂bel: Fix cosmetics for fail!() calls
[19:48:26] <ghrust> 13rust/06auto 140888e0c 15bors: auto merge of #6357 : dotdash/rust/fixfmt, r=bstrie...
[19:48:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:49:44] <bstrie> we'll see, you never know what might bounce...
[19:50:34] *** Quits: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Client exited)
[19:51:26] *** Joins: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[19:51:29] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[19:51:37] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[19:52:41] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[19:53:00] *** Joins: eholk (eholk@9085165A.A4FF99ED.25ABE9D1.IP)
[19:54:09] <pcwalton> argh
[19:54:13] <pcwalton> that was a known race
[19:57:33] *** Parts: azita (Azita@2557E599.66715431.D25A875A.IP) ()
[20:00:37] *** Quits: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Client exited)
[20:01:37] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[20:01:39] *** Quits: Excureo (c@moz-DE8C33F1.static.yakm.wa.charter.com) (Ping timeout)
[20:01:58] *** Joins: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[20:02:41] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:03:22] *** Joins: Excureo (c@moz-DE8C33F1.static.yakm.wa.charter.com)
[20:05:38] <acrichto> pcwalton: is there an issue opened for that race? It's happened twice to me as well
[20:05:45] <pcwalton> acrichto: brson knows more
[20:05:48] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[20:06:05] <acrichto> brson: I just wanted to make sure it's on the radar
[20:06:50] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Ping timeout)
[20:07:34] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[20:09:16] <brson> acrichto: yes, i am working on it - https://github.com/mozilla/rust/issues/6258
[20:09:28] <acrichto> brson: ok, thanks!
[20:09:43] <brson> I don't know how to fix it yet, but maybe I could check in a workaround
[20:10:22] <acrichto> it's not that big of a hassle, re-running bors isn't really that bad
[20:10:26] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[20:10:39] <nmatsakis> brson: ping
[20:11:46] <brson> nmatsakis: pong
[20:12:03] <nmatsakis> brson: I was wondering whta your use case was for &fn:Owned...
[20:12:56] <cmr> rusti: char::from_digit(12, 10).unwrap()
[20:13:09] <brson> nmatsakis: it's the case where I want to open a new task 'scope', like `do run_in_task { ... }`. Making it a stack closure avoids an allocation and giving it an Owned bound keeps @ from escaping
[20:13:27] <cmr> rusti: char::from_digit(12, 2).unwrap()
[20:13:58] <nmatsakis> brson: ah, interesting. Sometime else I'm wondering about: where do we use "~-closures" now. I can think of futures and task bodies. Anywhere else?
[20:14:47] *** Joins: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP)
[20:18:10] *** Joins: devinus_ (devinus@moz-B4AF84BC.ptr.us.xo.net)
[20:18:11] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[20:18:13] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[20:18:32] *** Quits: sk_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[20:18:42] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[20:18:57] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[20:19:28] <cmr> Why doesn't indexing a string result in a char?
[20:19:31] <brson> nmatsakis: the libuv bindings use ~fn for callbacks. it's used for the runtime at_exit function and the tls cleanup function. it's used a few times in servo to send around event handlers
[20:19:32] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[20:20:35] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[20:23:38] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[20:24:26] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:24:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140888e0c to 141b88336: 02http://git.io/N3iJvQ
[20:24:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:25:14] <ssbr> cmr: because strings are utf-8, so it's computationally difficult to get the nth char
[20:25:45] *** Joins: thomaslee (thomaslee@moz-6C3931E3.static.twtelecom.net)
[20:27:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:27:20] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142d61929 to 141b88336: 02http://git.io/N3iJvQ
[20:27:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:27:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:27:23] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/8DNKbQ
[20:27:23] <ghrust> 13rust/06auto 1406ef889 15Patrick Walton: libsyntax: Remove `extern mod foo { ... }` from the language.
[20:27:23] <ghrust> 13rust/06auto 145d3559e 15Patrick Walton: librustc: Make `self` and `static` into keywords
[20:27:23] <ghrust> 13rust/06auto 14db0693a 15Patrick Walton: libsyntax: Tighten up expressions in patterns to only allow identifiers or literals (possibly with a minus)....
[20:27:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:27:32] <mcpherrin> More specifically, it's O(n) to get the nth char in a utf-8 string, but O(1) to get the nth byte, which are not the same.
[20:28:18] *** Joins: vermeille (vermeille@moz-436628F6.net)
[20:28:39] <vermeille> Hey :)
[20:28:45] <bstrie> hello
[20:28:45] <pcwalton> hi there
[20:28:52] <cmr> It's still conceptually confusing.
[20:28:59] <cmr> That's a good reason, though
[20:29:21] <ssbr> cmr: &[char] is a nice datatype for stuff
[20:29:23] <bstrie> cmr: basically because, in the real world, strings are more like linked lists than like arrays :)
[20:29:32] <ssbr> strings are overrated
[20:29:33] *** Joins: lerc (quassel@6174E42B.BEFA2430.788638A4.IP)
[20:29:38] <pcwalton> sadly the real world is not the benchmark world
[20:29:39] <bstrie> er, real non-English-speaking ASCII world
[20:29:58] <pcwalton> I wish Rust had better support for ASCII-only (kimundi's changes help though) for the shootout benchmarks ;)
[20:30:08] <pcwalton> because correctness is very much not desired for those
[20:30:28] <cmr> can't you just use a ?[u8] for those?
[20:30:32] <pcwalton> you can
[20:30:37] <pcwalton> you just lose most of the convenience methods
[20:30:41] <cmr> mmm
[20:30:46] <pcwalton> also the ability to write "foo" and whatnot
[20:31:11] <ssbr> pcwalton: b"foo" ! (python syntax for byte arrays)
[20:31:23] <pcwalton> yeah, I think we'll want that, possibly as a macro
[20:31:28] <kimundi> Hmm... b'f' and b"foo" would be nice as string literals
[20:32:22] <kimundi> pcwalton: The problem with the macro approach is that that pretty much means 'b' becomes an taken identifier :(
[20:32:41] <jack> didnt' graydon say something about rust getting r"foo" type stuff?
[20:32:43] <pcwalton> just b! though, right?
[20:32:53] <kimundi> pcwalton: Honestly I don
[20:33:09] <kimundi> don't know in what namespace macros live for that
[20:33:13] <mcpherrin> I'd prefer it if literals had a type that unified with both [u8] and str, so let foo: ~[u8] = "baz"; let baz: ~str = "foo"; could work, though I have no idea how to make that work in the current codebase :/
[20:33:16] <pcwalton> they live in their own separate namespace
[20:33:28] <pcwalton> mcpherrin: that isn't too hard to do, we do that for numbers
[20:33:36] <pcwalton> oh, but wait
[20:33:47] <pcwalton> wouldn't be good for ~str, that's incompatible with dynamically sized types
[20:34:02] *** Quits: victorporof_ (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP) (Quit: victorporof_)
[20:34:06] <pcwalton> although that's an interesting point
[20:34:23] <pcwalton> you really want "foo" to have type &static/str and no other, I guess!
[20:34:51] <kimundi> pcwalton: I think extra pr/postfixes for string literals to make them raw or bytes would be more symmetric to snumber literals too.
[20:34:51] <nmatsakis> I like the way that you know when an allocation occurs
[20:34:58] <pcwalton> yes
[20:35:20] <pcwalton> nmatsakis: I think ~"foo" is incompatible with DST
[20:35:27] *** Quits: pyrac (pyrac@moz-B95F505.w92-156.abo.wanadoo.fr) (Quit: pyrac)
[20:35:31] <pcwalton> unless we just special case it
[20:35:35] <otters> daylight savings time
[20:35:43] <nmatsakis> pcwalton: I thought we said we were going to special case vec/str literals
[20:35:46] <pcwalton> oh, OK
[20:35:48] <pcwalton> in that case it's fine
[20:35:52] <nmatsakis> at least still we come up with a better answer :)
[20:35:59] <pcwalton> doesn't work well with custom smart pointers
[20:36:00] <pcwalton> but oh well
[20:36:08] <nmatsakis> yes, that's the tricky part.
[20:36:18] <pcwalton> although maybe it does, we need some sort of placement new syntax after all...
[20:37:23] <steven_is_false> kimundi: Why not use byte_arrays::{b} ?
[20:37:46] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[20:37:55] <kimundi> steven_is_false: Hu? What is that?
[20:38:06] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[20:38:09] <steven_is_false> So b isn't a taking id, and only byte_string::b! ("foo") is taken.
[20:38:12] <kimundi> (Haven't seen that yet)
[20:38:28] *** Quits: inolen (Adium@moz-9F4F17DF.tourcaster.com) (Quit: Leaving.)
[20:38:48] <steven_is_false> kimundi: You were saying that having a b macro for byte strings would be bad because it'd take b as an identifier.
[20:39:01] *** Joins: inolen (Adium@moz-9F4F17DF.tourcaster.com)
[20:39:04] *** Quits: inolen (Adium@moz-9F4F17DF.tourcaster.com) (Client exited)
[20:39:12] <kimundi> ah, namespacing the macro... Problem is mucros aren't namespaceable atm :)
[20:39:29] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:39:52] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[20:40:14] <steven_is_false> kimundi: Dang.
[20:40:29] <kimundi> pcwalton: maybe just a more generical macro... str_vec!("foo" as [u8])
[20:40:44] <kimundi> dunno...
[20:40:49] <doomlord> speaking of macros, whats the best name for that n_ary(function, arg0,arg1,...)=>function(arg0),function(arg1)... idea
[20:41:06] <kimundi> map?
[20:41:10] <doomlord> and any cchance of that making it into the standard libary
[20:41:13] <cmr> The ability to override the 'as' operator would be hugely useful
[20:41:18] *** Quits: _fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[20:41:30] <strcat> cmr: why?
[20:41:41] <strcat> afaik it only exists for constant exprs
[20:41:42] *** Quits: devinus_ (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[20:41:54] <cmr> strcat: It'd be a lot nicer than the current plethora of to/from_foo 
[20:42:02] <doomlord> (n_ary!(  ) sorry)  -  not sure if its map, because its not a collecion - the args can be different types - although  it could make a tuple of results ?
[20:42:21] <cmr> And as_foo's
[20:42:29] <doomlord> map!( f,a,b,c...) =>   (f(a),f(b),f(c)....)   then ?
[20:42:46] <strcat> cmr: you'll notice that those exist when there's more than one way to convert
[20:42:49] <doomlord> would that conflict with map the function :)
[20:43:05] <cmr> strcat: I have, it still seems messy to me.
[20:43:06] <strcat> there are at least 5 ways to go ~[u8] to *u8
[20:43:13] <kimundi> doomlord, probably, at least optically  :)
[20:43:29] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[20:43:35] <doomlord> is there a way of getting people to vote on such ideas
[20:43:46] <doomlord> propose a few syntaxes and let peeps +/- them
[20:44:03] <kimundi> doomlord: syntactic_map!(f, a, b, c) ?
[20:44:04] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:44:07] <cmr> doomlord: isn't that what the ML is for?
[20:44:08] <doomlord> ouch
[20:44:22] <cmr> vmap!(f, ...)
[20:44:45] <vermeille> Guys, I read the article you gave me yesterday
[20:44:50] <vermeille> I wrote this code http://pastebin.com/4ViQ75Uy
[20:44:53] <doomlord> my original use-case was n-ary print - something effectful
[20:45:04] <vermeille> Now, I can do "Point + Point" and "Point + int"
[20:45:21] <vermeille> Since addition is commutative, is it possible to have "int + Point" ?
[20:45:24] <doomlord> i'd made a print!(...) , but thought of generalizing that to    n_ary(print,....)
[20:45:43] <doomlord> grrr i keep missing the !
[20:46:00] *** Joins: inolen (Adium@moz-9F4F17DF.tourcaster.com)
[20:46:08] <pauls> `heterogenous_map!`
[20:46:19] <doomlord> hmap!( .... )
[20:46:26] <cmr> vermeille: you need to add an Add impl for int
[20:46:34] <kimundi> smap!() has a nic ring to it
[20:46:34] <vermeille> I can't
[20:46:40] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[20:46:45] <doomlord> or might maph! be easier to find - autocomplete.
[20:47:01] <doomlord> "i want something.. its a bit like map.. i'll start typing that and see what suggestions i get"
[20:47:13] <kimundi> vermeille: Sadly not possible
[20:48:34] <vermeille> Hum okay.
[20:49:17] <vermeille> This is exactly why the non-members operator*() exists in C++ :(
[20:50:09] <vermeille> Another way is the C# way: allowing class extensions
[20:50:23] <strcat> the issue isn't the same as the one in C++
[20:50:38] <doomlord> class members suck
[20:51:00] <doomlord> main reason i'm here :)
[20:51:09] <strcat> trait impls either have to be done in the crate where the trait is defined or the crate where the type is defined
[20:51:12] <strcat> for coherence
[20:51:26] <nmatsakis> vermeille: actually I think that we will eventually support that
[20:51:27] <brson> we have to upgrade libuv
[20:51:42] <nmatsakis> strcat: I believe it should be sufficient for *one of the types* to be from the current crate
[20:51:50] <nmatsakis> not necessarily the Self type.
[20:51:56] <nmatsakis> vermeille: but we don't today.
[20:52:01] <strcat> nmatsakis: that makes sense.
[20:52:16] <strcat> crate deps are acyclic, right?
[20:52:23] <nmatsakis> strcat: yes.
[20:53:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:54:32] <doomlord> "in the crate where the trait is defined"... so if i have "crate1::struct foo", "crate2::trait Fooable", crate2 can impl trait Fooable, and "crate3::struct Bar",crate3 can impl Fooable for Bar?  
[20:55:25] <strcat> doomlord: yes
[20:55:36] <strcat> you can add a trait in a crate and impl it for the built-ins, for example
[20:55:38] <doomlord> thatts enough for me i think
[20:55:41] <strcat> they aren't defined in your crate but the trait is
[20:55:51] <strcat> so you can add methods to the built-ins
[20:55:59] <doomlord> the main thing is they can be divided between sourcefiles
[20:56:04] <strcat> the stdlib doesn't actually count as being in the same crate as the built-ins right now
[20:56:14] <cmr> which is obnoxious
[20:56:17] <doomlord> in sourcecontrol, different people can work on different files
[20:56:21] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Ping timeout)
[20:56:55] <eevee> source control more addresses the problem of different people working on the same file
[20:57:06] *** Joins: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net)
[20:57:23] <doomlord> ok in a sourcecontrol scenario, different people neednt work on the same files as much
[20:57:40] <doomlord> since they can split the work into multiple traits for the same types
[20:58:06] <doomlord> and the scope of changes is clearer
[20:58:28] <doomlord> ^split the work into multiple traits, in seperate files
[20:59:52] *** Joins: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP)
[21:01:51] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[21:02:07] <cmr> r? https://github.com/mozilla/rust/pull/6453
[21:06:14] <bytbox> I'm curious: what's the rationale for including no split() function in core::str, but only each_split_*?
[21:07:22] *** Quits: vmx (vmx@moz-D942A0A2.pools.arcor-ip.net) (Quit: Leaving)
[21:07:32] <strcat> each_split could be called split
[21:08:24] <bytbox> strcat: I mean, why is there no function returning [~str]?
[21:08:45] <bytbox> I understand it's not strictly necessary, but it's the sort of thing that makes me wonder if I'm missing a trick (since it is often convenient).
[21:08:53] <strcat> bytbox: iter::to_vec
[21:09:06] <bytbox> strcat: and that's the trick I was looking for. Thanks!
[21:09:21] <strcat> the ~str module could provide a method returning @[], ~[], HashSet, etc. but it's better to abstract on iterators
[21:09:32] <strcat> if we don't want an enormous API :)
[21:11:09] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[21:11:27] *** Quits: doomlord (doomlod@moz-B4683AA6.range31-52.btcentralplus.com) (Ping timeout)
[21:11:29] <bytbox> strcat: yeah, I agree.
[21:16:28] <pcwalton> looks like the tests passed, yay
[21:18:36] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:18:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/8DNKbQ
[21:18:36] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:20:22] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[21:21:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:21:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/DPu0Cg
[21:21:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:21:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:21:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/NBoZSg
[21:21:25] <ghrust> 13rust/06auto 14a144621 15Brian Anderson: Upgrade libuv...
[21:21:25] <ghrust> 13rust/06auto 14d51fe42 15bors: auto merge of #6456 : brson/rust/libuv, r=brson...
[21:21:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:21:42] <strcat> rusti: 5
[21:21:43] <rusti> 5
[21:23:39] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:25:29] *** Quits: infynyxx (infynyxx@580CA641.B5A086DD.4E529FF6.IP) (Client exited)
[21:25:51] *** Joins: jviereck (Adium@moz-57512FAD.dynamic.hispeed.ch)
[21:26:18] *** Quits: jviereck (Adium@moz-57512FAD.dynamic.hispeed.ch) (Quit: Leaving.)
[21:28:01] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[21:29:36] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[21:29:38] *** Quits: cdidd (cdidd@moz-74DC6AA8.broadband.corbina.ru) (Input/output error)
[21:30:01] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[21:32:37] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[21:34:10] <brson> yichoi: can you tell me again how to copy the runtime libraries to the emulator. when i run `make install-runtime-target` it doesn't work because /system/lib is full
[21:34:16] *** Joins: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP)
[21:37:12] *** Quits: thomaslee (thomaslee@moz-6C3931E3.static.twtelecom.net) (Client exited)
[21:39:22] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:40:26] *** Quits: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP) (Ping timeout)
[21:40:49] <bytbox> do files (obtained with file_writer()) just automatically close when their lifetime ends?
[21:41:06] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Ping timeout)
[21:41:21] <pcwalton> yes
[21:41:59] *** Quits: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net) (Ping timeout)
[21:42:38] <bytbox> pcwalton: thanks. While I'm at it - I've been constructing paths from strings by doing &PosixPath() - is there a more "right" way? (One that is automatically cross-platform?)
[21:42:59] <pcwalton> I think you can do Path::new
[21:43:03] <pcwalton> or something like that
[21:44:54] <bytbox> pcwalton: oh, from_str, maybe
[21:45:01] <bytbox> that makes sense
[21:45:18] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[21:45:59] <Luqman> brson: you can use adb directly,  adb push libfoo.so /some/path
[21:46:03] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[21:46:27] *** Joins: jorendorff (jorendorff@moz-4BE034AB.ptr.us.xo.net)
[21:48:01] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[21:49:16] <steven_is_false> I wish C++ had fast checked exceptions, also known as sum type.
[21:49:31] <strcat> meh I'm not sure how to fix the priority queue
[21:49:53] <strcat> it's not correct anymore after lots of the iterative whole codebase changes
[21:49:54] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[21:50:02] <strcat> I don't know if it *can* be correct now
[21:50:09] <pcwalton> borrow check issues?
[21:50:09] <pcwalton> '
[21:51:02] <strcat> well before it did unsafe copies to implement a safe concept (moving around a zeroed block of memory)
[21:51:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:51:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d51fe42 to 143abc5b3: 02http://git.io/N3iJvQ
[21:51:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:51:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:51:29] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/oCsH9w
[21:51:29] <ghrust> 13rust/06auto 144f44624 15Brian Anderson: core: Move unstable to unstable/mod.rs
[21:51:29] <ghrust> 13rust/06auto 14fa1d047 15Brian Anderson: core: Move locks, atomic rc to unstable::sync
[21:51:29] <ghrust> 13rust/06auto 14369231b 15Brian Anderson: core: Rename SharedMutableState to UnsafeAtomicRcBox
[21:51:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:51:39] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[21:51:41] <strcat> but it was changed to make two copies of some elements (which is actually unsafe if the Ord impl fails)
[21:51:53] <strcat> and it uses an uninit memory block which would be unsafe too
[21:52:06] <strcat> I guess I can use init() and copy_memory instead
[21:52:28] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[21:52:42] <ssbr> steven_is_false: isn't a sum type what you'd call Rust's enums?
[21:52:56] <steven_is_false>  ssbr Yes.
[21:53:01] <ssbr> Also, I narrowed down my most recent ICE into a minimal test case: https://github.com/mozilla/rust/issues/6458
[21:53:13] <ssbr> am I right in understanding that I should have been passing in type parameters?
[21:53:30] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[21:53:31] <strcat> steven_is_false: well you can implement a sum type with variadic templates in C++
[21:53:45] <ssbr> I was kinda hoping that, since the type parameter didn't matter, I wouldn't have to care :p
[21:53:57] <steven_is_false> strcat: Not safely, or effeciently AFAIK.
[21:54:00] <strcat> std::aligned_union + type tag + metaprogrammed type switch
[21:54:03] <strcat> steven_is_false: yes, safely and efficiently
[21:54:20] <strcat> steven_is_false: http://www.boost.org/doc/libs/1_53_0/doc/html/variant.html that's not C++11 so it's ugly and relies on hacks
[21:54:44] <strcat> you can write
[21:54:53] <strcat> max_size<T, T2, T3> and max_align<T, T2, T3>
[21:55:24] <strcat> and allocate an aligned block of memory with the max size
[21:55:37] <steven_is_false> strcat: Isn't the problem with that approach is that it's verbose?
[21:55:48] <strcat> steven_is_false: it's verbose because it's not C++11
[21:55:52] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[21:56:11] <strcat> you have to make a struct with an overloaded operator() to match out of it if you don't have variadic templates + lambdas
[21:56:18] <steven_is_false> strcat: Right. In C++11 you could use anonymous functions anyways.
[21:56:30] <strcat> and auto + decltype returns
[21:56:58] <strcat> the return type can be automatically inferred to be the return type of the first lambda you pass
[21:57:10] <strcat> auto foo() -> decltype(expr)
[21:57:19] <strcat> anyway much saner as a language feature ;p
[21:57:47] <strcat> steven_is_false: it's only really hard to implement a generic variant<A, B, C, D> though
[21:58:01] <strcat> if you just need a *specific* sum type, it's much easier
[21:58:18] <benh> I don't suppose variadic templa^Wgenerics are on the roadmap for rust?
[21:58:44] <strcat> benh: it wouldn't make sense in rust
[21:58:50] <strcat> it relies on SFINAE in C++
[21:58:52] <steven_is_false> strcat: Just make an abstract interface for generic variante <A,B,C,D>
[21:59:01] <strcat> steven_is_false: well yeah, that's what boost::variant does
[21:59:03] <strcat> but it's hard to code
[21:59:09] <benh> strcat: huh?
[21:59:29] <strcat> benh: C++ templates are compile-time pattern matching
[21:59:46] <steven_is_false> benh: Alternatively one would have a list of types passed in which would mean dependant typing.
[21:59:47] <strcat> variadic templates are really not possible without being able to write a base case and recursing at compile-time
[22:00:37] <strcat> you can essentially do the same by using a macro + code generation via calling a trait on the type though.
[22:00:40] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[22:00:41] <strcat> not quite as powerful
[22:00:45] <benh> i guess it doesn't make sense in rust's type system either but there's also stuff like forwarding functions 
[22:01:21] <strcat> rust doesn't really need forwarding because it moves by default and doesn't have constructors
[22:02:01] <strcat> foo.emplace_back(a, b, c) can't really exist in rust
[22:02:06] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[22:02:28] <strcat> in C++ it forwards a, b, c to the right constructor overload and constructs in-place with placement new
[22:02:39] <strcat> so you avoid the cost of a move
[22:04:00] <strcat> anyway I think rust makes a reasonable compromise for simplicity in regards to that stuff
[22:04:15] <strcat> lose a little bit of performance in some cases but it's nowhere near as complex
[22:05:19] <pcwalton> how does it lose performance?
[22:06:12] <strcat> pcwalton: foo.push(x) in rust has to do a move
[22:06:15] <strcat> there's no placement new
[22:06:22] <strcat> rarely going to matter
[22:06:30] <pcwalton> oh, well, yes
[22:06:39] <pcwalton> I think we may need placement new for custom smart pointers
[22:06:41] <pcwalton> we had it at one point
[22:06:53] <pcwalton> you can write emplace() with a closure
[22:06:54] <strcat> C++11 added "emplace" versions where you do stuff like .emplace(arg1, arg2, arg3) and it calls the constructor with (arg1, arg2, arg3)
[22:07:00] <pcwalton> yeah, I know
[22:07:37] <strcat> ah true you can just pass in a closure
[22:07:49] <pcwalton> then RVO kicks in and you get the same performance
[22:08:08] <pcwalton> the only thing it doesn't work with is dynamically sized types, which is the reason we'll probably need placement new...
[22:08:14] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Quit: Leaving)
[22:09:01] <steven_is_false> I forget did c++11 finally add an overriding keyword?
[22:09:10] <strcat> they added 'final'
[22:09:33] <strcat> what do you mean overriding?
[22:10:09] <strcat> final, override and noexcept
[22:10:15] *** Quits: jorendorff (jorendorff@moz-4BE034AB.ptr.us.xo.net) (Quit: jorendorff)
[22:10:17] <steven_is_false> strcat: I mean when one wants to override a virtual function but accidentally has a typo in the type signature so one doesn't.
[22:10:27] <steven_is_false> strcat: override is the one I wanted.
[22:10:51] <strcat> noexcept is quite weird
[22:11:13] <strcat> they added it because they didn't want to mandate that move constructors must not throw
[22:11:29] <strcat> well some people did
[22:11:38] <strcat> compromises ;p
[22:11:54] <steven_is_false> strcat: Okay, so I created a sum type in C++11 but it
[22:12:06] <steven_is_false> 's not perfect because one can't have a template virtual function.
[22:12:43] <strcat> you need a type switch
[22:13:39] <steven_is_false> strcat: I don't follow. Did someone already write up all the code for this so I can look at it, and figure out what you mean?
[22:14:03] <strcat> steven_is_false: well there are a lot of people who implemented it in C++11, I could dig up a blog post I read
[22:14:31] <strcat> but basically it's tricky to do it without using RTTI or virtual functions
[22:14:38] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[22:14:55] <strcat> but you *can* store the variadic type list and do a switch on it
[22:14:59] <steven_is_false> strcat: Cool. I never know how to find good literature on C++ because I'm always swamped by all the massive amounts of crap out there.
[22:15:18] <strcat> I tried doing it before actually
[22:15:27] <strcat> I managed to get it working by using a tuple and recursing
[22:15:36] <strcat> but there are faster ways
[22:15:37] <strcat> sec
[22:16:21] <strcat> steven_is_false: https://parasol.tamu.edu/~yuriys/pm/ there's one example
[22:16:32] <steven_is_false> strcat: Thank you.
[22:16:46] <strcat> pretty horrific macro stuff
[22:17:02] * strcat can't find the saner/slower one he read about before
[22:17:32] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:18:12] <pcwalton> nmatsakis: a couple of questions about your blog post
[22:18:22] <pcwalton> first of all, does the case of recurring closures present a problem for &Trait?
[22:18:54] <pcwalton> I think your blog post may be pushing us toward a future where we do *not* need placement new
[22:18:59] <pcwalton> which makes me quite happy
[22:19:27] *** Quits: otters (joel@3C3A7FE4.5A735C3C.AC7F8427.IP) (Quit: bye)
[22:20:42] <benh> What's wrong with having placement new?
[22:20:51] <pcwalton> the language is simpler without it :)
[22:20:58] <pcwalton> closures and RVO get you so close
[22:21:16] <benh> wouldn't I need placement new basically any time I use malloc and then don't just store a primitive in it?
[22:21:21] <pcwalton> closures and RVO do the same thing as placement new after optimization, with fewer moving parts
[22:21:28] <pcwalton> yes, but you can use a closure for that
[22:21:45] *** Joins: otters (joel@moz-82AAB099.rs)
[22:21:51] <pcwalton> instead of new(place) thing
[22:21:52] <benh> Is that the same thing in the presence of destructors?
[22:21:52] <brson> steven_is_false: here's an issue I forgot about that relates to what you are doing with Void https://github.com/mozilla/rust/issues/4725
[22:22:03] <pcwalton> use place.alloc(|| thing)
[22:22:04] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[22:22:06] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[22:22:07] <brson> steven_is_false: apparently the last time I wanted something like this it was for borrowed pointers, not owned
[22:22:08] <pcwalton> which we could just macro to placement new
[22:22:18] <pcwalton> yes, I think so
[22:22:41] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[22:22:55] <pcwalton> "do place.alloc { thing }" actually doesn't even read so bad
[22:23:11] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[22:23:20] <benh> I assume alloc is something like let p: *T = malloc(); *p = that_closure(), won't that call T's destructor on uninitialized memory?
[22:23:36] <steven_is_false> brson: I did not know it was possible to do impl *Void etc.. but I get the idea.
[22:24:01] <benh> Since it's an assignment and not an initialization? I dunno!
[22:24:16] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[22:24:25] <strcat> benh: yes, it will
[22:24:30] <strcat> you need move_val_init
[22:24:43] <strcat> I ran into that while implementing std::rc
[22:24:49] <benh> ah, right
[22:24:53] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[22:25:03] <benh> that's probably why I was thinking of that case, I remember reading libstd/rc.rs :)
[22:25:19] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[22:25:23] <benh> Though I guess that's semantically identical to swap and then forget
[22:27:23] <pcwalton> wait, why would that call T's destructor on uninitialized memory?
[22:27:40] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[22:28:10] <strcat> pcwalton: because it thinks it's initialized
[22:28:15] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[22:28:16] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[22:28:18] <pcwalton> in what case will it call T's destructor?
[22:28:24] <pcwalton> it shouldn't call T's destructor at all
[22:28:35] <pcwalton> do you mean if the ctor fails?
[22:28:39] <strcat> pcwalton: let p = malloc(...); *p = foo;
[22:28:45] <pcwalton> oh, I see
[22:28:46] <strcat> *p = foo; destroys *p before it moves into it
[22:29:11] <pcwalton> move_val_init incurs the cost of a move, doesn't it :(
[22:29:15] <strcat> yeah
[22:29:19] <pcwalton> oh, that's bad
[22:29:21] <strcat> and I think it zeroes the destination first....
[22:29:22] <pcwalton> I guess we need placement new
[22:29:27] <pcwalton> that's terrible
[22:30:12] <strcat> hmm maybe it doesn't zero the dest first
[22:30:23] <strcat> but it's definitely just 'initialize x by moving y into it'
[22:30:32] * pcwalton thinks
[22:30:51] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[22:30:57] <pcwalton> maybe we need an intrinsic like "invoke this closure with the return pointer hardwired to wherever I want it to be"
[22:31:27] <strcat> pcwalton: the compiler generates pretty bad code for std::rc atm
[22:31:30] <strcat> I haven't really looked into it
[22:31:36] <pcwalton> yeah, arena is bad too
[22:31:37] <strcat> the drop flag being one of the reasons
[22:31:46] <pcwalton> we need to fix that
[22:32:12] <strcat> tbh I have trouble understanding the LLVM IR it generates - there's *way too much*
[22:32:13] <pcwalton> so if we had *that* intrinsic, and if we assumed we didn't want custom smart pointer closures or traits, placement new could become a macro
[22:32:47] <pcwalton> niko's blog post suggests that custom smart pointer closures are hard anyway
[22:32:51] <strcat> they are
[22:32:59] <strcat> RcMut is hard
[22:33:13] <strcat> pcwalton: https://github.com/mozilla/rust/blob/incoming/src/libstd/rc.rs#L120
[22:33:25] <pcwalton> you could allocate both regular objects and vectors directly into a custom allocator
[22:33:28] <pcwalton> which would be nice
[22:33:37] <pcwalton> then we just need to remove @ and ~ from the language ;)
[22:33:57] <strcat> well @ has special rooting stuff, doesn't it?
[22:33:59] <strcat> for & borrows
[22:34:06] <pcwalton> it could be a lang item
[22:34:19] <pcwalton> or just a "root me" trait
[22:34:22] <strcat> it would be nice to have a lang item for overloading pointer types
[22:34:31] <strcat> for dereferencing and borrowing I guess
[22:34:35] <pcwalton> yeah, I want it for servo
[22:34:49] <strcat> *foo.borrow_mut() = 5; // kind of painful
[22:35:37] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[22:35:39] <strcat> RcMut is more painful because of the freezing
[22:35:47] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[22:35:47] <strcat> dunno if there's a saner way to do that
[22:36:43] <strcat> pcwalton: is there a way to make rustc leave out comments with -S --emit-llvm?
[22:36:49] <strcat> they make it not optimize
[22:37:01] <pcwalton> hmm, not sure
[22:37:03] <strcat> LLVM considers the memory barriers or something
[22:37:06] <strcat> them*
[22:37:09] <aatch> strcat, theres a -Z option I think
[22:37:36] <strcat> aatch: well, that seems to turn it on :)
[22:37:39] <strcat> but it's on by default
[22:37:46] <aatch> Oh, nvm then
[22:38:17] <strcat> before I was just using llvm-dis on the .bc but atm my system LLVM isn't synced with rust's and can't disassemble it
[22:38:17] <pcwalton> that seems wrong, submit a PR :)
[22:38:28] <pcwalton> you can use the llvm-dis from the build dir
[22:38:49] <strcat> ah didn't realize there was one built
[22:39:00] *** Joins: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP)
[22:39:08] <strcat> I have so many copies of LLVM lying around now... ;p
[22:41:09] *** Quits: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP) (Ping timeout)
[22:42:00] <strcat> pcwalton: ah it's not *nearly* as bad with the comments gone
[22:42:29] <strcat> but still pretty terrible
[22:43:06] <strcat>             let ptr = malloc(sys::size_of::<RcBox<T>>() as size_t) as *mut RcBox<T>;
[22:43:07] <strcat>             assert!(!ptr::is_null(ptr));
[22:43:09] <strcat>             intrinsics::move_val_init(&mut *ptr, RcBox{value: value, count: 1});
[22:43:11] <strcat>             Rc{ptr: ptr}
[22:43:13] <strcat> becomes http://ix.io/5CE
[22:43:49] *** Quits: cstrahan (cstrahan@moz-4C7E5789.hsd1.dc.comcast.net) (Ping timeout)
[22:44:14] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[22:45:06] *** Joins: otters (joel@moz-82AAB099.rs)
[22:45:13] <strcat> moves are really bad ;\
[22:45:18] <strcat> the codegen I mean
[22:45:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:45:22] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/oCsH9w
[22:45:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:45:27] <pcwalton> it should be memcpy
[22:45:41] <strcat> you'd think LLVM wouldn't generate piles and piles of code to drop it if it's that simple
[22:45:49] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:46:16] <strcat> this is the type of function I'd have put #[inline] on without much of a second thought ;p
[22:46:31] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[22:47:15] *** Joins: otters (joel@moz-82AAB099.rs)
[22:47:21] <strcat> should be malloc, branch on null, initialize in-place and return the ptr
[22:47:37] <strcat> I guess it should really just call libc::abort instead of assert
[22:47:40] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[22:47:48] <strcat> since the rust runtime already has to abort on OOM
[22:47:50] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:48:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:48:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/_1bl9A
[22:48:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:48:22] *** Joins: otters (joel@moz-82AAB099.rs)
[22:49:13] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[22:50:04] *** kimundi is now known as zz_kimundi
[22:50:10] *** Joins: otters (joel@moz-82AAB099.rs)
[22:51:32] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:51:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/_1bl9A
[22:51:32] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:51:33] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:51:33] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/p2SZdg
[22:51:33] <ghrust> 13rust/06auto 148c5de02 15Steven Stewart-Gallus: Fixed type signature of uninhabited method....
[22:51:33] <ghrust> 13rust/06auto 14c1bf6a4 15bors: auto merge of #6442 : sstewartgallus/rust/incoming, r=pcwalton...
[22:51:33] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:52:02] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[22:52:43] *** Joins: otters (joel@moz-82AAB099.rs)
[22:56:10] *** Quits: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[22:58:06] <brson> i think conditions aren't sound, nor is Finally
[22:59:35] <strcat> pcwalton: I think we still end up needing a drop flag for lots of unsafe code in vec, etc.
[22:59:44] *** Joins: dymk (dymk@9BDB80AA.8F293D07.59A90BC7.IP)
[22:59:48] <strcat> init() is used a lot
[23:00:51] <pcwalton> nmatsakis: brson has an interesting soundness hole in finally and sound relating to &mut
[23:01:01] <pcwalton> finally and conditions rather
[23:01:10] <brson> i'll post a gist
[23:01:19] <strcat> I think switching to uninit has made a lot of this unsound :(
[23:01:46] <strcat> http://ix.io/5CF that assert is unsound now
[23:02:14] <strcat> dunno if it's actually a runtime condition
[23:02:35] <strcat> we should probably separate an assert that aborts instead of failing
[23:02:36] <dymk> so, why is it that one must write something like `fn add<T : Add<T, T>>(a: T, b: T) -> T { a + b }`, when the compiler can just check if, at compile time, the types T implement the '+' trait?
[23:02:52] <pcwalton> because then it would be C++
[23:03:00] <strcat> dymk: because it type checks the definition
[23:03:03] <strcat> not each instantiation
[23:03:04] <brson> nmatsakis, pcwalton: I just wrote this example where both the trap block and the body alias the same mutable stack variable: https://gist.github.com/brson/5572240
[23:03:18] <dymk> yes, but that just means verbose function signatures
[23:03:45] <strcat> dymk: it expresses the exact constraints it requires making it able to be type checked
[23:04:06] <strcat> not specifying the constraints is almost exactly what C++ templates do (ignoring SFINAE, etc.)
[23:04:30] <strcat> you can't type check a template, there's no way of knowing exactly what it requires from the types
[23:04:32] <dymk> right, but that same information can be descerned from the function body, so it just seems redundant to have it in the signature as well
[23:04:47] <strcat> dymk: it can't be discerned from the function body in most cases
[23:04:49] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:05:06] <dymk> I suppose it couldn't when you don't have the function body
[23:05:07] <benh> ... it's a bit awkward how it's LHS: Add<RHS, Ret> instead of something where there's symmetry between LHS and RHS at least... ;)
[23:05:09] <strcat> fn foo<T: Bar>(x: T, y: T) { x.bar(y) }
[23:05:11] <strcat> dymk: ^
[23:05:15] <strcat> no way to figure out what that requires
[23:05:30] <strcat> .bar() could be a method on x, not an implementation of the Bar trait
[23:05:37] <strcat> it could be from a Baz trait
[23:05:38] <dymk> it requires that T implements fn bar(&self, rhs: T)
[23:05:57] <dymk> does it require where that implementation comes from?
[23:06:23] <strcat> dymk: yes, because traits have meanings
[23:06:29] <dymk> hmm
[23:06:40] <strcat> a.lt(b) means check if a is less than b
[23:07:03] <strcat> not any function with the signature (&T, &T) -> bool
[23:07:07] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[23:07:18] <strcat> dymk: here, another
[23:07:40] <strcat> bar(x: T) { let y = x.foo(); ... }
[23:07:48] <strcat> where foo comes from a trait
[23:07:53] <strcat> what type is y?
[23:07:57] <steven_is_false> Okay, so && is an rvalue reference in C++11 but how does one have this as an rvalue reference in a member function?
[23:08:22] <dymk> strcat: T::foo(&self) -> <type of y>, right?
[23:08:33] <strcat> yes
[23:08:42] <dymk> alright, I think I'm seeing what you're saying
[23:09:08] <dymk> so x can implement more than 1 trait that defines a function with the signature `fn foo(&self) -> <something>`?
[23:09:18] <dymk> is this how Rust does function overloading?
[23:09:29] <strcat> dymk: rust doesn't have function overloading
[23:09:46] <strcat> but there's *nothing* stopping you from having 10 traits and 20 standalone impls with a method called 'map'
[23:10:06] <strcat> if I implement a method called 'foo' in my library, it doesn't forbid all other rust users from using that method name ;p
[23:10:22] <strcat> fn foo<T>(x: T) { let y = x.bar(); y.baz() }
[23:10:27] <strcat> can't be type-checked
[23:10:27] <pcwalton> you sort of have overloading with traits
[23:10:31] <pcwalton> it's just not ad-hoc overloading
[23:10:50] <dymk> pcwalton, yeah, semi-overloading, overloading was too specific to what this isn't
[23:11:03] <dymk> alright, that makes sense, thanks :)
[23:11:22] <strcat> pcwalton: well C++ has taught me to think of 'overloading' as ad-hoc polymorphism ;p
[23:11:24] *** Quits: otters (joel@moz-82AAB099.rs) (Quit: bye)
[23:11:42] <strcat> since it's only used to refer to ad-hoc overloading in C++/Java afaik
[23:12:18] <strcat> except C++ can do weird stuff like http://ix.io/5CG
[23:12:21] <ssbr> isn't ad-hoc polymorphism what traits give you? (as opposed to parametric polymorphism)
[23:12:33] <strcat> traits are parametric polymorphism
[23:12:52] <ssbr> definitely not
[23:13:08] <strcat> fn foo<T: Foo + Bar, U: Foo>(a: &T, b: &T) -> bool { ... }
[23:13:12] <strcat> same as type classes in haskell
[23:13:23] <ssbr> and type classes in haskell are ad-hoc polymorphism
[23:13:26] <ssbr> http://www.haskell.org/haskellwiki/Polymorphism#Ad-hoc_polymorphism
[23:13:29] *** Quits: noct (quassel@moz-BAA6B280.com) (Client exited)
[23:13:41] *** Joins: noct (quassel@moz-BAA6B280.com)
[23:13:50] *** Joins: otters (joel@moz-82AAB099.rs)
[23:13:50] <dymk> strcat: so would that signature mean that Foo + Bar have to be exclusive in what methods they define?
[23:13:54] <ssbr> a parametrically polymorphic function would be one such as fn foo<T>(a: &T) -> ()
[23:14:07] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[23:14:56] <strcat> well in that case I don't know what C++ function overloading is ;p
[23:15:17] <ssbr> apparently it's still ad-hoc polymorphism -_-
[23:15:34] <ssbr> (I was wrong in the very first place!)
[23:16:19] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[23:16:30] *** Quits: otters (joel@moz-82AAB099.rs) (Client exited)
[23:16:56] <strcat> 'Some implementations of type polymorphism are superficially similar to parametric polymorphism while also introducing ad-hoc aspects. One example is C++ template specialization.'
[23:16:58] <strcat> now I'm just confused
[23:17:07] <strcat> I don't really see how template specialization is the same thing at *all*
[23:17:47] *** Joins: HOLYCOWBATMAN (Mibbit@moz-AB722A1C.mc.videotron.ca)
[23:20:15] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[23:23:00] *** Joins: jorendorff (jorendorff@moz-29C824BB.sub-70-197-8.myvzw.com)
[23:23:15] <steven_is_false> Dangit, how can I forward rvalues in C++?
[23:24:12] <strcat> std::forward ;p
[23:25:13] <strcat> well
[23:25:38] <strcat> you only need std::forward if you take an rvalue *or* a reference
[23:26:48] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[23:27:03] <vermeille> Since it's hard to have multiple definitions depending on types for operator overloads and commutativity on operator overload, what is the most common pattern used to develop math libraries ?
[23:28:15] *** Joins: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com)
[23:29:12] <steven_is_false> strcat: Thank you.
[23:30:43] *** Joins: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:31:20] *** Quits: eholk (eholk@9085165A.A4FF99ED.25ABE9D1.IP) (Quit: eholk)
[23:33:29] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Input/output error)
[23:34:09] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[23:35:29] <nmatsakis> pcwalton: brson: ping
[23:35:40] <pcwalton> nmatsakis: pong
[23:36:41] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[23:37:24] <brson> nmatsakis: pong
[23:39:01] <yichoi> brson: make install-runtime-target /data/tmp
[23:39:12] <brson> yichoi: thanks
[23:39:37] *** Joins: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP)
[23:40:04] <brson> yichoi: it works! I'm running arm tests!
[23:41:33] <yichoi> :)
[23:41:39] *** Quits: victorporof (victorporo@CA0EF1E0.A58E0E41.6A4F8DA2.IP) (Ping timeout)
[23:41:45] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[23:42:18] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[23:43:11] <brson> nmatsakis: that condition issue is here https://github.com/mozilla/rust/issues/6459
[23:43:30] <nmatsakis> pcwalton: brson: I was just writing you back -- but my internet is being very slow, I'll ping you aagain later :)
[23:43:33] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[23:43:45] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Ping timeout)
[23:44:37] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[23:44:44] *** Quits: jesse99 (jesse99@moz-F226420.hsd1.wa.comcast.net) (Ping timeout)
[23:46:43] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:46:43] <aatch> brson, whats the best way to work on adding work-stealing to the scheduler? Should I work off incoming or a branch of yours?
[23:46:50] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[23:49:51] <brson> aatch: work off my io branch. it moves pretty fast in is way ahead of trunk. i'd even suggest sending me pull requests
[23:49:54] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[23:50:08] <aatch> brson, cool.
[23:50:21] <aatch> Thought that might be it.
[23:51:37] <strcat> pcwalton: https://github.com/mozilla/rust/pull/6461 r?
[23:52:02] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[23:52:21] <pcwalton> strcat: r=me
[23:53:01] *** Quits: mschifer1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[23:54:44] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Client exited)
[23:55:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:55:43] <pcwalton> aatch: keep in mind the new scheduler doesn't have pipes yet
[23:55:52] <pcwalton> so you can't actually communicate short of sending yourself TCP messages or something
[23:55:56] <pcwalton> also there is no threading support
[23:56:10] <aatch> pcwalton, I am aware.
[23:56:24] <pcwalton> adding those first might make it easier to get started
[23:56:28] <pcwalton> but don't let me stop you :)
[23:56:39] <aatch> pcwalton, I was thinking that while looking at everything.
[23:56:58] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:57:43] <aatch> I managed to write some code that can start up new schedulers in new threads without too much trouble.
[23:57:56] <aatch> Not particularly useful, but it worked.
[23:57:56] <pcwalton> nice
[23:58:10] <pcwalton> would be nice to automatically do that based on the number of cores or RUST_THREADS
[23:58:12] <pcwalton> I guess that's not so hard
