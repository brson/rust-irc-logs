[00:02:47] <brandonson> wait, what's wrong with stdio?
[00:03:13] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[00:03:41] <sfackler> brandonson: println! no longer panics if stdout/stderr doesn't exit
[00:03:55] <sfackler> and io::stdout().write doesn't return an error
[00:05:48] <brandonson> sfackler: doesn't exit, or doesn't exist?
[00:05:57] <sfackler> exist
[00:05:59] * brandonson wonders what an exiting stdout would look like
[00:07:18] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[00:09:35] *** Quits: seppo0010 (Adium@moz-1457bq.static.monkeybrains.net) (Quit: Leaving.)
[00:10:23] *** Joins: ytain (ytain@moz-oj7n49.dsl.teksavvy.com)
[00:10:34] *** Joins: seppo0010 (Adium@moz-1457bq.static.monkeybrains.net)
[00:14:08] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[00:15:23] <WindowsBunny> brandonson: It's mainly intended for Windows, because people would try to switch the subsystem from console to windows so they can run the game without a console
[00:15:44] <WindowsBunny> brandonson: and then something prints to the console that doesn't exist, it panics, but panic can't print to the console either so it aborts
[00:16:19] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[00:16:46] <WindowsBunny> which basically meant you couldn't run your game without an attached console on windows unless you made sure absolutely nothing printed to the console, which was somewhat of a hassle
[00:18:36] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[00:22:04] <brandonson> WindowsBunny: jeez
[00:22:10] <brandonson> WindowsBunny: yeah, that'd be bad
[00:22:52] <WindowsBunny> brandonson: But of course, now there are children depending upon stuff panicking when it attempts to print to a console that doesn't exist, and they'll die to death because of this change
[00:23:51] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[00:24:56] *** kimundi is now known as zz_kimundi
[00:32:16] *** Quits: seppo0010 (Adium@moz-1457bq.static.monkeybrains.net) (Quit: Leaving.)
[00:35:19] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:35:40] *** Joins: brson (brson@moz-omn.omd.251.216.IP)
[00:35:41] *** ChanServ sets mode: +o brson
[00:37:31] *** Quits: ytain (ytain@moz-oj7n49.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:38:14] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:38:50] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:39:19] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:39:19] *** ChanServ sets mode: +ao erickt erickt
[01:01:47] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Quit: segfault)
[01:03:09] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[01:05:14] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:08:43] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Quit: segfault)
[01:08:52] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[01:12:38] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[01:15:19] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[01:15:33] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:22:11] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:30:13] <WindowsBunny> Uh, who is responsible for maintaining homu again?
[01:30:24] <WindowsBunny> Cuz homu in bors just did something silly: https://github.com/rust-lang/cargo/pull/1724#issuecomment-114692680
[01:31:19] <bstrie> WindowsBunny: barosl?
[01:31:26] * WindowsBunny nibbles on barosl
[01:31:32] <klutzy> barosl: ^
[01:31:38] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[01:34:27] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[01:36:36] <barosl> WindowsBunny, That is a known problem: https://github.com/barosl/homu/issues/91
[01:37:17] <barosl> Normally GitHub sends a "merged" message before pushing the master branch
[01:37:26] <barosl> But sometimes it reverses the order
[01:37:50] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[01:37:55] <WindowsBunny> barosl: Can't you just check if the PR number is the same as a sanity check?
[01:38:01] *** Joins: tamird (textual@moz-lat.dkr.14.50.IP)
[01:38:09] <barosl> Yup, that would be a good workaround
[01:38:34] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[01:38:37] <barosl> But hmm
[01:38:40] <barosl> Wait a sec
[01:38:57] <barosl> The fact that Homu could report the unmergeability means...
[01:39:26] <barosl> GitHub maintains mergeability for not-yet-reported-as-merged-but-in-fact-merged PRs
[01:39:37] <barosl> That's cool
[01:40:41] *** Joins: erickt (erickt@moz-qci.olj.134.64.IP)
[01:40:41] *** ChanServ sets mode: +ao erickt erickt
[01:41:52] *** Quits: brson (brson@moz-omn.omd.251.216.IP) (Connection closed)
[01:45:47] <bstrie> the proposal to make SIZE an associated constant on Sized is mad genius
[01:47:20] <huon> it's been rattling around for a while :)
[01:52:16] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[01:53:51] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[01:53:55] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[01:56:21] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[02:09:25] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:10:02] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Connection closed)
[02:10:20] *** Quits: erickt (erickt@moz-qci.olj.134.64.IP) (Ping timeout: 121 seconds)
[02:11:26] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:15:54] <Mutabah> bstrie: Wow... so that's what that meant... mad science!
[02:20:18] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[02:23:14] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:24:19] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[02:29:00] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[02:30:36] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Quit: Textual IRC Client: www.textualapp.com)
[02:33:12] *** Joins: swgillespie (sean@moz-rn1.vmq.232.104.IP)
[02:34:43] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[02:35:10] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Quit: Talk atcha later)
[02:35:15] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[02:38:01] *** Joins: swgilles_ (swgillespie@moz-rn1.vmq.232.104.IP)
[02:38:31] *** Quits: swgillespie (sean@moz-rn1.vmq.232.104.IP) (Quit: leaving)
[02:38:41] *** swgilles_ is now known as swgillespie
[02:40:33] *** Quits: zz_kimundi (kimundi@moz-dn7o4m.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:42:30] *** Joins: zz_kimundi (kimundi@moz-aokeeu.dip0.t-ipconnect.de)
[02:42:32] *** zz_kimundi is now known as kimundi
[02:43:14] *** Joins: Barca (Mibbit@moz-j9a.ns7.133.129.IP)
[02:50:07] *** Quits: Barca (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:51:38] *** Joins: mib_arxdet (Mibbit@moz-1t5.aif.115.199.IP)
[02:56:38] *** Quits: mib_arxdet (Mibbit@moz-1t5.aif.115.199.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:00:19] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:01:27] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[03:16:40] *** Joins: semarie (semarie@moz-17tger.bpv6.bg1u.41d0.2001.IP)
[03:25:46] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:25:47] *** ChanServ sets mode: +ao erickt erickt
[03:25:58] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[03:43:49] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:47:19] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:48:18] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:48:19] *** ChanServ sets mode: +ao erickt erickt
[03:50:42] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:51:30] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Connection closed)
[03:52:26] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[03:52:41] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[04:05:08] *** Quits: Jesin (Jesin@moz-c5lf9h.eecs.lehigh.edu) (Quit: Leaving)
[04:06:03] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:08:57] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:24:01] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[04:31:38] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:31:59] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[04:41:44] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:42:23] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[04:44:08] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[04:44:08] *** ChanServ sets mode: +o pcwalton
[04:46:34] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[04:48:18] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[04:48:48] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Ping timeout: 121 seconds)
[04:49:10] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[04:49:10] *** ChanServ sets mode: +o pcwalton
[04:49:50] <Zoxc> That type macro rfc and branch seem familiar
[04:51:27] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[04:55:12] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Ping timeout: 121 seconds)
[04:56:33] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[05:01:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:09:15] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[05:09:15] *** ChanServ sets mode: +o pcwalton
[05:09:33] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Client exited)
[05:19:51] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:24:32] *** Quits: O01eg (o01eg@moz-d1m14e.ns93.4n8f.2698.2a02.IP) (Client exited)
[05:24:36] *** Joins: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de)
[05:26:22] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Quit: segfault)
[05:26:28] *** Joins: zeiris (dan@moz-nfg.gu4.131.104.IP)
[05:26:43] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:31:16] <eddyb> Zoxc: type macros should be relatively easy
[05:31:40] <eddyb> bstrie: technically, having const fn calls return associated items is easier than having const fn intrinsics
[05:31:56] <eddyb> bstrie: at least for one possible implementation strategy using associated constant projections
[05:32:48] <eddyb> associated constants should be kept feature-gated but size_of::<T>() can be the frontend for it
[05:33:46] *** chmanchester|mtg is now known as chmanchester|afk
[05:33:49] <eddyb> Zoxc: it's sad that we added macros for patterns and even impl contents (so methods or associated something) but there's nothing for types
[05:34:16] <eddyb> in completely unrelated news, found this interesting bit in the compiler
[05:34:19] <eddyb> > An "upcall" is a foreign call generated by the compiler (not corresponding to any user-written call in the code) into the runtime library, to perform some helper task such as bringing a task to life, allocating memory, etc.
[05:34:49] <eddyb> sounds like ancient terminology for a lang item call
[05:41:00] *** Joins: Feyn (aram@moz-5vj.68e.115.42.IP)
[05:42:33] *** Quits: zeiris (dan@moz-nfg.gu4.131.104.IP) (Quit: segfault)
[05:42:36] *** Joins: zeiris (dan@moz-nfg.gu4.131.104.IP)
[05:45:40] <Zoxc> eddyb: I made a RFC and a branch for that a year ago =P
[05:45:59] <eddyb> I think aatch had one at some point too, for SIMD
[05:46:22] *** Quits: Thorn (Thorn@moz-m3u.20c.107.217.IP) (Quit: Quit)
[05:48:09] <bstrie> eddyb: hahaha, I remember upcalls
[05:48:18] <eddyb> bstrie: you do?
[05:48:38] <eddyb> how were they different from the lang items we have today?
[05:48:43] <bstrie> like you said, ancient terminology
[05:49:46] <bstrie> the last time I remember the term in use was when the runtime was still written in C++, I forget if lang items were a notion at that point
[05:50:32] <eddyb> makes sense
[05:50:53] <bstrie> I think the distinction was really just to say "we're calling into C++ now"
[05:51:03] *** Quits: Kingsquee (kingsley@moz-33q6f3.bchsia.telus.net) (Quit: Konversation terminated!)
[05:53:15] *** Joins: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com)
[05:55:40] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[05:58:40] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[05:59:58] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:07:47] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[06:21:02] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[06:25:18] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Quit: )
[06:27:28] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Connection closed)
[06:28:18] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[06:31:32] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[06:34:25] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:35:36] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[06:38:15] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[06:46:00] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:46:00] *** ChanServ sets mode: +ao erickt erickt
[06:50:38] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:54:47] *** Quits: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:55:30] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[07:00:34] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[07:01:38] <sfackler> Gankro: aturon: is this kind of thing possible to make work with the generic conversion traits? http://is.gd/TCnxCi
[07:01:52] <sfackler> the From and Into impls both fail to compile
[07:07:55] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[07:10:22] <eddyb> I think the From impl is the correct one here
[07:11:08] <eddyb> what impl in `core` could possibly conflict?
[07:11:26] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:12:07] *** Quits: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:12:27] <Mutabah> Well... that's non-coherent, isn't it?
[07:12:40] <Mutabah> From<> isn't yours, and neither is Box<>
[07:13:08] <eddyb> yeah, but Box<Foo<A>> is
[07:13:20] <eddyb> though I'm not sure what the latest rules are, it's been a bit fuzzy lately
[07:13:36] <eddyb> Mutabah: it's not a "cannot implement trait for type outside this crate"
[07:13:46] <Mutabah> Point
[07:13:57] <eddyb> kind of error, which is what you're talking about AFAICT
[07:14:18] <Mutabah> Yeah... just pointing out that I don't this would work anyway
[07:14:36] <eddyb> I wonder if it works with Box<Struct>
[07:15:41] <eddyb> Mutabah: it works with a struct
[07:15:57] <Mutabah> Interesting
[07:16:03] <eddyb> this smells of a bug stemming from old trait object code
[07:16:22] <eddyb> you know, from when ~Trait was a type but Trait wasn't
[07:18:00] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[07:19:05] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[07:22:05] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[07:24:59] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[07:26:58] <eddyb> playbot: struct Foo; let _ = Foo::from(Foo);
[07:26:59] -playbot- ()
[07:27:03] <eddyb> well, drat
[07:27:15] <eddyb> Mutabah: it's conflicting with the From<T> for T impl
[07:27:28] <Mutabah> Oooh
[07:28:12] <eddyb> why does it work for the struct, though?
[07:29:08] <eddyb> maybe because, the way I had it, the type needed to overlap was not instantiable
[07:29:36] <eddyb> whereas implmenting Foo for Box<Foo> is possible
[07:29:56] <eddyb> it's not implemented though, so...
[07:29:57] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[07:30:05] <eddyb> sfackler: coherence must not be taking bounds into account
[07:39:21] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:50:52] *** Quits: Siosm (quassel@moz-hkaoqt.fr) (Ping timeout: 121 seconds)
[07:56:45] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[07:59:16] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[08:04:08] *** Quits: sp3d (sp3d@moz-re8m3s.mf75.3igv.0240.2601.IP) (Ping timeout: 121 seconds)
[08:04:53] *** Joins: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP)
[08:04:59] *** Joins: sp3d (sp3d@moz-re8m3s.mf75.3igv.0240.2601.IP)
[08:11:45] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[08:13:37] *** Joins: Siosm (quassel@moz-7ucvlk.c3r2.lncg.41d0.2001.IP)
[08:25:40] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[08:29:14] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[08:30:49] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[08:33:04] *** Joins: waffles (wafflespean@moz-c6n.f6h.136.123.IP)
[08:39:24] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[08:42:23] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[08:46:45] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[08:46:49] <waffles> Hey all, can anyone suggest me an issue? Because, I'm having some difficulties in finding one. I think the E-easy labeled ones aren't proper.
[08:47:00] <waffles> I mean, as far as I've seen, most of them have already been fixed (but hasn't been closed) while the others have already been taken by someone but it's not labeled as assigned
[08:49:29] <aatch> waffles, do you have any specific interests?
[08:50:38] <waffles> aatch: I think I'll be better in writing error explanations and docs (for now)
[08:51:17] <waffles> But, I can work on anything (as I can always find some help at #rust) :)
[08:52:06] <aatch> waffles, honestly, it might be best to pick something else. Error messages + docs is what everybody does, hence the difficulty in finding something to work on.
[08:52:59] <kimundi> You could just brows the issue list disregarding the E-Easy flags
[08:53:22] <kimundi> And look for interesting ones
[08:54:15] <kimundi> Also, those already-fixed issues should be closed, so you could also just write comments in that regard below them, and maybe write testcases for them
[08:54:38] <aatch> waffles, personally, I'd suggest attacking stuff related to trans (that's the codegen part). There's a tonne of work to do there. It's how I got my start.
[08:56:02] *** Quits: waffles (wafflespean@moz-c6n.f6h.136.123.IP) (Ping timeout: 121 seconds)
[08:56:08] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:00:33] *** Joins: waffles (wafflespean@moz-ss5.524.193.113.IP)
[09:01:14] <waffles> aatch: I didn'
[09:01:40] <waffles> * I'm not really expecting to work on docs, but I haven't found an unassigned E-easy issue
[09:01:55] *** Joins: imperio (Mibbit@moz-opqtbe.abo.bbox.fr)
[09:03:13] <kimundi> waffles: I'd just look at all issues, those E-easy are far from being consistently and broadly tagged
[09:03:49] <waffles> Alright, thanks :)
[09:09:11] <imperio> steveklabnik: ping (if I miss you again, I'll send you an email, it'll be easier ^^')
[09:12:54] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[09:13:11] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[09:20:11] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[09:21:31] *** Joins: vmx (vmx@moz-0300n8.pools.vodafone-ip.de)
[09:28:27] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[09:32:02] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[09:48:44] *** Joins: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de)
[09:48:49] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[09:49:04] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[09:54:55] *** Joins: Kingsquee (kingsley@moz-33q6f3.bchsia.telus.net)
[09:57:12] *** Quits: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP) (Quit: WeeChat 1.2)
[10:09:11] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[10:12:36] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:13:12] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[10:14:38] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[10:26:14] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[10:26:30] *** Quits: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:31:45] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[10:37:24] *** Joins: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de)
[10:40:31] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[10:42:31] *** Quits: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:43:33] *** Quits: Kingsquee (kingsley@moz-33q6f3.bchsia.telus.net) (Quit: Konversation terminated!)
[10:44:52] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[10:46:32] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:53:52] *** arielb1 is now known as arielby
[10:55:05] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:58:32] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[11:16:16] *** Joins: Thorn (Thorn@moz-m3u.20c.107.217.IP)
[11:17:19] <arielby> can linkers merge identical statics?
[11:22:24] *** Joins: mgottschlag (quassel@moz-8n7n07.h71g.nb65.1398.2a00.IP)
[11:22:30] *** Quits: vmx (vmx@moz-0300n8.pools.vodafone-ip.de) (Quit: Leaving)
[11:24:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:24:28] *** ChanServ sets mode: +ao erickt erickt
[11:29:13] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:30:46] <doener> arielby: what do you mean by "identical"? In any case, the answer is probably no though, statics have significant addresses, so they can't be merged at all
[11:37:48] <arielby> doener: so they can't
[11:37:59] <arielby> can linkers merge things after LLVM run?
[11:38:04] <arielby> I mean, symbols with different names?
[11:41:36] *** Joins: ytain (ytain@moz-oj7n49.dsl.teksavvy.com)
[11:43:54] <oli_obk__> arielby: that would be bad, imagine if a static mut gets merged or a static X: Mutex<T>
[11:44:10] <arielby> oli_obk__: I mean, rodata symbols
[11:45:30] *** Quits: Thorn (Thorn@moz-m3u.20c.107.217.IP) (Ping timeout: 121 seconds)
[11:45:36] <oli_obk__> good question
[11:45:50] <oli_obk__> llvm might break rust's guarantees ^^
[11:50:14] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[11:53:19] <oli_obk__> arielby: if you look at the llvm-ir, the statics didn't get merged: http://is.gd/vjCGHH
[11:54:02] <arielby> oli_obk__: I am asking about linker optimization modes
[11:57:53] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[12:00:35] *** Joins: vmx (vmx@moz-ijfnlo.dip0.t-ipconnect.de)
[12:01:32] *** Quits: waffles (wafflespean@moz-ss5.524.193.113.IP) (Ping timeout: 121 seconds)
[12:02:03] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[12:03:31] *** Joins: Sho (sho@moz-d2i.gd6.28.5.IP)
[12:08:19] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[12:09:32] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[12:21:02] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:23:13] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[12:24:21] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[12:26:23] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[12:27:33] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[12:34:13] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[12:36:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:36:20] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[12:40:37] *** Quits: det (chris@moz-6q2one.lv.cox.net) (Ping timeout: 121 seconds)
[12:40:48] *** Joins: det (chris@moz-6q2one.lv.cox.net)
[12:40:55] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[12:58:55] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[13:10:01] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[13:13:13] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:13:13] *** ChanServ sets mode: +ao erickt erickt
[13:13:22] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[13:17:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:20:14] *** Quits: Feyn (aram@moz-5vj.68e.115.42.IP) (Quit: Leaving)
[13:31:48] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[13:31:48] *** rovar_ is now known as rovar
[13:32:01] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[13:34:22] *** Quits: kermi (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:35:25] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[13:41:16] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[13:43:48] *** Quits: mgottschlag (quassel@moz-8n7n07.h71g.nb65.1398.2a00.IP) (Connection closed)
[13:44:57] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[13:51:26] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[13:52:37] *** Joins: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP)
[14:07:07] *** Joins: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de)
[14:09:58] *** Joins: waffles (wafflespean@moz-dsq.2ti.22.1.IP)
[14:13:57] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:13:57] *** ChanServ sets mode: +ao erickt erickt
[14:16:13] *** Quits: arielby (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:18:45] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:20:09] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[14:29:47] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[14:40:57] <awe> I just got a segfault while dropping a Vec<String>.
[14:42:25] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[14:42:30] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[14:44:38] <bluss> awe: are there any unsafe blocks implicated?
[14:45:18] <awe> Not in the code that crashed, but it's in a dynamic library loaded at runtime with dynamic_lib.
[14:45:36] <awe> I'm fairly certain the reason it happened is because I didn't recompile every single one of these libraries, only the one that I changed.
[14:45:46] <awe> But I did update Rust.
[14:48:23] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[14:50:58] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[14:53:38] <imperio> https://github.com/rust-lang/rust/blob/master/src/librustc_typeck/check/_match.rs#L396 is it really possible to have a non constant pattern ?
[14:56:49] <awe> imperio: for example: match foo { Foo(x) => { ... } }?
[15:00:16] <imperio> awe: it doesn't throw the error
[15:00:26] <imperio> (that's what I'm looking for)
[15:00:46] *** Joins: mib_8bflvq (Mibbit@moz-hu6.nja.252.72.IP)
[15:00:58] <awe> Ah, okay.
[15:02:21] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[15:05:06] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:06:25] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[15:11:07] *** Quits: mib_8bflvq (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:12:04] <bluss> imperio: seems to be a function to check that it's an associated constant, i.e. T::CONST for a type param T or something like that
[15:13:53] <imperio> oh
[15:14:01] <imperio> bluss: you gave me an idea
[15:14:50] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:15:38] <imperio> well, it didn't work...
[15:20:47] <jroesch> Gankro : are people at breakfast? I just woke up 
[15:21:47] <Gankro> Yes
[15:22:50] *** Joins: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP)
[15:26:24] *** Joins: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de)
[15:29:44] *** Quits: imperio (Mibbit@moz-opqtbe.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:30:11] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[15:30:55] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[15:34:50] *** Quits: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[15:35:08] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[15:38:21] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:39:55] *** Joins: yjv_ (yjv@moz-ll38tk.pa.comcast.net)
[15:45:20] *** Quits: Diamond (dick@moz-hcg8l7.ks.cox.net) (Quit: Leaving.)
[15:45:40] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:45:40] *** ChanServ sets mode: +ao erickt erickt
[15:46:58] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:47:05] *** Joins: arielb1 (Ariel@moz-c38kqg.red.bezeqint.net)
[15:51:03] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[15:51:54] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[15:52:57] <steveklabnik> oh no i JUST missed imperio again
[15:52:59] <steveklabnik> heh :(
[15:53:12] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[15:55:31] <jroesch> Just saw you guys leave, eating some breakfast and will be over
[15:57:14] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[15:57:45] <steveklabnik> woo
[16:03:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[16:10:41] *** Quits: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[16:17:24] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[16:17:52] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[16:19:12] <huseby> is the rust session still happening today?
[16:19:20] <huseby> i went to the one yesterday and nobody was there
[16:19:24] <huseby> sched must have been wrong
[16:20:32] <steveklabnik> it is
[16:20:35] <steveklabnik> we're in chekamus
[16:20:38] <steveklabnik> i think tha'ts how you spell it
[16:21:07] <huseby> in the hilton?
[16:21:24] <steveklabnik> yes
[16:22:38] <huseby> k
[16:22:45] <huseby> i'll drop in a little later
[16:29:51] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:34:45] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:35:48] *** Joins: dumbbell (dumbbell@moz-tfn004.made4.biz)
[16:36:30] <Quxxy> Anyone here familiar with Vec?
[16:36:40] <Quxxy> and any recent changes (~15 days or so)
[16:37:00] * steveklabnik calls in Gankro 
[16:37:32] <bluss> "9 days to 1.1.0"
[16:37:34] <Elaine> Quxxy: Familiar in what way?
[16:37:42] <Elaine> bluss: yeah I'm the only one who updates it and I forget :(
[16:37:57] <Quxxy> Well, I found what *might* be a memory safety problem, but it seems to have been fixed recently
[16:38:13] <Elaine> I'm very famililiar with Vec, shoot.
[16:38:16] *** steveklabnik changes topic to '1.1 tomorrow! | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust'
[16:38:23] <Elaine> steveklabnik: thanks!
[16:38:25] <Quxxy> Elaine: I'm somehow managing to get len = 1, cap = 0
[16:38:27] <steveklabnik> :)
[16:38:27] <Elaine> I should write a script that does it.
[16:38:28] <imperio> Manishearth: I think I have an issue with "how to fix it"
[16:38:31] <Gankro> steveklabnik: what
[16:38:35] <Elaine> Quxxy: with a zero-sized type?
[16:38:40] <Gankro> Quxxy: what up
[16:38:40] <Quxxy> Which manifests as an arithmetic underflow in the first line of fn reserve
[16:38:40] <bluss> Elaine: you switched nicks
[16:38:42] <imperio> Manishearth: that must be a very rare ill
[16:38:45] <Elaine> bluss: yes, sorry.
[16:38:47] <Quxxy> Elaine: Oooooh
[16:38:47] <bluss> Elaine: thanks :)
[16:38:50] <imperio> steveklabnik: ping !
[16:38:54] <Quxxy> Yes
[16:38:54] <steveklabnik> imperio: pong!
[16:39:00] <imperio> yeay \o/
[16:39:02] <steveklabnik> i just missed you by like 15 minutes earlier hehe
[16:39:09] <Elaine> Quxxy: there you go. we don't do allocations for ZSTs :)
[16:39:15] <imperio> that's the time I leave my workplace ^^
[16:39:30] <Quxxy> Ok, I feel better now
[16:39:50] <Quxxy> That also explains why it didn't manifest earlier
[16:39:52] <imperio> steveklabnik: did you think about the "officialization process" finally ?
[16:39:59] <imperio> *have you
[16:40:04] <Quxxy> Thanks
[16:40:19] <steveklabnik> imperio: was mostly waiting on what people have said, and they haven't said much
[16:40:22] <steveklabnik> this week is the workweek
[16:40:27] <steveklabnik> so i will bring it up during these meetings
[16:40:32] <steveklabnik> the whole team is in the same physical place
[16:40:33] <imperio> workweek ?
[16:40:38] <imperio> oh that's nice
[16:40:39] <steveklabnik> mozilla does it twice a year
[16:41:06] <imperio> oh I didn't know
[16:41:10] <steveklabnik> yeah :)
[16:41:20] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[16:41:20] <imperio> I thought it was like a big call conference
[16:41:27] <imperio> not physical meeting
[16:41:40] <imperio> well then, I'll wait for you to give news
[16:41:56] <nagisa> imperio: re your error message: it looks like it is impossible to make that error happen
[16:42:17] <nagisa> (the #0327 one)
[16:42:17] <steveklabnik> imperio: just got it put on the discussion list
[16:42:20] *** Quits: vmx (vmx@moz-ijfnlo.dip0.t-ipconnect.de) (Quit: Leaving)
[16:42:36] <imperio> nagisa: that's what i thought too, but i wasn't sure
[16:42:37] <nagisa> I‚Äôd investigate it a little bit and convert it into a bug instead
[16:42:44] <imperio> steveklabnik: thanks ! =D
[16:42:55] <imperio> nagisa: well, perfect
[16:43:01] *** Joins: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP)
[16:43:06] <imperio> I'll remove it from the E* list then
[16:43:16] <imperio> have you opened a PR/issue yet ?
[16:43:29] <imperio> (something I could linked to)
[16:43:39] *** Joins: O01eg (o01eg@moz-7g2dei.lfrq.3egh.2698.2a02.IP)
[16:44:08] <nagisa> imperio: you shouldn‚Äôt really remove E codes, ever
[16:44:18] <nagisa> even if they are duplicated
[16:44:28] <imperio> nagisa: I already did with Manishearth's blessing :p
[16:44:40] * nagisa scolds Manishearth
[16:45:02] <nagisa> the only reason these codes exist at all is making errors more easy to search in the interwebs
[16:45:14] <imperio> oh ?
[16:45:19] <imperio> i thought it was to help people
[16:45:29] <imperio> I'm disappointed
[16:45:35] <nagisa> and making them disappear or change the code sometime later will certainly not help people to find the problem
[16:45:57] <imperio> well, I commented them to precise
[16:46:00] <imperio> *be
[16:46:21] <nagisa> its not about output of --explain, its about sites such as stack overflow
[16:46:42] <nagisa> questions and answers there are unlikely to be updated, ever
[16:47:08] *** Joins: krebbit (Mibbit@moz-hu6.nja.252.72.IP)
[16:47:24] <nagisa> and the intention of error codes is that you search for it on google, find the answer on stack overflow and the thread there is about the same error you are experiencing
[16:47:55] <imperio> well, rustc --explain is fine too ^^
[16:48:22] <nagisa> removing a code will make this code reusable for another error and suddenly the internet contains same references to two different errors
[16:48:31] <imperio> oh
[16:48:35] <imperio> I see
[16:48:41] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[16:48:45] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[16:49:24] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[16:49:24] *** ChanServ sets mode: +o brson
[16:49:29] <imperio> well, like I said, they're just commented
[16:52:01] <nagisa> Sure, make explanations as you wish
[16:52:12] <nagisa> just don‚Äôt remove any codes from the list üòä
[16:52:24] <imperio> fine fine
[16:52:31] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:52:43] <imperio> I'll comment the one we're talking aboout
[16:52:49] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[16:54:38] <Nashenas88> Is anyone aware of a decent hotel that‚Äôs available for RustCamp? The only non-sleazy ones I‚Äôm finding are $300+ a night or unavailable
[16:55:58] <imperio> nagisa: what's your github's name ? I'll r? you for the PR
[16:57:01] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[16:57:24] <nagisa> nagisa
[16:57:30] <imperio> well ok
[16:57:36] <nagisa> I have no r+ rights tho
[16:58:15] <imperio> you'll still be summoned
[16:58:24] <nagisa> sure, no problem
[16:59:39] <imperio> done
[17:03:02] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[17:03:02] *** ChanServ sets mode: +ao erickt erickt
[17:05:55] <imperio> Manishearth: I don't see what to add to check. "Do you try to set a value to constant expression ?" That's pretty much all...
[17:06:41] <imperio> on this one, I really thought we could say "to fix this" since the error seems pretty obvious
[17:13:45] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[17:14:02] <doener> steveklabnik: should the community team be added to http://www.rust-lang.org/team ?
[17:14:06] *** Quits: geofft (geofft@moz-i01917.mit.edu) (Ping timeout: 121 seconds)
[17:14:38] *** Quits: achernya (quassel@moz-i01917.mit.edu) (Ping timeout: 121 seconds)
[17:15:44] <steveklabnik> doener: yes, it should, and the security team too. it's on my todo list
[17:16:34] <doener> steveklabnik: ah, great. On a related note, do we have a list of the irc channels somewhere? Maybe we could add the team related ones to that page, too?
[17:17:31] <steveklabnik> i have a todo that's like 'figure out how to interregate chanserv to find all the rust channels' to put them on the doc index page
[17:17:34] <steveklabnik> heh
[17:17:36] <steveklabnik> so many todos :(
[17:18:12] <nagisa> (annoying thing about mozilla‚Äôs irc server is that you cannot list channels for a while after just logging in)
[17:18:16] *** Joins: graydon (Adium@moz-jbr.dr1.172.69.IP)
[17:22:30] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[17:31:35] *** Joins: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net)
[17:35:56] <bstrie> steveklabnik: what's this about a security team? who's the team lead?
[17:36:26] <steveklabnik> bstrie: http://www.rust-lang.org/security.html
[17:36:33] <steveklabnik> it's me, brian, and alex, basically
[17:37:24] <bstrie> steveklabnik: that page needs to be linked from the homepage
[17:39:39] <imperio> I agree, I didn't it existence until a few minutes ago
[17:40:12] <steveklabnik> bstrie: it does, and so does the code of conduct
[17:40:16] <steveklabnik> for example
[17:40:32] <steveklabnik> we have a workweek topic that's like 'web presence' and those two things have already been brought up
[17:40:47] <steveklabnik> so much work to do, as always :(
[17:45:39] <sfackler> teams page as well
[17:46:12] <steveklabnik> yup
[17:52:59] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[17:54:06] *** Joins: achernya (quassel@moz-i01917.mit.edu)
[18:01:42] *** Quits: meteredsection (meteredsect@moz-k1pkr3.wa.comcast.net) (Ping timeout: 121 seconds)
[18:02:37] *** Quits: achernya (quassel@moz-i01917.mit.edu) (Ping timeout: 121 seconds)
[18:03:32] *** Joins: achernya (quassel@moz-i01917.mit.edu)
[18:03:37] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:06:50] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[18:12:37] *** Quits: xilec (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:14:01] *** chmanchester|afk is now known as chmanchester
[18:24:33] *** Quits: capella-s3 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[18:26:54] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[18:28:12] <nagisa> imperio: ping
[18:29:22] <nagisa> imperio: https://gist.github.com/nagisa/cc99ee9b7aa18626053d
[18:31:22] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[18:31:47] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (NickServ (RECOVER command used by rkruppe_))
[18:31:47] *** rkruppe_ is now known as rkruppe
[18:32:13] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[18:32:16] *** Quits: yjv_ (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[18:33:15] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[18:37:27] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Ping timeout: 121 seconds)
[18:37:47] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[18:38:12] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[18:38:16] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[18:38:16] *** Joins: mib_e80euj (Mibbit@moz-g6k.oht.161.46.IP)
[18:38:17] *** Joins: yjv_ (yjv@moz-ll38tk.pa.comcast.net)
[18:38:19] <imperio> nagisa: i just saw it ^^
[18:38:39] <imperio> now I have to write the error explanation
[18:41:34] <imperio> oh crap, i removed all my work on 26542 ><
[18:42:20] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[18:42:21] *** ChanServ sets mode: +o pcwalton
[18:42:42] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[18:46:11] *** Joins: dgrunwald (Daniel@moz-i0hf1d.hsi4.kabel-badenwuerttemberg.de)
[18:47:07] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[18:56:53] *** Quits: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net) (Quit: Leaving.)
[18:58:16] *** Quits: rustbot (havvy@moz-epv20b.wa.comcast.net) (Ping timeout: 121 seconds)
[18:59:56] *** Joins: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net)
[19:06:50] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[19:06:50] *** ChanServ sets mode: +o brson
[19:07:54] *** Quits: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:12:25] *** Quits: zacts (user@moz-qrtjuh.nm.comcast.net) (A TLS packet with unexpected length was received.)
[19:13:15] *** Quits: krebbit (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:46] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[19:30:33] <imperio> nagisa: your code doesn't give me the error
[19:30:33] <imperio> it says bb isn't defined
[19:30:33] <imperio> and that's all
[19:30:33] <imperio> oh wait
[19:30:33] <imperio> on nightly the error raised
[19:30:33] <imperio> and on beta too
[19:30:33] <imperio> well, I add it for tomorrow in this case haha
[19:30:34] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:32:09] *** Quits: untitaker (untitaker@moz-o1eh1b.highway.telekom.at) (Ping timeout: 121 seconds)
[19:32:48] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[19:33:55] *** Joins: untitaker (untitaker@moz-ije4g8.highway.telekom.at)
[19:34:44] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[19:37:49] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[19:40:09] <brson> acrichto: i'm going to assign the latest cargo nightly to 1.2
[19:40:27] *** Joins: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net)
[19:40:44] <acrichto> brson: sgtm
[19:41:54] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[19:43:10] <WindowsBunny> brson: Are we going to have msvc for 1.2? :D
[19:44:03] <brson> WindowsBunny: probably
[19:44:25] <WindowsBunny> yay!
[19:44:50] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[19:45:52] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[19:46:00] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:46:01] <WindowsBunny> brson: anyway, since https://github.com/rust-lang/cargo/pull/1724 landed, we need an msvc cargo buildbot now
[19:46:09] <ytain> have or use?
[19:47:22] <WindowsBunny> ytain: Well, there's a separate target for msvc, so it would mean adding more downloads to the download page for the msvc version of the toolchain
[19:47:39] *** Joins: Havvy (Havvy@moz-epv20b.wa.comcast.net)
[19:47:49] <ytain> well the correct choice is 'use' instead of msvc
[19:47:55] <ytain> err have
[19:48:06] <Havvy> I just suggested a lint for rust-clippy, but I'm wondering if I should suggest it for rustc too:  https://github.com/Manishearth/rust-clippy/issues/104
[19:50:26] <brson> acrichto: r? https://github.com/rust-lang/rust-packaging/pull/34
[19:51:29] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[19:52:52] <brson> starting another build of 1.2.0-beta.1
[19:53:22] <acrichto> WindowsBunny: oh we're actually super close to having cargo nightlies
[19:53:23] <brson> WindowsBunny: do you mind smoke testing these 1.1 windows builds? https://static.rust-lang.org/dist/staging/index.html
[19:53:24] <acrichto> for msvc
[19:53:31] <acrichto> WindowsBunny: http://buildbot.rust-lang.org/builders/nightly-dist-cargo-win-msvc-64-64/builds/18/steps/test/logs/stdio (just failing doctests)
[19:53:36] <brson> I am smoke testing the 1.1 linux builds now
[19:54:12] <acrichto> brson: oh I smoke tested those as well yesterday and they were a-ok
[19:54:19] <brson> acrichto: thanks
[19:54:25] <brson> acrichto: windows too?
[19:54:26] <WindowsBunny> brson: Will those be the actual stable builds?
[19:54:30] <brson> WindowsBunny: yes
[19:54:39] <WindowsBunny> mkay, lemme install them and try them out then :D
[19:55:24] <WindowsBunny> I'll run cargo tests on both of them on winapi
[19:56:08] <acrichto> brson: ah no haven't tested osx or windows just yet
[19:58:09] *** chmanchester is now known as chmanchester|mtg
[19:58:43] <brson> can somebody with a macbook test the os x builds? https://static.rust-lang.org/dist/staging/index.html
[19:59:01] <acrichto> brson: downloading
[19:59:09] <brson> acrichto: thanks :)
[19:59:13] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[19:59:41] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[20:03:14] *** Quits: semarie (semarie@moz-17tger.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[20:06:12] <acrichto> brson: tarballs on OSX check out ok
[20:06:56] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Client exited)
[20:08:31] <WindowsBunny> the rust installers really should be signed with a publisher already
[20:08:47] <WindowsBunny> I don't like seeing the big scary warning
[20:09:31] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[20:09:54] <nagisa> Windows should really make it harder to ship software without warnings etc
[20:10:20] <nagisa> WindowsBunny: you have access to 32 bit windows?
[20:10:35] <WindowsBunny> nagisa: I can run 32-bit programs on my 64-bit windows
[20:10:43] <WindowsBunny> But I don't bother with 32-bit windows
[20:10:46] <nagisa> could you try reproducing https://github.com/rust-lang/rust/issues/26518?
[20:11:17] <WindowsBunny> nagisa: Win7, do you have SP1 yet?
[20:11:43] <nagisa> I don‚Äôt do windows at all lol
[20:11:57] <nagisa> all my expertise ends at MSDN
[20:11:59] <WindowsBunny> nagisa: Well, I believe we use WSA_FLAG_NO_HANDLE_INHERIT for our socket code on windows
[20:12:09] <WindowsBunny> which needs at least win7 SP1
[20:12:44] <nagisa> we shouldn‚Äôt panic at unwrap anyway, right?
[20:12:58] <WindowsBunny> unwrap will panic if it is Err or None
[20:13:05] <WindowsBunny> that's the point of unwrap
[20:13:41] <WindowsBunny> Anyway, I'll put that issue on my list of things to look at
[20:14:34] <nagisa> I mean we shouldn‚Äôt do unwrap on things that might fail depending on OS support or lack of it
[20:14:34] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[20:14:52] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[20:15:16] <nagisa> but instead try! or at least panic with an descriptive error message
[20:15:53] <nagisa> like ‚Äúyour OS is too old, upgrade to linux today for glorious $0 and dozens of hours of time spent installing!‚Äù
[20:16:28] <brson> WindowsBunny: what do you mean 'signed with a publisher'? the bins are all signed
[20:16:36] <brson> something windows-specific?
[20:16:59] <WindowsBunny> brson: one sec, I'll get you a screenshot of what I mean
[20:17:48] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[20:17:48] *** ChanServ sets mode: +o pcwalton
[20:20:30] *** Joins: mib_wfvi57 (Mibbit@moz-5s6.4ot.198.66.IP)
[20:20:55] *** Quits: mib_wfvi57 (Mibbit@moz-5s6.4ot.198.66.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:00] <WindowsBunny> brson: http://i.imgur.com/KKZfYaP.png
[20:23:26] <brson> ah yes. thanks
[20:25:24] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[20:29:33] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[20:30:44] *** Quits: arielb1 (Ariel@moz-c38kqg.red.bezeqint.net) (Quit: Ex-Chat)
[20:39:50] <jroesch> has anyone dealt with that annoying build warning?
[20:41:40] *** Joins: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP)
[20:50:59] <WindowsBunny> smoke testing rust 1.1.0 on winapi
[20:52:13] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:00:26] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:00:57] <WindowsBunny> acrichto: It would be really cool if there was a stable version of black_box in libstd
[21:02:15] *** Quits: Sho (sho@moz-d2i.gd6.28.5.IP) (Quit: Konversation terminated!)
[21:04:05] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[21:04:20] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[21:07:00] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:11:17] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[21:12:44] <WindowsBunny> brson: Is cargo in 1.1 built with optimizations?
[21:12:47] <WindowsBunny> Because it is SLOW
[21:13:26] <WindowsBunny> actually, lemme test how long it takes for cargo to startup before it even invokes anything
[21:14:36] <WindowsBunny> brson: 23 seconds from when I start cargo until it actually does anything when I do `cargo test` inside winapi
[21:14:58] <sp3d> strace it?
[21:15:16] <WindowsBunny> >windows
[21:15:21] <sp3d> there are analogues
[21:15:38] <sp3d> but I'm not an expert, I'd just guess it's in syscalls rather than CPU
[21:15:48] <ytain> http://www.drmemory.org/strace_for_windows.html
[21:16:12] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:16:27] <brson> WindowsBunny: i can't imagine why it wouldn't me. acrichto WindowsBunny says the cargo in 1.1 is abnormally slow
[21:16:39] <brson> i'll try on windows
[21:17:32] <ytain> http://www.rohitab.com/apimonitor
[21:17:48] <brson> i mean, "i'll try on linux"
[21:18:47] <ytain> https://technet.microsoft.com/en-us/sysinternals/bb896645.aspx
[21:22:29] <brson> WindowsBunny: on linux the 1.1 cargo is faster than 1.0
[21:22:30] *** Joins: erickt (erickt@moz-qjp.p2v.204.64.IP)
[21:22:30] *** ChanServ sets mode: +ao erickt erickt
[21:22:56] <brson> i can build iron on 1.0 and 1.1
[21:22:59] <brson> pretty cool
[21:23:12] <huon> nice
[21:24:06] <WindowsBunny> lemme see what cargo is up to with procmon
[21:24:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:25:48] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:26:15] <WindowsBunny> oh gawd
[21:26:17] <WindowsBunny> this is horrifying
[21:26:22] <sp3d> haha D:
[21:26:28] <WindowsBunny> cargo
[21:26:31] <WindowsBunny> wat r u doin
[21:26:56] <WindowsBunny> its doing _so_ many filesystem calls that procmon can't keep up
[21:27:15] <sp3d> figures
[21:27:39] <bstrie> windows' filesystem just got slower, probably
[21:27:54] <WindowsBunny> bstrie: well, while procmon is watching its much slower
[21:28:12] <bstrie> maybe this means that we'll get to release a 1.1.1 with a fixed cargo
[21:28:14] <bstrie> so exciting
[21:28:29] <WindowsBunny> Once this thing is... done, I'll uh compress the results and upload them?
[21:28:30] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[21:31:34] <WindowsBunny> Okay, I'm going to blame this on libgit2
[21:31:46] *** Joins: Kingsquee (kingsley@moz-33q6f3.bchsia.telus.net)
[21:32:00] <WindowsBunny> mostly because it is hitting every single gitattributes that could exist in every single possible location
[21:32:13] *** Quits: Kingsquee (kingsley@moz-33q6f3.bchsia.telus.net) (Quit: Konversation terminated!)
[21:32:19] <huon> does 1.0 cargo do that?
[21:32:35] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[21:33:25] <WindowsBunny> my locally built cargo does not do that at all
[21:33:45] <WindowsBunny> my locally built cargo also has --enable-optimize
[21:33:54] <WindowsBunny> which is why I'm wondering if maybe the release cargo doesn't
[21:33:58] <huon> surely optimisations won't remove syscalls
[21:34:09] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:34:18] <WindowsBunny> huon: I don't know if its slow due to the syscalls or just slow due to being slow
[21:34:24] *** Parts: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) ("Leaving")
[21:34:32] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[21:34:32] *** ChanServ sets mode: +o huon
[21:34:36] <WindowsBunny> lemme update my locally built cargo to the exact version that the release uses
[21:34:37] <huon> whoops
[21:34:38] <sp3d> can you get system vs. user times for an uninstrumented run?
[21:35:02] <huon> WindowsBunny: "does 1.0 cargo do that" was trying to dig into a comparison in the syscall behaviour
[21:35:05] *** Joins: arielb1 (Ariel@moz-c38kqg.red.bezeqint.net)
[21:35:10] <WindowsBunny> huon: oh, I don't know
[21:35:13] <WindowsBunny> I should check
[21:35:20] <Gankro> huon well optimizing away allocations
[21:35:31] <huon> i.e. if "fast" cargos are doing the same huge stream of syscalls it's probably not the cause
[21:35:38] <Gankro> But that's more like dead code elimination
[21:35:51] <huon> Gankro: not really the same thing
[21:35:53] <WindowsBunny> lemme procmon my own cargo then :D
[21:38:44] <WindowsBunny> huh
[21:38:48] <WindowsBunny> my cargo does a lot less
[21:39:34] <huon> what version?
[21:39:48] <WindowsBunny> my cargo is cargo 0.2.0 (7f810ba 2015-05-03) (built 2015-05-05)
[21:40:02] <WindowsBunny> bad cargo is cargo 0.2.0-nightly (a483581 2015-05-14) (built 2015-05-16)
[21:40:16] <WindowsBunny> Here's the scary log https://mega.co.nz/#!2ZwEQJYI!lLOJ2e-MN0O_Tf9BPqAJoueBMzV3Haxy6gthv2GOrPk
[21:40:48] <WindowsBunny> and here's the nice log https://mega.co.nz/#!OEABAYYb!Nfms9WyJJVwfi8pwVhWujq9bqWk0b7Bf4nbal645-os
[21:41:25] <nagisa> file size is a nice summary lol
[21:41:35] <nagisa> don‚Äôt even need to download
[21:41:43] <ytain> http://superuser.com/questions/228056/windows-equivalent-to-unix-time-command
[21:42:17] <WindowsBunny> nagisa: And that's compressed with 7z
[21:43:22] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[21:44:08] <WindowsBunny> the full scary log is half a gig
[21:44:44] <ytain> https://code.google.com/p/time-windows/
[21:46:00] <WindowsBunny> To give you guys an idea of how many calls it is doing
[21:46:06] <WindowsBunny> It is doing this for EACH -sys folder
[21:46:07] <WindowsBunny> http://i.imgur.com/VJNuXqF.png
[21:46:08] *** Joins: mib_tte9tz (Mibbit@moz-4d1.h2b.234.95.IP)
[21:46:43] <WindowsBunny> Why, why do I have to trigger awful behavior in cargo
[21:47:04] <huon> don't you have like 500 dependencies?
[21:47:05] <huon> :P
[21:47:13] *** Quits: mib_tte9tz (Mibbit@moz-4d1.h2b.234.95.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:47:15] <WindowsBunny> huon: 420 -sys crates
[21:47:27] <huon> WindowsBunny: there's your reason
[21:47:43] <WindowsBunny> it works plenty fine with a different cargo version though, doesn't do all those syscalls
[21:47:54] <WindowsBunny> something changed between then and this one to make it do an excessive amount
[21:47:59] <Elaine> with an older cargo version, it's probably a feature.
[21:48:19] <huon> WindowsBunny: can you try a more recent cargo than the 1.1 one?
[21:48:22] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[21:49:23] <brson> this does seem worrying
[21:49:32] <WindowsBunny> Here is the same tdh-sys in the cargo that works fast http://i.imgur.com/khEaCOy.png
[21:50:00] <WindowsBunny> It isn't attempting to hit every single gitattributes file in existance
[21:50:13] <nagisa> a good stress test to add into cargo‚Äôs test suite
[21:50:50] <WindowsBunny> huon: I will update my locally built cargo to the latest master
[21:52:47] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[21:52:50] <WindowsBunny> I mean, I don't know why Cargo needs to scan the Cargo.toml's of other directories when there's already one in the same directory as it
[21:57:08] <acrichto> WindowsBunny: could you try cargo nightly to see if it's still quite slow?
[21:57:29] <acrichto> WindowsBunny: otherwise this may just be https://github.com/rust-lang/cargo/issues/1524
[21:59:51] <WindowsBunny> acrichto: note that the particular slowdown I experience occurred between 05-03 and 05-14, so it isn't as old as that issue
[22:00:08] <acrichto> WindowsBunny: yeah but there's been a good number of optimizations added recently
[22:00:18] *** Quits: erickt (erickt@moz-qjp.p2v.204.64.IP) (Ping timeout: 121 seconds)
[22:01:06] * WindowsBunny tests
[22:02:19] *** Quits: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net) (Quit: Leaving.)
[22:02:39] <WindowsBunny> acrichto: still takes 23 seconds in latest cargo nightly
[22:02:47] <WindowsBunny> cargo 0.3.0-nightly (a2dd2ac 2015-06-24) (built 2015-06-24)
[22:02:48] *** Joins: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net)
[22:02:48] *** Quits: Skyler (Skyler@moz-7ds39s.sd.cox.net) (Client exited)
[22:03:16] <acrichto> WindowsBunny: hmm... do you haev some logs that I could take a peek at?
[22:03:20] <acrichto> (sorry missed a lot of backscroll)
[22:03:30] <acrichto> just to see if I can figure out where the fs calls are coming from
[22:03:33] *** Joins: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com)
[22:03:35] <nagisa> https://mega.co.nz/#!OEABAYYb!Nfms9WyJJVwfi8pwVhWujq9bqWk0b7Bf4nbal645-os
[22:03:36] <acrichto> (or do you know where they're coming from?)
[22:03:42] <brson> acrichto aturon: vec_map::Entry::or_insert/or_insert_with is stable in 1.2 but VecMap is unstable
[22:03:48] *** Joins: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de)
[22:03:50] <nagisa> and https://mega.co.nz/#!2ZwEQJYI!lLOJ2e-MN0O_Tf9BPqAJoueBMzV3Haxy6gthv2GOrPk is the bad one
[22:03:54] <nagisa> previous link is for the good one
[22:04:05] <nagisa> acrichto: ‚Üë
[22:04:27] <WindowsBunny> acrichto: Feel free to compare those two logs, I hope you have a program that can display CSV tables that are half a gig in size
[22:04:42] <acrichto> cool thanks!
[22:05:01] <nagisa> vim is the best tool for everything
[22:05:05] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Client exited)
[22:05:07] *** Quits: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net) (Quit: Leaving.)
[22:05:10] <WindowsBunny> (5:39:54 PM) WindowsBunny: my cargo is cargo 0.2.0 (7f810ba 2015-05-03) (built 2015-05-05) <- runs fast 
[22:05:10] <WindowsBunny> (5:40:09 PM) WindowsBunny: bad cargo is cargo 0.2.0-nightly (a483581 2015-05-14) (built 2015-05-16) <- runs slow
[22:05:47] *** Joins: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net)
[22:06:46] <WindowsBunny> acrichto: specifically it occurs only when I do cargo test
[22:06:48] <WindowsBunny> cargo build is fine
[22:08:11] <acrichto> WindowsBunny: this is for winapi?
[22:08:12] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[22:08:37] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[22:08:39] <WindowsBunny> yep
[22:09:04] <acrichto> ok cool
[22:09:11] <WindowsBunny> the crate that loves to break everything :P
[22:11:14] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[22:11:25] *** Joins: Skyler (Skyler@moz-7ds39s.sd.cox.net)
[22:13:36] *** Quits: arielb1 (Ariel@moz-c38kqg.red.bezeqint.net) (Connection closed)
[22:13:44] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[22:17:12] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[22:17:12] *** ChanServ sets mode: +o pcwalton
[22:18:58] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:18:58] *** ChanServ sets mode: +ao erickt erickt
[22:19:18] *** Quits: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:19:18] *** kimundi is now known as zz_kimundi
[22:19:37] *** Quits: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com) (A TLS packet with unexpected length was received.)
[22:25:51] *** Quits: waffles (wafflespean@moz-dsq.2ti.22.1.IP) (Quit: C'yall soon...)
[22:25:58] <WindowsBunny> Anyway, other than cargo being slow, rust 1.1.0 seems to pass my smoke test
[22:27:01] <brson> WindowsBunny: thank you for investigating
[22:27:11] <brson> are we ok releasing 1.1 with this regression?
[22:32:57] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[22:34:51] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:38:06] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[22:38:31] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[22:39:03] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[22:46:31] *** Quits: dgrunwald (Daniel@moz-i0hf1d.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[22:51:00] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[22:55:27] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[23:02:32] <brson> acrichto: what is the stable use case for debug builders if stable rust can't write syntax extensions? is it for syntex-like code generators?
[23:03:32] <WindowsBunny> brson: people sometimes use debug builders to provide custom Debug impls easily?
[23:05:58] <brson> oh, duh
[23:06:10] <brson> Debug can be written by hand
[23:06:28] <bluss> I think the single most useful feature is that debug builders added the pretty-printed # alternate formatting
[23:07:06] <WindowsBunny> which impls that don't use the debug builders don't easily get
[23:07:07] <bluss> godsend when trying to read big debug dumped structs
[23:07:24] <bluss> WindowsBunny: yeah but all the derived impls have it
[23:07:27] <bluss> so it's nice
[23:07:31] *** Joins: yjv__ (yjv@moz-j0cdis.fios.verizon.net)
[23:08:06] *** Quits: yjv__ (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[23:08:44] <bluss> true, the alternate flag is not stable or even exposed
[23:10:06] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[23:10:16] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[23:10:53] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[23:11:29] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:13:08] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[23:16:32] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[23:16:57] <acrichto> brson: debug builders?
[23:17:26] <brson> acrichto: Formatter::debug_*
[23:18:00] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[23:18:29] *** Quits: yjv_ (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[23:19:22] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[23:20:41] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[23:21:30] <acrichto> brson: oh nah it's meant for manual Debug implementations
[23:21:34] <acrichto> to get nice output with :#?
[23:22:03] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[23:26:33] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[23:27:06] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[23:30:47] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:31:07] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[23:35:18] *** Quits: eibwen (eibwen@moz-ugjr25.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:35:50] <brson> acrichto SimonSapin: here's the issue to remove to_titlecase https://github.com/rust-lang/rust/issues/26555
[23:37:02] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[23:38:19] *** Quits: ytain (ytain@moz-oj7n49.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:38:28] <acrichto> WindowsBunny: hm ok, so in the range of cargos I think the most relevant change is this one: https://github.com/rust-lang/cargo/pull/1584
[23:38:35] <acrichto> in terms of impact on fs calls
[23:39:28] <acrichto> brson: thanks!
[23:40:06] <acrichto> WindowsBunny: is it possible to get backtraces on all the syscalls you recorded?
[23:40:11] <acrichto> WindowsBunny: or just run a profiler actually
[23:41:56] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:44:40] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[23:46:07] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[23:46:58] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[23:47:42] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[23:50:01] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[23:51:09] <WindowsBunny> acrichto: hmm, it seems that when I've done a git commit so theres no untracked changes, cargo is starting up a lot faster
[23:51:10] <WindowsBunny> this is weird
[23:51:34] <WindowsBunny> 5 seconds instead of 23
[23:53:23] <WindowsBunny> oh yeah, I think its connected to their being dirty changes in subdirectories
[23:53:38] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[23:54:03] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Connection closed)
[23:54:20] <acrichto> WindowsBunny: determining there are no untracked files though may be an expensive operation
[23:54:29] <acrichto> (not entirely sure)
[23:54:37] <WindowsBunny> acrichto: even git gui doesn't take that long
[23:55:01] <acrichto> yeah it could just be libgit2's implementation
[23:55:06] <WindowsBunny> git status or rescan in the gui takes about 1 second
[23:55:07] <acrichto> it's weird that it's probing for gitattributes so often
[23:56:16] <WindowsBunny> acrichto: Just modifying any file in the lib directory of winapi causes cargo test to be slow
[23:56:34] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[23:57:21] <WindowsBunny> yep, if there is a dirty file there, it takes 23 seconds instead of 5 seconds
[23:57:39] <acrichto> WindowsBunny: hm
[23:58:08] <acrichto> is there an easy way to profile code on windows?
[23:59:41] <WindowsBunny> acrichto: I will attempt to use codexl
[23:59:48] <WindowsBunny> assuming it doesn't crash (which it likes to do)
[23:59:56] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
