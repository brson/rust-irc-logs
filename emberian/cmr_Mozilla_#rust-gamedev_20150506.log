[00:02:25] *** Joins: chris3 (chris@moz-ci61eb.nj.comcast.net)
[00:03:54] *** Quits: chris (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[00:05:03] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[00:05:26] *** Joins: brson (brson@moz-8uhedf.tmodns.net)
[00:05:30] *** Quits: brson (brson@moz-8uhedf.tmodns.net) (Quit: leaving)
[00:09:10] *** Joins: dr_bibble (Mibbit@moz-r8mp5s.jcvlfl.sbcglobal.net)
[00:09:15] <dr_bibble> Eyyyy
[00:09:19] <dr_bibble> anyone there?
[00:14:04] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:15:01] *** Quits: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[00:17:29] *** Quits: dr_bibble (Mibbit@moz-r8mp5s.jcvlfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:18:34] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[00:21:15] *** Joins: orangeshark (erik@moz-74lqvs.44tj.56ot.0306.2602.IP)
[00:34:02] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:35:02] <RC9> i am
[00:35:06] <RC9> though im probably not of much use
[00:35:08] <RC9> however...
[00:35:11] <RC9> quick question
[00:35:29] <RC9> is there any sort of font rendering set up for rust
[00:35:52] <RC9> im coming to a maintenance state on a smaller project and am looking for something suitably masochistic
[00:35:59] <RC9> in the spirit of learning rust
[00:36:03] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[00:36:16] <ytain> try freetype
[00:36:18] <kvark> stjahns: ping
[00:36:26] <aatch> RC9, there is some work here and there. Mostly using bindings to libfreetype
[00:37:06] <RC9> a pure rust font renderer may be over my head but i think ill look at just how over my head it might be
[00:37:11] <aatch> RC9, if you want to be really masochistic and try a pure-Rust solution, the guys over at #servo would probably love you.
[00:37:19] <RC9> haha
[00:37:48] <RC9> if nothing else i can learn how to do bindings and work on the libfreetype ones ¯\_(ツ)_/¯
[00:45:04] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[00:50:48] *** Joins: Rusky (russell@moz-vn1e9f.slkc.qwest.net)
[00:51:47] <kvark> how do I do multi-line string constants properly?
[00:52:12] *** Joins: Bira (Bira@moz-sq6.nc4.106.187.IP)
[00:53:28] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[00:53:31] <ytain> RC9 https://github.com/PistonDevelopers/freetype-rs
[00:55:18] <WindowsBunny> RC9: If you want, you can try setting up a cross platform library that uses freetype elsewhere, and directwrite on windows :D
[00:55:29] <WindowsBunny> that should be suitably masochistic
[00:56:50] <RC9> sounds about my style
[00:57:06] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[00:57:55] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:58:10] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[00:59:09] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:02:14] *** Joins: SHC (quassel@moz-v8t.cgs.204.117.IP)
[01:08:17] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[01:12:42] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[01:16:05] *** Joins: Guest74 (textual@moz-7ai.1eq.237.96.IP)
[01:20:41] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:22:46] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:24:05] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:25:09] <stjahns> hey kvark, sup?
[01:28:51] <kvark> stjahns: wanted to ask if there is a screen-space text drawing
[01:29:01] <kvark> found it's a part of gfx-debug-draw
[01:29:18] <kvark> also, I wanted to try out dev_menu and figured it requires piston events
[01:29:36] <kvark> not a big deal, but I don't think it plays well with Canvas at the moment
[01:31:58] <stjahns> hmm, I didn't notice any problems with canvas, i'll do an update and see if I run into anything..
[01:32:30] <RC9> aww servo doesnt have build targets to windows :( no crossplatform web browser work for me...
[01:32:42] <RC9> still gotta look at freetype-rs though
[01:33:42] <kvark> stjahns: canvas owns the window, so does piston-window. Unless I missed something, they can't be used together
[01:34:35] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:35:02] <stjahns> right, and doesn't piston-window own canvas?
[01:36:12] <stjahns> kvark: https://github.com/stjahns/skeletal_animation_demo/blob/master/src/main.rs#L58
[01:36:29] <kvark> oh, that's the new window
[01:36:31] <kvark> I forgot
[01:36:35] <stjahns> ah, :)
[01:36:47] <kvark> should be easy to integrate with then
[01:36:58] <stjahns> sweet
[01:40:59] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[01:41:10] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[01:42:00] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[01:44:04] <WindowsBunny> RC9: Maybe you could work on making servo work on Windows? :D
[01:44:20] <WindowsBunny> RC9: That should be plenty masochistic
[01:49:17] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[01:49:36] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:51:10] <RC9> haha
[01:51:10] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[01:51:12] <RC9> i might look at it
[01:51:16] *** Quits: Bira (Bira@moz-sq6.nc4.106.187.IP) (Quit: Leaving...)
[01:51:25] <RC9> problem being that i wouldnt even know where to start
[01:51:31] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[01:51:32] <RC9> i guess clone, compile, start tackling errors?
[01:51:41] <RC9> well, fork first
[01:53:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[01:53:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[01:56:44] <WindowsBunny> RC9: You'll most likely have to figure out the dependencies first
[01:57:04] <WindowsBunny> RC9: And I'm always here for moral support and Windows consulting
[01:58:50] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[01:59:42] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[02:00:19] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:00:32] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[02:01:29] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:02:22] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[02:04:08] *** Joins: davebettin (davebettin@moz-n59707.bhak.dqhm.0007.2601.IP)
[02:05:33] <RC9> well now that im not going it alone
[02:05:36] <RC9> excelsior!!!!
[02:06:52] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[02:08:21] *** Quits: davebettin (davebettin@moz-n59707.bhak.dqhm.0007.2601.IP) (Quit: Leaving)
[02:10:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:14:23] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[02:16:02] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:16:10] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:16:37] <RC9> windowsbunny: after all i need an excuse not to write this readme
[02:17:11] <WindowsBunny> RC9: But nobody reads readmes anyway
[02:18:35] <RC9> :P
[02:18:38] <RC9> omg
[02:18:50] <RC9> the build that fixes my issue is compiling right now
[02:18:51] <RC9> yaaaaaaay
[02:19:56] <RC9> now my question is, will i be able to download this or do i still have to wait till whatever in the morning like yesterday
[02:21:30] *** Quits: zz_kimundi (kimundi@moz-udrtd0.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:24:04] *** Joins: zz_kimundi (kimundi@moz-136e94.dip0.t-ipconnect.de)
[02:24:05] *** zz_kimundi is now known as kimundi
[02:35:52] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[02:48:06] *** Joins: kazimuth (james@moz-gq4.d17.189.18.IP)
[02:56:34] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[02:56:47] *** Quits: kazimuth (james@moz-gq4.d17.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:58:55] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:01:02] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[03:01:54] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[03:02:39] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:02:51] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[03:04:17] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:07:03] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:07:21] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[03:09:06] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[03:09:27] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:10:26] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[03:12:13] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[03:12:55] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[03:22:10] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[03:22:31] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:26:34] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[03:29:41] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[03:34:00] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[03:45:05] *** Quits: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[03:48:28] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:50:04] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:50:40] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[03:50:52] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:52:46] *** Quits: Guest74 (textual@moz-7ai.1eq.237.96.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:55:12] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[03:59:08] *** Quits: orangeshark (erik@moz-74lqvs.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:01:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[04:01:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[04:04:37] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:05:25] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[04:34:46] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[04:35:27] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:35:42] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[04:36:40] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:40:22] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Connection closed)
[04:44:50] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[04:47:55] *** Joins: Rusky1 (russell@moz-de0fff.slkc.qwest.net)
[04:48:23] *** Quits: Rusky (russell@moz-vn1e9f.slkc.qwest.net) (Ping timeout: 121 seconds)
[04:49:22] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[04:53:41] *** Joins: kazimuth (james@moz-n85.696.189.18.IP)
[04:56:45] *** Quits: tinaun (tinaun@moz-7l08ds.ct.comcast.net) (*.net *.split)
[04:56:45] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (*.net *.split)
[04:56:45] *** Quits: WindowsBunny (Peter@moz-prmara.east.verizon.net) (*.net *.split)
[04:56:45] *** Quits: brackets (brackets@moz-vid.clt.170.107.IP) (*.net *.split)
[04:56:45] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (*.net *.split)
[04:56:45] *** Quits: dg (dg@moz-ca8.tns.243.162.IP) (*.net *.split)
[04:56:45] *** Quits: dormiens (alanjcfs@moz-04u.dnf.241.192.IP) (*.net *.split)
[04:56:45] *** Quits: kazimuth (james@moz-n85.696.189.18.IP) (*.net *.split)
[04:56:45] *** Quits: spacepluk (spacepluk@moz-sbuncd.compute-1.amazonaws.com) (*.net *.split)
[04:56:45] *** Quits: thesunnyk (quassel@moz-it3s0e.com) (*.net *.split)
[04:56:45] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (*.net *.split)
[04:56:45] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[04:56:45] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (*.net *.split)
[04:56:45] *** Quits: Philip (philip@moz-enbh1o.zaynar.co.uk) (*.net *.split)
[04:56:45] *** Quits: Aaron (aaron@moz-em79ik.aaronlindsay.com) (*.net *.split)
[04:56:45] *** Quits: iliekturtles (mike@moz-c7hb0v.me.comcast.net) (*.net *.split)
[04:56:45] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (*.net *.split)
[04:56:45] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (*.net *.split)
[04:56:45] *** Quits: jdboyd (jdboyd@moz-6racg9.eph2.ptd.net) (*.net *.split)
[04:56:45] *** Quits: mmun (mmun@moz-iar.moo.170.107.IP) (*.net *.split)
[04:56:45] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (*.net *.split)
[04:56:45] *** Quits: Rusky1 (russell@moz-de0fff.slkc.qwest.net) (*.net *.split)
[04:56:45] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (*.net *.split)
[04:56:45] *** Quits: rAad (dave@moz-t7r.7k1.236.104.IP) (*.net *.split)
[04:56:45] *** Quits: dustinm (dustinm@moz-9ms.n6q.68.208.IP) (*.net *.split)
[04:56:45] *** Quits: crespyl (crespyl@moz-i7l5g6.members.linode.com) (*.net *.split)
[04:56:45] *** Quits: Esption (Esption@moz-3gitvr.dynamic.tds.net) (*.net *.split)
[04:56:45] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (*.net *.split)
[04:56:45] *** Quits: lahwran (lahwran@lahwran.net) (*.net *.split)
[04:56:45] *** Quits: Comradephate (Comradephat@moz-450166.compute-1.amazonaws.com) (*.net *.split)
[04:56:45] *** Quits: shaw (shaw@moz-dsic97.members.linode.com) (*.net *.split)
[04:56:45] *** Quits: Cathy (Cathy@moz-42tgij.bc.googleusercontent.com) (*.net *.split)
[04:56:45] *** Quits: brandonw (brandonw@moz-36sv6k.ma.charter.com) (*.net *.split)
[04:56:45] *** Quits: chris3 (chris@moz-ci61eb.nj.comcast.net) (*.net *.split)
[04:56:45] *** Quits: k1i (k1i@moz-moheke.k1.io) (*.net *.split)
[04:56:45] *** Quits: awe (awe@moz-vpr.va5.236.104.IP) (*.net *.split)
[04:56:45] *** Quits: rdn (rdn@moz-729acq.tk) (*.net *.split)
[04:56:45] *** Quits: bodie (bodie@moz-vs7.tk8.243.162.IP) (*.net *.split)
[04:56:45] *** Quits: pingveno (alevar@moz-v9m50e.members.linode.com) (*.net *.split)
[04:56:45] *** Quits: bstrie (ben@moz-avu3ju.members.linode.com) (*.net *.split)
[04:56:45] *** Quits: libfud (libfud@moz-p2rb38.eph2.ptd.net) (*.net *.split)
[04:56:45] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (*.net *.split)
[04:57:05] *** Joins: shaw (shaw@moz-dsic97.members.linode.com)
[04:57:05] *** Joins: rdn (rdn@moz-729acq.tk)
[04:57:05] *** Joins: dg (dg@moz-ca8.tns.243.162.IP)
[04:57:05] *** Joins: brandonw (brandonw@moz-36sv6k.ma.charter.com)
[04:57:05] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[04:57:05] *** Joins: Comradephate (Comradephat@moz-450166.compute-1.amazonaws.com)
[04:57:05] *** Joins: lahwran (lahwran@lahwran.net)
[04:57:05] *** Joins: brackets (brackets@moz-vid.clt.170.107.IP)
[04:57:05] *** Joins: bodie (bodie@moz-vs7.tk8.243.162.IP)
[04:57:05] *** Joins: awe (awe@moz-vpr.va5.236.104.IP)
[04:57:05] *** Joins: Cathy (Cathy@moz-42tgij.bc.googleusercontent.com)
[04:57:05] *** Joins: spacepluk (spacepluk@moz-sbuncd.compute-1.amazonaws.com)
[04:57:05] *** Joins: mmun (mmun@moz-iar.moo.170.107.IP)
[04:57:05] *** Joins: k1i (k1i@moz-moheke.k1.io)
[04:57:05] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[04:57:05] *** Joins: Rusky1 (russell@moz-de0fff.slkc.qwest.net)
[04:57:05] *** Joins: jdboyd (jdboyd@moz-6racg9.eph2.ptd.net)
[04:57:05] *** Joins: thesunnyk (quassel@moz-it3s0e.com)
[04:57:05] *** Joins: dustinm (dustinm@moz-9ms.n6q.68.208.IP)
[04:57:05] *** Joins: tinaun (tinaun@moz-7l08ds.ct.comcast.net)
[04:57:05] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[04:57:05] *** Joins: bstrie (ben@moz-avu3ju.members.linode.com)
[04:57:05] *** Joins: Philip (philip@moz-enbh1o.zaynar.co.uk)
[04:57:05] *** Joins: rAad (dave@moz-t7r.7k1.236.104.IP)
[04:57:05] *** Joins: crespyl (crespyl@moz-i7l5g6.members.linode.com)
[04:57:05] *** Joins: Aaron (aaron@moz-em79ik.aaronlindsay.com)
[04:57:05] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[04:57:05] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[04:57:05] *** Joins: kazimuth (james@moz-n85.696.189.18.IP)
[04:57:05] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[04:57:05] *** Joins: saml (saml@moz-0pt9vd.cst.lightpath.net)
[04:57:05] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[04:57:05] *** Joins: dormiens (alanjcfs@moz-04u.dnf.241.192.IP)
[04:57:05] *** Joins: pingveno (alevar@moz-v9m50e.members.linode.com)
[04:57:05] *** Joins: Esption (Esption@moz-3gitvr.dynamic.tds.net)
[04:57:05] *** Joins: WindowsBunny (Peter@moz-prmara.east.verizon.net)
[04:57:05] *** Joins: chris3 (chris@moz-ci61eb.nj.comcast.net)
[04:57:05] *** Joins: libfud (libfud@moz-p2rb38.eph2.ptd.net)
[04:57:05] *** Joins: iliekturtles (mike@moz-c7hb0v.me.comcast.net)
[04:57:05] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[04:57:05] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[04:57:05] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[04:57:19] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Connection closed)
[05:02:43] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:21:48] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Ping timeout: 121 seconds)
[05:22:02] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: leaving)
[05:22:04] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:23:35] *** Joins: davebettin (davebettin@moz-n59707.bhak.dqhm.0007.2601.IP)
[05:24:20] *** Quits: davebettin (davebettin@moz-n59707.bhak.dqhm.0007.2601.IP) (Quit: Leaving)
[05:34:00] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[05:34:04] *** Quits: O01eg (o01eg@moz-bgq.20h.212.176.IP) (Client exited)
[05:36:41] *** Quits: kazimuth (james@moz-n85.696.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:37:13] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[05:37:49] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:37:53] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[05:39:00] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[05:39:03] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:42:38] *** Joins: mindtree (Mitch@moz-f2f9gh.iprimus.net.au)
[05:43:29] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[05:48:44] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[05:53:27] *** Quits: mindtree (Mitch@moz-f2f9gh.iprimus.net.au) (Quit: leaving)
[05:53:46] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[05:56:48] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:01:20] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[06:02:54] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[06:04:17] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[06:04:50] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[06:05:36] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[06:07:10] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:12:48] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[06:13:09] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[06:16:14] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:24:00] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[06:26:29] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:32:06] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:33:16] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[06:36:55] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:37:17] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:37:24] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:37:39] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[06:39:23] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[06:40:12] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:40:23] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[06:41:21] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:45:57] <tomaka> WindowsBunny: does windows have an API that just loads fonts and allows one to inspect them?
[06:46:09] <tomaka> because all I found for the moment is drawing to an HDC
[06:46:15] <tomaka> which would be a bit painful to deal with
[06:47:08] *** Joins: m104ru (m104ru@moz-sje.6lq.205.109.IP)
[06:49:15] <tomaka> WindowsBunny: the idea would be to use win32's API on win32, and freetype on other platforms
[06:49:32] *** Rusky1 is now known as Rusky
[06:50:12] <fkaa> mtsr: https://github.com/RichieSams/FiberTaskingLib
[06:50:16] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:50:21] <WindowsBunny> tomaka: I really need to try using DirectWrite myself
[06:51:11] <WindowsBunny> tomaka: https://msdn.microsoft.com/en-us/library/dd162620%28v=vs.85%29.aspx
[06:51:21] <WindowsBunny> tomaka: That lets you inspect all the fonts there are available
[06:52:20] <tomaka> But when you load a font, can you enumerate the list of glyps?
[06:52:30] <tomaka> and then put an individual glyph into a buffer?
[06:52:49] *** Joins: dustinm` (dustinm@moz-es6jb7.ip-167-114-152.net)
[06:53:17] <tomaka> I guess you'd have to use "DrawText" and create some sort of in-memory HDC
[06:54:00] <tomaka> but even then, can't find how to get the list of glyphs
[06:54:24] *** Joins: twipeD (wipeD@moz-467u0a.dip0.t-ipconnect.de)
[06:54:40] <WindowsBunny> tomaka: GetFontUnicodeRanges
[06:55:04] <tomaka> ah!
[06:56:17] <WindowsBunny> tomaka: Really it's more recommended to have win32 draw all the text at once rather than doing it yourself glyph by glyph
[06:56:42] <WindowsBunny> tomaka: and you can call GetGlyphOutline to get a bitmap for a given glyph
[06:56:54] <WindowsBunny> and GetKerningPairs to get kerning stuff
[06:56:57] <tomaka> The idea is to use OpenGL for font rendering
[06:57:20] <tomaka> if your text is not totally straight, you have to use OpenGL anyway
[06:57:46] <tomaka> even if it is, I don't think it's a good idea to draw over a window that uses OpenGL
[06:57:53] <WindowsBunny> hmmmm
[06:58:03] <WindowsBunny> you can even get the glyph outline is.... a cubic bezier spline?
[06:58:32] <tomaka> yeah it's the "outline or bitmap"
[06:58:46] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Quit: Bye)
[06:58:48] <tomaka> it's probably the raw data more or less
[06:58:49] <WindowsBunny> GGO_BEZIER + GGO_UNHINTED if you really want high quality not straight text
[06:59:04] <tomaka> ahhh, you can choose what you want
[06:59:11] <tomaka> duh
[06:59:15] <tomaka> I should read sometimes
[06:59:33] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[07:00:15] <WindowsBunny> tomaka: Just go through the list of functions, and read the description of each
[07:00:21] <WindowsBunny> and take notes on which sound useful
[07:00:41] <tomaka> yeah I thought it returned what was inside the font file
[07:00:44] <WindowsBunny> Eventually you'll figure out what you want, and then you can yell at me to bind them
[07:00:45] <tomaka> without converting it
[07:04:10] *** Quits: SHC (quassel@moz-v8t.cgs.204.117.IP) (Ping timeout: 121 seconds)
[07:04:25] *** Joins: SHC (quassel@moz-v8t.cgs.204.117.IP)
[07:05:20] *** Quits: m104ru (m104ru@moz-sje.6lq.205.109.IP) (Ping timeout: 121 seconds)
[07:05:38] <WindowsBunny> tomaka: Don't forget to listen to WM_FONTCHANGE in case any fonts get added or removed while the program is running
[07:13:18] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[07:15:58] <Lilly> Hello
[07:16:52] <Lilly> https://gfycat.com/ScornfulNeatHarrierhawk :)
[07:17:07] <Lilly> is there any easy way to like
[07:17:15] <Lilly> interpolate edges? or something
[07:17:23] <Lilly> smooth it out
[07:22:30] <tomaka> smooth the edges?
[07:22:36] <Lilly> yeah
[07:23:10] <tomaka> it looks like each quad has the same lightning
[07:23:52] <tomaka> each vertex should have a normal
[07:24:16] <tomaka> so that in the fragment shader, each pixel has a different normal than the pixel near it
[07:24:32] <tomaka> hmm
[07:24:40] <tomaka> if you didn't understand, just show us your code
[07:25:09] <Lilly> is shader code enough?
[07:25:22] <tomaka> hmm, perhaps
[07:25:49] <aatch> Should give us enough to say whether you're on the right track.
[07:25:50] <tomaka> how are you calculating the normals?
[07:25:59] <Lilly> http://pastebin.com/APwpYZS7
[07:26:18] <tomaka> "// I have no fucking clue how this works, I just copy-pasted it" :D
[07:26:41] <Lilly> I just get the normal in the vertex shader, multiply by model matrix, and then output it to frag shader
[07:26:44] <Lilly> tomaka: :D
[07:26:55] <Lilly> that beautiful for loop
[07:27:17] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[07:27:54] <tomaka> maybe your .obj doesn't have normals
[07:28:12] <Lilly> i checked "Output normals" when exporting in blender
[07:28:21] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:28:32] <tomaka> you can open the .obj with a regular text editor
[07:28:38] <tomaka> does it have lines that start with "vn"?
[07:29:32] <aatch> Lilly, is it smooth-shaded in blender?
[07:29:57] <Lilly> tomaka: no they start with v
[07:30:04] <Lilly> aatch: no
[07:30:05] <Lilly> oh
[07:30:11] <Lilly> that's probably why then?
[07:30:30] <tomaka> some lines should start with "v" and others with "vn"
[07:30:36] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[07:30:46] <tomaka> you should have like 1000 lines taht stat with "v" followed by 1000 lines that start with "vn"
[07:31:01] <Lilly> there are like 
[07:31:05] <tomaka> if there are none, then you didn't export it correctly
[07:31:10] <Lilly> half vn lines compared to v lines
[07:31:23] <Lilly> and then 5 times as many lines starting with f
[07:31:25] <tomaka> ah, that's unexpected
[07:31:40] <tomaka> but it doesn't mean it's wrong
[07:31:45] <tomaka> could be correct too
[07:31:49] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[07:31:53] <tomaka> however you should still take a look at what you did in blender
[07:32:17] <Lilly> i've completely forgotten everything in blender
[07:32:24] <Lilly> i did some stuff a month or two ago
[07:32:51] <Lilly> http://i.imgur.com/QuGaGw8.png
[07:33:15] <tomaka> by the way, lines 90 and 91 of your pastebin should probably be done outside of the shader
[07:34:12] <Lilly> oh ok
[07:34:30] <Lilly> i was thinking it was easier to send t to the shader and update the matrix in there
[07:34:33] <tomaka> you're supposed to rebuild your model and view matrices inside the main loop
[07:34:34] <Lilly> but maybe i'm wrong
[07:34:46] <tomaka> well it's easier, but that's not how we usually do it
[07:34:47] <Lilly> ok
[07:34:51] <Lilly> gotcha
[07:35:26] <Lilly> oh there was a "shading: smooth/flat" button in blender, i'm gonna try reexporting
[07:35:31] <aatch> Lilly, basically, the way you have it means the rotation portion of the matrix is recalculated for every vertex in the model.
[07:36:01] <Lilly> aatch: oooh yeah
[07:36:13] <Lilly> but if i just update the uniform i only do it once per frame?
[07:36:59] <Lilly> aww, now the function that loads the obj file hits the unimplemented!()
[07:37:00] <tomaka> if you do it in rust, it's only done once
[07:37:07] <Lilly> the only part i don't understand
[07:37:09] <Lilly> ;__;
[07:37:19] <tomaka> hmm
[07:37:54] <tomaka> "shape" can be either a triangle or a quad
[07:37:58] <tomaka> looks like blender exported quads
[07:38:15] <Lilly> forgot to check triangulate faces...
[07:39:34] <Lilly> does cgmath have a rotate method for matrices?
[07:39:55] <tomaka> yeah
[07:40:08] <Lilly> what is it called? i can't find it
[07:40:12] <tomaka> yeah
[07:40:15] * tomaka is helful
[07:40:17] <tomaka> helpful*
[07:40:18] <Lilly> :D
[07:40:35] <tomaka> IIRC there's something like a "Rotation3"
[07:40:43] <tomaka> and then you do "into_matrix" or something
[07:40:53] *** Joins: mindtree (Mitch@moz-356.4j6.134.203.IP)
[07:41:36] <Lilly> there's to_matrix3 and to_quaternion
[07:41:54] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[07:42:30] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:42:41] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[07:43:41] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:44:18] <Lilly> do i just multiply my model matrix with the rotation matrix?
[07:44:22] <Lilly> or is that wrong
[07:44:31] <Lilly> no wait
[07:44:39] <Lilly> i multiply it by the identity?
[07:45:12] <aatch> Lilly, so your model matrix in this case *is* your rotation matrix.
[07:45:16] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[07:45:32] <Lilly> aatch: yeah but my rotation matrix is 3x3 and not 4x4 ;_;
[07:45:48] <tomaka> Lilly: you can use Matrix3::from_angle (there are several methods), then .to_matrix4()
[07:46:09] <Lilly> tomaka: nice! thanks
[07:46:40] <tomaka> the reason why we have 4x4 matrices is because of translations and perspective correction
[07:46:50] <tomaka> rotations and rescales can be represented by 3x3 matrices
[07:46:51] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:48:50] <tomaka> ah and line 175 of your pastebin
[07:48:58] <tomaka> you clear the depth buffer with the value 100.0
[07:49:01] <tomaka> but 1.0 is the maximum
[07:49:52] <tomaka> it doesn't actually write 1.0 in the buffer
[07:50:06] <tomaka> if you pass 1.0 and your depth buffer is 24 bits for example, it will write 0xffffff
[07:51:53] <Lilly> tomaka: ooh
[07:53:07] <Lilly> i can't get the from_angle_y to work and i have no clue why
[07:53:17] <Lilly> it expects a Rad(t)
[07:53:30] <Lilly> but no matter what I try i can't seem to construct a Rad
[07:53:56] <Lilly> expected `cgmath::angle::Rad<_>`,
[07:53:56] <Lilly>     found `f32`
[07:54:02] <Lilly> "ok", I say
[07:54:17] <tomaka> what about Rad { s: 0.0 }  ?
[07:54:26] <Lilly> wait
[07:54:36] <Lilly> it's not a tuple struct
[07:54:38] <Lilly> ...
[07:54:52] <aatch> There's a `rad` function in the top of the cgmath crate
[07:55:13] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[07:55:37] <Lilly> ok
[07:56:25] <Lilly> shiny!
[07:56:46] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[07:57:27] <Lilly> https://gfycat.com/VastMemorableGlassfrog
[07:57:32] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[07:58:21] <Lilly> thanks everyone!!
[07:58:35] <tomaka> you can now write Crysis 4
[07:58:40] <Lilly> literally
[07:58:53] <tomaka> or Crysis 5? I don't know which one is the latest
[07:58:58] <Lilly> me neither
[07:59:18] <Lilly> this is so cool though
[07:59:41] <Lilly> even though i only have a spinning torus
[08:00:00] <Lilly> tomaka: i don't seem to be crashing when i unfocus and focus today
[08:00:56] <Lilly> i was thinking about bumpmapping and such
[08:01:16] <Lilly> is that just the frag shader modifying the normals based on a texture?
[08:01:30] <aatch> Lilly, pretty much, yeah.
[08:01:33] <Lilly> wow
[08:01:48] <Lilly> and i've always been baffled at how it seems like magic
[08:01:57] <Lilly> fucking normals man, cool stuff
[08:02:20] <Lilly> no i will start seeing normals everywhere
[08:02:23] <Lilly> now*
[08:02:46] <aatch> Though normal maps seem more common. Basically you have a texture that *is* the normals, not just a modification of them.
[08:02:53] <Lilly> aah
[08:02:55] <Lilly> right
[08:03:11] <Lilly> how does that work for something that isn't flat though?
[08:03:11] <aatch> At least, I *think* that's what it is.
[08:03:28] <Lilly> you'd have to like
[08:03:33] <Lilly> blend the normals or something
[08:03:39] <tomaka> blender takes care of that
[08:03:53] <Lilly> nice
[08:04:00] <tomaka> instead of calculating the normal of each vertex, plus a texture that's modify the normals
[08:04:06] <tomaka> it'd directly put the values in the texture
[08:04:12] <Lilly> neat!
[08:04:13] <tomaka> it's not difficult for it
[08:04:47] <Lilly> i feel like when you learn a magicians trick
[08:05:46] <aatch> My best breakthrough was figuring out to use a normal map to create a seamless opening in a sphere.
[08:05:55] <aatch> how to use*
[08:08:05] <aatch> As in, have a patch of the sphere move to create a hole, but be invisible until it did.
[08:10:10] <Lilly> yeah that's still magic
[08:17:11] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:21:26] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[08:25:58] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[08:29:31] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[08:29:38] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:32:06] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[08:43:12] *** Quits: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl) (Quit: .)
[08:43:37] *** Quits: stl (stl@moz-r3l6lh.broadband.corbina.ru) (Ping timeout: 121 seconds)
[08:44:15] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[08:44:51] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:45:02] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[08:46:01] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:46:29] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[08:53:33] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:54:05] *** Joins: stl (stl@moz-fg4.kee.15.176.IP)
[09:01:33] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[09:02:03] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[09:03:24] *** chris3 is now known as scape
[09:03:33] <scape> any one good at git? :(
[09:03:43] <fmtq> git reset --hard 
[09:03:50] <scape> done and done
[09:04:36] <tomaka> I don't think anyone knows git better than google
[09:05:41] <tomaka> even torvalds probably googles his problems with git
[09:06:16] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[09:08:24] <scape> hah
[09:09:01] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:12:23] <WindowsBunny> I'm competent with git
[09:12:49] <WindowsBunny> I'm able to dig myself out of my own holes, but I'm not an expert
[09:14:39] <scape> i think i figured it out, the steps on github really screwed me up lol
[09:15:29] <scape> ended up resetting hard to a commit and then branching. which looks ok now. now to bring this branch as master-- maybe i should have just recloned this thing 
[09:15:57] <fmtq> haha wait so my advice was useful?
[09:16:06] <fmtq> "Take at it with a knife until it behaves"
[09:17:09] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[09:17:17] <scape> yes, "git: bitch and moan until you reset" :D
[09:18:05] <WindowsBunny> recloning is a sign of weakness
[09:19:13] <scape> hah
[09:21:20] *** Quits: SHC (quassel@moz-v8t.cgs.204.117.IP) (Ping timeout: 121 seconds)
[09:21:39] *** Joins: SHC (quassel@moz-0pn.38u.204.117.IP)
[09:24:44] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[09:27:27] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[09:29:04] *** Quits: SHC (quassel@moz-0pn.38u.204.117.IP) (Ping timeout: 121 seconds)
[09:30:17] *** Joins: SHC (quassel@moz-llo.9df.93.59.IP)
[09:33:47] *** kimundi is now known as zz_kimundi
[09:38:06] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:42:51] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[09:47:44] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[09:52:55] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:57:55] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:59:32] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[10:00:00] <FreeFull> rebase fixes everything
[10:03:51] *** zz_kimundi is now known as kimundi
[10:05:45] *** Quits: SHC (quassel@moz-llo.9df.93.59.IP) (Ping timeout: 121 seconds)
[10:05:49] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:06:03] *** Joins: SHC (quassel@moz-t6g.9df.93.59.IP)
[10:12:33] *** Joins: mitaa (Mibbit@moz-q4h.s8r.47.62.IP)
[10:18:11] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:20:41] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:22:17] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:23:31] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[10:23:41] *** Quits: mitaa (Mibbit@moz-q4h.s8r.47.62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:27:18] *** kimundi is now known as zz_kimundi
[10:32:58] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:36:28] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[10:37:17] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:38:01] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[10:40:37] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:42:21] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[10:57:36] <mtsr> fkaa: thanks!
[10:58:08] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[10:58:28] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:11:58] *** Quits: SHC (quassel@moz-t6g.9df.93.59.IP) (Ping timeout: 121 seconds)
[11:13:22] *** Joins: SHC (quassel@moz-086.vqu.88.59.IP)
[11:18:03] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[11:18:57] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:21:39] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[11:23:03] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:23:13] *** Joins: eddyb (Mibbit@moz-9pm.kjd.26.188.IP)
[11:23:27] <eddyb> bvssvni_: hey, I updated r3 last night, does it work for you?
[11:24:46] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[11:25:16] *** bvssvni_ is now known as bvssvni
[11:25:24] <bvssvni> eddyb: :)
[11:25:45] <bvssvni> eddyb: updating...
[11:27:10] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[11:28:14] <bvssvni> oh no! I get unicorns on github...
[11:29:27] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:30:23] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[11:31:58] <bvssvni> eddyb: it runs!
[11:32:34] <WindowsBunny> mmm unicorns
[11:33:44] <bvssvni> anybody else get unicorns?
[11:34:34] <huon> https://status.github.com/
[11:34:39] <huon> (yes)
[11:36:14] <eddyb> bvssvni: on OSX?
[11:36:33] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[11:37:15] <eddyb> bvssvni: mindtree's older(?) snapshot might have caused his issues, then. either that or he has a semi-broken install
[11:37:25] <eddyb> s/snapshot/nightly
[11:37:48] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[11:37:49] <bvssvni> eddyb: when I click “Open” I get `couldn't open dialog: Error { repr: Os(2) }`
[11:38:03] <bvssvni> huon: thanks!
[11:38:07] <eddyb> bvssvni: oh, you haven't triggered what was causing the crash for him yet
[11:38:34] <eddyb> bvssvni: echo 'fn main() { println!("Hello World!"); }' > hello.rs; cargo run hello.rs
[11:39:41] <bvssvni> eddyb: it works :D
[11:40:40] <eddyb> try adding let v: Vec<_> = (1..20).map(|x| x.to_string()).collect();
[11:40:46] <eddyb> and hover over parts of that
[11:41:06] <eddyb> lol, AppleScript, really? https://apple.stackexchange.com/questions/158267/can-i-launch-the-file-save-open-dialog-from-the-command-line
[11:42:23] <bvssvni> eddyb: there is some flickering in r3
[11:42:59] <bvssvni> eddyb: WOW
[11:43:15] <eddyb> oh
[11:43:27] <eddyb> bvssvni: apparently OSX also doesn't have vsync by default
[11:44:03] <eddyb> bvssvni: glutin-window doesn't use .with_vsync() so anything built with piston should have this issue
[11:44:17] <eddyb> maybe it looks worse in r3 because I'm only redrawing sometimes
[11:44:56] <eddyb> on windows I had a local override that called the method to enable vsync... unless R3_VSYNC_OFF or something was set to 1
[11:45:35] <eddyb> (an environment variable at runtime)
[11:45:41] <bvssvni> eddyb: this is so cool!
[11:46:00] <eddyb> bvssvni: you can also hover on lines with errors or warnings
[11:46:20] <eddyb> (I needed a way to switch vsync off because VirtualBox doesn't support the function glutin is using)
[11:46:48] <bvssvni> eddyb: I just added vsync option to WindowSettings
[11:47:33] <eddyb> well, thanks, but I'm transitioning away from piston
[11:47:44] <bvssvni> eddyb: why?
[11:48:01] <eddyb> there's things I want that a framework would have a hard time bending over for
[11:48:19] <bvssvni> eddyb: which things?
[11:48:30] <bvssvni> s/which/what
[11:48:49] <eddyb> I want/need to be able to mess with the shaders at will, optimize them for my specific usecase (mostly drawing rectangles, some of the rounded)
[11:49:09] <eddyb> also at least same-codepage "accelerated" text rendering
[11:49:32] <bvssvni> eddyb: oh, you mean piston-graphics
[11:49:35] <eddyb> that's the reasoning for not using graphics
[11:49:54] <eddyb> the window abstraction, on the other hand... it's dead to me, because I see no alternative to glutin
[11:50:11] <bvssvni> eddyb: haha
[11:50:23] <eddyb> and right now glutin-window and glium-graphics jump through a couple of hoops
[11:51:14] <eddyb> I don't get direct access to the glutin window, easily, there's a bunch of unsafe stuff and I don't get to use the glutin/glium integration
[11:52:08] <eddyb> also, the event model may work for a game, but it's not that great for an application
[11:52:37] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:52:46] <bvssvni> eddyb: those are very generic assumptions
[11:53:24] <eddyb> it's simpler to integrate the renderer tightly with glium, and I don't expect to be using anything other than glutin for windowing and events
[11:53:48] <eddyb> bvssvni: oh, and, it's not trivial to add multiple windows and stuff with the piston model
[11:54:11] <eddyb> the abstractions are cool, but right now they are more trouble than they're worth
[11:54:36] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:55:16] <bvssvni> eddyb: do you plan to use shader accelerated text rendering?
[11:55:51] <eddyb> bvssvni: after I simplify my renderer as much as I can, then I could start abstracting it over OpenGL 1.1 (or just direct framebuffer access), OpenGL 2.1 (yay shaders) and anything newer would likely go through gfx-rs
[11:56:09] <eddyb> but I'm not sure the resulting abstractions would be a good fit for piston
[11:56:21] *** Quits: SHC (quassel@moz-086.vqu.88.59.IP) (Ping timeout: 121 seconds)
[11:56:33] <eddyb> bvssvni: yes, I do. I figured out a few ways that it can be done, last summer, and it's a shame I haven't tested them yet
[11:56:58] <eddyb> until last night, I didn't have direct control over the shaders, but now I could start fiddling with them
[11:57:13] *** Joins: SHC (quassel@moz-5qj.eo2.241.117.IP)
[11:57:29] <bvssvni> eddyb: do you have a way to benchmark or test the performance with piston-graphics vs custom shaders?
[11:57:40] *** Joins: e_svedang (erik@moz-nl3.ldg.228.90.IP)
[11:57:47] <eddyb> I wonder if glassful has been updated. or whether there's something I can borrow from HLSL or Vulkan to write my shaders only once
[11:58:05] <eddyb> bvssvni: I don't have a way to benchmark piston-graphics vs my cannibalized render stuff
[11:58:23] <eddyb> bvssvni: but right now the amount of work is similar
[11:58:56] <eddyb> I can, however, start measuring from now on. the first improvement I can think of is removing all the matrix transformation in triangulation
[11:59:59] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[12:00:13] <eddyb> bvssvni: I bet it's faster to apply this matrix on the GPU side https://github.com/eddyb/r3/blob/master/src/ui/draw.rs#L128-L129
[12:01:23] <eddyb> especially since I don't need a matrix multiply, just two scalar multiplies and two additions
[12:02:27] <bvssvni> eddyb: this stuff is actually slower than using a single buffer https://github.com/eddyb/r3/blob/master/src/ui/draw.rs#L195
[12:02:32] <eddyb> oh, I guess vector multiplies in GLSL are element-wise so I'd do pos * scale + vec2(-1.0, 1.0)
[12:02:51] <eddyb> bvssvni: it's copied right from glium_graphics
[12:03:10] <bvssvni> eddyb: moving data from the cpu to the gpu is much slower in comparison to what the cpu does
[12:03:18] <bvssvni> eddyb: glium_graphics has changed now
[12:03:23] <eddyb> eeek
[12:03:30] <eddyb> I'll have to look over it, thanks
[12:05:39] <eddyb> https://github.com/PistonDevelopers/glium_graphics/commit/a137e2dddc503b69783b949b507a44a9e6cb0550
[12:05:42] <eddyb> ah, it's just this
[12:06:23] <eddyb> bvssvni: could you run osascript -e 'POSIX path of (choose file)'?
[12:06:52] <eddyb> if I'm reading this right, new enough versions of OSX don't require anything else
[12:07:06] <bvssvni> eddyb: yup, opens a file
[12:08:21] <eddyb> bvssvni: does it print the name of the file in the terminal?
[12:08:44] <bvssvni> eddyb: if I cancen I get `15:26: execution error: User canceled. (-128)`
[12:08:58] <eddyb> yeah, that makes sense, but pick a file
[12:09:05] <bvssvni> eddyb: it prints the file
[12:09:28] <bvssvni> *cancel
[12:10:07] <eddyb> so if you replace https://github.com/eddyb/r3/blob/master/src/ui/dialog.rs#L9-L10 with let out = Command::new("osascript").arg("-e").arg("POSIX path of (choose file)").output();
[12:10:22] <eddyb> does that actually work?
[12:11:00] <eddyb> (that is, the Open button in rid3)
[12:12:08] <bvssvni> eddyb: it would be nice to have a cross platform lib for file dialogues
[12:13:33] <eddyb> bvssvni: bug WindowsBunny to write bindings for comctl32
[12:13:42] <WindowsBunny> hi
[12:13:42] <eddyb> err, comdlg32
[12:13:47] * WindowsBunny boops eddyb
[12:13:52] * WindowsBunny nibbles on bvssvni
[12:13:59] <bvssvni> eddyb: yeah, it worked!
[12:14:05] <eddyb> bvssvni: also, it would be a shame to restrict this to file open dialogues
[12:16:03] <eddyb> oh wow kdialog can do MessageBox-style stuff on linux
[12:16:23] <bvssvni> eddyb: shame you don’t want to use piston. it could be a great lib to use if it worked on top of piston-graphics, because you could then combine it with other graphics APIs
[12:16:37] <bvssvni> eddyb: r3 widget, think of that!
[12:16:39] <eddyb> bvssvni: the dialog stuff requires nothing to run
[12:17:07] <eddyb> I bet even the windows implementation works without an open window
[12:17:43] *** Quits: e_svedang (erik@moz-nl3.ldg.228.90.IP) (Client exited)
[12:18:33] <eddyb> bvssvni: IMO, there is nothing on top of piston that is suited for GUIs
[12:18:51] <bvssvni> for multiple windows in piston we need a new event loop as a combinator
[12:19:07] <bvssvni> eddyb: be careful
[12:19:18] <bvssvni> eddyb: you could be not just wrong, but 1000x times wrong
[12:19:32] <eddyb> there's some choices for in-game UIs, but nothing fits with applications
[12:19:42] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:19:45] <eddyb> and I don't want to bind to traditional toolkits
[12:20:06] <eddyb> bvssvni: what, elmesque? okay, I forgot about that one
[12:20:14] *** Joins: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP)
[12:20:36] <eddyb> but it's incompatible with the model I chose, which does as much static dispatch as possible
[12:20:50] <bvssvni> eddyb: elmesque is faster now
[12:21:36] <eddyb> you can make something like elmesque pretty efficient - I suggested some arena stuff a week ago or so
[12:21:55] <bvssvni> eddyb: are you saying piston-graphics isn’t efficient?
[12:22:07] <eddyb> but it a different abstraction that doesn't fit with the model I'm trying for
[12:22:30] <eddyb> bvssvni: it does things I don't need and I can't mess with shaders
[12:22:57] <eddyb> bvssvni: the thing is, I'm using so little of it, there's barely any point to having it as a dependency
[12:22:57] <bvssvni> eddyb: you could if you wrote or modified a back-end
[12:23:09] <eddyb> I had my own backend
[12:23:30] <bvssvni> eddyb: which is locked to glutin and gfx
[12:23:45] <eddyb> because glium_window didn't work at the time and I panicked and copied it over to make the necessary changes
[12:23:48] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:24:06] <eddyb> I also couldn't use its glyph cache implementation
[12:24:13] <eddyb> bvssvni: glutin and glium
[12:25:24] <eddyb> my current glyph cache is a modified version of the gfx-graphics one, adapted to glium and with extra features
[12:26:17] *** Quits: untitaker (untitaker@moz-nskdhs.highway.telekom.at) (Ping timeout: 121 seconds)
[12:26:29] <bvssvni> eddyb: what is wrong with the glyph cache implementation?
[12:26:49] <eddyb> I'm hackily using '┼' to measure properties of the font, but I think I can switch to the global metrics mentioned here http://www.freetype.org/freetype2/docs/tutorial/step2.html
[12:26:58] <eddyb> if I can figure out how to get at them from freetype-rs
[12:27:40] <WindowsBunny> eddyb: Or you could use GDI which gives you all the metrics you want :D
[12:27:43] <eddyb> bvssvni: the gfx-rs one didn't work on-demand, you had to call update
[12:27:54] <tomaka> eddyb: personnally I'm using freetype-sys instead of freetype-s
[12:27:55] <tomaka> rs*
[12:28:08] *** Joins: untitaker (untitaker@moz-lcvhbq.highway.telekom.at)
[12:28:09] <tomaka> as freetype-rs doesn't have all the required functionnalities
[12:28:29] <eddyb> yeah, I'll probably end up with a thin binding myself
[12:28:37] <tomaka> freetype-rs is basically a 1:1 wrapper, it doesn't bring much
[12:29:36] <eddyb> bvssvni: I'm sorry if you took any of my choices as an offence - I would gladly use piston in a game, and graphics can do some really cool shapes
[12:29:40] <bvssvni> eddyb: I love r3, it looks really promising
[12:30:02] <eddyb> bvssvni: but! rUI is, first and foremost, a manifestation of NIH
[12:30:06] <bvssvni> eddyb: I don’t know where you get the game/application distinction from
[12:30:47] <eddyb> because of time constraints, I made due with what I had available
[12:30:57] <bvssvni> eddyb: yes, I understand that
[12:31:24] <eddyb> right now there's "fill" calls which draw colored rectangles
[12:31:41] <eddyb> I might make use of "border" soon
[12:31:57] <eddyb> bvssvni: but it was never meant to be rendered by procedural code
[12:32:08] <bvssvni> eddyb: you can draw round rectangles and border in piston-graphics
[12:32:20] <eddyb> where do you think I got the code from? :P
[12:32:39] <bvssvni> eddyb: >_>
[12:33:06] <bvssvni> let’s copy stuff from piston and don’t use the stuff that makes it portable!
[12:33:18] <eddyb> portability comes at a cost
[12:33:24] <bvssvni> of course it does!
[12:33:45] <eddyb> and it's not just performance, because maybe some of those silly matrix multiplications could get optimized away
[12:34:35] <bvssvni> did somebody ever benchmark it? and when does that thing starts to matter?
[12:35:22] <eddyb> but for this UI prototype to have a chance of becoming something more than some manual layout code and draw calls, everything I care about has to be in my control
[12:35:54] <bvssvni> the motivation of doing cpu transformation is greater flexibility for non-linear transformations
[12:35:57] <eddyb> I am trying to keep abstraction boundaries, but almost everything is simplified
[12:36:20] <eddyb> and doesn't go through traits
[12:36:21] <bvssvni> and it gives f64 precision which is not fast at many graphics cards
[12:36:47] <eddyb> I don't need f64 precision
[12:36:50] <bvssvni> eddyb: those are good concerns to have
[12:37:14] <ytain> r3?
[12:37:17] <eddyb> heck, what I use it for could do with u16 coordinates (but then over/underflow would be trickier)
[12:37:56] <eddyb> ytain: a toy project of mine
[12:38:14] <ytain> oh ok
[12:38:26] <eddyb> I should put an explanation of the name up somewhere, but it wouldn't make sense before it had any reverse engineering capabilities
[12:39:14] <bvssvni> eddyb: I am not offended, it is not the first time or the last time people do those mistakes
[12:39:21] <eddyb> I reused the name, among other reasons for the fact that the UI subsystem would likely be useful
[12:39:30] <eddyb> r2 is https://github.com/radare/radare2
[12:39:34] <bvssvni> eddyb: but come on… custom shaders for a text editor!
[12:39:53] <ytain> eddyb well the one the google search found was the one based on Rebol
[12:39:58] <eddyb> heh
[12:40:08] <eddyb> ytain: https://github.com/eddyb/r3 if you're really curious
[12:41:03] *** Quits: mindtree (Mitch@moz-356.4j6.134.203.IP) (Ping timeout: 121 seconds)
[12:41:06] <ytain> I see
[12:41:10] <eddyb> bvssvni: I have been at the other extreme
[12:41:17] <eddyb> where you use the DOM for text editing
[12:41:23] <bvssvni> oh..
[12:41:52] <eddyb> I hear Atom has learned some newer tricks, but in its initial shape, I could've told you it would have terrible performance
[12:42:28] <eddyb> bvssvni: I had a similar reaction to yours about... I think it was a JS tracer tool that required WebGL
[12:42:55] <SneakySnake> Doesn't ACE use the DOM for text editing?
[12:42:56] <eddyb> bvssvni: it used WebGL to render text at 60FPS
[12:43:08] <SneakySnake> And it's really fast in my experience
[12:43:11] <SneakySnake> Much faster than Atom
[12:43:12] <bvssvni> you can do lot of optimization without sacrificing portability
[12:43:13] <eddyb> SneakySnake: I wonder if ACE is worse than Atom now
[12:43:14] <eddyb> huh
[12:43:29] <SneakySnake> I can edit a huge text file in Ace
[12:43:32] <eddyb> SneakySnake: have you ever tried it on large files?
[12:43:33] <eddyb> oh
[12:43:38] <SneakySnake> But Atom lagged even for a few thousand lines
[12:43:45] <eddyb> maybe ACE got a similar optimization a while back
[12:43:46] <SneakySnake> At least the last time I tried it, which was many months ago
[12:43:54] <eddyb> I wonder what they're doing... dynamic loading?
[12:44:31] <WindowsBunny> Atom lags terribly for me, especially on large files
[12:44:42] <WindowsBunny> the scrolling delay is significant
[12:44:50] <eddyb> yeah, well, that was entirely expected. but I thought they got better recently
[12:45:50] <eddyb> bvssvni: so the situation you can get in is "it works fine on desktop CPUs on medium workloads"
[12:46:21] <eddyb> which is *not* something you want to be proud of
[12:46:56] <bvssvni> eddyb: a hypothetical situation A that if true, would lead to B and since B is bad, just forget to check A is true
[12:47:51] <bvssvni> eddyb: it doesn’t help whatever argument you are using if you are not measuring it
[12:47:59] <eddyb> we can design something that doesn't run like shit on a mobile device that is "outdated" because app writers are getting lazier, can't we?
[12:48:16] <eddyb> bvssvni: I'm not using custom shaders for text rendering yet
[12:48:48] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[12:49:08] *** Quits: SHC (quassel@moz-5qj.eo2.241.117.IP) (Ping timeout: 121 seconds)
[12:49:15] <eddyb> a demo I had in mind was random text scrolling at 60FPS, and I hope I can get there
[12:49:32] <WindowsBunny> I'm just disgusted by anyone who claims performance is good enough for them and then dismisses evidence on the contrary
[12:50:05] <bvssvni> WindowsBunny: that’s not the issue here
[12:50:13] <WindowsBunny> bvssvni: Oh well
[12:50:24] <bvssvni> WindowsBunny: the issue is that people complain about piston-graphics without doing benchmarks
[12:50:51] <eddyb> bvssvni: the problem with piston-graphics is that I was using that whole abstraction to draw *colored quads*
[12:51:00] <eddyb> which was a bit absurd
[12:51:15] <WindowsBunny> bvssvni: That's because benchmarks might not end up supporting someone's ideas, thus it is risky to have to do benchmarks and potentially have your biased ideas proven wrong :D
[12:51:31] <eddyb> lol
[12:51:53] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[12:51:57] <bvssvni> WindowsBunny: I’ve done the benchmarks, shut up
[12:52:06] <eddyb> bvssvni: WindowsBunny is being silly
[12:52:44] <WindowsBunny> I'm just a bunny, what I say may be irrelevant or nonsensical
[12:53:10] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:53:29] <bvssvni> I am fully aware that there are faster ways to do 2D than piston-graphics
[12:53:55] <bvssvni> when I designed it, I had my own use cases in mind, after working several years on 2D animation software
[12:54:35] <eddyb> if you want I can present more impedance mismatches
[12:55:02] <WindowsBunny> One day I intend to work on that game thing I want to do in Rust, and I'll try several options including piston-graphics
[12:55:16] <eddyb> I already have a layout system and 2D bounding boxes, with minimum and maximum coordinates
[12:55:17] <WindowsBunny> just to see how fast it is relatively
[12:55:28] <bvssvni> WindowsBunny: that would be very helpful
[12:55:52] <eddyb> right now I have to do
[12:55:53] <eddyb>             let rectangle = [bb.x1 as f64, bb.y1 as f64, (bb.x2 - bb.x1)  as f64, (bb.y2 - bb.y1)  as f64];
[12:56:25] *** Joins: SHC (quassel@moz-gjv.3tn.88.59.IP)
[12:56:28] <bvssvni> eddyb: piston-graphics now uses Into<[f64; 4>, perhaps you can make it simpler
[12:56:43] <eddyb> it would still be *somewhere*
[12:57:32] <eddyb> there's two differences. I use Px everywhere, which happens to be f32 (but if I ever suspect precision issues, I can flip it to f64)
[12:58:12] <bvssvni> eddyb: f64 on the cpu comes almost for free
[12:58:19] <eddyb> the triangulation functions take a width and height and proceed to add those to the initial coordinates, producing bb.x2 and bb.y2, effectively
[12:58:22] <eddyb> bvssvni: no it doesn't
[12:58:39] <eddyb> you're halving your throughput on certain operations
[12:58:59] <bvssvni> eddyb: in some cases f64 is faster
[12:59:14] <eddyb> at least piston-graphics does send f32 to the GPU, so it's not wasting bandwidth
[12:59:48] <bvssvni> eddyb: yes, and it is after transformation, so it doesn’t get precision issues
[13:00:06] <eddyb> I don't need transformations
[13:00:19] <bvssvni> eddyb: I’ve had precision issues in animation software, that’s why piston-graphics is designed that way
[13:00:30] <eddyb> f64 is as useful to me as f80
[13:01:13] <bvssvni> eddyb: yes, that’s good think to know what you need and what you don’t need
[13:02:04] <eddyb> one funny example is computing UVs
[13:02:35] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[13:02:49] <eddyb> https://github.com/eddyb/r3/blob/master/src/ui/draw.rs#L352-L353
[13:03:12] <eddyb> every 1.0 there is x / x in the graphics::triangulation function
[13:03:12] *** Joins: m104ru (m104ru@moz-sje.6lq.205.109.IP)
[13:05:18] <eddyb> bvssvni: to be clear, I do want to keep it simple enough that replacing the implementation with an abstraction will be possible in the future
[13:05:49] <bvssvni> eddyb: that would be nice
[13:06:09] <bvssvni> eddyb: piston-graphics isn’t optimized yet, it doesn’t even do tri strips
[13:06:47] <bvssvni> eddyb: but we’re waiting until we have reliable benchmarks and in the mean time we focus on expanding the ecosystem
[13:07:44] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection closed)
[13:07:48] <bvssvni> eddyb: for now we don’t have a use case where it is too slow, and we need to render ridicilously many triangles in sea snake escape to notice the difference between the back-ends
[13:07:48] *** Quits: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[13:07:54] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[13:07:59] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[13:08:45] *** Joins: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP)
[13:11:17] *** Quits: m104ru (m104ru@moz-sje.6lq.205.109.IP) (Ping timeout: 121 seconds)
[13:12:16] <nical> bvssvni: what kind of hardware do you test this on?
[13:12:50] <bvssvni> nical: all platforms, but we don’t have a list
[13:13:16] <bvssvni> nical: it is mostly used by the Gfx and Glium people to check if something is wrong
[13:13:31] <eddyb> bvssvni: last-gen mobile devices is where you can see the difference better
[13:13:59] <nical> right I was curious about things last raspberry pi
[13:14:06] <bvssvni> eddyb: yes, but if you are having a triangle budget at 1000x time of what you need…
[13:14:24] <nical> or even a not-too-old-but-not-too-recent integrated intel gpu
[13:14:25] <tomaka> nical: glutin should soon work on the raspi
[13:14:34] <nical> tomaka: sweet
[13:14:37] *** Quits: RC9 (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[13:14:56] <tomaka> I'll post some screenshots of a glium teapot running on it when it's the case
[13:15:18] <bvssvni> tomaka: finally a teapot!
[13:16:27] *** Quits: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[13:16:52] <tomaka> daggerbot is tackling the problem of loading x11 as a dynamic library
[13:17:05] <tomaka> which is a relief for me, one less thing to do
[13:17:23] <eddyb> you can't link to... oh, because of cross-compilation?
[13:17:44] <tomaka> yeah
[13:18:01] <tomaka> it is needed anyway for devices that use wayland and don't have x11 installed
[13:19:01] <eddyb> what is, dynamically loading x11? or dynamically loading something else?
[13:19:25] <tomaka> yes dynamically loading xlib
[13:19:52] <tomaka> it has to be xlib, you can't reimplement the x11 protocol in rust or glx wouldn't work
[13:19:57] <tomaka> which sucks
[13:19:59] <eddyb> it's needed to gracefully fallback?
[13:20:05] <tomaka> yeah
[13:20:18] <tomaka> the idea is that when you create a glutin Window, it tries wayland, then tries glutin, then tries libcaca
[13:20:27] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:20:35] <tomaka> then tries xlib*
[13:20:39] <tomaka> not "then tries glutin"
[13:21:22] <eddyb> okay, that makes sense. I recall something about wayland and EGL having a similar shared library thing connecting them
[13:21:43] <eddyb> and you couldn't create an OpenGL context if you reimplemented wayland from scratch
[13:21:45] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[13:22:13] <nical> hahaha, "graceful" fallback to libcaca
[13:22:24] <eddyb> which made me sad because wayland has some sort of a description of its protocol that could be used to generate an API
[13:23:10] <eddyb> tomaka: wikipedia suggests that the latest version need shared libraries anymore, but I couldn't find more information on it
[13:24:02] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[13:24:03] <tomaka> anymore?
[13:24:17] <eddyb> tomaka: s/need/doesn't need/
[13:24:27] <tomaka> ah
[13:24:33] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:24:42] <eddyb> too many edits in one phrase
[13:25:05] <eddyb> looking at libcaca... 2048 colors? konsole and a few other terminal emulators have 24-bit RGB
[13:26:06] <Levans> eddyb : yeah, I'm the one who's been diggin on wayalnd support for glutin (I'm doing wayland bindings). The basic issue is that the wayland_egl interface provided my mesa assumes you are using the "official" implementation of the protocol, and relies on that
[13:26:26] <Levans> so... not much choice :/
[13:26:34] <eddyb> Levans: so that is still the case?
[13:27:40] <Levans> well, their API require you to provide pointers which are provided by the wayland-client lib, so... 
[13:27:58] <eddyb> great, now I can't find the thing on wikipedia
[13:28:13] <Levans> unless there was a very recent change ?
[13:28:30] <eddyb> ahh
[13:28:31] <eddyb> The special library called libwayland-EGL, written to accommodate access to the framebuffer, should be have been made obsoleted by EGL 1.5 release.
[13:29:07] <eddyb> Levans: third image on the right https://en.wikipedia.org/wiki/Mesa_(computer_graphics)
[13:30:43] <Levans> I not very aware of EGL magic to be honest, but I'll look into this when I have some time
[13:31:18] <Levans> wayland+EGL is very not documented apart from reading the sources of mesa and weston :(
[13:31:43] <eddyb> now that I read it again, it might mean that the EGL *standard* version 1.5 can make it work without that shared library but nobody has implemented anything else
[13:32:42] <Levans> well, as far as I know, libwayland-egl API is still part of the head files provided by libwayland-client
[13:33:42] <Levans> header files *
[13:35:10] <eddyb> Levans: hmm, is there a way to use the API descriptions to generate bindings to the C implementation of the API?
[13:35:25] <eddyb> instead of the full protocol
[13:35:37] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[13:35:56] *** Joins: e_svedang (erik@moz-qa19e9.eduroam.gu.se)
[13:37:40] <Levans> eddyb : it is completely possible to generate C-like bindings (which would basically be translation to rust of the C code generated by wayland-scanner, I made thi translation here https://github.com/vberger/wayland-client-rs/tree/master/src/ffi/interfaces )
[13:37:52] <Levans> But make safe bindings require some handwork
[13:37:56] <Levans> making *
[13:38:04] <Levans> (which is what I'm trying to do)
[13:39:33] <eddyb> oh, right, this was tricky, with the listeners and the user data
[13:39:59] <aatch> Levans, just fyi, it's encouraged to release bindings as standalone crates with the naming of '-sys' so people can reuse the bindings if they wish. So you'd have `wayland-client-sys' for just the C bindings.
[13:40:24] <eddyb> I can't recall about the last time I took part in a discussion about that model, whether or not we came up with a way to handle it
[13:40:59] <Levans> aatch : well, the actuall binding part is very small (maybe 40 functions ?), most of the rest is hand work to make it rusty
[13:41:29] <Levans> aatch : plus, I'm finding the lib dynamically with dlopen, to be glutin-friendly
[13:41:43] <Levans> so, they are not proper bindings
[13:41:57] <aatch> Levans, eh, fair enough. Just thought I'd mention it.
[13:42:01] *** zz_kimundi is now known as kimundi
[13:42:04] <Levans> and I doubt they can really be separated :/
[13:42:08] <Levans> so *
[13:44:32] <Levans> might be separable though, as I kept the ffi part quite distinct of the rest
[13:44:36] <Levans> need to think about it
[13:45:12] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:53:20] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[13:58:09] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:58:18] <kvark> tomaka: what's the guidelines for using From versus Into?
[13:58:26] <kvark> it seems a bit confusing
[13:58:42] <tomaka> basically everything implements Fro
[13:58:43] <tomaka> From
[13:59:03] <tomaka> and then there's  impl<T, U> Into<U> for T where U: From<T>
[13:59:13] <kvark> щр
[13:59:17] <tomaka> so if you implement  From<A> for B, then  B automatically implements Into<A>
[13:59:23] <tomaka> no
[13:59:26] <tomaka> A autoamtically implements Into<B>
[13:59:36] <kvark> gotcha, thanks
[14:00:38] <tomaka> I think we can make cgmath very easy to use by using this trait
[14:00:56] <tomaka> for example you could have   let mut v = Vector3::new(x, y, z); v += (0.0, 1.0, 0.0);
[14:01:12] <kvark> I'm not convinced from the clarity point of view. q.to_matrix() looks better then q.into()
[14:02:35] <tomaka> the question is: when do you need to call .to_matrix()?
[14:02:42] <tomaka> when a function wants a matrix and you have something else
[14:03:05] <tomaka> what if this function has the signature "fn foo<T>(_: T) where T: Into<Matrix<4>>"?
[14:03:16] <tomaka> you could pass anything that can be turned into a matrix
[14:03:31] <tomaka> without calling "to_matrix()"
[14:04:10] <tomaka> I'm not a 100% supportive of this change either, but IMO the major benefit is that you don't have to import these ToMatrix4 traits and such
[14:04:24] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[14:06:06] *** Joins: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP)
[14:06:31] <kvark> tomaka: is Into/From included in Prelude?
[14:06:36] <tomaka> yes
[14:07:04] <kvark> tomaka: the import can be graciously solved by doing "use cgmath::traits::*" following the gfx path
[14:07:40] <kvark> though I do see the appeal from Into/From. I'll need to review my code to see where it fits too
[14:08:30] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:08:40] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[14:08:49] <kvark> also, you stumbled upon a case where From/Into were too generic: https://github.com/bjz/cgmath-rs/pull/214/files#diff-ce1b9f230763779153abf5f4f8f1e78dR85
[14:09:11] <kvark> "let angle: Rad<_> = angle.into();"
[14:09:55] <tomaka> well, yeah, that's because we're converting from degrees to radians and back to degrees
[14:09:59] <tomaka> not something you'd usually do
[14:10:46] <tomaka> We'll probably want to change all functions that take a `Rad` to take a `Into<Rad>` instead
[14:10:58] <kvark> good point
[14:10:59] <tomaka> so that you can pass degrees as well
[14:11:26] <tomaka> I'm not totally convinced for matrices, but I think that for degrees/radiants this change is very good
[14:11:59] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[14:12:27] <kvark> tests look crappier, unfortunately
[14:12:42] <kvark> but overall I'm happy with the change. Do you want to wait for another person to look at it?
[14:13:00] <tomaka> yeah maybe let it rest for one day
[14:13:18] <tomaka> and more important, I should resubmit it over master once my other PR has been merged
[14:13:27] <tomaka> I'm submitting it for rust-1.0 right now
[14:13:49] <kvark> didn't you want to kill the master?
[14:14:04] <tomaka> look at #215
[14:14:06] <kvark> "kill all the masters!"
[14:14:16] <tomaka> I rebased rust-1.0 over master and submitting it
[14:14:21] <tomaka> so we call kill rust-1.0
[14:14:28] <kvark> I see
[14:15:20] *** Quits: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[14:17:03] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[14:21:17] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:23:49] <kvark> https://github.com/rust-lang/rust/pull/23606
[14:23:51] <kvark> woot
[14:24:08] <kvark> we have constants, at last? grab some fixed-size vectors everyone!
[14:24:30] <kvark> tomaka: perhaps, this is where the nightly could kick in ^
[14:24:39] <Tobba> kvark: hooray
[14:24:49] <Tobba> now I can't remember the places where I needed associated constants
[14:24:50] <Tobba> crap.
[14:25:17] <kvark> lol. Where were they when we needed em?
[14:25:23] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:26:02] <Tobba> in an RFC nobody could be arsed to implement more than half of
[14:26:57] <kvark> quantheory, if you hear me, thanks for awesome work!
[14:27:09] <kvark> omg +2,801 −724
[14:27:39] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[14:27:49] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[14:27:56] <fkaa> wat
[14:28:37] <Tobba> associated lifetimes are still missing but I can't see terribly many uses of those yet
[14:29:09] <fkaa> none of my messages went through :x
[14:29:15] <fkaa> (what does "RecvQ exceeded" mean?
[14:29:28] <tomaka> I remember that I needed associated lifetimes so bad
[14:29:38] <fkaa> kvark: did you see my link? https://github.com/RichieSams/FiberTaskingLib
[14:29:38] <tomaka> but I don't remember why either
[14:29:47] <kvark> fkaa: not yet
[14:30:02] <fkaa> an implementation of ND fibers
[14:30:05] <fkaa> or at least insipired by it
[14:30:31] <kvark> fkaa: frankly, I lost a bit of an incentive to do ND style fibers
[14:30:48] <kvark> after speaking with some folks here, I was convinced that it's just Sony PR
[14:31:02] <fkaa> how so?
[14:31:13] <fkaa> (it seemed to work for them, from what they said in the presentation)
[14:31:41] <kvark> right, because they were targeting PS4 mostly
[14:31:59] <fkaa> ah, that could make sense
[14:32:15] <fkaa> they did mention SPU tasks being a big part if i remember correctly
[14:32:35] <fkaa> not sure how feasable / translatable that would be to desktop environment
[14:34:17] <kvark> quote about the difficulty of using fibers outside of PS4: "Thread-local storage variables were not completely safe because their addresses could be store in the callstack and reloaded on another thread. They also had to avoid all OS synchronization primitives (semaphore, critical sections and etc.) because they don’t support fibers. "
[14:34:28] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Connection closed)
[14:34:48] <fkaa> hmm
[14:34:54] <kvark> also, the model ND described in particular suffers from high latency, which I don't like at all (I love responsiveness)
[14:34:54] <fkaa> nonetheless, a very interesting solution
[14:35:26] <kvark> thus, I'm currently busy getting ready for the show, but once I'm back at multi-tasking, I'm gonna look closer at the Bungie's approach
[14:35:38] <fkaa> their destiny slides?
[14:35:42] <kvark> yes
[14:36:27] *** Joins: steirer (steirer@moz-n5a7j7.dynamic.surfer.at)
[14:37:44] *** Joins: lenstr_ (lenstr@moz-h5k.vju.25.171.IP)
[14:39:04] <fkaa> kvark: btw, `gfx.rs` is available :)
[14:39:24] <kvark> fkaa: as a website? hmm, that could be sweet
[14:39:28] <fkaa> yeah
[14:39:42] <fkaa> not sure how serbian you are though ;)
[14:39:57] <kvark> haven't bought a domain for a while. What provider should I use?
[14:40:08] <fkaa> no clue, i'm not so hot on webdev
[14:40:23] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:41:43] <tomaka> I don't know which provider, but you should definitely use tiny-http! :D
[14:42:54] <kvark> tomaka: what is it?
[14:43:09] <tomaka> HTTP server written in Rust (by me)
[14:44:06] <tomaka> more seriously, writing a website in Rust is like writing a game in Rust
[14:44:11] <tomaka> it's doable, but not mature
[14:44:33] <kvark> tomaka: you got your dirty tentacles even into web dev? :D
[14:44:44] <tomaka> yeah, but tiny-http was made a long time ago
[14:44:51] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:45:04] <tomaka> when the only thing that existed was that old rust-http
[14:45:42] <kvark> there looks to be a lot more mature stuff now, with Hyper and Iron
[14:46:26] <tomaka> don't say it too loud, but I don't like hyper and iron
[14:46:48] <tomaka> they are callback-based, which is unrusty
[14:47:17] <kvark> huh, indeed. I'll have a look at rust-http if I wonder in this direction.
[14:47:28] <tomaka> getting postgres to work with this kind of design leads to unsafe code like this: https://github.com/rust-lang/crates.io/blob/master/src/db.rs#L50-L74
[14:47:52] <tomaka> you basically have to putting everything in an Arc
[14:48:10] <kvark> arghs
[14:48:11] <tomaka> and if you want to use a library that uses borrowing, like postgres, you're screwed
[14:49:52] <tomaka> I fear that newcomers will look at iron or nickel and don't understand the power or rust or what they're doing wrong
[14:59:15] <tomaka> Okay, glutin 0.1.0 should be published in 5mn
[14:59:26] <fkaa> \o/
[15:03:12] <kvark> newbie question - what do I need to get a website running on rust code? I can't just order any hosting service, but need something specific to allow that flexibility?
[15:04:02] <tomaka> you can either use some sort of server on which you have control over
[15:04:11] <tomaka> (like you can connect with ssh, install rust/cargo, etc.)
[15:04:14] <eddyb> kvark: you need some sort of VPS that lets you run your own server executables
[15:04:37] <tomaka> or use some sort of provider that accepts something like docker or your own executable
[15:04:46] <kvark> anyone knows where such servers are provided? I don't want to run it in my basement
[15:04:48] <tomaka> the simpliest is probably to use heroku
[15:04:49] <eddyb> the cheapest web hosting gives you FTP access, PHP and a bunch of other stuff
[15:05:29] <tomaka> heroku's free, but it has a long loading time if you don't pay
[15:05:47] <eddyb> I know DigitalOcean is cheap but lets you run your own stuff... then again, I've heard they're only good if your service is disposable
[15:06:05] <kvark> anything Vagga-based? :D
[15:06:15] <fkaa> vagga?
[15:06:28] <eddyb> oh and there's always the amazon stuff
[15:06:32] <kvark> https://github.com/tailhook/vagga
[15:07:08] <kvark> eddyb: I'm a complete newbie in these amazon/container stuff. What would you recommend?
[15:07:23] <eddyb> I only know there's a few options
[15:07:34] *** Quits: scape (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[15:07:37] *** Joins: scape (chris@moz-ci61eb.nj.comcast.net)
[15:08:14] <eddyb> kvark: but I would compare a few of the popular offers and see if there's something good enough for your needs and which fits your budget
[15:09:22] <eddyb> I believe amazon even has free services, but it's limited (in a different way than heroku) and you still need a credit card to prove you're a real human and not a bot stealing free compute power
[15:09:34] <ytain> there's also cloudflare
[15:11:03] <eddyb> I thought cloudflare was "just" protection, wouldn't it be abuse to cache static content on it?
[15:11:32] <eddyb> oh, they have a CDN, is that what you meant?
[15:12:21] <ytain> not that
[15:12:28] <ytain> https://www.cloudflare.com/plans
[15:12:31] <ytain> the free one
[15:13:09] <eddyb> yeah but that requires you to host your own server
[15:13:30] <eddyb> unless I'm reading it wrong - and there isn't much to read :/
[15:15:01] <eddyb> ytain: no, I was right, the "Always Online™" feature shows that it's still a caching proxy
[15:15:20] <ytain> well cloudflare is spread all over the globe
[15:15:25] <kvark> ".rs domains could be registered by international users but their administrative contact must have Serbian citizenship or be legal person with headquarters in Serbia" awwww :(
[15:15:39] <ytain> so if a datacenter is off at one location, other datacenters will still provide the webpages
[15:16:24] <eddyb> kvark: not so sure http://nickel.rs/
[15:16:30] <eddyb> kvark: and there's a few others
[15:16:32] *** Joins: davebettin (davebettin@moz-31g9o4.bhak.dqhm.0007.2601.IP)
[15:17:14] <tomaka> kvark: just rename gfx-rs to gfx-com
[15:17:40] *** Quits: e_svedang (erik@moz-qa19e9.eduroam.gu.se) (Client exited)
[15:18:48] <fkaa> hehe http://puu.sh/hDzYK/790d342840.png
[15:19:27] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:21:57] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:26:03] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:30:01] *** Joins: mindtree (Mitch@moz-356.4j6.134.203.IP)
[15:33:52] <tomaka> I'm wondering why there are so many spikes in the daily downloads of crates like libc
[15:33:54] <tomaka> https://crates.io/crates/libc
[15:34:07] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[15:34:10] <tomaka> some days it's 3000 downloads, some days it's 1000
[15:34:13] <tomaka> massive difference
[15:34:56] <tomaka> also, who are the people that download libc 0.1.2 today
[15:35:02] <kvark> downloaded more after the version bump?
[15:35:25] <tomaka> the latest version was published on april 7th
[15:36:36] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[15:37:34] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:37:49] *** Joins: brson (brson@moz-l8ebtf.sfo1.mozilla.com)
[15:39:45] <eddyb> tomaka: travis CI?
[15:39:47] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:42:32] *** Joins: e_svedang (erik@moz-qa19e9.eduroam.gu.se)
[15:45:38] *** Joins: O01eg (o01eg@moz-hpr2gc.ci24.4n8f.2698.2a02.IP)
[15:46:13] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[15:47:09] <eddyb> bvssvni: hah, someone beat me to "new UI toolkit running in emscripten via WebGL" https://novembermonk.github.io/kiui/article.html
[15:47:52] <eddyb> though it seems closer to conrod in its target usecase
[15:48:25] <fkaa> uses c++ :s
[15:49:24] <eddyb> well, yeah, but it's not as big as Qt... yet
[15:52:35] *** Joins: mooface (Mibbit@moz-tpjl46.co.comcast.net)
[15:55:16] *** Quits: mooface (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:03:30] *** Quits: e_svedang (erik@moz-qa19e9.eduroam.gu.se) (Client exited)
[16:04:35] *** Quits: davebettin (davebettin@moz-31g9o4.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[16:06:21] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:08:52] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:17:46] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[16:20:07] *** Quits: untitaker (untitaker@moz-lcvhbq.highway.telekom.at) (Ping timeout: 121 seconds)
[16:21:37] *** Joins: untitaker (untitaker@moz-lcvhbq.highway.telekom.at)
[16:22:44] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:24:21] *** Quits: dlc (dlc@moz-ijetde.res.rr.com) (Quit: Leaving)
[16:26:45] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:26:50] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:29:43] *** Joins: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP)
[16:29:49] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[16:30:24] *** Quits: lenstr_ (lenstr@moz-h5k.vju.25.171.IP) (Connection closed)
[16:30:43] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[16:31:58] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[16:33:06] *** Joins: m104ru (m104ru@moz-sje.6lq.205.109.IP)
[16:34:14] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:34:19] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[16:35:34] *** Quits: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[16:38:39] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[16:39:10] *** Quits: m104ru (m104ru@moz-sje.6lq.205.109.IP) (Ping timeout: 121 seconds)
[16:40:33] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[16:44:33] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:48:36] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:50:17] *** Joins: Jackneill (Jackneill@moz-7qmpfp.pool.digikabel.hu)
[16:51:29] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:00:58] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[17:07:11] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[17:09:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:12:55] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[17:14:43] <eddyb> bvssvni: oh, I forgot to mention something about performance...
[17:14:57] <eddyb> bvssvni: if I don't redraw as needed, CPU usage is 100% on one core
[17:15:23] <eddyb> which means I should be able to measure the number of FPS and get under 60
[17:15:35] <eddyb> (if I disable redraw-as-needed)
[17:15:46] <eddyb> https://mattdesl.svbtle.com/material-design-on-the-gpu
[17:16:23] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:18:25] <eddyb> (that's not very interesting, is it now?)
[17:18:37] <bvssvni> eddyb: hmm?
[17:18:57] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:19:34] <bvssvni> eddyb: can you elaborate on the redrawing part, I did not get what you meant
[17:19:36] <kmcguire_> i have arrived.. at.. texturing lol
[17:19:44] <kmcguire_> time to confuse the hell out of myself
[17:19:45] <eddyb> bvssvni: I just need to figure out how to measure FPS. does hematite still have the FPS counter?
[17:20:07] <bvssvni> eddyb: https://github.com/pistondevelopers/fps_counter
[17:20:17] <eddyb> bvssvni: right now I only redraw if an event resulted in any of the UI components returning dirty = true
[17:20:18] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[17:20:33] <bvssvni> eddyb: ah
[17:20:54] <eddyb> I did that so it wouldn't burn my laptop...
[17:21:08] <bvssvni> eddyb: right
[17:21:35] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[17:21:39] <eddyb> wow, hematite code has "as_slice" in it
[17:21:49] <eddyb> playbot: "foo".as_slice()
[17:21:50] -playbot- <anon>:9:15: 9:25 error: type `&'static str` does not implement any method in scope named `as_slice`
[17:21:50] -playbot- <anon>:9         "foo".as_slice()
[17:21:50] -playbot- output truncated; full output at: http://bit.ly/1zMV1YN
[17:21:56] <eddyb> yay
[17:22:51] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[17:23:27] <bvssvni> eddyb: if you are using glium, then you probably should use events().swap_buffers(false) to avoid double swapping
[17:24:48] <eddyb> wait, I don't need to enable vsync?
[17:25:15] <eddyb> but rather turn off something else?
[17:26:13] <bvssvni> eddyb: haha
[17:26:25] <bvssvni> eddyb: might be the cause for lot of your toubles :(
[17:26:29] *** Joins: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl)
[17:27:18] <bvssvni> eddyb: I didn’t know this was a problem until a couple days ago
[17:27:40] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Connection closed)
[17:28:36] *** dmac_ is now known as dmac
[17:29:10] <eddyb> bvssvni: can you make the change in src/bin/rid3.rs to confirm it works?
[17:30:05] *** Quits: SHC (quassel@moz-gjv.3tn.88.59.IP) (Connection closed)
[17:30:53] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[17:31:01] <bvssvni> eddyb: it works :D
[17:31:14] <eddyb> thanks :)
[17:31:43] <bvssvni> eddyb: 17.3% cpu on my computer
[17:32:01] <eddyb> bvssvni: and that's redraw-as-needed
[17:32:26] <eddyb> well, it could be redrawing less than the entire UI, but it only does it twice a second or so
[17:33:15] <bvssvni> if redrawing takes 100% cpu then I would suspect something is wrong
[17:33:43] <eddyb> there is a way to check, I guess
[17:34:31] <eddyb> only run layout if dirty, but draw every time
[17:35:38] <eddyb> oh, that's funny
[17:35:45] <eddyb> moving my mouse counts as dirty
[17:36:47] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:37:03] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[17:37:05] <eddyb> fps_counter confirms that doing nothing (just letting the caret tick) results in two redraws per second
[17:37:39] <eddyb> bvssvni: lol, with two layouts per second and trying to redraw every frame... I get 22FPS
[17:38:14] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:38:34] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[17:38:59] <eddyb> bvssvni: without swap_buffers(false) I can see it get down to 21FPS
[17:40:47] <bvssvni> eddyb: the deafult max fps should be 60
[17:40:55] *** Joins: Codenator (Mibbit@moz-mkk.391.198.81.IP)
[17:41:16] <eddyb> bvssvni: it pegs a core, so it's actually doing something all that time
[17:41:17] *** Parts: Codenator (Mibbit@moz-mkk.391.198.81.IP) ()
[17:41:25] <eddyb> bvssvni: oh, wait, this is a debug build :)))
[17:42:02] <bvssvni> eddyb: there was a problem running sea snake escape on glutin yesterday, where I could not get higher than 21 fps
[17:42:10] *** Quits: Rusky (russell@moz-de0fff.slkc.qwest.net) (Quit: Leaving.)
[17:42:45] <eddyb> bvssvni: what did profiling say?
[17:42:58] <bvssvni> eddyb: have not investigated closer yet
[17:44:36] <bvssvni> eddyb: sea snake escape renders 3 million triangles at 66 fps with glium_graphics on my computer
[17:45:00] <eddyb> so where did 21FPS go?
[17:45:50] <bvssvni> eddyb: I don’t know, when changing the window back-end to Glutin it stays at 21 fps, but with sdl2 and glfw it is 66 fps
[17:46:00] <eddyb> hah, with no files open it stays at 30FPS
[17:46:11] *** Joins: Rusky (russell@moz-mp2nkm.slkc.qwest.net)
[17:46:14] <eddyb> it barely renders anything at that point
[17:46:54] <eddyb>    1.50%  rid3     libc-2.21.so               [.] __memcpy_sse2_unaligned
[17:46:58] <eddyb> that's funny
[17:47:07] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:47:38] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:47:57] <tomaka> oh by the way
[17:48:19] <tomaka> with glium_graphics, the triangles get cloned before being drawn
[17:48:31] <bvssvni> wat
[17:48:47] <kvark> nice feature ;)
[17:49:01] <tomaka> because glium expects that you pass data of type `Vertex` which contains a `(f32, f32)` IIRC, but piston-graphics passes single f32s
[17:49:13] <tomaka> this shuold probably be fixed as well
[17:49:22] <tomaka> the memcpy thing made me think of this
[17:49:39] <tomaka> https://github.com/PistonDevelopers/glium_graphics/blob/master/src/back_end.rs#L187-L193
[17:49:39] <eddyb> wait, what?
[17:49:47] <tomaka> and https://github.com/PistonDevelopers/glium_graphics/blob/master/src/back_end.rs#L141-L145
[17:49:57] <eddyb> eh
[17:50:08] <eddyb> oh, btw, the closure passing thing
[17:50:21] <eddyb> do the other backends do something before or after calling f?
[17:50:32] <eddyb> because it doesn't make sense in this particular situation
[17:50:54] *** Joins: mib_dsv72z (Mibbit@moz-n100uj.dip0.t-ipconnect.de)
[17:51:24] <tomaka> I guess glium should probably have a function `write_raw` or something that accepts any type of data
[17:51:30] <tomaka> and which would be unsafe
[17:51:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:51:44] <eddyb> oh, yeah, gfx_graphics does something with the batch before calling the closure
[17:51:55] <eddyb> tomaka: why?
[17:52:00] <bvssvni> eddyb: there are two methods, one for filled colors and one texture
[17:52:05] <tomaka> eddyb: to avoid cloning
[17:52:11] <tomaka> eddyb: https://github.com/PistonDevelopers/glium_graphics/blob/master/src/back_end.rs#L141-L145
[17:52:30] <tomaka> eddyb: slice.write() expects a &[Vertex], but I only have a &[f32]
[17:52:41] <bvssvni> eddyb: allows the back-end to set the right shader
[17:53:17] <eddyb> IMO it makes more sense to construct Vertex values in graphics::triangulate
[17:53:56] <eddyb> I'm pretty sure both gfx_graphics and glium_graphics could use the same Vertex structure with their own trait implementations
[17:54:00] <kvark> eddyb: +1
[17:54:37] <eddyb> I guess coherence might not want to play nice, but you can also newtype graphics' Vertex
[17:54:37] <tomaka> there's also the quick and dirty solution: mem::transmute
[17:54:57] <eddyb> tomaka: the buffers are not of the right type *anyways*
[17:55:05] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[17:55:28] <bvssvni> we could make vertex associated type of Graphics, and use From<[f32; 2]>
[17:55:32] <eddyb> the transform you linked is effectively interlacing XY and UV coordinates
[17:55:45] <eddyb> bvssvni: or that
[17:56:00] *** Joins: kaphka (kaphka@moz-n100uj.dip0.t-ipconnect.de)
[17:56:01] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[17:56:27] <bvssvni> problem is that graphics::triangulation uses a fixed size array, which is meant to fit in L1 cache
[17:56:47] *** Quits: mib_dsv72z (Mibbit@moz-n100uj.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[17:57:47] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[17:57:48] *** Quits: brson (brson@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[17:58:05] <eddyb> bvssvni: which you throw away by not having the right shape to give to the GPU
[17:58:18] <eddyb> tomaka: alternatively, couldn't XY and UV data go into separate buffers?
[17:58:37] <kvark> that'd work too
[17:58:48] <cmr> Relief mapping is cool.
[17:59:03] <eddyb> bvssvni: so, 60FPS
[17:59:25] <bvssvni> eddyb: my what magic?
[17:59:31] <bvssvni> *by
[17:59:33] <eddyb> just --release
[17:59:35] *** Joins: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP)
[17:59:40] <eddyb> but it's keeping a core at 100%
[17:59:58] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[18:00:26] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[18:02:39] <bvssvni> eddyb: try setting .max_fps(1000)
[18:03:58] <eddyb> ah, right, I meant to do that
[18:05:48] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:06:22] <eddyb> bvssvni: weird, struggles to keep just below 60
[18:06:45] <eddyb> goes a bit above if I close the tabs
[18:06:52] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[18:06:52] <bvssvni> eddyb: I get 11.6% cpu in release mode
[18:07:00] <eddyb> bvssvni: something is capping it at 60FPS
[18:07:34] <eddyb> I guess it might be the same reason for me not requiring vsync or swap_buffers=off on linux, to get rid of the flickering
[18:12:02] *** bvssvni is now known as bvssvni_
[18:13:43] <kvark> bvssvni_: that video about complexity is so ... slow paced, even for me :)
[18:13:44] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[18:14:00] *** Quits: dawidc__ (dpc@moz-52v2l7.nvidia.com) (Connection closed)
[18:14:00] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Connection closed)
[18:14:00] *** Quits: dpc_ (dpc@moz-52v2l7.nvidia.com) (Connection closed)
[18:15:28] <eddyb> this is odd...    1.97%  rid3     ld-2.21.so                 [.] do_lookup_x
[18:15:36] <eddyb> I guess I didn't let it warm up
[18:16:32] <eddyb> bvssvni_: okay, with no files open I'm getting 60FPS and barely any CPU usage
[18:16:45] <eddyb> bvssvni_: and I have .max_fps(1000)
[18:18:21] <eddyb> bvssvni_: so VSync is forced on...
[18:19:45] <eddyb> SO suggests vblank_mode=0
[18:19:53] <eddyb> if I do that, I get two of: ATTENTION: default value of option vblank_mode overridden by environment.
[18:20:04] <eddyb> there we go!
[18:20:18] <eddyb> for some reason with a file open it ends up being roughly 60FPS
[18:20:43] <eddyb> bvssvni_: on linux: env vblank_mode=0 cargo run --release
[18:21:03] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:22:03] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:23:09] <eddyb> bvssvni_: this is a bag of coincidences. I raised the FPS limit to 10k and it barely goes above 1050
[18:23:14] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[18:23:31] *** Joins: avikpal (avikpal@moz-bcb.bnc.79.112.IP)
[18:24:11] <tomaka> 10k fps is pretty hard to reach
[18:24:29] <tomaka> 100µs per frame
[18:25:21] <fkaa> swapping buffers take 2ms on my laptop ;)
[18:26:14] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[18:27:22] <WindowsBunny> a whopping 2ms?
[18:27:30] <WindowsBunny> jeez, that means you're capped at 500fps
[18:27:38] <fkaa> pretty much
[18:27:45] <WindowsBunny> that's terrible!
[18:27:54] <fkaa> i get by
[18:28:08] <WindowsBunny> fkaa: Meanwhile with an APU I get over a thousand fps in an actual 2D game
[18:28:12] <cmr> That's actually pretty bad as far as I'm concerned, if you need to blow 2ms a frame *just* on swapping buffers.
[18:28:27] <fkaa> i can check again, memory might be serving me wrong
[18:28:41] *** Joins: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP)
[18:28:45] *** Joins: avikpal_ (avikpal@moz-bjc.3l6.233.117.IP)
[18:29:03] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Ping timeout: 121 seconds)
[18:29:33] *** Quits: avikpal (avikpal@moz-bcb.bnc.79.112.IP) (Ping timeout: 121 seconds)
[18:35:39] *** Quits: avikpal_ (avikpal@moz-bjc.3l6.233.117.IP) (Ping timeout: 121 seconds)
[18:40:16] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[18:40:29] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[18:41:43] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[18:46:33] *** Joins: gonzaloserrano (Adium@moz-56v.o7s.231.77.IP)
[18:48:41] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[18:50:05] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[18:50:56] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[18:52:26] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:54:14] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:54:31] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[18:54:37] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[18:56:36] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[18:56:47] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:58:32] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Connection closed)
[19:08:59] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[19:09:35] *** Joins: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net)
[19:11:42] *** Joins: mirgatroid (Mibbit@moz-1an.tvi.50.65.IP)
[19:14:46] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:14:49] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[19:15:50] *** Quits: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[19:25:48] *** Quits: mindtree (Mitch@moz-356.4j6.134.203.IP) (Quit: leaving)
[19:27:59] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[19:28:26] <eddyb> bvssvni_: even at stressed 60FPS, the hotspots are in the kernel...
[19:28:50] <eddyb>   11.74%  rid3     [kernel]                     [k] gen6_read32
[19:29:04] <eddyb>  89.04 │ 7b:   xor    %ecx,%ecx
[19:29:06] <eddyb> LOL
[19:29:47] <eddyb> what's with trivial instructions getting marked as hot spots? being on a loop edge?
[19:30:39] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[19:32:22] *** Joins: Rym_ (y@moz-a44.2as.55.31.IP)
[19:32:37] *** bvssvni_ is now known as bvssvni
[19:33:19] <bvssvni> kvark: yes, it is shockingly slow pace, but I think it is nice in a way
[19:33:27] <bvssvni> kvark: gives you time to think
[19:33:31] *** Quits: Jackneill (Jackneill@moz-7qmpfp.pool.digikabel.hu) (Ping timeout: 121 seconds)
[19:34:26] <bvssvni> kvark: I watched it multiple times, because the message is hard to get even at that slow pace
[19:34:38] <cmr> link?
[19:35:16] <bvssvni> https://github.com/PistonDevelopers/piston/issues/628
[19:37:20] <bvssvni> he basically shows lot of examples from around the world about how humans perceive complexity
[19:38:06] <bvssvni> and when you measure “simple things” it turns out they are not as simple as they seem
[19:39:16] *** Joins: Jackneill (Jackneill@moz-5il2ak.pool.digikabel.hu)
[19:40:46] <fkaa> everything needs more logos!
[19:42:06] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[19:42:32] *** Quits: Jackneill (Jackneill@moz-5il2ak.pool.digikabel.hu) (Quit: Leaving)
[19:44:55] <cmr> bvssvni: looks like it'd be a good pair to the book "the design of everyday things"
[19:45:19] <bvssvni> cmr: it’s the author, I think
[19:45:28] <cmr> oh
[19:45:40] <cmr> it is
[19:45:41] <cmr> :D
[19:49:43] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[19:49:55] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[19:50:11] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[19:52:20] <bvssvni> I guess the difficulty with design is you need to develop some neurons for it
[19:52:36] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[19:52:56] <bvssvni> that takes time
[19:52:56] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[19:53:39] <cmr> it does.
[19:54:32] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[19:59:51] <Tiffany> ooh
[20:00:07] <Tiffany> this video is pretty cool so far
[20:00:22] <cmr> I love his books
[20:00:57] <kvark> frankly, I wasn't impressed. Perhaps, it's the pace, or I just missed the point
[20:01:35] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[20:01:40] <Amaranth> Video?
[20:01:47] * Amaranth checks logs
[20:02:05] *** Quits: twipeD (wipeD@moz-467u0a.dip0.t-ipconnect.de) (Connection closed)
[20:02:16] <Tiffany> the issue bvssvni linked
[20:02:35] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[20:02:42] <bvssvni> kvark: exactly what I felt first time
[20:02:42] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[20:02:58] <bvssvni> kvark: then you realize programmers live in a bubble…
[20:04:00] <bvssvni> kvark: we are very concerned about “simplicity” because we copy ideas from familiar places about what it means
[20:05:02] <bvssvni> kvark: I think of this video as a reminder, a counter weight against all the influence in the opposite direction
[20:06:34] <kvark> he shows a lot of awkward complexity examples, but then doesn't prove that it's bad. Instead, he just throws in the "understandable complexity" term. What I'm missing is: is there a good example of understandable complexity that couldn't have made simpler?
[20:06:36] <Amaranth> btw, if anyone enjoys listening to Carmack talk here is his latest https://www.youtube.com/watch?v=rBtXMtUNpdE
[20:07:23] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[20:07:37] <bvssvni> kvark: that’s because he thinks in a different way
[20:08:24] <bvssvni> kvark: instead of telling you what is wrong, he wants you to see and understand through simulating the activity
[20:08:49] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:09:07] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:09:26] <bvssvni> kvark: a lot of these examples are not perceived as complex by the people that know them
[20:10:02] <bvssvni> kvark: it’s because that’s how people work, we memorize activities and don’t think about it
[20:10:39] <kvark> bvssvni: so what do you think is the main point of the talk? to accept the complexity as inevitable?
[20:10:59] <bvssvni> kvark: no
[20:12:18] <bvssvni> kvark: complexity is good, but there is a difference between “understandable complexity” in the way that the activity you go through flows
[20:12:56] <bvssvni> and “confusing complexity” which means you are blocked
[20:13:20] <kvark> in my mind, his understandable complexity can be treated as "simplicity", thus making the "complexity is good" point rather moot
[20:13:45] <bvssvni> he uses the word “simplicity” to describe systems with few states
[20:13:55] <bvssvni> like a light switch
[20:14:24] <kvark> right
[20:14:32] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[20:14:46] <kvark> I'm using a more vague term. Speaking his terms makes sense
[20:18:41] * bvssvni is thinking of Don Norman vs Alan Kay and complexity vs powerful ideas
[20:28:11] <Tiffany> it makes a lot of sense
[20:28:31] <Tiffany> I don't really think of C++ as complicated since I know most of the rules, or can predict them, and yet lots of other people do
[20:28:42] <Tiffany> rather, lots of other people think of C++ as complicated
[20:28:48] <Tiffany> I'm further along the understanding curve
[20:29:23] <Tiffany> you have to be careful to balance complexity for your target audience
[20:30:18] <Tiffany> do you want your audience to have to read a thousand page manual or specification to understand it, or do you want to be able to pick it up instantly? do you want to make it easy to do complicated things using it (latex), or do you want to focus on things that are simple to do? (microsoft word)
[20:32:01] <Tiffany> those two aren't necessarily at odds, but you have to carefully design to have a learning curve in order to achieve it
[20:33:06] <Tiffany> and now I'm at the part of the video where he talks about ways to design complexity to be understandable and easy to pick up or ignore
[20:34:03] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[20:34:24] <ytain> or design in a ramp up way that they can grasp the basics at first and get the complexity steps further later
[20:34:43] <bvssvni> how do you track complexity?
[20:35:18] <ytain> think of the sandbox based games
[20:36:14] <Amaranth> C++ is the language that has int foo = { 0 }; working and being an int while auto foo = { 0 }; working and being a std::initializer_list<int>
[20:36:33] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[20:36:48] <bvssvni> I’ve used a model for context which is a N-dimensional space where differences by one axis is connected
[20:36:50] <Amaranth> Everyone should think of it as complicated :P
[20:37:11] <cmr> Yeah, I think C++ is pretty objectively complicated, due to the number and sorts of interactions between things.
[20:37:22] <cmr> But it's not that hard (IMO) to reach an understanding.
[20:37:29] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[20:37:33] <bvssvni> you can make a system with infinite states and simple, or you can make a finite number of states and make it complex
[20:37:57] <eddyb> bvssvni: found an oddity in triangulate... closures being used where iterators are doable
[20:37:58] <bvssvni> it’s something to do with the number of choices available
[20:38:20] <eddyb> unless there's an underlying reason for it
[20:38:26] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:38:55] <Tiffany> I agree cmr
[20:38:58] <bvssvni> eddyb: I’m having an idea of where in the code you’re thinking
[20:39:26] *** Quits: kaphka (kaphka@moz-n100uj.dip0.t-ipconnect.de) (Client exited)
[20:40:23] <eddyb> bvssvni: stream_polygon_tri_list to be precise
[20:40:23] <bvssvni> eddyb: are you thinking of closures like this https://github.com/PistonDevelopers/graphics/blob/master/src/triangulation.rs#L91
[20:40:34] <eddyb> yeah
[20:41:07] <eddyb> I think this whole L1 business is pointless
[20:41:41] <bvssvni> eddyb: why?
[20:41:52] <eddyb> unless you're writing to the actual vertex data
[20:45:15] <bvssvni> eddyb: how would you like to do the iterators?
[20:46:08] <eddyb> bvssvni: the iterators are trivial... (0..n).map(|i| ...)
[20:46:23] <eddyb> and polygon.next() instead of polygon()
[20:46:54] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[20:47:12] <eddyb> but passing &mut [Vertex] to triangulation functions is going to be even better
[20:51:57] <bvssvni> eddyb: thanks, I’m writing this down
[20:52:33] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[20:55:17] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[20:55:33] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[20:57:24] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:58:00] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:58:46] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[20:59:08] <datalus> Anyone tried using the glutin_window backend for Piston and Glium for rendering?
[21:00:50] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:00:51] <bvssvni> datalus: if you’re getting problems, it’s because glium swaps the buffer in target.finish()
[21:00:53] <datalus> I'm kind of at a loss for how to instantiate glium's display type without using DisplayBuild and the glutin WindowBuilder
[21:01:10] <datalus> Do I need to make my own custom backend?
[21:01:17] <bvssvni> datalus: there is an example here https://github.com/PistonDevelopers/glium_graphics/blob/master/examples/image_test.rs
[21:02:09] <datalus> Thanks.
[21:02:52] *** Joins: RC9 (RCIX@moz-vnmep7.ph.cox.net)
[21:03:02] *** Joins: guycook (quassel@moz-rpa0ek.snap.net.nz)
[21:03:21] <datalus> I was being kind of crazy.
[21:03:31] <datalus> I wanted to implement my own rendering using glium but it was 2d anyway
[21:03:37] <datalus> I should probably just use glium_graphics :)
[21:11:33] <fkaa> kvark: in gfx-rs/src, what are all the modules for? (device, extra and render)
[21:13:22] <kvark> device - for the API backend abstraction. renderer - for batches, meshes, outputs, and population of the command buffers. extra - for additional helpers, like "factory.link_program" and higher level stuff like Stream/Canvas
[21:13:40] <fkaa> gotcha
[21:13:50] <fkaa> so gfx_device_gl only uses `device`?
[21:14:03] <kvark> that's the idea, yes
[21:14:08] <fkaa> neat :)
[21:15:51] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[21:17:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:20:35] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:20:55] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:22:06] <Layl> kvark, did color semantics change on clear?
[21:23:24] <Layl> nevermind this seems to be unrelated to clear anyways, huh
[21:24:27] <kvark> Layl: we do plan to change API completely, but not happening just yet
[21:24:33] *** Quits: gonzaloserrano (Adium@moz-56v.o7s.231.77.IP) (Quit: Leaving.)
[21:25:02] <fkaa> kvark: eh, did i miss something :p?
[21:25:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:25:55] <kvark> fkaa: no. Did you drop out?
[21:26:07] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:26:08] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:26:09] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:26:12] <kvark> Layl: fkaa: sorry, I mean *clear* API, not the whole thing :)
[21:26:14] <fkaa> the changing the api completely
[21:26:37] <kvark> https://github.com/gfx-rs/gfx-rs/issues/630
[21:26:40] <kvark> phew
[21:26:43] <Layl> it's weird, I'm getting a way too bright color for what I'm looking at
[21:27:12] <Layl> [0.082, 0.09, 0.094] is giving me http://i.imgur.com/nPjPSgd.png
[21:27:15] <kvark> Layl: sRGB?
[21:27:17] <cmr> Is the color space right?
[21:27:51] <Layl> I have no idea
[21:28:05] <cmr> hm, yeah, that's 0x515556
[21:28:09] <cmr> in the screenshot
[21:28:22] <Layl> hold on while I grab my laptop to try it on there
[21:28:34] <kvark> it's not that easy to screw up the clear :)
[21:28:40] <cmr> ;)
[21:28:43] <Layl> it's not using clear, that was my mistake
[21:28:49] <Layl> it's drawing a screen sized quad
[21:28:53] <cmr> ah
[21:31:13] <Layl> my laptop's giving the same thing
[21:31:29] <Layl> however previously the color was right
[21:31:33] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:31:41] <Layl> the only change is that I ran "cargo update" after 5 days of nothing
[21:31:47] <kvark> hmm
[21:32:16] <kvark> this should be easy to track down. Assuming you control the shader that is used with this quad
[21:32:34] <Layl> I do
[21:32:48] <Layl> quick debug message shows the shader's getting the right stuff
[21:33:39] *** Joins: fyl2xp1 (fyl2xp1@moz-ugq0lj.netcologne.de)
[21:35:00] <kvark> you could hard-code your shader
[21:35:02] *** Quits: Cifram_ (Cifram@moz-l63.9pu.126.76.IP) (Ping timeout: 121 seconds)
[21:35:09] <kvark> also, make sure the draw state is not blended
[21:37:19] <Layl> blended?
[21:37:29] <Layl> how can I make sure the draw state is not that
[21:37:33] <cmr> alpha blending.
[21:37:49] <Layl> I'm aware of alpha blending
[21:38:20] <Layl> I'm 100% sure passing in a color that's not blended anyways though
[21:40:07] <kvark> Layl: well, there is not too much staff that can go wrong here
[21:41:07] <Layl> yea I've got no clue what's going wrong here
[21:41:14] <Layl> even more since it used to work right
[21:41:49] <kvark> can you hard-code black (vec4(0.0,0.0,0.0,0.0)) into the pixel shader for starters?
[21:42:23] <Layl> I can but just passing in a fully black color to the function here shows a black color fine
[21:44:05] <kvark> how about putting 0.5, 0.5, 0.5, 0.5 ?
[21:44:20] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[21:44:47] <Layl> also, quick thing, Output's get_size() seems to return outer size instead of inner size
[21:44:49] <Layl> on a window
[21:44:50] <Amaranth> I thought glutin was doing something to always request sRGB now if available
[21:45:12] <Amaranth> Or was that in glium?
[21:45:29] <kvark> Layl: outer size?
[21:45:44] <Amaranth> It includes the frame?
[21:45:47] <Layl> yea
[21:45:57] <kvark> https://github.com/gfx-rs/gfx_window_glutin/blob/master/src/lib.rs#L39
[21:46:04] <kvark> this part changed recently, I believe
[21:46:08] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:46:12] <Layl> huh, odd
[21:46:19] <Layl> there must be some other reason my gui element is rendering at the wrong size
[21:46:21] <kvark> https://github.com/gfx-rs/gfx_window_glutin/pull/5
[21:47:32] <kvark> there seem to be an increasing in-flow of contributors with anime userpics. This... strangely make github way more appealing to work with for me :)
[21:48:10] <cmr> hehe
[21:48:15] <Layl> quickly gonna ask to verify, on glutin's window builder, does .with_dimensions set inner or outer size
[21:48:27] <cmr> Layl: inner I think
[21:48:31] <cmr> I'm not sure...
[21:48:52] <Layl> for me right now it's exactly mirroring .get_size's result
[21:48:54] <Kingsquee> kvark: "a-accept my pull request, senpai!"
[21:49:06] <Layl> also kvark, here's it at 0.5 everything http://i.imgur.com/hIywNO7.png
[21:49:06] <kvark> Kingsquee: I know right? How could I resist...
[21:49:13] <Layl> except alpha, which is at 1.0
[21:49:20] <cmr> kvark: I've been thinking about changing my avatar to the face of Tohno from 5 centimeters per second...
[21:49:34] <cmr> my current avatar has a lot of sentimental value though
[21:49:35] <kvark> cmr: ah, niiice
[21:49:44] <cmr> it was the logo of my first internet forum
[21:49:46] <kvark> cmr: where does your current one come from exactly?
[21:49:59] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[21:51:06] <cmr> Layl: that can't be right
[21:51:15] <cmr> Layl: the screenshot is at (188, 188, 188)
[21:51:30] <Layl> this is exactly what I'm passing into my shader
[21:51:43] <cmr> I suspect it's sRGB
[21:52:07] <kvark> yep
[21:52:19] <kvark> (188/255) ^ 2.2 ~= 0.5
[21:52:25] <kvark> Layl: welcome to sRGB land
[21:52:46] <Kingsquee> >pull request to kvark
[21:52:52] <Kingsquee> >he changes his avatar to excalibur
[21:52:52] <Layl> but these values gave the color I wanted about 6 days ago
[21:52:53] <Kingsquee> https://www.youtube.com/watch?v=PGpobNDK4uM
[21:52:54] <Layl> what changed
[21:53:09] <fkaa> glutin got srgb?
[21:53:25] <kvark> Layl: we now detect that the window was created with sRGB output, and enable this accordingly
[21:53:46] <kvark> if you don't want sRGB, tell glutin to switch it off with "builder.with_srgb(Some(false))"
[21:54:02] <kvark> passing an option there is silly, no need to point to this
[21:54:39] <kvark> https://github.com/gfx-rs/gfx_window_glutin/pull/6
[21:55:09] <Layl> right, one bug solved, one to go
[21:55:17] <kvark> the sizing one?
[21:55:45] <fkaa> Layl: on windows?
[21:55:50] <Layl> huh, actually, I do with_srgb and get a not supported panic
[21:56:39] <kvark> Kingsquee: we need a person on the team who is immune to anime cuteness, just to protect against this kind of exploits ;)
[21:56:42] <Layl> I apparently can't turn off srgb, because lack of it is not supported
[21:56:53] <kvark> Layl: wut
[21:57:05] <fkaa> Layl: what platform? :o
[21:57:08] <Layl> windows
[21:58:06] <fkaa> Kingsquee: excalibur..?
[22:00:34] <Layl> so, any clues on how I could fix this anyone?
[22:00:49] <Kingsquee> kvark: the thing in that youtube video
[22:00:53] <Kingsquee> er
[22:00:59] <Kingsquee> sorry, fkaa
[22:01:08] * Kingsquee is ~afk
[22:01:11] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[22:01:41] <kvark> Layl: that seems to be a bug in glutin. If sRGB is not supported, it shouldn't be able to create a window with it.
[22:02:15] <kvark> Layl: what exactly is your panic message?
[22:02:19] <fkaa> Layl: i can't find anything showing that it's not supported
[22:03:02] <Layl> kvark, http://i.imgur.com/iSKKHqJ.png
[22:03:25] <kvark> please run with RUST_BACKTRACE=1
[22:04:11] *** Joins: micka (micka@moz-bio722.abo.wanadoo.fr)
[22:04:15] <Layl> that backtrace isn't very helpful anyways
[22:04:20] <Layl> since I'm running this on windows
[22:04:24] <fkaa> Kingsquee: can't see any different avatar :s
[22:05:05] <Layl> the panic is happening on .build_strict().unwrap(); though
[22:05:13] <Layl> at the window builder
[22:05:20] <kvark> Layl: I see only a single NotSupported error in the win32 code https://github.com/tomaka/glutin/blob/4882a94080636735b8a8ef78203e7d77ff893370/src/api/win32/init.rs#L361
[22:05:33] <kvark> Layl: what if you call build() instead?
[22:05:47] <Layl> tried that, same result
[22:06:54] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:07:18] *** Parts: fyl2xp1 (fyl2xp1@moz-ugq0lj.netcologne.de) ()
[22:08:41] <cmr> kvark: https://github.com/cmr ;)
[22:08:49] <kvark> wow
[22:08:57] <fkaa> \o/
[22:09:10] <Layl> anyone got a reminder for me what I should break on in gdb to see the stack trace of a panic
[22:09:16] <cmr> Layl: rust_panic
[22:09:20] <fkaa> i might get a new one too
[22:09:48] <cmr> it's all the rage
[22:11:14] <kvark> Layl: I'm not too familiar with the windows backend of glutin, I only work under Linux atm. However, tomaka should be able to see what went wrong
[22:12:02] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:12:36] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:13:42] <Layl> this is quite frustrating running into problems after just leaving a project entirely untouched for a few days
[22:13:49] <cmr> yeah :(
[22:14:00] <kvark> Layl: benefits or working in an emerging and young ecosystem
[22:14:32] <Layl> is there any workaround I could use right now
[22:14:49] <kvark> specify an earlier version of gfx_window_glutin
[22:14:54] <kvark> in your cargo.toml
[22:15:50] <Layl> let's see, what version doesn't include this change
[22:16:11] <kvark> right before PR 6
[22:16:40] <kvark> Glutin must be erroring in either builder.choose_pixel_format or set_pixel_format
[22:17:09] <Layl> hm, how do I set a version on a dependency that uses git?
[22:17:23] <cmr> git = "path_to_repo#sha1"
[22:17:39] <cmr> under a new section: [dependencies.name_of_package]
[22:18:09] <kvark> ok, it's not set_pixel_format, because this one only returns OsError types
[22:18:12] <fkaa> kvark: could it be related to this commit? https://github.com/tomaka/glutin/commit/a42f1f58333a9899d36e18e641f3f52517dd58b1#diff-337839224920efa7748d62b99d666952R389
[22:18:33] *** bvssvni is now known as bvssvni_
[22:19:22] <Layl> seems it's not liking that
[22:19:30] <kvark> fkaa: this code branch only executes if with_gl_core is called
[22:19:58] <fkaa> that's the only recent commit which also has "NotSupported" in it :/
[22:20:03] <kvark> or, rather, with_gl_profile, which I don't think Layl is doing...
[22:20:41] <kvark> weird
[22:20:53] <kvark> I'm pretty sure I had GlProfile and with_gl_profile
[22:21:10] <kvark> oh right, https://github.com/tomaka/glutin/commit/171986c7e86063862d16208296c011cd5828bcad
[22:21:48] <kvark> fkaa: his NotSupported thing is not recent, he was never calling with_srgb() before
[22:22:06] <fkaa> :x
[22:24:37] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[22:25:16] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[22:25:46] <kvark> Layl: does with_srgb(Some(true)) run?
[22:25:54] <Layl> yea it does
[22:26:26] <kvark> ok, so all the formats that you are getting are sRGB enabled
[22:26:43] <kvark> thus, glutin is behaving correctly
[22:27:23] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:27:50] <Layl> huh the panic is still happening at previous versions
[22:28:01] <Layl> btw I'm using glutin's WindowBuilder and passing that into gfx_window_glutin
[22:28:20] <kvark> Layl: right. You don't need with_srgb with the previous version of gfx_window_glutin
[22:28:37] *** Joins: Twinklebear (Twinklebear@moz-82o.nvh.110.128.IP)
[22:28:47] <kvark> for your case, we might want to provide an ability to disable srgb manually on gfx_window_glutin level
[22:29:01] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:47] <Layl> overall I don't quite get why this is enabled by default
[22:29:53] <Layl> since it makes all the colors mess up, including textures
[22:30:20] <kvark> Layl: textures are supposed to come in sRGB as well, so these are not messed up
[22:30:28] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[22:30:30] <cmr> (linear workflows ftw)
[22:30:41] <kvark> glium enables sRGB by default as well, IIRC, if that makes you feel better ;)
[22:30:47] <Layl> well I'm loading in a texture from a png file and it's rendering weirdlty
[22:30:49] <Layl> *weirdly
[22:31:23] <kvark> Layl: using gfx_texture? it has an sRGB flag
[22:31:38] <kvark> I pushed the changes to gfx_window_glutin
[22:31:55] <kvark> you should be able to do "canvas.output.gamma = gfx::Gamma::Original;"
[22:33:08] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[22:33:30] <Layl> so, gfx uses sRGB only if you flip a flag, but everything elses uses it by default?
[22:35:10] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[22:35:41] <kvark> Layl: I don't understand the question. Gfx uses sRGB if the window has been created with the flag.
[22:36:06] <Layl> it doesn't for me, the texture ends up rendering the wrong way
[22:36:20] <fkaa> ?
[22:36:48] <kvark> Layl: texture relevant code https://github.com/PistonDevelopers/gfx_texture/blob/master/src/texture.rs#L86
[22:36:57] <kvark> how do you load textures exactly?
[22:37:04] *** Joins: mcanders (carter@moz-nl0.g9o.171.216.IP)
[22:37:43] <Layl> kvark, http://i.imgur.com/znilAO6.png
[22:38:12] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:38:14] <kvark> Layl: add "settings.convert_gamma = true;"
[22:38:22] *** Joins: csherrat_ (textual@moz-bfo.a2h.212.24.IP)
[22:38:57] <kvark> or better, get the srgb flag from the Canvas (if you are using it), and use it accordingly
[22:39:12] *** Joins: nstoddard (nstoddard@moz-k9n.dgb.211.128.IP)
[22:39:18] <kvark> since you never know if the target system gives you sRGB enabled window
[22:39:21] <fkaa> colors are surprisingly confusing
[22:39:38] <Layl> the thing is, if everything else is set to sRGB by default, why isn't gfx_texture?
[22:39:45] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[22:40:02] <kvark> because gfx_texture doesn't know anything about your window
[22:40:13] <kvark> also, not ALL textures are given in sRGB namespace
[22:40:22] <kvark> only you as a user know that
[22:40:24] *** Quits: csherrat_ (textual@moz-bfo.a2h.212.24.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:40:35] <kvark> e.g. normal maps are not in color space at all, so they need no conversion
[22:41:03] <Layl> the thing I'm trying to say is, if other things seem to assume by default that you want to be using srgb, why isn't gfx_texture doing that as well when it knows nothing else
[22:41:06] <kvark> Layl: besides, you might be rendering to some other off-screen target with a texture, and that target doesn't have to be sRGB
[22:41:20] <Layl> I know it might be wrong, but right now it's wrong as well with the current default
[22:41:44] <Layl> in fact, it seems like right now it's wrong by default without changing srgb settings elsewere
[22:41:51] <kvark> gfx doesn't "assume" sRGB is ON. We check the pixel format
[22:42:00] <kvark> sorry, I gtg now. cmr please continue
[22:42:07] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:42:41] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:43:31] <cmr> Layl: I don't even know why it *has* a default, specifying it should be required IMO
[22:43:40] <cmr> it's one of those things where there is no sane default
[22:43:47] <cmr> it's an intrinsic property of a texture.
[22:43:53] <cmr> and both are valid.
[22:43:56] *** Quits: mcanders (carter@moz-nl0.g9o.171.216.IP) (Connection closed)
[22:44:15] <Layl> the thing is right now, glutin says "default is on" and gfx_texture says "default is off"
[22:44:17] *** Joins: kaphka (kaphka@moz-n100uj.dip0.t-ipconnect.de)
[22:44:34] <cmr> For *completely* different things though
[22:44:36] *** Joins: mcanders (carter@moz-nl0.g9o.171.216.IP)
[22:44:56] <cmr> Whether a texture is sRGB or not is completely separate from whether the pixel format of the window is sRGB
[22:44:58] *** Quits: micka (micka@moz-bio722.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[22:45:18] *** Quits: mcanders (carter@moz-nl0.g9o.171.216.IP) (Client exited)
[22:45:35] <Layl> I don't mean the default about the loaded in file, I mean about the resulting data that will get fed into the graphics card
[22:45:45] <cmr> Yes, same applies.
[22:46:22] <Layl> if it's entirely different, what's going on that I have to specify settings.convert_gamma on gfx_texture
[22:46:36] <Layl> or it won't play well with glutin's default settings
[22:49:51] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[22:51:23] <cmr> So, is your png in sRGB?
[22:51:39] <cmr> An image editor should be able to tell you in the image properties.
[22:52:19] *** Joins: tyoverby (tyoverby@moz-qo3495.cs.washington.edu)
[22:52:30] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[22:52:40] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:55:11] *** Joins: orangeshark (erik@moz-shfg20.44tj.56ot.0306.2602.IP)
[22:56:32] <Layl> I don't know what my png is
[22:59:40] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[23:01:33] *** Quits: nstoddard (nstoddard@moz-k9n.dgb.211.128.IP) (Ping timeout: 121 seconds)
[23:09:22] <Layl> hm, how do I properly convert from RGB to sRGB anyways
[23:09:23] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (A TLS packet with unexpected length was received.)
[23:09:23] *** Joins: chris (chris@moz-ci61eb.nj.comcast.net)
[23:10:43] *** Quits: scape (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[23:11:15] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[23:13:05] *** Quits: Gabriel_7 (Gabriel@moz-2vj54m.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[23:14:26] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[23:15:42] <kvark> Layl: it kinda make sense that if you opt-in for the texture loading, you should be opting in for the window creation as well
[23:15:54] <kvark> while the window is created in sRGB without you will
[23:16:13] <kvark> so your complaint makes some sense
[23:16:27] <fkaa_> i feel srgb shouldn't be default as well
[23:16:38] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:16:40] <fkaa_> i have no clue if this is even an option on osx
[23:16:48] <kvark> perhaps, we could store `supports_srgb` flag in the window, but disable it by default? This way you'd opt-in for it if you want
[23:17:01] <fkaa_> cc tomaka 
[23:17:30] <fkaa_> oh wait, it's late..
[23:18:12] <kvark> https://github.com/gfx-rs/gfx_window_glutin/issues/7
[23:18:20] <niconii> i disagree, personally -- srgb by default for the window seems sane to me
[23:18:48] <kvark> niconii: but then you have people experiencing issues, like what Layl got
[23:19:01] <kvark> if you know what sRGB is, you might as well explicitly request it
[23:19:51] <niconii> hmm... yeah, you may have a point
[23:20:32] <niconii> if you're dealing with graphics, you oughta know about sRGB in any case, but yeah, it might be less of a pitfall that way if you're unaware
[23:21:06] <fkaa_> it's not really that noticable at first
[23:21:31] <niconii> that being said, if you ignore sRGB completely, your calculations for lighting and things of that nature will be off
[23:22:11] <niconii> you do need to know about, and apply sRGB properly, if you want to do calculations like that
[23:22:33] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:24:49] <niconii> (also, i'm not saying textures should have a default -- you definitely want to be able to choose for sRGB vs RGB textures)
[23:25:40] <niconii> honestly, it might be worth not giving the window a default at all
[23:26:07] *** Joins: dougxxx (dougxxx@moz-507os5.adam.com.au)
[23:26:09] <niconii> that way you have to choose, and you might end up learning sRGB is a thing
[23:28:11] <niconii> anyway, having the framebuffer be sRGB is the *correct* thing to do if not the easiest
[23:28:12] <kvark> niconii: interesting approach
[23:28:28] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[23:29:25] <niconii> well, i say "have to choose"... it might just end up being "copy whatever the example chose", but...
[23:30:31] <niconii> i guess you could put comments *in* the examples explaining there's a difference
[23:30:40] <niconii> like maybe give a link or something, i dunno
[23:32:14] *** Quits: jdboyd (jdboyd@moz-6racg9.eph2.ptd.net) (Quit: Leaving.)
[23:32:33] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[23:33:27] <kvark> anyone to review https://github.com/gfx-rs/gfx_window_glutin/pull/8
[23:33:29] <kvark> cmr?
[23:34:11] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[23:35:09] <fkaa_> kvark: forgot the comment at #23? 
[23:35:27] <kvark> nah, it's still a wrapper
[23:35:41] <fkaa_> doesn't implement Output anymore from what i can see
[23:35:51] <kvark> see line 45
[23:36:00] <fkaa_> oooo
[23:36:03] <fkaa_> :p
[23:36:28] <fkaa_> okay, that shows i need to get some sleep
[23:36:30] <fkaa_> goodnight
[23:36:36] <kvark> fkaa_: thank you for assistance btw. I appreciate your involvement!
[23:36:59] <fkaa_> happy to help, just trying to learn some rust and stuff :)
[23:37:21] *** Quits: fkaa_ (tundmatu@moz-501od2.business.telia.com) (Quit: )
[23:38:37] <kvark> ok, leaving PR open for now, since Layl doesn't seem to be blocked (let me know otherwise)
[23:39:15] <Layl> I'm pretty blocked with this, going to sRGB is a no go for me right now because of deadlines and not having time to actually learn about sRGB
[23:40:15] <kvark> Layl: ok, merged
[23:40:40] <kvark> call "canvas.output.set_gamma(gfx::Gamma::Original).unwrap();"
[23:41:42] <Layl> yep that works, thanks
[23:42:07] <kvark> awesome
[23:42:23] <kvark> thanks for your feedback! I believe the OFF default is sane.
[23:44:36] <datalus> Is there anyway to make this function signature nicer...
[23:44:39] <datalus> pub fn start_loop<F1,F2>(&mut self, mut u_callback: F1, mut r_callback: F2) where F1: FnMut(), F2: FnMut()
[23:44:43] <datalus> :D
[23:46:07] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[23:48:00] <FreeFull> Nothing comes to mind
[23:48:02] <datalus> Hmm, probably a better question for rust.
[23:48:06] <datalus> Instead of rust-gamedev
[23:48:08] <datalus> Yeah... me either.
[23:48:25] <datalus> I was hoping I could just use one type param for both args, but I realized you need to specify each type param per arg
[23:48:56] <datalus> Could probably also stuff the callbacks into a vec and pass that.
[23:49:06] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:49:15] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:49:47] *** Quits: Twinklebear (Twinklebear@moz-82o.nvh.110.128.IP) (Quit: Leaving)
[23:50:06] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Connection closed)
[23:50:55] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[23:51:08] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:52:22] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[23:55:10] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[23:56:50] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[23:58:06] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[23:59:14] *** kimundi is now known as zz_kimundi
