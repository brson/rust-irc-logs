[00:01:32] <Ilari> And 256 bits is the level where I consider that any breaks are from algorithm itself breaking (or if it is something asymmetric, 192+ bits or so).
[00:05:45] <Ilari> "I wonder if TLS 1.3 should contain a protection against x-protocol-attacks. fixing port number in handsh should prevent all of these attacks" ... Unfortunately: NAT
[00:09:53] <Ilari> And making ALPN mandatory has its own problems.
[00:29:14] <Ilari> And even the destination port can get remapped.
[00:36:39] *** Joins: erickt (erickt@moz-tl2.7si.9.216.IP)
[00:43:41] *** Quits: erickt (erickt@moz-tl2.7si.9.216.IP) (Ping timeout: 121 seconds)
[01:16:03] *** Quits: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP) (A TLS packet with unexpected length was received.)
[01:53:18] *** Joins: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP)
[01:55:42] <bascule> "A TLS packet with unexpected length was received." cryptography, fuck yeah!
[01:56:07] <mcpherrin> sounds like a party
[01:56:15] <Elaine> mcpherrin: that was you :P
[01:56:43] <mcpherrin> ha
[02:05:16] <Ilari> Connection breaking somehow and that causing odd error... Or data corruption in stream?
[02:06:12] <mcpherrin> Ilari: I rebooted the system. If I had to guess, truncated data or something as irssi or the tcp stack shut down
[02:07:34] <Ilari> So probably TLS stack reacting badly to RST.
[02:09:17] <mcpherrin> something like that.
[02:13:01] <Ilari> "@DonAndrewBailey @pbarreto @hyperelliptic I actually put this in an even less likely to happen category than homomorphic crypto being useful"
[02:37:30] <Ilari> That was apparently in response to processors needing to be secured against power analysis for the crypto be safe from PA.
[03:04:12] <mayski> heh
[03:32:45] <eternaleye> bascule: That sounds like gnutls 2.x
[03:32:58] <eternaleye> bascule: It spits that error on some things, very annoyingly
[03:33:37] <eternaleye> bascule: Oh, wait, that was on an actual thing
[03:33:54] <eternaleye> bascule: gnutls 2.x sometimes spits that on _connect_ and then asplodes
[03:41:12] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:53:56] <Ilari> TLS handshakes tend to be a mess, especially when ECC is involved.
[04:42:01] <bascule> http://csrc.nist.gov/groups/ST/lwc-workshop2015/presentations/session4-shumow.pdf
[04:47:19] <Ilari> Was that the one everybody else regarded as odd?
[08:25:16] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[12:33:43] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:34:49] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:00:51] *** Joins: erickt (erickt@moz-4nl.u1d.141.64.IP)
[16:11:47] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[16:16:56] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:57:27] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[17:13:38] <Tiffany> https://www.youtube.com/watch?v=knDIENvBTgw
[17:13:55] <Ilari> What's that?
[17:14:15] <Tiffany> a video on the procedure they would use to launch a nuclear missile
[17:15:27] <Ilari> Wonder how much that would be followed. E.g. in aviation, when Standard Operating Procedures call to abort landing attempt due to unstable path, that actually happens ~3% of the time.
[17:16:47] <Tiffany> well, it does talk about how the keys to activate it are kept far enough apart that it actually does require two people (or someone with one of those extendy claw things I guess)
[17:17:06] <Tiffany> and it also has a code you have to put in, so it's never done by accident
[17:17:33] <Tiffany> I'm not sure that any of these silos ever actually fired outside of test scenarios
[17:20:36] <Tiffany> yeah, they haven't
[17:37:54] *** Joins: vks (quassel@moz-l5qmbl.pools.vodafone-ip.de)
[17:51:47] <bascule> ugh JWT now has crazy zealots
[17:51:49] <bascule> https://www.reddit.com/r/ruby/comments/3erwqx/proof_dead_simple_security_for_ruby/cthzj46?context=3
[17:56:41] *** Quits: erickt (erickt@moz-4nl.u1d.141.64.IP) (Ping timeout: 121 seconds)
[18:06:49] <Tiffany> you know, with the number of zealots urbit has, I thought it would have at least some merit to it
[18:06:55] <Tiffany> I found out yesterday that they have utterly broken security
[18:08:01] <Elaine> do go on
[18:08:06] <Tiffany> well
[18:08:18] <Tiffany> so they had this feature, where you could get a console on anyone's urbit node
[18:08:32] <Tiffany> the absolute insanity of this aside, they argued it was secure because you couldn't do any IO
[18:08:40] <Tiffany> then some guy came and broke the fuck out of it and crashed the whole network
[18:08:45] <Elaine> lol
[18:08:48] <Tiffany> then they tried to add a login system to the console
[18:08:55] <Tiffany> but when the login fails, it gives you the login token regardless
[18:08:59] <Tiffany> giving you access to the console
[18:09:08] <Tiffany> then that same guy crashed the whole network again
[18:09:15] <Elaine> wait wait wait
[18:09:16] <Tiffany> these tokens they make, btw
[18:09:24] <Tiffany> appear to come from a PRNG, seeded at installation time
[18:09:24] <Elaine> it *should* be possible to run untrusted code in urbit
[18:09:29] <Elaine> how did they fuck that up
[18:09:33] <Tiffany> because ~determinism~
[18:09:34] <Elaine> (beyond the obvious DoS issues)
[18:09:39] <Tiffany> I have no idea
[18:09:43] <Tiffany> I'm not surprised, though
[18:09:47] <Tiffany> like have you seen their code?
[18:09:50] <Elaine> no.
[18:09:59] <Tiffany> they don't use proper variable names
[18:10:02] <Tiffany> it's all random pronounceables
[18:10:17] <Tiffany> it took me an hour to figure out whether or not they used write-ahead logging
[18:10:31] <Tiffany> most of the source files are arbitrary single letter names
[18:10:35] <Tiffany> and it's all in C, of course
[18:10:54] <Tiffany> there's these things called 'jets' which are used to implement optimizations (lol O(N) decrement) as well as IO
[18:10:58] <Tiffany> I assume he broke the jet system or something
[18:11:04] <Tiffany> I don't have any details
[18:11:33] <Tiffany> once you are able to do IO you're basically root, also
[18:14:09] <bascule> hahaha wow
[18:14:40] <Tiffany> urbit's whole philosophy is to throw out the past 50 years of computer science if possible
[18:15:02] <bascule> they forgot to start with capabilities
[18:15:13] <Tiffany> that is the least of their errors, but yeah
[18:18:57] <Tiffany> it's really hard to find any information on this
[18:19:57] <Tiffany> here is the explanation of how their auth system works, which is utterly worthless: https://github.com/urbit/urbit/blob/cb9977c735f199e143ff58eea93f59e201016f5b/urb/zod/pub/doc/arvo/eyre/commentary.md#authentication
[18:20:44] <Tiffany> it's like technobabble...
[18:23:11] <bascule> wow, indeed
[18:23:19] <bascule> especially if you start reading there
[18:23:25] <bascule> MARKDOWN FILE? WAT
[18:23:51] <sfackler> wut
[18:24:09] <Elaine> Tiffany: do they actually use random short words?
[18:25:23] <Tiffany> they use names like ames, arvo, clay, dill, eyre, ford, gall, ives, jael, kahn, and lunt
[18:25:30] <Tiffany> are some of those words? yes
[18:25:38] <WindowsBunny> wow
[18:25:41] <Tiffany> do they have anything to do with the thing they represent? no
[18:25:56] <WindowsBunny> even Windows's crypto is significantly easier to understand than that
[18:26:20] <Tiffany> some of these files have butchered formatting
[18:26:40] <Tiffany> https://github.com/urbit/urbit/blob/cb9977c735f199e143ff58eea93f59e201016f5b/urb/zod/pub/doc/arvo/ames.md
[18:27:10] <Tiffany> it would help if there was like a glossary or something somewhere
[18:27:13] <Tiffany> but I don't think there is
[18:27:16] <Tiffany> what the fuck is a vane?
[18:28:05] <sfackler> this feels like reading science fiction
[18:28:23] <Tiffany> their goal is to make a computing platform from mars, so I guess they are succeeding
[18:28:24] <Elaine> sfackler: that's the point!
[18:28:26] <Elaine> ^
[18:28:41] <sfackler> (bad science fiction)
[18:28:56] <Tiffany> I mean, they said they wanted to experiment with what a computing platform from a million-years-advanced humanity would look like, which they failed spectacularly on
[18:29:15] <sfackler> wait what
[18:29:16] <Tiffany> but they have succeeded in making something incomprehensible to the point of looking like technobabble and/or alien language from an old movie about martians
[18:29:50] <Tiffany> I think the place I read that from no longer exists sfackler
[18:29:53] <Elaine> https://github.com/urbit/urbit/blob/cb9977c735f199e143ff58eea93f59e201016f5b/Spec/u3.md
[18:29:56] <Tiffany> they removed most of their website after getting on hacker news
[18:30:11] <Tiffany> yeah it's pretty amazing elaine
[18:30:17] <Tiffany> they actually throw out what little type safety exists in C
[18:30:35] <Tiffany> using u3_noun
[18:30:39] <Tiffany> which is essentially void*
[18:31:13] <bascule> hahaha
[18:31:46] <sfackler> I don't even
[18:31:56] <sfackler> it just keeps getting weirder
[18:32:31] <Elaine> sfackler: is this your first exposure to urbit?
[18:32:41] <Tiffany> note also the manual refcounting, and the serialized-to-disk structs
[18:32:44] <sfackler> yes
[18:32:57] <Tiffany> their implementation is supposed to be portable across machines and they write structs straight to an mmapped file
[18:33:06] <Tiffany> the files are supposed to also be portable
[18:33:15] * bascule has been following Urbit a little bit for awhile but
[18:33:27] <bascule> their whole schtick always sounded silly to me
[18:33:31] <Elaine> same
[18:33:41] <Tiffany> the whole determinism thing was kind of cute
[18:33:52] <Tiffany> up until I found out it extended to the RNG they use for crypto
[18:33:55] <bascule> how about someone writes a POSIX compatible kernel in Rust? with lots and lots of drivers? that'd be cool
[18:34:08] <Tiffany> with object capabilities!
[18:34:12] <bascule> hahaha
[18:34:17] <bascule> it could support Capsicum
[18:34:49] <Elaine> bascule: what's the point, though?
[18:35:06] <Elaine> osdev always seems futile to me
[18:35:16] <bascule> Elaine: avoiding memory corruption problems in syscalls?
[18:35:24] <Tiffany> well
[18:35:33] <bascule> more specifically: reduce the occurance of local privilege escalation
[18:35:33] <Tiffany> seL4 already exists
[18:35:43] <bascule> there's lots of things that exist, heh
[18:35:52] <Tiffany> I want proof systems for rust
[18:35:56] <bascule> indeed
[18:36:01] <Elaine> there's people working on it
[18:36:52] <Elaine> "Right now the project is only about 25% of the way toward minimum viable documentation, meaning that it's currently impossible to teach yourself the system no matter how much time you're willing to invest."
[18:36:54] <Elaine> lol
[18:37:08] <Elaine> http://alexkrupp.typepad.com/sensemaking/2013/12/a-brief-introduction-to-urbit.html
[18:37:22] <bascule> awesome!
[18:38:11] <Tiffany> "and what's valuable is security ..." hahahaha
[18:38:52] <bascule> people love making security claims
[18:39:12] <sfackler> this is a system from the future?
[18:39:13] <sfackler> "(If you screw up by decrementing the counter too much, u3 will dump core in horrible ways. If you screw up by incrementing it too much, u3 will leak memory."
[18:41:14] <sfackler> wat
[18:41:15] <sfackler> "The hope is that because all Hoon code gets compiled down into this tiny Nock spec, this will make the system easy to secure."
[18:42:37] <Tiffany> I mean
[18:42:41] <Tiffany> it's kind of true
[18:42:53] <Tiffany> you only have to secure the VM, and you can only interact with the host system in ways the VM allows
[18:42:57] <Tiffany> the host system will be very secure!
[18:43:10] <Tiffany> however, if you keep all your important data inside the VM... you're back at square one
[18:50:53] <Tiffany> ah, okay, here we go
[18:51:20] <Tiffany> they rewrote the web server which I am not going to bother calling by its actual name, and added some kind of SSO mechanism that lets you login as other ships
[18:51:52] <Tiffany> they didn't finish implementing the actual login system, so they just let everyone use tokens to login to try it out (wtf?)
[18:52:13] <Tiffany> then this guy uses the unfinished login code to login to the root server and accesses its CLI, and manages to segfault it
[18:52:16] <Tiffany> bringing down the whole network
[18:53:47] <Tiffany> ah, he didn't use the web console, he just used the thing that lets you connect to services over the internet
[18:53:56] <Tiffany> and the segfault is this issue: https://github.com/urbit/urbit/issues/273
[18:55:11] <Ilari> And asking what's the issue? Ugh.
[18:55:12] <Tiffany> apparently, this is treated as not a big deal, because it's beta software
[18:56:50] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[18:58:41] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:59:21] <Tiffany> it is such an antipattern to ignore security and try to bolt it on later though...
[19:00:56] <Tiffany> "There are some vague ideas about how this platform is supposed to be completely secure, but it's all very handwavy and it doesn't seem like they've actually thought this out very much."
[19:00:59] <Tiffany> this is pretty much exactly it
[19:04:45] <Tiffany> now to read about capsicum
[19:06:57] <Tiffany> huh
[19:07:09] <Tiffany> when you're in capability mode, does that mean you can't call ambient authority calls like open(2)?
[19:15:08] <Tiffany> capsicum is pretty neat
[19:30:54] *** Quits: vks (quassel@moz-l5qmbl.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[19:42:56] *** Joins: neal (neal@moz-of66u9.ca.comcast.net)
[19:43:14] <Tiffany> so this is nice
[19:43:37] <Tiffany> urbit uses AES-ECB
[19:43:56] <Tiffany> it would probably be prone to timing attacks if it wasn't for the jet that replaces their hoon implementation with openssl
[19:44:28] <Elaine> so fragile.
[19:44:43] <Tiffany> https://github.com/urbit/urbit/blob/master/urb/zod/arvo/hoon.hoon#L4693
[19:52:46] <Tiffany> okay
[19:52:51] <Tiffany> so it looks like they don't actually use the AES code?
[19:52:59] <Tiffany> they just encrypt every message using plain old RSA encryption
[19:53:06] <Elaine> efficient.
[19:53:10] <Tiffany> yeah...
[19:53:30] <Tiffany> I imagine the main reason for this is that RSA encryption doesn't require an RNG past initial key generation
[19:53:44] <Tiffany> at least, to my knowledge
[19:53:49] <Tiffany> I think the padding schemes do?
[19:53:55] <Tiffany> they use OAEP
[19:54:41] *** Quits: neal (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:55:44] <Tiffany> and OAEP requires random data to work
[20:09:05] *** bpugh is now known as bpugh_
[20:09:07] *** bpugh_ is now known as bpugh
[20:09:08] *** bpugh is now known as bpugh_
[20:09:10] *** bpugh_ is now known as bpugh
[20:18:55] *** Quits: bpugh (bpugh@moz-715e47.ca.comcast.net) (Quit: leaving)
[20:25:11] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[20:31:33] <eternaleye> Tiffany: Ilari: (backlogging) re missile launch procedures being followed... http://arstechnica.com/tech-policy/2013/12/launch-code-for-us-nukes-was-00000000-for-20-years/
[20:35:13] <eternaleye> Tiffany: Also, re "what's the point", bascule wants a POSIX-compatible kernel - and seL4 doesn't do that. The closest is... running Linux as a userspace service, which still means anything using it is vulnerable to Linux issues. Writing the POSIX server in Rust would help a lot.
[20:35:30] <Tiffany> oh
[20:36:01] <eternaleye> POSIX is _big_ and messy - exactly the kind of API where Rust's guarantees would help under the hood
[20:36:29] <eternaleye> And without a POSIX server, seL4 won't run any of the stuff people actually use today, and Problem 0 of security is deployment.
[20:38:27] <Tiffany> how about a rust OS with POSIX built on top of seL4 then?
[20:39:28] <Elaine> eternaleye: doesn't seem like a win to me to do posix on top of a microkernel, verified or otherwise, for security.
[20:39:32] <Elaine> just use a VM.
[20:39:38] <eternaleye> Well, yes.  "Writing the POSIX server in Rust"
[20:39:51] <eternaleye> Elaine: It can be, actually.
[20:40:01] <Elaine> scenario?
[20:40:41] <eternaleye> Elaine: Multiple independent POSIX servers, with each running minimal stuff to support the app in question, communicating over "sockets" with other such containers whenever possible.
[20:40:52] <eternaleye> Elaine: Network-inna-box
[20:41:10] <Elaine> eternaleye: That doesn't seem as plug-and-play as you make it sound.
[20:41:38] <eternaleye> Elaine: Actually, it's surprisingly feasible - a systemd-like approach using socket activation could go a long way.
[20:41:58] <eternaleye> Elaine: Filesystem sockets for postgres, nscd, etc can be re-directed
[20:42:09] <eternaleye> Elaine: Can have a PAM module that chats over caps to auth
[20:42:12] <eternaleye> etc
[20:42:36] <eternaleye> You need to build some infra, but user-level programs could actually do pretty well.
[20:42:46] <Elaine> Yes, I see that that could be the case now.
[20:43:09] <eternaleye> Modern software's been making it even easier, too
[20:43:18] <eternaleye> Pulseaudio's actually quite easy to virtualize :P
[20:44:00] <eternaleye> Or even just do an ALSA plugin and a pulseaudio plugin that speaks a caps-audio protocol
[20:47:31] <eternaleye> You can also split up POSIX into a few relatively-separate domains
[20:47:59] <eternaleye> the PID/process-control stuff doesn't really need to interact with the filesystem except at exec()
[20:48:04] <eternaleye> and so forth
[20:48:40] <eternaleye> So those could be memory-protected from each other as separate servers, that communicate
[20:51:31] <eternaleye> Whoah, heads up if anyone here uses qemu: http://seclists.org/oss-sec/2015/q3/212
[20:52:41] <Elaine> Does it affect more than the IDE subsystem?
[20:52:48] <Elaine> Since ATAPI is used in SATA too
[20:55:23] *** Elaine is now known as Elainemo
[20:58:56] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[21:14:11] <Tiffany> did OpenSSL fix the AES timing attacks in their implementation?
[21:37:05] <bascule> yes
[21:37:18] <bascule> and it's more like
[21:37:36] <bascule> did Adam Langley fix the problems?
[21:37:42] <Tiffany> how did they fix it?
[22:18:23] *** Joins: neal (neal@moz-of66u9.ca.comcast.net)
[22:29:31] *** Quits: neal (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:58:34] *** Joins: neal (neal@moz-of66u9.ca.comcast.net)
[23:14:46] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:18:28] *** Quits: neal (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
