[00:54:31] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[01:12:05] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[01:29:44] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[01:54:59] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[01:55:57] *** Joins: c74d3 (c74d3a4ebb6@moz-9fdro7.mggc.hibn.4404.2002.IP)
[01:56:09] *** c74d3 is now known as c74d
[02:04:28] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[02:28:28] *** Joins: kimundi_ (kimundi@moz-41du88.dip0.t-ipconnect.de)
[02:31:52] *** Quits: kimundi (kimundi@moz-bear1s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:31:52] *** kimundi_ is now known as kimundi
[02:37:41] *** kimundi is now known as zz_kimundi
[02:44:24] *** zz_kimundi is now known as kimundi
[02:59:24] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[03:09:47] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:24:14] *** Quits: c74d (c74d3a4ebb6@moz-9fdro7.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[05:24:16] *** Joins: c74d3 (c74d3a4ebb6@moz-an2l0n.mggc.hibn.4404.2002.IP)
[05:24:34] *** c74d3 is now known as c74d
[05:53:11] *** kimundi is now known as zz_kimundi
[06:30:57] *** zz_kimundi is now known as kimundi
[06:51:34] *** Quits: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP) (Connection closed)
[07:24:11] <cmr> Gankro: reem: is there any contain-rs for compactly representing a Vec<Vec<T>> with a prefix trie?
[07:24:38] <cmr> it seems like the radix trie is the only thing that could possibly be a candidate, but it's no bueno for that sort of usecase.
[07:26:10] <cmr> (I think I want this for representing the production rules in a CFG, and I'm not sure if the datastructure I want is generic at all...)
[07:29:34] <cmr> I'm not sure if I can get that with reasonable-time-complexity indexing though, so I might just ditch the idea.
[07:50:19] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[07:56:28] *** Joins: nrc (nrc@moz-j6ne73.cable.telstraclear.net)
[07:56:28] *** ChanServ sets mode: +qo nrc nrc
[08:02:41] <eternaleye> cmr: If you can compare T's such that you can (semantically) treat them as having a common "prefix" which diverges in one bit, you might be able to use some form of generalized crit-bit tree...
[08:03:23] <cmr> My particular usecase has T = u32
[08:03:37] <eternaleye> Mm, then that could definitely work
[08:03:55] <eternaleye> Since you could just use crit-bit trees flat-out
[08:04:35] <cmr> I'll look into them, thanks.
[08:04:48] <eternaleye> cmr: Sadly, the docs on them are mostly crap
[08:05:05] <eternaleye> cmr: I was working on a Rust impl last june, but, well... last June
[08:05:08] <eternaleye> Bitrot city.
[08:05:22] <eternaleye> cmr: https://github.com/eternaleye/rust-critbit/blob/master/lib.rs
[08:05:39] *** kimundi is now known as zz_kimundi
[08:05:43] <eternaleye> cmr: It _did_ work at the time, mostly.
[08:06:21] <cmr> eternaleye: mind slapping a license on that badboy so I can modernify, cargoify, and add quickcheck tests and stuff?
[08:06:29] <eternaleye> cmr: No problemo
[08:06:33] <eternaleye> cmr: MIT good for you?
[08:06:45] <cmr> eternaleye: I prefer BSL, but MIT works for me :)
[08:06:47] <eternaleye> cmr: Since that seems to be what Rust's converged on itself
[08:06:51] <eternaleye> cmr: BSL?
[08:07:07] <cmr> http://www.boost.org/users/license.html, MIT minus required attribution when distributed as part of a binary
[08:07:18] <eternaleye> Ah, makes sense
[08:08:00] <eternaleye> Is the convention COPYING.txt or LICENSE.txt or LICENCE.txt for Cargo stuff?
[08:08:10] <cmr> just LICENSE usually.
[08:08:14] <eternaleye> Cool
[08:09:57] <aatch> cmr, I assume it's just because no-license == all rights reserved?
[08:10:19] <cmr> aatch: You assume what is because that?
[08:10:32] <eternaleye> cmr: There you go!
[08:10:38] <aatch> cmr, why you want eternaleye to add a license.
[08:10:47] <cmr> aatch: ah, yes.
[08:10:50] <eternaleye> Well, I should have put one in long ago regardless
[08:10:54] <eternaleye> It's just polite
[08:11:18] <cmr> eternaleye: thanks! I'll get to that... sometime in the next month ;)
[08:11:27] <eternaleye> cmr: Heh, I might get there first then!
[08:11:31] <cmr> :D
[08:11:47] <aatch> Surprising how few people realise that if you don't specify a license people *technically* have to get express permission from you to use your code.
[08:12:27] <cmr> Understanding software licensing is an evil I wish upon no-one.
[08:13:50] <eternaleye> Well, I have no excuse - I _do_ understand it, and didn't put a license in because I was still in "I want this @*$*@ thing to compile" mode, and then got distracted.
[08:14:04] <eternaleye> ...that last bit happens a lot.
[08:14:41] <aatch> eternaleye, fair enough. adding a LICENSE file is just part of my "put it on github" process.
[08:15:08] <aatch> (not that I'm sure I have a license file on all of my projects though >.>)
[08:15:18] <aatch> Eh, the important ones have them.
[08:15:34] <cmr> I have exams next week and I still need to analyze what sorts of improvements I can expect from representing production rules differently.
[08:16:01] <cmr> I expect not much, as production rules usually don't have a very long shared prefix, if any.
[08:16:16] <cmr> but sharing substructure might be nice. I'm really not sure.
[08:28:53] <cmr> meh, map_in_place can't be used when sizeof(U) < sizeof(T) :(
[08:31:40] *** Quits: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (*.net *.split)
[08:31:40] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[08:31:40] *** Quits: reem (uid78397@moz-octfcu.brockwell.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: c74d (c74d3a4ebb6@moz-an2l0n.mggc.hibn.4404.2002.IP) (*.net *.split)
[08:31:40] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (*.net *.split)
[08:31:40] *** Quits: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP) (*.net *.split)
[08:32:28] *** Joins: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com)
[08:32:28] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[08:32:28] *** Joins: reem (uid78397@moz-octfcu.brockwell.irccloud.com)
[08:32:28] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[08:32:28] *** Joins: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP)
[08:32:28] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[08:32:28] *** Joins: c74d (c74d3a4ebb6@moz-an2l0n.mggc.hibn.4404.2002.IP)
[08:32:28] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[08:32:28] *** Joins: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com)
[08:32:28] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[08:32:28] *** bruford.mozilla.org sets mode: +oqo aturon huon huon
[08:32:58] *** Quits: nmatsakis (nmatsakis@moz-no0.93r.245.63.IP) (A TLS packet with unexpected length was received.)
[08:33:00] *** Joins: nmatsakis (nmatsakis@moz-no0.93r.245.63.IP)
[08:33:00] *** ChanServ sets mode: +o nmatsakis
[08:33:37] *** Quits: c74d (c74d3a4ebb6@moz-an2l0n.mggc.hibn.4404.2002.IP) (Connection closed)
[08:35:04] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[08:35:30] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:54:22] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:55:25] *** zz_kimundi is now known as kimundi
[09:00:45] <eternaleye> cmr: It now builds (and passes the old tests) on current nightly - pushing now
[09:01:22] <eternaleye> cmr: Now for actual refactoring...
[10:08:57] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[10:45:29] <eternaleye> cmr: Now with new API, and beta-clean!
[10:46:03] <eternaleye> cmr: it's only over singular num::PrimInt right now, but that can be generalized reasonably easily.
[10:47:07] <eternaleye> Also, not one line of unsafe { }
[10:50:50] <eternaleye> One fun option might be to make it work on anything that coerces to Iterator<Item=T> where T: PrimInt
[10:51:04] <eternaleye> That should be pretty doable, actually
[10:53:47] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[10:56:19] <eternaleye> ...hmm, I think I may have screwed up the insert() implementation
[10:56:28] <eternaleye> but I'm not awake enough to be sure
[10:56:53] <eternaleye> Specifically in the case of early divergence
[11:03:53] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[11:08:46] *** Quits: nrc (nrc@moz-j6ne73.cable.telstraclear.net) (Ping timeout: 121 seconds)
[11:13:00] *** Joins: nrc (nrc@moz-j6ne73.cable.telstraclear.net)
[11:13:00] *** ChanServ sets mode: +qo nrc nrc
[11:20:24] *** Quits: nrc (nrc@moz-j6ne73.cable.telstraclear.net) (Ping timeout: 121 seconds)
[11:29:50] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:27:24] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[12:40:59] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[12:42:20] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[12:42:20] *** ChanServ sets mode: +o pnkfelix
[12:42:42] <SimonSapin> acrichto: aturon: I’m adding write_char to std::fmt::Write, as accepted in https://github.com/rust-lang/rfcs/blob/master/text/0526-fmt-text-writer.md
[12:43:22] <SimonSapin> I’m making it #[stable] directly as I’m confident it won’t change, but if you prefer I can make it #[unstable]
[12:48:52] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[12:52:34] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Connection closed)
[12:57:07] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[13:00:19] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:01:29] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:04:13] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[13:07:07] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[13:08:16] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[13:20:36] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[13:26:43] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[13:30:35] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:33:52] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[13:37:57] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[13:42:26] *** Joins: annodomini (lambda@moz-hutj1n.mycingular.net)
[13:52:08] *** Quits: annodomini (lambda@moz-hutj1n.mycingular.net) (Client exited)
[13:58:10] *** Joins: annodomini (lambda@moz-hutj1n.mycingular.net)
[14:10:11] <SimonSapin> https://github.com/rust-lang/rust/pull/24661
[14:11:08] *** Quits: annodomini (lambda@moz-hutj1n.mycingular.net) (Client exited)
[14:52:04] *** Joins: annodomini (lambda@moz-hutj1n.mycingular.net)
[15:26:13] *** Quits: annodomini (lambda@moz-hutj1n.mycingular.net) (Ping timeout: 121 seconds)
[15:31:32] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[15:44:38] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:48:56] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.5.1)
[15:49:17] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[15:49:17] *** ChanServ sets mode: +o pnkfelix
[15:56:41] <aturon> SimonSapin: I'll leave a comment
[15:59:09] <aturon> huon: pong
[16:15:24] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:29:03] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[16:31:29] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:31:29] *** ChanServ sets mode: +qo brson brson
[18:34:39] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:34:39] *** ChanServ sets mode: +o pnkfelix
[19:24:31] *** Quits: kimundi (kimundi@moz-41du88.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:25:45] *** Joins: kimundi (kimundi@moz-c1dstv.dip0.t-ipconnect.de)
[19:30:00] *** kimundi is now known as zz_kimundi
[19:38:01] *** zz_kimundi is now known as kimundi
[20:04:51] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:33:06] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:33:22] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[20:40:40] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:00:48] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:00:48] *** ChanServ sets mode: +o pnkfelix
[21:05:58] *** Joins: tomprogrammer (thomas@moz-pg6e45.tr5r.qept.4dd0.2001.IP)
[21:09:05] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[21:19:31] *** Joins: nrc (nrc@moz-j6ne73.cable.telstraclear.net)
[21:19:31] *** ChanServ sets mode: +qo nrc nrc
[21:32:31] *** Joins: o11c (ben@moz-9bd9kh.customer.t3.se)
[21:35:29] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[21:47:17] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[21:59:09] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[22:01:13] <aturon> huon: re-pong (i assume ping was about rand?)_
[22:01:21] <huon> aturon: hm
[22:01:24] <huon> let me think
[22:01:27] <aturon> hahaha :)
[22:01:29] <huon> aturon: oh, no
[22:01:44] <huon> aturon: I'm mildly concerned about back compat with Range's iterator impl
[22:02:11] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[22:02:23] <huon> it currently has a blanket impl using Add, but it seems suboptimal for a few reasons
[22:03:08] <huon> mainly that this means there'll no automatic way to iterate over of enumerable types, e.g. what the Step trait is trying to abstract
[22:03:13] <huon> s/of//
[22:03:24] <huon> I suspect this is something we can't change post 1.0?
[22:03:28] <aturon> huon: hm so
[22:03:39] <aturon> i *definitely* agree that the current state is suboptimal
[22:03:46] <aturon> however, the thinking was that `step` is unstable,
[22:04:05] <aturon> so all we have to ensure going forward is that the types it currently applies to in std, it continues to apply to
[22:04:27] <huon> oh, magic
[22:04:39] <huon> you are always three steps ahead of me :)
[22:04:40] <aturon> basically, Step is a standin for "some eventual trait(s)"
[22:04:42] <aturon> lol
[22:04:49] <aturon> i was backed into a corner, magic was the only choice
[22:05:16] <aturon> part of the reason we didn't want to commit to something better is that this hooks into broader questions about numerics traits
[22:05:23] <huon> yeah
[22:05:29] <aturon> but the current design is pretty haphazard
[22:05:43] <aturon> if you have ideas about how to improve this, e.g. a new unstable trait, i would love to review them :)
[22:06:44] <huon> I don't have concrete ideas
[22:07:56] <aturon> huon: one thing i had in mind was that `Step` could probably be better off as CheckedAdd etc. but it makes me feel like the design is going in circles, a bit. i feel like we need a comprehensive vision for generic numeric programming, but i don't know how to get there
[22:09:27] <huon> I think we should possibly step away slightly from the numeric programming for this
[22:10:19] <huon> e.g. it'd be nice for SomeEnum::A..SomeEnum::X to work, without having to implement the (probably) semantically-nonsense std::num traits for SomeEnum
[22:11:26] <aturon> huon: hm yes, i see. i guess it's more `step_by` that really wants a numeric view
[22:11:37] <aturon> well, it's perhaps debatable
[22:12:19] <aturon> on a different note, i haven't had a chance to digest your notes about rand, but hope to do so soon. still feeling in perpetual "catch up" mode, but it's getting a bit better :)
[22:12:32] <huon> ok
[22:12:45] <huon> I need to get back to the thread I posted on users.r-l.o
[22:12:53] <huon> but feedback seems useful
[22:26:20] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:30:54] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[22:54:58] *** Quits: tomprogrammer (thomas@moz-pg6e45.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[23:02:09] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:21:23] *** Quits: nrc (nrc@moz-j6ne73.cable.telstraclear.net) (Ping timeout: 121 seconds)
[23:43:42] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[23:45:37] *** Joins: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP)
