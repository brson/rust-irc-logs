[00:00:17] *** Joins: mib_p3nm3d (Mibbit@moz-juv.9o3.252.72.IP)
[00:02:30] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:06:08] *** Quits: mjboa (mike@moz-n5270k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:06:54] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[00:10:36] *** Joins: jyyou (jyyou@moz-nhbjfr.bo6r.4bjo.8900.2400.IP)
[00:10:50] *** Quits: mib_p3nm3d (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:13:05] <cmr> pcwalton: r? https://github.com/rust-lang/rust/pull/23670
[00:13:57] <huon> cmr: \o/
[00:14:00] <pcwalton> cmr: r+
[00:14:34] <pcwalton> btw, here's something I found that may be really big https://github.com/rust-lang/rust/issues/23657
[00:15:04] <pcwalton> oh cool, dotdash is on it
[00:17:12] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[00:18:16] <cmr> Gankro: fyi issues like https://github.com/rust-lang/rust/issues/23069 are not I-slow but I-compiletime
[00:20:59] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:21:40] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:21:44] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[00:22:38] <cmr> doener: ^
[00:22:57] <reem> aturon: btw I just did stability checking for hyper and it uses considerably more than iron: https://github.com/hyperium/hyper/issues/396. I expect this to be the case for most other dependencies also, just so you know.
[00:23:55] <Gankro> cmr: good catch
[00:25:29] *** Joins: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP)
[00:27:07] <erickt> speaking of speeding things up, I finally got around to pushing up my #[inline]-ing of Read/Write for &[u8]/Vec<u8>: https://github.com/rust-lang/rust/pull/23680
[00:27:30] <erickt> the benchmark I added doubles it's performance
[00:27:43] <reem> I worry a lot sometimes that actually optimizing rust is black magic
[00:27:52] <huon> s/rust//
[00:27:53] <cmr> reem: it's no worse than C++, really.
[00:28:28] <reem> I guess I've never really tried to micro-optimize any other code to the same extent in other languages
[00:28:57] <kmc> i think it's better than C++
[00:29:06] <kmc> fewer things that happen implicitly, especially copies
[00:29:24] <eddyb> you know what's black magic? coming up with JS code that happens to optimize to something decent under average conditions
[00:29:26] <kmc> and you can try stuff that would be dangerous in C++
[00:29:56] <erickt> I think the black box-ery mainly comes into play when we're optimizing with generics
[00:29:57] <reem> eddyb: Oh man, have you ever read the source for bluebird? It looks like a completely different language.
[00:30:07] <eddyb> reem: do... I want to?
[00:30:21] <reem> It's written by a V8 engineer to be especially optimizable
[00:30:25] <reem> not really :P
[00:30:40] <cmr> erickt: yeah, and running up against the inlining threshhold can cause chaotic behavior.
[00:30:45] <eddyb> > V8 engineer
[00:30:49] <cmr> reem: link?
[00:30:56] <eddyb> reem: cool people
[00:31:17] <reem> cmr: https://github.com/petkaantonov/bluebird
[00:31:20] * erickt hopes specialization and maybe &own T could fix a lot of those cases
[00:31:31] <erickt> cmr: thanks!
[00:31:33] <reem> actually not sure if he's a V8 engineer or just very knowledgeable about JS engines
[00:34:49] <eddyb> https://github.com/petkaantonov/bluebird/blob/master/src/generators.js#L120-L121 heh
[00:34:50] <cmr> I'm going to assign myself to a bunch of perf issues and start chugging through them.
[00:34:57] <eddyb> reem: yeah, I can see what you mean
[00:35:52] <eddyb> one more https://github.com/petkaantonov/bluebird/blob/master/src/generators.js#L86-L88
[00:36:36] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[00:37:49] <erickt> nrc: do you happen to know if there's a chance we'll get default associated types in 1.0? https://github.com/rust-lang/rust/issues/19476
[00:38:17] <cmr> Yurume: when you open the strconv PR can you add it as closing https://github.com/rust-lang/rust/issues/19218 ?
[00:38:18] *** Quits: brson (brson@moz-7ji.c9m.56.172.IP) (Quit: leaving)
[00:38:19] <nrc> erickt: almost certainly not
[00:38:28] <nrc> no one is really pressing for it
[00:38:36] <nrc> or working on it (that I know about)
[00:38:38] <erickt> because it'd be handy to replace io::Read::bytes's implementation for &[u8] to self.bytes().map(|byte| Ok(byte))
[00:38:48] <erickt> aw that's a shame
[00:39:36] <erickt> well I suppose we could convert io::Read::bytes's return type backwards compatibly
[00:40:33] <Yurume> cmr: strconv does not fix that (right now). it is more linked to the formatting API.
[00:40:48] <Yurume> I do plan to tackle them but not soon.
[00:41:03] <cmr> Yurume: oh, ok.
[00:41:29] <Yurume> cmr: (mostly because my work so far only handles floating point numbers)
[00:48:38] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:49:33] <cmr> steveklabnik: can you move https://github.com/rust-lang/rust/issues/14540 to rfcs?
[00:53:53] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[00:54:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[00:58:33] *** Joins: brson (brson@moz-7ji.c9m.56.172.IP)
[00:58:33] *** ChanServ sets mode: +o brson
[00:59:51] *** Quits: brson (brson@moz-7ji.c9m.56.172.IP) (Quit: leaving)
[00:59:55] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:00:47] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:03:11] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[01:03:20] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:03:23] *** Quits: Sergio (Sergio@moz-23roph.bz) (Ping timeout: 121 seconds)
[01:05:51] <aturon> reem: thanks! we've got work underway on most of these -- I think Error just landed :) probably FromPrimitive is the trickiest one, and huon is working on it right now
[01:06:22] <aturon> reem: i presume FromPrimitive is being used via derive for an enum?
[01:06:58] <reem> no actually
[01:07:03] <reem> it's for an enum, StatusCode, but it's not derived
[01:07:34] <reem> https://github.com/hyperium/hyper/blob/master/src/status.rs#L477-L553
[01:08:51] <aturon> reem: oh? do tell :)
[01:09:07] <reem> see link above ^
[01:09:18] <aturon> reem: sorry connectivity issues
[01:09:23] <reem> https://github.com/hyperium/hyper/blob/master/src/status.rs#L477-L553
[01:09:38] <reem> my bad, I have joins/disconnects hidden
[01:09:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:10:30] <aturon> reem: ok thanks for the link, I will look into this soon and get back to you
[01:10:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:11:22] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[01:11:37] <reem> I'm linking everything else to this issue https://github.com/iron/iron/issues/317, so you should be able to watch progress from one place once I've added a sub-issue to each dependency.
[01:12:18] *** Quits: Ferreus (ferreus@moz-r468ou.68ev.buuc.2028.2a02.IP) (Quit: WeeChat 1.1.1)
[01:14:26] <aturon> reem: <3
[01:15:25] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[01:15:52] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[01:16:45] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[01:17:35] *** Joins: sproing (Mibbit@moz-k7nrcl.iinet.net.au)
[01:17:39] *** Quits: sproing (Mibbit@moz-k7nrcl.iinet.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[01:18:25] *** Joins: Sergio (Sergio@moz-23roph.bz)
[01:20:32] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:20:59] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[01:21:07] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[01:22:26] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[01:23:39] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:30:33] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:47:09] *** Joins: mib_7lmym7 (Mibbit@moz-juv.9o3.252.72.IP)
[01:53:47] *** Quits: mystor_ (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[01:55:54] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:56:51] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[02:01:30] *** Quits: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP) (Quit: Leaving)
[02:02:19] *** Quits: mib_7lmym7 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:05:33] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[02:07:54] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:07:54] *** ChanServ sets mode: +o pcwalton
[02:10:05] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[02:11:09] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[02:13:56] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Ping timeout: 121 seconds)
[02:19:04] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:22:23] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[02:32:18] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:39:30] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:43:27] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[02:43:38] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[02:47:36] <reem> aturon: What do you want me to do about rust-lang crates? Specifically iron currently pulls in log, rustc-serialize, libc, and time.
[02:55:06] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Ping timeout: 121 seconds)
[02:56:49] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:57:31] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:59:43] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[03:02:28] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[03:04:15] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[03:05:23] *** Joins: reem_ (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP)
[03:09:18] *** Quits: reem (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[03:10:59] *** Quits: reem_ (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP) (Connection closed)
[03:11:01] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:12:53] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:17:26] *** Joins: garming (garming@moz-pqd1u2.xtra.co.nz)
[03:23:58] *** Quits: garming (garming@moz-pqd1u2.xtra.co.nz) (Ping timeout: 121 seconds)
[03:24:53] *** Quits: kimundi (kimundi@moz-7lq6bi.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:26:10] *** Joins: garming (garming@moz-pqd1u2.xtra.co.nz)
[03:26:43] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:27:52] *** Joins: zz_kimundi (kimundi@moz-b2ofg1.dip0.t-ipconnect.de)
[03:27:53] *** zz_kimundi is now known as kimundi
[03:28:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:28:58] *** ChanServ sets mode: +o pcwalton
[03:35:00] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Ping timeout: 121 seconds)
[03:35:31] <huon> aturon: ping
[03:35:43] <aturon> huon: pong
[03:36:02] <huon> aturon: what conversion do we want for From(u8, u16) etc.? just the same as what FromPrimitive currently does?
[03:36:44] <aturon> huon: i think so, yeah. ideally it would error out if the enum is too big to store in the given size
[03:37:01] <sfackler> huon: can you publish a new librand?
[03:37:29] <huon> sfackler: in a few minutes, yeah
[03:37:38] <huon> aturon: hm, not sure if I can do that easily...
[03:37:47] <aturon> the erroring? it's fine
[03:37:52] <aturon> just a passing thought
[03:38:21] * huon thinks
[03:39:04] <huon> (yeah, the erroring)
[03:40:34] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:40:34] *** ChanServ sets mode: +o pcwalton
[03:41:25] <huon> hm, should this be a new version?
[03:41:27] <huon> sfackler: ^
[03:41:47] <huon> only major change is bumping log
[03:42:12] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:43:37] <sfackler> maybe?
[03:43:50] <sfackler> actually yeah, it probably should
[03:43:55] <sfackler> since log is a "public" depencency
[03:44:04] <sfackler> i.e. downstream code depends on the version being used
[03:44:40] <huon> ah, right, yeah.
[03:45:25] <huon> done
[03:46:36] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Ping timeout: 121 seconds)
[03:47:03] <huon> straw poll: should #[derive(From())] be a warning/error?
[03:47:06] <huon> aturon: ^
[03:48:07] *** Quits: pkondzior (uid768@moz-gsp5c1.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[03:49:22] <huon> aturon: hm, error handling is worse
[03:49:35] <huon> aturon: since From returns a Self
[03:50:02] <huon> rather than an Option
[03:50:13] <huon> or Result
[03:51:29] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:51:49] *** Quits: sp3d (sp3d@moz-q1fd29.il.comcast.net) (Ping timeout: 121 seconds)
[03:53:52] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[03:53:56] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:54:01] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:56:11] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:56:16] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:57:17] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:58:22] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[03:58:27] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:58:53] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:58:58] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:59:12] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:59:17] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:59:48] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[03:59:51] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:00:26] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:00:31] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:01:29] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:01:45] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:01:50] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:02:09] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[04:02:23] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[04:02:47] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:02:51] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:04:30] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:04:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:04:36] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:04:54] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:05:00] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:12:45] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:12:50] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:15:12] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Quit: leaving)
[04:19:27] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[04:27:35] *** Joins: semarie (semarie@moz-8jvbfr.nmte.ch)
[04:29:41] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-4oqi82.dynamic.qsc.de) (Ping timeout: 121 seconds)
[04:31:49] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:35:38] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[04:36:05] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:41:42] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[04:42:35] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[04:48:03] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[04:51:08] *** Quits: marsel (user@moz-o3p.ehs.180.94.IP) (Ping timeout: 121 seconds)
[04:52:35] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[04:54:58] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[05:10:37] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:17:04] *** Joins: marsel (user@moz-ksq.end.162.188.IP)
[05:17:31] *** Quits: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP) (Ping timeout: 121 seconds)
[05:20:17] *** Quits: eddyb (eddyb@moz-dhp.t65.25.188.IP) (Ping timeout: 121 seconds)
[05:22:52] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[05:35:36] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:39:26] *** Quits: O01eg (o01eg@moz-c0o96v.vve2.4n8f.2698.2a02.IP) (Client exited)
[05:42:11] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[05:42:52] *** Quits: jxv (jxv___@moz-2celrt.res.rr.com) (Connection closed)
[05:44:18] *** Joins: jdm (jdm@moz-li5.ooe.161.108.IP)
[05:46:17] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:46:43] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[05:51:46] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:53:25] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[06:04:23] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[06:04:49] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:05:18] <Manishearth> huon: what's From?
[06:05:22] <Manishearth> the cast thingy?
[06:05:49] <Manishearth> also, #[derive] shouldn't error, cf raw_pointer_derive
[06:06:00] <carllerche> How does one implement a trait for [u8; N]?
[06:06:08] <carllerche> I thought that impl MyTrait for [u8] would work
[06:10:01] <nrc> one doesn't
[06:10:11] <nrc> you have to implement for each N you want
[06:10:46] <nrc> [u8; N] coerces to [u8] but trait matching does not cause coercion
[06:12:45] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[06:15:58] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[06:16:13] *** Quits: huseby (huseby@moz-m7l0au.d2vr.5em6.6400.2605.IP) (Ping timeout: 121 seconds)
[06:17:13] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[06:21:41] *** Joins: huseby (huseby@moz-m7l0au.d2vr.5em6.6400.2605.IP)
[06:25:10] *** Joins: larhat (Adium@moz-9vj.vcf.204.37.IP)
[06:25:56] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[06:26:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:30:32] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[06:36:25] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[06:36:48] *** Quits: garming (garming@moz-pqd1u2.xtra.co.nz) (Ping timeout: 121 seconds)
[06:39:33] *** Joins: garming (garming@moz-pqd1u2.xtra.co.nz)
[06:39:59] <WindowsBunny> so when are we going to have type level integers
[06:40:07] <WindowsBunny> so I can finally be generic for all N
[06:40:24] <Mutabah> Is it RFC'd yet?
[06:40:41] <Mutabah> (I'd like to see that, so I can prepare for it in my rustc
[06:40:53] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[06:48:33] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[06:49:14] <Manishearth> acrichto: is there a place I can get a download of all the crates.io crate metadata?
[06:56:39] *** Quits: njn (chatzilla@moz-mv909v.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150322160652])
[07:01:20] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:02:18] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:04:17] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:05:43] <WindowsBunny> Manishearth: the crates io index repo
[07:06:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:08:26] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[07:14:17] *** Quits: huseby (huseby@moz-m7l0au.d2vr.5em6.6400.2605.IP) (Ping timeout: 121 seconds)
[07:20:27] *** Joins: huseby (huseby@moz-m7l0au.d2vr.5em6.6400.2605.IP)
[07:24:53] *** Quits: jdm (jdm@moz-li5.ooe.161.108.IP) (Quit: )
[07:30:33] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[07:32:16] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:35:03] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:37:02] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:40:08] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:41:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[07:44:19] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:44:47] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[07:46:30] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[07:47:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:48:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:55:58] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:56:43] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:56:59] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[07:59:25] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:01:15] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:01:28] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[08:02:30] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[08:06:52] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:07:41] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:11:07] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[08:11:36] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:15:52] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Quit: WeeChat 1.1.1)
[08:19:39] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:19:57] <nrc> it is not high priority post-1.0, but it is on the radar
[08:22:45] *** Quits: marsel (user@moz-ksq.end.162.188.IP) (Ping timeout: 121 seconds)
[08:23:04] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[08:24:41] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[08:27:56] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:28:31] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:29:13] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[08:30:33] *** Joins: ptalbot (ptalbot@moz-o7b.pls.102.129.IP)
[08:32:34] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[08:33:24] *** Tobba|Craptop is now known as Tobba|Laptop
[08:35:50] *** Joins: imperio (Mibbit@moz-psdrik.rev.sfr.net)
[08:45:52] *** Quits: larhat (Adium@moz-9vj.vcf.204.37.IP) (Quit: Leaving.)
[08:55:04] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[08:55:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:02:57] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:03:05] *** Joins: dinfuehr (dinfuehr@moz-uukgs8.tuwien.ac.at)
[09:03:14] <Mutabah> Question - Do macros invoke from inside out, or outside in?
[09:03:32] <Mutabah> E.g. outer!( inner!( ) ), will inner!() be expanded first, or will outer!()?
[09:04:02] <klutzy> outer first afaik
[09:04:31] <imperio> klutzy: seriously ? It's super weird. How can it works like that ? O.o
[09:05:02] <Mutabah> imperio: The parser invocation on the result of outer! expands inner!
[09:06:36] <imperio> Mutabah: well, ok... One thing to add to my reading list
[09:06:48] <Mutabah> well.. that's how I implement it
[09:07:01] <Mutabah> I asked because I wasn't sure what the real order is
[09:07:41] <Mutabah> (hit it trying to parse `concat!( "string ". stringify!( ... ) )`)
[09:08:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:08:58] <imperio> Mutabah: it's possible to call macro just like a method ? Didn't know that !
[09:09:31] <klutzy> you can write a macro that accepts any input i.e. $($t:tt)* and pass it to other macro, which only accepts specific args
[09:10:27] <imperio> klutzy: I was lookling for something like that a few days ago. I'm glad to see it's finally possibl
[09:11:01] <klutzy> macro rules! :D
[09:11:50] <imperio> klutzy: macros are really complicated. It's hard to see that you can do something sometime because it's very complete and dense
[09:15:48] <klutzy> imperio: my hobby is writing macros which autoimplement serialize/deserialize routines e.g. https://github.com/klutzy/suruga/blob/x509-parser/src/x509/certificate.rs
[09:15:57] <klutzy> surely it's sometimes super tricky
[09:16:02] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:17:19] <imperio> klutzy: I think I'm gonna read all this code this evening. Very interesting, thanks for the link !
[09:18:23] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[09:18:52] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[09:20:11] <Mutabah> imperio: Sorry, that was meant to be a , not a .
[09:20:25] *** Joins: pkondzior (uid768@moz-gsp5c1.uxbridge.irccloud.com)
[09:20:49] <imperio> Mutabah: now I disappointed... You gave me hope and then you took it back ! You're terrible...
[09:20:57] <Mutabah> :D Sorry
[09:22:35] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[09:23:22] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[09:28:13] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:28:28] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:28:29] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:44:01] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:46:07] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:47:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:50:53] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:53:35] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[09:54:38] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[09:55:38] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:00:48] *** Joins: c0170_ (c0170@moz-bb29a4.cambridge.arm.com)
[10:02:25] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[10:03:31] <WindowsBunny> klutzy: I really wish macros could output identifiers
[10:05:43] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[10:05:44] *** ChanServ sets mode: +o pnkfelix
[10:06:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:13:02] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[10:14:09] *** Joins: ytain (ytain@moz-vhndj2.dsl.teksavvy.com)
[10:14:46] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[10:16:45] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:17:31] *** Joins: mjboa_ (mike@moz-n5270k.dip0.t-ipconnect.de)
[10:17:34] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:17:55] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[10:23:50] *** Joins: hirsch (hirschen@moz-2k94rn.itwm.fhg.de)
[10:31:11] <hirsch> Hi, I'm working on #23339 (ICE on integral SIMD division) and for a clean fix, I habe to check, if a LLVMVector contains a Zero in one of it's elements. I implemented a wrapper for LLVMConstExtractElement and iterate the vector's elements. Then doing an ICmp but I get an llvm assertion:
[10:31:13] <hirsch> rustc: ../../../../src/llvm/include/llvm/Support/Casting.h:237: typename llvm::cast_retty<X, Y*>::ret_type llvm::cast(Y*) [with X = llvm::Constant; Y = llvm::Value; typename llvm::cast_retty<X, Y*>::ret_type = llvm::Constant*]: Assertion `isa<X>(Val) && "cast<Ty>() argument of incompatible type!"' failed.
[10:31:53] <hirsch> Do I have to dereference the pointer before comparison?
[10:32:45] *** Joins: eibwen (eibwen@moz-gkge9k.dip0.t-ipconnect.de)
[10:33:03] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[10:34:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[10:34:28] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[10:34:29] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[10:35:07] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:35:54] *** Quits: c0170_ (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[10:39:03] *** Joins: ytain_ (ytain@moz-ldmhhn.dsl.teksavvy.com)
[10:41:55] *** Quits: ytain (ytain@moz-vhndj2.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[10:42:11] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:46:06] <huon> hirsch: I suspect ConstExtractElement isn't what you want
[10:47:07] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:48:12] *** Quits: garming (garming@moz-pqd1u2.xtra.co.nz) (Connection closed)
[10:48:16] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[10:48:26] <hirsch> huon: how can I get the value of a vector element
[10:49:07] <huon> hirsch: I believe trans::build::ExtractValue is what you want for SIMD types
[10:49:39] <huon> (I believe ConstExtractElement is designed to works on aggregate types (structs) in constant expressions.)
[10:51:38] <hirsch> But http://llvm.org/docs/LangRef.html#extractelement-instruction says it is a vector instruction
[10:51:56] <huon> oh, whoops, I got thme backwards
[10:51:57] <huon> sorry,
[10:52:01] <huon> trans::build::ExtractElement
[10:52:21] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (Ping timeout: 121 seconds)
[10:52:26] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[10:53:20] <hirsch> huon: yes I didn't realize it already exists, I'll try my luck
[10:56:19] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[10:57:58] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[10:58:34] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:59:03] <Manishearth> WindowsBunny: it doesnt have all the details
[11:02:01] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-4oqi82.dynamic.qsc.de)
[11:04:42] *** Quits: WindowsBunny (Peter@moz-7f2st1.east.verizon.net) (Connection closed)
[11:06:38] *** Joins: WindowsBunny (Peter@moz-7f2st1.east.verizon.net)
[11:06:46] *** Quits: ptalbot (ptalbot@moz-o7b.pls.102.129.IP) (Ping timeout: 121 seconds)
[11:07:12] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[11:07:45] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[11:09:28] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[11:10:53] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[11:11:44] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[11:12:28] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[11:13:09] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[11:26:45] *** Joins: eddyb (eddyb@moz-dhp.t65.25.188.IP)
[11:27:36] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:34:49] *** Quits: semarie (semarie@moz-8jvbfr.nmte.ch) (Ping timeout: 121 seconds)
[11:35:00] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[11:38:31] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Connection closed)
[11:39:01] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[11:39:57] *** Joins: semarie (semarie@moz-mcfup0.tor-relay.me)
[11:49:08] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[11:53:19] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[12:00:30] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:03:21] <huon> nmatsakis: "random" idea: allow `impl Send for Type {}` (i.e. no `unsafe`) to ensure that the default impl applies, so that there will be an error if it doesn't
[12:04:17] <huon> nmatsakis: downside: multiple meanings of `impl Send` might be confusing (also, we can do it already with `fn assert_foo_send<T: Send>() { assert_foo_send::<Foo>() }`)
[12:05:48] <eddyb> days since the last aliasing &mut in safe code bug: 0
[12:05:54] <eddyb> pnkfelix, doener: http://is.gd/tgdxGY
[12:06:09] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[12:06:15] <eddyb> *that* is the reduced test case :P
[12:06:40] <eddyb> the zeroing is merely a side-effect
[12:06:51] <huon> eddyb: zero sized types?
[12:07:05] <huon> oh, wait.
[12:07:06] <eddyb> huon: fine, I'll use something else
[12:07:11] <eddyb> the type doesn't matter, it just has to move
[12:07:13] <huon> eddyb: no, your example is fine
[12:07:15] <huon> yeah :)
[12:07:19] <pnkfelix> filed as gh23698
[12:07:19] <[o__o]> trans codegen feeds the zeroed discriminant back into match in a loop: https://github.com/rust-lang/rust/issues/23698
[12:07:29] <huon> (I was thinking the aliasing was of the () inside the Box, rather than the Box it self)
[12:07:33] <eddyb> same thing http://is.gd/iqgTlV
[12:07:41] *** Joins: marsel (user@moz-70g.6r9.234.188.IP)
[12:07:46] <Manishearth> eddyb: wait what
[12:07:47] <Manishearth> how
[12:07:48] <Manishearth> why
[12:07:52] <Manishearth> when
[12:07:55] <pnkfelix> i thought boxing of zero sized types was special cased
[12:08:04] <Manishearth> it is
[12:08:06] <pnkfelix> maybe I am misremembering
[12:08:25] <Manishearth> pnkfelix: broken with sized types too
[12:08:26] <huon> the aliasing is of two &mut Box<()>, not of two Box<()>s
[12:08:30] <pnkfelix> oh I just made the same mistake that huon did
[12:08:33] <pnkfelix> (i think)
[12:08:50] <pnkfelix> that's why its not a good bug report: too hard to misread.  :)
[12:09:22] <pnkfelix> ah I see what eddyb is saying now, though
[12:10:30] *** Joins: dasflkjwk (Mibbit@moz-r5p.f33.174.217.IP)
[12:10:44] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[12:11:40] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[12:11:53] <eddyb> huon, pnkfelix: blame deref coercions?
[12:11:58] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:12:48] *** Quits: dinfuehr (dinfuehr@moz-uukgs8.tuwien.ac.at) (Connection closed)
[12:13:09] *** Joins: dinfuehr (dinfuehr@moz-uukgs8.tuwien.ac.at)
[12:13:18] <pnkfelix> can thus further simplify and get rid of the loop
[12:13:36] <eddyb> oh
[12:13:41] *** Joins: nottc (nottc@moz-md0.0k4.168.66.IP)
[12:14:16] <eddyb> pnkfelix: let me edit my comment
[12:15:14] <pnkfelix> i like this one: http://is.gd/MTmELS
[12:17:12] *** Quits: dinfuehr (dinfuehr@moz-uukgs8.tuwien.ac.at) (Ping timeout: 121 seconds)
[12:17:46] <pnkfelix> i wonder if filling-on-drop is going to expose more bugs like this
[12:17:57] <pnkfelix> maybe not, but who knows
[12:18:20] <pnkfelix> (i guess if it was going to within the rust.git source base, then it would have already)
[12:19:18] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[12:19:47] <eddyb> I'm a bit surprised nothing hit this bug, at least not that I know of, before I managed to create an instance of it in rustc_typeck
[12:19:58] <eddyb> (proving the compiler is complex enough to stress... itself? :P)
[12:22:04] <eddyb> pnkfelix: it's pretty cool how you show that a "dead code" variant is created ex nihilo
[12:23:00] <eddyb> pnkfelix, nmatsakis: now I'll have to uglify this loop, I guess https://gist.github.com/eddyb/38b6ddfccc507dd4067a#file-coercion-rs-L334-L339
[12:23:37] <huon> pointers \o/ : TRAITS_WITH_ARGS.contains(&&**tname)
[12:24:49] <eddyb> huon: why?!
[12:25:06] <huon> can't go from a &InternedString to a &&str any other way
[12:25:26] <eddyb> why would something require &&str? that seems wrong
[12:25:42] <huon> <[T]>::contains(&T)
[12:25:49] <eddyb> oh, slices
[12:25:50] <huon> TRAIT_WITH_ARGS: &[&str]
[12:25:58] <huon> TRAITS*
[12:26:22] <huon> any generic data structure
[12:26:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:26:27] <eddyb> InternedString is a bad interface that should feel bad, but that's a different discussion entirely
[12:27:09] <eddyb> huon: I'm guessing <[String]>::contains cannot be used without &String?
[12:27:24] <eddyb> that seems like an unnecessary limitation
[12:27:56] <eddyb> but maybe it needs either defaults in inference or bound-targeting coercions to behave nicely
[12:28:05] <huon> what's bad about InternedString? it seems it always has to be a different type?
[12:28:32] <huon> just may not have been updated for Borrow or whatever we use now
[12:28:50] <eddyb> http://doc.rust-lang.org/std/collections/struct.HashMap.html#method.contains_key this is what I was thinking of when I saw `contains`
[12:29:31] <eddyb> nice, [T]'s methods are no longer accessible from std::slice
[12:30:11] *** Parts: dasflkjwk (Mibbit@moz-r5p.f33.174.217.IP) ()
[12:30:21] <eddyb> and rustdoc still has that cross-crate identity issue http://doc.rust-lang.org/std/primitive.slice.html#method.contains
[12:30:47] <eddyb> (`where T: PartialEq<T>` implies the two T's are actually different)
[12:37:33] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:38:08] *** Joins: mjboa__ (mike@moz-iddgte.dip0.t-ipconnect.de)
[12:41:07] *** Quits: mjboa_ (mike@moz-n5270k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:42:25] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:44:21] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[12:44:23] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[12:46:51] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:47:16] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[12:47:25] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:53:58] *** Joins: barosl_ (barosl@moz-tmp.qma.67.220.IP)
[12:55:14] *** Quits: barosl (barosl@moz-7vg.qma.67.220.IP) (Connection closed)
[12:55:20] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[12:55:22] *** Quits: Kxepal (Miranda@moz-u7povl.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[12:56:58] *** Joins: Kxepal (Miranda@moz-poo2t8.pppoe.mtu-net.ru)
[12:58:29] *** Quits: barosl_ (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[13:03:26] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[13:04:56] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[13:06:09] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[13:09:04] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[13:25:29] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[13:26:11] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[13:27:04] *** Joins: ptalbot (ptalbot@moz-o7b.pls.102.129.IP)
[13:34:18] <barosl> Huh? It seems that my post got disappeared from the internals forum
[13:34:32] <barosl> Any admins here?
[13:34:52] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[13:39:20] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[13:41:40] *** Joins: kaswdhgf (Mibbit@moz-r5p.f33.174.217.IP)
[13:43:03] *** Quits: kaswdhgf (Mibbit@moz-r5p.f33.174.217.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:44:36] *** Joins: mib_feu18t (Mibbit@moz-juv.9o3.252.72.IP)
[13:47:02] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[13:53:11] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[14:00:06] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[14:00:06] *** ChanServ sets mode: +o nrc
[14:02:55] *** Quits: mib_feu18t (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:05:01] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[14:05:53] <pnkfelix> barosl: there was something you posted that had been flagged as spam somehow
[14:06:05] <pnkfelix> barosl: but I don't know if that is what you were referencing above
[14:06:10] <barosl> pnkfelix, Yes, I believe it was the word I used in the body - "sexy"
[14:06:11] <pnkfelix> barosl: (I just okay'ed it)
[14:06:24] <barosl> I should have replaced it with "attractive", I guess
[14:07:04] <barosl> Done!
[14:08:20] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[14:09:47] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[14:10:08] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[14:12:52] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[14:18:13] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[14:26:10] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:30:29] *** Quits: ptalbot (ptalbot@moz-o7b.pls.102.129.IP) (Ping timeout: 121 seconds)
[14:30:55] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:33:26] *** Joins: brson (brson@moz-kc2.7vl.56.172.IP)
[14:33:26] *** ChanServ sets mode: +o brson
[14:39:55] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[14:40:29] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:40:57] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:41:24] *** Quits: untitaker (untitaker@moz-6tlunf.highway.telekom.at) (Ping timeout: 121 seconds)
[14:41:55] <barosl> Wait. Was the Rust's file extension .rc?!
[14:42:10] <cmr> barosl: yeah, crate roots  used to be cratename.rc
[14:42:33] <barosl> A-ha. Replacing nowadays' lib.rs?
[14:42:35] <cmr> (and, long before that, it was a weird not-rust configuration language)
[14:42:44] <cmr> yeah
[14:44:20] <barosl> I appreciate the change to .rs, as I don't want my Visual Studio to open a Rust file using its resource editor!
[14:44:57] *** Joins: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP)
[14:45:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[14:45:17] <Manishearth> cmr: so...we're back to weird not-rust configuration language with toml? :P
[14:45:29] <Manishearth> barosl: Servo still has a couple of .rc files lying around
[14:45:33] <Manishearth> in azure and all
[14:45:36] <cmr> Manishearth: heh, yeah...
[14:46:16] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[14:46:32] *** Joins: untitaker (untitaker@moz-0g9kb3.highway.telekom.at)
[14:46:47] *** Quits: marsel (user@moz-70g.6r9.234.188.IP) (Ping timeout: 121 seconds)
[14:47:17] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:49:42] <barosl> Manishearth, Azure? What is azure?
[14:50:08] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:52:00] *** Joins: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP)
[14:55:25] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Quit: Going offline for a little while.)
[14:55:44] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:55:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:56:16] <Manishearth> barosl: barosl https://github.com/servo/rust-azure
[14:56:22] <Manishearth> huh, no longer azure.rc
[14:56:28] <Manishearth> someone seems to have fixed that
[14:59:00] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:01:30] *** sunfish-away is now known as sunfish
[15:01:50] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:01:58] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:03:02] <acrichto> Manishearth: it depends what metadata you need, for example if it's just dependency info you can take a look at the index, otherwise you'll have to hit the HTTP api
[15:05:33] *** Joins: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP)
[15:05:33] *** ChanServ sets mode: +o pnkfelix
[15:06:32] *** Joins: minzh (minzh@moz-vrp.b70.39.106.IP)
[15:07:04] <imperio> acrichto: I think a breaking change in needed on std::fs gh23666
[15:07:05] <[o__o]> File metadata panics on data modified in far future: https://github.com/rust-lang/rust/issues/23666
[15:07:16] <acrichto> imperio: it's an unstable API so it's ok
[15:07:24] <acrichto> imperio: I think it may also be best to leave as is
[15:07:32] <acrichto> we did not stabilize it because it returns u64
[15:07:38] <acrichto> we would prefer a more official abstraction
[15:08:02] <imperio> hum... Then a RFC is needed for doing such I guess ?
[15:08:25] <imperio> for now, should we patch it by returning an Option or not ?
[15:08:47] <acrichto> no it should not return Option
[15:08:59] <acrichto> the fix is to return a proper timestamp
[15:09:03] <acrichto> but that is an involved fix
[15:09:41] <imperio> by proper timestamp, do you mean a timestamp struct or something like that ?
[15:10:13] <acrichto> yes
[15:11:06] <imperio> ok !
[15:11:27] <imperio> so we wait the definitive timestamp type for fixing this up ?
[15:11:38] <acrichto> that would be my vote, yes
[15:11:53] <pnkfelix> does @bors try do the run-make tests?
[15:12:09] <imperio> can you say it "officially" on the issue please ?
[15:13:47] *** Quits: brson (brson@moz-kc2.7vl.56.172.IP) (Quit: leaving)
[15:13:58] *** Joins: brson (brson@moz-kc2.7vl.56.172.IP)
[15:13:58] *** ChanServ sets mode: +o brson
[15:15:10] *** Joins: marcusklaas (marcus@moz-li2573.dynamic.upc.nl)
[15:15:15] <acrichto> pnkfelix: yes
[15:15:19] <acrichto> pnkfelix: oh wait, no
[15:15:23] <acrichto> wrong parsing of that question
[15:15:42] <pnkfelix> acrichto: and pushing to try won't do the run-make tests either, right?
[15:15:53] <acrichto> unfortunately no :(
[15:16:41] <barosl> Maybe we should need `@bors try using the auto branch`!
[15:16:42] <pnkfelix> hmm.  I'm conditionally emitting an llvm.debugtrap as part of filling-drop (because a full-fledged panic seems ridiculously expensive for this), and I don't know a good way to test it
[15:16:56] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:17:32] <pnkfelix> I suppose I could just make a run-pass (or run-fail, whatever) test that fires up the executable and checks its exit code.
[15:18:21] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[15:18:24] <acrichto> pnkfelix: I personally like the run-pass-test-that-executes-itself
[15:18:25] <acrichto> strategy
[15:18:32] <acrichto> and you can check the exit status of the child
[15:18:34] <pnkfelix> acrichto: yeah I'm now thinking I'll do that.
[15:18:42] <acrichto> I basically avoid run-make as much as possible
[15:19:34] <eddyb> running run-make tests requires compiling stage2 even if you're testing stage1 :(
[15:20:42] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[15:24:52] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[15:25:02] <imperio> acrichto: since there's already a RFC on fs, should we add the timestamp struct to it directly ? I'm not sure that's the same "work" (can't find the good word for it)
[15:30:27] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[15:35:05] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[15:38:30] *** Quits: brson (brson@moz-kc2.7vl.56.172.IP) (Quit: leaving)
[15:38:40] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[15:47:00] <Gankro> What's the current status on the validity of transmuting & to &mut transiently for code-reuse?
[15:47:37] <cmr> Gankro: it's still wildly illegal.
[15:47:50] <cmr> if you write to the &mut
[15:48:55] <Gankro> cmr: but if it's just & -> &mut (call search method that returns internal &mut -> & ?
[15:49:48] <Gankro> e.g. `fn search(&self) -> &T` calling `fn search_mut(&mut self) -> &mut T`
[15:50:26] <Gankro> Neither mutates, they're just finding an address
[15:50:39] <cmr> That shouldn't expose any UB.
[15:50:56] <Gankro> shouldn't or can't?
[15:51:27] <cmr> well, it won't right now, and I don't see how it could.
[15:52:25] <Gankro> cmr: What about the other direction?
[15:52:31] <cmr> The other direction is fine.
[15:52:59] <steveklabnik> acrichto: ping
[15:53:06] <cmr> & -> &mut is risky and fraught with peril, &mut -> & is harmless if you don't write through the &mut
[15:53:24] <acrichto> steveklabnik: pong
[15:53:29] <acrichto> imperio: yeah feel free to leave a comment
[15:53:34] <steveklabnik> acrichto: we need new releases of getopts and semver
[15:53:55] <steveklabnik> acrichto: iirc only you and huon can push to crates.io
[15:54:09] <acrichto> I just released semver
[15:54:54] <acrichto> steveklabnik: getopts works ok for me?
[15:55:12] <steveklabnik> https://github.com/rust-lang/getopts/commits/master
[15:55:18] <steveklabnik> 4 commits
[15:55:23] <steveklabnik> one including 'update to master'
[15:55:32] <acrichto> oh
[15:55:59] <acrichto> published
[15:56:34] <Gankro> cmr: & is also more convenient to work with... so probably the better one to convert to anyway...
[15:56:44] <steveklabnik> acrichto: <3
[15:59:07] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[15:59:54] *** Quits: marcusklaas (marcus@moz-li2573.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:00:38] <imperio> acrichto: ok
[16:00:42] *** Quits: minzh (minzh@moz-vrp.b70.39.106.IP) (A TLS packet with unexpected length was received.)
[16:01:04] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[16:02:11] *** Joins: aturon1 (Adium@moz-9grpt4.rgd2.9kg1.0101.2620.IP)
[16:02:32] *** Quits: aturon1 (Adium@moz-9grpt4.rgd2.9kg1.0101.2620.IP) (Quit: Leaving.)
[16:04:50] <eddyb> &mut T might not be harmless even if you don't write to it, but we don't emit the aliasing metadata to be able to falsify that theory
[16:05:59] <eddyb> Gankro: I wonder if one could write a safe generic wrapper using HRTB
[16:07:12] <eddyb> (&'a mut T, for<'b> Fn(&'b T) -> &'b U) -> &'a mut U
[16:08:22] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:08:22] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[16:09:17] <eddyb> Gankro, cmr, huon: ^^ proving misuse cannot occur is left as an exercise to the reader :P
[16:09:26] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:09:44] *** Quits: amir (amir@moz-qbf4gg.fiber7.init7.net) (Ping timeout: 121 seconds)
[16:10:12] <eddyb> (dammit, I found one already: &Rc<T> -> &T)
[16:12:10] <erickt> am I misreading http://buildbot.rust-lang.org/console?refresh=15, or do we not actually have any builds running at the moment?
[16:13:05] <Gankro> erickt: homu seems to think there's two pending PRs... must be in a bad state
[16:13:22] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[16:13:31] <eddyb> Gankro: or one is in try
[16:13:46] <eddyb> (@bors try uses auto bots)
[16:13:56] <eddyb> autobots lol
[16:13:57] <Gankro> eddyb: That shows up as `pending` in the queue?
[16:14:17] <Gankro> oh wait I'm dumb
[16:14:21] <Gankro> I was looking at legit bors
[16:14:26] <Gankro> old habits :P
[16:14:34] <eddyb> what do you mean by legit?
[16:14:36] <eddyb> legacy?
[16:15:13] <Gankro> http://buildbot.rust-lang.org/bors/bors.html
[16:15:37] <eddyb> thought so
[16:16:19] <Gankro> homu continues to be 100% superior (actually shows try as distinct)
[16:16:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[16:17:10] *** Joins: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP)
[16:27:11] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[16:27:39] *** Quits: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[16:29:51] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[16:30:10] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Connection closed)
[16:30:17] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[16:30:19] *** Joins: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP)
[16:31:05] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:32:27] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[16:32:53] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[16:37:04] *** Joins: O01eg (o01eg@moz-3pqblv.qive.3egh.2698.2a02.IP)
[16:39:43] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[16:41:50] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[16:43:44] *** Joins: pitdicker (Paul@moz-328u1s.adsl.online.nl)
[16:43:46] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[16:45:35] *** Quits: imperio (Mibbit@moz-psdrik.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:48:08] <erickt> aturon: ping
[16:49:51] <Gankro> eddyb: True generalizing over & and &mut would need special semantics, I think. Depending on how it works, I suppose. You might be able to just treat them as &'s, but you need to be careful about multiple aliasing leaking out
[16:51:11] <Gankro> e.g. it's probably fine to get two &? references to the same address, but not if they're both returned. If you make them unaliasable then you should be fine (and that might be simpler)
[16:51:16] <eddyb> Gankro: they can't leak out because of the HRTB
[16:51:49] *** Joins: kmcguire (kmcguire@moz-7em.2c1.78.97.IP)
[16:52:11] <Gankro> eddyb: I've honestly never run into a scenario that needs `for<'a>`, so I don't really have a mental model for them yet
[16:52:27] <Gankro> I just know that something something closures need them
[16:52:30] <eddyb> that's... amazing, given the collections work you've done
[16:52:42] <eddyb> I guess most of it deals with values and not references
[16:52:51] <Gankro> Yeah
[16:53:04] <Gankro> I mean all the collections existed before for<'a>
[16:53:20] <Gankro> And all the closures collections use are just like _with methods
[16:53:32] <eddyb> Gankro: fn foo<'a>(x: &'a T) -> &'a U implements for<'a> Fn(&'a T) -> &'a U
[16:53:41] <eddyb> Gankro: no, for<'a> has existed for a long time
[16:53:48] <eddyb> in other forms
[16:53:58] <eddyb> <'a> |&'a T| -> &'a U
[16:54:06] <eddyb> maybe you've seen that one in the past
[16:54:15] <Gankro> Not knowingly
[16:54:28] <eddyb> Gankro: the problem, however, in my example interface, is that not all immutably accessible fields are also mutably accessible (see the Rc example)
[16:54:32] <Gankro> All the closures would be &T -> U or T -> U
[16:54:50] <eddyb> Gankro: &T is sugar for `for<'a> &'a T` :D
[16:55:12] <eddyb> and if the closure takes &mut T... then it can mutate things it's not supposed to
[16:55:16] <Gankro> eddyb: Yeah but I never need to *write* it
[16:55:32] <Manishearth> eddyb: nice
[16:55:35] <eddyb> so really, you want to be generic over mutability
[16:55:41] <Gankro> eddyb: absolutely
[16:55:42] <eddyb> can you be generic over mutability?
[16:55:44] <Manishearth> we don't support Ts in for, right?
[16:55:53] <Gankro> eddyb: On paper, I dunno about impl-wise
[16:56:04] <eddyb> Gankro: I'm thinking some fancy trait machinery
[16:56:13] <Manishearth> are we trying to HKT?
[16:56:39] <eddyb> Gankro: ugh first class lvalues wanted
[16:57:33] <Gankro> eddyb: `fn<mut? a>(&a T) -> &a U` or some nonsense seems like something that should work fine
[16:57:43] <eddyb> Gankro: not trivial to implement
[16:57:44] <Gankro> Manishearth: Basically
[16:57:48] <Gankro> eddyb: For sure
[16:57:56] *** Joins: mib_mbvx9a (Mibbit@moz-juv.9o3.252.72.IP)
[16:57:58] <eddyb> we need to compress rustc source first
[16:58:10] <eddyb> and I'm looking at a lot of code I have no idea how to reduce :(
[16:58:28] <Gankro> eddyb: rewrites imminent?
[16:58:41] <eddyb> Gankro: that barely helps and you know it :P
[16:58:53] <Gankro> eddyb: eh, would certainly modernize the code
[16:59:18] <Gankro> God forbid reduce a refcell or two?
[16:59:22] <eddyb> none of it is using @T so I don't know what you're talking about
[16:59:26] *** Quits: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[16:59:48] <Gankro> eddyb: g2g
[16:59:59] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[16:59:59] <eddyb> Gankro: we probably want append-only collections
[17:00:21] <eddyb> but HashMap is problematic because it still needs to move things
[17:00:37] <eddyb> wait, no, that wasn't it
[17:01:07] <eddyb> the trick was to have a collection of references, that you can append to from a shared reference to the collection
[17:01:16] <eddyb> or a collection of boxes, or anything that introduces indirection
[17:01:43] <eddyb> none of our caches *need* RefCell<HashMap<...>>, there's just nothing better there atm
[17:03:00] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[17:03:19] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Ping timeout: 121 seconds)
[17:04:10] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[17:12:04] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[17:14:35] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:14:39] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[17:17:06] *** Quits: mib_mbvx9a (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:17:18] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:22:01] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:24:17] <erickt> ooh From::from landed!
[17:24:38] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[17:27:40] <erickt> Gankro: now that `&mut vec[..]`, do you know if Vec::as_mut_slice() is on the deprecation list?
[17:27:50] <erickt> err, now that ^ works
[17:30:17] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[17:30:40] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[17:32:20] <erickt> I'm worried that after 1.0 it's not going to feel like Christmas anymore when I read through the git history
[17:32:45] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[17:34:47] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:35:44] <eddyb> I wouldn't be surprised if the `as` keyword becomes overloadable through one of those traits
[17:39:04] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:39:27] <pnkfelix> hmm, does `@bors try` produce results for all build targets, regardless if one fails early on?
[17:39:59] <pnkfelix> or if one fails, say just for example, BSD, does it cancel the try build overall?
[17:40:09] <eddyb> pnkfelix: it's possible... then again, it does use the same auto bots so there might not be an way for homu to control it
[17:40:25] <eddyb> pnkfelix: BSD failures do not kill auto builds
[17:40:43] <pnkfelix> eddyb: but it did signal a test failure on my PR: https://github.com/rust-lang/rust/pull/23535
[17:40:49] *** Joins: dcb (textual@moz-1en.ruf.170.166.IP)
[17:41:00] <pnkfelix> eddyb: i wish I knew whether that meant it actually worked
[17:41:04] <eddyb> interesting
[17:41:09] <eddyb> pnkfelix: you can probably find the buildset
[17:41:15] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:41:26] <eddyb> I mean, *maybe*. it's buildbot after all (ugh)
[17:42:02] <eddyb> it doesn't show up on the grid view :|
[17:42:10] <pnkfelix> ah I think i found my anser
[17:42:18] <pnkfelix> looks like it failed on other targets, but for a different reason
[17:42:22] <pnkfelix> so I need to try try again
[17:45:19] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[17:46:01] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[17:46:55] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:47:54] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[17:47:54] *** ChanServ sets mode: +o nrc
[17:47:59] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:47:59] *** ChanServ sets mode: +o pcwalton
[17:49:44] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:51:32] *** Quits: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP) (Ping timeout: 121 seconds)
[17:51:48] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:51:55] *** cmr changes topic to '6 days to 1.0.0-beta http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[17:53:43] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[17:57:59] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:00:11] <carllerche> beta is coming!
[18:01:40] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:01:49] * erickt is excited / afraid of the unstable-being-disabled fallout
[18:03:37] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[18:03:50] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[18:06:22] <eddyb> fallout: new rust
[18:14:21] <erickt> I'm not sure what I'm going to do with myself when rust is stable
[18:15:47] <pcwalton> erickt: speaking tours, commencement speeches, etc
[18:15:54] *** Joins: {-}grant ({0}grant@moz-k7fknj.mo.charter.com)
[18:16:24] <pcwalton> plenty of work for elder statesmen of Rust
[18:18:09] <imperio> The BufferedWriter have been removed and I can't find its equivalent (more specifically, someting to use write_i8 and stuff). Do someone know what is it now please ?
[18:22:55] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:23:34] <aturon> erickt: pong
[18:24:35] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[18:25:36] *** Joins: samnmax (samnmax@moz-1vk.aq9.27.72.IP)
[18:26:39] <Gankro> erickt: I would assume so? aturon might know better
[18:27:13] <sfackler> imperio: BufWriter is the replacement for BufferedWriter
[18:27:28] <sfackler> there are crates on crates.io that provide write_i8 etc
[18:27:41] <WindowsBunny> aturon: Would it be okay if I wrote a PR to make println not panic when there's no stdout?
[18:28:19] <aturon> WindowsBunny: hm, we might want to discuss on an RFC. what would it do instead?
[18:28:28] <WindowsBunny> Output to the void?
[18:28:46] <WindowsBunny> What's the behavior on linux if there's no stdout?
[18:29:03] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:29:15] <imperio> steveklabnik: That's what I thought but where are the write_be_u8, write_le_i32 and all ?
[18:29:25] <WindowsBunny> If a process is spawned without a terminal, and you println, does it panic on linux?
[18:29:37] <sfackler> imperio: they're not in the standard library anymore
[18:29:44] <imperio> sfackler: That's what I thought but where are the write_be_u8, write_le_i32 and all ? (I did speak to the wrong person haha)
[18:29:57] <scott> WindowsBunny: afaik stdout is still opened to something in that case
[18:30:00] <imperio> sfackler: what ? But how are supposed to do then ?
[18:30:15] <aturon> WindowsBunny: sorry, one sec
[18:30:30] <sfackler> imperio: by using a crate from crates.io that provides the functionality
[18:30:49] <WindowsBunny> scott: If there's a difference in behavior between the two platforms, then I'd think it would make sense to make them have the same behavior
[18:30:56] <imperio> sfackler: byteorder, right ? I just read it
[18:30:57] <scott> WindowsBunny: in particular, I think it would be whatever the parent process it was forked from had, unless it redirected it
[18:31:06] <scott> WindowsBunny: it panics on windows, currently?
[18:31:10] <Gankro> imperio: Yeah that's the most popular one
[18:31:12] <WindowsBunny> scott: Yes
[18:31:20] <sfackler> if stdout is closed on either windows or *nix it'll panic: https://github.com/rust-lang/rust/blob/master/src/libstd/io/stdio.rs#L402
[18:31:36] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:32:07] <scott> it's not often closed, though, afaik
[18:32:24] <aturon> WindowsBunny: ok, i'm back. i guess you've gotten your answer already :)
[18:32:34] <aturon> WindowsBunny: but currently, basically *any* error writing to stdout will cause println to panic
[18:33:25] <aturon> WindowsBunny: people have sometimes complained about that behavior, but i don't think it's tenable to return a Result instead (given what println is generally used for), and just swallowing errors also seems problematic
[18:33:28] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[18:34:10] <WindowsBunny> It's mostly just the fact that the issue rarely manifests on linux, but on windows its going to happen
[18:34:28] <aturon> acrichto: ^
[18:34:42] <WindowsBunny> which frustrates people to no end when trying to make their game run on windows, they hide the console with -mwindows, and suddenly everything starts panicking
[18:34:45] <aturon> WindowsBunny: this behavior wasn't discussed during IO reform (mostly because we were keeping the existing behavior)
[18:35:02] <aturon> WindowsBunny: so I think it could be reasonable to raise as an RFC amendment
[18:35:13] <aturon> but I don't think we'd want to land a PR just changing it without having that discussion first
[18:35:16] <acrichto> WindowsBunny: on unix at least I believe that printf returns an error, so that's how it reports a missing stdout I believe
[18:35:45] <acrichto> WindowsBunny: aturon: I'd be fine with an RFC for this though
[18:36:04] <aturon> acrichto: I think the point is that all errors on println turn to panics, which has a different impact on unix than windows
[18:36:26] <acrichto> yeah makes sense
[18:36:38] <acrichto> also apparently print does *not* return an error if you close(1)
[18:36:50] <acrichto> it just ignores the output
[18:36:53] <steveklabnik> imperio: i think you mentione dthe wrong person, but those moethods got removed, there's an external crate now
[18:37:30] <acrichto> WindowsBunny: https://gist.github.com/alexcrichton/ba691128fe7246f0543f
[18:37:37] <acrichto> WindowsBunny: that's precedent at least for just ignoring a missing stdout
[18:37:54] <WindowsBunny> On Windows with C/C++ it ignores a missing stdout
[18:38:04] <acrichto> yeah this definitely sounds reasonable to me
[18:38:11] <WindowsBunny> I'll write an RFC regardless
[18:38:16] <scott> I think C/C++ fail on closed stdout on linux
[18:38:17] <acrichto> ok, thanks!
[18:38:19] <scott> interesting
[18:38:21] <WindowsBunny> Other errors we should panic on
[18:38:34] <aturon> thanks WindowsBunny :)
[18:38:39] <WindowsBunny> It's only a missing stdout that I think we should be fine with swallowing
[18:39:03] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[18:39:34] <scott> stderr, too, I would think
[18:41:17] <WindowsBunny> scott: Probably yeah
[18:41:43] *** Joins: pancho (Mibbit@moz-n3p.r1h.204.50.IP)
[18:41:46] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[18:42:18] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:42:37] *** Quits: pancho (Mibbit@moz-n3p.r1h.204.50.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:44:57] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[18:45:48] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[18:46:32] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:46:33] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[18:47:39] <carllerche> switching as_slice() -> as_ref() is causing inference problems :(
[18:48:24] *** Quits: amanone (amanone@moz-o7is5s.amanone.fr) (Ping timeout: 121 seconds)
[18:50:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[18:51:51] <imperio> intrinsics::copy_nonoverlapping_memory has been renamed ?
[18:52:25] *** Quits: jxv (jxv___@moz-2celrt.res.rr.com) (Connection closed)
[18:52:34] <eddyb> carllerche: why would you have as_slice?
[18:52:57] <carllerche> eddyb: vs what?
[18:53:15] <eddyb> I haven't seen an as_slice call in ages
[18:53:24] <eddyb> I thought it was removed, TBQH
[18:53:31] <carllerche> it is now in favor of as_ref()
[18:53:43] <eddyb> &xs works most of the time, and when it doesn't, &xs[..]
[18:54:09] <carllerche> it doesn't really with traits
[18:54:10] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[18:54:41] <eddyb> bound-targeting coercions would make &xs work with traits
[18:54:48] <eddyb> but &xs[..] still does work
[18:55:45] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:55:45] *** ChanServ sets mode: +o pcwalton
[18:55:57] <carllerche> eddyb: how would you write this then? https://gist.github.com/carllerche/9911359c1eb56a4f9de6#file-gistfile1-rs-L15
[18:56:04] *** Quits: dcb (textual@moz-1en.ruf.170.166.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:56:29] <carllerche> interesting, i guess i didn't expect it to work
[18:56:47] * gleb got a conversion traits question too
[18:56:48] <gleb> if I have fn foo<T: Into<Vec<u8>>>(x: T) {}, it takes &str and String but won't take &String. is it reasonable to expect it to work with the latter?
[18:56:58] <carllerche> eddyb: going from [u8; N] -> &u8 doesn't always work though by just doing &bytes
[18:57:07] <eddyb> really, as_slice had no reason to exist ever since &xs[..] was stabilized
[18:57:19] <WindowsBunny> Are there any convenience methods that write to stdout/stderr other than println! print! and panic! ?
[18:57:27] <carllerche> eddyb: like here https://github.com/carllerche/nix-rust/blob/master/test/sys/test_socket.rs#L33
[18:57:29] <Gankro> eddyb: Well other than &xs[..] being awful
[18:57:33] <eddyb> carllerche: again, &xs[..]
[18:57:43] <sfackler> WindowsBunny: I think that's it
[18:57:46] <Gankro> &* for lyfe
[18:57:48] <carllerche> hmmm
[18:57:49] <WindowsBunny> sfackler: Oh, and assert!
[18:57:56] <sfackler> that hits panic
[18:58:03] <carllerche> &xs[..] is really really weird syntax
[18:58:12] <carllerche> vs. calling .as_ref()
[18:58:20] <eddyb> I find as_ref incomprehensible
[18:58:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:58:29] <carllerche> vs &bytes[..]
[18:58:43] <eddyb> and all of this landed before type ascription
[18:58:48] <carllerche> i mean, I preferred as_slice() but that's gone...
[18:59:05] <eddyb> carllerche: you'd be one of the few people on the planet who liked as_slice
[18:59:43] <Gankro> carllerche: Just &*bytes to glory
[18:59:45] <eddyb> I think replacing as_slice with as_ref is silly, as as_slice was phased out quite a long time ago
[18:59:47] <eddyb> Gankro: no
[18:59:57] <eddyb> that doesn't trigger unsizing, just deref coercions
[19:00:12] <eddyb> &xs[..] is completely equivalent to as_slice
[19:00:16] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[19:00:51] <Gankro> eddyb: oh are we talking about T; n?
[19:01:04] <eddyb> Gankro: see the last link
[19:01:27] <Gankro> Yep, [T; n]
[19:01:46] <eddyb> carllerche: I think this is clearer: let expect = unsafe { mem::transmute::<&[u8], &[i8]>(b"/foo/bar") };
[19:02:01] <eddyb> why i8 though?
[19:02:27] <eddyb> surely not just to satisfy the signedness whims of c_char
[19:03:11] <carllerche> eddyb: this specific line is
[19:03:17] <acrichto> WindowsBunny: hm you rfc may have gotten jumbled up a bit, it modified the template and also has your unsafe enums rfc?
[19:03:19] <carllerche> since I am testing the contents of a c struct
[19:03:32] <WindowsBunny> acrichto: Hold on, I'm fixing it
[19:05:57] <WindowsBunny> acrichto: There, fixed it
[19:06:02] <WindowsBunny> Feature Name: stdout_existential_crisis
[19:06:03] <WindowsBunny> :D
[19:06:43] <acrichto> WindowsBunny: hehe :), could you also move it to text/0000-stdout-crisis.md instead of modifying the template?
[19:06:50] <WindowsBunny> oh, sure
[19:06:56] <steveklabnik> hah tha'ts a great name
[19:08:13] *** Joins: Codenator (Mibbit@moz-d18.qnr.198.81.IP)
[19:09:16] *** Parts: Codenator (Mibbit@moz-d18.qnr.198.81.IP) ()
[19:10:13] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: Ex-Chat)
[19:12:04] <WindowsBunny> Hmmm, what should we do about stdin?
[19:12:17] <WindowsBunny> There's no convenience macro, so there's nothing that has to panic
[19:12:34] *** nrc is now known as nrc|afk
[19:12:38] <gleb> let's try this way... there's `From<&str> for Vec<u8>` and `Into<Vec<u8>> for String`. should there also be a `From<&String> for Vec<u8>`, some generic impl, or should I jump through hoops to make a Vec out of &String?
[19:12:47] <gleb> aturon?
[19:14:16] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[19:15:05] <erickt> aturon: two things. first, I saw that we have a couple un-deprecated `as_mut_slice()` methods. Since we now support `&mut foo[..]`, should we get rid of them?
[19:15:57] *** Joins: Codenator (Mibbit@moz-d18.qnr.198.81.IP)
[19:17:03] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[19:17:42] <erickt> aturon: and second, if we add default associated types, would converting the return type of io::Read::bytes from a concrete `Bytes` struct into an associated type be backwards compatible?
[19:18:30] <eddyb> erickt: hmm, would -> impl whatever count?
[19:18:40] <Codenator> Hi I got trable with re-factoring Rust code. I on Rust 1 year but still not got it. I got question there http://users.rust-lang.org/t/not-find-way-work-with-rust-using-function/601/
[19:18:41] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[19:19:34] <Codenator> On C++ it is much simplier
[19:19:51] <erickt> eddyb: -> impl would be even better
[19:20:22] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:21:14] <aturon> gleb: that extra impl would be fine; sadly it's something we generally have to add manually, see eddyb's thoughts on "bounds-targetting deref coercions" :)
[19:21:29] <aturon> erickt: yes, they should probably be deprecated as well
[19:21:42] <aturon> erickt: re: default assoc types, that would not be strictly backcompat
[19:21:43] <eddyb> is it targeting or targetting?
[19:22:01] <aturon> eddyb: targeting, i frequently misspell that one :)
[19:22:09] <eddyb> I used the latter at first but then google suggested the former
[19:22:21] <eddyb> aturon: oh, okay
[19:22:23] <aturon> erickt: in particular, defaults on assoc types are for the implementor only
[19:22:38] <aturon> erickt: the user doesn't get to assume anything
[19:22:54] <gleb> eddyb: could you help me find the referenced text? ;) has this been on irc?
[19:23:13] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[19:23:18] <eddyb> it has shown up in a RFC at some point, but only as a comment. can't remember which though
[19:23:29] <eddyb> it's blaenk_'s idea IIRC
[19:23:50] <gleb> eddyb: thanks, I'll  search
[19:24:28] <aturon> acrichto: we should talk about the fixed-size byte slice issue
[19:24:29] <erickt> aturon: that's what I figured. The reason I ask is it'd be pretty nifty to provide a more optimal `Read::bytes` impl for &[u8]
[19:24:42] <aturon> acrichto: in particular whether we want Deref so that coercions kick in
[19:24:47] <erickt> and avoid going through the read method
[19:24:56] <aturon> erickt: yep. it's a similar situation elsewhere, like Iterator adapters
[19:25:00] <erickt> yep
[19:25:14] <aturon> it's possible we could get away with a move to -> impl Trait if done carefully
[19:26:19] <acrichto> aturon: hm, I may not recall this, deref from [u8; N] to [u8]?
[19:26:33] <aturon> acrichto: right, i thought we discussed that a day or two ago
[19:26:44] <aturon> acrichto: in particular, the recent change that b"blah" gives you a fixed-size slice
[19:26:48] <aturon> array or whatever
[19:27:06] <gleb> aturon: speaking of fixed-size slices is gh23676 still relevant or are you looking at other options?
[19:27:06] <[o__o]> Implement AsRef and AsMut for fixed-sized arrays: https://github.com/rust-lang/rust/pull/23676
[19:27:19] <aturon> gleb: still relevant, sorry i haven't had a chance to review yet
[19:27:26] <gleb> no problem
[19:27:27] <acrichto> aturon: would deref really help that much? I'm under the impression that all the pain has to do with generics
[19:27:30] <acrichto> not with method calls
[19:27:57] <aturon> acrichto: https://github.com/carllerche/nix-rust/blob/master/test/sys/test_socket.rs#L33
[19:27:59] <aturon> carllerche: ^
[19:28:25] <aturon> acrichto: i'm not sure. i can say that i'm hearing pretty widespread complaints about having to use &foo[..] syntax all over the place for this
[19:28:41] <acrichto> aturon: right, me too, but I don't think Deref will solve many of them
[19:28:51] <acrichto> the only real solution I know of would be to revert the change entirely
[19:29:14] *** Quits: Codenator (Mibbit@moz-d18.qnr.198.81.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:30:26] <carllerche> aturon: acrichto more cases: https://github.com/carllerche/bytes/blob/master/test/test_byte_buf.rs#L24
[19:30:29] <aturon> acrichto: ok. i think maybe we should try to do more analysis, and bring this up in the meeting today
[19:30:49] <carllerche> write<S: Source>(source: S)
[19:31:08] <WindowsBunny> If only we had type level integers
[19:31:08] <acrichto> yes that's the "generic context" part
[19:31:24] <WindowsBunny> Gankro: When are you going to write an RFC for that D:
[19:32:06] <aturon> acrichto: i guess this problem applies equally to array literals, so i don't think reverting is the answer
[19:32:24] <aturon> acrichto: eddyb's ideas about bounds-targeted deref coercions, together with a Deref impl, could do the trick though
[19:32:40] <eddyb> aturon: keep in mind they're not limited to deref
[19:33:02] <aturon> eddyb: fair. i'm just mainly thinking about deref-related issues right now
[19:33:16] <aturon> (though i guess this coudl be a straight-up coercion)
[19:33:22] <eddyb> aturon: unsizing is what makes &[T; N] -> &[T] work
[19:33:38] *** Joins: dcb (textual@moz-1en.ruf.170.166.IP)
[19:33:39] <acrichto> eddyb: yes that I believe would work as well
[19:33:40] <aturon> ah right, i forgot that was on its way :)
[19:34:03] <eddyb> aturon: that has worked for months, not sure what you mean
[19:34:11] <aturon> I was thinking about Unsize
[19:34:14] <eddyb> Rc<[T; N]> -> Rc<[T]> is on its way
[19:34:23] <aturon> (the more general coercion)
[19:34:42] <erickt> aturon: I suppose we could say some stable function return types are unstable :)
[19:35:26] <aturon> erickt: we could, but people often package those up in structs 
[19:36:17] <Gankro> WindowsBunny: There *is* an RFC
[19:36:57] <WindowsBunny> Gankro: link?
[19:36:59] <Gankro> https://github.com/rust-lang/rfcs/pull/884
[19:37:34] <Gankro> WindowsBunny: to quote pcwalton "Wow. This, like, the model of a good RFC"
[19:40:45] <erickt> aturon: ah, right. That's why I wanted default associated types in a trait :)
[19:41:00] <eddyb> Gankro: they have implemented associated constants btw, did you know that?
[19:41:39] <erickt> aturon: so by default we'd have `trait Read { type Bytes = Bytes; ... fn bytes(&self) -> Self::Bytes { ... } }`
[19:41:43] <Gankro> eddyb: Does it let me generalize over [T; n]?
[19:41:51] <aturon> erickt: but the proposed defaults don't work that way
[19:42:03] <aturon> erickt: that is, you don't then get to assume that the assoc type is Bytes
[19:42:08] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[19:42:11] <aturon> (when bounding)
[19:42:59] <erickt> true
[19:43:16] <eddyb> Gankro: no, that would be the RFC you linked
[19:43:38] <Gankro> eddyb: :(
[19:43:47] <aturon> eddyb: wait the impl is ready?
[19:43:53] <Gankro> I guess we can have nicer integer traits or something...
[19:45:13] <eddyb> aturon: well, it can't handle array sizes yet, but most of everything else works
[19:45:21] <aturon> that's very exciting
[19:45:27] <aturon> great Rust 1.1 feature :)
[19:45:46] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:48:01] <WindowsBunny> I'll only care once we can be generic over [T; n]
[19:48:04] *** Joins: adu (ajr@moz-vd1fau.fios.verizon.net)
[19:48:21] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Client exited)
[19:49:06] <erickt> aturon: but we still got 6 days to beta! we still have time :)
[19:51:22] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:53:22] *** Joins: nawns (nawns@moz-8rd.t27.211.128.IP)
[19:56:37] *** Quits: dcb (textual@moz-1en.ruf.170.166.IP) (Connection closed)
[20:02:11] <freebroccolo> Did something change with Cow/ToOwned and Sized bounds? Putting Cow into a recursive structure goes into a loop now during checking with a build from a few hours ago.
[20:02:17] <Gankro> erickt: ship everything gogogogogogo
[20:02:35] <freebroccolo> This example shows the behavior: http://is.gd/pCiBsJ
[20:03:43] <sfackler> freebroccolo: isn't that an infinitely sized type?
[20:03:57] <erickt> Gankro: oh if only I knew how to implement HKT, `-> impl`, and `&own T`
[20:04:25] <freebroccolo> sfackler: I don't think so because it's either &' Foo or Box<Foo> in the Baz case, and at least on the docs it shows that ToOwned::Owned: Sized
[20:05:08] <sfackler> oh yeah i misread
[20:05:48] <scott> erickt: what's the idea behind &own T?
[20:05:56] <Gankro> erickt: Just convince pcwalton servo needs it yesterday to go fast ;)
[20:06:07] <erickt> haha
[20:06:16] <eddyb> Gankro: that's how we're getting DST in 1.0 (presumably)
[20:06:24] <eddyb> erickt: &own T is insufficient
[20:06:46] <erickt> scott: https://github.com/rust-lang/rfcs/pull/965
[20:06:51] <scott> thanks
[20:07:04] <eddyb> but I will steal the name for Own<T, S>
[20:07:30] <erickt> I haven't been tracking it that closely, but I do like the idea of being able to safely move out of a slice
[20:07:46] <freebroccolo> sfackler: I think maybe it's a bug but I'm not sure… it definitely stopped working with the build today though because I was using something similar for some examples from builds from previous days
[20:07:55] <eddyb> erickt: so do I, but you can't implement "DerefMove" with anything like &move T/&own T
[20:08:18] <erickt> yeah
[20:08:23] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:08:23] *** ChanServ sets mode: +o pcwalton
[20:08:42] <Gankro> eddyb: What's the problem with DerefMove just being by-val again?
[20:09:07] <erickt> the `&own T` in my mind supports everything that I want it to do
[20:09:32] <eddyb> Gankro: no, that's DerefGet :P
[20:09:52] <eddyb> erickt: including moving out of Vec<T>?
[20:09:58] <eddyb> or Box<T>?
[20:10:18] <eddyb> I guess I'm not being clear enough here and Gankro is going to exploit that
[20:10:26] <Gankro> eddyb: ???
[20:10:27] <eddyb> Gankro: by-value doesn't support DSTs
[20:10:37] <Gankro> eddyb: Ah ok, cool
[20:10:40] <erickt> eddyb: I'm just being silly :) I haven't had time to really read through that rfc
[20:11:15] <eddyb> and if you try to return &own [T] you'll end up with a very big ownership issue aka "who tracks the allocation?"
[20:11:28] <eddyb> this problem was brought up in october/november last year
[20:11:38] <Gankro> eddyb: Leaking is "safe" ;)
[20:11:50] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[20:12:54] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[20:14:02] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Quit: Leaving)
[20:15:48] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[20:17:24] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:19:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:23:00] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:24:04] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:24:07] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:25:11] *** Joins: c74d (c74d3a4ebb6@moz-9ju4vo.mggc.hibn.4404.2002.IP)
[20:25:28] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[20:31:19] *** Joins: mystor_ (mystor@moz-rrn.r78.15.130.IP)
[20:37:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[20:37:36] *** Joins: sternmull (kringel@moz-25ac1p.dip0.t-ipconnect.de)
[20:38:33] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[20:39:01] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[20:40:48] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:40:52] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[20:41:16] *** Joins: japaric (japaric@moz-lgr.14p.64.181.IP)
[20:42:03] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:42:53] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:44:38] *** Joins: amanone (amanone@moz-eh1rje.sk83.bjud.7e00.2a01.IP)
[20:45:01] *** Quits: semarie (semarie@moz-mcfup0.tor-relay.me) (A TLS packet with unexpected length was received.)
[20:46:31] <carllerche> Duration is not stable for 1.0 then?
[20:47:32] *** Quits: mystor_ (mystor@moz-rrn.r78.15.130.IP) (Connection closed)
[20:48:37] *** Joins: larhat (Adium@moz-9vj.vcf.204.37.IP)
[20:49:06] <aturon> carllerche: not in its current form, no. wycats is working on an RFC to revise it. we may possibly stabilize a small subset of its functionality, enough to build timeouts
[20:49:34] <aturon> (it's likely to be vendored into libtime in the meantime)
[20:50:48] <carllerche> aturon: if you don't stabilize anything for timeouts, does that mean no timeouts or some other timeout strategy?
[20:50:55] <carllerche> like timeout_ms(ms: u64)
[20:51:31] <aturon> carllerche: that would mean no timeouts. (the small slice of Duration's functionality would effectively be the ability to specify millis directly, like that)
[20:53:17] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[20:53:17] *** ChanServ sets mode: +o brson
[20:55:24] <erickt> aturon: so a few as_mut_slices are marked stable. Do I need to go through the rfc process to deprecate them?
[20:55:45] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:56:07] *** Quits: nawns (nawns@moz-8rd.t27.211.128.IP) (Client exited)
[20:57:29] <erickt> aturon: and as a fun quirk, Vec::as_slice is marked stable, but it's implementing a deprecated trait: https://github.com/rust-lang/rust/blob/master/src/libcollections/vec.rs#L1674
[20:58:18] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:58:24] <pitdicker> can someone tell me how I should proceed with this?
[20:58:29] <pitdicker> http://internals.rust-lang.org/t/pre-rfc-change-abs-to-return-unsigned-integers/1747
[20:58:33] <pitdicker> should I wait some more, somehow make a rfc, or make a pull request with the modified code?
[20:59:03] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:59:50] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[21:00:03] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:00:26] <aturon> erickt: heh, nice catch...
[21:00:49] <aturon> erickt: so, in terms of deprecation, one thing that carllerche has pointed out is that there may be some merit in retaining the method forms, despite having the syntax
[21:01:00] <aturon> (in particular, for chaining)
[21:01:03] <aturon> but we can always add back later
[21:01:14] *** Joins: poorman (poorman@moz-7p5b2o.res.rr.com)
[21:01:32] <aturon> it's fine to just send in a PR for deprecation, it was just missed in the previous round
[21:01:45] <erickt> oh? we can't do `(&mut s[..]).foo()`?
[21:02:22] <steveklabnik> pitdicker: running off to a meeting, but making an RFC seems best
[21:03:09] <pitdicker> steveklabnik: thank you, I will try
[21:03:53] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[21:04:11] <aturon> erickt: well, you can... but this is why we have `by_ref` for example (which is equivalent to &mut)
[21:04:15] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[21:04:31] <aturon> erickt: anyway, in mtg now, i think it's ok to deprecate these for the time being, and we can consider adding back
[21:04:37] <erickt> k
[21:05:15] <erickt> aturon: besides, we'll have to revisit how the new conversion traits influence those methods
[21:10:56] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[21:13:17] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:14:03] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[21:14:04] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:18:52] *** Quits: sternmull (kringel@moz-25ac1p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:20:55] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[21:25:05] *** Joins: bpayton (bpayton@moz-ifileu.ph.cox.net)
[21:25:15] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[21:26:16] *** Joins: eddyb_ (eddyb@moz-ule.hlc.26.188.IP)
[21:27:12] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: Bye)
[21:28:45] <laumann> what is the best way to go about writing a test for a -Z option?
[21:28:58] <laumann> where you, for instance, want to test the compiler output
[21:29:03] *** Quits: eddyb (eddyb@moz-dhp.t65.25.188.IP) (Ping timeout: 121 seconds)
[21:29:32] <laumann> so, not exactly a run-pass, but compile-pass - the best option AFAICT is run-make
[21:29:40] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[21:29:42] <simukis> laumann: make-pass
[21:29:54] <simukis> s/make-pass/run-make/
[21:29:55] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[21:29:56] <simukis> yeah
[21:29:58] <simukis> sigh
[21:30:40] <laumann> simukis: ok, thanks
[21:30:41] *** eddyb_ is now known as eddyb
[21:32:08] *** Quits: larhat (Adium@moz-9vj.vcf.204.37.IP) (Quit: Leaving.)
[21:38:12] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:39:12] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:41:18] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:44:24] *** Quits: mjboa__ (mike@moz-iddgte.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:45:34] *** Joins: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl)
[21:45:51] *** Quits: adu (ajr@moz-vd1fau.fios.verizon.net) (Client exited)
[21:49:04] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:50:11] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:50:11] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:50:12] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:50:46] <laumann> simukis: is it correctly understood that run-make tests don't output anything on success?
[21:51:31] <simukis> umm at least `[run-make] test-name` is output regardless of test outcome
[21:51:44] <simukis> not sure whether OK/FAIL follows it for make tests
[21:52:48] <simukis> laumann: if check-stageX-rmake doesn’t run anything, try removing stamp
[21:54:21] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[21:54:26] <laumann> simukis: check-stage1-rmake doesn't even compile at the moment...
[21:54:33] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[21:54:43] <laumann> some problem with rustdoc?
[21:55:58] *** Joins: mystor (mystor@moz-rrn.r78.15.130.IP)
[21:56:12] *** Quits: mystor (mystor@moz-rrn.r78.15.130.IP) (Connection closed)
[21:56:37] *** Joins: mystor (mystor@moz-rrn.r78.15.130.IP)
[21:57:32] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[21:58:23] <simukis> laumann: probably fallout for which fix landed recently
[21:58:55] <simukis> (https://github.com/rust-lang/rust/pull/23674)
[21:59:19] <simukis> → git fetch your repo 
[21:59:30] <simukis> and rebase/cherrypick that
[21:59:41] <ebfull> should As<T> for U be impl'd for all T: Deref<Target=U>? so generic conversions don't need to supply a str and a String impl for example? right now the autoderef doesn't work alongside dispatch in that situation i think
[21:59:56] *** Quits: kmcguire (kmcguire@moz-7em.2c1.78.97.IP) (Connection closed)
[22:00:12] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[22:00:13] <laumann> simukis: will do
[22:00:41] *** Joins: njn (chatzilla@moz-mv909v.iinet.net.au)
[22:04:38] <ChrisMorgan> RFCs should be updated to reflect what is actually implemented, surely? RFC 529 (conversion traits) isn’t, it still has As instead of AsRef and convert_ prefixes on all the methods. Should it be updated?
[22:05:31] *** Joins: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP)
[22:06:59] <aturon> ebfull: unfortunately i think that trait coherence rules won't allow that today
[22:07:27] <ebfull> i thought that might be the case
[22:09:14] <ebfull> aturon: someone sent me this yesterday while we were messing around in #rust: http://is.gd/OG8AyS
[22:09:25] <ebfull> aturon: does that imply the coherence rules allow it or not necessarily?
[22:09:28] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:09:48] <ebfull> obv this trait is way different than As (AsRef?) is
[22:09:55] <aturon> ChrisMorgan: yes, RFCs do tend to get a bit stale in that sense, if you felt up to amending it I'd happily merge such a PR
[22:10:33] <simukis> OIBIT is an acronym for?
[22:10:37] <aturon> ebfull: so, the problem tends to be conflicts with other "blanket" implementations
[22:10:45] <aturon> simukis: Opt-in-built-in-traits
[22:11:03] <aturon> ebfull: in particular, https://github.com/rust-lang/rust/blob/master/src/libcore/convert.rs#L58-L63
[22:11:12] <simukis> one more mystery solved with one simple question.
[22:12:07] *** Quits: rprichard (rprichard@moz-nbiuci.en8f.d045.0009.2601.IP) (Connection closed)
[22:12:18] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:12:40] <ebfull> aturon: if the coherence rules aren't changing, that means the autoderef magic will have to, to support this kind of a situation?
[22:14:03] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:14:29] <ebfull> i guess it's not the end of the world if people have to impl As<T> for String and &str
[22:14:52] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:15:21] <aturon> ebfull: eventually we hope to get "specialization", which will allow overlapping impls to some extent
[22:15:47] <ebfull> neat thanks
[22:16:19] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:16:19] <aturon> ebfull: also eddyb has been pushing for  an idea called "bounds-tageting coercions", which would more-or-less include the kind of magic you have in mind
[22:17:03] *** Joins: w66745 (Mibbit@moz-b11uqs.dynamic.upc.nl)
[22:17:59] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:18:22] <aturon> huon: so the error handling for From is not great
[22:18:34] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[22:18:40] <aturon> huon: you could imagine targetting Option<u8> etc, but that's problematic for a few reasons
[22:18:52] <aturon> (the derive gets wordy, and UFCS doesn't work very nicely)
[22:19:34] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[22:20:05] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[22:20:11] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:20:48] <huon> aturon: yeah
[22:21:14] <huon> aturon: I suppose we could use Option<u8>: Into<Foo>... but that seems a little backwards
[22:21:18] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[22:21:30] <aturon> huon: hacks on hacks :)
[22:21:40] <huon> yup
[22:22:21] <huon> trait FromMightFail<Other> { type Err; fn from(x: Other) -> Result<Self, Self::Err> }
[22:22:42] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:22:42] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:22:43] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:23:02] <aturon> huon: yeah, that's one possibility
[22:23:18] <aturon> huon: sorry, let me come back to this discussion in a few minutes
[22:23:28] <huon> np
[22:23:34] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[22:24:20] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:24:51] *** Quits: mystor (mystor@moz-rrn.r78.15.130.IP) (Connection closed)
[22:32:55] <huon> brson: "on nightlies it is now an error to use unstable library features without declaring", haven't we been required to write #[feature] for a while now?
[22:33:29] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:33:39] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:34:28] <acrichto> huon: we've just issues warnings for missing #[feature] directives so far, now it's an error
[22:34:40] <huon> acrichto: oh, have they just been warnings?
[22:34:44] * huon didn't notice
[22:34:47] <acrichto> lol
[22:35:05] <huon> thanks
[22:36:29] *** Quits: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl) (Client exited)
[22:38:02] <steveklabnik> https://github.com/rust-lang/rust/pull/23719 <-
[22:38:44] <steveklabnik> time to get dinner :)
[22:38:44] *** Joins: why_yes (Mibbit@moz-mgt.9q4.152.93.IP)
[22:39:17] *** Quits: why_yes (Mibbit@moz-mgt.9q4.152.93.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:39:42] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[22:43:34] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:44:29] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:48:12] <kmc> we have a winner! 1aaa67c
[22:49:49] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[22:52:16] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:55:48] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[23:00:41] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:03:41] *** Joins: reem (reem@moz-q6hb33.coob.q2h1.0009.2601.IP)
[23:03:55] <brson> beta build failed last night for dumb reasons. trying agian
[23:04:17] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[23:05:39] *** Joins: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl)
[23:12:09] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:15:48] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[23:15:56] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[23:19:45] *** Quits: reem (reem@moz-q6hb33.coob.q2h1.0009.2601.IP) (Connection closed)
[23:20:15] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:31] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:21:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:21:32] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:22:26] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[23:23:44] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:24:08] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:24:08] *** ChanServ sets mode: +o pcwalton
[23:27:55] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:28:15] *** Joins: frogaincia (Mibbit@moz-juv.9o3.252.72.IP)
[23:29:36] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:34:12] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[23:38:33] *** Quits: frogaincia (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:42:36] <aturon> huon: sorry, ran out of time; i will give this FromPrimitive issue more though, but i'm not sure there's time to do a proper solution before beta (unless we decide to stabilize FromPrimitive as is)
[23:42:36] <carllerche> Are there any plans to stabilize #[linkage] ?
[23:44:23] <erickt> aturon: https://github.com/rust-lang/rust/pull/23721
[23:44:31] <huon> aturon: np (I have no inherent vested interest in whatever solution we choice, I'm just a code monkey :P )
[23:44:35] <erickt> ^ is the deprecation PR
[23:46:25] <erickt> acrichto: thanks!@
[23:48:47] <acrichto> erickt: oh lol I saw the email before this
[23:48:49] <acrichto> ah well :)
[23:49:25] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:49:25] <erickt> I'll take whatever review I get :)
[23:50:15] *** Joins: kmcguire (kmcguire@moz-c955nf.res.rr.com)
[23:52:22] *** Joins: aatch (james@moz-rkcq9l.0k7n.u6dj.e000.2406.IP)
[23:53:17] *** Joins: rprichard (rprichard@moz-oksmjj.en8f.d045.0009.2601.IP)
[23:56:13] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-kddbau.dynamic.qsc.de)
[23:56:35] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:57:49] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[23:59:03] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-4oqi82.dynamic.qsc.de) (Ping timeout: 121 seconds)
[23:59:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[23:59:47] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
