[00:00:10] <eternaleye> bascule: Anyway, if CHAIN were used, then the wonky "rekey entirely" goes away, and simply including the nonce with the message transforms it from online AEAD (sequential-only) to unordered, while providing what is likely *better* protection against message replay in sequential mode.
[00:02:17] <Tiffany> CHAIN?
[00:03:56] <eternaleye> Tiffany: A construction for online AEAD built on any MRAE (nonce-misuse-resistant)
[00:04:00] <eternaleye> Tiffany: Lemme dig up the paper
[00:04:36] <eternaleye> Tiffany: https://eprint.iacr.org/2015/189
[00:06:39] <eternaleye> Tiffany: (The small Ïµ in the diagram as the AD on sub-segments stands for "the empty string" - it takes a bit of hunting to find where he says that)
[00:07:23] <eternaleye> Tiffany: I'm quite certain that per-segment AD could be given without hurting security
[00:27:05] *** Quits: dpc_ (dpc@moz-52v2l7.nvidia.com) (Ping timeout: 121 seconds)
[00:40:16] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:43:36] <eternaleye> Tiffany: Oh, huh, it looks like the paper was actually revised to support per-segment AD :D
[01:10:39] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Server shutdown)
[01:10:39] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Server shutdown)
[01:10:39] *** Quits: bdd (bdd@moz-tgm.0k6.21.199.IP) (Server shutdown)
[01:10:39] *** Quits: bascule (bascule@moz-1u4.6er.243.162.IP) (Server shutdown)
[01:10:39] *** Quits: bpugh (bpugh@moz-715e47.ca.comcast.net) (Server shutdown)
[01:10:39] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Server shutdown)
[01:10:40] *** Quits: mcpherrin (mcpherrin@moz-clk6gh.ca.comcast.net) (Server shutdown)
[01:10:40] *** Quits: ttaubert (sid254@moz-of58j1.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[01:10:40] *** Quits: jhelwig (jhelwig@moz-m94qqt.technosorcery.net) (*.net *.split)
[01:10:40] *** Quits: dherman (sid7996@moz-u0jlif.ealing.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[01:10:40] *** Quits: taryn (taryn@moz-guupcb.jdpb.6cej.6400.2605.IP) (*.net *.split)
[01:10:40] *** Quits: jvrbanac (jvrbanac@moz-932o89.kdmi.s520.4801.2001.IP) (*.net *.split)
[01:10:40] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: Tiffany (tiffany@moz-6q5ofr.lyrical.lymia.moe) (*.net *.split)
[01:10:40] *** Quits: mmmonk (mmmonk@moz-r4g9gf.lkkh.1qm1.0348.2a02.IP) (*.net *.split)
[01:10:40] *** Quits: stask (sid61294@moz-0bjq4h.ealing.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (*.net *.split)
[01:10:40] *** Quits: gsingh93 (gsingh93@moz-uqh.mfp.236.104.IP) (*.net *.split)
[01:10:40] *** Quits: pd (pd@moz-31t.42g.236.104.IP) (*.net *.split)
[01:10:40] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (*.net *.split)
[01:10:40] *** Quits: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net) (*.net *.split)
[01:10:40] *** Quits: jtdowney (jtdowney@moz-qb98um.catdevnull.net) (*.net *.split)
[01:10:40] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (*.net *.split)
[01:10:40] *** Quits: sfackler (sfackler@moz-23t.qf9.243.162.IP) (*.net *.split)
[01:10:40] *** Quits: coderanger (Noah@moz-m5ti9s.net) (*.net *.split)
[01:10:40] *** Quits: snow (snow@moz-ab9.t40.131.104.IP) (*.net *.split)
[01:10:40] *** Quits: shachaf (shachaf@moz-evr8ss.members.linode.com) (*.net *.split)
[01:10:40] *** Quits: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) (*.net *.split)
[01:10:40] *** Quits: coyotebush (quassel@moz-5oq2q4.coreyford.name) (*.net *.split)
[01:10:40] *** Quits: zarvox (zarvox@moz-366rc8.org) (*.net *.split)
[01:10:41] *** Joins: shachaf_ (shachaf@moz-evr8ss.members.linode.com)
[01:10:46] *** Quits: shachaf_ (shachaf@moz-evr8ss.members.linode.com) (Server shutdown)
[01:10:46] *** Quits: skeuomorf (skeuomorf@moz-ne6.2md.32.197.IP) (Server shutdown)
[01:10:46] *** Quits: eddyb (eddyb@moz-4q5.hlc.26.188.IP) (Server shutdown)
[01:10:46] *** Quits: cmn (cmn@moz-r1h.buc.47.78.IP) (Server shutdown)
[01:10:46] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Server shutdown)
[01:10:46] *** Quits: mayski (mayski@moz-4n357c.naamio.fi) (Server shutdown)
[01:10:46] *** Quits: Leo` (leo@moz-2f71o3.placeholder.fr) (Server shutdown)
[01:10:46] *** Quits: klutzy (not@moz-0t8.piq.68.115.IP) (Server shutdown)
[01:10:46] *** Quits: Ilari (user@moz-cb3c4u.elisa-laajakaista.fi) (Server shutdown)
[01:10:46] *** Quits: o11c (ben@moz-9bd9kh.customer.t3.se) (Server shutdown)
[01:11:22] *** Joins: cmr (cmr@moz-35s2fm.members.linode.com)
[01:11:23] *** fripp.mozilla.org sets mode: -not Ilari
[01:11:23] *** belew.mozilla.org sets mode: +nt 
[01:11:23] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[01:11:23] *** Joins: bdd (bdd@moz-tgm.0k6.21.199.IP)
[01:11:23] *** Joins: zarvox (zarvox@moz-366rc8.org)
[01:11:23] *** Joins: coyotebush (quassel@moz-5oq2q4.coreyford.name)
[01:11:23] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[01:11:23] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[01:11:23] *** belew.mozilla.org sets mode: +o zarvox
[01:11:25] *** Joins: jtdowney (jtdowney@moz-di14r5.i2gt.qoll.a880.2604.IP)
[01:11:25] *** Joins: mmmonk (mmmonk@moz-r4g9gf.lkkh.1qm1.0348.2a02.IP)
[01:11:26] *** Joins: taryn (taryn@moz-guupcb.jdpb.6cej.6400.2605.IP)
[01:11:28] *** Joins: snow (snow@moz-ab9.t40.131.104.IP)
[01:11:28] *** Joins: Tiffany (tiffany@moz-6q5ofr.lyrical.lymia.moe)
[01:11:31] *** Joins: jhelwig (jhelwig@moz-m94qqt.technosorcery.net)
[01:11:32] *** Joins: coderanger (Noah@moz-m5ti9s.net)
[01:11:33] *** Joins: gsingh93 (gsingh93@moz-uqh.mfp.236.104.IP)
[01:11:40] *** Joins: bpugh (bpugh@moz-715e47.ca.comcast.net)
[01:11:44] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[01:11:47] *** Joins: jvrbanac (jvrbanac@moz-932o89.kdmi.s520.4801.2001.IP)
[01:11:50] *** Joins: pd (pd@moz-31t.42g.236.104.IP)
[01:12:06] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[01:12:11] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[01:12:14] *** o11c is now known as Guest35151
[01:12:37] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[01:12:48] *** Joins: cmn (cmn@moz-r1h.buc.47.78.IP)
[01:14:15] *** Joins: stask (sid61294@moz-0bjq4h.ealing.irccloud.com)
[01:15:40] *** Joins: bascule (bascule@moz-1u4.6er.243.162.IP)
[01:15:40] *** Joins: mcpherrin (mcpherrin@moz-clk6gh.ca.comcast.net)
[01:15:40] *** Joins: shachaf (shachaf@moz-evr8ss.members.linode.com)
[01:15:44] *** Joins: kmc (keegan@moz-gjgn5n.compute.amazonaws.com)
[01:15:47] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[01:15:49] *** Joins: mayski (mayski@moz-4n357c.naamio.fi)
[01:15:51] *** Joins: dherman (sid7996@moz-u0jlif.ealing.irccloud.com)
[01:15:51] *** Joins: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net)
[01:20:51] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[01:21:01] *** Joins: ttaubert (sid254@moz-of58j1.0j4i.jtu0.0101.2620.IP)
[01:26:13] *** Quits: Guest35151 (ben@moz-9bd9kh.customer.t3.se) (Quit: WeeChat 1.2)
[01:26:23] *** Joins: o11c (ben@moz-9bd9kh.customer.t3.se)
[01:33:09] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:53:49] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:01:10] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[02:01:50] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:04:53] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:05:59] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[02:06:04] * bascule benchmarks libsecp256k1 vs ed25519-donna... using Rust!
[02:09:16] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:25:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[02:27:37] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:40:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:42:05] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:22:38] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[04:08:17] *** Quits: skeuomorf (skeuomorf@moz-ne6.2md.32.197.IP) (Ping timeout: 121 seconds)
[04:37:23] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[04:41:25] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[04:48:00] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[04:54:34] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[04:56:30] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[04:59:22] <bascule> lol this thread: https://www.reddit.com/r/rust/comments/3abgbo/webassembly_rust_compile_to_web/
[04:59:50] <bascule> that's a cool idea though
[05:01:40] <eternaleye> If I had a reddit account, I'd respond to the "cargo web" one with also needing a "cargo wub" which synthesizes dubstep from your crate.
[05:21:00] <bascule> lololol
[05:21:33] <bascule> I made some "dubstep" once: https://soundcloud.com/bascule/lolstep
[05:22:18] <eternaleye> bascule: seemslegit.jpg
[05:22:19] <eternaleye> bascule: :P
[05:22:46] * eternaleye is a solid fan of Iron Maiden, Kamelot, and Yoko Kanno
[05:22:49] <bascule> pretty sure liking dubstep is inversely correlated with intelligence
[05:23:04] <eternaleye> bascule: Agreed.
[05:27:42] <bascule> take an LFO, use it to control pitch, NOW YOU HAVE A SONG
[05:27:58] <bascule> oh, and the drop
[05:28:18] <bascule> https://www.youtube.com/watch?v=XCawU6BE8P8
[05:35:52] <eternaleye> A large part of why I like the three I named:
[05:35:58] <eternaleye> Their stuff _actually means something_
[05:36:10] <eternaleye> Paschendale? POV of a soldier in the worst battle of WWI
[05:36:11] <bascule> haha
[05:36:20] <bascule> I saw Iron Maiden live
[05:36:36] <eternaleye> Kamelot's "The Inquisitor" ? POV of how the utter conviction one is right can REALLY fuck someone up
[05:36:42] <bascule> Bruce Dickinson said something I really liked
[05:36:53] <bascule> "If you come to our shows, but don't buy our albums, WE HAVE FAILED"
[05:37:14] <bascule> re: P2P music distribution and so forth
[05:37:42] <bascule> I have no idea what Kamelot is, but I'm a big fan of, uhh, Tank! as far as Yoko Kanno goes, heh
[05:38:17] <eternaleye> bascule: Kamelot's a pretty great band; they started off kind of generic metal, but got a lot more melodic and meaningful as time went on
[05:38:27] <eternaleye> bascule: Another great band is Demons & Wizards
[05:38:38] <eternaleye> Lead singers of Iced Earth and Blind Guardian, working together
[05:38:53] <eternaleye> Lots of literary stuff, including one for The Picture of Dorian Gray
[05:40:39] <bascule> I guess I prefer synthesizers to guitars these days, heh
[05:40:54] <eternaleye> Fair enough
[05:47:38] <eternaleye> bascule: Anyway, that webassembly thread is mostly sensible, aside from OP being ridiculous
[05:48:22] <eternaleye> Not sure why the techcrunch article chose an image of a C implementation of RBtrees, though...
[05:49:49] <bascule> which webassembly thread?
[05:49:55] <bascule> oh
[05:49:57] <bascule> the rust one
[05:50:04] <bascule> yeah like
[05:50:05] <bascule> I want that
[05:50:06] <bascule> heh
[05:51:41] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[05:51:52] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[05:53:41] <eternaleye> Yup
[05:54:28] <eternaleye> I mean, even just for the size and efficiency benefits on existing emscripten stuff, it's nice
[05:54:53] <eternaleye> Once it starts to support stuff outside the JS model, past the MVP point, it gets even better
[05:55:06] <bascule> I like the idea of reusing code between the server and the client
[05:55:08] <eternaleye> And if at some point JS can be retargeted to be over that, rather than alongside, all the better
[05:55:13] <bascule> provided you can figure out the security boundaries ;)
[05:55:25] <bascule> hahaha
[05:55:26] <bascule> yeah
[05:55:31] <eternaleye> bascule: Well, that doesn't improve until well into the "Future features" thing
[05:55:42] <bascule> ouroboros
[05:55:44] <eternaleye> bascule: Since until then it's exactly semantic-equivalent to asm.js
[05:57:12] <eternaleye> But I mostly want JS to be on top of it, rather than alongside, so as to 1.) reduce the implementation surface 2.) ensure that WASM will remain a first-class citizen support-wise and 3.) provide further incentive for optimizing WASM execution
[05:57:58] <eternaleye> Plus, WASM should make stuff like Webkit's Fourth-Tier LLVM JIT easier across the board
[05:59:30] <eternaleye> Might even be able to get a common JS->WASM compiler running in WASM, and then each engine just ships that + a WASM execution engine
[05:59:56] <eternaleye> Imagine, getting new ES features deployed in a vaguely reasonable timeframe!
[06:00:25] <bascule> hahaha
[06:00:29] <bascule> I mean
[06:00:31] <bascule> people do that today
[06:00:34] <bascule> with transpilers
[06:00:38] <bascule> Square does that
[06:02:53] <eternaleye> bascule: Sure, but I mean *instead of* having a *different* nasty-ass Javascript parser written in C++ in each engine.
[06:03:09] <bascule> sure
[06:03:22] <bascule> you could compile to Webassembly instead of transpiling to older barfscript
[06:03:32] <eternaleye> Er, not what I mean
[06:03:47] <eternaleye> I mean "browser implements JS via a JS->WASM compiler that is itself WASM"
[06:03:51] <bascule> well sure
[06:04:16] <bascule> but the point of the current transpilers is to unlock new features earlier
[06:04:19] <bascule> before the browser gets them
[06:04:34] <eternaleye> True enough
[06:07:10] <bascule> just get rid of the browser having a native ECMAScript implementation, and download the version of ECMAScript you want to use OR...
[06:07:19] <bascule> throw that shit in the garbage and use a real language, lol
[06:10:05] <eternaleye> bascule: Legacy sites
[06:10:27] <eternaleye> bascule: I'm looking at this with the goal of "simplify the browser", not "run my new stuff"
[06:10:28] <bascule> yeah, can't break the web
[06:10:35] <bascule> I want both!
[06:10:59] <eternaleye> bascule: Sure, but *that* is satisfied by their roadmap as-is!
[06:11:31] <eternaleye> bascule: But their roadmap talks about JS and WASM both being first-class citizens side-by-side
[06:11:41] <eternaleye> bascule: Which does *not* simplify the browser
[06:12:55] <bascule> eh
[06:13:13] <bascule> JavaScript needs to die in a fire
[06:13:33] <bascule> source: I've been writing a lot of JavaScript this week
[06:14:28] <eternaleye> bascule: I agree wholeheartedly
[06:14:45] <bascule> I'm all for stuff that can help "real" languages target the web
[06:15:04] <bascule> also I've been arguing with smart people today who think Node.js is the bees knees
[06:15:08] <bascule> o_O
[06:16:41] <c74d> not Io.js?
[06:17:06] <bascule> lololololol
[06:17:24] <bascule> at least io.js has an upgraded V8 that fixes outstanding security vulnerabilities! o_O
[06:17:28] <bascule> Node is such a joke
[06:20:48] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:25:12] <eternaleye> Node can work itself into an irresolvable dependency conflict *after* downloading >100mb of files.
[06:25:16] <eternaleye> er, npm
[06:27:36] <bascule> lolol yeah
[06:27:43] <bascule> I love the Node people who are like
[06:28:03] <bascule> "gawd RubyGems and Bundler are shit. npm just works! npm doesn't even need a bundler!"
[06:28:35] <bascule> and what exactly is topologically sorting your dependencies and providing a reproducible set of them?
[06:29:25] <eternaleye> Well, as a sysadmin and someone who does distro packaging, I'm not a fan of *either*
[06:29:47] <eternaleye> You should express your actual deps, not rely on a lockfile to mimic your dev environment
[06:30:00] <eternaleye> And the toposort should be done by the system PM
[06:30:24] <bascule> this is always a fun debate
[06:30:45] * bascule does endpoint security for a payments company and has to track vulnerable packages across a wide variety of packaging systems!
[06:30:56] <bascule> I'd say fuck your absolutism and embrace reality
[06:31:08] <bascule> and your argument is fodder for the Docker people, and containers are my worst nightmare o_O
[06:35:28] <eternaleye> Docker is a shit implementation of containers, though they could be done well
[06:35:57] <eternaleye> I use libvirt-lxc quite happily, so long as I treat them as *machines* that still need proper adminning
[06:36:24] <eternaleye> And all those other packaging systems should die, obviously
[06:36:36] <bascule> yeah like
[06:36:38] <bascule> once upon a time
[06:36:40] <eternaleye> Paludis should simply gain support for their package formats
[06:36:42] <bascule> I used Sun Grid Engine
[06:36:44] <eternaleye> :P
[06:36:46] <bascule> and Sun Container Manager
[06:36:48] <bascule> and Solaris containers
[06:36:52] <bascule> all that is old is new again
[06:38:21] <Ilari> And I suppose that many containers use some Linux distro that isn't LTS or something like that?
[06:38:32] <bascule> hahahahahaha Ilari 
[06:38:42] <bascule> yes
[06:39:17] <bascule> Ilari: also this: http://www.banyanops.com/blog/analyzing-docker-hub/
[06:39:33] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[06:39:39] <bascule> we want a reproducible environment for JUST ONE APP... let's make it as complicated as we possibly can!
[06:41:33] <Tobba> bascule: and people are passing it off as "well the libraries aren't necessarily used"
[06:43:13] <Ilari> And how big problem would some library or non-special executable packages that aren't actually used be (besides some extra disk space)?
[06:43:21] <eternaleye> bascule: Personally, I think the docker user being root-equivalent is a bigger deal
[06:43:42] <bascule> eternaleye: did I mention a couple of my coworkers (including my former boss) went to work at Docker? lol
[06:43:51] <bascule> on security
[06:43:52] <bascule> umm
[06:43:56] <eternaleye> bascule: ...at least you're free of them?
[06:44:06] <bascule> when it comes to Docker vs Sandstorm, I side with Sandstorm
[06:44:10] <bascule> haha eternaleye 
[06:44:16] <eternaleye> bascule: Agreed with the force of a thousand suns
[06:44:39] <eternaleye> Docker is crap on many many levels
[06:45:05] <eternaleye> It claims to be one-per-app and avoid the need to actually admin them like machines, then builds full machines, then doesn't isolate them.
[06:45:24] <eternaleye> It's security story is laughable
[06:45:29] <bascule> Sandstorm gives you a new "container" at the push of a button
[06:45:33] <eternaleye> Verifying downloads, eh?
[06:45:37] <eternaleye> Eh, Docker?
[06:45:39] <bascule> to where you have a 1:1 mapping with containers and objects in the system
[06:45:41] <eternaleye> Eh?
[06:45:45] <bascule> lolol
[06:45:51] <bascule> they're trying to adopt TUF, I think
[06:45:56] <bascule> their "libtrust" was SHIT
[06:45:57] <bascule> heh
[06:45:59] <eternaleye> TUF is relatively sensible
[06:46:04] <bascule> a great name for a shit library, too
[06:46:33] <eternaleye> It's pretty much entirely nonviable for anything but binary distros, but for its target use it's sensible.
[06:46:55] <bascule> here's another one of my pet peeves
[06:46:57] <bascule> https://hashicorp.com/blog/vault.html
[06:47:04] <bascule> Secrets
[06:47:05] <bascule> The goal of Vault is to manage secrets. At the most fundamental level, this includes reading/writing arbitrary secrets to Vault securely. Vault makes this very easy:
[06:47:10] <bascule> $ vault write secret/foo value=bar
[06:47:10] <bascule> Success! Data written to: secret/foo
[06:47:20] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[06:47:34] <bascule> Success! Your secrets have been exposed to your operating system's process list and stored securely in your shell history!
[06:47:38] <eternaleye> bascule: I want a secret vault based on sandstorm.
[06:47:46] <bascule> haha me too ;)
[06:47:49] <bascule> or rather, capnproto
[06:47:59] <eternaleye> bascule: No, sandstorm specifically
[06:48:02] <bascule> haha, why?
[06:48:12] <eternaleye> bascule: Isolated vaults as grains.
[06:48:14] <bascule> https://github.com/cryptosphere/keyspace
[06:48:19] <bascule> blah, don't care
[06:48:22] <bascule> encrypt everything
[06:48:27] <eternaleye> Well, yes.
[06:48:44] <bascule> Vault is the opposite of what I want
[06:48:46] <eternaleye> But defense-in-depth is a thing.
[06:48:48] <bascule> it doesn't support unattended boot
[06:49:03] <bascule> and requires your operators reassemble a Shamir shared master secret
[06:49:08] <bascule> to "unseal" the Vault
[06:49:12] <eternaleye> Yeah
[06:49:13] <bascule> my argument is THERE SHOULD BE NO MASTER SECRET
[06:49:31] <eternaleye> bascule: SturdyRef!
[06:49:45] <bascule> yes, so SturdyRefs can map nicely to crypto-capabilities
[06:49:48] <eternaleye> bascule: To access your secret-storage cap
[06:49:52] <bascule> and let you expose them with a CapTP-style security model
[06:49:53] <bascule> yup
[06:51:22] <eternaleye> bascule: Anyway, I really do want separated grains, because while keyspace's FUSE mode is useful, I want to basically FUSE-proxy the cap to a mount *in a mount namespace*, with zero capacity to access some other vault's secrets
[06:51:32] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[06:51:42] <eternaleye> bascule: With grains, I can rely on sandstorm being sandstorm for isolation
[06:51:42] <bascule> err
[06:51:46] <bascule> Keyspace != FUSE
[06:51:48] <bascule> err
[06:51:52] <bascule> Keyspace != Keywhiz
[06:51:52] <bascule> heh
[06:52:02] <eternaleye> bascule: Oh, I'm thinking of the other Square-related key thing :P
[06:52:04] <bascule> I wrote Keyspace before I worked at Square
[06:52:08] <eternaleye> Mm
[06:52:14] <bascule> it's basically like Tahoe-LAFS without P2P
[06:52:17] <bascule> in Rubby instead of Python
[06:52:33] <bascule> also I built it on a generic adapter to key/value stores
[06:52:39] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[06:53:05] <eternaleye> But anyway, I think a considerably better KeyWhiz could be built on Sandstorm specifically.
[06:53:45] <bascule> I'd suggest capnproto generically but sure
[06:53:52] <eternaleye> One grain that allows new connections, and exposes a "create vault" primitive, that returns a cap to a new anonymous vault grain.
[06:54:00] <eternaleye> You lose that cap, the grain is dead.
[06:54:43] <eternaleye> From there, it acts as a k/v store, and a FUSE client can mount it
[06:54:53] <eternaleye> The FUSE client encrypts things in some sensible manner
[06:55:37] <eternaleye> And any service that needs caps from it should run in a mount namespace it shares with the FUSE client
[06:55:43] <bascule> it would be nice if you could have something like a keywhiz mount point scoped to a sandstorm sandbox, yes
[06:55:55] <eternaleye> bascule: CLONE_NEWNS
[06:56:04] <eternaleye> bascule: Literally the first namespace flag to clone
[06:56:11] <eternaleye> bascule: Oh, I see
[06:56:17] <eternaleye> bascule: I got your meaning mixed up
[06:56:32] <eternaleye> bascule: Wait, no
[06:56:49] <eternaleye> bascule: Do you mean topic-restricted keywhiz mount, or visibility-limited mount point?
[06:56:58] <bascule> both?
[06:57:04] <eternaleye> bascule: The former seems like you can just run multiple keywhiz instances
[06:57:15] <eternaleye> bascule: The latter is trivial CLONE_NEWNS
[06:57:19] <bascule> we have several keywhiz mount points per host
[06:57:27] <bascule> there's a separate one for each application
[06:57:48] <eternaleye> Well, I mean which one "would be nice" as that implies it's not yet doable
[06:58:40] <eternaleye> If you have a trivial wrapper executable that does "unshare(CLONE_NEWNS), fork && exec fuse-mounter; exec real-program", you have the latter.
[06:59:41] <bascule> sounds good
[07:00:44] <eternaleye> In systemd, that's as simple as 'InaccessibleDirectories=' (create a new mount namespace) and ExecStartPre=fuse-mounter keywhiz-thingy /path/to/mount
[07:01:11] <bascule> "In systemd, that's as simple as" let me stop you right there
[07:01:39] <eternaleye> Look, if your system already has systemd and it starts your daemon, "add two lines to a drop-in addon file" is pretty damn simple.
[07:01:47] <bascule> lololol
[07:01:59] <bascule> we don't use systemd... yet o_O
[07:02:07] <bascule> I am not looking forward to it
[07:02:35] <eternaleye> Eh, I was skeptical of it, but after two years of daily use it's decidedly better than the alternatives I've tried. (which is... most of them)
[07:03:40] <bascule> 2014: the year of desktop Linux... on the server
[07:05:32] <Ilari> Fun... Yesterday I tried to burn a CD. One CD burner program failed to detect CD burner because whatever potteringware it assumed present wasn't.
[07:05:46] <eternaleye> If anything, systemd did better for me on my server than on my laptop.
[07:05:48] <bascule> what's a CD? lol
[07:06:17] <eternaleye> On my laptop, it gave me grief regarding dbus, regarding hibernation, etc.
[07:06:19] <bascule> why is the top story on Hacker Noise "Redis re-implemented in Rust"
[07:06:22] <bascule> Rust is great
[07:06:25] <bascule> Redis is terrible
[07:06:46] <Ilari> bascule: Actually, to burn digital audio (otherwise I would have used DVDs).
[07:07:11] <bascule> Ilari: I do a lot of digital audio and CDs have been out of the picture for me for like 10 years, heh
[07:07:28] <eternaleye> On my server, it did a damn nice job of applying resource limits to services, restarting them if they failed (with logs), giving me a nice log-querying interface for quick glances, containing users who thought fork-bombs were funny, etc.
[07:08:44] <bascule> eternaleye: I guess we have all of those things... without systemd
[07:09:06] <eternaleye> That "restarting things if they failed" meant I no longer got calls at 3 in the morning because the php-fpm server running the legacy shit I inherited died. Again.
[07:09:14] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[07:09:27] <bascule> oh god
[07:09:51] <eternaleye> And that means I'm well-rested enough to be able to write the replacements so I can, one day, KILL IT WITH FIRE
[07:09:52] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[07:10:57] <eternaleye> bascule: It's a custom calendaring app, written in PHP, talking to MySQL, that spits more warnings than a nuclear launch facility being visited by Putin.
[07:11:16] <eternaleye> bascule: I inherited it in 2012.
[07:11:19] <bascule> we have one of those, except it's not written in PHP, lol
[07:11:34] <eternaleye> bascule: I *just last month* finally convinced my boss that Google Calendar would be worth considering.
[07:11:39] <eternaleye> *considering*
[07:11:41] <bascule> https://squareup.com/appointments
[07:11:49] <bascule> haha we use google calendar, but... yeah
[07:11:59] <eternaleye> And that is one of the *five* PHP things running under FPM
[07:12:07] <bascule> we have no PHP
[07:12:09] <eternaleye> Written by an intern
[07:12:12] <bascule> feels good man
[07:12:16] <eternaleye> Two years before I arrived
[07:12:19] <eternaleye> (As an intern)
[07:13:04] <eternaleye> At least I managed to migrate it to php-fpm instead of mod_php
[07:13:17] <eternaleye> So it's not running in the same process as Apache with our certs
[07:13:39] <eternaleye> But yeah, my first task as an intern:
[07:13:51] <eternaleye> "Printing these calendars screws up the formatting, please fix it"
[07:14:13] <eternaleye> ihaveseensomeshit.jpg
[07:14:30] <bascule> I feel like as a whole we run a fairly tight ship
[07:14:33] <bascule> pentesters agree!
[07:14:49] <eternaleye> bascule: Was four-person startup; now eight-person startup.
[07:16:08] <eternaleye> bascule: "tight ship" is waiting on me getting enough buckets to *assess* the waterline.
[07:16:21] <bascule> lol
[07:16:51] <eternaleye> To put it simply, before I arrived the sole coder was also the sysadmin.
[07:17:14] <eternaleye> He's an assembly guy who feels that RAII is unacceptably high-level.
[07:17:16] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:17:24] <bascule> O_o
[07:17:29] <bascule> wow
[07:18:13] <eternaleye> This is a benefit when he's writing tight video-handling code for the product.
[07:18:27] <eternaleye> This is a detriment when he's setting up a custom distro for infra.
[07:18:55] <bascule> heh
[07:19:23] <bascule> I like a system where there's ops people dedicated to that sort of thing who are generalists who know what's up
[07:19:31] <eternaleye> This is a disaster when he's writing SQL schemata.
[07:19:35] <bascule> and developers who also like getting hands-on with ops
[07:19:39] <bascule> and we have a whole DBA team
[07:27:36] <eternaleye> That reminds me, I really want to write that Cap'n Proto SQL protocol
[07:27:52] <bascule> haha oh god what
[07:28:13] <eternaleye> bascule: Not syntax, a specific subset of semantics
[07:29:45] <eternaleye> bascule: Given a query cap, you can filter rows, sparsify columns, join with another query cap, and at the end execute some action (select = iterate, update, delete, etc)
[07:30:00] <eternaleye> Oh, also add a column calculated from other columns
[07:30:20] <bascule> of everything you said, the last one makes sense (promise pipelining) and the rest, well...
[07:30:25] <eternaleye> But that provides a simple, capability-to-capability API for the majority of SQL functionality, in a type-safe way
[07:30:44] <eternaleye> bascule: Well, filter/sparsify/etc are cap -> cap
[07:30:54] <eternaleye> bascule: So the DB can begin query planning
[07:31:05] <eternaleye> bascule: using promise pipelining to avoid latency
[07:31:40] <bascule> sounds like you're missing the engine that maps capabilities to relational algebra, heh
[07:32:43] <eternaleye> bascule: That's just it; it's simply building the expression from the innermost subexpression outwards
[07:33:23] <eternaleye> bascule: It's a pretty direct expression of relational algebra...
[07:34:05] <eternaleye> bascule: There's a paper I intend to draw on heavily, regarding typesafe database systems...
[07:34:58] <eternaleye> bascule: http://homepages.cwi.nl/~ams/publications/hw2006.pdf
[07:38:08] <eternaleye> bascule: I intend to prototype it as an API over sqlite, extend it to various backends, then maybe implement a backend eventually
[07:40:23] <bascule> what operations do you expect the capabilities to provide?
[07:40:52] <bascule> like, can you explain it from the ground-up?
[07:40:57] <eternaleye> Well, I'm mainly intending them to only do table-level operations within the schema for now
[07:41:09] <bascule> sounds like you're starting with a SQL database
[07:41:14] <bascule> which isn't particular amenable to objcap
[07:41:21] <bascule> particular(ly)
[07:41:32] <eternaleye> Eh, sort of.
[07:42:04] <bascule> I think objcap can be viewed in one of two ways
[07:42:10] <eternaleye> Specifically, the DB cap allows one to get table caps, the table caps are query caps
[07:42:24] <eternaleye> Interposing the DB cap lets one restrict the table caps obtained
[07:42:31] <bascule> handles/pointers/addresses to methods of an object, with no way to recover the object or other methods unless that's the intention
[07:42:38] <eternaleye> And one can only narrow and filter, not widen or unfilter, with a query cap
[07:42:54] <bascule> or currying a value with a function, with no way to recover the original value or discover other functions that would operate on the same value
[07:43:04] <bascule> you can view it through an OOP or functional lens, but
[07:43:10] <bascule> the base material is one of those two things
[07:43:28] <eternaleye> Yeah, and I'm going more the functional route here
[07:44:22] <eternaleye> You have some query Q, and you can apply a filter to its iterable results, or a map that eliminates values from its iterated tuples, or a map that adds a calculated value to each tuple given only the restricted existing tuple.
[07:44:23] <bascule> so how do you take a SQL database and turn it into a function? ;)
[07:44:33] <bascule> well you need to start the other way around
[07:44:48] <eternaleye> bascule: The query is a function returning an iterable of tuples
[07:44:52] <bascule> what are the objects/values and what methods/functions are they exposing?
[07:44:59] <eternaleye> Mm
[07:45:00] <bascule> I don't care about the query (yet)
[07:45:01] <bascule> ;)
[07:45:10] <eternaleye> Rows expose update, delete, and read
[07:45:38] <eternaleye> mm, poor phrasing
[07:45:49] <eternaleye> Eh, I need to type this up - line-at-a-time is a bad format for this
[07:46:01] <bascule> eternaleye: have you looked at HyperDex?
[07:46:27] <eternaleye> bascule: Quite a while ago
[07:47:43] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:49:00] <bascule> it's pretty much my preferred hipster database, heh
[07:49:17] <bascule> uses Macaroons for authorization :o
[07:49:42] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[07:50:31] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[07:52:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:02:55] <eternaleye> bascule: Anyway, I actually *want* relational (or rather, Postgres-style ORDBMS) behavior, rather than NoSQL
[08:03:17] <bascule> eternaleye: oh, me too
[08:03:22] <bascule> that's why I like CryptDB ;)
[08:04:17] <eternaleye> I think Postgres really did hit a kind of sweet spot with its data model
[08:04:58] <bascule> Postgres is a great example of adding cool features while ignoring operational concerns
[08:05:25] <eternaleye> I did say *data model*
[08:05:32] <bascule> I'd say nobody runs Postgres at scale, but I know that's false. So more specifically, nobody enjoys operating Postgres at scale
[08:05:49] <eternaleye> Its upgrade procedure is laughable (though it's improving, with the new state of BDR)
[08:05:53] <bascule> (We still have legacy Postgres. Emphasis on legacy)
[08:06:04] <bascule> also across my career, this has happened before, and it will all happen again
[08:06:27] <eternaleye> As of 9.4, Postgres has everything it needs to live-migrate to a newer version
[08:06:37] <eternaleye> I'm going to be exercising that when 9.5 lands
[08:06:47] <bascule> we work in the same building as Uber, and I know their "backoffice" system runs Postgres
[08:07:01] <bascule> they migrated to MySQL for their realtime stuff
[08:07:01] <bascule> anyway
[08:07:14] <bascule> they were having a Postgres fit in the lobby, and I trolled them...
[08:07:23] <bascule> "Know what's rarer than a unicorn? A Postgres DBA"
[08:09:10] <eternaleye> My experience with Postgres has been less painful than my experience with MySQL in *every* way *except* engine upgrades.
[08:09:36] <eternaleye> Including (and especially) data recovery after system failure
[08:09:58] <bascule> we run NDB Cluster
[08:10:12] <bascule> Postgres does not have one of those
[08:10:16] <bascule> afaik
[08:10:46] <bascule> we certainly don't run that ubiquitously, that's mostly for our main mission-critical system, but...
[08:11:04] <bascule> we do run hot standbys everywhere and some of our apps are active-active with multi-master replication
[08:11:39] <eternaleye> bascule: Postgres has at least two multi-master clustering systems, one of which got blessed as of 9.4
[08:11:49] <bascule> unless you get an exemption, our basic requirements for any service are active-passive with a hot standby
[08:11:54] <eternaleye> bascule: As in the machinery got pulled into mainline
[08:12:07] <bascule> ok, how many DBAs know how to operate that shit at scale and how do we hire 10 of them? :P
[08:12:10] <eternaleye> bascule: Even before then, it could be deployed without patching postgres
[08:12:31] <eternaleye> bascule: Anyway, https://wiki.postgresql.org/wiki/Category:Bi-Directional_Replication
[08:12:32] <bascule> NDB Cluster != multi-master, FYI
[08:12:39] <eternaleye> bascule: Oh, single-master?
[08:12:40] <bascule> like
[08:12:45] <bascule> haha, no
[08:13:12] <bascule> NDB Cluster is sharded MySQL with replica sets where each shard is automatically in a sort of active-passive hot standby setup
[08:13:37] <bascule> also the nodes processing queries are decoupled from the storage nodes
[08:13:37] <eternaleye> Ahhh
[08:14:20] <eternaleye> bascule: Query processing and storage can be separated in at least three ways IIRC
[08:14:21] <bascule> kind of like RAID 0+1 for your database
[08:14:27] <eternaleye> bascule: As for sharding, grabbing links
[08:14:55] <bascule> eternaleye: I mean, I know Postgres has things
[08:14:58] <bascule> they're not as mature
[08:15:02] <bascule> and there's nobody to operate them
[08:15:07] <bascule> therefore it basically loses by default
[08:15:14] <bascule> and I say this as we phase out Postgres
[08:15:25] <eternaleye> bascule: There's also https://github.com/citusdata/pg_shard
[08:15:47] <bascule> MySQL cluster abstracts this sort of thing at the query interface
[08:15:52] <eternaleye> bascule: The lack of DBAs is a thing, yes
[08:15:53] <bascule> see also: Clustrix
[08:16:01] <bascule> it's a good model
[08:16:10] <bascule> sharding ceases to be a developer-facing concern
[08:17:07] <eternaleye> bascule: The pg_shard readme comes damn close to that
[08:17:32] <eternaleye> bascule: It requires updates and deletes have the partitioning column be covered by a where clause, but that's really it
[08:17:55] <bascule> and again, it's not that postgres doesn't have a thing
[08:18:08] <bascule> it's the question of is that thing mature and are there people who understand it
[08:20:13] <bascule> MySQL cluster is/was used in production by e.g. Google
[08:20:32] <bascule> I can't speak for today's Google, but they did contribute a lot to the implementation in the past
[08:22:56] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[08:24:57] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[08:43:55] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[09:03:23] <Ilari> Hmm... There's now I-D about QUIC, but it doesn't seem to describe the crypto parts.
[09:06:50] <bascule> Ilari: haha yeah I saw that
[09:36:43] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:41:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:59:45] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:00:39] <Ilari> Hah, DJB being unable to figure out what the chairs said the RG consensus was.
[11:16:59] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:25:32] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:30:17] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:58:55] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[13:06:23] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:06:25] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[13:10:38] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:14:17] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:19:02] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:21:21] <Tiffany> hm
[13:21:26] <Tiffany> what's that stuff that blake adds to chacha?
[13:21:29] <Tiffany> a message scheduler?
[13:22:33] <Tiffany> I was thinking earlier that chacha must be a very good hash function to be able to pass dieharder to solidly using inputs that differ by only 1 bit 50% of the time
[13:22:52] <Tiffany> so solidly*
[13:23:04] *** Joins: skeuomorf (skeuomorf@moz-ne6.2md.32.197.IP)
[14:06:39] <Tiffany> it adds a funky permutation table
[14:07:10] <Tiffany> oh
[14:07:24] <Tiffany> I see
[14:15:09] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:19:49] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:45:50] *** Joins: Ilari_laptop (ilariliusva@moz-rs28fe.dhcp.inet.fi)
[14:51:06] <Ilari_laptop> Anybody figured out what the heck the called consensus for the last poll actually means?
[14:52:23] <Ilari_laptop> (I am just about as confused as DJB about that).
[14:52:27] <Ilari_laptop> :-)
[14:54:59] <Ilari_laptop> kmc: Also, there's now quite messy WIP for draft-06 with redesigned key exchange... Wonder what kind of mess that is.
[15:15:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:20:33] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[15:29:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:06:34] *** Quits: eddyb (eddyb@moz-4q5.hlc.26.188.IP) (Connection closed)
[16:09:45] *** Joins: eddyb (eddyb@moz-t5d.8f9.121.86.IP)
[16:29:21] *** Joins: eddyb_ (eddyb@moz-m7g.8f9.121.86.IP)
[16:30:47] *** Quits: eddyb (eddyb@moz-t5d.8f9.121.86.IP) (Ping timeout: 121 seconds)
[16:31:53] *** Joins: eddyb__ (eddyb@moz-2pq.pug.25.188.IP)
[16:34:01] *** Quits: eddyb_ (eddyb@moz-m7g.8f9.121.86.IP) (Ping timeout: 121 seconds)
[16:34:31] *** Joins: eddyb (eddyb@moz-f1f.r26.26.188.IP)
[16:36:05] *** Quits: eddyb__ (eddyb@moz-2pq.pug.25.188.IP) (Ping timeout: 121 seconds)
[16:44:07] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[16:44:54] *** Quits: eddyb (eddyb@moz-f1f.r26.26.188.IP) (Ping timeout: 121 seconds)
[16:53:20] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[17:13:53] *** Joins: eddyb (eddyb@moz-5ad.8f9.121.86.IP)
[17:15:46] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:35:06] <bascule> Ilari_laptop: me too
[18:41:09] <Ilari_laptop> Oh, nifty: The notes say one can perform Key Compromise Impersonation with compromised config key (I'm not quite sure how that would work).
[18:43:42] <Ilari_laptop> Specifically, the problem I have is computing the ES. It is GDHE, so to compute it you either need to know the client or server temp key.
[18:43:53] <Ilari_laptop> (Or solve CDH)
[18:44:44] <Ilari_laptop> Client temp keys are signed. And server temp key comes from real server.
[18:46:51] <Ilari_laptop> Also, there's a PR for TLS 1.3 that deprecates SHA-224 but not SHA-1(!)
[18:47:07] <bascule> O_o
[18:49:29] <Ilari_laptop> Well, it will be 2016 before TLS 1.3 will see any more widespread use, and then it will be easier to get SHA-256 certs than SHA-1.
[18:53:18] <Ilari_laptop> Fun: TLS clients that stop trusting SHA-1 on 1st Jan 2017 should stop sending SHA-1 signature codepoints on that time. :-)
[18:56:27] *** Quits: skeuomorf (skeuomorf@moz-ne6.2md.32.197.IP) (Ping timeout: 121 seconds)
[18:58:38] <bascule> heh nice
[19:06:45] <Tiffany> oh
[19:07:07] <Tiffany> SHA-1 is only scarily close to being broken
[19:07:13] <Tiffany> well
[19:07:23] <Tiffany> it's broken if you have the resources of a nation-state
[19:15:41] *** Joins: skeuomorf (skeuomorf@moz-ne6.2md.32.197.IP)
[19:17:38] <Tobba> Tiffany: considering that stuxnet(?) used an MD5 collision, it's not surprising
[19:17:51] <Tobba> errrr
[19:17:59] <Tobba> it wouldn't be suprising if someone did it*
[19:26:19] <bascule> it was Flame
[19:26:27] * bascule just made that argument on the CFRG, heh
[19:26:38] <bascule> claim: "Yes EdDSA(H(m)) is weaker, but (a) this weakness is negligible even from
[19:26:41] <bascule> the theoretical point of view"
[19:26:44] <bascule> o_O
[19:32:39] <Ilari_laptop> That EdDSA is secure using SHA-512 hash does not imply that EdDSA with SHA-512 and with SHA-512 as prehash is secure.
[20:07:14] <Ilari_laptop> Security of Ed25519(k,m) does not imply security of Ed25519(k,SHA-512(m)), despite the fact that Ed25519 internally uses SHA-512.
[20:13:34] <Ilari_laptop> Also, I would rather not depend on potentially failing hash algorithms, considering how much trouble getting rid of bad crypto algorithm seems to be...
[21:01:08] <Ilari_laptop> Heh, this laptop sounds and vibrates like cooling fan was full on... Except it isn't the cooling fan, it is the optical drive.
[21:08:57] <eternaleye> In fact, using plain sha-512 in IUF can be trivially shown to add length-extension where proper EdDSA is secure against it, no?
[21:12:51] <Tiffany> my optical drive has a more high pitched and louder sound than my fan
[21:21:37] <Ilari_laptop> eternaleye: Eh? Being able to compute hashes for messages doesn't help attacking.
[21:23:40] <eternaleye> Ilari_laptop: No, I mean that SHA-2 has https://en.wikipedia.org/wiki/Length_extension_attack
[21:24:08] <Ilari_laptop> The hash and extended version thereof are different.
[21:24:08] <eternaleye> Ilari_laptop: Whereas I'm pretty sure EdDSA uses one of the various ways of preventing it
[21:24:36] <eternaleye> Ah
[21:24:52] <eternaleye> Yeah, I was misremembering how it actually worked
[21:30:01] <Ilari_laptop> Also, DSA variants? Don't those have inversions when signing? Which is something that hurts both performance and security a lot.
[21:44:58] <Tiffany> hm
[21:45:08] <Tiffany> I wonder how many things you can break using length extension attacks
[21:48:14] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[22:08:08] <bascule> Ilari_laptop: lol CFRG debate
[22:08:23] <bascule> I was trying to get people at Square to make an official statement on this stuff
[22:08:34] <bascule> the collective reaction was effectively "we're too dumb"
[22:08:36] <bascule> and I'm like
[22:08:38] <bascule> no you're not
[22:08:44] <bascule> the people making the bad arguments are too dumb
[22:09:12] <bascule> you're fucking maths PhDs who are developing your own goddamn SoCs, why the hell do you think you're not qualified to talk about this shit?
[22:09:59] <bascule> "well I don't really know the particulars of how to select a good prime field and so forth and so on"
[22:10:55] <bascule> oi
[22:11:01] <bascule> KP responds
[22:11:03] <bascule> option #1 it is
[22:11:17] <Ilari_laptop> Select one with the best performance?
[22:11:41] <bascule> IUF wins
[22:11:45] <bascule> I guess
[22:17:04] <Ilari_laptop> Also, IUF can get bit dangerous if verifier supports bad hashes (well, those should have been disabled, but in the real world...)
[22:36:22] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:40:24] <Ilari_laptop> s/disabled/deimplemented/
[22:41:04] <eternaleye> Ilari_laptop: Difficult to deimplement things from hardware :/
[22:42:54] <Ilari_laptop> Also, does anything that uses signatures have any protection against bad hashes other than output length differences?
[22:43:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:48:14] <Ilari_laptop> And since SHA-3 has the same output sizes as SHA-2, if SHA-2 ever turns out to be really broken... Ouch.
[22:49:31] <Ilari_laptop> Also, I don't think SHA-3 qualifes as "international" crypto primitive. :-)
[23:09:36] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:30:21] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[23:33:15] <cmr> What's at the edge of currently feasible work factors for nation states?
[23:35:27] <bascule> I would speculate 1024-bit RSA and probably not a whole lot else
[23:35:30] <bascule> err
[23:35:37] <bascule> I would not speculate on other things ;)
[23:36:03] <cmr> heh
[23:36:04] <bascule> seems the Bitcoin ecosystem is really good at solving SHA256d
[23:36:41] <bascule> just requires a distributed supercomputer that uses as much electricity as the entire country of Ireland
[23:36:52] <cmr> right!?
[23:37:13] <cmr> the blockchain is such a waste right now
[23:37:25] <cmr> hopefully it becomes useful in the future. or an alternative that has nicer space properties.
[23:37:27] <bascule> yup
[23:37:46] <bascule> yeah I think it will be replaced by an alternative that doesn't depend on a proof-of-work function to provide "consensus"
[23:37:58] <bascule> http://tonyarcieri.com/the-death-of-bitcoin
[23:38:13] <cmr> you know I should just sit down and read your blog sometime...
[23:38:16] <Tiffany> I'm not so sure it will be, but I can hope
[23:38:20] <bascule> hahaha
[23:46:42] *** Joins: dpc (dpc@moz-7gui97.nvidia.com)
