[00:00:28] <strcat> http://preshing.com/20131125/acquire-and-release-fences-dont-work-the-way-youd-expect/
[00:00:35] <strcat> and this is why I hate atomics ;p
[00:01:34] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[00:02:31] <strcat> I think I finally understand how the boost shared_ptr ordering works
[00:02:59] <strcat> (as in, why they didn't do it another way)
[00:10:50] <aatch> strcat, atomics are hard :/
[00:32:47] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:32:47] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/1rWK0g
[00:32:47] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:33:40] <ChrisMorgan> YAY! Macros that expand to multiple items!
[00:34:00] * strcat needed that for making safe static thread-local data
[00:34:37] <strcat> without call sites needing macros
[00:34:41] <strcat> hm
[00:35:46] <ChrisMorgan> That will make *lots* of code much nicer and make macros much more flexible in where they can be used. Things like enum mod proposals can be written entirely as a single macro, now. (Well, for simple ident variants, anyway.)
[00:37:24] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:37:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/MbcY2w
[00:37:24] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:37:29] <kimundi> nice!
[00:37:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:37:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/YRkVhw
[00:37:29] <ghrust> 13rust/06auto 1401a3054 15Eduard Burtescu: Shink NodeId, CrateNum, Name and Mrk down to 32 bits on x64.
[00:37:29] <ghrust> 13rust/06auto 147a177d8 15bors: auto merge of #10670 : eddyb/rust/node-u32, r=pcwalton...
[00:37:30] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:37:59] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:38:03] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[00:38:19] <acrichto> sfackler: I deem thee champion of the day for multi-item macros
[00:38:31] <aatch> We need a hat for sfackler 
[00:38:36] <acrichto> now we *really* need a snapshot
[00:38:44] <aatch> acrichto, mush
[00:38:52] <acrichto> the linux snap bot is turned off :(
[00:38:59] <acrichto> not sure why...
[00:39:44] <strcat> acrichto: can we make feature gates per-module?
[00:40:23] <strcat> oh I actually filed an issue about that, forgot
[00:40:33] <acrichto> we made an explicit decision to not do that, so we'd have to revisit that
[00:42:33] <acrichto> pcwalton: is it known that you can't pass owned data through to nested once fns?
[00:42:41] <pcwalton> acrichto: no
[00:42:46] <acrichto> let a = ~1; do foo { do foo { use(a) } }
[00:42:49] <acrichto> thatcode won't compile
[00:43:04] * acrichto will open an issue
[00:43:51] <sfackler> next macro target: https://github.com/mozilla/rust/issues/10681
[00:44:56] * acrichto is hopeful
[00:45:23] <kimundi> sfackler++
[00:55:44] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[00:55:44] *** ChanServ sets mode: +o pnkfelix
[00:57:29] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[00:58:31] *** kimundi is now known as zz_kimundi
[01:25:57] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[01:32:46] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[01:32:46] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147a177d8 to 1418687a9: 02http://git.io/N3iJvQ
[01:32:46] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[01:32:54] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:32:54] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/vAhe0Q
[01:32:54] <ghrust> 13rust/06auto 147920772 15Jed Davis: Remove the unused obsolete enum_discrim type.
[01:32:54] <ghrust> 13rust/06auto 14fb52956 15bors: auto merge of #10677 : jld/rust/type-enum-discrim-rm, r=alexcrichton
[01:32:55] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:39:00] <jld> ...oh, right.  There was a build I started this morning.
[01:43:19] <acrichto> hm, I rstarted buildbot to get linux{1,2} back online for a snap, but now they're the *only* ones online
[01:45:56] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[01:46:27] <jld> acrichto: Oh.  If you're going to snapshot soon, then I should wait instead of sending this PR with a bunch of cfg(stage0).
[01:46:52] <jld> (Which is, as it happens, the thing where I started a build this morning and forgot about it.)
[01:47:07] <acrichto> jld: well, it looks like the snap builders still need to get kicked
[01:47:14] <acrichto> jld: I'd go ahead and submit if I were you
[01:49:19] <jld> Done.  #10684
[01:50:41] <jld> And assuming that passes bors, #10592 should be closable because it's the same code up to alpha-renaming, I think.
[02:18:11] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:35:24] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:55:18] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:56:53] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Ping timeout)
[02:57:24] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[03:08:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:09:31] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:22:22] *** Joins: ktt3ja (Mibbit@moz-54586A12.washdc.fios.verizon.net)
[03:23:43] *** Quits: zz_kimundi (kimundi@moz-28813223.dip0.t-ipconnect.de) (Ping timeout)
[03:25:38] *** nrc is now known as nrc|afk
[03:27:11] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[03:27:11] *** ChanServ sets mode: +o tjc
[03:27:30] *** Joins: zz_kimundi (kimundi@moz-BF21A096.dip0.t-ipconnect.de)
[03:27:31] *** zz_kimundi is now known as kimundi
[03:32:43] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:32:44] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vAhe0Q
[03:32:44] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:34:47] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:36:24] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[03:36:24] *** ChanServ sets mode: +o tjc
[03:37:40] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:37:40] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/dOboiQ
[03:37:40] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:37:47] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:37:47] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/t9kmxg
[03:37:47] <ghrust> 13rust/06auto 147dcc066 15Alex Crichton: Remove unused std::routine
[03:37:47] <ghrust> 13rust/06auto 1482d9033 15bors: auto merge of #10679 : alexcrichton/rust/no-routine, r=pcwalton
[03:37:47] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:38:50] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[03:57:14] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[03:57:14] *** ChanServ sets mode: +o pnkfelix
[03:59:01] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[04:00:16] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[04:00:18] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[04:00:43] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:05:44] *** Joins: notmatt (notmatt@moz-152F21B7.vc.shawcable.net)
[04:10:54] *** Quits: notmatt (notmatt@moz-152F21B7.vc.shawcable.net) (Ping timeout)
[04:11:00] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[04:12:23] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[04:16:13] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[04:17:54] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:17:54] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:19:22] <eddyb> pcwalton: haha, I didn't realize the meeting was before your r+. damn timezones :P
[04:19:29] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Ping timeout)
[04:21:40] <eddyb> come on, so many tests failed that have nothing to do with my changes
[04:22:39] <eddyb> oh, and I found a real error
[04:36:46] *** Joins: brson (brson@moz-C7C20043.sd.sd.cox.net)
[04:36:46] *** ChanServ sets mode: +qo brson brson
[04:43:34] <strcat> acrichto: meh, so android has kernel support for TLS but their linker doesn't support it in ELF binaries :(
[04:45:40] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[04:46:34] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[04:47:53] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:47:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/t9kmxg
[04:47:53] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:48:31] *** Joins: notmatt (notmatt@moz-152F21B7.vc.shawcable.net)
[04:51:10] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[04:52:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:52:04] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Y7tMUQ
[04:52:04] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:52:05] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:52:05] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/5raP2g
[04:52:05] <ghrust> 13rust/06auto 145c73874 15Alex Crichton: Clean up statically initialized data on shutdown...
[04:52:05] <ghrust> 13rust/06auto 147b3ea91 15Alex Crichton: Improve the rt::thread module...
[04:52:05] <ghrust> 13rust/06auto 142ffa80f 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[04:52:07] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:57:45] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:57:45] *** ChanServ sets mode: +o pnkfelix
[04:58:09] <eddyb> acrichto: hmm, I may have broken the interner, some tests are haywire
[04:58:22] <acrichto> that's no good :(
[04:58:49] <eddyb> #[should_fail] nvm about that one
[04:59:14] <eddyb> error: found `return` in ident position
[04:59:16] <eddyb> bogofile:1 ::abc::def::return
[04:59:28] <eddyb> shouldn't that fail?
[04:59:33] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[04:59:36] <acrichto> oh brson I meant to ask, is there like a quick 5-minute fix to bring linux{1b,2b} back online?
[04:59:52] <acrichto> eddyb: looks like it should
[05:00:05] <acrichto> brson: if not, we can just deal with it next week
[05:00:30] <eddyb> acrichto: lol. it's not obvious when a test which fails is #[should_fail]
[05:00:59] <eddyb> test result: ok. 80 passed; 0 failed; 0 ignored; 0 measured
[05:01:27] <eddyb> that should be bold. and every "ok". I was focusing on should_fail errors. hehe
[05:01:57] <brson> acrichto: 2b has been offline for a long time, so not sure about it
[05:02:02] <brson> acrichto: can you ssh into 1b?
[05:02:11] <acrichto> is it rust-linux1b.mv.mozilla.com?
[05:02:13] <brson> if so, then it was probably just rebooted and stunnel didn't start correctly
[05:02:16] <brson> acrichto: no
[05:02:17] <brson> 1sec
[05:02:56] <brson> acrichto: https://github.com/brson/rust-admin/blob/master/machine-list-and-access.txt#L43
[05:02:58] <eddyb> acrichto: r+ for fixed tests? https://github.com/mozilla/rust/pull/10670
[05:03:00] <brson> rust-linux1.mv.mozilla.com
[05:03:08] <brson> acrichto: probably another victim of the mv power shutoff
[05:03:16] <brson> since it's a .mv address
[05:03:49] <acrichto> ssh: connect to host rust-linux1.mv.mozilla.com port 22: No route to host
[05:04:28] <brson> acrichto: probably we should to create a bugzilla ticket about both then
[05:04:30] <acrichto> brson: may have not come back online at all (not responding to pings)
[05:04:41] <acrichto> oh these aren't a desk-thing ?
[05:05:00] <brson> nope. they're managed by ... someone else
[05:05:26] <brson> our bots are scattered all over the place :(
[05:05:32] <eddyb> acrichto: thanks :D
[05:05:44] <acrichto> hm, ticket... bugzilla... bugzilla.mozilla.org?
[05:06:05] <brson> lol
[05:06:09] <brson> :-D yeah
[05:06:31] <acrichto> brson: I can file a ticet
[05:06:39] <acrichto> ticket* what's your email on bugzilla? (to cc)
[05:07:02] <brson> probably under "other products" -> mozilla.org -> server ops
[05:07:11] <brson> acrichto: andersrb@gmail.com
[05:07:22] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:07:22] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142ffa80f to 1482d9033: 02http://git.io/N3iJvQ
[05:07:22] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:07:30] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:07:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/U-1-fQ
[05:07:30] <ghrust> 13rust/06auto 147ed27b5 15Eduard Burtescu: Shink NodeId, CrateNum, Name and Mrk down to 32 bits on x64.
[05:07:30] <ghrust> 13rust/06auto 1445657e8 15bors: auto merge of #10670 : eddyb/rust/node-u32, r=alexcrichton...
[05:07:30] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:07:32] <acrichto> how about "infrastructure & operations" ?
[05:07:53] <acrichto> oh nvmd
[05:08:25] <acrichto> ah it appears rust-linux2.mv.mozilla.com
[05:08:26] <acrichto> is online
[05:08:42] <acrichto> ah, but my pubkey is not on it
[05:08:47] <brson> haha
[05:08:58] <brson> i can't get to it from here
[05:09:57] <acrichto> brson: https://bugzilla.mozilla.org/show_bug.cgi?id=943737
[05:10:29] <brson> acrichto: thanks!
[05:16:35] <eddyb> http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/2672 I think this is it. maybe I can find a streaming log
[05:22:46] <eddyb> oh, the timezones again >_>
[05:26:09] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[05:26:43] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[05:27:26] <jdm> cmr: I am pleased to see Rust developers independently following the model I started for contributions to Firefox for the same reasons :)
[05:28:49] <eddyb> I should investigate using & instead of @ in a few places for https://github.com/mozilla/rust/pull/10676
[05:28:55] <ChrisMorgan> jdm: what model is that?
[05:29:40] <jdm> ChrisMorgan: marking particular issues as mentored, insisting on helpful explanatory comments, and moving away from pointing people at the towering pile of "easy" bugs
[05:29:55] <ChrisMorgan> Yep, sounds good to me too.
[05:30:09] <jdm> I started pushing that model a couple years within Gecko development
[05:30:14] <jdm> it's definitely shown good results
[05:30:47] * jdm just gave a talk to a room of new Gecko engineers on good mentoring practices
[05:34:21] <sfackler> what should the format of a macro expanding to a statement be?
[05:34:26] <sfackler> items followed by statements?
[05:36:11] <strcat> jdm: well... if they were actually easy.. ;p
[05:36:50] * strcat thinks E-easy is really E-boring
[05:37:30] <sfackler> that would allow you to indirectly have items -> statements -> items -> statements -> expr in a block, but I don't know if that's actually a thing that matters or not
[05:38:41] * strcat feels like rewriting half the tutorial
[05:39:59] <eddyb> strcat: I can't make visit take a &Block because a visit_block in ast_map creates a node_block from it
[05:40:20] <strcat> brson: what do you think about replacing mot of the tutorial with walking through implementing something like a linked list, and covering all the topics on the way? at least boxes/ownership/references/generics/enums
[05:40:26] <strcat> most of*
[05:41:43] <strcat> after spending time on those sections already I think they just need something driving you through them now
[05:42:19] <strcat> eddyb: ;[
[05:42:22] <strcat> oh well
[05:42:50] <eddyb> I would try to remove more cloning for now, but I'm not sure what's going on
[05:43:06] <eddyb> why is the parser's maybe_whole! cloning?
[05:43:24] <strcat> it's rustc, it probably does everything wrong unless someone taught it to do it sanely recently
[05:43:33] <strcat> and in 2 months we'll decide the sane way now isn't sane anymore
[05:44:01] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[05:44:55] <eddyb> if they aren't required because of the token_tree mutability, I will remove them
[05:45:13] <eddyb> but I have no clue
[05:46:33] <eddyb> hmm, I wish there would be an easy way to express genericity (is that a word?) over a smart pointer
[05:47:02] <eddyb> so enum Expr_<P: Ptr> { ExprBlock(P<Block>) ...
[05:48:05] <eddyb> wait, no, that's... that's not possible right now. HKT?
[05:48:15] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[05:48:25] <sfackler> yep
[05:49:05] <sfackler> er, if Ptr was a trait with a type parameter then it should be possible now
[05:49:22] <eddyb> task '[run-pass] run-pass/unwind-resource.rs' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/auto-mac-64-nopt-t/build/src/compiletest/runtest.rs:892
[05:49:23] <strcat> eddyb: you have to do it as <A, P: Ptr<A>> atm
[05:49:27] <sfackler> as enum Expr_<T, P: Ptr<T>> { ExprBlock(P) ...
[05:49:32] <sfackler> efb
[05:49:35] <eddyb> acrichto: wasted all that time for a flakey?
[05:50:23] <eddyb> sfackler: that's just P, Block is not explicit in there :(
[05:50:35] *** Quits: dbaupp (Thunderbir@A56F6AEF.D5A1DCF.37681C44.IP) (Ping timeout)
[05:51:40] <sfackler> maybe Expr_<P: Ptr<Block>> { ExprBlock(P) ?
[05:51:46] <sfackler> not sure if that'll compile though
[05:51:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:51:59] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1445657e8 to 1482d9033: 02http://git.io/N3iJvQ
[05:51:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:52:00] <sfackler> it might need hkt
[05:52:06] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:52:06] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/pSjBHQ
[05:52:06] <ghrust> 13rust/06auto 14ed86b48 15Alex Crichton: Clean up statically initialized data on shutdown...
[05:52:06] <ghrust> 13rust/06auto 14850e694 15Alex Crichton: Improve the rt::thread module...
[05:52:07] <ghrust> 13rust/06auto 14d401c02 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[05:52:09] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:52:46] <strcat> sfackler: that works, at least in some cases
[05:52:57] <strcat> sfackler: look in std::iter at the one defining reverse_
[05:53:47] <strcat> (thank broken method resolve for needing the _)
[05:53:58] <brson> strcat: i'm in favor of replacing the tutorial in general. there are several people who want a crack at it and I'm not sure how to coordinate it though. I want the tutorial to be very high quality but I'm not sure how to harness all the competing opinions and interests to do so.
[05:54:18] <sfackler> strcat: but A is still generic there, where here it needs to be restricted to Block, right?
[05:54:56] <sfackler> acrichto: what are the plans for splitting TcpStream?
[05:55:18] <strcat> brson: I'm a bit worried about stuff being done out-of-tree, because I don't think it's going to maintain the level of accuracy
[05:55:33] <strcat> it's too hard for one person to get it right
[05:55:46] <strcat> lots of review usually happens on the tutorial PRs in my experience
[05:57:39] <strcat> I think a big improvement would be the ability to run/edit the examples in the browser
[05:58:11] <strcat> sfackler: I think you can restrict it as much as you want
[05:58:17] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[05:58:17] *** ChanServ sets mode: +o pnkfelix
[05:58:24] <brson> strcat: well, conversely, I don't think that collaboration produces high quality writing and I want some *great writing*. Perhaps we can find some arrangement where a single editor brings the technical material together in a good narrative. Undoubtedly the greater community has the best sense of what material is important to cover
[05:58:44] <brson> admittedly I haven't read the tutorial in like a year ...
[05:58:53] <brson> or more
[05:59:01] <strcat> brson: well, atm it has no overall flow, and the examples are totally uninteresting
[05:59:19] <strcat> but honestly I think some of the sections are quite good content-wise
[06:00:05] <strcat> as in how approachable they are
[06:00:09] <strcat> and how much they cover
[06:00:11] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[06:01:28] <eddyb> aaaalmost there :D
[06:02:24] <eddyb> acrichto, strcat: any idea about https://github.com/mozilla/rust/pull/10670?
[06:02:40] <eddyb> it seems the mac builder failed at something completely unrelated
[06:02:43] <eddyb> such a waste of time :(
[06:03:00] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[06:03:50] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[06:04:05] <strcat> eddyb: retried
[06:04:23] <eddyb> thanks
[06:07:10] <eddyb> daaaaaaaamn I haven't kept a copy of the compiler >_<
[06:07:34] <eddyb> now I can't work on my own thing, because I'd be back to 1.6GB of RAM usage. I guess I can start on the tuples
[06:07:46] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:07:46] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/lvlnEQ
[06:07:46] <ghrust> 13rust/06auto 147ed27b5 15Eduard Burtescu: Shink NodeId, CrateNum, Name and Mrk down to 32 bits on x64.
[06:07:46] <ghrust> 13rust/06auto 14faf4c93 15bors: auto merge of #10670 : eddyb/rust/node-u32, r=alexcrichton...
[06:07:47] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:08:35] <strcat> eddyb: http://pkgbuild.com/~thestinger/repo/x86_64/ ;p
[06:08:52] <strcat> (will probably run on whatever distro you are on if glibc isn't too old)
[06:08:59] <eddyb> oooooh, nice
[06:09:18] <strcat> it's an arch pkg but... rust doesn't use many external libs
[06:09:42] <eddyb> I should've fixed that opensuse package I started
[06:09:42] <strcat> it doesn't have rpaths so you'd need to extract it somewhere and add LD_LIBRARY_PATH
[06:09:56] <strcat> unless you installed it globally which you probably don't want to ;p
[06:10:21] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[06:10:32] <eddyb> so many things to work on. but now I may have all the time I need (mhmm)
[06:11:02] <ChrisMorgan> brson: is your intent to hire someone for the matter of the documentation?
[06:11:02] <eddyb> strcat: thanks, but the copy I was talking about was my second PR on top of my first PR
[06:11:09] <strcat> ah
[06:11:53] <eddyb> my 1.6GB thing has a tiny 1.2GB peak, sorrounded by < 1GB regions, with those
[06:14:30] *** Quits: notmatt (notmatt@moz-152F21B7.vc.shawcable.net) (Client exited)
[06:15:26] <brson> ChrisMorgan: i am trying to hire somebody to do documentation, yes, but I also realize that there are a lot of people with an interest in the docs, so it's a delicate matter
[06:23:34] <eddyb> next_id: @mut uint, // hello dear. you will burn
[06:25:40] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:33:10] <strcat> http://ix.io/9ax something like this.
[06:33:31] * strcat will just rewrite a few sections this way and make a PR
[06:33:48] <strcat> one long list tutorial ;p
[06:33:59] <strcat> can cover almost everything like this
[06:36:32] <eddyb> strcat: you know about that other rust tutorial?
[06:36:50] <strcat> I know about rust for rubyists
[06:37:09] <strcat> I want to write something covering the *full* semantics of ~, &, generics, etc.
[06:37:17] <strcat> (a high-level view of them)
[06:37:26] <eddyb> http://adridu59.github.io/rust-tuts/tutorial/
[06:37:51] <eddyb> http://adridu59.github.io/rust-tuts/index.html rather
[06:41:15] <ChrisMorgan> strcat: that's lacking the thing that technical documentation most commonly lacks and yet which is extremely good to have in such cases: diagrams.
[06:41:35] <strcat> ChrisMorgan: well I am making an ownership diagram just as you mentioned that ;p
[06:41:40] <strcat> Consider an instance of our `List` type:
[06:41:42] <strcat> ~~~
[06:41:44] <strcat> let list = Cons(1, ~Cons(2, ~Cons(3, ~Nil)));
[06:41:46] <strcat> ~~~
[06:41:48] <strcat> + ownership diagram
[06:42:08] <strcat> asciiflow!
[06:42:33] <ChrisMorgan> Oh, good. Thus far you're distinctly ahead of the pack. (But I hope you'll make it a genuine SVG diagram, not ASCII.)
[06:42:52] <strcat> well I am going to start with ascii
[06:42:56] <eddyb> uhm, why is BuiltinBound #[repr(uint)]?
[06:42:58] <strcat> someone else can turn it into svg
[06:43:16] <eddyb> maybe because of this? pub type BuiltinBounds = EnumSet<BuiltinBound>;
[06:43:35] <strcat> ChrisMorgan: I already find ascii diagrams frustrating enough :P
[06:43:47] <eddyb> dot?
[06:44:00] <ChrisMorgan> eddyb: ugly (I've used it extensively)
[06:44:08] <eddyb> UML?
[06:44:17] <ChrisMorgan> eddyb: not a file format
[06:44:35] <eddyb> I mean, something like umbrello
[06:44:46] <ChrisMorgan> (Meaning, you've got to use a specific tool for it and they're mostly 'orrible and certainly none of them are as flexible as Inkscape.)
[06:45:20] <eddyb> because I would think that a pure SVG app like Inkscape or Karbon14 isn't as easy to use for a simple diagram
[06:45:37] * ChrisMorgan likes Inkscape and uses it a lot for creating diagrams
[06:45:56] <eddyb> hmm, okay
[06:47:26] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:48:36] <eddyb> oh, I see what Vid is. uint -> u32 to you too
[06:49:36] *** Joins: notmatt (notmatt@moz-152F21B7.vc.shawcable.net)
[06:55:14] <eddyb> BrNamed(ast::DefId, ast::Ident),
[06:55:32] <eddyb> that's 4 integers, for one name
[06:58:47] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[06:58:47] *** ChanServ sets mode: +o pnkfelix
[06:59:31] *** Quits: notmatt (notmatt@moz-152F21B7.vc.shawcable.net) (Client exited)
[07:00:06] <eddyb> but I can't tell if they're required
[07:00:39] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[07:02:13] *** Joins: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net)
[07:04:41] *** Quits: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net) (Input/output error)
[07:05:05] *** Joins: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net)
[07:17:18] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:17:18] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/lvlnEQ
[07:17:18] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:18:54] <eddyb> woo, second merged PR
[07:22:04] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:22:04] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/eXIYxQ
[07:22:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[07:22:12] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:22:12] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/okVr5Q
[07:22:12] <ghrust> 13rust/06auto 14ed86b48 15Alex Crichton: Clean up statically initialized data on shutdown...
[07:22:12] <ghrust> 13rust/06auto 14bfac82d 15Alex Crichton: Improve the rt::thread module...
[07:22:13] <ghrust> 13rust/06auto 14a29480c 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[07:22:15] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:22:48] <dbaupp> cmr: is the bencher off?
[07:24:48] <dbaupp> eddyb: if http://huonw.github.io/isrustfastyet/mem/ doesn't drop a few hundred MB I'll be very upset :P
[07:27:18] <eddyb> dbaupp: it's only 130 and that's with both my PRs
[07:27:34] <eddyb> *however*, I'm working on more, this time in rustc
[07:28:03] <eddyb> dbaupp: oh, and my second size-related PR could contain the removal of more clones, all across the parser
[07:28:19] <eddyb> feel free to drop workloads -> https://github.com/mozilla/rust/pull/10676
[07:29:54] <dbaupp> cmr: looks like I'm going to be upset then. not good enough. :P
[07:30:05] <eddyb> you mean me?
[07:30:16] <dbaupp> errm, yeah
[07:30:32] <dbaupp> cmr: (don't worry you're not to blame.)
[07:30:45] <eddyb> you can check the clones I mentioned, confirm I can remove as many as possible
[07:30:55] <Luqman> eddyb: huh, why the change from &Block -> @Block ?
[07:31:02] <dbaupp> eddyb: I'm just leaving now, sorry.
[07:31:31] <eddyb> Luqman: ast_map needs to create node_block
[07:32:41] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[07:32:43] <klutzy> eddyb: isn't it sufficient to use node_block(~Block)?
[07:32:54] <eddyb> then you can't share it
[07:32:58] *** Quits: brson (brson@moz-C7C20043.sd.sd.cox.net) (Quit: leaving)
[07:33:27] <eddyb> and I'm pretty sure the cloning goes very deep
[07:35:15] <Luqman> i'm not sure why, at the very least, visit_* methods can't take &Block ?
[07:36:01] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:36:05] <eddyb> Luqman: I wanted to do that, but ast_map uses visit_*
[07:36:40] <eddyb> I guess I could create a new @Block with some shallow cloning
[07:37:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:37:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a29480c to 14faf4c93: 02http://git.io/N3iJvQ
[07:37:26] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:38:02] <eddyb> Luqman: I would like to replace all @ in visit_* with & at some point, but it seems tricky right now (without pointless clones)
[07:43:13] <eddyb> maybe we need some cfg-based IndexType :P
[07:43:41] <klutzy> aha, it cheats not to use @ by cloning
[07:45:17] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[07:46:41] <strcat> ChrisMorgan: https://github.com/mozilla/rust/pull/10690/files so far
[07:47:13] <strcat> I think it has to introduce references next (a method searching through the list, or whatever, 'head')
[07:47:31] <strcat> then add prepend, which is going to need a swap or something
[07:47:38] <strcat> well
[07:47:46] <strcat> you can always just move it to prepend
[07:47:48] <strcat> w/e
[07:49:07] *** Joins: notmatt (notmatt@moz-152F21B7.vc.shawcable.net)
[07:49:12] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[07:49:12] *** Quits: notmatt (notmatt@moz-152F21B7.vc.shawcable.net) (Client exited)
[07:49:51] *** flaper87|afk is now known as flaper87
[07:50:28] <eddyb> ./configure --i-has-too-much-ram => IndexType = uint, otherwise it's u32
[07:51:06] <eddyb> dbaupp: 130MB would drop it way below anything "Is Rust Slim Yet?" has ever seen
[07:51:29] <eddyb> with some profiling I would know for sure what to shrink, instead of taking stabs at anything I see
[07:54:50] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:54:50] *** ChanServ sets mode: +o pnkfelix
[08:00:13] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[08:11:07] <dbaupp> eddyb: I think it was around 1200MB a while ago (the graph isn't showing the full history)
[08:11:23] <eddyb> hmpf
[08:11:48] <eddyb> task 'rustc' failed at 'explicit failure', /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/libsyntax/diagnostic.rs:75
[08:11:51] <eddyb> there's no error count
[08:17:32] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[08:17:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/dC9nCA
[08:17:32] <ghrust> 13rust/06auto 1457c1a01 15Jed Davis: Remove enum struct return workaround from LLVM bindings.
[08:17:32] <ghrust> 13rust/06auto 14dba1796 15bors: auto merge of #10684 : jld/rust/unstruct-unhack-typekind, r=alexcrichton
[08:17:32] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[08:19:55] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[08:22:31] <eddyb> rusti: struct F{a:int,b:int,c:int} let F{a:a,c:c} = F{a:0,b:1,c:2}; (a, c)
[08:22:31] -rusti- <anon>:9:41: 9:51 error: pattern does not mention field `b`
[08:22:32] -rusti- <anon>:9          struct F{a:int,b:int,c:int} let F{a:a,c:c} = F{a:0,b:1,c:2}; (a, c)
[08:22:32] -rusti-                                                   ^~~~~~~~~~
[08:22:32] -rusti- error: aborting due to previous error
[08:22:32] -rusti- application terminated with error code 101
[08:22:58] <dbaupp> rusti: struct F{a:int,b:int,c:int} let F{a:a,c:c, _} = F{a:0,b:1,c:2}; (a, c)
[08:22:58] -rusti- (0, 2)
[08:23:30] <eddyb> hmm, okay
[08:24:08] <ktt3ja> if `Bar` is some struct and I have `type foo = Bar`, then `Bar` would be a ty_path, right?
[08:25:19] <dbaupp> ktt3ja: I believe so
[08:25:35] <dbaupp> eddyb: I think it's becoming `F {a:a,c:c, .. }` on master
[08:25:48] <dbaupp> (all "ignore everything" matches are becoming `..`)
[08:25:56] <eddyb> which is cool
[08:26:36] <eddyb> because I want to make struct F(int, int, int); let (a, ..rest) = F(0, 1, 2); let (b, c) = rest; // work :D
[08:26:50] <eddyb> s/let (a/let F(a/
[08:27:29] <dbaupp> eddyb: I have a feeling that will meet horrible alignment issues
[08:27:46] <eddyb> dbaupp: why?
[08:27:51] <dbaupp> (if the type of `rest` was just &(int, int))
[08:28:02] <dbaupp> well, not for int, but say `F(u8, u8, u64)`
[08:28:09] <eddyb> ah, I don't think I'll allow ref (where would you put it anyway?)
[08:28:22] <dbaupp> oh, so it was copying it out
[08:29:09] <eddyb> the tests for that will be a nightmare
[08:45:22] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[08:47:39] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:51:45] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[08:59:17] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:01:38] *** Quits: tedh (tedh@moz-A5D1CAB7.public.wayport.net) (Ping timeout)
[09:02:51] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[09:06:56] <eddyb> fuck yeah: sty is now 88
[09:07:44] <eddyb> t_box_ went from 168 to 96
[09:09:17] <eddyb> it can probably be reduced to something closer to 32, if I put more work into it
[09:09:33] <dbaupp> isn't most of that just moving the memory use elsewhere?
[09:10:24] <eddyb> dbaupp: the @Block change showed some memory reduction, this should too
[09:10:46] <dbaupp> eddyb: that's mostly because Block was stored unboxed in ast_node right?
[09:10:51] <eddyb> yupp
[09:10:58] <dbaupp> does sty get stored unboxed much?
[09:11:05] <eddyb> same here, with the ty_trait
[09:11:12] <dbaupp> (and, if it does, can it be shared?
[09:11:14] <dbaupp> )
[09:11:23] <eddyb> dbaupp: sty is the equivalent of ast_node
[09:11:52] <eddyb> enums with a ton of instances and few variants with unboxed data
[09:12:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[09:12:38] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14dba1796 to 14faf4c93: 02http://git.io/N3iJvQ
[09:12:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[09:12:44] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[09:12:44] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/PPl9pw
[09:12:44] <ghrust> 13rust/06auto 14d008075 15Alex Crichton: Use the native tls implementation on android...
[09:12:44] <ghrust> 13rust/06auto 144578b18 15bors: auto merge of #10687 : alexcrichton/rust/issue-10686, r=thestinger...
[09:12:45] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[09:13:48] <eddyb> dbaupp: I really wish bors and cmr's builder would be combined
[09:15:39] <eddyb> this is ridiculous... all this work and the result is nil?
[09:16:21] <eddyb> dbaupp: sty's size doesn't seem to matter that much :(
[09:16:30] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[09:18:02] * dbaupp refrains from saying "I told you so" :P
[09:20:24] <eddyb> I should check my mmap traces more carefully
[09:22:34] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[09:27:41] <eddyb> dbaupp: ast indexing and resolution look like 0.5GB each
[09:27:50] <eddyb> (or more)
[09:28:09] <eddyb> that's where my gain is with @Block, I think. ast indexing just allocates a ton of ast_node's
[09:31:39] *** Quits: Kxepal (Miranda@moz-788FED86.pppoe.mtu-net.ru) (Ping timeout)
[09:33:22] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[09:34:51] *** Joins: Kxepal (Miranda@moz-636B9006.pppoe.mtu-net.ru)
[09:35:38] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:37:21] <eddyb> dedo got in, now I have to update my patch >_>
[09:44:49] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[09:47:30] <eddyb> dbaupp: resolve is huge because of the pointless hygiene - over 600MB in this: HashMap<(Name,SyntaxContext),Name>;
[09:48:06] <eddyb> and I can't really shrink ast_node more without hoisting everything out of it
[09:48:14] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[09:52:11] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[09:52:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144578b18 to 14faf4c93: 02http://git.io/N3iJvQ
[09:52:11] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[09:52:20] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[09:52:20] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/AWmoMg
[09:52:20] <ghrust> 13rust/06auto 1431da6b7 15Brendan Zabarauskas: Add an iterator for receiving messages from GenericPorts
[09:52:20] <ghrust> 13rust/06auto 1417af6f7 15bors: auto merge of #10688 : bjz/rust/recv_iter, r=brson...
[09:52:20] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[10:09:11] *** Quits: ktt3ja (Mibbit@moz-54586A12.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:14:29] <eddyb> dbaupp: this doesn't make sense. parsing results in over 500MB but the sum of mmap+mremap calls is only 60MB or so
[10:14:46] <eddyb> maybe I should try to track sbrk as well
[10:20:52] <eddyb> what's wrong with gdb?
[10:21:02] <eddyb> it's debugging bash or something
[10:28:59] *** Joins: tedh (tedh@moz-A5D1CAB7.public.wayport.net)
[10:35:39] *** kimundi is now known as zz_kimundi
[10:35:56] <eddyb> / This horrible convolution is brought to you by @mut, have a terrible day
[10:36:10] <eddyb> ExprPath(/* bad */ (**pt).clone())))
[10:36:12] <eddyb> I see...
[10:37:05] <eddyb> so... who knows enough about parser internals to tell my what's with all the @mut and clones?
[10:37:34] <dbaupp> history
[10:37:48] <dbaupp> (for the @mut's at least)
[10:38:27] <eddyb> @mut requires the clones, do we need @mut anymore?
[10:38:34] <eddyb> I think Leo` found it in token_tree
[10:39:03] <dbaupp> I think removing many of the @mut's will be a big task
[10:40:16] <eddyb> rusti: (104-8)/8.0
[10:40:16] -rusti- <anon>:9:17: 9:20 error: mismatched types: expected `<VI0>` but found `<VF0>` (expected integral variable but found floating-point variable)
[10:40:16] -rusti- <anon>:9          (104-8)/8.0
[10:40:17] -rusti-                           ^~~
[10:40:17] -rusti- error: aborting due to previous error
[10:40:17] -rusti- application terminated with error code 101
[10:40:19] <eddyb> rusti: (104-8)/8
[10:40:19] -rusti- 12
[10:42:39] <eddyb> ExprCast(@Expr, Ty) // and this is the winner
[10:43:50] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[10:45:32] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[10:45:57] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:47:11] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[10:49:09] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[10:59:26] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[11:02:27] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[11:02:49] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:02:49] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/AWmoMg
[11:02:49] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[11:13:29] <eddyb> Expr is almost halved
[11:16:54] *** zz_kimundi is now known as kimundi
[11:19:14] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[11:30:43] *** kimundi is now known as zz_kimundi
[11:31:43] *** zz_kimundi is now known as kimundi
[11:32:56] <eddyb> dbaupp: I should give up, *halving* Expr doesn't do much. I could try removing the clones
[11:34:37] <eddyb> how does @mut T work anyway?
[11:34:48] <eddyb> Gc<Mut<T>>?
[11:37:52] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Ping timeout)
[11:38:56] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[11:43:12] <dbaupp> eddyb: what do you mean by "work"?
[11:43:22] <dbaupp> @mut is compiler magic
[11:43:34] <eddyb> dbaupp: I mean, what it means :P
[11:43:47] <dbaupp> Gc<Mut<T>> is just @Mut<T>, which is just library-magic
[11:44:08] <eddyb> but does it have similar semantics?
[11:44:13] <dbaupp> yeah
[11:47:26] <eddyb> I'll try to see what I can do about token_tree
[11:47:42] <eddyb> it's only used by ast::mac, I think
[11:53:33] <eddyb> I might have to completely box types to avoid the copies I have right now
[11:56:36] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131122094025])
[12:01:34] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[12:04:12] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[12:06:51] * eddyb wonders why nobody made folding short-circuit by default
[12:07:06] <eddyb> there has to be some gain from it
[12:17:04] <dbaupp> eddyb: because it can't
[12:17:24] <dbaupp> eddyb: if you override say, only fold_ident, it still has to fold everything to get to all the idents.
[12:17:31] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:17:31] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/N91O8g
[12:17:31] <ghrust> 13rust/06auto 14ed86b48 15Alex Crichton: Clean up statically initialized data on shutdown...
[12:17:31] <ghrust> 13rust/06auto 140ddb81b 15Alex Crichton: Improve the rt::thread module...
[12:17:32] <ghrust> 13rust/06auto 143f89bfa 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[12:17:34] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:22:32] <eddyb> dbaupp: hmm?
[12:22:49] <eddyb> ah, I see what you're getting at, I meant something different
[12:23:19] <eddyb> if the result of inner folding is identical (as in, pointer compares), return the original
[12:23:29] <eddyb> s/compares/eq/
[12:33:25] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:35:29] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:36:05] <eddyb> btw, item is even smaller now :D. 216->160
[12:36:14] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[12:37:04] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[12:40:37] <dbaupp> nmatsakis: in http://smallcultfollowing.com/babysteps/blog/2013/11/26/thoughts-on-dst-1/ the code after "Thanks to inherited mutability, what would work is to implement Message for ~Message:" has `impl Message for &Message { ... }`
[12:40:54] <eddyb> I just saw that >_>
[12:49:02] *** Joins: jmbto (jmbto@moz-FE174E29.fbx.proxad.net)
[12:57:05] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[12:57:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143f89bfa to 1417af6f7: 02http://git.io/N3iJvQ
[12:57:05] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[12:57:12] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[12:57:13] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/K8tbpw
[12:57:13] <ghrust> 13rust/06auto 1417cd045 15Alex Crichton: Relax restrictions on unknown feature directives...
[12:57:13] <ghrust> 13rust/06auto 1493ba26d 15bors: auto merge of #10680 : alexcrichton/rust/relax-feature-gate, r=thestinger...
[12:57:13] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[13:00:40] <eddyb> and 216->136 now
[13:04:23] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[13:04:52] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[13:07:47] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[13:08:51] <nmatsakis> dbaupp: thanks
[13:09:33] <eddyb> and there's Header<T> where Header1<T> should be, I think
[13:09:51] * eddyb shouldn't even use the browser, while compiling rustc over and over
[13:13:13] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Input/output error)
[13:13:45] *** Quits: larsberg (uid16141@moz-A42E5B7B.irccloud.com) (Input/output error)
[13:15:43] <eddyb> oooh, part 2 is interesting, I did think of this DST/unsized/existential bubbling myself, didn't think there would be a nice way to express it
[13:16:39] <nmatsakis> eddyb: thanks
[13:16:52] <nmatsakis> (for the correction)
[13:17:03] * nmatsakis logs out for a bit
[13:25:19] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[13:37:37] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:37:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1493ba26d to 1417af6f7: 02http://git.io/N3iJvQ
[13:37:37] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:37:43] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:37:43] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/sBKUoA
[13:37:43] <ghrust> 13rust/06auto 14ed86b48 15Alex Crichton: Clean up statically initialized data on shutdown...
[13:37:43] <ghrust> 13rust/06auto 14d72a14b 15Alex Crichton: Improve the rt::thread module...
[13:37:43] <ghrust> 13rust/06auto 141c5915d 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[13:37:45] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:45:59] <eddyb> dbaupp, cmr: it seems like TtFrame.forest is the only reason token_tree has @mut inside
[13:46:09] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[13:55:14] <eddyb> but... it's... not modified
[13:56:25] <eddyb> well, I don't have anything better to do anyway. let's immut it and see what happens
[14:05:18] <eddyb> could... could it be this easy?
[14:08:41] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[14:11:11] <eddyb> Leo`: it was trivial to remove @mut from the AST
[14:12:52] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[14:14:19] <eddyb> however, I'd want an auto-borrow trait for Rc first, before changing anything else
[14:17:41] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[14:17:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141c5915d to 1417af6f7: 02http://git.io/N3iJvQ
[14:17:41] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[14:17:50] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:17:50] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ODon0g
[14:17:50] <ghrust> 13rust/06auto 1457c1a01 15Jed Davis: Remove enum struct return workaround from LLVM bindings.
[14:17:50] <ghrust> 13rust/06auto 1423674be 15bors: auto merge of #10684 : jld/rust/unstruct-unhack-typekind, r=alexcrichton
[14:17:50] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:31:26] <eddyb> rusti: type Foo<T: Freeze> = T;
[14:31:28] -rusti- pastebinned 7 lines of output: http://sprunge.us/GJeT
[14:32:05] <eddyb> rusti: fn foo<T: Freeze>(){} foo::<@int>()
[14:32:06] -rusti- ()
[14:32:10] <eddyb> rusti: fn foo<T: Freeze>(){} foo::<@mut int>()
[14:32:11] -rusti- <anon>:9:31: 9:46 error: instantiating a type parameter with an incompatible type `@mut int`, which does not fulfill `Freeze`
[14:32:12] -rusti- <anon>:9          fn foo<T: Freeze>(){} foo::<@mut int>()
[14:32:12] -rusti-                                         ^~~~~~~~~~~~~~~
[14:32:12] -rusti- error: aborting due to previous error
[14:32:12] -rusti- application terminated with error code 101
[14:39:13] <eddyb> acrichto, cmr: https://github.com/mozilla/rust/pull/10693
[14:39:25] <eddyb> (my third PR this week :D)
[14:48:22] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[14:48:52] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:50:05] <Leo`> eddyb: how did you do ?
[14:50:15] <eddyb> do what?
[14:50:36] <Leo`> removing the &mut
[14:50:38] <Leo`> @mut *
[14:51:28] <eddyb> Leo`: look at the changes in the PR, it was simple
[14:52:00] <eddyb> Leo`: there was a block which looked like it was doing more before, that's probably were it was used as mutable
[14:52:12] <eddyb> the one with the &mut line I removed
[14:53:55] <Leo`> I'll have a look later
[14:53:57] <Leo`> my connexion here is terrible
[14:54:05] <Leo`> I barely type a message by minute
[14:54:17] <Leo`> but good job
[14:54:48] <Leo`> If someone pass, tell them to r+ my PR for the lifetimes keywords thing :P
[14:56:00] <eddyb> lol
[15:04:53] * eddyb hopes he's doing the right thing
[15:08:22] <eddyb> tt_delim(@~[@token_tree]) // oh dear
[15:22:26] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[15:22:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ODon0g
[15:22:26] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[15:24:42] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Connection reset by peer)
[15:25:27] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: Lost terminal)
[15:26:42] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[15:27:04] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[15:27:04] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/_QmzgQ
[15:27:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[15:27:12] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[15:27:12] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/L7kbHA
[15:27:12] <ghrust> 13rust/06auto 14086e310 15Alex Crichton: Use the native tls implementation on android...
[15:27:12] <ghrust> 13rust/06auto 1428898a5 15bors: auto merge of #10687 : alexcrichton/rust/issue-10686, r=thestinger...
[15:27:12] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[15:31:57] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:37:09] <eddyb> strcat: I'm @eddyb on github :P
[15:37:19] <strcat> isn't that what I said? ;p
[15:37:37] <strcat> oh that's good I mentioned some random person
[15:37:51] <strcat> github probably sends them an email for each commit on that PR now
[15:37:52] <eddyb> strcat: where should I add a test?
[15:37:53] <strcat> great!
[15:37:59] <strcat> eddyb: libsyntax can have #[test]
[15:38:05] <eddyb> art.rs has a commented out test mod
[15:38:08] <eddyb> *ast
[15:38:11] <strcat> yeah, there
[15:38:37] <eddyb> /* hold off on tests ... they appear in a later merge.
[15:39:47] <eddyb> so I'm not sure if I should touch that
[15:49:37] <eddyb> strcat: updated - was hesitant, but I still can't test it, feel free to r+, I hope it's fine
[15:53:44] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[15:57:36] <eddyb> strcat: gaaaah it's so hard to @ Path
[15:59:26] <eddyb> maybe it's silly to do so much work to remove clones on *that*
[15:59:48] <eddyb> and every time I change something, I get more errors
[16:00:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:07:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[16:07:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1428898a5 to 1423674be: 02http://git.io/N3iJvQ
[16:07:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[16:22:17] <eddyb> ffs
[16:24:09] <eddyb> I hate myself for starting this, but I can't stop
[16:28:43] *** kimundi is now known as zz_kimundi
[16:40:08] *** zz_kimundi is now known as kimundi
[17:00:18] <eddyb> [@ast::token_tree] was bad bad idea
[17:03:46] <eddyb> yay, *more* errors than last time. I swear I'm not doing this on purpose
[17:17:15] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[17:17:15] *** ChanServ sets mode: +o tjc
[17:17:17] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:17:17] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/YFYY4Q
[17:17:17] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:17:44] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:24:39] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[17:28:26] * eddyb gives himself a cookie
[17:28:58] <eddyb> bloody macros
[17:30:33] <eddyb> strcat: you're going to hate me even more for this
[17:31:54] <eddyb> where is quote_expr! implemented?
[17:32:20] <strcat> quote.rs
[17:32:26] <strcat> somewhere
[17:34:11] <benh> Does anyone but me think that renaming char might be a good plan? :)
[17:34:19] <benh> (to ucs4, or codepoint, or something)
[17:35:00] <benh> Once again I position myself deep inside the bike shed, I suppose
[17:35:07] <eddyb> strcat: I just hope I don't need a snapshot for this
[17:36:17] <eddyb> does quote_expr! "return" ~[ast::token_tree]?
[17:36:36] <strcat> dunno
[17:39:58] <eddyb> yeah, I think it creates an expression of that type. pfft
[17:40:51] * strcat wonders how to implement a task tree
[17:40:53] <strcat> a really crappy one
[17:43:00] <eddyb> I hate this magic
[17:44:38] <eddyb> the current libsyntax determines the types of some expressions inside quote_expr! expansions, but it won't compile if it doesn't match the modified libsyntax that you're compiling
[17:45:25] <pnkfelix> eddyb: #[cfg(not(stage0))] etc to the rescue?
[17:45:57] <eddyb> pnkfelix: thanks, I guess. no idea what to fix, though
[17:46:17] <eddyb> ext/quote.rs is so cryptic
[17:46:31] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[17:46:53] <eddyb> "to_tokens" theeeere we go :D
[17:48:42] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Quit: Leaving)
[17:48:45] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[17:49:55] <acrichto> sfackler: re splitting streams, we were toying with the idea of not supporting splitting at all and only supporting selection over reads, but I don't think that it's easily possible right now
[17:50:44] <acrichto> sfackler: we were thinking that splitting streams isn't quite the right solution, although we may want to have it anyway
[17:52:12] <strcat> hm
[17:52:31] <strcat> so I guess a TaskTree has to pass &mut TaskContext or something to a task
[17:52:36] <strcat> s/task/proc/
[17:53:10] <strcat> sure going to get complicated when proper data parallelism is thrown in
[17:57:06] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:57:06] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/votDNQ
[17:57:06] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:57:07] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:57:07] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/vPf80g
[17:57:07] <ghrust> 13rust/06auto 14ed86b48 15Alex Crichton: Clean up statically initialized data on shutdown...
[17:57:07] <ghrust> 13rust/06auto 145d6dbf3 15Alex Crichton: Improve the rt::thread module...
[17:57:07] <ghrust> 13rust/06auto 14e4136bd 15bors: auto merge of #10662 : alexcrichton/rust/thread-detach, r=pcwalton...
[17:57:09] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:02:10] <eddyb> aaaah, quote::rt means runtime. heh
[18:05:14] <eddyb> and my function is parse::new_parser_from_tts
[18:11:41] <eddyb> pnkfelix: finally, found the right combination :P - minimal changes in quote::rt *and* parse::new_parser_from_tts
[18:16:35] <eddyb> strcat, acrichto, dbaupp, cmr: random idea: start removing deriving(Clone) on some AST structures
[18:16:59] <strcat> can you make it use Rc now?
[18:17:47] <eddyb> sure
[18:18:40] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[18:20:15] <eddyb> strcat: but I want borrow/deref traits first. and maybe make a P<T> adaptor that would work with both Rc and some kind of arena
[18:21:08] <eddyb> *adapter
[18:22:47] <eddyb> would be cool to make that choice depend on a cfg, and have differential builds (at least once)
[18:26:51] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[18:31:23] <eddyb> strcat: this is what I wasted today with https://github.com/eddyb/rust/commit/04870b375ba641c6277ab7a6c9beeff20b0ee93f
[18:32:00] <eddyb> I can't even be bothered to make librustc compile with that and test it
[18:40:11] <eddyb> I feel so stupid for that, but I didn't know what to try
[18:41:24] <eddyb> I know that big sizes in objects with many instances, excessive cloning and unneeded hygiene are the sources of memory usage here. but libsyntax is big
[18:43:07] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:44:17] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[18:46:14] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[18:47:05] <eddyb> I really wish we could have automatic refactoring
[18:49:33] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[18:57:54] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[18:58:42] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:59:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Max SendQ exceeded)
[19:00:50] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:02:56] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:02:56] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:03:31] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:07:19] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[19:07:19] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vPf80g
[19:07:19] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:10:12] *** Quits: jmbto (jmbto@moz-FE174E29.fbx.proxad.net) (Quit: Leaving)
[19:11:37] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[19:12:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[19:12:38] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/jjnIHw
[19:12:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[19:12:43] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:12:43] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/GpNxaQ
[19:12:43] <ghrust> 13rust/06auto 14a9bd049 15Alex Crichton: Relax restrictions on unknown feature directives...
[19:12:43] <ghrust> 13rust/06auto 1430127ef 15bors: auto merge of #10680 : alexcrichton/rust/relax-feature-gate, r=thestinger...
[19:12:43] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:18:16] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:36:14] <jack> Are the file inputs for a crate stored in the ast somewhere?
[19:36:26] <jack> I see there is a Span in ast::Crate but i don't see where it stores the filename
[19:37:50] <Luqman> jack: CodeMap has a method span_to_filename
[19:38:31] <Luqman> (the codemap struct is available on the Session)
[19:39:58] <jack> that appears to be exactly what I wanted.
[19:39:59] <jack>  thanks!
[19:40:06] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: leaving)
[19:45:37] <cmr> dbaupp: I'm back now, bencher up
[19:46:08] <cmr> eddyb: (see above)
[19:52:10] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:52:10] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1430127ef to 14e4136bd: 02http://git.io/N3iJvQ
[19:52:10] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:52:19] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:52:19] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/o2U7uA
[19:52:19] <ghrust> 13rust/06auto 147b96f13 15Eric Biggers: std::ascii:  Fix is_digit() and is_control()...
[19:52:19] <ghrust> 13rust/06auto 146488324 15Eric Biggers: std::ascii:  Add tests for is_digit() and is_control()
[19:52:19] <ghrust> 13rust/06auto 14e147a09 15bors: auto merge of #10685 : ebiggers/rust/ascii_fixes, r=alexcrichton...
[19:52:21] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:54:18] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[19:56:26] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[20:08:42] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:10:00] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:16:13] *** Joins: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net)
[20:16:47] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:16:59] *** pnkfelix1 is now known as pnkfelix
[20:18:43] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:19:18] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[20:31:04] *** Joins: ktt3ja (Mibbit@moz-54586A12.washdc.fios.verizon.net)
[20:39:51] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[20:52:39] *** Quits: tedh (tedh@moz-A5D1CAB7.public.wayport.net) (Ping timeout)
[20:53:05] *** Joins: tedh (tedh@moz-A5D1CAB7.public.wayport.net)
[20:58:34] *** nrc|afk is now known as nrc
[21:04:36] *** Joins: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net)
[21:05:54] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[21:07:43] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:07:43] *** ChanServ sets mode: +o tjc
[21:14:52] <dbaupp> cmr: awesome!
[21:20:32] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:21:50] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:22:26] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Input/output error)
[21:24:30] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:24:30] *** ChanServ sets mode: +o tjc
[21:25:27] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[21:26:30] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[21:29:19] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[21:29:50] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:31:08] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:31:13] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[21:31:17] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[21:31:23] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:32:45] *** Quits: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[21:33:31] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:43:35] *** Quits: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net) (Ping timeout)
[21:45:10] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:45:46] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[21:48:16] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:48:17] *** ChanServ sets mode: +o tjc
[21:57:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[21:57:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/o2U7uA
[21:57:00] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:02:48] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:02:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/XGmAYQ
[22:02:48] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:02:52] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:02:52] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/Fg0WdQ
[22:02:52] <ghrust> 13rust/06auto 144f63dc8 15Florian Zeitz: Update unicode.py to reflect language changes
[22:02:52] <ghrust> 13rust/06auto 14fe28c9c 15Florian Zeitz: Update Unicode data to version 6.3
[22:02:52] <ghrust> 13rust/06auto 1482a41f9 15Florian Zeitz: Fix handling of upper/lowercase, and whitespace
[22:02:54] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:03:51] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[22:05:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[22:06:26] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:06:42] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[22:06:43] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[22:08:30] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[22:10:17] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:10:23] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[22:11:21] *** Joins: jmbto (jmbto@moz-FE174E29.fbx.proxad.net)
[22:11:36] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:11:36] *** ChanServ sets mode: +o tjc
[22:17:42] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:17:42] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1444f7391 to 14e147a09: 02http://git.io/N3iJvQ
[22:17:42] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:17:50] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:17:50] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/66lUIw
[22:17:50] <ghrust> 13rust/06auto 14a9bd049 15Alex Crichton: Relax restrictions on unknown feature directives...
[22:17:50] <ghrust> 13rust/06auto 14d662820 15bors: auto merge of #10680 : alexcrichton/rust/relax-feature-gate, r=thestinger...
[22:17:50] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:20:25] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[22:21:00] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[22:22:24] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[22:27:14] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:29:41] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[22:32:31] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:36:48] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:36:48] *** ChanServ sets mode: +o tjc
[22:38:59] *** Quits: jmbto (jmbto@moz-FE174E29.fbx.proxad.net) (Quit: Leaving)
[22:39:47] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[22:39:57] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[22:40:23] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:40:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:50:36] *** flaper87 is now known as flaper87|afk
[22:52:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[22:52:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:04:04] *** Joins: dbaupp (Thunderbir@898216D2.D5A1DCF.37681C44.IP)
[23:12:13] *** Quits: dbaupp (Thunderbir@898216D2.D5A1DCF.37681C44.IP) (Ping timeout)
[23:24:22] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Ping timeout)
[23:24:31] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[23:26:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[23:26:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/66lUIw
[23:26:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[23:32:18] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[23:32:19] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/rs6vZA
[23:32:19] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[23:32:22] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:32:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/cOzevQ
[23:32:23] <ghrust> 13rust/06auto 14b50b162 15Corey Richardson: Be more strict about doc comments...
[23:32:23] <ghrust> 13rust/06auto 14d2c405e 15bors: auto merge of #10642 : cmr/rust/strict_doccomment, r=alexcrichton...
[23:32:23] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:46:25] *** Joins: dbaupp (Thunderbir@898216D2.D5A1DCF.37681C44.IP)
[23:56:21] <jack> any suggestions for how to parse the option "-MMD"
[23:56:45] <jack> optparse has an assert for the short name being len==0 or len==1
