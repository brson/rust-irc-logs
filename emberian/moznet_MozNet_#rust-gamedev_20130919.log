[00:41:29] *** Quits: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca) (Quit: canhtak)
[00:51:17] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:29:22] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:29:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:43:32] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[01:50:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:50:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:54:33] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[02:02:29] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[02:43:28] *** Quits: kimundi (kimundi@moz-ED244214.dip0.t-ipconnect.de) (Ping timeout)
[02:44:16] *** Joins: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net)
[02:44:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:47:00] *** Joins: kimundi (kimundi@moz-2B3B2A0D.dip0.t-ipconnect.de)
[02:48:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:48:53] *** Quits: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net) (Ping timeout)
[02:51:18] *** kimundi is now known as zz_kimundi
[02:58:12] *** zz_kimundi is now known as kimundi
[03:05:41] *** Joins: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca)
[03:07:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:43:47] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[05:55:07] *** Joins: squiddy (squiddy@moz-91AA0922.adsl.alicedsl.de)
[06:01:17] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[06:10:57] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[06:14:14] *** Joins: nielsle_ (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[06:18:41] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:18:55] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:42:31] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[06:48:39] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[07:10:39] *** Joins: sebcrozet (sebcrozet@6D44F695.940A4703.BA2F4534.IP)
[07:14:58] *** Quits: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca) (Quit: canhtak)
[07:19:55] *** Quits: sebcrozet (sebcrozet@6D44F695.940A4703.BA2F4534.IP) (Ping timeout)
[07:22:30] *** Joins: sebcrozet (sebcrozet@1B59DD30.940A4703.BA2F4534.IP)
[07:23:47] *** Quits: bbouvier (bnjbouv@moz-63AFAFBF.gagahome.fr) (Ping timeout)
[07:42:16] *** Quits: sebcrozet (sebcrozet@1B59DD30.940A4703.BA2F4534.IP) (Ping timeout)
[07:44:51] *** Joins: sebcrozet (sebcrozet@3796AE34.940A4703.BA2F4534.IP)
[07:50:32] *** Quits: sebcrozet (sebcrozet@3796AE34.940A4703.BA2F4534.IP) (Ping timeout)
[07:52:09] *** Joins: sebcrozet (sebcrozet@66832158.940A4703.BA2F4534.IP)
[07:58:50] *** Quits: sebcrozet (sebcrozet@66832158.940A4703.BA2F4534.IP) (Ping timeout)
[08:01:26] *** Joins: sebcrozet (sebcrozet@945FCD68.940A4703.BA2F4534.IP)
[08:25:26] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[08:25:37] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:35:58] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[08:43:18] *** Quits: sebcrozet (sebcrozet@945FCD68.940A4703.BA2F4534.IP) (Ping timeout)
[09:18:01] *** Joins: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr)
[09:32:54] *** Quits: squiddy (squiddy@moz-91AA0922.adsl.alicedsl.de) (Ping timeout)
[10:15:50] *** kimundi is now known as zz_kimundi
[10:17:42] *** zz_kimundi is now known as kimundi
[10:21:28] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:22:28] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:22:55] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:23:16] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:24:35] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:24:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:26:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:26:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:55:46] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:35:34] <rsaarelm> One thing I'm wondering how I'll do with Rust is dealing with collections of heterogeneous game world objects. The sort of situation where everything has a base interface you usually deal with them, and then they may or may not implement some more specific trait. You could do this with runtime downcasting, but I don't think Rust has that.
[11:36:20] <rsaarelm> Sorta like "for every @GameObject x in room, if x is also @LeverGameObject, go call method pull_lever of x as @LeverGameObject".
[11:37:03] <dbaupp> enum GameObject { Lever(..), Button(..), Widget(..), ... } ?
[11:37:18] <dbaupp> (I imagine that this would be unworkable with many objects though.)
[11:37:21] <rsaarelm> Yeah.
[11:37:26] <rsaarelm> Also if you want to implement several.
[11:37:38] <dbaupp> several traits?
[11:37:41] <rsaarelm> Yes.
[11:37:57] <rsaarelm> Like PhysicalObject, WeaponObject, MagicSource...
[11:38:30] <dbaupp> it could be enum GameObject { Lever(ActualLever), ... } struct ActualLever { .. } and then the specific traits get impl'd on the individual structs
[11:38:45] <dbaupp> and so `match` performs the "downcasting"
[11:39:05] <rsaarelm> No, I mean the GameObject is expected to implement several of the more specific traits.
[11:39:35] <rsaarelm> Sorta like you can have weapons, then you can have enemy NPCs, then you might have a magic living sword that's both.
[11:40:02] <dbaupp> Isn't that exactly what I just suggested?
[11:40:42] <rsaarelm> The enum is only one specific thing though, isn't it?
[11:40:57] <dbaupp> enum GameObject { ..., Sword(SwordStruct), NPC(NPCStruct), MagicSword(MagicSwordStruct),... } impl Weapon for MagicSwordStruct { .. } impl NPC for MagicSwordStruct { ... }
[11:41:06] <rsaarelm> Then you'll have to write down every combination.
[11:41:40] <rsaarelm> Though it does depend on the complexity of the thing whether that's going to be unworkable or not.
[11:41:44] <dbaupp> yeah
[11:42:25] <dbaupp> I imagine looking at how haskell handles this would be a good place to start, since Rust's typesystem is very similar
[11:42:27] <rsaarelm> Also, you could rig the base objects to be component bags.
[11:42:54] <rsaarelm> And then have a limited set of component families, which you would just write out in the enum, and the object could contain several of those.
[11:43:01] <dbaupp> (that is to say, the C++/Java/OO patterns don't necessarily fit as well as the Haskell/OCaml patterns.)
[11:43:21] <dbaupp> yeah, that might work alright
[11:45:47] *** Joins: mark_edward_ (quassel@moz-97E995A.hsd1.in.comcast.net)
[11:49:03] <rsaarelm> Haskell/OCaml basically doesn't seem to have really nice ways of dealing with the sort of heterogeneous collection situation you get with complex game worlds, the last I looked at them.
[11:49:17] <rsaarelm> Though OCaml did have some weird hacky trick which you could use to do downcasting.
[11:50:54] <rsaarelm> ..which I can't find now. At least I think I did. I remember it involving some sort of abuse of the exception mechanism.
[11:53:30] <rsaarelm> http://eigenclass.org/R2/writings/heterogeneous-containers-in-ocaml This thing.
[12:17:00] <cmr> rsaarelm: you might look at what Servo does to achieve this same exact sort of structure.
[12:17:08] <cmr> They need it in the DOM
[12:20:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:29:04] <rsaarelm> cmr: Will do, thanks.
[12:33:03] *** Joins: archer (Mibbit@moz-69689716.bb.online.no)
[12:42:23] *** Joins: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de)
[12:52:08] *** Joins: mib_opxvqh (Mibbit@moz-85A0C07D.tica.com.ua)
[12:53:06] *** Quits: mib_opxvqh (Mibbit@moz-85A0C07D.tica.com.ua) (Quit: http://www.mibbit.com ajax IRC Client)
[13:01:58] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[13:04:49] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[13:23:17] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[13:25:16] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[13:32:53] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Quit: Leaving...)
[13:33:03] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[13:36:32] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[13:42:06] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:42:19] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[13:51:42] *** Quits: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de) (Connection reset by peer)
[13:57:20] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[14:06:17] *** Joins: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de)
[14:36:59] *** Quits: mark_edward_ (quassel@moz-97E995A.hsd1.in.comcast.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[14:45:17] *** Joins: mib_wfccgy (Mibbit@moz-21857288.red-83-37-56.dynamicip.rima-tde.net)
[14:45:39] *** Quits: mib_wfccgy (Mibbit@moz-21857288.red-83-37-56.dynamicip.rima-tde.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:47:42] *** Joins: mark_edward_ (quassel@FA215F65.8CBA6D28.848BB095.IP)
[14:51:43] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[14:53:30] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[15:19:24] *** Joins: yeri (yeri@437FA687.22C63A3C.A15D986E.IP)
[15:23:14] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:23:25] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[16:02:45] *** Quits: yeri (yeri@437FA687.22C63A3C.A15D986E.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[16:03:24] <bjz_> rsaarelm: what did you discover?
[16:05:40] *** Quits: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr) (Ping timeout)
[16:05:47] <rsaarelm> bjz_: A typeid bit field and unsafe casts with transmute.
[16:05:59] <bjz_> o_o
[16:06:21] <rsaarelm> Not sure if I looked in the right place or made proper sense of what I read.
[16:06:22] <bjz_> must be interfacing with C
[16:06:53] <rsaarelm> Seemed pretty high level.
[16:07:01] <rsaarelm> Other than the unsafe part.
[16:07:04] <bjz_> yeah?
[16:07:13] <bjz_> linky?
[16:08:12] <rsaarelm> https://github.com/mozilla/servo/blob/master/src/components/script/dom/node.rs
[16:10:50] <bjz_> looks kinda hairy :(
[16:10:54] <rsaarelm> Yeah.
[16:11:16] <rsaarelm> I haven't done much Rust code reading, haven't looked at all into Servo before this.
[16:11:43] <bjz_> jack: what are you doing?! D8
[16:12:11] <rsaarelm> I think that uses concrete types too. Would it work if I tried to transmute a value of type @SomeTraitType into @SomeOtherTraitType if I happened to know the underlying value supported both types?
[16:12:24] <rsaarelm> Or is there some extra magic involved with the @Trait-typed references?
[16:12:54] * bjz_ gets nervouse transmuting @ pointers
[16:13:02] <rsaarelm> Yeah.
[16:13:24] <rsaarelm> I'll probably just be better off making something simple enough that it doesn't need this stuff.
[16:13:30] <rsaarelm> Still, it's interesting to think about.
[16:14:23] <rsaarelm> I think the prevailing wisdom in C++ is that if your game has a complex enough object model that you're tempted to do this sort of downcasting logic, you should drop the whole OO thing and just do a component-based architecture instead.
[16:14:37] <bjz_> ah yeah?
[16:15:54] <rsaarelm> Yeah, people used to OO really complex game object hierarchies in the 90s, but the last 10 years or so there's been a whole bunch of articles going no! horrors and badness lie that way! go with components!
[16:15:56] <bjz_> I would hope we wouldn't have to deal with ugly transmutes in high level code like game worlds
[16:16:15] <rsaarelm> Here's a good pile of references. http://stackoverflow.com/questions/1901251/component-based-game-engine-design
[16:16:25] <cmr> rsaarelm: I would think regular trait objects fill the component niche quite well.
[16:16:50] <cmr> What we need is anonymous trait union, I think
[16:17:23] <cmr> so you can say: ~Movable+Physics
[16:17:25] <cmr> Or whatever
[16:17:43] <bjz_> rsaarelm: cool. yeah I've done abit of reading about component based design, but it hasn't stuck much because I haven't implemented it in anything yet
[16:18:30] <cmr> The best post I read about component was the one from the guy on the Tony Hawk (iirc) team.
[16:19:06] <bjz_> Heh: "Remember my warning as you watch your components become smaller and smaller, and more like functions packed in components with a lot of useless overhead. Use functional-reactive programming instead."
[16:19:26] <cmr> tiffany was working on some frp stuff
[16:19:41] <bjz_> no idea how that would work in rust
[16:20:02] <cmr> She gave up and wrote a language using rust for the compiler instead :p
[16:20:10] <cmr> https://github.com/tiffany352/frscript
[16:20:19] <rsaarelm> Yeah, I tried to follow up if the guy had managed to do anything with the frp idea, but didn't manage to find anything.
[16:20:22] <bjz_> hahaha
[16:20:52] <cmr> (tbh this was her first day or few with rust, and she hasn't tried since)
[16:21:19] <bjz_> oh ok
[16:21:46] <rsaarelm> FRP is scary magic and I never figured out how you're supposed to do anything more complex than a spinning sphere with it.
[16:22:00] <cmr> yeah
[16:22:04] <rsaarelm> One Haskell guy did make a small FPS game with something like it though.
[16:22:05] <cmr> I agree with the magic part
[16:22:24] <rsaarelm> But he said that the code got crazy-hairy with the more involved physics parts.
[16:22:47] <cmr> FRP seems to be taking hold on the browser space a bit
[16:22:53] <cmr> Under the moniker "two-way databinding"
[16:24:09] <bjz_> cmr: sounds enterprisy enough
[16:37:05] *** Quits: archer (Mibbit@moz-69689716.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[17:05:20] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[17:06:08] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:23:07] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[17:25:15] *** Quits: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca) (Quit: canhtak)
[17:25:18] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:25:18] *** ChanServ sets mode: +qo pcwalton pcwalton
[17:42:31] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[17:57:43] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[18:05:24] *** Joins: yeri (yeri@437FA687.22C63A3C.A15D986E.IP)
[18:05:59] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:08:19] *** Quits: yeri (yeri@437FA687.22C63A3C.A15D986E.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[18:11:52] *** Quits: nielsle_ (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Quit: Ex-Chat)
[18:13:03] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:13:03] *** ChanServ sets mode: +qo pcwalton pcwalton
[18:20:49] *** Joins: archer (Mibbit@moz-69689716.bb.online.no)
[19:09:11] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[19:26:19] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[19:31:42] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[19:48:31] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[19:53:40] *** jdm is now known as jdm|busy
[20:35:44] *** jdm|busy is now known as jdm
[20:43:24] <jdm> woah woah
[20:43:30] <jdm> who's talking about our servo dom hacks?
[20:43:37] * jdm just looked at the backscroll
[21:03:12] *** Quits: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[21:43:08] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[21:54:05] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[21:54:27] <cmr> jdm: rsaarelm
[22:25:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:10:09] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Quit: Gone)
[23:13:12] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:13:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:14:28] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:16:22] *** Quits: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca) (Quit: canhtak)
[23:20:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:35:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:36:10] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[23:47:13] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: Leaving)
[23:51:09] *** Quits: archer (Mibbit@moz-69689716.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[23:52:07] *** kimundi is now known as zz_kimundi
[23:52:54] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:58:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
