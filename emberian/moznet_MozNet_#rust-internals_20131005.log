[00:31:34] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:31:34] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/i1W5mg
[00:31:34] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:35:51] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[00:36:45] *** Joins: tetsuharu (tetsuharu@79611EE9.A51CB73B.6FBF6D51.IP)
[00:37:41] *** Quits: tetsuharu (tetsuharu@79611EE9.A51CB73B.6FBF6D51.IP) (Client exited)
[00:37:43] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Ping timeout)
[00:41:40] *** kimundi is now known as zz_kimundi
[00:47:43] *** Joins: jennylove (jenny1986@moz-9675A4DB.dsl.bell.ca)
[00:47:58] <jennylove> http://Fun4Days.com/sms/sms.php?share=178616
[00:47:59] *** Parts: jennylove (jenny1986@moz-9675A4DB.dsl.bell.ca) ()
[00:52:25] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[00:53:51] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[01:36:33] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[01:36:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/J_vl8A
[01:36:33] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[01:36:33] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:36:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/5r0wSQ
[01:36:34] <ghrust> 13rust/06auto 144cc925a 15Alex Crichton: Register new snapshots...
[01:36:34] <ghrust> 13rust/06auto 141a3141b 15bors: auto merge of #9718 : alexcrichton/rust/snapshots, r=sanxiyn...
[01:36:34] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:05:58] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[02:06:50] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Ping timeout)
[02:38:00] *** Quits: zz_kimundi (kimundi@moz-C29F3EBA.dip0.t-ipconnect.de) (Ping timeout)
[02:41:56] *** Joins: zz_kimundi (kimundi@moz-4F2ED33.dip0.t-ipconnect.de)
[02:41:58] *** zz_kimundi is now known as kimundi
[02:46:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[02:46:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/5r0wSQ
[02:46:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[02:51:32] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:51:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/5FvhkQ
[02:51:32] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[03:16:28] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[03:21:09] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[03:30:33] <cmr> acrichto: ping
[03:41:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[03:41:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14221f3c5 to 141a3141b: 02http://git.io/N3iJvQ
[03:41:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:48:19] *** Joins: StarLight (StarLight@moz-BC57337C.dynamic.avangarddsl.ru)
[03:59:34] <acrichto> cmr: pong
[03:59:48] <cmr> this is where I try to remember why I pinged you...
[04:01:06] <cmr> Well, whatever it was I originally wanted you for, what are your thoughts on testing rustdoc?
[04:01:36] <acrichto> testing html is hard
[04:01:51] <acrichto> helper functions can always have good tests
[04:01:58] <cmr> sure, but we need at least basic smoke tests.
[04:01:59] <acrichto> but even testing just the passes is kinda hard...
[04:02:13] <cmr> but for example, we've regressed on both json *and* simple crate docs
[04:02:31] <cmr> #[link(name="test")]; fn main() {}, an unwrap fails somewhere in html::render
[04:02:39] <acrichto> the prolblems that I've run into have always been more dead links than anything else
[04:02:50] <acrichto> oh I know about that
[04:03:00] <acrichto> if there's nothing to document html::render dies
[04:03:05] <acrichto> why did json regress though?
[04:03:11] <cmr> no idea, haven't figured it out yet.
[04:03:19] <cmr> rustdoc -w json foo.rs has the roundtrip failure
[04:03:32] <acrichto> is it an empty file?
[04:03:49] <acrichto> as in nothing to actually document
[04:03:55] <cmr> no, it died on noise-rs
[04:04:03] <acrichto> oh hm that's not good
[04:04:04] <cmr> (http://docs.octayn.net/noise/)
[04:04:09] <acrichto> I'm not sure if these are regressions so much as just bugs
[04:04:24] <cmr> Well, it used to work when I was dev'ing it :P
[04:04:29] <acrichto> lol
[04:04:45] <acrichto> I suppose it is a regression at that point then 
[04:05:16] <cmr> Maybe the float removal exploded it?
[04:05:26] <acrichto> I'd be surprised
[04:05:28] <cmr> That and usage of fmt! are the only changes to extra::json
[04:06:12] <benh> yo, extern mod blah="blah; really ought to pretty-print with spaces around the '=', right?
[04:06:26] <cmr> benh: yup
[04:06:35] <benh> Is it okay if I sneak that in with other changes if I'm working on the pretty printer?
[04:06:54] <cmr> why not, I say. just have that commit be separaate
[04:06:58] <cmr> (git commit -p to the rescue!)
[04:07:02] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[04:07:17] <benh> yeah
[04:07:59] <benh> I think I hve at least extern r"C" fn f(); and extern r"C" { fn f(); } working now though :)
[04:09:05] <cmr> acrichto: it just occured to me that I have 1.2k rust builds, all with rustdoc, so I *could* bisect it very quickly.
[04:09:49] <acrichto> hahaha
[04:09:56] <acrichto> jeez that's a lot of rust builds
[04:10:06] <cmr> Gotta feed irfy somehow :)
[04:10:47] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[04:11:19] *** Joins: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[04:21:32] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:21:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b60b121 to 141a3141b: 02http://git.io/N3iJvQ
[04:21:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:21:34] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:21:34] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/-g05Cg
[04:21:34] <ghrust> 13rust/06auto 141996a11 15Alex Crichton: Cache more results of const_eval...
[04:21:34] <ghrust> 13rust/06auto 1419e9766 15Alex Crichton: Don't fail when unpacking the windows snapshot...
[04:21:34] <ghrust> 13rust/06auto 145a1073f 15bors: auto merge of #9722 : alexcrichton/rust/less-mem, r=sanxiyn...
[04:21:36] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:31:35] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:31:35] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/-g05Cg
[05:31:35] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:36:35] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:36:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Bj5S-A
[05:36:35] <ghrust> 13rust/06auto 14d629aca 15Strahinja Val Markovic: Fix minor typo in std::str module docs
[05:36:35] <ghrust> 13rust/06auto 14bae0ce2 15bors: auto merge of #9726 : Valloric/rust/typo_fix, r=alexcrichton
[05:36:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:46:05] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[06:46:33] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:46:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Bj5S-A
[06:46:33] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:51:33] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[06:51:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/weivOg
[06:51:33] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:51:35] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:51:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/XNFABQ
[06:51:35] <ghrust> 13rust/06auto 1403099e5 15Strahinja Val Markovic: Fixed another minor typo in std::str docs
[06:51:35] <ghrust> 13rust/06auto 141506dac 15bors: auto merge of #9727 : Valloric/rust/doc-fixes, r=catamorphism
[06:51:35] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:04:09] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[07:31:51] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[07:43:22] *** Joins: Jesse (jruderman@79611EE9.A51CB73B.6FBF6D51.IP)
[07:59:08] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:01:32] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[08:01:32] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/XNFABQ
[08:01:32] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[08:01:51] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[08:12:20] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[08:21:31] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[08:21:31] *** ChanServ sets mode: +qo brson brson
[08:29:00] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Ping timeout)
[08:31:05] *** Joins: schubidu25 (schubidu25@moz-FAE37203.superkabel.de)
[08:37:13] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[08:47:19] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[09:17:00] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:17:20] *** Quits: Jesse (jruderman@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[09:50:59] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[10:01:08] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[10:13:22] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[10:32:44] *** Joins: brson (brson@7AF98CCC.7F57627B.81A53753.IP)
[10:32:44] *** ChanServ sets mode: +qo brson brson
[10:37:14] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:37:42] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:39:27] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:46:11] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:02:23] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[11:02:49] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:04:38] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[11:11:09] *** Quits: brson (brson@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[11:33:24] *** Joins: dbaupp (Thunderbir@moz-5E75FF5.pa.nsw.optusnet.com.au)
[11:35:42] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[11:36:57] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[11:36:58] *** Quits: dbaupp (Thunderbir@moz-5E75FF5.pa.nsw.optusnet.com.au) (Ping timeout)
[11:41:35] *** Joins: dbaupp (Thunderbir@moz-5E75FF5.pa.nsw.optusnet.com.au)
[12:03:48] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:06:32] *** Quits: dbaupp (Thunderbir@moz-5E75FF5.pa.nsw.optusnet.com.au) (Ping timeout)
[12:10:17] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[12:19:37] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:20:06] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:21:52] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[12:26:10] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Quit: Ex-Chat)
[12:34:43] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:03:23] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[13:03:31] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Input/output error)
[13:28:33] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[13:29:01] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:30:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[13:32:02] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[13:33:08] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[13:41:24] *** Joins: tetsuharu (tetsuharu@79611EE9.A51CB73B.6FBF6D51.IP)
[13:42:25] *** Quits: tetsuharu (tetsuharu@79611EE9.A51CB73B.6FBF6D51.IP) (Client exited)
[14:02:06] *** Joins: brson (brson@7AF98CCC.7F57627B.81A53753.IP)
[14:02:07] *** ChanServ sets mode: +qo brson brson
[14:05:50] *** Quits: brson (brson@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[14:09:00] *** Joins: brson (brson@7AF98CCC.7F57627B.81A53753.IP)
[14:09:01] *** ChanServ sets mode: +qo brson brson
[14:37:18] *** Quits: brson (brson@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[14:41:58] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[15:11:00] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[15:14:18] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[15:45:59] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[15:48:25] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Quit: Leaving)
[15:48:29] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[15:48:40] *** Joins: doomlord__ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[15:57:41] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:30:41] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[17:26:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:26:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/pLV_KA
[17:26:36] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:26:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:26:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yg6ltw
[17:26:38] <ghrust> 13rust/06auto 14c2055a8 15Steven Fackler: Fix thread safety issues in dynamic_lib...
[17:26:38] <ghrust> 13rust/06auto 14b1608a7 15bors: auto merge of #9713 : sfackler/rust/dynamic_lib, r=alexcrichton...
[17:26:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:38:00] *** Joins: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP)
[17:39:22] <Eridius> acrichto: you around?
[17:51:21] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:07:44] <Yurume> can anyone (especially, with linux hosts) verify that this code doesn't work as expected?
[18:07:45] <Yurume> fn f() { assert!(false); } struct A(f64); struct B { x: Option<A> } fn main() { let mut t = B { x: None }; t.x = Some(A(100.0)); println(fmt!("%?", t.x)); }
[18:08:18] <Yurume> it should return Some(A(100f64)), but my x86-64 linux machine with 0.8 gives Some(A(0f64)).
[18:08:23] <kmc> mine too
[18:08:46] <Yurume> x86-64? x86?
[18:08:58] <kmc> x86-64
[18:09:07] <kmc> rustc 0.8 (eb55348 2013-09-23 09:20:56 -0700)
[18:09:10] <Yurume> ha.
[18:09:15] <Yurume> is that a known issue?
[18:09:22] <kmc> no idea
[18:10:15] <kmc> if I remove the unused fn f() then I get Some(A(100f64))
[18:10:18] <kmc> weeeeeeird
[18:11:07] <kmc> or just remove the assert even
[18:11:18] <Yurume> kmc, to be exact, that's something to do with inlining
[18:11:37] <Yurume> if the call to Some is inlined it works as expected, otherwise it doesn't
[18:17:43] <Yurume> wow, the problem mysterically disappears when `struct A(f64);` is replaced with `enum A { A(f64) }`! what a magic.
[18:29:50] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[18:30:17] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[18:32:03] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[18:50:55] *** Quits: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP) (Ping timeout)
[18:52:19] *** Joins: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP)
[19:00:06] *** Joins: lbergstrom (Adium@moz-7DDD1300.ifiber.telenet-ops.be)
[19:06:10] <kimundi> r? https://github.com/mozilla/rust/pull/9731
[19:08:54] *** Quits: lbergstrom (Adium@moz-7DDD1300.ifiber.telenet-ops.be) (Quit: Leaving.)
[19:11:41] <engla> Yurume: I can't reproduce on linux-64 on commit 9344e2a (oct 03)
[19:11:49] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:11:49] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b1608a7 to 141506dac: 02http://git.io/N3iJvQ
[19:11:49] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:11:53] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:11:53] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/RaiSYQ
[19:11:53] <ghrust> 13rust/06auto 141d19ad9 15Steven Fackler: Fix thread safety issues in dynamic_lib...
[19:11:53] <ghrust> 13rust/06auto 14778e9ab 15bors: auto merge of #9713 : sfackler/rust/dynamic_lib, r=alexcrichton...
[19:11:53] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:13:57] <Yurume> engla, ah, thank you for pointing out
[19:14:06] *** Quits: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP) (Ping timeout)
[19:14:10] <Yurume> then that has to be fixed in very recent commits
[19:14:17] <engla> Yurume: strcat may actually have fixed it when improving the number of types being immediate
[19:14:32] <Yurume> like this: https://github.com/mozilla/rust/commit/249b356fb3dba0998dbaef34980c9dd1c1e42f48 ?
[19:14:58] <engla> maybe not that particular change
[19:15:08] <Yurume> and I thought kmc had a post-0.8 master, but looking at the commit it is actually just before 0.8 release
[19:15:49] <engla> well things change every day, the version numbers don't tell us much except when they name an exact commit
[19:15:54] <engla> as in the release version itself
[19:16:37] <Yurume> engla, it at least gives an approximate date ;)
[19:16:53] <Yurume> anyway, then I'll close #9730
[19:17:53] <engla> Yurume: ok, I just tested your minimal testcase there (and then tried to change it so it would produce the error)
[19:17:59] <engla> but it seems to be correct now
[19:18:11] <engla> tried with and wo optimization
[19:39:05] *** Quits: schubidu25 (schubidu25@moz-FAE37203.superkabel.de) (Client exited)
[19:48:22] <kimundi> acrichto: sorry, I once again noticed a thing I forgot after asking for an r+ :( Could I get another one https://github.com/mozilla/rust/pull/9731 ?
[19:50:03] <engla> kimundi: nice, I've been missing that (SendStr implementing IntoSendStr)
[19:50:41] <kimundi> whew, so it _has_ an use case and I'm not just overthinking it :P
[19:51:52] <acrichto> kimundi: lgtm
[19:52:02] <kimundi> great :)
[20:11:55] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:11:55] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14778e9ab to 141506dac: 02http://git.io/N3iJvQ
[20:11:55] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:11:56] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:11:56] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/uTtckg
[20:11:56] <ghrust> 13rust/06auto 1449ac6ba 15Marvin LÃ¶bel: Make a task name use a `SendStr`, allowing for either...
[20:11:56] <ghrust> 13rust/06auto 14517298d 15Marvin LÃ¶bel: Implemented `IntoSendStr` on `SendStr` to allow naming a...
[20:11:57] <ghrust> 13rust/06auto 140c388be 15bors: auto merge of #9731 : Kimundi/rust/SendStrTaskName, r=alexcrichton...
[20:11:59] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:12:24] *** Joins: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP)
[20:12:34] *** Joins: strcat (strcat@7EA5F9ED.C1499D0.396E4C6D.IP)
[20:31:09] *** Joins: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP)
[20:33:00] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[20:34:41] *** Quits: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[20:35:12] *** Quits: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP) (Ping timeout)
[20:35:58] *** Joins: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP)
[20:36:50] *** Quits: strcat (strcat@7EA5F9ED.C1499D0.396E4C6D.IP) (Ping timeout)
[20:41:42] *** Joins: steveklabnik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP)
[20:43:44] *** Quits: steveklabnik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP) (Ping timeout)
[20:52:40] *** Quits: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[20:53:54] *** Joins: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP)
[21:00:58] *** Joins: steveklabnik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP)
[21:01:02] *** Joins: stevekla1nik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP)
[21:04:39] *** Quits: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[21:10:46] *** Joins: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP)
[21:12:35] *** Quits: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP) (Ping timeout)
[21:17:10] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[21:17:10] *** ChanServ sets mode: +qo brson brson
[21:21:47] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:21:47] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/uTtckg
[21:21:47] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:22:27] *** Joins: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP)
[21:24:54] *** Joins: tikue3 (tikue_star@moz-424BC304.hsd1.pa.comcast.net)
[21:25:18] *** Quits: tikue3 (tikue_star@moz-424BC304.hsd1.pa.comcast.net) (Client exited)
[21:25:31] *** Joins: tikue_ (tikue_star@moz-424BC304.hsd1.pa.comcast.net)
[21:26:46] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[21:26:46] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/DedFQg
[21:26:46] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[21:26:48] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[21:26:48] <ghrust> 01[13rust01] 15bors pushed 14 new commits to 06auto: 02http://git.io/STTLkw
[21:26:48] <ghrust> 13rust/06auto 14d9d1dfc 15Erick Tryzelaar: std: Replace num::IntConvertible with {To,From}Primitive
[21:26:48] <ghrust> 13rust/06auto 140feaccf 15Erick Tryzelaar: syntax: Add #[deriving(FromPrimitive)] syntax extension...
[21:26:48] <ghrust> 13rust/06auto 148f8cc06 15Erick Tryzelaar: syntax: swap from .span_fatal to .span_err in #[deriving(FromPrimitive)]
[21:26:50] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[21:27:12] *** Quits: rusti (rusti@7EA5F9ED.C1499D0.396E4C6D.IP) (Connection reset by peer)
[21:46:52] *** Quits: steveklabnik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP) (Ping timeout)
[21:46:52] *** Quits: stevekla1nik (steveklabn@90E4D93F.93EC364C.1C63AAF3.IP) (Ping timeout)
[22:20:32] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Quit: leaving)
[22:25:21] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:28:38] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[22:33:49] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[22:36:38] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:36:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/STTLkw
[22:36:38] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:40:12] <Eridius> any chance of getting an r+ on my path rewrite? I know it's a big patch, but it's just gonna bitrot otherwise https://github.com/mozilla/rust/pull/9655
[22:41:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:41:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/aVCVNw
[22:41:37] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:41:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:41:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/XY8BOw
[22:41:38] <ghrust> 13rust/06auto 141d19ad9 15Steven Fackler: Fix thread safety issues in dynamic_lib...
[22:41:38] <ghrust> 13rust/06auto 14bf416e7 15bors: auto merge of #9713 : sfackler/rust/dynamic_lib, r=alexcrichton...
[22:41:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:45:18] <acrichto> Eridius: I'll take a look at it now, but this is a huge change and I'd rather get it right the first time then rather have to continue to iterate
[22:45:27] <acrichto> although I do know that rebasing is a pain
[22:45:37] <Eridius> acrichto: thanks.
[22:45:58] <Eridius> and I'd like to get it right too. The only aspect right now that I know is not final is path::stat, which I think should be eliminated entirely, but I'd rather do that in a separate PR
[22:46:00] <acrichto> Eridius: it looks like there's lots of fn and fn_str, have you given though to having <T: BytesContainer> instead?
[22:46:11] <Eridius> never heard of BytesContainer before
[22:46:26] <Eridius> doesn't show up in the rustdoc_ng search
[22:47:16] <Eridius> are you suggesting creating a new trait?
[22:47:20] <acrichto> argh this wifi is bad sry
[22:47:30] <acrichto> yeah it'd be a new trait with one function `fn as_bytes() -> &[u8]`
[22:47:42] <Eridius> which means that any string passed would be re-parsed as utf-8 :/
[22:47:50] <Eridius> (for the Windows stuff)
[22:48:04] <acrichto> why wouldn't it just be the existing str.as_bytes9) ?
[22:48:47] <Eridius> well I mean it would end up being str::from_utf8_slice(s.as_bytes()), which is just a waste of work
[22:48:54] <Eridius> I suppose I could have an .as_str() method too
[22:48:59] <acrichto> no like push vs push_str
[22:49:05] <Eridius> right
[22:49:06] <acrichto> X_str always calls X
[22:49:10] <acrichto> with arg.as_bytes()
[22:49:21] <Eridius> you're looking at PosixPath
[22:49:24] <Eridius> WindowsPath behaves differently
[22:49:41] <acrichto> I'm looking at GenericPath
[22:50:13] <Eridius> GenericPath calls .push_str_unchecked() if there's no NUL
[22:50:29] <Eridius> it only falls back to calling .push() if it found a NUL (so .push can then deal with the condition)
[22:50:35] <acrichto> basically I expect very few people to call "push" and almost everyone to call "push_str"
[22:50:54] <Eridius> why? Data coming from the OS is probably in &[u8] form
[22:50:58] <acrichto> and it seems unfortunate to call push_str when you could make push type-generic against anything which is a container of bytes
[22:51:09] <acrichto> pushing pre-determined directory names
[22:51:22] <acrichto> ".extension", "output", "lib", "bin", "my_program"
[22:51:43] <acrichto> I agree that sometimes the functionality differs
[22:51:50] <Eridius> with this change all the getters still need the _str suffix
[22:51:53] <Eridius> fwiw
[22:52:00] <acrichto> but there seem to be a number of cases where X_str is literally just X(foo.as_str())
[22:52:03] <acrichto> as_bytes*
[22:52:10] <Eridius> for PosixPath, yes
[22:52:15] <acrichto> no this is genericpath
[22:52:23] <Eridius> again, GenericPath only does that if it needs to handle the null_byte condition
[22:52:24] <acrichto> set_extension, set_filename, push
[22:52:44] <Eridius> for set_extension and set_filestem, yeah
[22:52:46] <acrichto> yes, if the logic differs then you need two functions, but a lot of these have no differing of logic
[22:53:07] <Eridius> set_filename and push have different logic in the _str variants
[22:53:10] <acrichto> it's basically doubling the size of the api
[22:53:39] <Eridius> yeah I get what you're saying, I'm just being cautious because I want to avoid adding inefficiencies for WindowsPath where it really does want a str
[22:53:53] <Eridius> but I can probably deal with that
[22:54:08] <Eridius> I will attempt to add this BytesContainer trait and see what happens
[22:54:39] <acrichto> it may not be possible, but it would be really nice if it were possible
[22:55:00] <Eridius> I agree, if it's possible to do so without sacrificing performance, it would be nice
[22:55:35] <Eridius> I wish I could impl this trait for Str and for Vector
[22:55:51] <Eridius> we really do need something like <T: Str+!Vector>
[22:56:23] <acrichto> this also may be overkill
[22:56:31] <Eridius> oh?
[22:56:59] <acrichto> b/c it'd basically need to be added to the prelude as well
[22:57:09] <Eridius> the trait? yeah it would
[22:57:15] <Eridius> but the rest of Path is already
[22:57:48] <Eridius> it would be nice to put the trait somewhere else, because it's potentially applicable to other things too, but I don't know what other module would be appropriate
[23:00:08] <Eridius> hrm, .as_bytes() would conflict with StrSlice. I'd need a different name
[23:01:03] <acrichto> I think you could remove it from StrSlice
[23:01:08] <acrichto> this is basically the replacement for that
[23:01:17] <Eridius> actually, does it need to go into the prelude?
[23:01:25] <Eridius> nobody outside of std::path would need to actually resolve methods in this trait
[23:01:30] <acrichto> or rather "trait StrSlice: BytesContainer "
[23:01:45] <acrichto> hm maybe
[23:01:50] <acrichto> that may be nicer
[23:02:06] <Eridius> if it doesn't go into the prelude, then there's no need to try and make it nice and clean outside of path, because it's just a generic hack to make path nicer
[23:03:31] <acrichto> hm I don't think I have enough time right now to really look this over, it keeps being larger than I anticipated. I'd like to bring this change up in a meeting though or at least talk about it with others first
[23:03:48] <Eridius> that's fine. I just don't want it to be ignored
[23:12:35] <Eridius> acrichto: oops, just found a problem with BytesContainer. It's gonna consume any ~[u8] or ~str args instead of coercing them to slices
[23:13:01] <Eridius> assuming I impl it for ~[u8] and ~str of course. But if I don't, then I don't think it's gonna coerce either?
[23:13:11] <acrichto> fn to_byte_slice<'a>(&'a self) -> &'a [u8] ?
[23:13:46] <Eridius> rusti: trait Foo {} impl<'self> Foo for &'self str {} fn foo<T: Foo>(a: T) { println!("blargh: {:?}", a) } foo(~"test")
[23:13:51] <Eridius> dammit
[23:14:12] <Eridius> yep, no coercion
[23:14:17] <acrichto> you have to impl separately for ~str @str and &'self str
[23:14:23] <acrichto> b/c you can't implement for T where T: Str
[23:14:30] <Eridius> acrichto: yes, that's not the problem
[23:14:31] <acrichto> which I still think is a bug...
[23:14:44] <acrichto> it's no so much of a problem as just an annoyance really
[23:15:00] <Eridius> acrichto: if I impl it for ~str or ~[u8] then it will consume any such args
[23:15:13] <acrichto> then the compiler will complain
[23:15:13] <Eridius> let a = ~"test"; path.push(a); // oops a is now moved
[23:15:17] <acrichto> and you call foo.as_slice()
[23:15:28] <Eridius> yes, but is saying path.push(foo.as_slice()) better than just path.push_str(foo)?
[23:15:33] <acrichto> that's not really a problem, it's just reducing the amount of "auto deref magic"
[23:15:50] <acrichto> in my opinion push_str and push is exposing too many implementation details
[23:16:17] <Eridius> implementation details? I don't see it as exposing any implementation details at all. It's just accomodating two different types
[23:16:20] <acrichto> I should be able to use the path module like any other path module in any other language without having to worry about [u8] vs str until I absolutely have to
[23:16:52] <Eridius> acrichto: are you saying that you think that having .push() consume owned arguments is preferable?
[23:17:23] <acrichto> that's neither preferable nor a downside, it's just something about rust from what I can tell
[23:17:56] <Eridius> it's not a downside? I'm using a trait here to allow me to pretend as if I had two methods that both have the same name, overloaded on the argument type to be &str or &[u8]
[23:18:12] <Eridius> but the side-effect, the implementation detail as it were, is that it also happens to consume ~str and ~[u8] instead of slicing them
[23:18:35] <acrichto> that's what happens for any type parameter where you take T instead of &T
[23:18:50] <Eridius> taking &T would require every caller to slap a & on the arg
[23:19:22] <acrichto> if you'd rather I could just rethink this when I come back to looking at it later
[23:19:38] <acrichto> I just thought it was sad to see everyone calling push_str and no one calling push
[23:20:14] <Eridius> well, I think there's only 3 solutions here. 1) keep the separate methods. 2) use a trait impl'd on & and ~, and require callers who don't want their arguments moved to explicitly say .as_slice(), or 3) don't impl on ~, requiring any callers with owned arguments to use .as_slice()
[23:21:54] <Eridius> I'll continue experimenting with #2. I just find it unfortunate
[23:21:58] <Eridius> and I'm not convinced that it's better than #1
[23:31:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:33:02] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:33:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[23:35:25] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[23:51:35] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:51:35] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/XY8BOw
[23:51:35] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:54:04] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[23:54:14] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[23:56:34] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:56:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Tw_7KA
[23:56:34] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:56:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:56:39] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/88eaLA
[23:56:39] <ghrust> 13rust/06auto 14549c04e 15Tim Chevalier: testsuite: Two tests for fixed bugs...
[23:56:39] <ghrust> 13rust/06auto 142332a9c 15bors: auto merge of #9733 : catamorphism/rust/issues-7246-and-7573, r=alexcrichton...
[23:56:39] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:58:32] *** Joins: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP)
