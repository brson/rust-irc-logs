[00:00:04] <nmatsakis> it seems like it'd be pretty useful in particular to be able to easily experiment with unstable features
[00:00:07] <acrichto> brson: yes
[00:00:08] <brson> oh, you are very close to me, so that may not be a good test
[00:00:11] <acrichto> lol
[00:00:19] <acrichto> brson: I can also ping it from SF
[00:00:27] <acrichto> nmatsakis: that is a very good point
[00:00:30] <brson> nrc: acrichto can reach it!
[00:01:04] <nmatsakis> acrichto: (that said, if it's easy to switch, that's fine too)
[00:01:08] <huon> nmatsakis: r?/f? https://github.com/rust-lang/rust-mode/pull/49
[00:01:35] <steveklabnik> nmatsakis: i guess i just generally see stable as being the default Rust
[00:01:53] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[00:05:47] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: Lost terminal)
[00:06:37] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[00:06:45] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[00:08:26] <nmatsakis> huon: nifty
[00:08:41] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:10:05] <nmatsakis> huon: did you look at the travis failures?
[00:10:23] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:10:56] <huon> oh, no
[00:11:01] <huon> they appear to be unrelated?
[00:11:03] * huon tries them
[00:11:09] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:11:09] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:12:19] *** Quits: eibwen (eibwen@moz-o76k32.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:12:41] <nmatsakis> I can't tell what's goingon
[00:13:53] <rovar> I'm asking here because I can't find a good way to search for it, but :  use {Foo,  Bar as Baz};  doesn't work, syntax error..   use Foo; use Bar as Baz;   works
[00:13:59] <rovar> is this a known issue?
[00:14:14] <rovar> (syntax error at 'as'
[00:14:16] <rovar> )
[00:14:38] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[00:14:38] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[00:14:59] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[00:15:05] <huon> nmatsakis: they all passed after retrying
[00:15:26] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:15:26] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:15:28] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[00:15:28] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[00:16:13] <nmatsakis> rovar: I don't know if there's an issue for it
[00:16:21] <nmatsakis> rovar: I've occasionally been annoyed that it doesn't work tho
[00:16:29] <acrichto> nrc: http://is.gd/Wio9LC
[00:16:32] <huon> nmatsakis: that said, I'm still not veyr happy with the implementation
[00:16:36] <acrichto> nrc: (note the feature, the warning, and the `version=nightly`)
[00:16:43] <acrichto> playbot: 3 + 4
[00:16:44] -playbot- 7
[00:16:48] <acrichto> playbot: VERSION
[00:16:50] -playbot- "rustc 1.0.0-beta (9854143cb 2015-04-02) (built 2015-04-02)"
[00:16:55] <nmatsakis> huon: well, I merged it. Somehthing seems better than nothing.
[00:17:02] <nrc> acrichto: \o/ thanks!
[00:17:18] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[00:17:24] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Quit: Leaving)
[00:17:57] <huon> nmatsakis: \o/ thanks!
[00:18:16] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[00:24:58] <kmc> https://github.com/kmcallister/afl.rs
[00:27:36] *** Quits: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) (Quit: )
[00:29:15] *** Joins: ytain (ytain@moz-vs735c.dsl.teksavvy.com)
[00:29:59] *** Joins: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP)
[00:45:28] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:46:08] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[00:47:01] *** Joins: larsberg1 (larsberg@moz-t8ufvo.static-ip.telepacific.net)
[00:47:13] *** Quits: larsberg1 (larsberg@moz-t8ufvo.static-ip.telepacific.net) (Quit: Leaving.)
[00:49:00] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:52:32] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[00:57:26] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[01:00:10] <kmc> http://www.reddit.com/r/rust/comments/31xutx/fuzzing_rust_code_with_americanfuzzylop/
[01:02:20] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:02:57] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:03:21] *** Joins: bombless (_@moz-uag.piv.41.59.IP)
[01:06:21] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:08:22] *** Quits: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp) (Quit: Konversation terminated!)
[01:08:30] *** Joins: srh (User@moz-tvc5sp.sntcca.sbcglobal.net)
[01:10:51] *** Joins: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp)
[01:25:12] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:26:54] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:29:16] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:29:30] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[01:32:12] <nrc> who implemented the latest iteration of for loops?
[01:32:22] <nrc> aturon: do you know? ^
[01:38:26] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:38:53] *** Quits: ytain (ytain@moz-vs735c.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:42:27] *** Quits: tcurdt (tcurdt@moz-e7arl5.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[01:45:04] <brson> kmc: for some reason i don't see your post on r/rust
[01:45:20] <bstrie> brson: graphic located at //www.rustacean.net/ , license is CC0 so all's clear
[01:45:34] <brson> bitemyapp: thanks!
[01:46:24] <brson> er bstrie
[01:58:57] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:00:30] *** Quits: rovar (rovar@moz-m2j7h0.dyn.optonline.net) (Connection closed)
[02:02:02] <reem> steveklabnik: I think we could explain closures a lot better by completely inverting the problem - explain closure literals *last* and focus on “a function is just something that implements the Fn* traits.”
[02:02:20] <reem> I see a massive amount of confusion and misinformation about this topic go around
[02:04:12] <reem> slightly related: do unsafe fns implement any of the Fn* traits?
[02:05:11] *** Quits: zz_kimundi (kimundi@moz-rc14cs.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:05:53] *** Joins: bsonnickfail (holoirc@moz-tara47.ptr.bcit.ca)
[02:06:25] *** Joins: singingboyo2 (holoirc@moz-tara47.ptr.bcit.ca)
[02:06:25] *** Quits: bsonnickfail (holoirc@moz-tara47.ptr.bcit.ca) (Connection closed)
[02:07:02] *** Joins: bsonnickfail (holoirc@moz-7venm7.eng.wind.ca)
[02:07:14] *** Joins: zz_kimundi (kimundi@moz-rc14cs.dip0.t-ipconnect.de)
[02:07:16] *** zz_kimundi is now known as kimundi
[02:07:19] *** Joins: singingboyo3 (holoirc@moz-tara47.ptr.bcit.ca)
[02:07:22] *** Quits: singingboyo2 (holoirc@moz-tara47.ptr.bcit.ca) (Connection closed)
[02:07:33] *** Joins: srh_ (User@moz-tvc5sp.sntcca.sbcglobal.net)
[02:08:00] *** Quits: srh_ (User@moz-tvc5sp.sntcca.sbcglobal.net) (Quit: Leaving)
[02:09:02] *** Quits: singingboyo (holoirc@moz-jj5.v5f.119.199.IP) (Ping timeout: 121 seconds)
[02:10:57] *** Quits: srh (User@moz-tvc5sp.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[02:11:05] *** Quits: bsonnickfail (holoirc@moz-7venm7.eng.wind.ca) (Ping timeout: 121 seconds)
[02:12:07] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[02:14:14] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[02:23:36] <carllerche> has anybody seen this ICE before? assertion failed: slice_layout_is_correct(cx, &member_llvm_types[..], element_type)'
[02:24:02] <carllerche> I am not finding anything in github
[02:24:04] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:25:37] <carllerche> figured it out, I will post an issue
[02:26:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:28:37] *** Joins: singingboyo (holoirc@moz-tara47.ptr.bcit.ca)
[02:28:37] *** Quits: singingboyo3 (holoirc@moz-tara47.ptr.bcit.ca) (Connection closed)
[02:29:49] <carllerche> well, i fixed it but I can't repro
[02:30:34] <carllerche> well, i can't reduce
[02:40:22] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[02:43:34] *** Quits: kimundi (kimundi@moz-rc14cs.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:46:15] *** Joins: zz_kimundi (kimundi@moz-vg3168.dip0.t-ipconnect.de)
[02:46:16] *** zz_kimundi is now known as kimundi
[02:48:13] *** Joins: bsonnickfail (holoirc@moz-v81eos.eng.wind.ca)
[02:48:29] *** Quits: singingboyo (holoirc@moz-tara47.ptr.bcit.ca) (Connection closed)
[02:48:30] *** Joins: singingboyo1 (holoirc@moz-tara47.ptr.bcit.ca)
[02:49:50] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[02:50:39] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:51:39] *** Joins: singingboyo (holoirc@moz-tara47.ptr.bcit.ca)
[02:52:16] *** Quits: bsonnickfail (holoirc@moz-v81eos.eng.wind.ca) (Ping timeout: 121 seconds)
[02:52:33] *** Quits: singingboyo1 (holoirc@moz-tara47.ptr.bcit.ca) (Ping timeout: 121 seconds)
[03:01:24] <Mutabah> Is there a semi-decent spec on how FnOnce is passed to methods?
[03:01:42] <Mutabah> Right now, I'm copying the FnOnce to the stack, and setting RDI to that address
[03:02:02] <Mutabah> but that seems to be calling %RDI, i.e. trying to execute the stack
[03:02:21] <Tobba> Mutabah: completely undefined
[03:02:35] <Tobba> (have fun)
[03:02:45] <Tobba> it also does different things depending on the size of the closure iirc
[03:02:50] <Mutabah> Oh, bother it.
[03:03:00] <Mutabah> No way to force it to use a pointer?
[03:03:18] <Mutabah> I guess I could read out of a pointer... but that's another memcpy
[03:03:21] <Tobba> I think you can abuse FnBox
[03:03:33] <Tobba> actually no, that'll trigger a destructor, uh
[03:03:56] <Tobba> I used to cast to an &FnOnce and look at the vtable
[03:04:06] <Tobba> but that doesn't work anymore for FnOnce closures
[03:04:59] <Tobba> Mutabah: what exactly are you trying to accomplish?
[03:05:01] <Mutabah> Tobba: I'm not too unhappy having to alter this code if rustc changes
[03:05:07] <Mutabah> Tobba: Thread initialisation
[03:05:15] <Tobba> ah, fun
[03:05:17] <Mutabah> One moment and I'll link the offending code
[03:06:00] <Tobba> I don't have kernel threads, but what I do is copy the closure onto the new stack and call a trampoline function with that stack, with a pointer to that value as its argument
[03:06:22] <Tobba> then it copies that into a local variable and calls it
[03:06:29] <Mutabah> https://github.com/thepowersgang/rust_os/blob/master/Kernel/Core/arch/amd64/threads.rs#L93-135
[03:06:30] <Tobba> inefficient as hell but it seems to work
[03:06:33] *** Joins: miselin (miselin@moz-c77.igu.11.203.IP)
[03:06:42] <Mutabah> Yeah, that's what I've just done
[03:06:45] <bombless> better to write llvm ir instead of asm for that case, lol
[03:06:51] <Tobba> (actually in this case it's for switching the stack, so it doesn't have to do the first copy)
[03:07:12] <Mutabah> The above code calls a trampoline (which does 'mov rdi, rsp')
[03:07:15] <bombless> #wrongchannel
[03:07:59] <Tobba> that seems a bit iffy, hm
[03:09:27] <huon> Mutabah: could you clarify "Is there a semi-decent spec on how FnOnce is passed to methods?"?
[03:09:34] <huon> Mutabah: do you have a generic, or a trait object, or what?
[03:09:57] <Mutabah> huon: Generic, but if I could get a usable non-boxed trait object it'd be nice
[03:10:00] <Tobba> huon: you have an FnOnce, you have a stack, set up the registers so that the FnOnce gets called properly
[03:10:09] <Mutabah> Yup
[03:10:15] <huon> Mutabah: well, a generic FnOnce is just a struct containing the captures
[03:10:47] <Mutabah> huon: That's what I thought, yet it looks like this code is doing an indirect call
[03:10:56] <Mutabah> huon: See the link I just posted (it's updated with the working code)
[03:10:57] <huon> which code?
[03:11:07] <huon> oh
[03:11:36] <huon> that seems correct
[03:11:40] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:11:45] <Tobba> is there a trait which represents the behavior of Box with regards to moving out of it?
[03:11:48] <theme> Excuse me, exactly why does abs() return signed integers?
[03:11:54] <huon> Tobba: no
[03:12:24] <scott> theme: there's an RFC/issue somewhere about this
[03:12:26] <Tobba> huon: shouldn't that be a thing before 1.0?
[03:12:32] <theme> I feel that the meeting minutes is not clear about this
[03:12:32] <huon> Tobba: why before 1.0?
[03:12:42] <theme> https://github.com/rust-lang/meeting-minutes/blob/master/weekly-meetings/2015-04-07.md#change-abs-to-return-unsigned
[03:12:45] <Tobba> I guess
[03:12:49] <Tobba> but that does seem iffy
[03:12:53] <Mutabah> huon: The current version works, but I'm a little worried about making a second copy of the closure on the task stack
[03:13:14] <theme> What is the conclusion of that discussion?
[03:13:17] <Mutabah> huon: (considering that that stack content will live forever)
[03:13:52] <huon> Tobba: why?
[03:14:04] <huon> Mutabah: the ownership is being transferred properly, so it looks fine to me
[03:14:39] <Tobba> huon: feels like it could introduce backwards compat problems, but I guess it's fine
[03:15:14] <Mutabah> huon: Ownership is good, it works. The problem is memory usage
[03:15:44] <Mutabah> huon: Unless llvm would optimise that segment to not create a new copy of the closure
[03:16:02] <huon> Mutabah: how big are your closures?
[03:16:25] <huon> copying a closure is just copying the captures, so unless you're capturing kilobytes of things by-value, it should be fine
[03:17:20] <Mutabah> huon: The test case I'm using has no caputures, so it's not an issue yet
[03:18:11] *** Quits: bombless (_@moz-uag.piv.41.59.IP) (Quit: Leaving)
[03:21:03] <theme> What exactly is the conclusion of this? https://github.com/rust-lang/meeting-minutes/blob/master/weekly-meetings/2015-04-07.md#change-abs-to-return-unsigned
[03:21:30] <theme> Is abs() going to return signed or unsigned integers?
[03:21:42] <huon> theme: have you read the latest comments on the RFC?
[03:21:50] <theme> huon, yes
[03:21:57] <huon> "There was opposition to changing the type signature of abs."
[03:22:01] <theme> but I'm confused about that
[03:22:07] <huon> "It seems like this is not going to be accepted"
[03:22:42] <theme> huon, *who* opposed changing abs?
[03:23:07] * theme detects weasel words
[03:23:08] <nrc> theme: more like no one actually wanted to change it very much
[03:23:21] <nrc> I don't think anyone opposed it strongly
[03:23:24] <theme> O_o
[03:23:50] <theme> What I saw there was "every other alternative is horrible, but I dunno about returning unsigned"
[03:24:01] <nrc> or to put it another way, there was consensus that the costs outweighed the benefits
[03:24:02] <theme> which is very different from "opposing returning unsigned"
[03:24:28] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:24:45] <scott> the status quo isn't horrible. and there were a couple reasonable alternatives (adding a separate uabs and making abs panic on INT_MIN in debug mode)
[03:27:35] *** Joins: semarie (semarie@moz-i72.nhl.10.176.IP)
[03:28:03] <theme> scott, what should I do if I want an unsigned version of abs()?
[03:28:29] <nrc> abs(foo) as u32
[03:28:44] <theme> nrc, what happens if foo is the minimum value?
[03:29:02] <nrc> test for that first, if that is possible
[03:29:12] <scott> you're just asking the same questions everyone's already discussed...
[03:29:22] <nrc> define it all as a uabs function if you feel the need
[03:29:30] <theme> :/
[03:30:20] <theme> fortunately, our Hasher trait returns u64, so the most common case of abs() bugs is gone
[03:33:28] <theme> btw I found a rustdoc bug
[03:33:35] <theme> compare these two pages
[03:33:36] <theme> http://doc.rust-lang.org/nightly/std/hash/trait.Hasher.html
[03:33:41] <theme> http://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html
[03:34:08] <scott> the declaration / definition difference with the methods?
[03:34:13] <theme> yes
[03:34:18] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:34:23] <scott> I wonder if that's one of the things acrichto's big fix fixes
[03:35:31] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[03:35:42] <scott> it is!
[03:35:44] <theme> scott, found an issue for that
[03:35:45] <theme> https://github.com/rust-lang/rust/issues/23864
[03:35:51] <scott> theme: already fixed, but the fixed isn't merged yet :)
[03:36:00] <scott> the fix*
[03:36:09] <theme> oh... that issue is mentioned in the fix
[03:37:32] <theme> :)
[03:38:22] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[03:45:51] *** Joins: bsonnickfail (holoirc@moz-r1m.v5f.119.199.IP)
[03:47:52] *** Joins: singingboyo1 (holoirc@moz-ntrafl.eng.wind.ca)
[03:48:08] *** Quits: singingboyo (holoirc@moz-tara47.ptr.bcit.ca) (Ping timeout: 121 seconds)
[03:49:54] *** Quits: bsonnickfail (holoirc@moz-r1m.v5f.119.199.IP) (Ping timeout: 121 seconds)
[03:50:59] <nrc> bootstrap performance graphs: http://www.ncameron.org/perf-rustc/
[03:55:42] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[03:59:22] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[04:03:30] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[04:06:15] *** Unwound_ is now known as unwound
[04:19:56] *** Joins: brson (brson@moz-frf.c9m.56.172.IP)
[04:19:56] *** ChanServ sets mode: +o brson
[04:21:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:25:41] <nrc> brson: bootstrap performance graphs: http://www.ncameron.org/perf-rustc/
[04:26:49] <theme> What happens if I put Cell in a BTreeMap?
[04:26:50] <theme> http://doc.rust-lang.org/nightly/std/collections/struct.BTreeMap.html
[04:27:01] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[04:27:06] <theme> "It is a logic error for a key to be modified in such a way that the key's ordering relative to any other key, as determined by the Ord trait, changes while it is in the map."
[04:27:12] <theme> Does that cause unsafety?
[04:28:50] <reem> You’ll get random answers from the map
[04:28:57] <reem> e.g. not finding things that are in the map or returning the wrong thing
[04:30:28] <theme> reem, can it read uninitialized memory?
[04:30:35] <theme> That's what I'm afraid about the most
[04:30:56] <theme> but any way, it is not obvious what a "logic error" is
[04:31:12] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:31:18] <eternaleye> theme: it'd be within its rights to abort or panic
[04:31:33] <eternaleye> theme: it's a contract violation
[04:31:33] <theme> :/
[04:31:43] <theme> I'm talking about unsafety
[04:31:47] <theme> not panicking
[04:31:57] <theme> but if it can panic, then that should be documented
[04:32:17] <eternaleye> 'Logic error' = 'contract violation'
[04:32:46] <eternaleye> theme: and the conventions rfc recommends panicking on those
[04:33:08] <eternaleye> theme: I don't know whether it does, I just said it would be within its rights to.
[04:33:11] <theme> hmm :/
[04:34:12] <eternaleye> theme: why do you want that?
[04:34:18] <reem> theme: It would be incorrect for that to incur memory unsafety
[04:34:24] <brson> nrc: woah!
[04:34:24] <reem> theme: since it would allow memory unsafety in safe code
[04:34:32] <reem> theme: this is the same issue as unsafe camp traits and such
[04:34:55] <theme> reem, I *was* the one who proposed that unsafe cmp thing, after all
[04:35:01] <reem> I know
[04:35:11] <reem> It’s the same dael
[04:35:19] * theme wonders whether that has a performance hit
[04:35:21] <eternaleye> Why not make a refcell of the entire map, and then use the entry API to mutate the entry?
[04:35:24] <reem> the design tradeoff is that the map has to be careful to not cause memory unsafety even with incorrect behavior
[04:35:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:35:43] <reem> it probably doesn’t incur any significant overhead
[04:35:49] *** Joins: kushal (kdas@moz-7op.go6.171.66.IP)
[04:36:33] <brson> nrc: do the crates and phases buttons work yt?
[04:36:58] <theme> brson, they should be radio boxes :/
[04:37:05] <brson> ah, i see
[04:37:49] <nrc> brson: yes, pick a few and click submit
[04:38:21] <nrc> they are cumulative, assuming group by crate if you pick multiple crates, you get multiple lines
[04:38:43] <nrc> total is a bit funny at the moment
[04:38:47] <theme> nrc, I picked a single crate and "all crates"
[04:38:52] <theme> which caused weird stuff
[04:38:53] *** Joins: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP)
[04:39:32] <nrc> by "all crates" you mean total?
[04:39:36] <brson> i think i did that too
[04:39:41] <brson> when i deselected total it worked
[04:39:54] <nrc> yeah, total is a bit funny
[04:40:01] <nrc> there are reasons
[04:40:07] <nrc> I jsut need to be a bit cleverer
[04:40:30] <nrc> also "group by" is a really bad term
[04:40:38] <huon> nrc: I guess you may've realised this, but, one issue with measuring the compile time of the normal crates is that the contents of the crates change, and hence change the compile time for reasons that aren't the compiler's performance changing
[04:40:42] <nrc> it's pretty much the opposite of what it does
[04:40:52] <nrc> huon: yeah
[04:41:00] <nrc> the plan is to have benchmarks too
[04:41:32] <huon> cool graphs though
[04:41:40] *** Quits: kushal (kdas@moz-7op.go6.171.66.IP) (Quit: Leaving)
[04:41:55] <nrc> the usefulness of the bootstrap is that it should be a slowly increasing line, if there are sudden jumps, especially in some crates but not others it indicates a problem
[04:42:17] <nrc> e.g., it would have caught the bug that slowed down rustdoc a tonne that happened a few months back
[04:42:45] <theme> nrc, the equal types thing?
[04:42:53] <nrc> I'll use the same infrastructure for benchmarks
[04:42:58] <theme> .chain().chain().chain() lol
[04:43:06] <nrc> theme: yeah that one
[04:44:48] <theme> nrc, btw are you using a font from rustaceans.org?
[04:44:53] <nrc> yes
[04:44:54] *** Quits: bleibig (bleibig@moz-kn8mvj.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:45:04] <theme> Font from origin 'http://www.rustaceans.org' has been blocked from loading by Cross-Origin Resource Sharing policy: The 'Access-Control-Allow-Origin' header has a value 'http://rustaceans.org' that is not equal to the supplied origin. Origin 'http://www.ncameron.org' is therefore not allowed access.
[04:45:20] <theme> not sure what that means
[04:45:44] <nrc> oh coss
[04:45:59] <nrc> I was being lazy
[04:46:09] <nrc> I should copy the font
[04:46:28] <nrc> annoyingly its the same server, so it's not really cross-origin :-p
[04:47:37] <nrc> I wonder why I didn't get the cors error when I tested locally?
[04:47:39] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[04:49:52] <theme> nrc, what is "maybe building test harness"?
[04:50:19] <nrc> If you are building unit testing, it is when the compiler does that
[04:50:45] *** Joins: mib_zdy9kf (Mibbit@moz-juv.9o3.252.72.IP)
[04:52:24] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[04:54:20] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:59:19] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[05:04:07] *** Quits: mib_zdy9kf (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:14:16] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[05:16:51] *** Quits: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP) (Quit: Leaving)
[05:18:00] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[05:19:36] *** Quits: brson (brson@moz-frf.c9m.56.172.IP) (Quit: leaving)
[05:22:30] *** Joins: mib_64p2yg (Mibbit@moz-juv.9o3.252.72.IP)
[05:22:53] *** Quits: mib_64p2yg (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:30:10] *** kimundi is now known as zz_kimundi
[05:32:38] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:34:03] *** Quits: O01eg (o01eg@moz-tkn.8t1.112.37.IP) (Client exited)
[05:36:45] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:37:53] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[05:38:11] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[05:38:17] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[05:38:18] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[05:39:59] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[05:43:54] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[05:44:24] *** Quits: singingboyo1 (holoirc@moz-ntrafl.eng.wind.ca) (Ping timeout: 121 seconds)
[05:48:44] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Quit: )
[05:49:17] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:53:23] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:54:51] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[05:55:00] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[06:01:38] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[06:01:51] *** Joins: marsel (user@moz-1eh.7cm.255.92.IP)
[06:08:28] *** Joins: eerie_ (eerie@moz-u71v5v.red.bezeqint.net)
[06:09:15] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[06:09:16] *** zz_kimundi is now known as kimundi
[06:10:45] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[06:11:04] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:11:56] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[06:16:06] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[06:18:54] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:21:15] <annodomini> Thinking of submitting an RFC to rename “std::fs::soft_link” back to “std::fs::symlink”. Anyone care to look it over before I submit the actual pull request? https://github.com/lambda/rfcs/blob/rename-soft-link-to-symlink/text/0000-rename-soft-link-to-symlink.md
[06:22:17] <annodomini> I just want to make sure this is something that should be submitted as an RFC, and I’ve gotten the formatting right, before submitting it as a formal pull request.
[06:25:54] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:26:59] <bstrie> annodomini: let me see
[06:27:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:28:05] <bstrie> annodomini: if this is a proposal to change a stable API I think it will encounter a great deal of resistance, though I don't think that should necessarily preclude you from submitting it :)
[06:29:05] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[06:29:57] <Mutabah> annodomini: What was the reason for changing it in the first case?
[06:30:34] <annodomini> bstrie: I’m OK with that; this is one of the stable APIs that landed and stabilized fairly late in the cycle, and I couldn’t even find any discussion of it (the pull request I found with discussion has it named sym_link, I couldn’t find a pull request that includes the soft_link name). And furthermore, I’m not propsoing breaking a stable API, just deprecating it.
[06:31:41] <annodomini> Mutabah: I think the reasons were consistency with hard_link, not wanting to use a somewhat Unixy jargon for something that also exists on Windows (on Windows, it’s called CreateSymbolicLink), but wanting something shorter than symbolic_link
[06:32:54] <annodomini> But I don’t think those reasons are enough to outweigh using a term in the API that no other API that I could find uses.
[06:33:48] *** Quits: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:35:00] <annodomini> The discussion came out of https://github.com/rust-lang/rfcs/pull/1044 which is where I noticed the somewhat odd name, but I decided that since there was already a stable API with this name, it would probably be best to file a new RFC rather than bikeshedding on that one which I’m pretty happy with outside of the name.
[06:35:20] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:35:50] <annodomini> See https://github.com/rust-lang/rfcs/pull/1044#issuecomment-91071607 for the justification for the name.
[06:38:02] *** Quits: eerie_ (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[06:38:30] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[06:39:04] <annodomini> Alright, if the RFC looks like it’s something that won’t be wasting people’s time by submitting it, I’ll send the pull request.
[06:39:05] *** kimundi is now known as zz_kimundi
[06:41:40] <bstrie> annodomini: be sure to alert aturon to the fact that it needs to be considered soon. cutoff for 1.0-stable will be relatively soon
[06:43:04] <annodomini> Anyone else I should cc? aturon, achrichto, anyone else?
[06:43:20] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[06:43:21] *** ChanServ sets mode: +o pnkfelix
[06:46:04] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[06:46:39] <annodomini> Also, have a branch which makes the change to push along with the RFC, but I’m getting stuck on a TeX error generating PDF docs when trying to build; is there any way to do a full build and test without generating PDF docs, so I can test my actual change without having to fiddle around with TeX?
[06:46:44] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[06:49:08] *** zz_kimundi is now known as kimundi
[06:51:01] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[06:54:02] <annodomini> To anwer my own question, “make NO_PDF_DOCS=1” seems to do the trick.
[06:58:38] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:02:09] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[07:05:04] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[07:06:40] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[07:07:28] *** kimundi is now known as zz_kimundi
[07:07:41] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[07:09:28] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[07:09:49] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[07:10:05] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[07:13:51] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[07:15:01] *** Unwound_ is now known as unwound
[07:15:03] *** Quits: cdidd (cdidd@moz-h1824a.broadband.corbina.ru) (Ping timeout: 121 seconds)
[07:18:27] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[07:25:18] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[07:26:42] *** Joins: eibwen (eibwen@moz-s80rqm.dip0.t-ipconnect.de)
[07:34:37] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[07:38:59] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:43:50] <annodomini> Alright, RFC (https://github.com/rust-lang/rfcs/pull/1048) and proposed implementation (https://github.com/rust-lang/rust/pull/24222) pushed, cc’d aturon, and achrichto has already seen it. Think that’s everything to do but wait for the RFC process to complete.
[07:45:12] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[07:47:23] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[07:49:01] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout: 121 seconds)
[07:50:29] <bstrie> annodomini: cool, thanks
[07:51:26] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[07:52:48] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[07:56:32] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[07:58:45] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:59:06] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[08:00:23] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:04:15] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[08:08:23] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[08:10:12] *** zz_kimundi is now known as kimundi
[08:12:16] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[08:12:22] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:14:41] *** Joins: cdidd (cdidd@moz-3mn5dv.broadband.corbina.ru)
[08:15:13] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[08:16:17] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[08:16:36] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[08:17:22] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[08:17:39] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:23:19] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[08:23:24] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:25:26] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[08:28:07] *** Joins: mjboa_ (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[08:28:11] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: leaving)
[08:28:15] *** Quits: mjboa_ (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: leaving)
[08:28:22] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[08:38:22] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[08:38:49] *** Quits: whipsch (whipsch@moz-bl4i0b.from.irc.camp) (Ping timeout: 121 seconds)
[08:42:26] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Quit: Leaving.)
[08:42:56] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[08:43:26] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:52:17] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:52:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:53:20] *** Joins: larhat1 (Adium@moz-8v4.af0.232.213.IP)
[08:53:35] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Connection closed)
[08:54:25] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[08:55:17] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[08:55:58] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[08:58:08] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[08:59:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:00:56] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[09:02:15] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[09:03:23] *** Quits: larhat1 (Adium@moz-8v4.af0.232.213.IP) (Ping timeout: 121 seconds)
[09:06:27] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[09:07:00] *** Joins: whipsch (whipsch@moz-bl4i0b.from.irc.camp)
[09:09:33] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:11:55] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[09:12:19] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[09:14:16] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:16:25] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[09:22:00] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[09:22:23] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[09:22:30] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[09:22:52] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[09:26:12] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[09:27:33] *** Joins: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de)
[09:31:59] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[09:37:25] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[09:38:23] *** Joins: oakwhiz_ (oakwhiz@moz-entagd.vc.shawcable.net)
[09:40:10] *** Quits: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[09:44:37] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[09:48:50] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:49:19] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[09:51:34] *** Quits: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[09:53:20] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Quit: )
[09:53:54] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[09:56:36] *** Joins: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de)
[09:56:42] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[09:57:31] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[09:57:51] <pnkfelix> nmatsakis: hey I extended gh24162 a little
[09:57:51] <[o__o]> Check for duplicate loop labels in function bodies.: https://github.com/rust-lang/rust/pull/24162
[09:58:41] <pnkfelix> nmatsakis: (I've been considering whether I should instead throw this out and incorporate the check into the lifetime-shadowing code in resolve_lifetime, but I don't really want to spend time on that right now...)
[09:59:12] <nmatsakis> pnkfelix: ah, good point, we should check that shouldn't we
[09:59:23] <nmatsakis> pnkfelix: it'd be reawlly easy to add that into resolve_lifetimes
[09:59:32] <pnkfelix> nmatsakis: it was a suggestion from the internals thread, so I guess that post has now paid off
[09:59:34] <nmatsakis> (just that new check)
[09:59:52] <pnkfelix> nmatsakis: yeah  I was skimming over resolve_lifetimes; it helps that the reelvant enum is not pub
[10:00:03] <nmatsakis> and you wouldn't need that amazing debug_assert ;)
[10:00:06] <pnkfelix> nmatsakis: so maybe I'll just try to hack that up quickly
[10:00:26] <pnkfelix> nmatsakis: heh, that debug_assert only became that amazing by necessiy
[10:00:28] <nmatsakis> pnkfelix: so you could leave the checking for loop labels against other loop labels as it was
[10:00:41] <pnkfelix> nmatsakis: true true
[10:00:44] <nmatsakis> or you could move it
[10:00:46] <nmatsakis> I guess it doesn't matter
[10:00:54] <nmatsakis> but it seems kind of like a special hack
[10:01:00] <nmatsakis> and it was sort of concise and simple where it was :)
[10:01:15] <nmatsakis> anyway I can see why you don't want to spend a ton more time on this tho
[10:01:28] <pnkfelix> nmatsakis: okay, I will at least give resolve_lifetimes a whirl
[10:01:41] <pnkfelix> nmatsakis: but if I hit a road block, do you think this is r+'able  ?
[10:02:16] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[10:02:21] <pnkfelix> nmatsakis: (I guess you can wait until I actually hit such a hypothetical road block to answer that Q. :)  )
[10:06:33] *** Joins: bdero (bran@moz-u8a.gci.189.18.IP)
[10:06:40] *** Quits: bdero (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[10:06:41] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[10:07:10] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[10:07:34] <nmatsakis> pnkfelix: let me finish skimming it 
[10:17:13] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Quit: )
[10:18:49] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:18:49] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:18:51] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[10:19:45] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[10:20:06] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[10:20:53] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[10:22:45] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[10:22:55] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[10:22:56] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[10:24:58] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:26:00] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[10:26:57] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[10:29:13] *** Quits: marsel (user@moz-1eh.7cm.255.92.IP) (Connection closed)
[10:29:36] <pnkfelix> nmatsakis: ugh, I just realized that doing it in resolve_lifetimes alone is not quite as clean as I had hopedd
[10:30:02] <pnkfelix> nmatsakis: at least, the natural way (I thought) was to add a new ScopeChain vaiant for loop-labels
[10:30:25] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Connection closed)
[10:30:27] <pnkfelix> nmatsakis: but that will only catch `'a: loop { ... fn foo<'a>(...) ... }`
[10:30:31] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:31:04] <pnkfelix> nmatsakis: it won't catch a label on a loop that isn't a parent of the `fn foo` ... i guess I could put the loop scope info at a higher level, attach it to the whole fn...
[10:36:33] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:40:43] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[10:41:30] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[10:42:27] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[10:43:34] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[10:44:54] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[10:47:26] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:53:52] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:58:43] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[10:59:50] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[11:02:17] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[11:02:44] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[11:06:42] *** Quits: untitaker (untitaker@moz-fvfpup.highway.telekom.at) (Ping timeout: 121 seconds)
[11:06:56] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Quit: Leaving.)
[11:08:04] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[11:12:18] *** Quits: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:12:18] *** Joins: filsmick_ (filsmick@moz-c99ta7.abo.wanadoo.fr)
[11:12:57] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[11:12:58] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[11:13:04] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[11:13:20] *** Joins: untitaker (untitaker@moz-oj22ou.highway.telekom.at)
[11:20:00] *** kimundi is now known as zz_kimundi
[11:23:31] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[11:26:36] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:26:55] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[11:27:56] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[11:29:02] <huon> pnkfelix: ping
[11:29:13] <pnkfelix> huon: pong
[11:29:57] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[11:30:21] <huon> pnkfelix: I wrote https://github.com/rust-lang/rust-mode/pull/49 but I suspect the implementation could be better (in particular the two comments I left on the PR), thoughts?
[11:31:11] <pnkfelix> huon: I think `message` sounds fine
[11:31:54] <pnkfelix> huon: and i don't have any immediate advice regarding `last-line` ...
[11:32:08] <huon> ok, thanks for looking
[11:32:57] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:38:53] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[11:44:54] *** Quits: Kxepal832 (Miranda@moz-9odlon.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[11:46:50] *** Joins: Kxepal (Miranda@moz-o9vejk.pppoe.mtu-net.ru)
[11:49:30] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[11:53:47] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:00:18] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[12:01:04] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[12:02:31] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[12:06:06] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[12:06:18] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:06:35] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[12:09:21] *** Joins: xarcus (Mibbit@moz-juv.9o3.252.72.IP)
[12:09:30] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:11:03] *** Quits: xarcus (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:12:32] *** Joins: simukis_mibbit (Mibbit@moz-7gm.nmh.219.193.IP)
[12:12:37] *** Joins: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at)
[12:12:41] *** simukis_mibbit is now known as simukis
[12:12:56] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[12:13:07] <simukis> so, the “there’s only one way to do something” is not something you would say about rust?
[12:13:39] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Quit: )
[12:14:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[12:14:57] <cmr> about std, or the language?
[12:15:17] <simukis> mhhh, std, I think
[12:15:46] <simukis> I believe the language it self does well at not introducing too much duplication
[12:15:47] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[12:15:56] <cmr> I feel like it's pretty true about std, at least as phrased in the Zen: "There should be one-- and preferably only one --obvious way to do it."
[12:16:36] <simukis> cmr: I’m more interested in whether we should strive to upkeep to this
[12:16:47] <simukis> (since it comes from the python land as I see it)
[12:17:00] <cmr> It feels like a pretty obvious design principle to me.
[12:17:27] <cmr> And similar to one that has been applied all along: you should fall into the correctness pit
[12:18:51] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:24:15] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[12:25:07] *** Joins: dinfuehr_ (dinfuehr@moz-ms3phh.highway.telekom.at)
[12:25:59] <huon> I personally think the latter is the key design principle, and the "there's one way" rule is "just" a useful heuristic to get to it
[12:26:16] <cmr> I agree.
[12:27:43] *** Quits: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at) (Ping timeout: 121 seconds)
[12:28:26] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[12:29:50] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[12:33:11] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[12:36:10] *** zz_kimundi is now known as kimundi
[12:37:42] *** Joins: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de)
[12:37:55] *** Quits: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de) (Connection closed)
[12:42:11] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[12:45:28] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[12:45:44] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[12:49:46] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[12:50:38] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[12:51:27] *** Quits: dinfuehr_ (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[12:51:48] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[12:53:14] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[12:54:31] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:55:50] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Ping timeout: 121 seconds)
[12:57:16] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:58:50] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[12:59:43] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[13:00:04] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[13:00:06] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[13:00:06] *** ChanServ sets mode: +o nrc
[13:00:58] *** Joins: zippity (Mibbit@moz-juv.9o3.252.72.IP)
[13:01:15] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:02:41] *** Joins: ytain (ytain@moz-mh2irj.cpe.pppoe.ca)
[13:04:06] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[13:04:44] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:05:04] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[13:05:29] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[13:09:49] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:12:43] *** Joins: marsel` (user@moz-aff.q63.180.94.IP)
[13:15:33] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[13:15:46] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[13:25:01] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[13:25:10] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[13:29:12] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[13:31:06] <steveklabnik> reem: hmm, i try to start with 'how to use' and then focus on details after
[13:31:27] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:31:38] <steveklabnik> reem: like, generally, people learn top-down
[13:31:59] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:35:11] *** Joins: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de)
[13:37:44] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[13:37:46] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[13:38:42] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[13:39:51] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[13:41:56] *** Quits: zippity (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:43:59] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:46:02] *** Joins: eerie_ (eerie@moz-u71v5v.red.bezeqint.net)
[13:46:11] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[13:48:53] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[13:54:40] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[13:57:22] *** Quits: simukis (Mibbit@moz-7gm.nmh.219.193.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:58:44] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:59:27] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:07:03] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:11:40] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Ping timeout: 121 seconds)
[14:16:05] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[14:17:11] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[14:17:12] *** Quits: eerie_ (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[14:19:19] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[14:19:20] *** ChanServ sets mode: +o pnkfelix
[14:24:07] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[14:25:18] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:25:47] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[14:28:12] *** Joins: MamboKurt (MamboKurt@moz-14a4lb.math.uni-bielefeld.de)
[14:30:14] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[14:31:18] <nmatsakis> pnkfelix: so...
[14:31:30] <nmatsakis> pnkfelix: oh, you're here :)
[14:32:08] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:32:17] <pnkfelix> nmatsakis: what's up?
[14:32:22] <nmatsakis> pnkfelix: regarding resolve-lifetimes, I think the only thing I would try to do there is to detect duplicates with named lifetimes
[14:32:28] <nmatsakis> at least that's what Iw as trying to say
[14:32:38] <nmatsakis> or maybe i'm confused
[14:33:02] <nmatsakis> ah, I think I see what you're saying
[14:33:32] <pnkfelix> nmatsakis: at this point I have something that is working, or pretty close to working
[14:34:05] <pnkfelix> nmatsakis: I'm sort of unhappy about how it all turned out, and part of me wants to *still* throw away the labels.rs file and just put everything into resolve_lifetime
[14:34:19] <pnkfelix> nmatsakis: but I'll let you see it when its done
[14:34:46] * pnkfelix is irritated by how much time this task is occupying
[14:35:08] <nmatsakis> I am amused that BytePos is a u32 but CharPos is a usize
[14:35:22] <nmatsakis> since CharPos seems like it would be strictly smaller
[14:35:26] <MamboKurt> I have s small question regarding the TwowaySearcher in src/libcore/str/mod.rs: The byteset which is a u64 tracks which bytes are actually in the needle. The Problem I see is, that it just tracks the subset of bytes `b` with `b & 0x3f != 0`. In the function `next` the byteset is used to skip a large portion of the positions. I'm I not seeing something, that makes this acutally work or is this a real bug?
[14:35:27] <munksgaard> Is there an easy way to perform regression testing on rustc? 
[14:35:40] <pnkfelix> munksgaard: `make check` ?
[14:36:04] <pnkfelix> munksgaard: or rather, iterate with `make check-stage1`, and then when that works, try `make check`
[14:36:30] <munksgaard> pnkfelix: More like: I have an ICE that starts happening somewhere in between these two commits, how do I find the specific commit
[14:36:48] <nmatsakis> pnkfelix: ok, sorry, maybe I shouldn't have encouraged you in that direction
[14:36:52] <nmatsakis> pnkfelix: as you say, not quite as clean as I hoped
[14:36:58] <pnkfelix> nmatsakis: its okay, I had also thought it would be easy
[14:37:22] <pnkfelix> munksgaard: oh.  I guess you could bisect on the bors commits
[14:38:25] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:39:01] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[14:42:47] <nmatsakis> so -- has anyone ever found the macro "backtraces" helpful?
[14:42:53] <nmatsakis> I think they might be helpful if they showed the intermediate expansions
[14:42:57] <nmatsakis> *if* I were debugging a macro
[14:43:05] <nmatsakis> which I...rarely if ever am
[14:43:19] * nmatsakis conducts a very scientific poll
[14:46:07] *** Joins: eerie_ (eerie@moz-u71v5v.red.bezeqint.net)
[14:46:07] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[14:48:14] <pnkfelix> nmatsakis: I think when working with complicated macros they are probably needed
[14:48:21] <pnkfelix> nmatsakis: but maybe we could have a flag that turns them on?
[14:48:27] <nmatsakis> pnkfelix: but have you ever ACTUALLY found them useful? :)
[14:48:37] <nmatsakis> pnkfelix: yes, we could, I'd just like to find one person who was like "oh, yes."
[14:48:48] <nmatsakis> I'm not really proposing we remove them anyway
[14:48:49] <nmatsakis> just curious
[14:48:54] <nmatsakis> I mean, I would like to not show them by default
[14:48:55] <pnkfelix> nmatsakis: maybe, I cannot remember, its been a while since I made a sufficiently complicated macro_rules! macro
[14:49:22] <pnkfelix> nmatsakis: you need it to *some* degree
[14:49:42] <nmatsakis> one simple heuristic would be
[14:49:46] <nmatsakis> don't show "frames" that are cross-crate
[14:49:51] <nmatsakis> that'd prob eliminate 99% of the annoyance
[14:49:54] <pnkfelix> nmatsakis: e.g. I definitely need to see both the final site in the macro body itself, as well as the outermost invocation
[14:51:01] <nmatsakis> pnkfelix: if we adopted the cross-crate rule, println!() would work as I expect -- which is just treat it as if it were a normal fn
[14:51:11] <nmatsakis> still, it'd be much niftier if we could (with a flag) show the expansino
[14:51:13] <nmatsakis> *expansion
[14:51:31] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:51:36] <nmatsakis> if the macro is defined within the crate, at least we have something helpful to show you
[14:53:24] <pnkfelix> nmatsakis: I dunno, it can be hard to present useful error messages, at least based on rewrite-base system alone.
[14:53:39] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[14:53:42] <pnkfelix> nmatsakis: this was a big motivation for why Racket uses `syntax-case` all over the place...
[14:53:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:54:16] <pnkfelix> (not that the expansion traces are necessarily clear ... but at least they are not hiding info from you, right?)
[14:55:47] <nmatsakis> pnkfelix: not sure what you mean
[14:55:57] <nmatsakis> what is hidden ?
[14:56:16] <nmatsakis> i.e., if you see `println!()` <-- doesn't take a rocket scientist to know that an error is "in the expansion of println"
[14:56:25] <pnkfelix> nmatsakis: well you said "just treat it [`println!`] as if it were a normal fn"
[14:56:29] <nmatsakis> right
[14:56:35] <nmatsakis> seems like having the `!`
[14:56:38] <nmatsakis> makes it obvious there is a macro
[14:56:58] <pnkfelix> nmatsakis: For some macros, that level of abstraction works
[14:57:03] <nmatsakis> so it's not clear that us telling you that again is particularly helpful (nor that not telling you is hiding things)
[14:57:18] <nmatsakis> anyway, I think all I want is a switch.
[14:57:35] <nmatsakis> I can imagine if you're debugging some wacko macro -- and you're using it across crates --
[14:57:35] <pnkfelix> nmatsakis: but for others, reporting "something went wrong with expanding this" is not going to give you any clue as to how to correct it
[14:57:39] <nmatsakis> it could be helpful to have the stack trace
[14:57:48] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[14:57:58] <pnkfelix> nmatsakis: Anyway at this point I'm only speaking in the abstract, which is exactly what you didn't want
[14:57:58] <nmatsakis> (though it'd be better if it showed you the expansion at each point, or at least the final expansion)
[14:58:03] <nmatsakis> :)
[14:58:12] <nmatsakis> I think we're roughly in violent agreement -- maybe I'm wrong 
[14:58:20] <nmatsakis> that is, *in practice* , it is frequently unhelpful --
[14:58:23] <nmatsakis> but it could be helpful sometimes.
[14:59:02] <nmatsakis> in general though the current behavior basically means when I hit M-x next-error
[14:59:07] <nmatsakis> about 50% ofthe time I go off to some random places
[14:59:11] <nmatsakis> that are just annoying
[14:59:23] <nmatsakis> (that's the "in practice" part)
[14:59:40] <nmatsakis> I've just got error messages on the brain, ignore me.
[14:59:55] * nmatsakis hoping he didn't just break the FileMap
[15:01:26] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[15:03:36] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[15:04:41] *** Quits: MamboKurt (MamboKurt@moz-14a4lb.math.uni-bielefeld.de) (Quit: Ex-Chat)
[15:07:46] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[15:09:11] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:10:47] *** Quits: marsel` (user@moz-aff.q63.180.94.IP) (Ping timeout: 121 seconds)
[15:11:07] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:15:53] *** Quits: eerie_ (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[15:16:09] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[15:22:52] *** Joins: pitdicker (pitdicker@moz-328u1s.adsl.online.nl)
[15:23:14] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[15:23:36] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[15:26:13] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[15:26:32] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[15:27:04] *** Joins: xiongmao86 (xiongmao86@moz-g3l.bge.23.116.IP)
[15:27:38] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:28:54] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Connection closed)
[15:29:13] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:29:52] <pnkfelix> nmatsakis: ping
[15:31:01] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[15:32:09] *** Joins: poorman (poorman@moz-sdl0oq.res.rr.com)
[15:32:54] *** Quits: xiongmao86 (xiongmao86@moz-g3l.bge.23.116.IP) (Quit: Leaving)
[15:33:22] *** Quits: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:34:17] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:34:44] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[15:34:59] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[15:35:08] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[15:37:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:39:12] *** Joins: ff (flaper87Moz@moz-udf.p75.171.66.IP)
[15:40:46] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[15:41:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[15:42:19] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:43:06] *** Joins: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de)
[15:43:30] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:44:07] *** Quits: ff (flaper87Moz@moz-udf.p75.171.66.IP) (Quit: 1.1.1)
[15:45:36] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[15:47:45] <simukis> sigh
[15:47:59] <simukis> comment that you disapprove an already r+d PR
[15:48:06] <simukis> (disapprove some decision in it)
[15:48:12] <simukis> then see it in rollup
[15:48:35] <simukis> I’ll probably will see it landed even before the person can answer my worries.
[15:48:41] <simukis> s/will//
[15:49:50] <pnkfelix> simukis: I'm probably going to regret asking, but: What PR are you referring to?
[15:50:11] <pnkfelix> simukis: (its a big rollup, hard to skim)
[15:50:38] <simukis> pnkfelix: https://github.com/rust-lang/rust/pull/24205#issuecomment-91233249
[15:50:54] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:51:38] *** Quits: mgottschlag (quassel@moz-5e23l9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:52:07] <pnkfelix> simukis: it seems like it wolud be easy to revisit that decision
[15:52:23] <pnkfelix> simukis: as in, not worth holding up the rest of the changes in that PR
[15:52:34] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:52:40] <simukis> pnkfelix: yeah, but I already pointed this out yesterday 😉
[15:53:20] <simukis> I believe more than 24 hours ago, even.
[15:54:04] <pnkfelix> simukis: I don't understand what that is supposed to mean
[15:54:51] <aturon> Manishearth: ping
[15:54:54] <pnkfelix> simukis: 1. I don't see how that argues against the point I made above, and 2. I think its easy to comments to be overlooked; I'm not clear on where you made your prior objection, since you did not link it from that comment from two hours ago.
[15:55:04] <Manishearth> aturon: pong
[15:55:15] <aturon> Manishearth: i just force-pushed an update to https://github.com/rust-lang/rust/pull/24217 before realizing it was in your rollup
[15:55:20] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Quit: Ex-Chat)
[15:55:23] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[15:55:24] <Manishearth> aturon: no problem
[15:55:50] <aturon> Manishearth: it's a super minor change, but it's fine if the rollup goes through; i can just do a follow-up PR
[15:56:01] <Manishearth> aturon: I can just patch it on to the rollup
[15:56:04] <pnkfelix> simukis: To be clear, I think I agree that we should have more guards in the nightly builds
[15:56:12] <aturon> Manishearth: ah ok, thought it was already being tested etc
[15:56:16] <Manishearth> aturon: can I assume that alex r'd that?
[15:56:16] <pnkfelix> simukis: than what we put into the beta/release builds
[15:56:24] <aturon> Manishearth: yeah
[15:56:25] <Manishearth> aturon: yeah, but I initiayted that 5m ago
[15:56:30] <pnkfelix> simukis: at least when it comes to something like LLVM asserts
[15:56:42] <aturon> Manishearth: thanks!
[15:57:08] <simukis> pnkfelix: ah yeah, re 4 messages ago: that was on IRC, absolutely likely it could’ve been overlooked.
[15:57:46] * simukis shrugs
[15:58:58] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:00:40] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[16:04:57] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Ping timeout: 121 seconds)
[16:06:45] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[16:06:51] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[16:07:16] *** Joins: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP)
[16:08:47] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[16:09:24] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[16:10:14] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[16:14:24] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:14:57] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[16:16:03] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[16:16:14] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[16:21:57] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[16:21:57] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[16:21:58] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[16:27:17] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:27:54] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:28:54] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[16:30:00] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[16:31:00] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Ping timeout: 121 seconds)
[16:31:34] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[16:32:16] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[16:32:52] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:33:45] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[16:34:05] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Ping timeout: 121 seconds)
[16:35:49] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[16:36:48] *** Joins: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP)
[16:37:26] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[16:41:42] <nmatsakis> pnkfelix: pong
[16:42:04] <pnkfelix> nmatsakis: I wanted to get your thoughts on gh23611
[16:42:05] <[o__o]> Member destructor is always executed even if self is replaced in `Drop`: https://github.com/rust-lang/rust/issues/23611
[16:42:06] *** Joins: Guest63 (textual@moz-qvj.fch.204.89.IP)
[16:42:14] <pnkfelix> nmatsakis: i had thought it would be simple at first
[16:42:27] <pnkfelix> nmatsakis: (something like "just move the discriminant inspection to *after* the drop method runs)
[16:42:48] <pnkfelix> nmatsakis: but the problem with that: The reason we inspect the discriminant first
[16:42:58] <pnkfelix> nmatsakis: is so that we can set up cleanups for the fields of the enum
[16:43:11] <pnkfelix> nmatsakis: so that those will get cleaned up even if the destructor panics
[16:43:35] <nmatsakis> pnkfelix: seems like we need a "cleanupcontents" option
[16:43:45] <nmatsakis> pnkfelix: that we can setup early
[16:43:56] <pnkfelix> nmatsakis: that delays inspecting the discriminatn?
[16:43:59] <pnkfelix> nmatsakis: okay
[16:44:04] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:44:07] <nmatsakis> pnkfelix: right, it would inspect discriminant, but not run drop, just drop the contents
[16:44:14] <nmatsakis> if there is no custom drop
[16:44:16] <nmatsakis> it'd be equivalent
[16:44:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:44:25] <nmatsakis> it's basically super::drop() in OO language ;)
[16:44:28] <pnkfelix> nmatsakis: Okay I'll investigate that
[16:45:14] <pnkfelix> nmatsakis: also, on label/lifetime shadowing
[16:45:38] <pnkfelix> should `'a: loop { ... fn foo<'a>(x: &'a) { ... } ... }` actually be an error?
[16:46:03] <pnkfelix> nmatsakis: I realized (too late) that we actually allow "shadowing" there, quite deliberately, right?
[16:46:08] *** Quits: acharles_ (acharles@moz-ulbdcn.ca.comcast.net) (Client exited)
[16:46:18] <pnkfelix> nmatsakis: (but my current check is quite naive and makes that illegal)
[16:46:55] <pnkfelix> nmatsakis: (when I said ``we allow "shadowing" there'', I meant e.g. for functions defined within functions.)
[16:46:55] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:47:05] *** Quits: Guest63 (textual@moz-qvj.fch.204.89.IP) (Ping timeout: 121 seconds)
[16:51:14] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:53:40] <nmatsakis> pnkfelix: that should be legal,
[16:53:49] <nmatsakis> pnkfelix: but I figured that when you wrote that example,
[16:54:10] <nmatsakis> pnkfelix: you meant some kind of closure e.g. `|x: Box<for<'a> Fn(&'a int)>|` or something
[16:54:18] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[16:54:41] <nmatsakis> pnkfelix: all this makes me wonder if we should allow some shadowing and just give an error when you use a shadowed name as a lifetime
[16:54:44] <nmatsakis> pnkfelix: just because it's so dang tedious :)
[16:54:50] <nmatsakis> pnkfelix: I guess it'll be equally tedious later
[16:54:57] <nmatsakis> pnkfelix: (well, maybe not.)
[16:55:34] <seanmonstar> hm, does nightly have improved coherence rules over latest snapshot?
[16:55:56] <nmatsakis> seanmonstar: "improved"? do you mean stricter? 
[16:55:58] <seanmonstar> a patch i have doesn't compile at stage0, but it does if i use a nightly
[16:56:18] * nmatsakis has a type system author's mindset: more errors, better!
[16:56:19] <nmatsakis> ;)
[16:56:22] <nmatsakis> seanmonstar: example?
[16:56:52] <nmatsakis> *could* be a side-effect of removing variance in trait matching
[16:57:24] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[16:57:25] <seanmonstar> nmatsakis: https://gist.github.com/seanmonstar/fb2d27cac6c72b28e4aa
[16:57:44] <seanmonstar> excuse the long line endings, copying from tmux doesn't like me
[16:57:51] <kmc> sully: what's rmc-compiler using Z3 for?
[16:58:02] <nmatsakis> seanmonstar: what error do you get? (that macro...makes my head hurt:)
[16:58:05] <simukis> seanmonstar: xclip filename
[16:58:12] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:58:15] <simukis> (if you’re on linux, paste with a middle mouse click)
[16:58:19] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Connection closed)
[16:58:21] <simukis> s/,/;/
[16:59:07] <seanmonstar> nmatsakis: https://gist.github.com/seanmonstar/569322e287666c7680ef
[16:59:52] <nmatsakis> seanmonstar: and you gist the expanded output? I wonder if the  fix was in macro expansion
[17:00:02] <nmatsakis> seanmonstar: in particular, I could imagine that you expand to (T) vs (T,) 
[17:00:02] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[17:00:07] <nmatsakis> seanmonstar: makes a difference...
[17:00:12] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:00:28] <simukis> could it be conflicting with impl on line 20
[17:00:35] <simukis> err, line 16
[17:01:00] <seanmonstar> simukis: thing is, this error is with rustc snapshot, but nightly compiles fine
[17:01:55] <seanmonstar> nmatsakis: https://gist.github.com/seanmonstar/571f188d561291140f85 and so forth
[17:02:10] <seanmonstar> tho, that's with using my nightly rustc...
[17:03:04] <seanmonstar> simple way to expand using the snapshot?
[17:03:44] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:03:50] <nmatsakis> seanmonstar: I can do it for you
[17:03:53] <nmatsakis> I have a script ...
[17:04:03] <nmatsakis> rustc --stage0 :)
[17:04:13] <seanmonstar> heh, so no
[17:04:24] *** Joins: bdero1 (bran@moz-u8a.gci.189.18.IP)
[17:04:55] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[17:06:26] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[17:06:42] <nmatsakis> seanmonstar: (that works for me ;)
[17:06:49] <nmatsakis> seanmonstar: but ... I'm thikning this is a bug in beta/nightly actually
[17:06:53] <seanmonstar> huh?
[17:07:00] <nmatsakis> like, this should not work
[17:07:27] <sully> kmc: it uses Z3 to optimize the placement of barriers and whatnot
[17:07:49] <nmatsakis> seanmonstar: here is a (greatly trimmed down) example http://is.gd/5kCEkB
[17:08:18] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[17:08:19] <nmatsakis> seanmonstar: so -- if U11 and T11 are instantiated with X, then the second impl is impl From<(X,)> for (X,)
[17:08:28] <nmatsakis> seanmonstar: if we instanthate T from first impl with (X,), it's the same
[17:08:31] <nmatsakis> seems like a clear overlap
[17:08:32] <sully> kmc: except that there is also a less-good non-Z3 mode and I really ought to make it so that you can compile without z3 if you don't want to use the z3 mode
[17:08:37] <nmatsakis> seanmonstar: eek
[17:08:46] <seanmonstar> nmatsakis: yea, i totally understand why it would error
[17:08:53] <nmatsakis> seanmonstar: I guess I broke that in fixing RFC 1023
[17:09:05] <seanmonstar> i was just confused that working on the patch at first in playpen was working fine
[17:09:16] <nmatsakis> ok, gotta fix THAT
[17:09:35] <seanmonstar> so, the "fix" (bug) is in nightly, but not in snapshot
[17:10:05] <nmatsakis> seanmonstar: https://github.com/rust-lang/rust/issues/24241
[17:10:09] <nmatsakis> seanmonstar: right
[17:10:32] <seanmonstar> ok, well glad to help find bugs
[17:10:44] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:10:54] <seanmonstar> next: there isn't currently any way for me to tell rustc to implement this as long as T != U?
[17:11:12] <nmatsakis> no.
[17:11:55] <seanmonstar> ok, so then it seems to me that while having the blank From<T> for T impl, we cant also be generic of (T0, T1, ...)
[17:12:01] <seanmonstar> blanket*
[17:13:30] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[17:13:55] <seanmonstar> aturon: ^
[17:14:51] <aturon> seanmonstar: ah yes, of course :-/ this will have to wait for specialization 
[17:14:55] <aturon> nmatsakis: ^ that makes 4 ;-)
[17:15:20] <seanmonstar> specialization will allow adding T != U in impls?
[17:15:31] <nmatsakis> aturon: I was just doing to say that :)
[17:15:35] <nmatsakis> *going
[17:15:57] *** Joins: marsel` (user@moz-aff.q63.180.94.IP)
[17:16:33] <aturon> seanmonstar: not sure on the exact design yet, but it will hopefully allow this kind of overlap in some way
[17:16:45] <nmatsakis> well, presumably you could do it
[17:16:50] <nmatsakis> by making one imp higher priority than the other
[17:16:59] <nmatsakis> so basically yes
[17:17:01] <seanmonstar> !important;
[17:17:47] * seanmonstar cannot wait till my impls are juggling z-indices
[17:18:33] <aturon> seanmonstar: ;_;
[17:19:38] <pnkfelix> nmatsakis: okay I gotta go, sorry I missed your messages, we'll chat later
[17:20:41] <pnkfelix> nmatsakis: (yeah I should have been tghinking of something like your box example; I assume that *should* be illegal...)
[17:20:46] <pnkfelix> nmatsakis: but like I said, we'll chat later
[17:20:51] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[17:24:35] <WindowsBunny> oh no, mahkoh closed all his rust issues :(
[17:26:11] <kmc> so once again he's creating bullshit work for the Rust team, solely because he doesn't like them
[17:26:14] <kmc> i'm so fucking sick of his antics
[17:26:50] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[17:26:50] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[17:27:44] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[17:29:13] <kmc> and I'm sick of nobody having the guts to do anything about toxic, damaging, spiteful people
[17:29:27] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:30:47] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[17:35:24] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[17:35:50] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Ping timeout: 121 seconds)
[17:36:14] <apoelstra> kmc, channel: the rust community has a reputation for being extremely friendly and welcoming, if there are toxic people i think it should be a very high priority to remove them
[17:36:28] *** Joins: eerie_ (eerie@moz-u71v5v.red.bezeqint.net)
[17:36:37] <apoelstra> like, i come here to get away from the bitcoin world, which has lost a lot of my potential contribution capacity by being toxic
[17:36:52] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:37:27] <seanmonstar> apoelstra: at the same time, mozillians have to be careful not to seem to be censoring people. other community members certainly can, however :)
[17:38:18] <kmc> apoelstra: there's a code of conduct, but enforcement has been... inconsistent
[17:38:39] <kmc> one habitually abusive contributor was tolerated for literally years
[17:39:04] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[17:39:05] <nmatsakis> on this topic, my feeling is this: we do need to do something about CoC enforcement, but I would prefer for enforcement to have structure. As I wrote somewhere at some point (can't be bothered to dredge up a link), we're drafting up guidelines on this, but they're not finished yet. Hopefully very soon though, now that beta is out.
[17:39:13] <WindowsBunny> seanmonstar: Should we do under the table deals to get a mafia to deal with such problems?
[17:39:26] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:39:46] <imperio> WindowsBunny: a bunny speaking about mafia. That's enough IRC for today
[17:39:50] <aturon> I'm working on an RFC touching several governance concerns including greater clarity on CoC
[17:39:55] <kmc> apoelstra: I have very high standards :) and the failure of the Rust leadership to live up to those standards in a few (perhaps exceptional) cases hurts me a lot
[17:39:58] <seanmonstar> WindowsBunny: i dont know what you're talking about.
[17:39:59] <seanmonstar> but yes
[17:40:00] <kmc> but I agree, that overall the Rust community is very good
[17:40:11] <kmc> and I am confident that governance will improve
[17:40:14] <apoelstra> ok, it's great to hear this from you guys :)
[17:40:47] <kmc> I want to avoid falling into the #haskell trap where we talk all the time about how friendly and awesome our community is, but never really examine ways we've failed to live up to it
[17:44:18] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:44:41] <WindowsBunny> as long as we avoid being as stuck up as haskellers are, I think we'll be fine
[17:44:48] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:45:29] <cmr> please be polite. some of us are haskellers too...
[17:46:30] <WindowsBunny> cmr: Sorry, I've just never had a good experience with people when they start talking about haskell
[17:46:30] <kmc> I agree with cmr... I think WindowsBunny crossed the line, and I hope my comment didn't (but I'm not sure)
[17:47:05] <kmc> I love Haskell, it's a fascinating language, made me a better programmer, and certainly it's a major source of the ideas that make Rust awesome
[17:47:06] * nmatsakis secret Java-er
[17:47:12] <nmatsakis> now that's a real social stigma,
[17:47:15] <kmc> haha
[17:47:30] * nmatsakis <3 eclipse
[17:47:31] <cmr> at least it's not fortran or, god forbid, php
[17:47:42] <seanmonstar> hey, php is actually qui
[17:47:44] <seanmonstar> nope
[17:47:56] <nmatsakis> so, my dad is still trying to convince me that Fortran >> any language since.
[17:48:16] <nmatsakis> I think he realizes it's hopeless to convince me of Rust, at least.
[17:48:21] <WindowsBunny> cmr: Hey, I learned programming with PHP!
[17:48:28] <steveklabnik> nmatsakis: btw, after switching from []() to [][] links in markdown, i strongly prefer it. so thanks!
[17:48:34] <nmatsakis> steveklabnik: :)
[17:48:45] <kmc> one of my mozilla research comrades (I won't name names) told me about using PHP as a macro system for other programming languages
[17:49:10] <nmatsakis> kind of sad that I never wrote any Ada though 
[17:49:41] <steveklabnik> we don't support Vista currently, right?
[17:49:52] <cmr> I think we do?
[17:49:54] <steveklabnik> https://github.com/rust-lang/rust/issues/24238 <-
[17:50:00] <steveklabnik> the book says windows 7 8 and server 2008
[17:50:01] <cmr> I saw that issue too, I'm quite confused by it
[17:50:04] <cmr> ah
[17:50:11] <steveklabnik> WindowsBunny: ping?
[17:50:27] <WindowsBunny> steveklabnik: pew pew
[17:50:41] <WindowsBunny> steveklabnik: Rust is currently 7+
[17:50:42] <steveklabnik> i just linked an issue above, and thtat reminded me, do we support Vista currently?
[17:50:43] <cmr> Ah, I thought that API was added in Vista.
[17:50:45] <steveklabnik> cool
[17:50:46] <steveklabnik> i THOUGHT so
[17:50:48] <steveklabnik> but i wasn't sure
[17:51:12] <WindowsBunny> steveklabnik: It would be nice if we had conditional support for Vista/XP
[17:51:42] <steveklabnik> yeah
[17:52:43] <imperio> there're really people who still use vista ?
[17:52:48] <imperio> that's impressive
[17:52:49] <cmr> imperio: yes.
[17:53:07] <steveklabnik> XP has a huuuuuge amoutn of usage
[17:53:11] <steveklabnik> compared to what you might think
[17:53:14] <imperio> XP yes, I understand
[17:53:22] <imperio> I have computers under XP too
[17:53:33] <imperio> but vista, I'm suprised
[17:54:00] <WindowsBunny> imperio: People who bought computers with vista and never upgraded
[17:54:10] <Gankro> even delinquint versions of windows have massive market share by virtue of being windows
[17:54:36] <WindowsBunny> vista still has more market share than most linux distros
[17:55:01] <imperio> WindowsBunny: that's sad to read... If only linux had a good communication...
[17:55:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:55:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:55:27] <WindowsBunny> If only linux wasn't catered almost entirely to terminal experts
[17:55:40] <aepsil0n> windowsbunny: hm… i suspect that market share thing stops being true, once you take servers into account
[17:55:50] <steveklabnik> ... this is all very offotpic
[17:56:24] <nmatsakis> ok so I know what the problem is with https://github.com/rust-lang/rust/issues/24241...
[17:56:28] * nmatsakis feels silly
[17:56:28] <WindowsBunny> steveklabnik: I blame you for bringing it up :P
[17:56:32] <steveklabnik> :)
[17:57:41] <imperio> steveklabnik: that's not really off-topic. The subject was "famous platforms", which is directly linked to rust
[17:57:44] <Gankro> nmatsakis: we need to lock you in a room with a fuzzer for a while to iron out these seems before beta :)
[17:57:48] <Gankro> err stable
[17:57:56] <TheDan64> aepsil0n makes a good point
[17:58:37] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:59:05] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[17:59:09] *** Quits: filsmick_ (filsmick@moz-c99ta7.abo.wanadoo.fr) (Connection closed)
[17:59:10] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[18:00:07] <nmatsakis> Gankro: yeah. this particular bug is one that I've ... almost made before, and always caught myself, and I remember thinking "why did I never do this approach before? wasn't there a problem? ah well, guess not"
[18:00:16] <nmatsakis> Gankro: hence the feeling silly bit
[18:05:14] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[18:05:17] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:07:30] <cmr> nmatsakis: sounds like it's finally time to leave a comment somewhere? :)
[18:07:42] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:09:30] <nmatsakis> cmr: indeed.
[18:09:42] <nmatsakis> cmr: well, or at least the test case in question
[18:09:46] <nmatsakis> cmr: so at least next time it'll fail :)
[18:15:45] *** Quits: bdero1 (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[18:15:46] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[18:16:29] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[18:16:55] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[18:17:17] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[18:17:18] *** Joins: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at)
[18:17:38] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[18:20:52] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:21:50] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[18:21:50] *** ChanServ sets mode: +o brson
[18:24:25] <nmatsakis> ok y'all I've been working on errors where you forgot to write move: https://gist.github.com/nikomatsakis/11126784ac678b7eb6ba
[18:24:31] <nmatsakis> (that has some sample inputs, old message, and new message)
[18:24:35] <nmatsakis> kind of proud of that...
[18:24:49] <nmatsakis> thanks to wycats for talking to me for ~2 hours on how to phrase it ;)
[18:26:10] <WindowsBunny> nmatsakis: oooo, me like
[18:27:28] <wycats> nmatsakis: I think it was more like 3-4 hours :P
[18:27:35] <wycats> you wake up ungodly early
[18:27:59] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:28:05] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[18:29:07] <kimundi> nmatsakis: Thats a _great_ error message! :D
[18:29:42] <nmatsakis> thanks
[18:32:10] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[18:36:29] *** Quits: eerie_ (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[18:36:33] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[18:39:10] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[18:40:37] *** Quits: ytain (ytain@moz-mh2irj.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[18:40:57] *** Quits: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP) (Quit: Leaving)
[18:50:37] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[18:51:07] <pitdicker> brson: I have a branch with the proposed changes to abs ready
[18:51:25] <pitdicker> brson: https://github.com/pitdicker/rust/tree/abs
[18:52:00] *** Joins: O01eg (o01eg@moz-fvs.3te.212.176.IP)
[18:53:23] <brson> pitdicker: ok, thanks. i'll start testing it
[18:54:47] <pitdicker> brson: thanks!
[18:55:57] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[18:56:38] *** Joins: mjboa (androirc@moz-07ivae.vodafone-net.de)
[18:57:11] *** Joins: user7181 (user@moz-p6g0p6.mullvad.net)
[18:57:28] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[18:58:28] <reem> “owned by the current function” is great phrasing imo
[18:59:07] <nmatsakis> reem: coming up with that phrasing is what wycats and I spent hours debating ...
[18:59:19] <brson> pitdicker: fwiw here are the before and after builds of your toolchain
[18:59:24] <brson> before https://tools.taskcluster.net/task-inspector/#wFYqh6MpS6a_GZ0lZnkmNw
[18:59:31] <brson> after https://tools.taskcluster.net/task-inspector/#ezt822mRS-S_92akqBuT4w
[18:59:35] <brson> it'll take a while to build
[19:00:02] <reem> nmatsakis: Good results :)
[19:00:10] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[19:00:51] <nmatsakis> brson: acrichto: so I've got (I think) the fix for https://github.com/rust-lang/rust/issues/24241 now-- the coherence check in beta/nightly is kind of broken in some fundamental ways, we have plans to reissue beta, right? :)
[19:00:57] <wycats> reem: I'm quite proud of it
[19:08:14] *** Joins: ytain (ytain@moz-mh2irj.cpe.pppoe.ca)
[19:09:04] <brson> nmatsakis: yeah
[19:09:31] <brson> nmatsakis: we should probably wait until that lands to push a new beta
[19:09:44] <brson> well, if it'll happen this week
[19:09:52] *** Joins: gretchexcccc (Mibbit@moz-juv.9o3.252.72.IP)
[19:10:09] <nmatsakis> I hope to open PR soon
[19:10:10] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:10:11] *** ChanServ sets mode: +o nrc
[19:10:13] <nmatsakis> just running make all/make check now
[19:10:21] <nmatsakis> but it seemed to be passing make check-stage1
[19:12:44] <Eridius> oh dear, there's another Tip4commit clone giving out tips for rust, this time called prime4commit for a currency called primecoin :/ It seems rather obnoxious for these sites to just start emailing committers without prior approval
[19:14:07] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[19:17:00] <nmatsakis> I can't decide whether to filter those to /dev/null or try to cash in
[19:17:10] <nmatsakis> 0.000000000000001 whatever-coin! yes!
[19:17:19] <steveklabnik> lol
[19:17:25] <nmatsakis> mostly I've opted for /dev/null
[19:17:39] <Eridius> I checked, the 1.00 XPM I apparently have credit for is worth.. $0.02
[19:17:40] <kmc> you know there were people who were tipped like 100 BTC back in 2011
[19:17:43] <kmc> and ignored it
[19:17:45] <Eridius> so I told them to stop emailing me
[19:18:40] <Eridius> kmc: BTC's valuation is rather unique. I have no faith that all these other cryptocurrencies will experience the massive inflation BTC did
[19:18:43] <steveklabnik> kmc: i did!
[19:18:51] <steveklabnik> but oh no let's not talk about bitcoin in here
[19:18:53] <Eridius> although I did actually invest in some Stellar, since that's the one cryptocurrency that I think is actually interesting
[19:18:56] <steveklabnik> the reddit thread on stellar is bad enough
[19:19:08] <Eridius> steveklabnik: link?
[19:19:21] <steveklabnik> http://www.reddit.com/r/rust/comments/31ytay/graydon2_stellar_consensus_recent_programming/
[19:19:37] <Eridius> ahh
[19:20:20] <Eridius> yeah I saw that Graydon went to Stellar a while back. I was actually rather tempted for a bit to look into working for them, but I eventually decided that they probably wouldn't be able to offer enough compensation
[19:20:27] <Eridius> also, they're still writing in C++ instead of Rust >_<
[19:20:39] <Eridius> (if they had decided to rewrite the whole thing in Rust that would have been a hell of a lot more tempting)
[19:22:16] <steveklabnik> who wnats to review my book copy edits? huon won the lottery, but i know he's trying to take a small break from reviews
[19:22:19] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[19:22:30] <steveklabnik> https://github.com/rust-lang/rust/pull/24239 and https://github.com/rust-lang/rust/pull/24244 !
[19:27:09] *** Joins: mjboa_ (androirc@moz-m1l.jct.203.93.IP)
[19:28:01] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[19:28:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:30:42] <kmc> Eridius: yes. if you invest in every speculative crypto-anarchist project then you will probably go bankrupt. before bitcoin and certainly after
[19:30:57] *** Quits: mjboa (androirc@moz-07ivae.vodafone-net.de) (Ping timeout: 121 seconds)
[19:32:20] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[19:32:23] <kmc> and there are cryptocurrency companies using rust, at least Codius is
[19:32:50] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[19:32:52] <Eridius> Cryptocurrencies can be interesting, but only in the things they enable you to use them for. Trying to use them as a store of value is largely pointless
[19:32:55] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[19:32:56] <Eridius> (even with bitcoin; it's too volatile)
[19:33:40] <Eridius> I like Stellar because it's aiming to solve a genuine real-world problem rather than being the usual libertarian or anarchist ideals that a lot of other cryptocurrencies get bogged down with
[19:33:49] <Eridius> but I suppose this is rather off-topic
[19:37:43] *** Quits: gretchexcccc (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:38:07] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[19:41:07] *** Joins: byteflame (cptaffe@moz-7d7e97.ddns.ualr.edu)
[19:41:49] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[19:44:43] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[19:45:02] *** Quits: semarie (semarie@moz-i72.nhl.10.176.IP) (A TLS packet with unexpected length was received.)
[19:48:14] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:51:07] *** Joins: scialex_ (scialex@moz-4je.a5t.16.138.IP)
[19:52:16] *** Parts: pitdicker (pitdicker@moz-328u1s.adsl.online.nl) ("Ik ga weg")
[19:52:53] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:56:27] *** Joins: sprang (sprang@moz-tk0.7vl.56.172.IP)
[20:07:45] *** Joins: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com)
[20:07:45] *** ChanServ sets mode: +o pcwalton
[20:08:01] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[20:10:52] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Quit: WeeChat 1.1.1)
[20:13:23] *** Quits: byteflame (cptaffe@moz-7d7e97.ddns.ualr.edu) (Quit: Lost terminal)
[20:18:15] *** Joins: bytewise (bytewise@moz-q74s1v.adsl.alicedsl.de)
[20:22:44] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:23:29] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:29:07] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[20:29:13] *** Quits: dinfuehr (dinfuehr@moz-ms3phh.highway.telekom.at) (Connection closed)
[20:29:32] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[20:29:33] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[20:32:03] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[20:32:03] *** Joins: jdm_ (jdm@moz-mu9.06r.98.75.IP)
[20:40:41] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[20:44:40] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[20:46:55] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[20:46:56] *** ChanServ sets mode: +o brson
[20:48:16] *** Quits: sprang (sprang@moz-tk0.7vl.56.172.IP) (Ping timeout: 121 seconds)
[20:49:13] <nmatsakis> brson: do we have any way of testing 'source snippet' stuff?
[20:49:22] *** Quits: user7181 (user@moz-p6g0p6.mullvad.net) (Ping timeout: 121 seconds)
[20:49:29] <nmatsakis> brson: I found some bugs in https://github.com/rust-lang/rust/pull/24242 
[20:49:32] <nmatsakis> which I Fixed
[20:49:35] <nmatsakis> but i'd like to add unit tests or something
[20:49:42] <nmatsakis> can't figure out how though
[20:50:22] *** Joins: user7181 (user@moz-p6g0p6.mullvad.net)
[20:50:27] <brson> nmatsakis: you want to test that the code emitted in the error message is what you expect? we don't have anything specifically for that
[20:50:28] <nrc> I was thinking about the same thing
[20:50:45] <nrc> Our spans are basically untested and half of them seem to be wrong
[20:51:01] <nmatsakis> more specifically, I wanted to test that the lines we print along with the span
[20:51:04] <nmatsakis> are showing the right thing
[20:51:15] <nmatsakis> and e.g. test the alignment of my span_suggestion etc works
[20:51:18] <nrc> "the lines"?
[20:51:24] <nmatsakis> the extract from the source
[20:51:43] <nmatsakis> i.e. if we call span_err with a problem on lines 17-23
[20:51:45] <nmatsakis> we print out lines 17-23
[20:51:50] <nmatsakis> with some squigglies and whatever
[20:51:57] <nmatsakis> but I had a bug where I dropped line 22 :)
[20:52:00] <nmatsakis> and I didn't notice for a while
[20:52:23] <nmatsakis> (good ol' off by one error)
[20:52:49] <nmatsakis> anyway, I guess some unit testing setup on CodeMap is totally plausible
[20:52:54] <nmatsakis> would just have to, you know, do it.
[20:52:58] <nrc> I want either a better way to compute the spans, or a more thorough way to test them
[20:53:00] <nmatsakis> (unless there is one I didn't see)
[20:53:09] <nmatsakis> well, that's kind of a separate, but related problem.
[20:53:11] <nrc> it's so ad hoc atm
[20:53:30] <nmatsakis> ()related in that the same unit testing framework might cover it)
[20:54:35] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[20:55:41] <nmatsakis> also, unrelated, .zip(0..) instead of enumerate is kind of nice :)
[20:55:53] <nmatsakis> (in particular if you want some other starting point)
[20:56:06] <nmatsakis> thanks to whomever pointed that out to me...
[20:56:43] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:56:53] <nrc> neat
[20:57:05] <XMPPwocky> does zip still have a weird performance penalty?
[20:59:14] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:59:14] *** ChanServ sets mode: +o pnkfelix
[21:02:18] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Quit: )
[21:04:23] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[21:05:07] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[21:05:52] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[21:13:33] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[21:14:26] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:17:53] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[21:18:15] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:19:22] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:20:48] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Quit: )
[21:23:40] <burntsushi> does anyone know where the `libsyntax` docs went?
[21:24:46] <WindowsBunny> burntsushi: I believe the docs are now hidden for many of the rustc crates
[21:24:58] *** Joins: sprang (sprang@moz-627.j2m.56.172.IP)
[21:25:12] <burntsushi> WindowsBunny: not just hidden, gone: http://doc.rust-lang.org/nightly/syntax/index.html
[21:25:22] <WindowsBunny> I dream of the day when rustc can be built with cargo
[21:27:11] <kmc> could someone remove me from the rust-highfive rotation please?
[21:27:42] <Manishearth> kmc: cc acrichto 
[21:27:53] *** Quits: sprang (sprang@moz-627.j2m.56.172.IP) (Connection closed)
[21:28:44] <acrichto> nrc: ^
[21:28:52] <Manishearth> hah
[21:29:12] <WindowsBunny> can someone make rust highfive assign people to rfcs?
[21:29:35] <seanmonstar> aturon: im interested in what we can do regarding tcp.set_keepalive and check if it's still alive
[21:31:01] <nrc> kmc: sure
[21:31:05] <kmc> thanks
[21:31:18] <nrc> WindowsBunny: that's a manual process because we try to assign someone appropriate
[21:31:44] <nrc> and assignment is the result of the triage process for RFCs
[21:34:56] <bstrie> does anyone in the SF office know where rainer might be? I'm supposed to do a rusty video interview thing with him today
[21:35:12] <kmc> I don't want to be doing reviews until code of conduct enforcement starts
[21:35:16] <kmc> but I probably won't have time, anyway
[21:36:01] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[21:44:03] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:44:24] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:44:33] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[21:45:38] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:45:52] <brson> bstrie: i can help you find him in a bit
[21:46:04] <brson> bstrie: he was in the 7th floor commons last i saw
[21:46:48] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[21:47:23] <bstrie> brson: can you describe him to me? :)
[21:49:48] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[21:49:50] *** Quits: jdm_ (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[21:51:40] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Quit: )
[21:51:52] <brson> bstrie: https://twitter.com/rainercvillink
[21:54:25] <bstrie> brson: thanks, found him :)
[21:56:33] <nrc> kmc: done
[21:56:41] *** Quits: user7181 (user@moz-p6g0p6.mullvad.net) (Quit: leaving)
[21:56:56] <nrc> https://github.com/nrc/highfive/commit/b3fdf00727ed079fe08353256dff9492f551f03f
[21:59:44] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[21:59:53] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[21:59:54] *** ChanServ sets mode: +o brson
[22:03:44] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:03:55] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:04:25] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:05:58] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[22:06:19] *** Quits: mjboa_ (androirc@moz-m1l.jct.203.93.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[22:06:23] <freebroccolo> What's the deal with this new warning about (possibly) removing unsigned negation? Isn't it enough to require #[allow(unsigned_negation)]?
[22:07:34] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:07:56] <seanmonstar> prefer new rfcs posted to internals? or does someone want to look over a draft of a keepalive rfc?
[22:11:27] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[22:13:22] <pnkfelix> freebroccolo: the problem is that unsigned negation does not really jibe with the philosophy surrounding arithmetic operations, specifically w.r.t. overflow.
[22:13:23] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:13:54] <pnkfelix> freebroccolo: So we decided it was better to be conservative with the beta, rather than be stuck with a wart
[22:14:04] <seanmonstar> whats wrong with u8::MAX - n?
[22:14:31] <freebroccolo> pnkfelix: yeah… I found the internals thread just now
[22:14:50] <Eridius> speaking of unsigned negation, just a couple days ago I accidentally tried to negate an unsigned number and was glad rust yelled at me for it
[22:14:58] <Eridius> because I meant to convert it to signed first
[22:15:31] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:15:33] <freebroccolo> pnkfelix: it's understandable but unsigned negation is very useful for bit twiddling… in particular, losing it would break some of algorithms I'm using for a new library
[22:15:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:15:59] <huon> freebroccolo: there is work arounds like 0.wrapping_sub(x)
[22:16:04] <pnkfelix> freebroccolo: any reason that (!x)+1, or (!x).wrapping_add(1), do not suffice?
[22:16:06] <huon> seanmonstar: that's not quite correct
[22:16:11] <sfackler> freebroccolo: or !x - 1
[22:16:41] <freebroccolo> Those might work, I've used them for some other things. OTOH, this is in some very performance sensitive loops so it might compile to more operations that way
[22:16:45] <nrc> trivial r? anybody? https://github.com/rust-lang/rust/pull/24248
[22:17:11] <pnkfelix> freebroccolo: the idea here is that `!x` is clearly a bit twiddling operation, while `-x` is not clear about its intent to be bit-twiddling
[22:17:18] <huon> steveklabnik: wow, I got a lot of reviews from you :)
[22:17:30] <huon> steveklabnik: so prolific!
[22:17:35] *** Quits: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[22:17:36] <steveklabnik> huon: yeah the RNG loves you apparently :)
[22:17:41] <freebroccolo> pnkfelix: right, but they aren't equivalent anyway
[22:17:45] <sfackler> nrc: any way you could get a cfail test to check for it?
[22:18:15] <pnkfelix> freebroccolo: `(!x).wrapping_add(1)` shuold be equiv to `-x` for unsigned `x`
[22:18:29] <nrc> sfackler: I don't think so - any bogus spans are ones which are never used in error messages (pretty much)
[22:18:45] <nrc> I do want some way to test spans, but I can't figure out how
[22:18:47] <pnkfelix> freebroccolo: now, if that compiles to more operations
[22:18:47] <freebroccolo> true… I guess I should try and see how well that works
[22:18:56] <pnkfelix> freebroccolo: then that's something we'll want to addres
[22:19:03] <freebroccolo> fair enough
[22:19:15] <pnkfelix> freebroccolo: but I would hope that LLVM can handle that.  (Admittedly I did not check.)
[22:19:35] <huon> 0.wrapping_sub(x) should be identical to the old -x (but is less obviously bittwiddling)
[22:19:41] <freebroccolo> seems plausible that it could at least
[22:21:20] <pnkfelix> admittedly one cannot currently deploy .wrapping_add nor .wrapping_sub in const-expressions
[22:21:25] *** Joins: Rym (y@moz-j0i.34a.55.31.IP)
[22:21:31] <pnkfelix> (unless that PR landed while I wasn't looking ...)
[22:22:45] <freebroccolo> hmm, hadn't thought of that, although I don't think I need that at the moment
[22:25:34] <pnkfelix> but (!x)+1 will work in all cases except when x == 0.  :)
[22:26:20] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:27:39] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[22:28:28] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:28:29] *** Quits: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com) (Client exited)
[22:30:33] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:31:52] *** Quits: rprichard (rprichard@moz-hrhbcg.en8f.d045.0009.2601.IP) (Connection closed)
[22:32:56] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[22:34:03] *** Joins: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com)
[22:34:03] *** ChanServ sets mode: +o pcwalton
[22:34:15] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:34:24] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[22:34:27] *** Quits: eibwen (eibwen@moz-s80rqm.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:34:37] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:38:02] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[22:41:29] <aturon> huon: hey, i just wanted to check in about "reseeding rand" -- any news on that front? want any help?
[22:41:59] <huon> aturon: no particular news right now
[22:42:09] <huon> sorry
[22:42:23] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:42:39] <huon> aturon: actually, that's a lie
[22:42:51] <aturon> huon: no apology needed, just checking in :) let me know if there's anything i can help with, or if at any point you need to hand it off etc
[22:43:01] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[22:43:01] <huon> aturon: there's https://github.com/rust-lang/rand/pull/27 and discussion, but I've been poor about it
[22:43:31] <aturon> huon: ok cool, i'll read up on that thread
[22:44:37] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[22:52:36] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:54:07] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[22:54:21] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[22:54:25] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[22:54:41] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:58:53] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:01:25] <huon> the meetups is starting at an "unusual" time today, yeah?
[23:01:29] <huon> *meetup
[23:02:03] <huon> ah, 3 hours
[23:05:22] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (A TLS packet with unexpected length was received.)
[23:05:36] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[23:05:38] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (A TLS packet with unexpected length was received.)
[23:08:16] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[23:10:29] *** Joins: tcurdt (tcurdt@moz-d35.238.151.87.IP)
[23:12:09] *** Joins: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net)
[23:13:04] <arielb1> Do we want to allow (p: *const Trait1) as *const Trait2 casts?
[23:16:01] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[23:16:39] <arielb1> I guess we do, and then I don't see any real reason to prohibit (p: *const [u8]) as *const Trait2
[23:19:52] <nrc> the former might give a correct answer, the latter is always going to be wrong
[23:20:13] <nrc> arielb1: ^
[23:20:19] <arielb1> nrc: raw pointer casts are like this
[23:20:38] <arielb1> I mean, casting *const String into *const u8
[23:20:49] <arielb1> actually this may make sense
[23:21:06] <arielb1> but casting *const String into *const Box<String>
[23:21:52] <nrc> in these cases there is no way for the compiler to distinguish reasonable from unreasonable casts
[23:22:12] <nrc> in particular, a thin pointer is just a number
[23:22:23] <nrc> as far as the compiler is concerned
[23:22:35] <nrc> whereas a fat pointer has structure
[23:23:26] <arielb1> either way is fine
[23:24:00] <arielb1> I mean, casting *const fmt::Write into *const fmt::Display does not make sense either
[23:24:13] <arielb1> but someone may want to cast
[23:24:19] <nrc> but the compiler can't know that
[23:24:26] <arielb1> *const Iterator<Item=String> to *const Iterator<Item=Vec<u8>>
[23:24:49] <arielb1> assuming they don't care about strict aliasing
[23:25:03] <nrc> we have to give the user the benefit of the doubt with casts, but with (p: *const [u8]) as *const Trait2 there is no doubt
[23:25:21] *** Quits: bytewise (bytewise@moz-q74s1v.adsl.alicedsl.de) (Quit: Leaving)
[23:25:50] <arielb1> We also have DST coercions
[23:26:30] <arielb1> actually, not DST coercions
[23:26:44] <arielb1> just DST-terminated structs
[23:26:59] <arielb1> *const Wrapper<str> ~ *const OtherWrapper<str>
[23:27:15] <arielb1> It may make sense to cast DST-ness away in this case
[23:27:23] <arielb1> *const Wrapper<str> ~ *const Wrapper<()>
[23:28:27] <nrc> yeah, I guess raw-fat-ptr to raw-ptr casts which lose the DST info should be allowed
[23:29:43] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[23:30:00] <arielb1> are DST-terminated structs implemented anyway?
[23:30:19] <nrc> yes
[23:30:32] <arielb1> just you can't create them without a transmute?
[23:30:53] <arielb1> maybe add a (ptr,ptr/usize) -> fat-ptr cast?
[23:30:59] <nrc> You can create them just fine
[23:30:59] <arielb1> so that you don't have to transmute?
[23:31:24] <nrc> it's DST smart pointers that you can't create
[23:31:36] <nrc> e.g., Rc<Trait>
[23:31:37] <arielb1> nrc: could you give an example?
[23:31:44] <nrc> where the smart pointer itself is sized
[23:32:05] <nrc> arielb1: of a struct?
[23:32:07] <arielb1> yes
[23:32:25] <nrc> struct Foo<T> {x : T }
[23:32:38] <arielb1> I mean, of a struct being used
[23:32:41] <nrc> let x = Foo { x: {1, 2, 3} }
[23:32:57] <nrc> let y: &Foo<[i32]> = x;
[23:33:04] <nrc> er
[23:33:07] <nrc> = &x
[23:33:26] <nrc> s/{1, 2, 3}/[1i32, 2, 3]
[23:33:28] <arielb1> rusti: struct Foo<T>(T); let x = Foo([1,2,3]); let y: &Foo<[i32]> = &x;
[23:33:30] -playbot- <anon>:9:56: 9:67 error: the trait `core::marker::Sized` is not implemented for the type `[i32]` [E0277]
[23:33:30] -playbot- <anon>:9         struct Foo<T>(T); let x = Foo([1,2,3]); let y: &Foo<[i32]> = &x;
[23:33:30] -playbot- output truncated; full output at: http://bit.ly/1y9ZALy
[23:34:06] <nrc> struct Foo<T: ?Sized> {x : T }
[23:34:12] <arielb1> rusti: struct Foo<T: ?Sized>(T); let x = Foo([1,2,3]); let y: &Foo<[i32]> = &x; y.0[0]
[23:34:13] -playbot- 1
[23:34:15] <arielb1> this works
[23:34:16] *** Joins: srh (User@moz-ut32bm.q9f2.utp8.0306.2602.IP)
[23:34:33] <nrc> yes it does :-)
[23:35:18] <arielb1> Back to casts
[23:35:31] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[23:35:39] <arielb1> ptr-addr-cast must only involve a thin pointer
[23:35:47] <arielb1> both directions
[23:36:54] <arielb1> and ptr-ptr-cast can't make a fat ptr from a thin ptr, or from a fat ptr of different vtable kind
[23:37:14] <nrc> yes, I believe that ought to be the case
[23:37:16] <arielb1> where enum VtableKind { IntVtbl, TraitVtbl }
[23:37:43] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:37:49] <nrc> I would prefer to think in terms of the kind of pointer than the kind of vtable
[23:38:32] <nrc> we may, e.g., add a fat pointer with a 'TraitVtbl' but where the vtable pointer is at the dest of the pointer, i.e., a fat pointer with zero payload
[23:38:37] <nrc> but details
[23:38:57] <arielb1> nrc: then it wouldn't be a fat pointer :-)
[23:39:18] <nrc> technically yes, but we think of those as fat pointers with size 1
[23:39:26] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[23:39:26] <nrc> where "fat" really means special, I guess
[23:39:41] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[23:40:28] <arielb1> nrc: so you are actually interested in the type of the vtable, not the kind
[23:42:10] <nrc> not sure about the difference
[23:42:26] <nrc> I'm using kind in a pretty hand-wavery way here, not as in HKT
[23:42:27] <arielb1> nrc: kind is type-level - type or integer
[23:43:17] <nrc> I guess I'm dividing pointers in three groups - thin, fat-to-array, fat-to-trait
[23:43:42] <nrc> for the ptr-ptr casts either the rhs is thin, or lhs == rhs
[23:43:44] <arielb1> and there are also pseudo-fat pointers
[23:43:52] <arielb1> which we don't yet have
[23:43:56] <nrc> right
[23:44:10] <nrc> that would be another group of pointer (or perhaps not)
[23:44:14] <arielb1> I say we make their cast rules when we design them
[23:44:28] <nrc> yes
[23:44:30] <arielb1> current fat pointers are existentials
[23:44:44] <arielb1> exists T: Trait. Ptr T
[23:45:09] <arielb1> Haskell calls this a forall for some reason
[23:45:23] <nrc> Hasklol
[23:46:09] <arielb1> data TraitPtr = forall T: Trait. TraitPtr (Ptr T)
[23:46:47] <arielb1> thin fat pointers aren't existentials
[23:47:20] <arielb1> they are Ptr (exists t: Trait. t)
[23:47:43] <arielb1> but I say we figure out the cast rules for them when we design them
[23:48:30] <arielb1> should I put a PR on the RFC?
[23:49:13] <arielb1> and then put a PR for rustc?
[23:49:21] <scott> Haskell uses forall because data Foo = forall a. Bar a => MkFoo a is the same as the theoretical data Foo = MkFoo (exists a. Bar a => a), so adding an exists keyword isn't necessary as I understand it
[23:50:27] <arielb1> scott: that's still an exists
[23:50:40] <scott> what?
[23:50:41] <arielb1> I mean, it is an open union
[23:50:58] <scott> not sure what you're getting at
[23:51:35] <arielb1> it is ⋁_t MkFoo t  
[23:51:52] <arielb1> open union = exists
[23:51:55] <arielb1> not forall
[23:52:22] <scott> it is an existential type, yes, but you can have those without introducing an exists keyword in Haskell
[23:52:37] <arielb1> Haskell uses the keyword forall so that it does not need an exists keyword
[23:52:56] <scott> that's what I explained above
[23:53:01] <nrc> arielb1: yes, sounds like a good plan
[23:54:49] <scott> if you write out the types of the constructors for the two definitions of Foo above, you have:
[23:54:52] <scott> MkFoo :: forall a. Bar a => a -> Foo
[23:54:53] <scott> MkFoo :: (exists a. Bar a => a) -> Foo
[23:55:01] <scott> which are equivalent (assuming you had exists)
[23:55:08] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:55:40] <arielb1> scott: but Foo ~ ∃t. MkFoo t
[23:55:58] <arielb1> I mean, if you have data Foo = Bar | Baz
[23:56:10] <scott> why 'but'?
[23:56:15] <arielb1> then Foo ~ Bar | Baz
[23:56:19] <scott> I don't think you contradicted me
[23:56:51] <arielb1> and Bar :: Foo, Baz :: Foo
[23:58:09] <arielb1> The union in the type declaration turns into a product of constructors
[23:59:53] <arielb1> nevermind
