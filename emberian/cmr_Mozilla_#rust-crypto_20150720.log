[00:04:17] *** Quits: tomlikestorock (tomlikestor@moz-i312q9.ca.comcast.net) (Client exited)
[00:14:10] <Ilari> Damn UFOs... :-/
[00:14:25] *** Quits: blank_na1e (blank_name@moz-ms6nj1.mi.frontiernet.net) (Quit: leaving)
[00:15:29] *** Joins: blank_name (blank_name@moz-ms6nj1.mi.frontiernet.net)
[00:22:30] <Ilari> To fix the combinatorial nonsense in any sort of non-hacky way, one would have to rewrite ServerHello, which has its own problems.
[00:28:02] <Ilari> bascule: In splitting the ciphersuites, cipher / prf coupling is one area to be wary of. Allegedly NSS does not support SHA-384 as prf, and AES-256-GCM uses that.
[00:29:51] <Tiffany> ilari: I know that firefox doesn't seem to support SHA-384
[00:30:17] <Tiffany> my site iirc has TLS_ECDHE_RSA_WITH_AES_256_SHA_384 as the top of the cipher list
[00:30:53] <Ilari> Well, if one just ignored cipher / prf coupling, it could yield badly strengh-matched ciphers, but that wouldn't likely be too bad.
[00:31:04] <Tiffany> but instead it uses ECDHE_RSA_WITH_AES_128_GCM_SHA256
[00:31:52] <Ilari> Tiffany: Previously Firefox supported AES-256-CBC, but the support was removed.
[00:32:41] <Ilari> Oops, it was chrome that did that, not firefox (at least the version I have here).
[00:39:50] <Ilari> There are some sites that only enable 256-bit ciphers.
[00:40:42] * bascule lists both but prioritizes 128-bit over 256-bit
[00:40:49] <bascule> but we're, uhh, At Scale or whatever, heh
[00:41:33] <Ilari> I view 128-bit ciphers as bit risky.
[00:41:48] <bascule> haha, ok
[00:41:54] <Ilari> Too bad TLS doesn't have AES192-GCM. :->
[00:42:00] <bascule> lol
[00:42:03] <Tiffany> how much more expensive is AES-256 over AES-128?
[00:42:17] <bascule> Tiffany: approximately twice? heh, little bit less I think
[00:42:28] <Tiffany> that is about what I expected
[00:42:30] <bascule> openssl speed can tell you for your ISA
[00:43:24] <bascule> type             16 bytes     64 bytes    256 bytes   1024 bytes   8192 bytes
[00:43:27] <bascule> aes-128 cbc     127791.87k   132844.59k   133601.65k   134895.26k   135042.32k
[00:43:29] <Ilari> Tiffany: About 14/10 for the AES itself (in limit of data tending to infinity).
[00:43:30] <bascule> aes-256 cbc     100792.72k   103769.38k   103686.81k   103883.24k   104855.36k
[00:44:01] <Tiffany> oh
[00:44:18] <Ilari> Tiffany: AES256 has 14 rounds, AES128 has 10 (and AES192 is in the middle).
[00:44:35] <Tiffany> so it's just the extra rounds that costs, then?
[00:45:39] <Ilari> Tiffany: Well, the key expansion costs more, but the amortized cost of key expansion goes to zero as amount of data increases.
[00:52:51] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[00:53:34] <Ilari> Well, running openssl speed, the 14:12:10 ratio seems to hold pretty well.
[00:56:46] <Ilari> But note that AES-GCM also has the GCM part, which takes some time independent of AES variant used.
[00:58:56] *** Joins: tomlikestorock (tomlikestor@moz-i312q9.ca.comcast.net)
[01:02:39] <Ilari> The stated reason for not supporting AES-256-GCM is that the overhead is too large relative to amount of security improvment it brings.
[01:03:02] <Ilari> (Also, NSA does not consider AES-128 strong enough for the most senstive data).
[01:05:01] <Ilari> AES-192 would have been good enough, if it was actually supported.
[01:06:38] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:24:31] *** Quits: tomlikestorock (tomlikestor@moz-i312q9.ca.comcast.net) (Client exited)
[01:29:49] *** Joins: tomlikestorock (tomlikestor@moz-i312q9.ca.comcast.net)
[01:30:54] <Ilari> bascule: Not because 128-bit is easy to crack. But because it doesn't take that many bits coming off for some reason (including using it badly) to render it not quite secure. Even 192 bit ciphers have quite much more margin there.
[01:33:09] <Ilari> Also, looks like AES-192 is stronger in some respects than AES-256 (due to slightly different key schedule).
[01:51:47] <Ilari> bascule: And there are apparently some who claim that the current mess of ciphersuites is easier to implement than decoupled model.
[01:57:27] <bascule> heh
[01:58:25] <Ilari> Also, Simon seems to want EdDSA (or thereabouts) to TLS 1.0/1.1 too... Using ECDSA ciphersuites. That will be fun.
[02:02:15] <Ilari> (There is seemingly no good way to negotiate that, with negotiation being added in TLS 1.2).
[02:08:50] <Ilari> Recommend using RSA certs for 1.0/1.1. 
[02:09:32] <Ilari> (But then, for 1.0/1.1, one sees lots of crap clients)
[02:10:03] <bascule> who wants to use it in TLS <1.2?
[02:10:10] <bascule> isn't that kind of, I dunno, weird?
[02:10:16] <bascule> let's use Ed25519 with TLS 1.0
[02:10:18] <bascule> sounds great
[02:18:30] <Ilari> What clients/servers that don't support TLS 1.2 will implement it anyway? And the way TLS version negotiation works, two endpoints that support TLS 1.2 should negotiate at least TLS 1.2.
[02:19:36] *** Quits: tomlikestorock (tomlikestor@moz-i312q9.ca.comcast.net) (Client exited)
[02:32:48] <Ilari> ... Sending certificate chains involving Ed25519 certs is bit different thing, but still.
[02:54:03] <Ilari> PoS TLS implementations like Java 6&7, old Android, IE up to 10, etc... are still around. :-/
[02:56:18] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[02:59:26] <Ilari> Looks like the only common TLS stacks that can't do ECDHE/ECDSA: Android 2.x/3.x, Java 6 and IE on XP. Both of which are truly EOL. And thus according to some, irresponsible to support.
[03:01:15] <Ilari> (Well, one could get patches for Java 6 by paying enough money, but...)
[03:05:54] <Ilari> If one wants to cover those by RSA key exchange, then AES-128-CBC works with Android and Java. And for IE on XP one would need 3DES.
[03:12:16] <Ilari> But after one needs to disable SSL 3.0/TLS 1.0 as per PCI DSS, there is no reason for keeping RSA key exchange around, one can just use ECDHE (and RSA/ECDSA based on preference).
[03:40:07] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[03:40:18] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[03:45:34] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[04:20:11] *** eddyb_ is now known as eddyb
[04:21:55] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[04:29:29] <eternaleye> Hm, I wonder how simple a permutation can be used to create a secure Even-Mansour cipher.
[04:31:43] <eternaleye> Not needing any round keys is a really big advantage...
[04:32:12] <eternaleye> Load a key into a vector register, and just xor it against blocks before and after the permutation.
[04:44:04] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[05:13:15] *** Quits: Guest8_ (textual@moz-of66u9.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:14:36] *** Joins: Guest8 (textual@moz-of66u9.ca.comcast.net)
[05:42:09] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[05:59:40] *** Joins: atomic (atomic@moz-v7i.o45.82.80.IP)
[06:53:06] <Ilari> Oh, that chinese cert scheme apparently involves using server RSA cert to issue temporary ECC cert (with suggested lifetime of 10 minutes). Runs into trouble with clock skew tho. And is extra protocol complexity.
[07:29:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[07:31:20] *** Quits: stask (sid61294@moz-0bjq4h.ealing.irccloud.com) (Ping timeout: 121 seconds)
[07:31:48] *** Quits: dherman (sid7996@moz-u0jlif.ealing.irccloud.com) (Connection closed)
[07:57:21] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:58:24] *** Joins: dherman (sid7996@moz-u0jlif.ealing.irccloud.com)
[08:08:16] <Ilari> Haha: "I want X.509 to die" (Said in IETF93 session).
[08:21:30] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[08:27:55] *** Joins: stask (sid61294@moz-0bjq4h.ealing.irccloud.com)
[09:40:52] <Ilari> Apparently by one of the WG chairs of that session.
[11:26:56] *** Quits: atomic (atomic@moz-v7i.o45.82.80.IP) (Ping timeout: 121 seconds)
[12:01:44] *** Joins: Guest8_ (textual@moz-of66u9.ca.comcast.net)
[12:04:40] *** Quits: Guest8 (textual@moz-of66u9.ca.comcast.net) (Ping timeout: 121 seconds)
[13:15:39] *** Joins: atomic (atomic@moz-n481t9.squirrel.theremailer.net)
[13:35:26] <Tiffany> yeah, if you accidentally shave half the bits off a 128 bit cipher then it's instantly useless
[13:35:34] <Tiffany> well, "accidentally"
[13:35:45] <Tiffany> I mean a cryptanalysis on it
[13:36:58] <Tiffany> 256 bit ciphers have that nice wide security margin where even halving the number of bits in the work factor is not a catastrophic failure
[13:37:21] <Tiffany> except that it might open the door to further breaks, of course
[13:37:41] <Tiffany> is 96 bits safe?
[13:38:15] <Tiffany> 2e21/s to do 2^96 in a year, apparently
[13:39:05] <Tiffany> a trillion computers doing a billion operations per second... not quite in the realm of practicality
[13:39:12] <Ilari> Tiffany: Well, the number of bits shaved off accidentially is typically not half (and it is typically constant, not depending on number of bits in nominal key).
[13:39:33] <Tiffany> yeah
[13:40:33] <Tiffany> it looks like the edge of practicality is between 70 and 74 bits
[13:41:32] <Tiffany> at the moment, anyway
[13:41:37] <Tiffany> computers get cheaper all the time
[13:46:16] <Tiffany> it would have to be pretty important, though
[14:11:25] <Ilari> Well, for some kinds of misuses, the bitstrength in certain respects is actually cut in half.
[15:02:00] *** Quits: taryn (taryn@moz-guupcb.jdpb.6cej.6400.2605.IP) (Connection closed)
[15:03:03] *** Joins: _neal_ (neal@moz-of66u9.ca.comcast.net)
[15:47:53] *** Joins: taryn (taryn@moz-g8toaq.vmsplic.me)
[15:54:39] <Ilari> Lol... <something> Yo.... <something> Yo... <something> Yo... <something>
[16:03:37] <Tiffany> have any of you read cryptonomicon?
[16:04:11] <Tiffany> I saw an ad for it last night on my kindle and added it to my wishlist
[16:16:55] *** Quits: taryn (taryn@moz-g8toaq.vmsplic.me) (Ping timeout: 121 seconds)
[16:34:37] <bascule> this guy on the Noise mailing list
[16:34:46] <bascule> talking about how 70Mbps to DDoS a single server isn't a lot
[16:34:47] <bascule> wat
[16:34:50] <bascule> err
[16:34:54] <bascule> s/DDoS/DoS/ but
[16:35:08] <Tiffany> well, a high-end residential connection would be enough to effectively DoS a server bascule
[16:35:25] * bascule thinking more from the attacker perspective and how much more you could do with less
[16:35:38] <bascule> like target a server that uses RSA signatures to authenticate key exchange (the "THC attack")
[16:35:50] <bascule> or just find a slow endpoint and make a lot of requests to it
[16:36:23] <bascule> people who worry about these attacks probably don't know the realities of how easy it is to DoS most applications using far more mundane techniques
[16:36:30] <Tiffany> I mean sure, it's a little bit more involved to specifically hammer noise instead of just spamming SYNs
[16:36:43] <Tiffany> but it's nowhere near application-level DoS
[16:36:45] <bascule> this same attack works against SSL/TLS in general
[16:36:48] <bascule> and far more effectively
[16:36:53] <Tiffany> like finding a particularly slow PHP page and sending lots of HTTP requests at it
[16:36:58] <Tiffany> well, sure
[16:37:00] <bascule> because an RSA signature operation is incredibly expensive
[16:37:12] <Tiffany> but shouldn't noise try to avoid the same DoS that TLS is vulnerable to?
[16:37:16] <Tiffany> I don't know how it could, though
[16:37:34] <bascule> avoiding that DoS in an effective manner is really hard
[16:37:51] <bascule> the proposed mechanism to do it in TLS is "client puzzles"
[16:39:09] <bascule> I get 1422 RSA signature operations per second for 2048-bit RSA on my laptop
[16:39:13] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:39:23] <bascule> Curve25519 is orders of magnitude faster
[16:40:20] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:41:05] <bascule> for the handshake to complete, the server will have to do some sort of public key cryptography. That's just how it goes
[16:41:54] <bascule> so far servers will compute RSA signatures for you, and the world hasn't melted yet
[16:42:17] <Tiffany> I wonder how it hasn't
[16:42:27] <bascule> I mean, there is the THC attack
[16:42:31] <Ilari> bascule: Then there have been spam attacks where nominally dialup computer transmits at rates that are defintely way beyond any known dialup technology...
[16:42:39] <Tiffany> there's been all kinds of DDoS in the news, and yet they still seem to be doing TCP SYN spam instead of THC or worse like slowloris
[16:43:06] <bascule> I mean most of the volumetric attacks I've seen have been UDP-based reflection/amplification attacks
[16:43:18] <bascule> namely ntp
[16:43:18] <Tiffany> oh, yeah
[16:43:28] <Tiffany> I guess you can't add your own custom payload when using amplification attacks
[16:43:37] <Tiffany> that explains a lot of it
[16:43:55] <Tiffany> why use THC when you can just flood them with a hundred gigabytes per second and get on the news?
[16:44:54] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:45:33] <Ilari> Those "dialup transmitting at huge rate" attacks are additionally nontrival to trace back.
[16:45:42] <Ilari> *nontrivial
[16:46:00] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[16:47:41] <bascule> Ilari: I totally don't get what you're talking about with that, heh
[16:48:02] <bascule> although I do remember in the dialup days DoSing people on dialup was easy ;)
[16:49:55] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:54:20] <Ilari> Lol, Dan Brown posted about his ECDSA variant.
[16:59:21] <dcb> Is there any way to use rust-openssl for TLS with blocking streams?
[16:59:30] <dcb> I mean non-blocking streams
[16:59:42] <Tiffany> so how would you mitigate a DoS on the handshake as a sysadmin?
[16:59:43] <dcb> streams that may return ErrorKind::WouldBlock on read or write
[16:59:47] <Tiffany> just allocate more servers to swallow it?
[17:00:30] <bascule> yeah
[17:00:45] <Tiffany> I guess that's what it comes down to in the end...
[17:01:05] <bascule> we always plan for 10X our current capacity
[17:01:44] <Tiffany> you have your own servers then, instead of just using AWS/rackspace/other hourly-rated service
[17:01:54] <Tiffany> I intended to make that a question
[17:04:16] <bascule> yeah we run our own bare metal
[17:04:29] <bascule> I guess we're moving to containers
[17:13:26] <Ilari> Containers... OS upgrade !!fun!!.
[17:19:45] *** Quits: _neal_ (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:23:50] <Tiffany> containers have the benefit of making deployment of a single image very easy
[17:23:58] <Tiffany> and the downside of adding a new image for every application
[17:24:10] <Tiffany> it would be cool to mix like nix and containers
[17:24:40] <Tiffany> you could generate the container images for each service from the declarative specification, to easily incorporate software updates and stuff
[17:24:50] <Tiffany> and then just throw those onto your dozens of servers
[17:25:33] <Ilari> Tiffany: You mean essentially provoding automated distro install and have the installer then run in container?
[17:25:44] <Tiffany> what?
[17:29:31] <Ilari> Tiffany: Many distros (especially other than desktop-oriented) have automated installation mode.
[17:29:59] <Tiffany> do you give a list of packages and it sets up the system for you?
[17:30:17] <Tiffany> that's kind of what nix does, but using a declarative programming language to write the specification of what the system should look like
[17:30:20] <Tiffany> packages, configs, etc
[17:31:09] <Tiffany> so you mount the nix tools in a docker container, run the installer, and once it's finished you unmount the tools, docker commit, and deploy
[17:32:10] <Tiffany> I think you can set it up in such a way that there's no package manager in the final image, to give a middle finger to anyone breaking into the servers or trying to mess with configs in prod
[17:32:52] <Tiffany> (or compiler, or anything else not needed by the application)
[17:33:59] <Ilari> Tiffany: There could also be facilty to do package management from underneath the container (from the host system).
[17:34:05] <Tiffany> yeah
[17:34:18] <Tiffany> you can even have a shared immutable /usr between all the instances
[17:34:47] <Tiffany> there's a lot of cool possibilities
[17:35:31] <Ilari> And maybe use that for mass updating.
[17:37:00] <Ilari> Oh, presentation about ECDSA_CFRG too...
[17:46:26] <Ilari> "Improve on security of ECDSA and EdDSA". Lol.
[17:50:46] <Tiffany> what's that from? it reminds me of that thread of the person trying to improve chacha
[17:53:15] <Ilari> Tiffany: Dan Brown's presentation.
[17:59:56] *** Joins: _neal_ (neal@moz-of66u9.ca.comcast.net)
[18:04:28] *** Quits: _neal_ (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:19:11] <bascule> heh
[18:19:35] <bascule> Ilari: how exactly does he claim it's an improvement on EdDSA?
[18:36:30] *** Joins: vks (quassel@moz-l5qmbl.pools.vodafone-ip.de)
[18:59:18] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:16:23] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[19:57:58] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:59:00] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[19:59:53] <Ilari> bascule: Yeah, I'm not seeing it.
[20:01:51] <eternaleye> bascule: Erroneously :P
[20:02:14] <Ilari> And claims since ECDSA has no known mathematical breaks, it should be used. Or something like that.
[20:03:43] <Ilari> Also, inversion is so annoying that one probably would want to use bignum lib for it. Well, the inversion is supposedly "blinded". Except the multiplications with bignum libs are not constant time.
[20:04:10] <eternaleye> Ilari: "no mathematical breaks" - Which is why the only symmetric cipher used by anyone is the one-time pad :P
[20:05:58] <eternaleye> Dan Brown has a really bad habit of saying "I like X, X is equal to the alternatives in one metric Y, thus X is equal to the alternatives"
[20:06:57] <Ilari> Also, the way I do implemnetation checking, supposedly "blinded" stuff causes check fail. One can do blinding if one wants to, but to pass, the code has to be constant-time anyway.
[20:10:53] <Ilari> Also, TLS has presentation of runtime client auth stuff that frankly scares me (that somebody would try to use it for HTTP/2) tomorrow.
[20:14:32] <Ilari> And besides, inversions are pretty slow, even if done in unsafe way, and making inversions safe makes that only worse.
[20:16:54] <Ilari> Also, there's some presentation on doing TLS on secure coproessors in UTA WG. The idea essentially seems to be having an interface one can pass TLS through, and have coprocessor terminate the link.
[20:20:56] <Ilari> Also, lol, ensuring good keys... Playing dining cryptographers to generate key bits anyone (not that the protocol has seemingly anything to do with dining cryptographers)? :->
[20:27:39] <Ilari> Also, presntation about DNSSEC stapling for auth on TLS WG (it was presented on another meeting today, to bunch of DNSSEC experts).
[20:31:23] *** Joins: tomlikestorock (tomlikestor@moz-rjs7c5.static.sonic.net)
[20:38:43] <Ilari> eternaleye: And then there's claims that inversion protects from bad hash functions.
[20:46:27] *** Quits: vks (quassel@moz-l5qmbl.pools.vodafone-ip.de) (A TLS packet with unexpected length was received.)
[20:51:44] *** Quits: eddyb (eddyb@moz-iut.q07.26.188.IP) (Connection closed)
[20:52:23] *** Joins: eddyb (eddyb@moz-6s1.6n6.26.188.IP)
[20:56:17] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:56:49] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[21:01:38] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:05:13] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[21:17:28] <Ilari> Some quotes from the presentation: "Improve on security of both ECDSA and EdDSA." "Mathematical security of ECDSA unbroken: do not fix math" "Little-endian or big-endian integer encoding"
[21:50:39] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:55:08] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[22:12:28] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:15:33] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Connection closed)
[22:15:42] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[23:01:00] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:11:48] <Ilari> https://www.ssllabs.com/ssltest/analyze.html?d=customers.reuters.com ... I don't consider that site config even worthy of F.
[23:13:40] <Ilari> At least RC4 only, and can't deal with TLS 1.2 ClientHello.
[23:15:38] <bascule> hahaha
[23:19:35] <Tiffany> they must have saw that attack on SSLv3 which broke all the block ciphers
[23:19:44] <Tiffany> and then proceeded to only allow RC4
[23:23:55] <Ilari> I think SSL labs ought to have grade even lower than F for sites that can't be contacted with even remotely secure config (not conflating that with very bad failings like SSLv2 support, Heartbleed, EarlyCCS, FREAK, LOGJAM, etc...).
[23:24:52] <Ilari> (Oh, and POODLE TLS) The example issues given do not pop up in normal operations, unlike serious misconfigs.
[23:25:56] <Ilari> "So far, 21 organizations have elected to be placed on the waiting list and ARIN expects there to be over 100 soon."
[23:32:51] *** Joins: _neal_ (neal@moz-of66u9.ca.comcast.net)
