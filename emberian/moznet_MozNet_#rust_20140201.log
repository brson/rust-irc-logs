[00:00:09] <strcat> do you have an example?
[00:00:24] <strcat> I'm not sure how widespread the unnecessary paren check is
[00:00:36] <jasom> if (foo==bar) {x}
[00:00:44] <jasom> versus if foo==bar {x}
[00:00:54] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[00:00:58] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:01:04] <jasom> or rather for longer conditions; if foo == bar || baz > biff {x}
[00:01:14] <strcat> can't really see how it'd be more readable with parens wrapped around it
[00:01:19] <strcat> more familiar to a C programmer, yes
[00:01:32] * strcat shrugs
[00:01:45] <strcat> there will be more lints like that in the future
[00:01:49] <cgaebel> What's &'a mean? It's ungoogleable
[00:01:52] <strcat> there's a bug open about adding more
[00:01:58] <strcat> cgaebel: it's a named lifetime
[00:02:18] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[00:02:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:02:31] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:02:33] <mcpherrin> specifically 'a is the name of the lifetime
[00:02:45] <cgaebel> ah I see.
[00:02:45] <mcpherrin> & is the sigil for a reference
[00:02:55] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[00:03:00] <mcpherrin> could be 'toodledoo if you wanted
[00:03:25] <jasom> plus, in general adding more parens makes me able to read an expression without having to remember operator precedence and binding
[00:04:50] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[00:05:30] <dbaupp> jasom: only only warns for if (...) { .. }, while (..), return (...) and match (...)
[00:05:43] <dbaupp> no operator precedence things
[00:09:34] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[00:09:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:10:09] <brson> sfackler: it seems like importing the standard macros requires `#[phase(syntax)]`, which is gated. Does that mean that std injection is injecting gated features into every crate?
[00:10:47] *** Joins: heftig (heftig@moz-F1B89133.dip0.t-ipconnect.de)
[00:11:42] <huddler> can anyone explain to me what out_fd and err_fd mean in run::ProcessOption
[00:12:39] <mcpherrin> huddler: those are file descriptors that the launched process will write its STDOUT and STDERR to
[00:13:19] <mcpherrin> http://static.rust-lang.org/doc/master/std/run/struct.ProcessOptions.html
[00:13:29] <mcpherrin> Are the explanations there confusing?  Do you need more information?
[00:13:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:15:30] <huddler> yea I looked at that but
[00:15:35] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[00:15:39] <huddler> I don't really know what out_fd does
[00:15:57] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:16:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[00:17:31] <mcpherrin> rusti: println!("This is printing to output")
[00:17:32] -rusti- This is printing to output
[00:17:32] -rusti- ()
[00:17:57] <mcpherrin> huddler: So rusti (as an example, if it was in rust) compiled a new app and ran it, printing the output here
[00:18:10] <mcpherrin> But how did it do that?  It's not like it ran it in a terminal and took a picture
[00:18:41] <mcpherrin> so maybe rusti called open("some-file") and got a file descriptor that refers to that file
[00:19:08] *** Joins: mib_1z1ze1 (Mibbit@moz-3B382411.bbtec.net)
[00:19:08] <mcpherrin> and then passed that fd to ProcessOptions before creating the process
[00:19:26] <mcpherrin> so when the program prints a message, it'll go to the file
[00:20:24] <mcpherrin> Put another way:  When you do something in a Unix shell like "foo | bar | baz", foo's out_fd is bar's in_fd, and bar's out_fd is baz's in_fd
[00:21:08] <mcpherrin> and baz's out_fd would be None, and the shell will call .output() on the Process and print that to the screen
[00:21:10] <acrichto> brson: std injection does indeed bypass feature gating, it also injects the glob import of std::prelude::*
[00:21:17] <mcpherrin> huddler: I hope that was at least a little clear
[00:21:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:21:41] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[00:21:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:22:29] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:22:49] <mcpherrin> huddler: if it wasn't, maybe let me know what you're trying to accomplish and I can tell you what to do with it
[00:23:34] *** Joins: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net)
[00:24:51] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[00:25:24] *** Quits: mib_1z1ze1 (Mibbit@moz-3B382411.bbtec.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:26:40] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:27:37] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[00:28:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:28:39] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[00:28:57] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:29:41] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[00:32:11] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[00:32:51] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[00:33:18] *** Joins: jayrulez (Mibbit@42FABD22.7CAE655B.F98CDAFB.IP)
[00:33:55] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:36:52] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:38:01] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:38:39] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:38:51] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:39:11] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[00:39:31] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[00:39:31] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:39:41] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[00:41:36] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[00:43:12] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Connection reset by peer)
[00:44:28] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[00:45:27] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[00:45:27] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:45:55] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[00:46:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:47:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[00:47:40] *** Joins: fyolnish (fyolnish@moz-3CD39E09.uqwimax.jp)
[00:48:38] *** Quits: icebattle (wayne@8A14A542.EBE2EE2B.C7CEC4ED.IP) (Quit: leaving)
[00:49:30] *** Quits: fyolnish (fyolnish@moz-3CD39E09.uqwimax.jp) (Ping timeout)
[00:50:16] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[00:51:48] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[00:52:01] <mcpherrin> Rust needs perl's yada yada operator
[00:52:11] <mcpherrin> it's just so convenient
[00:52:14] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:52:36] <jasom> Why can I move out of an Option in an &mut, but not out of an &mut itself?
[00:52:50] <strcat> mcpherrin: just fail!()
[00:52:57] * strcat shrugs
[00:53:10] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:53:12] <mcpherrin> strcat: You could but it's so much less aestetically pleasing
[00:53:19] <mcpherrin> :-)
[00:54:28] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:54:56] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[00:54:57] *** Joins: FrozenCow (FrozenCow@FE8775B3.C6005F97.AF93AF93.IP)
[00:55:58] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:56:49] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[00:57:19] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:57:30] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[00:58:01] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[00:58:29] *** jorendorff is now known as jorendorff_away
[01:00:29] *** Quits: reima (Instantbir@moz-4D78F5C8.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:04:50] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[01:06:32] *** Quits: Ferreus (ferreus@moz-BFF48DB2.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[01:06:42] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[01:07:54] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:08:39] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[01:09:28] <pcwalton> yay, rust without @str is bootstrapping
[01:09:35] <pcwalton> over 3,000 line diff
[01:11:37] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:13:17] *** Quits: marianoguerra (marianogue@moz-1C6DBA63.dip0.t-ipconnect.de) (Ping timeout)
[01:14:54] *** Quits: FrozenCow (FrozenCow@FE8775B3.C6005F97.AF93AF93.IP) (Ping timeout)
[01:16:09] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[01:16:31] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[01:16:52] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[01:17:10] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:17:29] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[01:19:45] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:20:24] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[01:22:04] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[01:22:06] *** Quits: new_one (new_one@FFA6C699.940F5E39.B3C0173E.IP) (Client exited)
[01:23:31] *** Joins: marianoguerra (marianogue@moz-D1AE6676.dip0.t-ipconnect.de)
[01:25:14] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[01:25:20] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[01:25:55] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[01:26:57] *** Quits: huddler (Mibbit@5DC83108.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:27:01] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[01:27:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:28:10] <ktt3ja> what does "free region" mean? https://github.com/mozilla/rust/blob/master/src/librustc/middle/ty.rs#L476
[01:28:22] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[01:28:57] <dbaupp> ktt3ja: don't have to pay to get one
[01:28:59] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:29:06] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[01:29:17] <ktt3ja> dbaupp: oh you
[01:29:34] <ktt3ja> dbaupp: took me a moment to get it
[01:29:41] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[01:30:34] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[01:31:34] *** Quits: marianoguerra (marianogue@moz-D1AE6676.dip0.t-ipconnect.de) (Ping timeout)
[01:32:51] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[01:34:32] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:37:15] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[01:39:11] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[01:39:35] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[01:41:42] *** jorendorff_away is now known as jorendorff
[01:43:16] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[01:43:24] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[01:43:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[01:45:39] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[01:46:10] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[01:46:46] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[01:48:03] *** Joins: fyolnish (fyolnish@moz-269B8548.uqwimax.jp)
[01:49:46] *** Quits: fyolnish (fyolnish@moz-269B8548.uqwimax.jp) (Ping timeout)
[01:51:03] *** jorendorff is now known as jorendorff_away
[01:52:07] *** Quits: KindOne (KindOne@moz-19E06A3E.dynamic.ip.windstream.net) (Ping timeout)
[01:52:27] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[01:55:54] *** Joins: KindOne (KindOne@moz-44AF5193.dynamic.ip.windstream.net)
[01:57:28] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[02:03:04] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[02:05:39] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[02:06:30] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:10:22] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[02:11:41] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[02:14:09] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[02:14:50] *** Parts: onelson (onelson@moz-DD666EC5.laika.com) ()
[02:15:24] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[02:15:25] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:15:33] *** Joins: new_one (new_one@1C73FAA.8AA374E2.B3C0173E.IP)
[02:15:39] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[02:15:50] <joebobjoe> What's the best client to read the mailing list with? The web interfce is god aweful
[02:17:36] <Earnestly> An email client (MUA)?
[02:19:11] <joebobjoe> hm ok
[02:19:17] <Earnestly> Thunderbird, mutt, alpine, evolution, gnus, etc.
[02:21:59] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[02:22:44] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[02:23:22] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[02:23:57] <mcpherrin> joebobjoe: which web ui are you using?
[02:24:26] <mcpherrin> I exclusively read it in gmail, though I know at least gmane has a UI for it
[02:24:31] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:24:40] <mcpherrin> and I assume there are others
[02:25:07] <mcpherrin> there's also the mozilla hosted pipermail
[02:26:24] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[02:26:27] *** Quits: gwty (gwtypc@BFFD2B64.D9A70983.27560D6E.IP) (Ping timeout)
[02:26:31] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:27:37] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:27:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:28:16] *** jorendorff_away is now known as jorendorff
[02:29:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:30:51] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:32:28] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:32:44] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[02:32:48] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[02:32:48] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:33:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[02:34:36] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:34:39] <bstrie_what> joebobjoe: if you don't want to use your email client, http://thread.gmane.org/gmane.comp.lang.rust.devel/ is usable
[02:35:14] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[02:35:24] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[02:36:00] <bstrie_what> mcpherrin: though I propose that instead of ..., we use !!! :P
[02:37:52] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Quit: victorporof)
[02:38:11] *** emerson is now known as emerson|away
[02:39:15] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:40:57] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[02:41:49] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Ping timeout)
[02:43:57] <mcpherrin> bstrie_what: nah man ... is way better
[02:44:08] *** Quits: killerswan (kevin.cant@moz-1F697F7B.uvs.sntcca.sbcglobal.net) (Connection reset by peer)
[02:44:24] <mcpherrin> In english, ... indicates ommitted text, which is perfect for unwritten code
[02:44:31] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[02:45:36] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[02:46:37] <dbaupp> mcpherrin: I think you'll find english uses … not ... ;P
[02:47:08] <mcpherrin> dbaupp: I'll be okay with that too :-)
[02:47:40] <mcpherrin> defining … to tokenize as fail!("…") would be pretty sweet
[02:47:59] <mcpherrin> Because obviously parsing is the right place to cram such hacks
[02:48:31] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[02:49:35] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[02:51:19] <dbaupp> of course
[02:51:31] <TheHydroImpulse> http://hydrocodedesign.com/2014/01/31/llvm-with-rust/
[02:51:55] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:52:37] <dbaupp> TheHydroImpulse: fwiw, the toplevel file of a executable is conventionally bin.rs, rather than main.rs
[02:52:40] <dbaupp> (minor thing)
[02:53:58] <TheHydroImpulse> dbaupp oh yeah, that's right. Thanks
[02:56:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:57:13] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:58:38] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:58:54] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[02:59:17] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Quit: Ex-Chat)
[03:01:03] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:01:10] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[03:01:19] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:05:35] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[03:05:41] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:06:46] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[03:10:38] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:10:39] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:11:54] *** Joins: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de)
[03:12:37] *** Quits: jayrulez (Mibbit@42FABD22.7CAE655B.F98CDAFB.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:13:11] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[03:13:14] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:14:23] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[03:19:16] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:21:37] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: Learning,...)
[03:23:04] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[03:23:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:24:59] *** Quits: hays (quassel@moz-762EEAA5.washdc.east.verizon.net) (Ping timeout)
[03:25:55] *** Quits: zz_kimundi (kimundi@moz-2148C9CF.dip0.t-ipconnect.de) (Ping timeout)
[03:28:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:29:03] *** Joins: zz_kimundi (kimundi@moz-CC8364D0.dip0.t-ipconnect.de)
[03:29:20] *** zz_kimundi is now known as kimundi
[03:30:02] *** Quits: nfroidure (nfroidure@moz-93494C89.w90-18.abo.wanadoo.fr) (Ping timeout)
[03:30:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:31:02] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[03:31:42] <skrylar> huh
[03:31:47] <skrylar> from_send isn't part of Rc anymore :/
[03:33:02] *** Joins: hays (quassel@moz-A704E4ED.washdc.east.verizon.net)
[03:33:07] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:33:43] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:33:43] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:34:03] *** Joins: hays_ (quassel@moz-49BD9333.washdc.east.verizon.net)
[03:34:57] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[03:35:16] *** Quits: hays (quassel@moz-A704E4ED.washdc.east.verizon.net) (Ping timeout)
[03:35:42] <dbaupp> skrylar: it's no longer necessary
[03:35:50] <dbaupp> Rc::new does everything
[03:35:56] <skrylar> eh
[03:36:21] <skrylar> I apparently can't do the morph design, because putting a vector in to the object retracts the send attribute; and now doing ~T as ~Trait fails because of Sendable
[03:37:51] *** Quits: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com) (Ping timeout)
[03:38:13] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[03:38:22] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[03:38:32] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[03:38:37] *** Joins: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com)
[03:39:39] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[03:40:17] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Ping timeout)
[03:41:20] <skrylar> oh, theres the problem
[03:41:29] <skrylar> it's being fiddly about putting the object in an owned pointer
[03:42:56] <skrylar> j/me scratches head
[03:43:27] <skrylar> "this as ~T" (where this is a ~X) fails to downtype to the trait because the box isn't sendable, yet the object is
[03:43:45] <skrylar> This worked in a previous version; how am I expected to downtype to traits now?
[03:44:41] *** Joins: nfroidure (nfroidure@moz-844D3AA9.w90-18.abo.wanadoo.fr)
[03:45:11] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[03:47:31] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[03:48:52] *** Joins: fyolnish (fyolnish@moz-53F08D76.uqwimax.jp)
[03:49:26] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:50:37] *** Quits: fyolnish (fyolnish@moz-53F08D76.uqwimax.jp) (Ping timeout)
[03:51:44] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[03:51:56] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:52:14] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:53:59] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[03:54:42] *** Joins: fyolnish (fyolnish@moz-53F08D76.uqwimax.jp)
[04:00:59] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[04:01:00] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:01:06] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[04:01:58] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[04:05:56] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:06:49] <rdn> how would one handle an error in a potential Drop trait, e.g. fclose() failure
[04:06:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:08:18] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:08:37] <skrylar> rdn: if a drop fails, it panics and continues unrolling without running further destructors IIRC
[04:08:53] <skrylar> so its best if Drop doesn't fail
[04:09:11] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[04:10:00] *** Quits: claudiu (claudiu@moz-70F9251D.thefacebook.com) (Input/output error)
[04:10:03] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[04:10:24] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[04:12:40] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[04:12:52] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:12:55] <rdn> it seems the only reasonable thing is to make it a method instead of a drop trait (this is a wrapper around a C file-like object that can fail in its close())
[04:14:41] <skrylar> well you'd still want Drop in case they forgot to close it
[04:14:50] <skrylar> you could provide a close method separate from that if you need 
[04:21:14] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[04:22:10] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:25:27] * skrylar waits for rustc to build again, hoping the derpage with ~ pointers is fixed in head
[04:27:29] <ChrisMorgan> rusti: 
[04:27:30] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:27:32] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[04:27:43] <ChrisMorgan> Pretty impressive, huh?
[04:27:47] *** Quits: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[04:27:49] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[04:27:49] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:28:52] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:29:04] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[04:29:16] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[04:29:47] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:29:49] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:30:38] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:31:30] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[04:32:50] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:33:20] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:34:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:35:09] <joebobjoe> Is Rust dependent on libc?
[04:35:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:36:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:36:59] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[04:39:41] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[04:42:18] *** Quits: matthewbot (user@moz-C6814817.ga.at.cox.net) (Client exited)
[04:43:35] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:44:39] *** Joins: an0nymous (Jacob@moz-F04BA440.tx.res.rr.com)
[04:45:11] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[04:45:17] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[04:45:36] <herrwolfe45> hi - does anyone have an example for how to pass a function as an argument to another function in rust?
[04:46:10] <ChrisMorgan> rdn, skrylar: if Drop fails when the owning task has failed, it triggers an abort.
[04:46:12] <ChrisMorgan> rusti: struct Foo;impl Drop for Foo { fn drop(&mut self) { fail!("fail in drop") } }; let _foo = Foo; if true { fail!("main fail"); };
[04:46:13] -rusti- task '<main>' failed at 'main fail', <anon>:10
[04:46:13] -rusti- task '<main>' failed at 'fail in drop', <anon>:10
[04:46:13] -rusti- task failed during unwinding (double-failure - total drag!)
[04:46:13] -rusti- rust must abort now. so sorry.
[04:46:14] -rusti- application terminated abnormally with signal 4 (Illegal instruction)
[04:47:53] <o11c> joebobjoe: normally yes, but rust-core instead of rust-std has a cfg to do without
[04:48:03] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[04:48:20] <o11c> illegal instruction? that's odd
[04:48:31] <ChrisMorgan> rusti: fn one()->int{1}fn call(x: fn()->int)->int{ x() };call(one) // ← herrwolfe45
[04:48:32] -rusti- 1
[04:48:39] <ChrisMorgan> o11c: that's how things abort.
[04:48:44] <o11c> that normally only happens, say, if you compile with -msse but run it on a really old x86
[04:49:02] <o11c> ChrisMorgan: ... what's wrong with SIGABRT, which was made precisely for this purpose?
[04:49:17] <herrwolfe45> thanks ChrisMorgan 
[04:49:30] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[04:49:58] <ChrisMorgan> o11c: SIGABRT is soft and can be caught. That could get messy.
[04:50:04] <ChrisMorgan> (That's my guess, anyway.)
[04:50:25] <joebobjoe> o11c: Can I provide my own c library for compilation with the std lib?
[04:50:42] *** Quits: fyolnish (fyolnish@moz-53F08D76.uqwimax.jp) (Client exited)
[04:50:52] <o11c> ChrisMorgan: that's why libc abort() raises SIGABRT twice (with the default handler set) if the handler returns the first time
[04:51:21] <o11c> SIGILL can be caught too, it's just UB if the handler returns and it was natively generated
[04:51:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:52:45] <ChrisMorgan> o11c: well, fail on fail just runs the abort intrinsic.
[04:52:57] <herrwolfe45> that made my night, thanks!
[04:53:00] <herrwolfe45> exit
[04:53:02] *** Quits: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (Quit: ERC Version 5.3 (IRC client for Emacs))
[04:53:06] <o11c> :q
[04:53:20] <ChrisMorgan> o11c: only if using evil, probably :P
[04:57:08] <skrylar> hrm
[04:57:17] <skrylar> nope, trait dispatch seems to be broken somewhat
[04:57:29] <skrylar> ~T as ~Trait -> cannot pack type that does not fulfill send
[04:57:42] <o11c> I'm always surprised when I hear that people still use emacs ... the days of the ancient holy wars are gone, vim won it for the vi team
[04:58:30] <skrylar> o11c: eh, emacs has a few nice plugins.. yasnippet is better than the vim options, org-mode is okay (though i still prefer a stand-alone outliner, which linux doesn't really have)
[04:59:07] <o11c> sure, but I just want a text editor
[04:59:36] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[04:59:36] *** ChanServ sets mode: +ao brson brson
[05:00:07] <sellout> o11c: Emacs has a vim implementation in there, too, so you’re covered.
[05:00:52] <o11c> numbers look like there are 10x as many vim users as emacs
[05:01:07] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[05:02:01] <skrylar> ChrisMorgan: is there a correct replacement for the above problem, or is it just broken right now?
[05:02:04] <o11c> (one could argue that emacs *really* lost to nano, though)
[05:02:42] <ChrisMorgan> o11c: nothing *ever* lost to nano.
[05:03:06] <o11c> well, all the people who couldn't figure out modal editor used to only have one choice
[05:03:13] <ChrisMorgan> skrylar: I haven't the faintest idea.
[05:03:37] <o11c> so yes, emacs lost to nano
[05:06:15] <skrylar> ChrisMorgan: well, i guess this leads to a case of mental olympics then. *scratches head*
[05:06:29] <skrylar> &x as &Trait still works
[05:06:37] * ChrisMorgan has never, *ever* heard of anyone using nano
[05:07:49] <skrylar> there might be a really roundabout way of using generics and transmute to make a container struct that does it
[05:08:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:08:19] <ChrisMorgan> skrylar: it makes sense, when you think about it.
[05:08:50] <ChrisMorgan> An owned trait object cannot have lifetimes associated with it, so it must be Send.
[05:09:06] <skrylar> 0.8/0.9 allowed ~Foo as ~Bar :\
[05:09:26] <skrylar> 0.10's manual advocates @Foo as @Bar still, though @ is supposed to be in flux
[05:09:49] <ChrisMorgan> What, for a Foo with borrowed pointers?
[05:09:54] <tiffany> I don't know of anyone using nano as a primary text editor
[05:10:07] <tiffany> but there are huge numbers of people who use nano when they ssh into a vps
[05:10:08] <skrylar> ChrisMorgan: no, to downcast Foo to the trait type Bar
[05:10:33] <skrylar> e.g. ThisThing as GuiObject, and then using trait dispatch or keeping a vector of GuiObject
[05:10:37] <ChrisMorgan> skrylar: for a Foo with borrowed pointers?
[05:10:43] <skrylar> no, for an owned foo
[05:11:04] <ChrisMorgan> So no lifetimes associated with it?
[05:11:09] <skrylar> none outside of itself
[05:11:15] <skrylar> (all though, this one doesn't have any even inside of itself)
[05:11:24] <ChrisMorgan> So does it not satisfy Send?
[05:11:29] <skrylar> It does, the box doesn't.
[05:11:43] <skrylar> &foo as &bar works (foo satisfies send)
[05:11:46] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:11:53] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:11:54] <skrylar> the *owned box* to Foo, doesn't satisfy send, and thus doesn't pack 
[05:12:05] *** Quits: halorgium (z@moz-7A333983.spork.in) (Quit: gone)
[05:12:14] <skrylar> "~NewObject{} as ~ImplementedTrait" <- the ~ violates send, yet the compiler recommends doing this
[05:12:44] <dbaupp> it's not the ~ that's violating send
[05:12:52] <ChrisMorgan> OK, I'm really confused.
[05:12:55] <dbaupp> it's NewObect
[05:12:56] <ChrisMorgan> rusti: let foo = 24; ~foo as ~Any
[05:12:57] -rusti- ~std::any::Any:Send
[05:13:06] <dbaupp> ~Trait requires Send by default
[05:13:09] <dbaupp> &Trait does not
[05:13:23] <dbaupp> so &foo as &Trait (almost always) works
[05:13:32] <dbaupp> but ~foo as ~Trait only works when foo: Send
[05:13:36] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[05:13:51] <dbaupp> you can try `~Trait:` to override the default requirement of `Send`
[05:13:51] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[05:14:01] <skrylar> the only thing inside the test object is a owned box to a vector
[05:14:09] <dbaupp> and what's in the vector
[05:14:10] <dbaupp> ?
[05:14:24] <skrylar> Rc's to owned pointers of the Morph trait
[05:14:34] <dbaupp> Rc is not Send
[05:14:54] <dbaupp> and a ~[] vector is Send if and only if it's contents are
[05:15:02] <skrylar> well; i need Rc to keep weak references to specific GUI widgets
[05:15:03] <skrylar> :/
[05:15:06] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:15:39] <skrylar> so it sounds like janking a custom container is needed
[05:15:49] *** Joins: halorgium (z@moz-27C0632C.spork.in)
[05:15:50] <dbaupp> Did you see "you can try `~Trait:` to override the default requirement of `Send`"
[05:15:52] <dbaupp> ?
[05:16:05] <skrylar> i saw it but it sounds like that's not properly rustic to do
[05:16:09] <dbaupp> why?
[05:16:35] <dbaupp> I would've put a caveat on it if it wasn't properly rustic
[05:16:52] <dbaupp> (the only caveat is putting @ inside `~Trait:` is unreliable, but Rc is fine.)
[05:17:11] <skrylar> I don't use @ at all anymore
[05:17:30] <dbaupp> yes, so you're fine
[05:17:41] <dbaupp> use `~Trait:`
[05:18:11] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[05:18:58] <skrylar> "unknown start of token: `"
[05:19:28] * skrylar drops the 1's
[05:19:42] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[05:20:06] *** Quits: halorgium (z@moz-27C0632C.spork.in) (Quit: gone)
[05:20:11] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[05:20:43] *** Joins: halorgium (z@moz-27C0632C.spork.in)
[05:20:49] <skrylar> alright, thank you dbaupp that was what i needed to know
[05:21:05] <skrylar> now i can go back to the other mental olympics of a GUI model in rust
[05:22:11] *** Quits: halorgium (z@moz-27C0632C.spork.in) (Quit: gone)
[05:22:20] <dbaupp> good luck :)
[05:22:34] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:22:43] *** Joins: halorgium (z@moz-27C0632C.spork.in)
[05:22:52] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[05:23:16] <skrylar> yeah.. i was thinking about the discussion earlier how there's less enum-editing to put messages in an enum than having to for every GUI
[05:23:34] <ChrisMorgan> dbaupp: how does ~Trait: make sense? Seems to me that the Send bound is essential for soundness.
[05:23:36] <skrylar> all the web apps essentially work like that
[05:24:00] <skrylar> ChrisMorgan: what if the pointer doesn't need to cross task boundaries?
[05:25:19] <skrylar> (okay, there are a few workarounds to that; store the indices of the controls you care about separate and hope the vector doesn't change; or store UIDs to controls and then scan the vector to look up the handle; then you can drop the Rcs, but it makes the UI less performant)
[05:25:22] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[05:25:54] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:25:58] * ChrisMorgan →
[05:26:29] * skrylar only saw that message as an arrow oO
[05:27:36] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[05:27:39] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[05:29:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:31:11] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:31:21] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[05:32:26] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:33:19] *** nrc is now known as nrc|afk
[05:34:12] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:36:20] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[05:36:32] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:36:56] *** Quits: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[05:37:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:37:29] *** Quits: new_one (new_one@1C73FAA.8AA374E2.B3C0173E.IP) (Client exited)
[05:37:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:38:52] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Client exited)
[05:40:34] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[05:43:38] <jaen> ';[[[[[[[\
[05:44:32] <jaen> @$
[05:45:52] <skrylar> hrmm
[05:46:49] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[05:47:03] <skrylar> well this will require some figuring out; since objects holding weak references to themselves is kind of derp
[05:47:46] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[05:48:30] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:48:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[05:49:19] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[05:49:33] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[05:50:12] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[05:51:03] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[05:58:17] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:58:20] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[05:59:02] *** Quits: KindOne (KindOne@moz-44AF5193.dynamic.ip.windstream.net) (Ping timeout)
[06:00:06] *** Joins: rented_pointer (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net)
[06:00:41] <jaen> ;/...'
[06:00:43] <pzol> Shouldn't an enum be deriving Eq by default??
[06:00:48] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[06:00:59] <jaen> ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]hfrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr76666hyuuuuuuuuuuuuuuuuuuuuuuuuuuuuu88888888888888888888888888888887.llllllllllllllllllllllll\
[06:00:59] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[06:01:30] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[06:02:40] <ion> Oh, cats are programming in Rust as well?
[06:03:21] *** Joins: KindOne (KindOne@moz-D9664B85.dynamic.ip.windstream.net)
[06:04:54] <onelson> my cats only program in python
[06:05:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:05:58] <joelteon> my pythons program in cat :/
[06:06:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:06:32] <mcpherrin> I don't have a cat :-(
[06:06:53] <mcpherrin> joelteon: eevee: are we collecting pokemon here?
[06:07:03] <onelson> heh
[06:07:42] <skrylar> hrm, i know its unsafe, but i'm thinking about keeping a weak reference in an untyped field just for the sake of being able to pull out other Rc's from it to use for the parent tree
[06:07:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:08:04] <skrylar> since the rc points to the object handing them out, it shouldn't leak
[06:08:47] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[06:09:26] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[06:10:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:11:44] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[06:15:13] <mcpherrin> So is there any reasonable way with the standard library to read_lines() out of a TcpStream?
[06:15:13] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:15:26] <mcpherrin> I can't move it into a BufferedReader because then I can't `write` to it anymore?
[06:15:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:17:03] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[06:18:02] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:18:30] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[06:19:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:19:57] <mcpherrin> and get_ref to the inner is no good since it's not mutable
[06:20:47] <mcpherrin> oh I suppose my output can be buffered too
[06:22:22] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[06:23:07] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:23:58] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:24:30] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:25:59] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[06:27:15] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:27:27] *** Quits: rented_pointer (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:29:19] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[06:29:25] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:30:00] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:30:12] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[06:31:13] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:31:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:33:03] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:34:58] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:36:20] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:36:21] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Quit: Lost terminal)
[06:37:37] *** Joins: m_kato (chatzilla@moz-C286AD9A.bitcat.net)
[06:38:09] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:38:37] *** Joins: valenting (Thunderbir@moz-EF716D84.xdsl.toledo.be)
[06:40:11] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:40:12] *** Parts: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) ()
[06:41:23] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:41:54] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[06:43:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:43:19] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:43:48] *** Joins: jdm (jdm@A7937365.8212E19F.1D05C454.IP)
[06:43:49] *** ChanServ sets mode: +o jdm
[06:45:56] *** Quits: valenting (Thunderbir@moz-EF716D84.xdsl.toledo.be) (Ping timeout)
[06:46:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:46:41] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:47:16] * skrylar headsmacks and forgot about having to use Rc<Cell> for mutable things
[06:47:57] *** Quits: KindOne (KindOne@moz-D9664B85.dynamic.ip.windstream.net) (Ping timeout)
[06:49:24] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[06:51:22] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:51:46] *** Joins: KindOne (KindOne@moz-D9664B85.dynamic.ip.windstream.net)
[06:54:22] *** Joins: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu)
[06:58:07] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:58:47] <TheHydroImpulse> Is there a streamlined way to compare two C-like enum types through generic types. If you'd know the types, you could cast them to ints, and then compare, but that doesn't work with generics and enums don't implement the Eq trait. Any ideas?
[07:00:14] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[07:00:42] <skrylar> How would you compare them if you don't know their types?
[07:01:00] <skrylar> You can implement Eq for enums, IIRC
[07:01:31] <skrylar> IIRC there is no auto Eq for enums, because variants have no implicit equality or order unless you desire them to
[07:02:27] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[07:02:41] <TheHydroImpulse> skrylar yeah, I'll have to rethink my model then. The other option would be to specify a trait bound type, but that might not be the right API I want to expose. I'll think about it more, thanks.
[07:03:28] <mcpherrin> erggg issue 11165
[07:04:52] <mcpherrin> basically makes writing an irc client in rust a huge pain
[07:06:54] <skrylar> mcpherrin: well writing the UI for an irc client is a huge pain too :)
[07:07:14] <joebobjoe> Say theoretically that someone, someday, wrote an LLVm backend for AVR. Will Rust's runtime support plugging in an alternative C lib like libavr?
[07:07:43] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[07:07:57] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:08:14] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:10:26] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[07:10:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:10:40] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[07:11:37] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[07:12:23] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[07:12:27] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[07:17:25] *** Joins: tedh (tedh@moz-76BF83CB.z180-91-67.customer.algx.net)
[07:17:31] <mcpherrin> skrylar: oh that part I can handle fine :P
[07:17:38] <mcpherrin> skrylar: just reading and writing stdin/stdout :)
[07:18:32] *** Joins: tedh_ (tedh@moz-76BF83CB.z180-91-67.customer.algx.net)
[07:18:32] *** Quits: tedh (tedh@moz-76BF83CB.z180-91-67.customer.algx.net) (Connection reset by peer)
[07:19:29] *** Quits: tedh_ (tedh@moz-76BF83CB.z180-91-67.customer.algx.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:19:39] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[07:21:41] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[07:22:25] *** Quits: KindOne (KindOne@moz-D9664B85.dynamic.ip.windstream.net) (Ping timeout)
[07:26:23] *** Joins: KindOne (KindOne@D213115A.A68CD9B.34F73994.IP)
[07:30:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:30:37] *** Joins: alonlevy (alon@DDB499CC.D83A7D.81A53753.IP)
[07:31:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:32:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:32:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:32:31] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[07:32:49] *** Quits: alonlevy (alon@DDB499CC.D83A7D.81A53753.IP) (Ping timeout)
[07:32:55] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:34:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:34:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:34:32] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:35:19] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[07:35:56] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[07:36:48] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:37:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:38:43] *** Joins: lahwran (lahwran@lahwran.net)
[07:38:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:46:51] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[07:50:12] *** Joins: fyolnish (fyolnish@moz-1083CC02.uqwimax.jp)
[07:57:35] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[07:57:53] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[08:02:55] *** Joins: squiddy (squiddy@moz-19BAE379.adsl.alicedsl.de)
[08:03:47] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Quit: victorporof)
[08:04:01] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[08:04:57] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[08:06:40] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[08:07:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:07:39] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[08:08:22] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:11:10] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[08:11:25] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[08:11:59] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:12:08] *** Quits: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu) (Ping timeout)
[08:13:08] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[08:13:24] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[08:13:32] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:13:49] *** Joins: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu)
[08:13:56] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[08:14:06] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[08:14:28] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:16:02] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[08:21:40] *** Joins: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net)
[08:24:17] *** Quits: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu) (Ping timeout)
[08:25:34] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[08:25:47] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[08:25:48] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:25:57] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:27:42] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:29:52] *** Quits: Khady (Khady@moz-31F9D77E.khady.info) (Ping timeout)
[08:30:13] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[08:30:13] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Ping timeout)
[08:30:13] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Ping timeout)
[08:30:20] *** Joins: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu)
[08:30:31] *** Quits: robertknight (robertknig@moz-DF72422D.members.linode.com) (Ping timeout)
[08:30:41] *** Quits: davbo (dave@moz-84455EE7.skybroadband.com) (Ping timeout)
[08:31:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:31:10] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[08:31:40] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[08:31:58] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[08:32:25] *** Joins: davbo (dave@moz-84455EE7.skybroadband.com)
[08:32:46] *** Joins: robertknight (robertknig@moz-DF72422D.members.linode.com)
[08:32:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:34:43] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[08:40:26] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:40:28] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[08:43:20] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:43:27] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[08:54:42] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:55:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[08:55:53] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:57:15] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[08:58:08] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:58:10] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Quit: )
[08:58:19] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[09:00:09] *** Quits: jdm (jdm@A7937365.8212E19F.1D05C454.IP) (Ping timeout)
[09:02:17] *** Quits: m_kato (chatzilla@moz-C286AD9A.bitcat.net) (Ping timeout)
[09:04:21] *** jorendorff is now known as jorendorff_away
[09:06:54] *** Joins: kris (kris@moz-427AAEE3.w90-42.abo.wanadoo.fr)
[09:10:44] *** jorendorff_away is now known as jorendorff
[09:11:38] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[09:11:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:13:44] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[09:14:24] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:20:29] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:20:55] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[09:21:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:21:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:22:39] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[09:23:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:28:52] *** flaper87|afk is now known as flaper87
[09:31:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:31:57] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[09:32:44] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[09:33:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:34:36] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:36:40] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[09:37:47] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[09:38:15] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[09:46:01] *** Quits: KindOne (KindOne@D213115A.A68CD9B.34F73994.IP) (Ping timeout)
[09:48:59] *** Joins: KindOne (KindOne@D213115A.A68CD9B.34F73994.IP)
[09:50:57] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[09:51:21] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[09:52:02] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[09:52:16] *** jorendorff is now known as jorendorff_away
[09:52:35] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[09:53:42] *** Joins: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp)
[09:54:48] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:56:18] *** Quits: KindOne (KindOne@D213115A.A68CD9B.34F73994.IP) (Ping timeout)
[09:56:40] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[09:57:12] <jakerr> I think I may have a bug with struct matching and '..' v.s. '_': https://gist.github.com/jakerr/e642256703cc7919ef55
[09:57:22] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[09:58:10] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[09:58:29] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[09:59:38] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[10:00:29] *** Joins: KindOne (KindOne@moz-8917D788.dynamic.ip.windstream.net)
[10:05:34] *** Quits: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu) (Ping timeout)
[10:06:15] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[10:06:16] *** ChanServ sets mode: +o jdm
[10:07:37] *** Joins: kngl (Adium@F16ABDE0.3EF83E22.692B9746.IP)
[10:08:27] *** Quits: kngl (Adium@F16ABDE0.3EF83E22.692B9746.IP) (Quit: Leaving.)
[10:08:55] *** Quits: fyolnish (fyolnish@moz-1083CC02.uqwimax.jp) (Client exited)
[10:09:15] <kimundi> jakerr: Are you sure it is a bug and not just intended behavior?
[10:09:50] *** Joins: kngl (Adium@F16ABDE0.3EF83E22.692B9746.IP)
[10:10:07] <kimundi> jakerr: Also, "zed" would be invalid there anyway
[10:10:12] <jakerr> kimundi: Nope not sure that's why I wanted to ask here first. If anything the error message is confusing
[10:10:45] <pzol> how do I send to a channel and block until the response has been received?
[10:11:00] *** Joins: fyolnish (fyolnish@moz-1083CC02.uqwimax.jp)
[10:11:39] *** Joins: Ms2ger (Ms2ger@85F02772.68361365.692B9746.IP)
[10:11:46] *** Quits: fyolnish (fyolnish@moz-1083CC02.uqwimax.jp) (Client exited)
[10:11:52] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[10:12:37] *** Joins: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu)
[10:12:58] <kimundi> jakerr: I'm not sure myself, but I think the message is correct, and the confusion stems from using the wrong way of struct destructuring syntax
[10:13:29] <jakerr> kimundi: I see
[10:13:43] <jakerr> I actually need to use the real field names?
[10:13:48] <kimundi> A { x, y, z} would be valid. A {.., z} probably too, I think. The full verbose wildcard way would be A { x: _, y:_, z:z }
[10:14:08] *** Quits: kngl (Adium@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[10:14:27] <jakerr> I thought you could destructure into any name of your choosing. Guess I'm thinking of tuples.
[10:14:28] <kimundi> jakerr: yes, A {x,y,z} is just sugar for the regular form A{x:x,y:y,z:z }
[10:14:46] <kimundi> jakerr: You can, but only if you name the fields
[10:14:47] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:14:56] <kimundi> A{x:xed,y:yed,z:zed }
[10:14:57] *** Quits: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net) (Quit: )
[10:15:13] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:15:52] <kimundi> The short for m is for when binding name == field name.
[10:16:18] *** Quits: kvanb (kvanb@moz-92160D21.lns7.lon.bigpond.net.au) (Ping timeout)
[10:16:19] <kimundi> jakerr: AH, I think I just remembered the full reason for the error message
[10:16:36] <jakerr> Oh yeah?
[10:17:03] <kimundi> For a tuple, fields are indicated by their position. So Foo(_,_,a,_) is the only way to get to the third field.
[10:17:34] *** Joins: kvanb (kvanb@moz-92160D21.lns7.lon.bigpond.net.au)
[10:17:38] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[10:17:42] <kimundi> For structs, each field has a name, so you can just leave of the ones you don'T care about: Foo{a: a, ..}
[10:17:45] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[10:18:05] <kimundi> The ineteion, I think is to not have two forms for the same kind of ignoring other struct names
[10:18:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:18:44] <kimundi> jakerr: In your code, does  A{z, ..} => work?
[10:18:49] <jakerr> Makes sense. So the error isn't considering someone might try to put them in the non trailing place for a struct, got it.
[10:19:05] <kimundi> yup
[10:19:41] <jakerr> A{z,...} gives "error: expected ident, found `...`"
[10:19:54] <kimundi> well, it kinda considers it, if you read it again. But yeah, not necessary obvious the first time.
[10:20:00] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:20:06] <kimundi> jakerr: two ., not three
[10:20:15] <jakerr> Ah yes, that's fine.
[10:20:19] <jakerr> works.
[10:20:27] <kimundi> good :)
[10:20:59] <jakerr> Yep! Thanks kimundi :)
[10:21:05] <kimundi> np :)
[10:21:41] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[10:23:18] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[10:25:07] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[10:25:25] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:25:32] <jakerr> pzol: I'm a beginner so take this with a grain of salt but I think the only way is to let the receiving end ack on another channel, and wait on that port after sending.
[10:25:38] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[10:26:47] *** Joins: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP)
[10:27:01] <jakerr> You could probably use this instead of making two separate channels: http://static.rust-lang.org/doc/master/extra/comm/struct.DuplexStream.html
[10:29:17] *** Joins: Khady (Khady@moz-31F9D77E.khady.info)
[10:30:03] *** Quits: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP) (Quit: leaving)
[10:30:10] *** Joins: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP)
[10:30:48] *** Quits: kris (kris@moz-427AAEE3.w90-42.abo.wanadoo.fr) (Ping timeout)
[10:32:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:33:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:34:44] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[10:36:25] *** Joins: rca (rcatolino@moz-BBB12EEA.adsl.proxad.net)
[10:38:37] *** Joins: hazzah (Mibbit@9AC5CCD6.A1674046.E5977C21.IP)
[10:40:46] *** Quits: KindOne (KindOne@moz-8917D788.dynamic.ip.windstream.net) (Ping timeout)
[10:40:48] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[10:41:35] *** Quits: hazzah (Mibbit@9AC5CCD6.A1674046.E5977C21.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:41:42] *** Joins: KindOne (KindOne@moz-85B4BE9F.dynamic.ip.windstream.net)
[10:46:42] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[10:48:20] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[10:48:51] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:50:48] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:52:49] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:53:07] *** Joins: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no)
[10:54:07] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:55:24] *** Quits: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no) (Ping timeout)
[10:56:45] *** Joins: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no)
[10:56:53] *** Quits: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no) (Quit: Leaving)
[10:56:54] <jakerr> pzol: This seems to work. https://gist.github.com/jakerr/12461b173b5f33424fed
[10:59:01] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[10:59:14] *** Quits: Ms2ger (Ms2ger@85F02772.68361365.692B9746.IP) (Ping timeout)
[11:01:10] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:02:36] *** Joins: eibwen (kvirc@moz-74D52C4C.dip0.t-ipconnect.de)
[11:02:37] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:03:01] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Input/output error)
[11:03:25] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[11:03:25] *** ChanServ sets mode: +ao brson brson
[11:08:31] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[11:09:37] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[11:09:43] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[11:09:54] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[11:11:46] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[11:14:52] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[11:15:00] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[11:16:56] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[11:18:31] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:18:54] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[11:19:15] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[11:19:23] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[11:19:24] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:19:36] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[11:19:52] *** Joins: Ms2ger (Ms2ger@F16ABDE0.3EF83E22.692B9746.IP)
[11:20:27] *** Joins: kris (kris@moz-427AAEE3.w90-42.abo.wanadoo.fr)
[11:20:57] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:24:11] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[11:25:58] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[11:26:03] *** Joins: nkoep (nik@moz-5D131CA4.pool.mediaways.net)
[11:26:10] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[11:26:35] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:28:40] *** Joins: Earnestly (earnest@moz-1CE0D638.dyn.plus.net)
[11:31:09] *** Quits: eibwen (kvirc@moz-74D52C4C.dip0.t-ipconnect.de) (Ping timeout)
[11:31:32] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[11:32:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:33:37] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[11:33:47] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:33:48] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[11:34:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:35:00] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[11:35:06] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[11:37:26] *** Quits: rca (rcatolino@moz-BBB12EEA.adsl.proxad.net) (Ping timeout)
[11:40:06] *** Joins: rca (rcatolino@moz-428C471F.adsl.proxad.net)
[11:41:13] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[11:42:18] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[11:43:56] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:50:22] *** Joins: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr)
[11:50:36] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[11:50:36] *** ChanServ sets mode: +o jdm
[11:53:01] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:53:36] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[11:53:46] *** Joins: gwty (gwtypc@275AE1CA.470EC439.27560D6E.IP)
[11:54:10] *** Joins: pranz (pranz@7A64FDC4.BFE7E494.85889BB1.IP)
[11:54:45] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:55:59] <bjz> pranz: o/
[11:56:40] <pranz> bjz, hello again
[11:56:56] <bjz> see, most of us are here :)
[11:57:20] * dbaupp wonders who 'us' are?
[11:57:28] <bjz> rustaceans
[11:57:38] <bjz> rather than on freenode #rust
[11:57:41] <dbaupp> ah
[11:57:49] <dbaupp> hi pranz :)
[11:58:04] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[11:58:20] <jdm> anybody at fosdem by chance?
[11:58:24] * Ms2ger waves
[11:58:24] * jdm is
[11:58:38] <bjz> fosdem?
[11:58:54] <Ms2ger> fosdem.org
[11:59:18] <dbaupp> jdm: doing Rusty/servo-y things?
[11:59:22] <pranz> dbaupp: yoyo
[11:59:25] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[12:00:28] <jdm> dbaupp: yep, 25 minutes on why servo's super cool
[12:00:28] <bjz> Ms2ger: what does it stand for?
[12:00:37] <jdm> free open source developer something something
[12:00:38] <bjz> Ms2ger: cannot find it on the website :P
[12:00:44] <bjz> heh, thought so
[12:01:03] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[12:01:16] <Ms2ger> Free and open source developers European meeting
[12:03:13] <bjz> you'd think they would show that somewhere
[12:04:26] <Ms2ger> You would
[12:04:51] <bjz> :P
[12:04:56] <Ms2ger> Everyone should know it by now :)
[12:06:00] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:06:49] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:11:02] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[12:11:54] <jakerr> I'm curious why the ref keyword is necessary, rather than using & to mean borrowed everywhere. (Don't take this as informed criticism but rather as simple ignorance)
[12:12:09] <jakerr> i.e. match some_owned_thing { Some(&st) => println!("borrowed {:?}" st), None => {} } or something
[12:12:21] <jakerr> rather than match some_owned_thing { Some(ref st) => println!("borrowed {:?}" st), None => {} }
[12:12:34] <Ms2ger> Some(&st) means the opposite
[12:13:19] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[12:13:26] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:13:27] <jakerr> Ah right okay so Some<&MyType>
[12:13:50] <pranz> Is it possible to implement traits for all types of another trait?
[12:13:51] <jakerr> And I want to match Some<~MyType> but borrow the owned ref inside.
[12:13:54] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:14:03] <jakerr> I think I get it now.
[12:14:22] <pranz> i.e "impl MyTrait <T: OtherTrait> for T { ... }
[12:16:21] <dbaupp> jakerr: "&" is kinda the constructor of a &T reference, so that's how you look inside it in pattern matches (like Some(x) etc.)
[12:16:36] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:17:18] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[12:17:30] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:17:39] <dbaupp> pzol: yes, `impl<T: OtherTrait> MyTrait for T { ... }` but...
[12:18:00] <dbaupp> it means that you cannot write a manual impl MyTrait for SomeType { ... } ever
[12:19:11] *** Quits: Ms2ger (Ms2ger@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[12:19:12] <pranz> ahh
[12:19:17] <pranz> not very useful in other words
[12:19:41] <dbaupp> yeah, it's basically just useful for providing extension methods
[12:21:01] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:21:02] *** Joins: nical (nico@F16ABDE0.3EF83E22.692B9746.IP)
[12:22:22] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[12:23:45] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[12:23:58] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[12:24:01] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:24:01] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[12:24:01] *** ChanServ sets mode: +o jdm
[12:24:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[12:24:55] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[12:25:32] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[12:25:37] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[12:25:40] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:26:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:26:38] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[12:27:27] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:27:33] *** Joins: marianoguerra (marianogue@moz-273A6804.dip0.t-ipconnect.de)
[12:28:28] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:30:54] *** Joins: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP)
[12:31:04] <Armavica> Hello, I am trying to follow the execution of rustc with gdb, but the execution flow seems all but unpredictible to me, is that an effect of optimized code?
[12:31:44] <dbaupp> probably
[12:31:59] <dbaupp> iirc there's a configure flag to pass to rustc that builds it without optimisations
[12:32:08] <dbaupp> (but it will be *really* slow)
[12:32:39] <Armavica> if it helps me understanding what happens then I'll go for it
[12:32:42] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[12:32:45] <Armavica> thank you!
[12:32:52] *** Quits: alonlevy (alon@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[12:33:01] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:33:14] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:33:33] *** Quits: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:33:59] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[12:34:39] *** Quits: kvanb (kvanb@moz-92160D21.lns7.lon.bigpond.net.au) (Ping timeout)
[12:34:48] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:34:58] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:39:42] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[12:39:42] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:40:11] *** Joins: kvanb (kvanb@moz-C90B1CF0.lns10.lon.bigpond.net.au)
[12:42:39] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:43:14] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[12:43:27] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[12:43:43] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:44:34] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:46:19] *** Quits: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr) (Ping timeout)
[12:46:36] *** Quits: nical (nico@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[12:47:02] *** Quits: squiddy (squiddy@moz-19BAE379.adsl.alicedsl.de) (Input/output error)
[12:47:18] *** Joins: markos (markos@F16ABDE0.3EF83E22.692B9746.IP)
[12:47:40] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:48:31] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[12:48:37] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[12:48:40] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[12:49:34] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:51:08] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:51:13] *** Joins: Ms2ger (Ms2ger@F16ABDE0.3EF83E22.692B9746.IP)
[12:52:36] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[12:52:44] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[12:52:57] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:53:12] <markos> hi, is it possible to bootstrap rust to another linux architecture, say arm using different build/target options in the configure script?
[12:53:19] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:53:23] *** Joins: Ferreus (ferreus@moz-3C083E18.pools.arcor-ip.net)
[12:53:54] <markos> (note, I'm not talking about android arm, but rather armv7 hardfloat ABI)
[12:54:48] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:54:59] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:57:41] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[13:00:04] *** Parts: kvanb (kvanb@moz-C90B1CF0.lns10.lon.bigpond.net.au) ()
[13:00:19] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:00:32] *** Joins: squiddy (squiddy@moz-19BAE379.adsl.alicedsl.de)
[13:02:54] <markos> oh there is an armhf build already
[13:02:58] <markos> cool
[13:03:06] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:03:31] *** jorendorff_away is now known as jorendorff
[13:04:25] *** jorendorff is now known as jorendorff_away
[13:04:26] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[13:04:52] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:05:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:08:42] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:09:30] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:09:35] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[13:10:46] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[13:11:15] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[13:11:19] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:14:16] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[13:14:17] <mark_edward> can macros expand into multiple statements inside of a function yet?
[13:14:19] *** Quits: gwty (gwtypc@275AE1CA.470EC439.27560D6E.IP) (Ping timeout)
[13:14:24] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[13:14:25] *** Joins: AndroUser (androirc@646380F.C066E967.27647E6F.IP)
[13:14:39] <dbaupp> mark_edward: no
[13:14:59] <eddyb> mark_edward: I hope you can use a block there
[13:15:01] <dbaupp> but you can almost always work around it by just having an exra pair of {}
[13:15:02] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:15:27] <mark_edward> ok, thanks. is that planned to work pre-1.0?
[13:15:41] <eddyb> I thought we fixed it. or maybe just for items
[13:15:46] <dbaupp> just items
[13:16:05] <teosz> hello 
[13:16:07] *** Joins: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP)
[13:16:12] <teosz> i have error at split()
[13:16:13] <teosz> eval.rs:11:13: 11:34 error: type `&'static str` does not implement any method in scope named `split`
[13:16:16] <teosz> eval.rs:11     for i in "abcbbd".split('b') { println!("{:?}", i) }; ^~~~~~~~~~~~~~~~~~~~~
[13:16:57] <dbaupp> rusti: "abcbbd".split('b').to_owned_vec()
[13:16:59] -rusti- ~["a", "c", "", "d"]
[13:17:06] <dbaupp> teosz: code?
[13:17:22] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[13:17:22] *** Quits: koomi (koomi@moz-41AD638A.uberspace.de) (Ping timeout)
[13:18:05] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:18:20] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:19:51] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:20:00] *** Joins: koomi (koomi@moz-41AD638A.uberspace.de)
[13:20:32] <teosz> dbaupp: http://pastebin.com/LhXfNtXW
[13:20:45] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:21:13] <teosz> ?
[13:21:16] <dbaupp> ChrisMorgan: re ~Trait: being unsound: it's not sendable (only `~Trait == ~Trait:Send` is sendable)
[13:21:37] <dbaupp> teosz: weird...
[13:21:39] <ChrisMorgan> dbaupp: but lifetimes?
[13:21:59] <dbaupp> ChrisMorgan: lifetimes?
[13:22:09] <dbaupp> teosz: works for me
[13:22:20] <dbaupp> teosz: oh! what version of rust do you have?
[13:22:26] <teosz>  0.10-pre
[13:22:27] <ChrisMorgan> dbaupp: let x: X<'a>; ~x as ~Trait:, what happens to the lifetime?
[13:22:28] <dbaupp> I think it used to be called .split_iter
[13:22:37] <dbaupp> ChrisMorgan: not valid
[13:22:43] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:22:47] <dbaupp> have to be 'static
[13:22:55] <dbaupp> (as the kind)
[13:23:16] <dbaupp> rusti: ~(&1) as ~Clone:
[13:23:17] -rusti- ~std::clone::Clone<no-bounds>
[13:23:20] <dbaupp> eh
[13:23:33] <ChrisMorgan> Pre-cisely.
[13:23:34] <dbaupp> rusti: let x = 1; ~(&x) as ~Clone:
[13:23:35] -rusti- ~std::clone::Clone<no-bounds>
[13:23:44] <dbaupp> ChrisMorgan: well, it's just a bug
[13:23:45] <ChrisMorgan> That strikes me as a soundness problem.
[13:23:53] <ChrisMorgan> And *that* is what I was getting at earlier.
[13:24:00] <teosz> dbaupp: who i can the split a string the rust ?
[13:24:03] <dbaupp> rusti: @(&1) as @Clone
[13:24:05] -rusti- pastebinned 14 lines of output: http://ix.io/afh
[13:24:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:24:11] <dbaupp> teosz: it used to be called split_iter
[13:24:21] <dbaupp> teosz: just rename the method call
[13:24:31] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:24:31] <teosz> :q
[13:24:33] *** Joins: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr)
[13:24:37] <dbaupp> ChrisMorgan: it is a soundness problem
[13:24:46] <dbaupp> ChrisMorgan: but it's jsut a bug; ~Foo: should act like @Foo in that regard
[13:25:01] <ChrisMorgan> Which is what?
[13:25:01] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[13:25:04] <teosz> why??????????????// split is so simple for that ???????????????????
[13:25:12] <dbaupp> teosz: huh?
[13:25:18] <dbaupp> teosz: "foo".split_iter('a')
[13:25:27] <dbaupp> teosz: is the old form
[13:25:32] <dbaupp> the new form is "foo".split('a')
[13:25:41] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[13:25:45] <dbaupp> but your version of the compiler is from before the change was made
[13:26:02] <dbaupp> so if you update then you get to use .split, if you don't, use .split_iter
[13:26:12] <dbaupp> they're *literally* the same thing, just with different names
[13:26:17] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:26:30] <teosz> dbaupp: three days I bother with thread and this is the wrong ...
[13:26:31] <dbaupp> ChrisMorgan: see the @(&1) thing I put through rusti
[13:26:38] <teosz> dbaupp: three days I bother with thread and this is the wrong ...
[13:26:42] <teosz> ok , thanks
[13:26:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:26:59] <ChrisMorgan> dbaupp: rusti doesn't do #[feature(managed_boxes)]; these days
[13:27:09] <dbaupp> ChrisMorgan: oh
[13:27:10] <dbaupp> oops
[13:27:11] <ChrisMorgan> (Tried it myself, see that it needs to be bounded by 'static, which makes sense.)
[13:27:23] <dbaupp> yeah, that's what I mean
[13:27:27] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[13:27:53] *** Quits: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP) (Ping timeout)
[13:28:20] *** Quits: AndroUser (androirc@646380F.C066E967.27647E6F.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[13:28:27] <thiez> can anyone tell me what I'm doing wrong here:
[13:28:29] <thiez> rusti: let mut x = 5; let y = &mut x; println!("{:?}",*y); *y=*y+1; println!("{:?}",*y);
[13:28:31] * ChrisMorgan will file an issue (not having found one)
[13:28:32] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[13:28:58] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Quit: leaving)
[13:29:01] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[13:29:03] <dbaupp> thiez: writing code that crashes the compiler? you should try to avoid doing that :P
[13:29:09] <thiez> :p
[13:29:13] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Quit: Leaving)
[13:29:19] <thiez> never mind, I just notice it seems to be a rusti issue:
[13:29:19] <teosz> dbaupp: thanks :D is working :D
[13:29:22] <thiez> rusti: 5;
[13:29:22] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[13:29:24] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[13:29:29] <dbaupp> I think that may've been introduced by the lfietime stuff
[13:29:43] <dbaupp> just removing the last semi fixes it, iirc
[13:29:52] <dbaupp> rusti: let mut x = 5; let y = &mut x; println!("{:?}",*y); *y=*y+1; println!("{:?}",*y)
[13:29:53] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:29:53] -rusti- 5
[13:29:54] -rusti- 6
[13:29:54] -rusti- ()
[13:30:03] <thiez> yes sure, but it's kinda weird that returning void kills the compiler there :p
[13:30:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (No route to host)
[13:30:18] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[13:30:31] <dbaupp> yeah, it seems like something the compiler should be able to handle
[13:30:44] <dbaupp> even on a bad day :P
[13:30:53] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:31:04] <eddyb> rusti: version
[13:31:05] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[13:31:10] <eddyb> dbaupp: pretty sure it was fixed since
[13:31:16] <eddyb> bother strcat to update
[13:31:28] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[13:31:37] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[13:31:58] <dbaupp> eddyb: fails for me locally
[13:32:17] <thiez> how did this bug pass the testsuite? :D
[13:32:25] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:32:25] <eddyb> dbaupp: huh? and the compiler never does anything like this?
[13:32:37] <dbaupp> eddyb: https://github.com/mozilla/rust/issues/11709
[13:32:40] <dbaupp> eddyb: apparently not
[13:32:40] <eddyb> that scares me
[13:32:50] <dbaupp> why?
[13:32:58] <dbaupp> apparently we're not storing void into any variables
[13:33:23] <dbaupp> (which seems sensible, since actually doing that in real code would be rather weird.)
[13:33:27] <teosz> dbaupp: and waht is wrong in that http://pastebin.com/QzPVfwNf 
[13:33:29] <teosz> dbaupp: and waht is wrong in that http://pastebin.com/QzPVfwNf ?
[13:33:29] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[13:33:38] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Quit: leaving)
[13:33:41] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[13:33:48] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:34:00] <dbaupp> teosz: no idea, what's the compiler error?
[13:34:09] <thiez> the bug has a nice testcase: 'fn main() { let _r = { 1; }; }'
[13:34:18] <teosz> 5~test.rs:4:17: 4:43 error: type `&'static str` does not implement any method in scope named `split_str`
[13:34:21] <teosz> test.rs:4 let v: ~[&str] = "main.cpp".split_str(".").collect();
[13:34:47] <eddyb> dbaupp said split_iter not split_str
[13:34:53] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[13:34:53] *** ChanServ sets mode: +o jdm
[13:34:54] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[13:34:55] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[13:35:08] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:35:25] <eddyb> thiez: using a zero-sized result of a block?\
[13:35:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:35:36] <teosz> http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.split_str
[13:35:39] <eddyb> rustilite: fn main() { let _r = { 1; }; }
[13:35:39] <teosz> ok thanks
[13:35:42] -rustilite- pastebinned 7 lines of output: http://ix.io/a6T
[13:36:00] <eddyb> fn main() { let _r = {}; }
[13:36:05] <eddyb> err
[13:36:09] <eddyb> rustilite: fn main() { let _r = {}; }
[13:36:11] -rustilite- pastebinned 7 lines of output: http://ix.io/a6T
[13:36:18] <thiez> eddyb: yup it's in the issue for the bug that dbaupp mentioned
[13:36:19] <dbaupp> teosz: it used to ahve a different name too
[13:36:22] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:36:35] <eddyb> dbaupp: found a simpler testcase :P
[13:36:39] <dbaupp> hm, maybe it didn't
[13:36:44] <dbaupp> weird
[13:37:01] <dbaupp> eddyb: put it on the bug
[13:37:04] <eddyb> all the complicated testcases in that issue are silly
[13:37:13] <dbaupp> rusti: fn foo() -> () { {} }
[13:37:15] -rusti- pastebinned 10 lines of output: http://ix.io/afj
[13:37:23] <dbaupp> eddyb: simplifying things is an incremental process ;)
[13:37:27] <teosz> still not working
[13:37:27] <teosz> test.rs:4:17: 4:44 error: failed to find an implementation of trait std::str::CharEq for &'static str
[13:37:31] <teosz> test.rs:4 let v: ~[&str] = "main.cpp".split_iter("."); ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[13:37:32] * dbaupp wins
[13:37:40] <eddyb> rustilite: fn main() {{}}
[13:37:51] <eddyb> dbaupp: you were running it in rusti, though
[13:37:54] <dbaupp> teosz: '.', not "."
[13:38:07] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[13:38:08] <dbaupp> rustilite: fn main() -> () { {} }
[13:38:15] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:38:25] <dbaupp> eddyb: ah, true
[13:38:27] <dbaupp> rusti:
[13:38:30] <teosz> test.rs:4 let v: ~[&str] = "main.cpp".split_iter('.'); ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[13:38:31] <teosz> error: aborting due to previous error
[13:38:47] <dbaupp> teosz: you need the .collect() call still
[13:39:10] <dbaupp> also, you missed the actual error message there (although I can infer it in this case)
[13:39:37] <dbaupp> rusti: let v: ~[&str] = "main.cpp".split('.').collect(); println!("{:?}", v)
[13:39:39] -rusti- ~["main", "cpp"]
[13:39:39] -rusti- ()
[13:39:45] <dbaupp> teosz: ^
[13:39:48] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:39:50] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:39:55] <dbaupp> just change .split to .split_iter
[13:39:57] <teosz> thanks again
[13:40:13] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[13:40:36] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[13:40:41] <dbaupp> rusti:
[13:40:50] <teosz> how i transmit a vecot into function in rust ?
[13:41:07] <dbaupp> rusti: 
[13:41:09] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[13:41:21] <dbaupp> eddyb: ^ there
[13:41:32] <dbaupp> (although it's just your one but in rusti.)
[13:41:53] <dbaupp> teosz: exactly the same as any other function
[13:41:56] <dbaupp> *type
[13:42:27] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:43:20] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:44:01] <teosz> ffn is void , no 
[13:44:03] <teosz> ?
[13:44:10] <teosz> fn * 
[13:44:34] <dbaupp> fn foo() -> ReturnType { ... }
[13:45:22] <teosz> and if i not return in that funtion ?
[13:45:26] *** kimundi is now known as zz_kimundi
[13:45:58] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:46:33] <dbaupp> teosz: I don't understand the question
[13:46:34] <markos> anyone knows how to get passed the atomicity build failure on arm when building master: /usr/lib/gcc/arm-linux-gnueabihf/4.8/../../../../include/c++/4.8/ext/atomicity.h:49:12: error: cannot compile this atomic library call yet
[13:46:34] <markos>   { return __atomic_fetch_add(__mem, __val, __ATOMIC_ACQ_REL); }
[13:47:15] <dbaupp> Luqman: ^
[13:48:04] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:48:06] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[13:48:25] <teosz> teosz:  i figured it alone . I not have other questions .
[13:49:02] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[13:49:47] <eddyb> rustilite: fn main() {()}
[13:49:50] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:50:23] *** Quits: kris (kris@moz-427AAEE3.w90-42.abo.wanadoo.fr) (Ping timeout)
[13:50:38] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[13:51:21] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:51:52] <teosz> what is the string type in rust, str ?
[13:51:57] <Ms2ger> Yep
[13:52:01] <Ms2ger> [sorta]
[13:52:16] <Ms2ger> [str by itself isn't a type
[13:52:19] <Ms2ger> ]
[13:53:14] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[13:53:18] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:53:39] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:54:04] <teosz> eval.rs:3:15: 3:18 error: bare `str` is not a type
[13:54:04] <teosz> eval.rs:3 fn runCode(v: [str])
[13:54:14] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[13:54:21] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[13:54:22] <eddyb> teosz: you want ~[~str] most likely
[13:54:39] <eddyb> Ms2ger: we're approaching DST :D
[13:54:48] <Ms2ger> Hear, hear
[13:55:19] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:56:07] <thiez> DST is almost here, here \o/
[13:58:39] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[13:59:26] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[14:00:08] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:00:17] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Input/output error)
[14:00:48] <teosz> what is the wrong here , again :( http://pastebin.com/SuNuVdY6 ?
[14:00:57] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[14:01:03] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:01:30] <thiez> what error does it give?
[14:02:00] <teosz> eval.rs:16:20: 16:24 error: use of partially moved value: `argm`
[14:02:01] <teosz> eval.rs:16     let bsource =   argm[2];
[14:02:01] <teosz>                                ^~~~
[14:02:01] <teosz> eval.rs:15:8: 15:14 note: `(*argm)[]` moved here because it has type `~str`, which is moved by default (use `ref` to override)
[14:02:03] <teosz> eval.rs:15     let source  =   argm[1];
[14:02:06] <teosz>                    ^~~~~~
[14:02:08] <teosz> eval.rs:17:20: 17:24 error: use of partially moved value: `argm`
[14:02:11] <teosz> eval.rs:17     let iofile  =   argm[3];
[14:02:13] <teosz>                                ^~~~
[14:02:16] <teosz> eval.rs:15:8: 15:14 note: `(*argm)[]` moved here because it has type `~str`, which is moved by default (use `ref` to override)
[14:02:19] <teosz> eval.rs:15     let source  =   argm[1];
[14:02:21] <teosz>                    ^~~~~~
[14:02:24] <teosz> error: aborting due to 2 previous errors
[14:02:59] <markos> ok, all the links I found about building armhf rust seem to imply doing cross-building from x86, when I'm trying to do native building (using the rust pre-0.9 armhf build for bootstrapping) I get a configure error if I default to gcc (tries to pass -m32 option to gcc) or the above atomics error if I try clang. Any idea how to fix/remove the m32 option assumed in configure?
[14:03:22] <dbaupp> teosz: please use a pastebin when pasting that many lines :)
[14:04:37] <thiez> teosz: os::args() gives you a vector with uniquely owned strings. You can't just take those out of the vector
[14:04:46] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[14:04:58] <eddyb> you can probably pattern match them out
[14:05:31] <thiez> or take a reference, or clone, or get a move_iter()
[14:05:39] <dbaupp> .as_slice() works too
[14:05:48] <dbaupp> such options
[14:05:52] <dbaupp> wow
[14:06:47] <eddyb> I really want to be able to do let x = ~"foo"; let ref y = *x;
[14:07:17] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[14:07:18] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[14:07:27] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:07:47] <eddyb> a dereference actually creates a lvalue, which can be represented by &T (but using it as a value causes a copy/move)
[14:07:47] <Yurume> eddyb, `str` as a temporary type?
[14:07:59] <Yurume> not assignable but coercable?
[14:08:09] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[14:08:44] <eddyb> Yurume: nope, dereferences don't actually produce the value type. well, they kinda do in one way, but it doesn't actually happen uness you use them as a value
[14:09:07] <eddyb> so *x produces a &str that will act as str when used as a value (which would be wrong)
[14:09:09] <teosz> ow i use slice ?
[14:09:33] <eddyb> Yurume: I wish rust lvalues were better defined
[14:10:23] *** Ms2ger is now known as Ms2ger|mozdevroom
[14:11:05] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[14:13:07] <teosz> i found it http://stackoverflow.com/questions/15619320/how-to-access-command-line-parameters-in-rust  
[14:14:43] <thiez> rusti: let args = ~[~"foo", ~"bar", ~"garbage"]; match args {  [foo,bar,..] => println!("{:?} : {:?}",foo,bar), _ => fail!("Something went wrong.") }
[14:14:44] -rusti- ~"foo" : ~"bar"
[14:14:44] -rusti- ()
[14:14:50] <thiez> pattern matching is nice too :)
[14:16:08] <teosz> i not understand how i can use the os::args ?
[14:17:17] <thiez> so you could do 'match os::args() { [_, source, bsource, iofile,..] => { your program here }, _ => fail!("Invalid arguments") }'
[14:17:36] <thiez> or something along those lines
[14:18:13] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[14:19:32] <thiez> alternatively, 'let mut args = os::args(); if (args.length() < 4) { print error and exit } else { args.shift(); let source = args.shift().unwrap(); let bsource = args.shift().unwrap(), let iofile = args.shift().unwrap() }
[14:19:53] <thiez> perhaps we should really take some advice from python and try that "there's one way to do it" philosophy
[14:20:02] <teosz> thanks :D
[14:20:06] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[14:20:34] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[14:21:24] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[14:21:25] *** Joins: bt3ze_ (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:21:30] <dbaupp> (avoid using .shift if possible; although it likely doesn't matter with the normal sizes of args().)
[14:22:53] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:22:53] *** Quits: bt3ze_ (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[14:24:16] <teosz> i have error on this
[14:24:18] <teosz> http://pastebin.com/ddAheBXv
[14:25:06] <thiez> oh, shift doesn't produce an option? must have remembered that wrong
[14:25:18] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[14:25:45] <dbaupp> thiez: it does now
[14:25:48] <rca> thiez: it does, since recently. Before that it was shift_opt
[14:25:53] <thiez> right
[14:25:53] <dbaupp> but it used to just fail!() on an empty vec
[14:26:13] <thiez> teosz: change .length() to .len(), and remove the .unwrap() from the shift() results
[14:26:19] <thiez> or upgrade to master :p
[14:26:26] <thiez> .length() is still wrong tho
[14:26:26] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[14:26:49] <thiez> anyway, what are you trying to write?
[14:26:49] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:28:16] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[14:29:26] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[14:30:18] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:30:34] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[14:31:52] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[14:34:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:35:06] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[14:35:18] <mark_edward> how come Encodable isn't implemented for Result<T: Encodable, E: Encodable> ?
[14:36:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:37:12] <eddyb> mark_edward: it's probably missing #[deriving(Encodable)]
[14:42:25] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:42:25] *** ChanServ sets mode: +ao dherman dherman
[14:42:34] *** Joins: yuriks (yuriks@689D27A5.C8910D15.FA4F8D83.IP)
[14:43:04] <dbaupp> eddyb: doesn't work in libstd
[14:43:20] <teosz> how i concatenate a string in rust ?
[14:43:24] <eddyb> teosz: +
[14:43:30] <eddyb> dbaupp: oh, right, extra::serialize/libserialize
[14:44:57] <yuriks> Hmm, this "learn Rust by writing an OS" thing doesn't seem like the most ideal way to go about it... I think I'll re-write some python tools of mine that are in dire need of static typing to practice first :P
[14:46:09] *** Joins: oberstet (quassel@moz-B59E02CE.dynamic.mnet-online.de)
[14:46:23] <teosz> i have error again http://pastebin.com/ULqxtAFQ ... sorry...
[14:47:09] <FreeFull> yuriks: It's probably not ideal unless you want to learn how to write an OS too, or know how to already
[14:47:12] <teosz> where v is ~str
[14:47:29] <yuriks> FreeFull: I've dabbled in it in C before. I know the theory
[14:50:12] <dbaupp> teosz: ".." is &str, not ~str
[14:50:23] <dbaupp> teosz: write ~"-lstdc++"
[14:50:54] <FreeFull> I don't think + makes sense for anything that's not commutative
[14:51:06] <FreeFull> rusti: "abcd" + "efg"
[14:51:07] -rusti- ~"abcdefg"
[14:51:31] <FreeFull> I don't think I can change the other's minds about that though
[14:52:15] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[14:52:53] <dbaupp> I wouldn't disagree with replacing + with .join or something
[14:52:53] <eddyb> FreeFull: |, then :P?
[14:53:07] <eddyb> "a" | "b"
[14:53:43] <dbaupp> rusti: for s in std::iter::count(~"", ~"na").take(3) { print!("{} ", s) }
[14:53:44] -rusti- <anon>:10:18: 10:56 error: failed to find an implementation of trait std::ops::Add<~str,~str> for ~str
[14:53:44] -rusti- <anon>:10         for s in std::iter::count(~"", ~"na").take(3) { print!("{} ", s) }
[14:53:44] -rusti-                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[14:53:44] -rusti- application terminated with error code 101
[14:53:45] <FreeFull> | is commutative too
[14:53:51] <FreeFull> How about ++?
[14:53:56] <dbaupp> :( I thought that worked
[14:53:59] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:54:21] <myname> let's take phps .! 
[14:54:23] * myname runs
[14:54:24] <FreeFull> Which could be used for anything that's associative (but not necessarily commutative)
[14:54:49] <dbaupp> <>
[14:55:23] <dbaupp> (is what haskell's Monoid type class uses)
[14:55:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:56:45] <FreeFull> You know what, ++ would be confusing because of how C uses it
[14:57:13] <FreeFull> So <> would be a better choice, although I think it would be a bit confusing too
[14:58:03] <dbaupp> the other option is to just not have an operator for it :P
[14:58:40] <myname> or to just keep + and don't assume the user is that pedantic
[14:58:49] <dbaupp> (especially since, e.g., a <> b <> c <> d is much more expensive than [a, b, c, d].concat() for vectors and strings.)
[14:59:19] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[14:59:25] <eddyb> dbaupp: oh, yeah
[14:59:34] <eddyb> dbaupp: maybe we should just have += and no +
[14:59:40] <jadbaires> where can I find more info on how "for" loops work?
[14:59:47] <teosz> how i add a element into list in functional flwo ?
[14:59:54] <eddyb> jadbaires: the docs for std::iter
[15:00:01] <jadbaires> thank you eddyb
[15:00:20] <dbaupp> jadbaires: http://static.rust-lang.org/doc/master/guide-container.html#for-loops
[15:00:28] <teosz> flow *
[15:00:44] <dbaupp> jadbaires: and the output of `rustc --pretty expanded` on a (short) program with a for loop in it
[15:01:06] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[15:01:14] <jadbaires> dbaupp: ohh container, I was looking in control structures
[15:01:37] <jadbaires> dbaupp: that desugars syntax?
[15:01:39] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[15:02:27] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:03:02] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[15:03:19] <dbaupp> jadbaires: it expands macros
[15:03:34] <dbaupp> and for is currently implemented as in that pass
[15:03:38] <dbaupp> s/as//
[15:04:35] <dbaupp> (for is the only instance of sugared syntax other than true macros, but it will hopefully move into the compiler itself at some point, to give us nicer error messages.)
[15:06:05] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[15:06:07] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[15:06:50] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[15:12:00] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[15:12:41] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:14:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:14:51] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Client exited)
[15:15:39] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[15:15:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:15:55] *** jorendorff_away is now known as jorendorff
[15:17:29] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[15:18:22] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:18:34] <yuriks> I'm getting liking errors about missing LLVM symbols when linking rustc on git master. Anyone knows what's up?
[15:19:19] <yuriks> http://hastebin.com/ferohofoxu.txt < errors
[15:20:26] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[15:20:29] <dbaupp> yuriks: make clean and then rebuilding normally fixes that
[15:20:37] <yuriks> bah :(
[15:21:04] <yuriks> time to go make another cup of coffee in the meantime I guess
[15:21:08] <dbaupp> don't have to rebuild LLVM
[15:21:09] <dbaupp> just RUst
[15:21:28] <yuriks> hm, I thought make clean cleaned llvm too
[15:22:14] <thiez> make clean-llvm also cleans llvm
[15:22:48] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[15:23:58] <thiez> but at that point you might as well delete your entire build directory, recreate it, and compile everything
[15:24:44] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:27:10] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:28:54] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[15:28:59] *** jorendorff is now known as jorendorff_away
[15:29:15] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:30:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:33:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[15:33:48] *** Joins: mib_u6f5gj (Mibbit@moz-128A90C8.cable.virginm.net)
[15:34:09] *** Parts: mib_u6f5gj (Mibbit@moz-128A90C8.cable.virginm.net) ()
[15:34:41] <eddyb> rustilite:  fn main() { let _ = {}; }
[15:34:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:35:16] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[15:35:20] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:35:46] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[15:35:55] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[15:36:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:36:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:37:39] *** zz_kimundi is now known as kimundi
[15:41:32] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:42:31] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[15:42:50] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[15:43:38] *** jorendorff_away is now known as jorendorff
[15:45:11] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[15:45:22] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:45:50] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:47:21] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:48:20] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:50:20] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[15:50:38] *** Joins: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP)
[15:50:57] *** Joins: reima (Instantbir@moz-6615EE69.dip0.t-ipconnect.de)
[15:53:17] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[15:54:19] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:54:24] *** Quits: yuriks (yuriks@689D27A5.C8910D15.FA4F8D83.IP) (Ping timeout)
[15:55:02] *** jorendorff is now known as jorendorff_away
[15:55:35] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[15:55:35] *** ChanServ sets mode: +o jdm
[15:55:59] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:57:14] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[15:58:08] *** Joins: yuriks (yuriks@FAC97ED5.A9CCF389.F3163DCD.IP)
[15:58:59] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:59:06] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[16:00:48] <nyuszika7h> wait
[16:00:51] <nyuszika7h> are you telling me
[16:01:00] <nyuszika7h> the Rust compiler is written in Rust
[16:01:17] <eddyb> nyuszika7h: yes, for probably more than a couple years now
[16:01:28] <nyuszika7h> I didn't even know Rust has existed for so long
[16:01:33] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[16:01:49] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[16:02:34] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:02:39] *** Joins: hays (quassel@moz-4C333398.washdc.east.verizon.net)
[16:02:39] <yuriks> what was the original prototype compiler written in? C++?
[16:02:46] <kimundi> ocaml
[16:03:09] *** Quits: hays_ (quassel@moz-49BD9333.washdc.east.verizon.net) (Connection reset by peer)
[16:05:03] <eddyb> hmpf. maybe it's time to move from src/libfoo to lib/foo
[16:06:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:06:43] *** ChanServ sets mode: +ao dherman dherman
[16:06:59] <aurynj> i don't sure
[16:08:24] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[16:08:43] *** Quits: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net) (Input/output error)
[16:09:09] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[16:09:30] <dbaupp> https://github.com/mozilla/rust/commit/6997adf76342b7a6fe03c4bc370ce5fc5082a869 is the commit that removed the OCaml compiler completely
[16:10:23] <dbaupp> (it's a rather large page... sorry)
[16:10:49] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[16:11:56] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[16:12:21] *** Quits: hays (quassel@moz-4C333398.washdc.east.verizon.net) (Ping timeout)
[16:12:43] <kimundi> hm, so self hosting since at least three years
[16:13:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[16:13:24] <dbaupp> kimundi: it's been self hosting for slightly less
[16:14:18] <kimundi> ba, that github commit date is rounding up then :P
[16:14:34] <dbaupp> yup, rounding up like 4 months
[16:14:43] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[16:15:53] <SiegeLord> Was the OCaml compiler faster or slower?
[16:17:28] <kimundi> compared to what?
[16:17:38] <dbaupp> I don't think it's necessarily possible to compare
[16:17:40] <kimundi> The initial rustc that replaced it?
[16:17:41] <SiegeLord> What replaced it
[16:17:44] <SiegeLord> Yep
[16:17:53] <thiez> I imagine it was faster
[16:17:58] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[16:18:01] * kimundi has no idea
[16:18:22] *** Joins: achim (achim@moz-4165261.dip0.t-ipconnect.de)
[16:18:31] <SiegeLord> Hmm... I wish there was a lint for useless type bounds
[16:18:43] <SiegeLord> It'd fix up std::num::Zero too >:)
[16:18:52] <kimundi> SiegeLord: write one! :P
[16:19:18] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[16:19:22] <kimundi> (what would be a example of a useless type bound?)
[16:19:53] <SiegeLord> struct Foo<T>; impl<T: EveryTraitInExistence> Foo<T> {}
[16:20:13] <bstrie_what> SiegeLord: almost certainly faster, 1) because perhaps only 5% of the language features were actually implemented (no borrowck, no regions, no monomorphization, no owned pointers), and 2) because it doesn't have to do the self-hosting-compiler triple-compile dance
[16:20:52] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[16:21:06] <thiez> the initial compiler after OCaml suddenly implemented all the language features? :p
[16:21:26] <bstrie_what> thiez: if by "suddenly" you mean "three years later" :P
[16:21:32] * kimundi is unsure wether "no features" equals "fast" :P
[16:21:53] <thiez> we were comparing to the initial compiler that replaced it, not the one we have now :)
[16:22:01] <thiez> naturally that comparison would not make much sense
[16:22:12] <mark_edward> does the all() method on iterators deplete the iterator?
[16:22:36] <dbaupp> yes
[16:22:45] <bstrie_what> thiez: well then it was almost definitely slower because rustc was hardly optimized at all at that stage :P
[16:22:46] <dbaupp> well, it runs until it finds a false
[16:22:46] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[16:22:47] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[16:22:56] <bstrie_what> and by rustc I mean both the compiler itself and the codegen it produced
[16:23:09] <mark_edward> dbaupp, that would be nice to have in the docs. it's somehwat unexpected/surprising behavior.
[16:23:29] <kimundi> mark_edward: How is it surprising?
[16:23:33] <dbaupp> mark_edward: what else would it do?
[16:23:40] <dbaupp> SiegeLord: https://github.com/mozilla/rust/issues/8366
[16:23:55] <thiez> perhaps it would make sense for all() to take ownership of the iterator?
[16:24:01] <kimundi> I mean, it obviously should be in the docs, but apart from that?
[16:24:03] <SiegeLord> dbaupp: Hah, every time. There are no new issues under the sun
[16:24:04] <mark_edward> i dunno, but i wouldn't expect a predicate like that to make the iterator unusable after that. 
[16:24:13] <dbaupp> thiez: ownership is more restrictive
[16:24:26] <dbaupp> (than taking &mut)
[16:24:45] <SiegeLord> And it's closed too... what a shame
[16:25:13] *** bstrie_what is now known as bstrie_boot
[16:25:16] * o11c wishes, not for the first time, that ForwardIterator was considered the basic iterator concept and InputIterator was trapped in hell forever
[16:25:17] <thiez> yes naturally, but you get back an iterator that is in a rather unpredictable state
[16:25:34] <kimundi> mark_edward: But the way Iterators are implemented does not allow for anything else to happen. :P
[16:25:34] <dbaupp> o11c: isn't that what we have?
[16:25:51] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:26:22] <dbaupp> (and any other way to implement them would be not as general and so less flexible; e.g. port.messages() wouldn't work if .any was supposed to leave the iterator intact.)
[16:26:24] <o11c> dbaupp: if that's so, why doesn't it make a copy and leave the original unchanged? That's the whole point of ForwardIterator
[16:26:31] <kimundi> o11c: Could you explain those two terms?
[16:26:44] <o11c> kimundi: from C++ terminology:
[16:27:09] <thiez> rusti: let mut it = (~[1,2,3,4,5,6]).move_iter(); it.all(|x|x<3); it.next()
[16:27:10] -rusti- Some(4)
[16:27:13] <dbaupp> kimundi: http://www.sgi.com/tech/stl/ForwardIterator.html http://www.sgi.com/tech/stl/InputIterator.html
[16:27:18] <o11c> InputIterator provides *it and ++it, and you not allowed to multipass
[16:27:33] <o11c> ForwardIterator is just an InputIterator that provides a meaningful copy
[16:27:33] <thiez> ^ that is surprising.
[16:27:57] <dbaupp> o11c: (I got the terminology mixed up, you are correct that our Iterator is InputIterator)
[16:28:07] <o11c> if moves had existed at the time, InputIterator would have been specified as "has only a move ctor"
[16:28:15] <eddyb> sgi? cppreference has much better docs
[16:28:23] <dbaupp> thiez: it's a natural consequence of &mut and short circuiting
[16:28:25] <kimundi> o11c: So, how is that different in Rust? Our Iterator is a InputIterator, and if it implemnts Clone it is also usable as a ForwardIterator
[16:28:28] <dbaupp> eddyb: first results on google :P
[16:28:47] <o11c> and, well, it turns out that 90% of tasks either require ForwardIterator or are implemented more efficiently by it
[16:29:18] <thiez> dbaupp: sure it is, but my point is that all() leaves the iterator in a rather unpredictable state that is, as far as I can tell, pointless to use from that point
[16:29:22] <kimundi> How can something that does a copy can be faster than something that doesn't do one?
[16:29:22] <dbaupp> ForwardIterator: Iterator<T> + Clone
[16:29:39] <pranz> I'm getting "error: unresolved name println" when trying a simple hello world program
[16:29:51] <dbaupp> thiez: it gives you the element after the one for which the predicate failed
[16:29:53] <pranz> my code is exactly like the example in the tutorial
[16:30:10] <dbaupp> thiez: so it might seem "unpredictable" but it's entirely deterministic
[16:30:12] <thiez> dbaupp: yes, but are those semantics useful? :p
[16:30:12] <eddyb> kimundi: the copy is usually going to be optimized away
[16:30:20] <eddyb> kimundi: our vector iterators are just two pointers
[16:30:32] *** Quits: markos (markos@F16ABDE0.3EF83E22.692B9746.IP) (Client exited)
[16:30:42] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:30:43] <eddyb> dbaupp, kimundi: http://en.cppreference.com/w/cpp/concept/InputIterator and http://en.cppreference.com/w/cpp/concept/ForwardIterator
[16:30:44] <dbaupp> thiez: because it's a natural consequence of &mut and short circuiting... having any other behaviour would require being explicitly implemented
[16:30:57] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[16:31:05] <thiez> dbaupp: in what scenario would a user continue to use that iterator that is not a bug?
[16:31:07] <dbaupp> thiez: (and I don't think taking `self` by-value is a good solution)
[16:31:12] <kimundi> dbaupp: I actually think thiez has a point here - all any any on Iterators short circuit, which is fine. But leaving the iterator useable afterwards seems kinda confusing, as we already have skip_While and take_while for that
[16:31:44] <dbaupp> although I do see your point that reusing the iterator after calling .all would be weird
[16:32:07] <kimundi> eddyb: I know that they optimize out - which is why I find it strange to reject InputIterators, as there is not much of a difference :P
[16:32:22] *** Quits: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP) (Ping timeout)
[16:33:19] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[16:33:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:33:50] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[16:34:01] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:34:54] <kimundi> pranz: println is no longer in the prelude, the canonical way is to use the println! macro. which version of Rust are you using, and at what version of docs do you look at?
[16:35:20] <kimundi> rusti: println!("{} world!", "Hello");
[16:35:23] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[16:35:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:35:34] *** Ms2ger|mozdevroom is now known as Ms2ger|wikidevroom
[16:35:40] <kimundi> GOd that ICE ._.
[16:35:55] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:36:11] <kimundi> rusti: println!("{} world!", 5u);
[16:36:13] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[16:36:30] * kimundi gives up
[16:36:35] <pranz> kimundi: yeah, figured out that it worked with "use std::io::println"
[16:36:44] <pranz> kimundi: but why is println! preferred?
[16:37:06] <eddyb> pnkfelix's talk is going to kill my ears :/
[16:37:11] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:37:19] <dbaupp> kimundi: remove the `;`
[16:37:21] *** Quits: Ms2ger|wikidevroom (Ms2ger@F16ABDE0.3EF83E22.692B9746.IP) (Ping timeout)
[16:37:24] <eddyb> left/right are out of sync by a few hundred millies
[16:37:28] <dbaupp> rusti: println!("{} world!", 5u)
[16:37:29] -rusti- 5 world!
[16:37:29] -rusti- ()
[16:37:32] <kimundi> pranz: The idea is that println! should be able to print everything println does, and more. In practice thats currently not the case though.
[16:37:42] <pranz> hhmm
[16:37:45] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:37:59] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[16:38:00] <kimundi> eddyb: Only one solution: shot out one of you speakers/headphones :P
[16:38:18] <eddyb> kimundi: or use the laptop speakers instead :P
[16:38:42] <kimundi> how does that improve the sync issue?
[16:38:50] <eddyb> I can't hear it
[16:39:02] <kimundi> haha
[16:39:16] <eddyb> that is, the two channels are mixed, so I can't hear the difference, it's just a tiny echo
[16:39:34] <eddyb> (mixed in mid-air not by software/hardware)
[16:39:47] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[16:40:22] *** Joins: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net)
[16:40:46] <pranz> are there any maintained bindings for a graphics/media library? I would like to toy around with making a game in rust
[16:40:57] <eddyb> pranz: check #rust-gamedev
[16:41:07] <pranz> sdl-rust fails to install with the latest master
[16:41:14] <pranz> eddyb: cool thanks
[16:42:08] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[16:42:29] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[16:44:13] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[16:44:56] *** Quits: Kxepal (Miranda@moz-951C3442.pppoe.mtu-net.ru) (Ping timeout)
[16:46:31] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[16:46:37] <SiegeLord> rust-ci is a good place to look for up-to-date libraries
[16:48:02] <reima> Is it sensible to do text.chars().collect() and work with that if I want to do lots of char related stuff (char_len, slice_chars etc.)?
[16:48:19] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[16:48:25] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[16:52:03] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[16:52:13] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[16:53:50] <reima> Or should I use to_utf16()?
[16:54:01] <reima> Oh wait, surrogate pairs
[16:54:43] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:54:50] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[16:56:13] <eddyb> reima: you can't use a stream of characters?
[16:56:16] <kimundi> reima: If you don't mind the allocation, and are doing a lot of work with the chars, then go for it. :)
[16:56:27] <bvssvni> what is the best way to convert a str to bytes?
[16:56:29] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:56:37] <eddyb> bvssvni: .as_bytes()
[16:56:37] <kimundi> bvssvni:  as_bytes()
[16:56:45] <eddyb> (there's no conversion involved)
[16:56:57] <bvssvni> eddyb, kimundi: thanks
[16:57:43] <kimundi> reima: just keep in mind that a char is 32bit, so you will potentially quadruple the memory footprint of your program for that string
[16:57:45] *** Joins: Ms2ger (Ms2ger@moz-65ECCC42.ugent.be)
[16:58:06] *** Joins: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net)
[16:58:10] *** Joins: markos (markos@F16ABDE0.3EF83E22.692B9746.IP)
[16:58:12] *** Ms2ger is now known as Ms2ger|officedevroom
[16:58:16] *** Ms2ger|officedevroom is now known as Ms2ger|docsdevroom
[16:58:20] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:58:22] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:58:52] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:58:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:59:15] <reima> eddyb: Streams are no good for the algorithms I have in mind, e.g. computing the overlap of two strings (longest suffix of text1 which is a prefix of text2)
[16:59:23] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:59:36] <eddyb> reima: can't you use bytes for that?
[16:59:42] *** Quits: japaric (japaric@BA37D376.D2FA42B.95AFB88D.IP) (Ping timeout)
[16:59:47] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Ping timeout)
[17:00:42] <sp3d> seems like you could--canonicalize, overlap, and then trim invalid excess from the ends
[17:01:13] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:01:30] <SiegeLord> Hmm... you can't clone stack closures, right?
[17:01:38] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[17:01:39] <reima> eddyb: I'm not sure actually. I'm afraid of chopping characters in half that way, but maybe that cannot happen anyway?
[17:01:40] *** Joins: japaric (japaric@BA37D376.D2FA42B.95AFB88D.IP)
[17:02:11] <eddyb> reima: it's relatively trivial to check if a byte is not the start of a character - see also what sp3d said
[17:02:22] <eddyb> SiegeLord: nope
[17:02:34] <mjrosenb> so I'm reading through the rust tutorial, and have some questions: Is it possible to have a struct with a single mutable field?
[17:02:50] <SiegeLord> Does it make sense to pointers to closures?
[17:02:53] <SiegeLord> *clone
[17:02:56] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[17:03:05] <kimundi> mjrosenb: mutability is not a property of a field
[17:03:20] <eddyb> SiegeLord: well, &T is implicitly copiable
[17:03:26] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[17:04:03] <SiegeLord> I feel like there's some aliasing going on in there...
[17:04:07] <kimundi> mjrosenb: Mutability is inherited from the owner: put the struct in a mutable location, and you can modify the field. put it in a immutable location, and you can not modify it.
[17:04:17] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:04:17] *** ChanServ sets mode: +ao dherman dherman
[17:04:35] <SiegeLord> Like if I create two pointers to a closure that mutates something, I can then mutate that thing from two places
[17:05:01] <reima> eddyb, sp3d: I suppose I could try that, thanks!
[17:05:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:05:39] <mjrosenb> kimundi: right, so if the struct is in a mutable location then all of its fields are mutable.  yes?
[17:05:51] <eddyb> SiegeLord: if closures were replaced by &mut FnMut, you couldn't call them through &&mut FnMut, only &mut &mut FnMut
[17:05:51] <kimundi> mjrosenb: correct.
[17:06:03] <SiegeLord> eddyb: Yeah, that's what I'm getting at
[17:06:05] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[17:06:11] <SiegeLord> It might work today, but I don't think it should
[17:06:16] <SiegeLord> And &mut is not clonable
[17:06:22] <SiegeLord> I'll just not try it
[17:06:30] <eddyb> SiegeLord: you can still have two closures that can mutate the same local - but that's closer to Cell
[17:06:31] <mjrosenb> that is kind of sad.
[17:06:52] <kimundi> mjrosenb: What do you need it for?
[17:07:05] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[17:07:33] <eddyb> mjrosenb: we still don't provide the TBAA information to LLVM for it to optimize fields that are constant after the structure's creation
[17:07:43] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[17:07:53] <mjrosenb> kimundi: I basically want to keep track of how often I see something, so there is a struct with a count field, and an 'object' field.  the object shouldn't ever change, but I want to increment the count.
[17:07:59] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[17:08:40] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[17:08:44] <teosz> how i add a element into list in functional flow ?
[17:08:55] <yuriks> is there something in the standard library for parsing integers from a byte sequence?
[17:09:01] <mjrosenb> another question: is there any built in list type, like in haskell/sml/scheme, or do I have to go implement it myself like the example in the tutorial?
[17:09:02] *** Quits: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:09:02] <eddyb> teosz: what kind of list and what do you mean by "functional flow"?
[17:09:12] <eddyb> (also, how come nobody answer that in so many hours)
[17:09:18] <eddyb> yuriks: there's from_str
[17:09:21] <Ms2ger|docsdevroom> yuriks, from_str(from_utf8())?
[17:09:48] <yuriks> ah, I don't mean parsing from a string, but e.g. reading a u16 from two bytes
[17:10:02] <eddyb> yuriks: the Reader trait
[17:10:04] <mjrosenb> eddyb: TBAA?
[17:10:05] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[17:10:14] <eddyb> mjrosenb: type-based aliasing analysis
[17:10:28] <teosz> eddyb: in haskell zip [1,2,3] [2,3,4]
[17:10:37] <eddyb> I *think* it allows you to specify a field as constant
[17:10:45] <mjrosenb> eddyb: ahh.
[17:11:10] <mjrosenb> teosz: that isn't adding an element to a list from what I can tell.
[17:11:11] <eddyb> teosz: that produces [(1, 2), (2, 3), (3, 4)] no?
[17:11:16] <kimundi> mjrosenb: There are ways to get around that mutability stuff though - I think Cell/RefCell would allow you to implement that.
[17:11:34] <sp3d> yuriks: there's stuff like std::io::Reader::read_be_u16 with a MemReader
[17:11:35] <eddyb> well, Cell for the counter and have the entire structure constant
[17:11:40] <teosz> yes
[17:11:47] <eddyb> teosz: that's zip
[17:11:52] <yuriks> eddyb, sp3d: yeah, that looks like what I want, thanks
[17:11:59] <teosz> how i use in rust ?
[17:12:15] <kimundi> mjrosenb: We have vectors, which can be considered a build-in list type. Its just not a linked list
[17:12:16] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:12:24] <eddyb> rusti: [1,2,3].iter().zip([2,3,4].iter()).collect::<~[int]>()
[17:12:27] <eddyb> err
[17:12:28] -rusti- pastebinned 14 lines of output: http://ix.io/afz
[17:12:31] <eddyb> rusti: [1,2,3].iter().zip([2,3,4].iter()).collect::<~[(int, int)]>()
[17:12:34] -rusti- pastebinned 26 lines of output: http://ix.io/afA
[17:12:34] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[17:13:07] <eddyb> rusti: [1,2,3].iter().map(|&x| x).zip([2,3,4].iter().map(|&x| x)).collect::<~[(int, int)]>()
[17:13:08] -rusti- ~[(1, 2), (2, 3), (3, 4)]
[17:13:21] <eddyb> one of these days someone will go ahead and implement vals/values
[17:13:26] <teosz> thanks :D
[17:13:37] <mjrosenb> kimundi: does it have a fast append/cons operation?
[17:13:56] <eddyb> mjrosenb: it's a vector
[17:14:16] <eddyb> the new one is very close to C++'s std::vector
[17:14:49] <mjrosenb> so, it is usually fast to append, never to prepend, and sometimes there is a big delay as it copies the underlying storage?
[17:14:53] <kimundi> mjrosenb: Well, append/push is amortized O(1) because it pre allocates. cons is O(n).
[17:15:02] <kimundi> yeah
[17:15:05] <eddyb> appending is a push, which may reallocate the backing storage (should only happen only once in a while in most contexts)
[17:15:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:15:22] <eddyb> you rarely need to unshift, though
[17:15:31] <eddyb> kimundi: do we have a deque equivalent yet?
[17:15:38] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[17:15:50] <eddyb> that has amortized O(1) push/pop/unshift/shift
[17:15:55] <sp3d> extra::container::Deque?
[17:16:20] <sp3d> impl'd on extra::dlist::DList
[17:16:21] <eddyb> sp3d: sounds old. I know strcat was implementing one, maybe just for rust-core
[17:16:26] <sp3d> yeah, it's probably slow
[17:16:33] <kimundi> Is a Deque just a vector that grows in both directions?
[17:16:46] <strcat> eddyb: there is a faster ring buffer in rust-core
[17:16:55] <teosz> and how i can add a elemnt at the final of the list ?
[17:16:58] <eddyb> kimundi: it's either a vector of chunks or a doubly-liked list of chunks, AFAIK
[17:17:11] * strcat needs to make an xml parser
[17:17:16] <eddyb> teosz: we don't have lists :P
[17:17:18] <strcat> all the xml libs suck
[17:17:36] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[17:17:41] <teosz> and how i can add a elemnt at the final of the vector * ?
[17:17:42] <strcat> I want http://zserge.bitbucket.org/jsmn.html for xml ;s
[17:17:43] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[17:17:44] <eddyb> teosz: so, as part of the iterator or the vector? performance-wise, chaining iterators is faster
[17:17:57] <eddyb> teosz: .push(x) on a vector
[17:18:00] <kimundi> rusti: let mut v = ~[1, 2, 3]; v.push(4); v
[17:18:01] -rusti- ~[1, 2, 3, 4]
[17:18:06] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[17:19:02] <mjrosenb> ok, can I ask for a vector of a given size (e.g. 2,000,000)?
[17:19:15] <eddyb> mjrosenb: from_elem/with_capacity
[17:19:25] <kimundi> mjrosenb: You can create one with a such a initial capacity, yeah
[17:19:32] <mjrosenb> eddyb: cool, is there documentation on this somewhere?
[17:19:35] <eddyb> mjrosenb: both preallocate, from_elem also fills all the elements with a value
[17:19:37] <eddyb> mjrosenb: the docs?
[17:20:02] <eddyb> kimundi: I'm surprised we don't have http://rust-lang.org in the topic :P
[17:20:08] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:20:32] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:20:49] <mjrosenb> eddyb: std, extra, or other?
[17:20:55] <eddyb> mjrosenb: std
[17:21:14] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:21:32] <kimundi> mjrosenb: Note that our doc pages for vectors and strings are a bit convoluted, as they currently don'T have a own type page in the docs
[17:21:45] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[17:21:49] <kimundi> So you need to look at the str and vec module page, and then at the traits in it
[17:21:57] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:22:03] <eddyb> mjrosenb: the search bar is also your friend
[17:22:13] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:22:15] <teosz> thanks
[17:22:28] <mjrosenb> grrr, the keyboard shortcuts menu keeps popping up.
[17:23:05] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[17:23:10] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:23:24] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:23:25] * mjrosenb tries this without mutability first
[17:23:34] <teosz> still not function http://pastebin.com/Ybwp917D
[17:23:35] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:23:39] <teosz> on 0.10pre
[17:24:35] <kimundi> teosz: You are using rusti ? Cause that got removed somewhere during 0.8
[17:24:40] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:25:01] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:25:06] <kimundi> Need to write a actual source file, and run rustc on it
[17:25:25] <eddyb> kimundi: might explain his previous weird errors :P
[17:25:29] <kimundi> yeah
[17:25:35] <eddyb> "/home/teodor/Downloads/rust-0.8/src/libsyntax/diagnostic.rs:98"
[17:25:52] <kimundi> teosz: rusti here is not the rusti that used to be part of the rust distribution
[17:26:12] <kimundi> so typing what works here into it will not work
[17:26:36] <mjrosenb> are there anonymous functions? I don't see the phrase 'anonymous' in the tutorial.
[17:26:52] <kimundi> mjrosenb: Yes
[17:26:52] <eddyb> mjrosenb: we have stack closures
[17:26:54] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:26:56] <eddyb> and heap once closures (procs)
[17:27:11] <eddyb> which languages use "anonymous"? I think I only know JS that does
[17:27:14] <strcat> teosz: rusti has been gone for a while
[17:28:13] <mjrosenb> eddyb: you man that calles unnamed functions "anonymous"?
[17:28:34] <eddyb> mjrosenb: yeah
[17:28:37] <kimundi> mjrosenb: To elaborate, function pointer, stack closures and procedures are all just values in Rust that you can pass around without giving them a name. the latter two have a construction syntax to allow creating them anonymously
[17:28:40] *** Quits: Ms2ger|docsdevroom (Ms2ger@moz-65ECCC42.ugent.be) (Ping timeout)
[17:29:03] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Client exited)
[17:29:24] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Ping timeout)
[17:29:56] <kimundi> rusti: fn foo() -> uint { 1 } let f = foo; let g = || 2; let h = proc() 3; (f(), g(), h())
[17:29:58] <mjrosenb> eddyb: pretty sure both haskell and sml call them that.
[17:29:58] -rusti- (1u, 2, 3)
[17:30:07] <kimundi> mjrosenb: see above ^
[17:30:13] <eddyb> mjrosenb: I've heard of lambdas in haskell
[17:30:24] <eddyb> kimundi: reminds me I have to write a RFC for something like struct {a, b} impl Fn<C, (A, B, C)> {fn call(&self, c: C) -> (A, B, C) {(self.a, self.b, c}}
[17:30:37] <mjrosenb> kimundi: what is foo?
[17:30:46] <eddyb> mjrosenb: a bare function
[17:30:47] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:30:49] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:30:57] <eddyb> its type is fn() -> uint
[17:31:04] <kimundi> mjrosenb: A function pointer to the bare function foo() defined before that let
[17:31:05] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:31:06] <teosz> error: type `&[~str]` does not implement any method in scope named `push`
[17:31:16] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:31:18] <eddyb> teosz: you need ~[~str]
[17:31:19] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:31:37] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:31:46] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:31:48] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:32:14] <eddyb> kimundi: but it can wait, we still aren't clear on returning anonymous types
[17:32:15] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:32:16] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:32:43] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:32:46] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:33:14] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:33:15] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:33:30] <mjrosenb> ok, so that is declaring a function that takes no arguments, and returns 1, and binding it to foo? then doing a bunch of other stuff which I'm still processing.
[17:33:42] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:33:43] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:33:50] <teosz> eddyb:  but i need vector for that http://static.rust-lang.org/doc/0.9/std/run/fn.process_status.html what use &[~str]
[17:33:51] <kimundi> mjrosenb: Correct so far
[17:33:51] <eddyb> mjrosenb: no, it's an item, not a local (unlike JS)
[17:34:10] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:34:11] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:34:13] * mjrosenb is getting some conflicting answers here :-p
[17:34:13] <eddyb> teosz: ~[T] coerces to &[T]
[17:34:14] <kimundi> mjrosenb: Except what eddyb said, its a item, aka a static definition
[17:34:39] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:34:40] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:34:58] <kimundi> rustilite: fn foo() -> uint { 1 } fn main() {let f = foo; let g = || 2; let h = proc() 3; (f(), g(), h())}
[17:34:59] -rustilite- <anon>:1:80: 1:95 error: mismatched types: expected `()` but found `(uint,<generic integer #0>,<generic integer #1>)` (expected () but found tuple)
[17:34:59] -rustilite- <anon>:1 fn foo() -> uint { 1 } fn main() {let f = foo; let g = || 2; let h = proc() 3; (f(), g(), h())}
[17:34:59] -rustilite-                                                                                         ^~~~~~~~~~~~~~~
[17:34:59] -rustilite- error: aborting due to previous error
[17:35:01] -rustilite- application terminated with error code 101
[17:35:07] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:35:09] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:35:31] <kimundi> rustilite: fn foo() -> uint { 1 } fn main() {let f = foo; let g = || 2u; let h = proc() 3u; println!("{:?}", (f(), g(), h())); }
[17:35:32] -rustilite- (1u, 2u, 3u)
[17:35:36] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:35:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:35:54] <kimundi> mjrosenb: ^ More canonical code example
[17:36:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:36:03] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:36:04] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:36:07] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:36:08] *** Quits: markos (markos@F16ABDE0.3EF83E22.692B9746.IP) (Client exited)
[17:36:18] <mjrosenb> eddyb: so, I know *no* js, so attempting to draw parallels to it is unlikely to help.
[17:36:26] <eddyb> mjrosenb: oh, sorry
[17:36:26] *** Joins: xazax (xazax@moz-D7592A2A.csoma.elte.hu)
[17:36:33] <mjrosenb> 'tis cool.
[17:36:33] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:36:35] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:36:52] * mjrosenb works on the js engine, so it is an easy mistake to make :-)
[17:36:56] <eddyb> (the concepts you were mentioning reminded me of JS the most, went ahead of myself assuming you were familiar with it)
[17:37:01] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:37:02] <xazax> nmatsakis, hi, I just saw your presentation about DSt
[17:37:03] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:37:29] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:37:31] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:37:46] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:37:57] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:37:58] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:38:01] <xazax> I do not really like the sized or unsized option, but is it really a problem? for example in C++ one can use both std::array and std::vector and they are distinct types
[17:38:22] <eddyb> xazax: hmm?
[17:38:25] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:38:26] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:38:30] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[17:38:37] <eddyb> xazax: our generics are typechecked at definition, not instantiation
[17:38:39] <strcat> xazax: C++ has std::unique_ptr<char[]>
[17:38:53] <strcat> xazax: boost adds std::shared_ptr<char[]> and it will eventually be standard too
[17:38:53] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:38:55] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:38:55] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[17:39:00] <strcat> that's the part that's like DST
[17:39:10] <strcat> arbitrary_smart_ptr<T[]> (except it's done manually)
[17:39:22] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:39:23] <mjrosenb> eddyb: so what is an item?
[17:39:23] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:39:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[17:39:38] <eddyb> mjrosenb: foo, just like main
[17:39:50] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:39:51] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:40:05] <mjrosenb> how is it different from a regular binding?
[17:40:18] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:40:20] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:40:32] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[17:40:47] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:40:48] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:41:01] <xazax> what is the reason to typecheck the generics at the definition?
[17:41:15] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:41:16] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:41:32] <eddyb> strcat: you can have this one ^^
[17:41:32] <kimundi> mjrosenb: An item is everything defined in a module: functions, constants, other modules etc. Basically static declarations. bindings (at least ion Rust) are local variables in a function.
[17:41:36] *** Quits: KindOne (KindOne@moz-85B4BE9F.dynamic.ip.windstream.net) (Ping timeout)
[17:41:43] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:41:45] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:42:11] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:42:12] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:42:12] <mjrosenb> interesting distinction.
[17:42:19] <teosz> eval.rs:17:29: 17:39 error: mismatched types: expected `&[~str]` but found `[~&str, .. 1]` (expected ~str but found ~-ptr)
[17:42:21] <eddyb> mjrosenb: I guess this is not covered in the tutorial and other user-facing documentation so I'm just confusing you by using this terminology - an item refers to something that's not a statement nor an expression, and can live at the top of the module
[17:42:23] <teosz> eval.rs:17         process_status("rm", [ ~ q[0] ] );  ^~~~~~~~~~
[17:42:28] <teosz> where q[0] is str :(
[17:42:32] <teosz> please help 
[17:42:38] <eddyb> mjrosenb: meh, kimundi explained it better
[17:42:39] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:42:40] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:42:44] <eddyb> teosz: ~[q[0]]
[17:43:01] *** Quits: yuriks (yuriks@FAC97ED5.A9CCF389.F3163DCD.IP) (Ping timeout)
[17:43:08] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:43:10] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:43:17] <kimundi> mjrosenb: Well all items are known at compiletime, and can be optimized and used as such. local variables only really exists on the stack if the function runs
[17:43:21] <teosz> eval.rs:17:29: 17:36 error: mismatched types: expected `&[~str]` but found `~[&str]` (str storage differs: expected ~ but found &)
[17:43:24] <teosz> eval.rs:17         process_status("rm", ~[q[0]] ); 
[17:43:36] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:43:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[17:43:54] <teosz> q[0] is jut str not ~str
[17:43:56] <eddyb> teosz: I guess... ~[q[0].to_owned()]
[17:44:05] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[17:44:07] <eddyb> teosz: q[0] is &str, not str
[17:44:11] <mjrosenb> ok, so «let f = foo» seems pretty straightforward, what on earth is «let g = || 2»?
[17:44:31] <eddyb> mjrosenb: |args| expr is our closure syntax
[17:44:36] <mjrosenb> oh, that is saying it isn't capturing anything
[17:44:39] <kimundi> mjrosenb: |..ARGS| EXPR is our syntax for a stack closure
[17:44:49] <kimundi> mjrosenb: Its actually the argument list
[17:44:53] <mjrosenb> I parsed that like C/C++ as 'short-circuiting or'
[17:45:02] <kimundi> rusti: let f = |x| x + 5; f(5u)
[17:45:04] -rusti- <anon>:10:21: 10:22 error: the type of this value must be known in this context
[17:45:07] <eddyb> |x| x is the identy function
[17:45:07] -rusti- <anon>:10         let f = |x| x + 5; f(5u)
[17:45:09] -rusti-                               ^
[17:45:11] <kimundi> rusti: let f = |x| x + 5u; f(5u)
[17:45:11] -rusti- error: aborting due to previous error
[17:45:13] -rusti- application terminated with error code 101
[17:45:15] -rusti- <anon>:10:21: 10:22 error: the type of this value must be known in this context
[17:45:18] -rusti- <anon>:10         let f = |x| x + 5u; f(5u)
[17:45:20] -rusti-                               ^
[17:45:23] -rusti- error: aborting due to previous error
[17:45:23] <kimundi> bah
[17:45:25] -rusti- application terminated with error code 101
[17:45:34] <eddyb> rusti: let f = |x: int| x + 5; f(5)
[17:45:35] -rusti- 10
[17:45:54] *** Joins: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net)
[17:46:01] <eddyb> mjrosenb: captures are done by just using their names, no way to specify the mode as in C++11
[17:46:08] *** Joins: KindOne (KindOne@FF63190B.D40F8E6E.EC6A1518.IP)
[17:46:17] *** Joins: yuriks (yuriks@FAC97ED5.A9CCF389.F3163DCD.IP)
[17:46:36] *** Quits: xazax (xazax@moz-D7592A2A.csoma.elte.hu) (Quit: Leaving)
[17:46:56] <kimundi> rusti: let a = 10; let f = |x: int| x + a; f(5)
[17:46:58] -rusti- 15
[17:47:27] <mjrosenb> eddyb: err, yes, that.
[17:48:41] <kimundi> mjrosenb: Note that blocks ({ ... }) are valid expressions in rust too, so you can just do let f = |a, b| { a + b } to get a maybe more familiar grouping by braces.
[17:48:53] <mjrosenb> ok, how about this. It looks like there are simply too many ways of implementing this. If i write this algorithm is some other language, can one of you help me translate it to rust?
[17:49:24] <kimundi> mjrosenb: Depends on the language, and the complexity< of the algorithm :)
[17:49:44] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:49:48] <eddyb> mjrosenb: well, procs are for specific usecases, so you're left with just stack closures *or* custom trait magic if those closures aren't enough
[17:50:24] <mjrosenb> kimundi: it is the solution to a Project Euler problem, so it can't be *that* complicated, and I'll let you guys cheeso the language I write it in.
[17:50:59] <eddyb> mjrosenb: what languages are you most familiar with?
[17:51:20] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:51:38] <kimundi> mjrosenb: Hm, I think just giving us the problem to solve together would be better. AT least from the languages I know, none is near enough to rust to allow easy porting of a algorithm :)
[17:52:11] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[17:52:12] <mjrosenb> C, C++, python, haskell, sml, if you want to be *really* sadistic, I can probably write this in bash :-p
[17:52:13] * kimundi is only realy familiar in Java and Rust atm - the Java only because of university
[17:52:23] <mjrosenb> oh,
[17:52:29] <mjrosenb> I can probably also write it in java.
[17:52:37] <mjrosenb> I knew that 8 years ago.
[17:52:46] <eddyb> mjrosenb: sml has some overlap with Rust
[17:52:47] *** Joins: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr)
[17:53:03] <kimundi> mjrosenb: Don't write it in java! Neither you nor I want that! ;D
[17:53:06] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:53:09] <eddyb> please don't use Java, C - python might work, but I don't like it either
[17:53:19] <eddyb> mjrosenb: you're really only left with rust
[17:53:30] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:53:48] <eddyb> mjrosenb: I guess you can do it in C++11 and we'll try it in Rust
[17:53:57] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Quit: Konversation terminated!)
[17:54:03] <kimundi> depending on the algorithm, I could probably read python - and iterator-wise there is a lot of overlap with Rust afaik
[17:54:03] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[17:54:18] <mjrosenb> eddyb: well, If I write it in c++, I won't be using lambdas, or the like.
[17:54:26] <teosz> is exist function with two type return ?
[17:54:27] <eddyb> mjrosenb: I said C++11
[17:54:33] <eddyb> teosz: return a tuple
[17:54:59] <teosz> eddyb: how ?
[17:55:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:55:08] <eddyb> teosz: (a, b)
[17:55:16] <eddyb> the type is (A, B)
[17:55:25] <eddyb> (not limited to two fields, you can have as many as you like)
[17:56:09] <mjrosenb> eddyb: I know that they added closures, but I've never used them in C++ , and am only vaguely aware of the syntax.
[17:56:34] <eddyb> mjrosenb: [](..args) {body}
[17:56:34] <bvssvni> how do I borrow Option<~str>?
[17:56:37] <strcat> auto f = [] { return 5; }'
[17:56:46] <teosz> mismatched types: expected `(uint,f64)` but found `uint` (expected tuple but found uint)
[17:56:48] <strcat> eddyb: well there are a lot of optional bits
[17:56:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:57:05] <eddyb> teosz: two types or *one of* two types?
[17:57:09] <kimundi> mjrosenb: If the number of anonymous functions in Rust confuse you, you can just ignore everything besides stack closures :)
[17:57:18] <teosz> one of two types
[17:57:24] <strcat> [&capture, clauses](...) -> return_type { body }
[17:57:34] <strcat> [=] { return x; }
[17:57:38] <mjrosenb> kimundi: I am completely unfamiliar with the libraries, and I suspect I want to use them.
[17:57:42] <strcat> is similar to rust's closures (= means capture all by-value)
[17:57:50] <strcat> well, "similar"
[17:57:57] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[17:57:58] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:58:02] <eddyb> strcat: isn't & similar to rust?
[17:58:09] <kimundi> mjrosenb: Heh, yeah. I can understand that reasoning :)
[17:58:31] <strcat> eddyb: I don't think so... if you capture a mutable variable by-value in rust (I think this is forbidden atm), I don't think mutating it will show outside
[17:58:37] <teosz> anayway how i can take one of tow type ?
[17:58:50] <eddyb> teosz: enum Num {Float(f64), UInt(uint)} - the type is Num and you can return either Float(float_value) or Uint(uint_value)
[17:58:50] <strcat> eddyb: I think that's *why* it was forbidden
[17:58:56] <strcat> because it may have been confusing
[17:59:23] <eddyb> strcat: rust's stack closures capture everything by reference
[17:59:31] <eddyb> and expose lvalue semantics
[17:59:39] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[17:59:40] <strcat> eddyb: hrm, didn't know that
[17:59:48] <eddyb> strcat: wait, what?
[17:59:48] <strcat> eddyb: can you show an example? ;p
[17:59:59] <strcat> I think that's an implementation detail
[18:00:05] <strcat> they don't let you capture mutable vars atm afaik
[18:00:11] <strcat> rusti: let mut x = 5; let f = || x;
[18:00:14] -rusti- pastebinned 13 lines of output: http://ix.io/afH
[18:00:21] <strcat> or do they
[18:00:23] <eddyb> rusti: let mut x = 0; let incr = || x -= 1; let decr = || x += 1; incr(); decr(); incr(); x
[18:00:23] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[18:00:24] -rusti- -1
[18:00:37] <eddyb> oops, inverted my names
[18:00:38] <strcat> guess that changed
[18:00:53] <strcat> eddyb: so yeah, like [&] { ... } :P
[18:01:25] <eddyb> I'd like [mutable] or whatever it's called
[18:01:28] <kimundi> strcat: mutable capturing, as would be the case for procs is disallowed.
[18:01:32] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[18:01:49] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[18:01:50] <eddyb> capture by value and preserve changes between calls
[18:02:16] <eddyb> though it's kinda hard to model in Rust
[18:02:40] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[18:04:38] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[18:04:46] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[18:04:54] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[18:05:51] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:05:51] *** ChanServ sets mode: +ao brson brson
[18:06:28] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[18:07:53] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[18:07:59] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[18:08:14] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[18:09:16] <patpat> Hello, can you initialize BigInts with a very large string of digits?
[18:09:31] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[18:10:08] <kimundi> patpat: Probably by initializing it from a string
[18:10:35] <strcat> it'll get pretty unbearably slow though ;s
[18:10:53] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:12:24] <Armavica> I'm not used to work in big projects, so I have a question: do I really have to go through the half hour of compilation each time I want to add a println in rustc's code?
[18:12:47] <kimundi> Armavica: yes
[18:12:55] <Armavica> ok :(
[18:13:06] <patpat> hmm, I've tryed to run: 	let mut string = ~"22163769186155435606225666823555245252804675591789";
[18:13:06] <patpat> 	let mut a_big_int = bigint::BigInt::new(bigint::Plus, string);
[18:13:16] *** Joins: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP)
[18:13:26] <patpat> am I writing this correctly? s:
[18:13:32] <kimundi> Armavica: There are ways around it depending on what exactly you change where, but in general a self hosting compiler needs to recompile itself if you change it
[18:13:50] <patpat> I get the error "error: mismatched types: expected `~[u16]` but found `~str` (expected vector but found ~str)"
[18:14:58] <Yurume> Armavica, you can build only stage 1 for debugging purpose though.
[18:14:59] <kimundi> patpat: Well, then it doesn't work that way. Bigints probably implement FromStr, so try let bigint = from_str(string);
[18:15:02] <strcat> rusti: fn main() {}
[18:15:04] -rusti- pastebinned 10 lines of output: http://ix.io/afK
[18:15:19] <Yurume> ugh XD
[18:15:30] <Armavica> Yurume: sounds interesting, thanks
[18:15:35] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[18:15:39] <Yurume> rusti:
[18:15:40] <patpat> ah okay, I'll try that!
[18:16:16] <Yurume> I think this also caused an ICE for moments
[18:16:21] *** Quits: alonlevy (alon@45EA8F6A.1DBB3642.692B9746.IP) (Ping timeout)
[18:18:00] *** Quits: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net) (Client exited)
[18:18:53] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[18:18:56] <strcat> Yurume: rustilist doesn't use the wrapper
[18:19:04] <patpat> ah, it works! thanks kimundi :)
[18:19:11] <strcat> rustilite: fn main() { println!("foo") }
[18:19:11] -rustilite- foo
[18:19:15] <strcat> er
[18:19:18] <strcat> lite*
[18:20:02] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[18:20:09] *** Joins: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net)
[18:22:05] *** Quits: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net) (Client exited)
[18:22:27] *** Joins: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net)
[18:24:36] *** Joins: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net)
[18:26:59] *** Quits: Earnestly (earnest@moz-1CE0D638.dyn.plus.net) (Quit: I fly!)
[18:29:30] <jroweboy> I'm reading up on using the logging macros such as debug! and warn! but I don't see where I'm supposed to set the environment variable to which level I want 
[18:29:53] <jroweboy> Is it just in bash? Something like RUST_LOG=debug?
[18:30:41] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:30:52] <kimundi> jroweboy: yes - though I don't remember the full syntax myself.
[18:31:15] <kimundi> but the environment variable in your shell part is right :P
[18:31:57] <mjrosenb> ok, I have my (rather non-pythonic) code here: http://dpaste.com/1580654/ and the problem I'm working on for reference is: http://projecteuler.net/problem=201
[18:31:57] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[18:32:20] <mjrosenb> This isn't actually enough to solve the problem, but I suspect once I get this part of it, I can figure out the rest on my own.
[18:34:03] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[18:34:25] <jroweboy> Ah ok, I found it. You can use export RUST_LOG=::help to see all the available crates at runtime, and then you can export RUST_LOG=crate=log_level :D
[18:34:53] <mjrosenb> kimundi: ^
[18:35:33] <kimundi> mjrosenb: Reading :) - though I'm also eating atm, so there will be some time multiplexing going on here :P
[18:35:42] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:35:55] <mjrosenb> kimundi: np, I may start working on a c++ implementation so eddyb doesn't feel left out :-p
[18:36:16] <kimundi> heh, good idea. 
[18:36:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:36:41] <eddyb> what's with people and using pastebins without syntax highlighting?
[18:37:17] <eddyb> the whole point of using anything other than ix.io is to get highlighting (and even ix has *some* highlighting)
[18:37:24] <mjrosenb> eddyb: oh, I have a script that does it for me, and i haven't figured out how to detect the language.
[18:38:11] <mjrosenb> http://dpaste.com/1580662/
[18:38:16] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:38:20] <mjrosenb> there we go. syntacized.
[18:39:23] <eddyb> mjrosenb: I think the sane thing here is to rewrite it to ES6 and then to rust
[18:39:37] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:39:59] <kimundi> Hm, to what evaluates [[] for i in range(sum([x*x for x in range(101)]))] ? Not really all that familiar with pythos syntax
[18:40:09] <eddyb> kimundi: it's a list comprehension
[18:40:21] <mjrosenb> kimundi: it makes a list of empty lists with a given length.
[18:40:24] <mindcat> rusti: foo
[18:40:25] -rusti- <anon>:10:9: 10:12 error: unresolved name `foo`.
[18:40:25] -rusti- <anon>:10         foo
[18:40:26] -rusti-                   ^~~
[18:40:26] -rusti- error: aborting due to previous error
[18:40:26] -rusti- application terminated with error code 101
[18:40:30] <mindcat> rusti: "foo"
[18:40:32] <mjrosenb> kimundi: most of that is just calculating the length of th elist.
[18:40:38] -rusti- "foo"
[18:40:48] <mjrosenb> kimundi: namely, the sum of every square from 0 to 101*101
[18:41:07] <eddyb> kimundi: [<expr> for <pattern> in <iterator>] => <iterator>.map(|<pattern>| <expr>).collect()
[18:41:29] <mjrosenb> eddyb: any particular reason you want it in es6?
[18:41:37] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[18:42:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:42:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[18:42:16] <doomlord_> what are the chances of mozilla cancelling rust
[18:42:22] <eddyb> mjrosenb: the lack of proper field access among other things
[18:42:28] <kimundi> ah, okay. I though something differently was going on, as that strikes me as a very convoluted way to create a lot of empty lists - but I don't know much python, so... ;)
[18:42:46] <mjrosenb> eddyb: as opposed to other js variants?
[18:43:07] <mjrosenb> kimundi: I know enough python to get myself in way over my head :-p
[18:43:36] <eddyb> mjrosenb: as opposed to python
[18:43:37] <jroweboy> mjrosenb: why do you need so many empty lists? o.o
[18:43:47] <kimundi> doomlord_: Not sure if Rust is at a point anymore where it can be "canceled" :)
[18:44:30] <eddyb> doomlord_: servo, maybe, Rust, highly unlikely
[18:44:45] <eddyb> mjrosenb: ES6 and not JS because of generators
[18:45:03] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[18:45:03] <mcpherrin> Well Mozilla cutting off developer salaries would definitely hurt and possibly kill rust
[18:45:04] <eddyb> mjrosenb: hey, I removed all the comments and I can read the code :D
[18:45:06] <mjrosenb> jroweboy: set_sums[n] is a representation of all of the sets that sum to n, so if I want all subsets of {x*x | x \in [1..100]}, I need that long of a list.
[18:45:09] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[18:45:25] <mcpherrin> But that seems pretty unlikely at least for the next two years
[18:45:30] <eddyb> omg it's going to be so short in Rust
[18:46:03] <mjrosenb> eddyb: I figured as much.
[18:46:04] <kimundi> eddyb: Psst, don't overwhelm him with a single line of iterator chains just yet ;)
[18:46:15] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[18:46:30] <mjrosenb> fwiw, I learned python with people sitting next to me, writing project euler solutions, occasionally translating from haskell.
[18:46:32] <eddyb> kimundi: I'm removing named fields - they are required only for mutating, and we have ref mut patterns in Rust for that
[18:46:37] <mjrosenb> verdict: haskell is much nicer than python.
[18:47:47] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:48:16] <eddyb> mjrosenb: bah, we're missing mutable windows :(
[18:48:20] <kimundi> Wait, how did I not see haskell in your language list above.
[18:48:41] * kimundi should have recommended that one
[18:49:35] <kimundi> Anyway, eddyb seems to manage, so I'm going back to my pizza
[18:50:17] <mjrosenb> eddyb: these words are strange and intriguing
[18:50:37] <eddyb> mjrosenb: we have an window iterator for &[T]
[18:51:22] *** Quits: cdidd (cdidd@moz-15E27365.broadband.corbina.ru) (Ping timeout)
[18:51:29] <eddyb> mjrosenb: v.windows(n) gives you a n-elements sliding window iterator. but there's no mutable version
[18:51:39] *** Joins: cdidd (cdidd@moz-43FF9F6A.broadband.corbina.ru)
[18:51:49] <eddyb> mjrosenb: you're not using ret?
[18:52:20] <mjrosenb> eddyb: oh, yeah, I was planning on building a new list, and returning it, then I realized I could just mutate everything in place.
[18:52:40] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:55:32] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:55:52] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:55:54] <eddyb> mjrosenb: what's one of these parameters for? range(0, len(set_sums)-1, x-1, -1)
[18:56:08] <eddyb> mjrosenb: I mean, apart from start, end and step
[18:56:43] <mjrosenb> eddyb: what line is that on?
[18:57:26] <eddyb> mjrosenb: haha, oops, not sure how 0,  got there
[18:57:31] <mjrosenb> eddyb: I don't see a 0 there, just range(len(set_sums)-1,x-1,-1)
[18:57:37] <mjrosenb> cool.
[18:57:46] <mark_edward> is there a naming convention for lifetimes?
[18:58:08] <eddyb> mark_edward: lowercase, most are 'a
[18:58:15] <eddyb> like T or A for type params
[18:58:29] <eddyb> mjrosenb: so on which side is that inclusive?
[18:58:33] <mark_edward> okay, thanks. maybe that could be put in the style guide on the wiki? I find it really helpful
[18:59:08] <mjrosenb> eddyb: second element, that is looping from x to len(set_sums)-1, backwards.
[18:59:13] <mcpherrin> mark_edward: good plan.  I'll edit wiki
[18:59:20] <eddyb> mjrosenb: [set_sums.len()-1, x-1)?
[18:59:54] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[18:59:59] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[18:59:59] <mjrosenb> eddyb: the only reason I did it backwards was because it is mutating the list in place, and every number would be counted many many times.
[19:00:02] <mjrosenb> eddyb: yeah,
[19:00:23] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[19:00:26] <mindcat> I am checking rust program with valgrind, and found the echo server program memory usage is high, compared C++ Boost echo server program, 100x memory usage. http://paste.ubuntu.com/6856818/
[19:00:41] <mindcat> so who want tell me why?
[19:01:12] <mcpherrin> oof so much commented out code :P
[19:01:45] <mindcat> C++ compile command line: clang++ a.cpp -rdynamic -lyaml-cpp -lpthread -Wl,-Bstatic -lboost_log -lboost_log_setup -lboost_date_time -lboost_system -lboost_program_options -lboost_filesystem -lboost_thread -lboost_regex -Wl,-Bdynamic -std=c++11 -o a
[19:02:30] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[19:04:08] <eddyb> mjrosenb: this hurt my brain a bit, but: for i in range(x, set_sums.len()).rev()
[19:04:29] * mindcat going him's bed
[19:04:47] <mjrosenb> eddyb: that makes more sense.
[19:04:50] *** Quits: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP) (Quit: leaving)
[19:05:10] <mjrosenb> eddyb: like I said, if set_sums isn't mutated in place, then you don't have to do it backwards.
[19:06:54] <eddyb> mjrosenb: hah, you don't need the intermediary list to sum up the range and x*x thing
[19:07:43] <mjrosenb> eddyb: entirely possible, like I said, I know enough python to get myself into trouble :-)
[19:12:36] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[19:12:55] *** Quits: oberstet (quassel@moz-B59E02CE.dynamic.mnet-online.de) (Client exited)
[19:13:05] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:13:07] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:13:34] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:13:36] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:14:02] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:14:04] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:14:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:14:31] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:14:33] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:14:51] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[19:14:54] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[19:14:59] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:15:01] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:15:06] *** Quits: marianoguerra (marianogue@moz-273A6804.dip0.t-ipconnect.de) (Ping timeout)
[19:15:28] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:15:31] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:15:42] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[19:15:57] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:15:59] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:16:26] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:16:29] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:16:56] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:16:57] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:17:15] <eddyb> mjrosenb: I tried... https://gist.github.com/eddyb/9c79c6f4691a5a5e918f
[19:17:24] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:17:25] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:17:38] <eddyb> mjrosenb: can't push inside the match though
[19:17:52] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:17:56] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:18:23] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:18:24] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:18:33] <eddyb> mjrosenb: and my chrome is broken for some pages, including gist
[19:18:51] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:18:52] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:18:54] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:19:20] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:19:23] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:19:40] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[19:19:50] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:19:52] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:20:12] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[19:20:19] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:20:21] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:20:50] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:20:51] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:21:18] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:21:19] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:21:38] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Ping timeout)
[19:21:46] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:21:47] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:22:05] <mjrosenb> eddyb: is that the thing you were talking about before, with mutable windows?
[19:22:14] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:22:15] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:22:44] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:22:45] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:22:53] <eddyb> pls ban zakora
[19:23:04] <eddyb> mjrosenb: no, add_some_element could use a mutable window iterator instead of manually picking i and i-x
[19:23:14] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:23:17] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:23:32] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[19:23:44] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:23:45] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:24:12] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:24:13] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:24:25] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:39] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:24:41] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:25:07] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:25:08] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:25:16] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:25:35] <strcat> mitsuhiko: I forgot how bad pycurl was :(
[19:25:35] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:25:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:25:42] <strcat> requests doesn't have SOCKS proxy support...
[19:25:44] * strcat sighs
[19:25:55] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:26:04] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:26:06] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:26:32] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:26:33] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:27:01] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:27:02] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:27:29] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:27:30] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:27:36] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[19:27:57] <strcat> requests.get(recent, params={"api-key": key, "offset": offset}).json() -> http://ix.io/afP
[19:27:58] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:27:59] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:27:59] <strcat> wooo, pycurl.
[19:28:21] *** Quits: StarLight (StarLight@moz-F1A8217C.dynamic.avangarddsl.ru) (Ping timeout)
[19:28:26] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:28:28] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:28:37] <bytbox> anyway to split ~[] into (~[], ~[]) on an index, without having to copy?
[19:28:54] <strcat> split_at or whatever it's called, does &[T] -> (&[T], &[T])
[19:28:55] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:28:56] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:29:11] <strcat> at least there's an &mut version
[19:29:21] <strcat> if there's not an &[T] one you can write it in a line or two
[19:29:23] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:29:24] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:29:36] <kimundi> bytbox: Not posssible for ~[] though
[19:29:44] <kimundi> without copying, that is
[19:29:51] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:29:52] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:30:05] *** Joins: synackse (jordyd@moz-CAADD9FC.seg58.ucf.edu)
[19:30:19] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:30:20] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:30:47] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:30:51] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:30:54] <bytbox> strcat,kimundi: thanks, I think this will do it
[19:31:18] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:31:19] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:31:41] <jadbaires> I thought impl was just to implement traits,  but the manual has this example where you have a struct  Z {r:uint}  and implement  impl Z{fn new ...}   http://static.rust-lang.org/doc/master/guide-container.html#iterators
[19:31:46] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:31:47] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:32:14] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:32:16] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:32:32] <jadbaires> does each type declare a trait of the same name with a method new? or what is happening here/
[19:32:33] <jadbaires> ?
[19:32:40] <eddyb> jadbaires: that's regular methods
[19:32:42] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:32:44] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:32:45] *** Joins: StarLight (StarLight@moz-394A896.dynamic.avangarddsl.ru)
[19:32:52] <strcat> jadbaires: the basic form of impl is on a type
[19:32:57] <eddyb> jadbaires: as seen in many other languages
[19:32:57] <strcat> it is also used to implement traits
[19:33:10] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:33:12] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:33:13] <jadbaires> eddyb: strcat: right so it is as if impl is overloaded?
[19:33:22] <jadbaires> eddyb: possibly... I've never seen it...
[19:33:37] <strcat> jadbaires: no, not anything to do with overloading
[19:33:39] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:33:40] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:33:44] <jadbaires> eddyb: which languages would those be? I work mostly with Haskell, OCaml and C
[19:33:50] <strcat> a normal impl is just adding some methods to the type
[19:33:58] <strcat> has to be done in the crate where the type is defined
[19:34:05] <ross> jadbaires I think he means like, they're equivalent to normal methods on a class in say Java.
[19:34:06] <strcat> a trait is a type class
[19:34:06] <eddyb> jadbaires: out of those, only OCaml may have methods, but I'm not sure
[19:34:07] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:34:09] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:34:21] <strcat> an implementation of the trait makes the type satisfy the type class
[19:34:36] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:34:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:34:38] <ross> they're just in a different set of curly braces instead of the same ones as the fields.
[19:34:38] <jadbaires> strcat: yes that I understand, but it seems like "impl" is using with different semantics in both cases, which is why I used the term overloaded to refer to impl
[19:34:53] <strcat> jadbaires: ah, thought you meant what impl was doing
[19:34:55] <eddyb> jadbaires: well... they're methods in both cases
[19:35:00] <strcat> well, both cases it's implementing methods for the type
[19:35:01] <jadbaires> ross: right I understand what it does now
[19:35:04] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:35:05] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:35:06] <strcat> in one case they are not usable in a generic context
[19:35:09] <ross> I understand your questions now
[19:35:11] <ross> -s
[19:35:19] <jadbaires> good points
[19:35:24] <strcat> in the other case, they're satisfying a type class and can be used in a generic context where the type parameter is bounded  by that trait
[19:35:32] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:35:34] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:35:42] <jadbaires> got it, so basically it means "implement a method"
[19:36:01] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:36:03] <jadbaires> a method for this type or for types with this trait
[19:36:21] <eddyb> bytbox: the reason it wouldn't work for ~[T] is that something allocated with ~ has to be own its entire memory. if you were to split a ~[T] in half, freeing the first half would free both halves, and freeing the second half would just fail (if you're lucky. ugly bugs otherwise)
[19:36:26] <strcat> jadbaires: yep
[19:36:30] <jadbaires> cool
[19:37:06] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:38:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:40:08] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[19:41:54] <bytbox> eddyb: Thanks - I was wondering! I'm going to go ahead and submit a PR for split_at() on ImmutableVector (once I've tested)
[19:42:07] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:42:40] <eddyb> bytbox: you mean MutableVector?
[19:42:56] <eddyb> oh, no, nvm
[19:43:01] <bytbox> eddyb: No, it's already on MutableVector (mut_split_at)
[19:43:01] <bytbox> yeah
[19:43:06] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:43:30] <eddyb> there's no immutable version because it would just be (self.slice_to(i), self.slice_from(i))
[19:44:20] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[19:44:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:44:48] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[19:45:32] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[19:46:27] <bytbox> eddyb: Oh foo. For some reason I was assuming that would give a borrowck error.
[19:46:28] <bytbox> thanks.
[19:46:40] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:48:42] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[19:49:01] *** Joins: Blei (Philipp@moz-B2F9E4BD.cust.bluewin.ch)
[19:49:39] <eddyb> bytbox: no, that's we have a mutable one. &T is aliasable, &mut T isn't
[19:49:51] <Blei> Good evening, rustaceans! Apparently derefing newtype structs has been removed. What's the replacement? let destructuring, or is there something more convenient?
[19:50:10] <eddyb> Blei: let or implement Deref :P
[19:50:12] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[19:50:23] <Blei> wait, deref exists?
[19:50:40] <eddyb> Blei: implement it in the compiler, that is
[19:51:06] <Blei> haha, i knew i was out of the loop a bit, but i was sure that i would have noticed someone implementing deref XD
[19:51:09] <Blei> eddyb: thanks!
[19:52:30] *** Joins: max (Mibbit@moz-521156F5.lightspeed.sntcca.sbcglobal.net)
[19:52:44] <yuriks> is there a way to specify a function parameter as being &mut Reader+Seek, or do I need to use a generic for that?
[19:52:48] *** Quits: max (Mibbit@moz-521156F5.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:53:44] <eddyb> yuriks: I would use a generic even if I could take two traits like that
[19:54:13] <yuriks> eddyb: reasons? Eliminate run-time polymorphism?
[19:54:15] <eddyb> yuriks: trait objects are for situations where you can't statically know the type, or you get some crazy benefit out of not being generic over the type
[19:56:44] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[19:59:03] <jadbaires> I'm still unsure about the method .iter() ... it doesn't seem to be part of the std::iter::Iterator
[19:59:13] <eddyb> jadbaires: it's not a trait method
[19:59:33] <eddyb> jadbaires: it's implemented by ImmutableVector
[19:59:34] <yuriks> esoteric question, but, is there a way to slice a file, to make eof appear sonner than the real end of file? (I don't expect to, but you never know haha)
[19:59:43] <jadbaires> eddyb: I see
[19:59:55] <mcpherrin> yuriks: You could write a thing that did that, but I don't think such a thing exists
[20:00:37] <yuriks> (my use case is that I have a package file which has several subfiles, I want to ensure my file parsing functions don't overread their specific subfile)
[20:01:01] <eddyb> yuriks: a Reader implementer that holds a byte count and updates it on every successful read, I guess
[20:01:08] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[20:01:19] <eddyb> but then, if you have multiples... sounds complicated
[20:02:01] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[20:02:05] <yuriks> it's enough to just implement the basic read function in Reader and passthrough, right? The other helpers are all implemented in the trait (sorry, I haven't done any trait implementation yet)
[20:02:08] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[20:02:12] <yuriks> eddyb: what do you mean by multiples?
[20:02:26] <eddyb> yuriks: I'm guessing you don't want all of them in memory at the same time?
[20:03:03] <yuriks> yeah, I don't, else I'd just read them to a buffer and use MemReader
[20:03:18] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[20:03:18] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[20:03:24] <eddyb> yuriks: do you mind opening the file N times?
[20:03:38] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[20:03:45] <eddyb> yuriks: or at least doing something like duplicating the file descriptor/handle?
[20:03:46] *** Quits: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP) (Ping timeout)
[20:03:48] <yuriks> not really. You're seeing problems in case of concurrent access, right?
[20:03:50] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[20:03:51] *** Joins: victorporof_ (victorporo@53EBB099.7C27E871.79933D60.IP)
[20:04:17] <eddyb> yuriks: if they use different OS handles for the same file, then it's trivial with a wrapper
[20:04:21] <yuriks> I can just borrow the original file in my reader, and that'll be enough to prevent others from using it concurrently, won't it?
[20:04:24] *** Joins: jdm (jdm@A7937365.8212E19F.1D05C454.IP)
[20:04:24] *** ChanServ sets mode: +o jdm
[20:04:26] <eddyb> (as they won't interfere which each other)
[20:04:39] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Ping timeout)
[20:04:50] <eddyb> yuriks: you never need two subfiles or parent + subfile at the same time?
[20:05:12] <yuriks> eddyb: I might need two subfiles, but I'm just saying I can push that onto another layer of code
[20:05:34] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Ping timeout)
[20:05:36] <eddyb> you're going to need to at least seek the parent
[20:05:55] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[20:05:56] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[20:06:07] <eddyb> yuriks: if you mutably borrow the parent in the subfile wrapper, you'll be fine
[20:06:13] <yuriks> that's not a big problem, the parent isn't accessed directly (it is merely a container)
[20:06:16] *** Quits: pranz (pranz@7A64FDC4.BFE7E494.85889BB1.IP) (Ping timeout)
[20:06:24] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[20:06:33] <yuriks> eddyb: ok, that's what I'm gonna do then, when I need to I'll duplicated fds
[20:06:40] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[20:07:00] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[20:08:39] <Blei> wasn't there talk about removing the Freeze bound from Arc and friends?
[20:08:43] <Blei> that would be lovely
[20:09:03] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[20:09:21] <eddyb> Blei: why?
[20:09:43] <Blei> i have some (convoluted) code that currently doesn't compile anymore because of that bound
[20:09:52] <eddyb> Arc<Cell<T>> is unsafe. Arc<RWLock<T>> and Arc<Mutex<T>> aren't
[20:09:54] <Blei> it compiled previously because of a compiler bug
[20:10:01] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[20:10:06] <eddyb> (Arc<RefCell<T>> is also unsafe)
[20:10:16] <eddyb> Blei: what do you have that doesn't meet the bound?
[20:10:29] <Blei> let me see...
[20:10:31] *** Quits: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP) (Ping timeout)
[20:10:59] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:11:53] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[20:12:02] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[20:12:03] <Blei> a trait object, and then inside of that a SharedChan
[20:12:03] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[20:12:56] *** Joins: omnus (omnus@moz-2E009EE2.stny.res.rr.com)
[20:13:18] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[20:13:26] <eddyb> Blei: can you add Freeze to the trait object?
[20:13:34] <eddyb> (does that solve anything?)
[20:13:43] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[20:13:55] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[20:14:20] <Blei> no, then it wouldn't be able to contain a sharedchan
[20:14:32] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:14:43] <eddyb> Blei: then it's not safe
[20:15:02] <Blei> heh, from comm.rs: "can't share in an arc -- technically this implementation is shareable, but it shouldn't be required to be shareable in an arc"
[20:15:20] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[20:15:39] <eddyb> Blei: I'm confused now. so the issue is in SharedChan?
[20:15:51] <Blei> i'm not sure. the combination probably.
[20:16:03] <Blei> i guess i'll have to rewrite and find a better solution
[20:16:05] <Blei> bleh
[20:16:24] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[20:17:07] <brson> there are a lot of very fine prs in the queue lately
[20:18:16] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[20:18:23] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[20:19:21] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[20:20:11] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[20:21:05] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[20:21:33] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[20:22:02] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[20:22:10] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[20:22:20] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:22:58] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[20:23:41] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[20:23:56] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[20:23:57] *** Joins: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP)
[20:24:08] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[20:24:24] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:24:24] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[20:24:43] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[20:24:48] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[20:25:42] *** Joins: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP)
[20:25:59] <Armavica> hello again, I would like to build rustc once (no bootstrap) using the rustc installed on my system, is that possible?
[20:26:10] *** Quits: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP) (Ping timeout)
[20:26:41] <Armavica> it is for debug purposes
[20:27:18] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[20:27:28] <eddyb> Armavica: you can't use any rustc version, you need the snapshot
[20:27:49] <Armavica> why is that?
[20:27:49] <eddyb> Armavica: but it's not costlier to use the snapshot than it is to use the system rustc
[20:28:26] <eddyb> Armavica: make rustc-stage1 to get the first rustc built in the process
[20:29:04] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[20:29:20] <Armavica> yes but then the libs are also built with this first rustc, which I don't want
[20:29:22] <eddyb> Armavica: snapshots are there because we tend to make breaking changes and after a snapshot we burn the bridges we've built to make the code compile previously to that snpshot
[20:29:24] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[20:29:51] <eddyb> libraries built with different rustc versions are most likely not compatible
[20:30:21] <Armavica> well in fact what is a snapshot? a rustc-like written in another language?
[20:30:38] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[20:30:48] *** Parts: emerson|away (Icedove@6F3CD6F5.77F4443F.66AE2FF3.IP) ()
[20:31:15] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:31:22] <eddyb> Armavica: no, a previously built stage3 rustc
[20:31:26] *** Joins: dmillerw (Dylan@moz-F9231FD9.eugn.qwest.net)
[20:31:38] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:31:45] <Armavica> ohh
[20:31:57] *** Quits: rca (rcatolino@moz-428C471F.adsl.proxad.net) (Ping timeout)
[20:32:41] *** Quits: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP) (Ping timeout)
[20:32:44] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[20:32:57] <reima> Is there a version of str::lines which preserves the \n chars?
[20:33:07] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[20:33:19] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[20:33:25] <dmillerw> Can anyone explain why I'm getting this(http://puu.sh/6FPJ5.png) error with this(https://gist.github.com/dmillerw/0dc6c345e64c03277520) code? Just starting out with Rust, but as far as I can tell everything is alright (though, obviously not)
[20:34:13] <reima> dmillerw: You're missing an else
[20:34:19] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[20:34:29] *** Quits: synackse (jordyd@moz-CAADD9FC.seg58.ucf.edu) (Ping timeout)
[20:34:34] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:34:42] <dmillerw> ...and this is why I don't code late at night
[20:35:09] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[20:35:18] <mjrosenb> dmillerw: *shouldn't, since you obviously are :-p
[20:35:33] *** Joins: Dylan_ (Dylan@moz-F9231FD9.eugn.qwest.net)
[20:35:38] *** Quits: Dylan_ (Dylan@moz-F9231FD9.eugn.qwest.net) (Quit: Dylan_)
[20:35:54] <bvssvni> is it possible to split a module into several files?
[20:35:56] <dmillerw> fair point
[20:35:58] <dmillerw> thanks!
[20:36:00] *** Quits: dmillerw (Dylan@moz-F9231FD9.eugn.qwest.net) (Quit: Leaving)
[20:36:18] *** Joins: Saj (Sajuuk@moz-840D0658.netvisao.pt)
[20:36:26] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[20:36:29] *** Joins: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP)
[20:37:06] <yuriks> eddyb: https://gist.github.com/yuriks/8758463
[20:37:18] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[20:37:30] <yuriks> seems to work, but produces one byte less than my reference implementation on the output, hmm
[20:37:34] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[20:37:37] <yuriks> did I overuse lifetime names?
[20:37:38] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:37:48] <eddyb> yuriks: you're fine :D
[20:38:10] <yuriks> I just added <'a> to places until it compiled <_<
[20:38:11] <eddyb> yuriks: I'd use uint instead of i64 if I were you
[20:38:34] <yuriks> eddyb: I used i64 because that's what Seek uses
[20:38:53] <yuriks> isn't u64 better though? What about >4GB files on 32-bit archs
[20:38:56] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[20:39:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:39:36] <yuriks> I could actually drop most of the fields, but maybe I'll implement Seek for it too later
[20:40:34] <eddyb> err, you're right
[20:41:27] <zslayton> Does Rust have an exit() function? I'd use fail!() but I'd like to quit with a simple usage message instead of showing boilerplate text like 'task <main> failed at...'.
[20:42:07] <eddyb> zslayton: return from the main function?
[20:42:38] <zslayton> eddyb: I'm in a helper method that validates some inputs.
[20:43:13] <eddyb> zslayton: look in std::os, then
[20:43:30] <zslayton> eddyb: Will do, thanks
[20:44:34] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:44:35] <brson> collecting links to rust examples: https://github.com/mozilla/rust/wiki/Doc-examples
[20:45:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:45:58] <zslayton> eddyb: I didn't see anything that looked applicable. Thanks though. I'll keep poking around.
[20:45:58] <mark_edward> hey is someone willing to help me with an ICE I'm running up against?
[20:46:22] <eddyb> zslayton: we do have std::libc::exit, if there's no other wrapper
[20:46:31] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[20:47:52] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:47:56] <Armavica> brson: I am currently implementing the 99-*-Problems (http://ocaml.org/learn/tutorials/99problems.html) in Rust, coming soon on Github
[20:48:02] *** Joins: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr)
[20:48:06] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:48:08] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:49:31] <eddyb> Armavica: too may lists
[20:49:36] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[20:50:08] <Armavica> eddyb: this is only the beginning
[20:51:13] <brson> Armavica: awesome!
[20:51:27] <brson> Armavica: will you add a link to your project?
[20:51:27] *** Quits: Blei (Philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: Blei)
[20:51:30] <Ms2ger> Yes please: https://mail.mozilla.org/pipermail/rust-dev/2014-January/007886.html
[20:51:32] <zslayton> eddyb: Thanks. It may come to that. I'm surprised there's no way to fail! without the boilerplate text.
[20:51:34] <Armavica> brson: sure
[20:52:34] <brson> zslayton: you can capture the failure and prevent it from being displayed, though i'm not sure how convenient it is right now
[20:52:38] <brson> rustc does it
[20:52:58] <brson> i think at the moment you have to `task::try` *and* override stderr in the child task
[20:53:56] <jadbaires> why is range(1,n) defined to be  1.. n-1   and not   1..n  ?
[20:54:15] <eddyb> jadbaires: because we use it like range(0, n)
[20:54:48] <jadbaires> eddyb: still... wouldn't it be more sensible to right range(0,n-1) ?
[20:55:00] <eddyb> we have range_inclusive(1, n) and I do agree it's excessively long
[20:55:07] <jadbaires> :/
[20:55:12] <eddyb> jadbaires: not for 0-indexing problems
[20:55:17] <myname> i like rubys x..y and x...y
[20:55:17] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[20:55:27] <eddyb> myname: they actually have those as infix operators?
[20:55:34] <myname> they do
[20:55:39] <jadbaires> eddyb: I understand range(0,n) is shorter than range(0,n-1), I just don't think it's better
[20:55:45] <eddyb> that's it, prior work, put them in rust
[20:55:55] <eddyb> jadbaires: pretty sure python's range does the same thing
[20:56:02] <jadbaires> maybe
[20:56:07] <eddyb> brson: returning a bool from the argument checking function is probably easier than spawning a task and whatnot
[20:56:25] <jadbaires> eddyb: in fact if the argument is that, than you should actually have a  lessthan(n)
[20:56:43] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[20:56:50] <eddyb> or upto :P
[20:56:54] <jadbaires> eddyb: even better
[20:57:06] <jadbaires> eddyb: well kinda upto sounds like it could be inclusive
[20:57:18] <jadbaires> eddyb: below(n)
[20:57:28] <eddyb> "up to, and including" doesn't sound like inclusive by default to me
[20:57:32] <jadbaires> or less_than 
[20:57:47] <jadbaires> but ok "up_to"
[20:57:50] <jadbaires> that could work
[20:58:05] <myname> ruby also can do 1.upto(Infinity)
[20:58:20] <jadbaires> but justfying a binary function by saying it's better for this one particular case,... hmmm I don't know
[20:58:32] <eddyb> jadbaires: though we tend to prefer working with other iterators, in general
[20:58:43] <eddyb> which makes ranges pretty rare
[20:58:56] <jadbaires> eddyb: by the way the worse thing about it is that  in range(a,b)  a is included and b isn't
[20:58:58] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[20:59:17] <myname> i really like ruby as a language, it is just horrible to actually provide larger programs that will run a longer period of time
[20:59:25] <jadbaires> eddyb: there's no way to read that method and get that only one of the indices is included
[21:00:37] <eddyb> jadbaires: unless you're used to 0-based indexing and/or python ranges. we don't deny any biased decisions
[21:00:54] <zslayton> brson: Oh! Alright. Thanks, it's good to know I wasn't just missing it in the docs somewhere
[21:01:01] <myname> eddyb: that is, if you come from basic, fuck you
[21:01:08] <eddyb> myname: hahaha
[21:01:47] <jadbaires> eddyb: yeah but like I said, if the answer is 0-based ranges, then that should be covered by a specific unary method... as for python does it to well I'd be saying the same to them then :P
[21:01:51] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:01:53] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[21:02:22] <jadbaires> I'm just starting to look into iterators, would you use another iterator for a factorial? 
[21:02:24] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[21:02:27] <jadbaires> I did this:      range(1,n+1).fold(1,|ac,i| ac*i)
[21:02:31] <eddyb> jadbaires: the relationship to 0-based indexing is that the length is never included
[21:02:38] *** Quits: jackneill (jackneill@moz-588CAECC.pool.digikabel.hu) (Ping timeout)
[21:02:47] <myname> jadbaires: n+1 is a bad idea in general
[21:02:48] <eddyb> jadbaires: you can use count. learned about it today, totally needs more coverage
[21:03:33] <eddyb> actually, you're folding, count would be longer to spell out
[21:03:38] <jadbaires> eddyb: let me search
[21:03:39] <myname> jadbaires: range(1,n+1) will fail if n is maximum number of your type
[21:04:00] <eddyb> oh, yeah, an even better reason to use range_inclusive
[21:04:03] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[21:04:14] <jadbaires> I don't get how that's a reason for anything
[21:04:16] <eddyb> myname: now I'm comparing PHP and BASIC in my head and I don't know which is worse. NaN !== NaN amirite?
[21:04:32] <jadbaires> you can always write an expression that fails regardless of whether it's unclusive or not
[21:04:35] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[21:04:46] <myname> eddyb: at least, php does not have Nothing
[21:04:51] <jadbaires> the issue is making the semantics of the method clear so that you pick the right number
[21:04:56] <eddyb> myname: yay nulls
[21:05:08] <jadbaires> if it is clear to me what range means I will put my numbers accordingly
[21:05:15] <eddyb> jadbaires: we do have docs. not sure how much information you can put in the name
[21:05:37] <eddyb> rusti: range(254u8, 255+1).to_owned_vec()
[21:05:38] -rusti- ~[]
[21:05:49] <jadbaires> eddyb: I actually remember reading a really good article about that
[21:05:50] <eddyb> rusti: range_inclusive(254u8, 255).to_owned_vec()
[21:05:50] -rusti- <anon>:10:9: 10:24 error: unresolved name `range_inclusive`.
[21:05:50] -rusti- <anon>:10         range_inclusive(254u8, 255).to_owned_vec()
[21:05:50] -rusti-                   ^~~~~~~~~~~~~~~
[21:05:50] -rusti- error: aborting due to previous error
[21:05:51] -rusti- application terminated with error code 101
[21:06:02] <eddyb> rusti: ::std::iter::range_inclusive(254u8, 255).to_owned_vec()
[21:06:02] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[21:06:03] -rusti- ~[254u8, 255u8]
[21:06:29] <eddyb> jadbaires: ^^ that's what myname was talking about
[21:06:35] <jadbaires> eddyb: where they also advocated for not using booleans as flags in methods, since it makes it completely non-self-explanatory
[21:06:45] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[21:07:02] <eddyb> jadbaires: our version of that is Option<T> :P
[21:07:04] <jadbaires> eddyb: ohhh! myname!
[21:07:16] <jadbaires> eddyb: I was really confused what you meant for a second
[21:07:20] <jadbaires> :/
[21:09:02] <jadbaires> eddyb: myname: ok maybe you have a good reason because indeed I don't quite get what's happening
[21:09:23] <eddyb> jadbaires: 255+1 is 0 as u8
[21:09:37] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[21:09:40] <eddyb> if you have range(0u8, 255+1), that's range(0, 0)
[21:09:44] <jadbaires> eh
[21:09:53] <jadbaires> I don't see what's the point then
[21:10:02] <FreeFull> That's why there is an inclusive range function too
[21:10:20] <FreeFull> Not sure why it's not in scope by default though
[21:10:32] <jadbaires> sure, but I do think there should be an inclusive and possible an exclusive too
[21:10:33] <eddyb> FreeFull: and why it's not shorter
[21:10:38] *** Joins: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca)
[21:10:46] <FreeFull> eddyb: Something like irange?
[21:11:12] <eddyb> FreeFull: sounds like an Apple product or something to do with IronPython
[21:11:13] <eddyb> or C#
[21:11:16] <jadbaires> the only thing I don't like is the method named "range" being exlcusive in one index and not the other
[21:11:19] <jadbaires> that's all
[21:11:20] <FreeFull> Although that might get confused for indexed range by some
[21:11:52] <rntz> I don't really care whether range is [) or [] by default
[21:11:55] <sp3d> can we have range!(...] and so on? :P
[21:11:59] <myname> jadbaires: it confused me with python, too
[21:12:01] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:12:03] <rntz> but whatever the other one is, it should have an unusual name that clearly indicates its behavior
[21:12:07] <rntz> not "irange"
[21:12:21] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[21:12:23] <rntz> otherwise it's too easy to miss the difference between them when reading code
[21:12:23] <eddyb> sp3d: you can have range!(a .. b) and range!(a ... b)
[21:12:25] <jadbaires> myname:  I do find it confusing too :/
[21:12:37] <myname> jadbaires: you will get used to it
[21:12:43] <sp3d> the mix-and-match delimiters are the important part :/
[21:13:05] <myname> eddyb: sounds fair
[21:13:14] <rntz> eddyb: would range!([a,b)) versus range!([a,b]) be possible?
[21:13:15] *** Joins: rwt (rwt@9918FB04.DB91A3F2.51B6877.IP)
[21:13:24] <rntz> or would that screw up because not balanced delimiters?
[21:13:28] <FreeFull> [a,b] would be confusing because vectors
[21:13:33] <eddyb> rntz: not realistically
[21:13:41] <rntz> yeah, that would definitely screw up. and syntax highlighting would be a pain. forget that suggestion.
[21:13:42] *** nrc|afk is now known as nrc
[21:13:45] *** Quits: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca) (Quit: Taking a nap.)
[21:13:46] <eddyb> FreeFull: [a..b] wouldn't be
[21:13:49] <mcpherrin> sp3d: You can't have unmatched parens in a Rust Macro
[21:13:59] *** Parts: rwt (rwt@9918FB04.DB91A3F2.51B6877.IP) (Leaving)
[21:13:59] <FreeFull> eddyb: Yeah, the .. stands out
[21:14:06] *** Joins: rwt (rwt@9918FB04.DB91A3F2.51B6877.IP)
[21:14:09] <sp3d> tragic!
[21:14:11] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[21:14:12] <mcpherrin> the best you can do is range!('(', a,b, ']') or something silly
[21:14:23] <FreeFull> That'd be horrid
[21:14:28] <rntz> range!(a .. b, "[)") doesn't seem so bad
[21:14:34] <sp3d> "range!(a,b+1)" could parse the +1 specially
[21:14:39] <eddyb> eww
[21:14:42] <sp3d> >:D
[21:14:45] <rntz> sp3d: nope nope nope
[21:14:54] <rntz> maximally confusing macros
[21:15:07] <eddyb> range!(a .. and b)
[21:15:14] <myname> what's wrong with ...?
[21:15:20] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Ping timeout)
[21:15:21] <mcpherrin> range!( a > >= b )
[21:15:23] <rntz> .. versus ... is okay, I guess. a bit hard to miss.
[21:15:29] <eddyb> (for "up to and including", though it's really ridiculous)
[21:15:35] <sp3d> "..." is ok to remember but hard to guess
[21:15:39] <rntz> you could have range!(a .. b inclusive), say?
[21:15:56] <eddyb> pointless since we have a function with less overhead
[21:15:59] <mcpherrin> or range!(a>,>=b) to avoid requiring whitespace
[21:16:15] *** Joins: markos (markos@moz-7AAF4B96.xdsl.toledo.be)
[21:16:20] <mcpherrin> or range!(a<,<=b) I probaly mean 
[21:16:39] <eddyb> can we treat unbalanced parens as regular tokens?
[21:16:47] <rntz> I think probably that's just a bad idea
[21:16:52] <eddyb> range!(a .. b]) would work then
[21:16:52] <mcpherrin> eddyb: No, not without redoing how the parser works
[21:16:56] <jadbaires> I don't see how what these suggestions would improve because the issue is not that range_inclusive is a bad name
[21:16:57] <FreeFull> >,>= and <,<= is horrid too
[21:17:02] <rntz> requiring parens to be balanced is just a Good Idea
[21:17:09] <jadbaires> the problem in my view is that range has the current semantics
[21:17:10] <eddyb> mcpherrin: not that kind of unbalanced parens
[21:17:28] <eddyb> mcpherrin, rntz: just ] before a [
[21:17:29] <FreeFull> range_inc wouldn't be too bad of an option
[21:17:37] <rntz> jadbaires: I mean, I'm not voicing anything on that issue because I have no opinion on it.
[21:17:42] <eddyb> FreeFull: ooh. Range Inc.
[21:17:46] <rntz> I don't care whether range is default [) or default []
[21:17:55] <rntz> pick a convention and stick with it and people will deal with it.
[21:18:02] <mcpherrin> eddyb: I know what you mean, it would still make the token tree parser a whole lot hairier
[21:18:08] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[21:18:12] <jadbaires> rntz: oh  got it
[21:18:13] <eddyb> mcpherrin: not really
[21:18:35] <eddyb> mcpherrin: it would be replacing an early error by pretty much an unary operator :P
[21:18:50] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:18:55] <FreeFull> rntz: With the way range gets used, I think not including the upper bound is fine
[21:19:17] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:19:32] <FreeFull> Consider  for(int i = 0; i < 1024; i++) and for i in range(0,1024)
[21:19:35] <jadbaires> FreeFull: that's circular reasoning IMO... the way it is used is used because it does what it does
[21:19:43] <rntz> in my experience the benefit of [) is that it usually means indexing math is easier? range!(0, n) counts out n things from 0 to n-1, which is usually what you want for indexing
[21:19:52] <jadbaires> FreeFull: how else can you use it really
[21:20:05] <FreeFull> Well, there are plenty of alternative uses
[21:20:07] <eddyb> FreeFull, rntz: that's what my first attempt at proving a reason to jadbaires was :P
[21:20:12] <FreeFull> Iterators aren't just for for loops
[21:20:23] <jadbaires> sure...
[21:20:47] <rntz> but [] has its benefits, too
[21:20:54] <rntz> perhaps rust should have a range! macro that behaves a little like CL's loop macro
[21:20:55] <jadbaires> but my point wasn't specific to Iterators
[21:21:05] <FreeFull> Haskell only does inclusive
[21:21:05] <rntz> in that it accepts a little mini-language for specifying various ways of looping
[21:21:17] <FreeFull> jadbaires: range produces an iterator
[21:21:41] <jadbaires> FreeFull: sorry I meant specific to loops
[21:22:04] <rntz> range!(a upto b), range!(a downto b), range!(a upto b by 2), range!(x from a upto b when (x % 3) != 0), range!(a upto b inclusive), etc.
[21:23:12] <shachaf> Hmm, apparently someone put a thing I wrote a while ago at http://rosettacode.org/wiki/Y_combinator#Rust
[21:23:19] <shachaf> I have no idea how they came across it.
[21:23:32] <FreeFull> rntz: That would require extending what macros can do, unless you separate everything by commas or add atoms to rust
[21:24:04] <rntz> oh, rust doesn't allow you to use words as syntax in macros?
[21:24:10] <rntz> ... but it does let you use symbols? ugh.
[21:24:17] <rntz> or is it some other reason?
[21:25:09] <SiegeLord> It does allow words
[21:25:22] <rntz> oh. then what's the issue?
[21:25:33] <FreeFull> Ah, it does?
[21:25:36] <FreeFull> That'd be fine then
[21:25:36] <SiegeLord> Not sure, it seems like an okay idea
[21:25:50] *** Joins: ofeldt- (ofeldt@moz-7B3F5D4E.dip0.t-ipconnect.de)
[21:25:59] <FreeFull> We'd have to trial it with newbies
[21:25:59] <jadbaires> eddyb: did you tell me to use .count  as an alternative to implement factorial? or did I misunderstood?
[21:26:12] <eddyb> jadbaires: I didn't realize you were using fold, sorry
[21:26:24] <eddyb> jadbaires: count gives you an infinite iterator from a start and a step
[21:26:33] *** Quits: ofeldt (ofeldt@moz-5F533116.dip0.t-ipconnect.de) (Ping timeout)
[21:26:49] <FreeFull> Oh, I see, that's what you needed range_inclusive for
[21:26:57] <jadbaires> eddyb: I only found this: fn count(&mut self, predicate: |A| -> bool) -> uint
[21:27:14] <eddyb> jadbaires: not the method, the function
[21:27:19] <jadbaires> oh!
[21:27:38] <jadbaires> of course eh... that wasn't smart
[21:28:19] <eddyb> I guess you could use count and .whatever it's name is (there's a method that returns an iterator that works like fold but returns each element)
[21:28:22] * eddyb is tired
[21:28:40] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:29:00] <FreeFull> You could use count, take and fold
[21:29:07] *** Joins: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net)
[21:29:17] <jadbaires> right... range fold is simpler though
[21:29:32] <FreeFull> One issue, what do you do for the empty range? 0! is supposed to be 1
[21:29:43] <jadbaires> but see... maybe I'll get used to it... but this looks wrong:        range(1,n+1).fold(1,|ac,i| ac*i)
[21:29:47] <eddyb> FreeFull: initial value
[21:29:53] <jadbaires> yeap
[21:30:04] <jadbaires> acummulator starts with 1
[21:30:08] <eddyb> jadbaires: with an infinite iterator, you'd .nth(5)
[21:30:10] <jadbaires> so empty range gives 1
[21:30:15] <FreeFull> Ah, fold does take a value, good
[21:30:25] <jadbaires> eddyb: what's .nth(5)?
[21:30:48] <jadbaires> eddyb: something indicating overflow?
[21:30:55] <jadbaires> eddyb: non-termination?
[21:31:10] <eddyb> jadbaires: it runs the iterator 5 times (or 4? now I'm confused again by 0-based indexing mixed with 1-based factorial) and gives you the value
[21:31:11] <jadbaires> stack overflow...?
[21:31:14] <eddyb> n'th
[21:31:24] <FreeFull> eddyb: Give an example
[21:31:43] <FreeFull> One line of code sometimes is worth 30 words
[21:31:57] <jadbaires> hmm that sounds like a silent bug.. bit scary
[21:32:15] <eddyb> rusti: count(1, 1)
[21:32:16] -rusti- <anon>:10:9: 10:14 error: unresolved name `count`.
[21:32:16] -rusti- <anon>:10         count(1, 1)
[21:32:16] -rusti-                   ^~~~~
[21:32:16] -rusti- error: aborting due to previous error
[21:32:16] -rusti- application terminated with error code 101
[21:32:27] <eddyb> rusti: ::std::iter::count(1, 1).nth(5)
[21:32:29] -rusti- Some(6)
[21:32:53] <eddyb> jadbaires: that's why you have tests :P
[21:33:10] *** Joins: marianoguerra (marianogue@moz-F325B300.dip0.t-ipconnect.de)
[21:33:27] <jadbaires> eddyb: yeah... still
[21:34:28] <jadbaires> rusti:        ::std::iter::count(1,1).fold(1,|ac,i| ac*i)
[21:34:33] -rusti- timeout triggered!
[21:34:35] <eddyb> infinite loop :P
[21:35:45] <eddyb> rusti: ::std::iter::count(1, 1).scan(1, |fac, &x| {*fac *= x; Some(*fac)}).nth(10-1)
[21:35:45] -rusti- <anon>:10:48: 10:50 error: mismatched types: expected `int` but found an &-pointer pattern
[21:35:45] -rusti- <anon>:10         ::std::iter::count(1, 1).scan(1, |fac, &x| {*fac *= x; Some(*fac)}).nth(10-1)
[21:35:45] -rusti-                                                          ^~
[21:35:45] -rusti- error: aborting due to previous error
[21:35:46] -rusti- application terminated with error code 101
[21:35:53] <eddyb> rusti: ::std::iter::count(1, 1).scan(1, |fac, x| {*fac *= x; Some(*fac)}).nth(10-1)
[21:35:54] -rusti- Some(3628800)
[21:35:59] <eddyb> jadbaires: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.scan
[21:36:06] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[21:36:29] <eddyb> jadbaires: you can even check for overflow and return None
[21:36:51] <eddyb> or handle something like EitherUintOrBigInt
[21:36:55] <FreeFull> Since it's an infinite iterator, it should be safe to always unwrap the Option, assuming you check for negative inputs
[21:36:59] *** Joins: valenting (Thunderbir@moz-EF716D84.xdsl.toledo.be)
[21:37:16] <FreeFull> And check for overflow too, of course
[21:37:46] <jadbaires> eddyb: interesting
[21:38:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:39:58] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:40:21] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[21:41:29] *** Quits: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP) (Quit: leaving)
[21:41:30] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[21:41:36] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[21:42:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:42:47] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[21:42:54] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:42:54] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:43:01] <SiegeLord> Hmm
[21:43:13] <SiegeLord> Does rustc check for method names before it checks for trait bounds?
[21:43:19] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:43:20] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:43:24] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:43:27] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[21:43:45] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:43:45] *** ChanServ sets mode: +ao dherman dherman
[21:43:45] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:43:46] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:43:47] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:44:11] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:44:12] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:44:34] <SiegeLord> https://gist.github.com/SiegeLord/8759388
[21:44:38] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:44:39] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:45:01] <SiegeLord> It seems to pick up a method from a trait, and then happily reports that the trait bounds are not satisfied
[21:45:05] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:45:06] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:45:31] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:45:31] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:45:57] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:45:57] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:46:02] <eddyb> SiegeLord: sounds like something that can be fixed
[21:46:23] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:46:24] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:46:49] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:46:49] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:47:15] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:47:15] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:47:20] <SiegeLord> Perhaps...
[21:47:30] <SiegeLord> Any way to work around it?
[21:47:41] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:47:42] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:47:43] <SiegeLord> Oh, I suppose I can use the function instead of the Real's method
[21:47:59] <jadbaires> how do you turn a vector iterator back into a vector?
[21:48:07] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:48:08] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:48:24] <jadbaires> is it possible at all?
[21:48:33] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:48:33] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:48:33] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:48:39] <SiegeLord> You can do it via to_owned_vec() and collect()
[21:48:50] <jadbaires> SiegeLord: thanks
[21:48:59] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:49:00] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:49:25] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:49:26] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:49:52] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:49:53] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:50:19] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:50:19] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:50:45] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:50:46] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:51:08] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[21:51:11] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:51:11] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:51:35] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[21:51:38] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[21:51:39] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[21:51:54] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[21:53:04] <SiegeLord> Oh drat... getting bit by auto-deref
[21:55:35] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[21:55:38] *** Joins: vosen_ (vosen@moz-266BA656.icpnet.pl)
[21:56:51] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[21:57:14] *** Joins: rwt_ (rwt@9918FB04.DB91A3F2.51B6877.IP)
[21:57:44] *** Quits: rwt (rwt@9918FB04.DB91A3F2.51B6877.IP) (Ping timeout)
[21:57:53] *** Joins: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca)
[22:02:38] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[22:03:47] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:04:24] *** Joins: dmillerw (dylan@moz-F9231FD9.eugn.qwest.net)
[22:04:50] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[22:05:03] <dmillerw> Having a bit of trouble compiling Rust from the repo... from what I can tell LLVM is failing to find libstdc++, but I've definitely got it installed
[22:05:21] <dmillerw> running Fedora 20
[22:05:54] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:06:16] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[22:06:20] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:06:28] *** Joins: pranz (pranz@7A64FDC4.BFE7E494.85889BB1.IP)
[22:06:38] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[22:06:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:11:32] *** Quits: heftig (heftig@moz-F1B89133.dip0.t-ipconnect.de) (Ping timeout)
[22:11:42] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[22:12:38] <jadbaires> I thought this would mutate the vector...    nums.mut_iter().map(|&x| x+1);
[22:12:56] <jadbaires> oh wait
[22:14:09] <SiegeLord> Maybe |x| *x += 1;
[22:14:28] <SiegeLord> You also then need to drain the iterator using a for loop
[22:15:49] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[22:16:24] <Zylinski> is there some function on options which executes a lambda with if the it's Some? And does nothing if it's false
[22:16:31] <Zylinski> if it's None*
[22:16:37] <eddyb> Zylinski: map
[22:16:38] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[22:16:39] <mcpherrin> Zylinski: you can use .map on options
[22:17:07] <jadbaires> SiegeLord: I thought a mutable iterator on a vector would allow to change the elements of the vectors themselves
[22:17:16] <jadbaires> SiegeLord: am I wrong then?
[22:17:17] <markos> compile_and_link: arm-unknown-linux-gnueabihf/stage0/lib/rustlib/arm-unknown-linux-gnueabihf/lib/libstd
[22:17:18] <markos> error: unknown debug flag: prefer-dynamic
[22:17:18] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:17:22] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:17:23] <markos> anyway to get passed that?
[22:17:27] <Zylinski> but there's no like variant which returns void?
[22:17:40] <eddyb> jadbaires: it's mutable because you get &mut references to elements
[22:17:46] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[22:18:27] <jadbaires> eddyb: so those &mut references are _not_ to the elements of the vector, right?
[22:18:45] *** Joins: heftig (heftig@moz-3471764.dip0.t-ipconnect.de)
[22:18:57] <eddyb> jadbaires: that's the thing, *they are*
[22:19:08] <jadbaires> eddyb: hmm so where am I going wrong
[22:19:09] *** Quits: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca) (Quit: Taking a nap.)
[22:19:17] <eddyb> jadbaires: what you return from map is what you get when you iterate the iterator that map returns
[22:19:34] *** Quits: squiddy (squiddy@moz-19BAE379.adsl.alicedsl.de) (Input/output error)
[22:19:37] <eddyb> jadbaires: it's unrelated to the fact that you get mutable references instead of immutable ones
[22:19:44] <Zylinski> oh wait, I want map it to return something, so that's fine.
[22:19:51] *** Quits: Matrixiumn (zack@moz-1B22AAE2.net) (Ping timeout)
[22:20:16] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[22:20:16] <eddyb> jadbaires: for x in foo.mut_iter() {*x += 1;}
[22:20:36] <jadbaires> eddyb: so what would that do?
[22:20:49] <eddyb> jadbaires: add 1 to each element of foo
[22:20:53] <jadbaires> eddyb: right
[22:21:06] <jadbaires> eddyb: and what about this?     nums.mut_iter().map(|x| *x+=1);
[22:21:33] <jadbaires> I thought it would do the same...
[22:21:34] <eddyb> jadbaires: whenever you pull an element from the resulting iterator, it adds 1 to an element of nums
[22:21:46] <eddyb> jadbaires: but you discard the resulting iterator so nothing happens
[22:21:53] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[22:22:02] *** Joins: kvanb (kvanb@moz-C90B1CF0.lns10.lon.bigpond.net.au)
[22:22:03] <eddyb> acrichto: maybe we should put #[must_use] on iterators
[22:22:26] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[22:22:28] <o11c> IMO erroring on unused results should be the *default*
[22:22:42] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:22:43] *** Joins: Matrixiumn (zack@moz-1B22AAE2.net)
[22:22:48] <eddyb> o11c: I've heard it produces way too many warnings
[22:22:54] <eddyb> o11c: and warnings are errors past stage1
[22:22:55] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[22:22:56] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:23:02] <jadbaires> eddyb: right so that's what I was trying to say, the elements on the iterator are mutable, but these elements are not the elements of the vector, but just copies... or am I saying this wrong?
[22:23:02] <o11c> with an ignore() function that can be used by the caller, and a #[can_ignore] tag on libraries
[22:23:14] <eddyb> jadbaires: you never run any code
[22:23:22] <jadbaires> eddyb: ?
[22:23:28] <eddyb> jadbaires: what you get is an iterator that you never run
[22:23:39] <jadbaires> ah
[22:23:47] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[22:24:09] <eddyb> jadbaires: if you would take all its elements, you would get a bunch of () and the vector would be modified
[22:24:10] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[22:24:14] <jadbaires> right, I am just building the iterator
[22:24:34] <eddyb> a for loop is what you want in that situation
[22:24:37] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[22:25:01] <jadbaires> eddyb: got you... 
[22:25:08] <jadbaires> eddyb: sorry took me a while to get it
[22:25:09] *** Quits: vosen_ (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[22:25:34] *** Joins: Y (Mibbit@moz-FDF648E4.dynamic.isp.telekom.rs)
[22:26:08] <eddyb> jadbaires: heh, it's a bit silly of a situation. #[must_use] would help with the "making sense" part
[22:27:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:27:14] <jadbaires> eddyb: coming from haskell my brain gets tricked... because I just used a fold which worked, and now a map didn't
[22:27:14] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:27:27] <jadbaires> eddyb: but I get it, a fold is consuming an iterator, a map is constructing one
[22:27:35] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[22:28:03] <jadbaires> well modifying one
[22:28:07] *** Joins: squiddy (squiddy@moz-19BAE379.adsl.alicedsl.de)
[22:28:22] <eddyb> jadbaires: no, constructing was right
[22:28:39] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:28:39] *** Joins: andreypopp (uid22726@moz-5F4AA75A.irccloud.com)
[22:28:41] <jadbaires> eddyb: so it consumes one and constructs another?
[22:28:43] <acrichto> eddyb: how come on iterators? We'd have to add them to all iterator types :(
[22:28:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:28:54] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:28:57] <jadbaires> eddyb: map that is
[22:29:04] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:29:16] <eddyb> it wraps the parent iterator and implements next to call next on the parent iterator and pass it through the closure
[22:29:27] <jadbaires> right
[22:30:21] <dmillerw> Anyone know how to compile rust and point at a specific stdc++ lib?
[22:30:26] <eddyb> acrichto: because people are trying things like "nums.mut_iter().map(|x| *x+=1);" and nothing is screaming "that's not going to do anything at all"
[22:31:56] <acrichto> eddyb: hmm
[22:32:19] <eddyb> acrichto: I wonder if placing it on a trait would trigger it for every type implementing that trait
[22:32:26] <eddyb> s/would/could be made to/
[22:32:29] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[22:32:37] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[22:32:41] <jadbaires> is "for" the only way to run it? isn't there a .run()? 
[22:32:44] <acrichto> hmm..
[22:32:47] <jadbaires> or something along those lines?
[22:33:41] <eddyb> jadbaires: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.len that tends to consume the iterator
[22:34:06] <jadbaires> right
[22:34:26] <eddyb> jadbaires: .each on an iterator is probably closer to a for loop and maybe how they were previously implemented
[22:34:44] <jadbaires> let me check that
[22:34:51] <eddyb> (but we don't have it AFAIK)
[22:35:01] <eddyb> jadbaires: if you really want to put it in one line, that is
[22:35:17] <jadbaires> oh
[22:35:27] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[22:35:31] *** Joins: tryzor (bzlandfill@moz-1116CEB1.dip0.t-ipconnect.de)
[22:35:37] *** Quits: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP) (Ping timeout)
[22:36:15] <FreeFull> rusti: ~[0,1,..10]
[22:36:15] -rusti- <anon>:10:15: 10:17 error: unexpected token: `..`
[22:36:15] -rusti- <anon>:10         ~[0,1,..10]
[22:36:16] -rusti-                         ^~
[22:36:16] -rusti- application terminated with error code 101
[22:36:19] <FreeFull> rusti: ~[0,..10]
[22:36:21] -rusti- ~[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[22:36:39] <jadbaires> is it conceivable that one could use a fold to implement a map? i.e. iterate through an iterator, construction another one in the accumulating parameter?
[22:36:59] <jadbaires> or in other words, can I add elements to an iterator?
[22:37:24] <pyon> jadbaires: What you can do is chain iterators.
[22:37:29] <jadbaires> pyon: cool
[22:37:34] <FreeFull> rusti: range(1,10).push(3).to_owned_vec()
[22:37:51] <FreeFull> No reply
[22:37:57] -rusti- <anon>:10:9: 10:29 error: type `std::iter::Range<int>` does not implement any method in scope named `push`
[22:37:57] -rusti- <anon>:10         range(1,10).push(3).to_owned_vec()
[22:37:57] -rusti-                   ^~~~~~~~~~~~~~~~~~~~
[22:37:57] -rusti- error: aborting due to previous error
[22:37:57] -rusti- application terminated with error code 101
[22:38:05] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:38:18] <eddyb> jadbaires: you can also flat_map
[22:38:24] <pyon> rusti: range(1,10).chain(Some(3).iter()).to_owned_vec()
[22:38:24] <jadbaires> pyon: I guess I could chain an iterator with unitary ones
[22:38:27] -rusti- pastebinned 26 lines of output: http://ix.io/ag7
[22:38:34] <pyon> Dang. :-(
[22:38:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:38:53] *** Joins: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP)
[22:38:53] <jadbaires> eddyb: I see 
[22:38:57] <eddyb> rusti: range(1,10).chain(Some(3).move_iter()).to_owned_vec()
[22:38:59] -rusti- ~[1, 2, 3, 4, 5, 6, 7, 8, 9, 3]
[22:39:05] <sam113101> HELLO?
[22:39:10] <pyon> eddyb: Yeah, I missed that .move_iter()!
[22:39:22] <jadbaires> eddyb: and concatenation on iterators basically chains them
[22:39:32] <jadbaires> eddyb: is that it?
[22:39:50] <eddyb> well, yeah
[22:39:52] <dmillerw> I'm going to assume the room is currently moderated? :P
[22:40:02] <sam113101> what's wrong with C++, that justifies creating a new, similar language?
[22:40:16] <SiegeLord> Dangling references
[22:40:19] <Eridius> dmillerw: what do you mean?
[22:40:23] <pyon> sam113101: Too unsafe. Also, the generic programming constructs are too undisciplined.
[22:40:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:40:44] <sam113101> pyon: what do you mean undisciplined?
[22:40:46] <dmillerw> Eridius, can't tell if my questions are going unanswered, or if I had to be registered with NickServ to talk
[22:41:09] <Eridius> dmillerw: well, I see you asked a question 10 minutes ago
[22:41:16] <pyon> sam113101: In Rust, parametric polymorphism is served by a single construct (generics), and ad-hoc polymorphism is served by a single different construct (traits).
[22:41:21] <Eridius> dmillerw: I suspect nobody knew the answer offhand
[22:41:31] <dmillerw> Eridius, fair enough then. Just couldn't tell
[22:41:56] <jadbaires> eddyb: oh wait the function in flat_map returns actual vectors... I thought it would return anything concatenable and that would could concatenate iterators
[22:42:00] <pyon> sam113101: In C++, the picture is less clear: templates are clearly what you should use for parametric polymorphism, but they can do ad-hoc polymorphism... and in doing ad-hoc polymorphism, specialized templates are redundant with overloading.
[22:42:12] <eddyb> jadbaires: flat_map for iterators
[22:42:33] <jadbaires> eddyb: oh I searched the docs but only saw the one for vectors
[22:42:38] *** Quits: akhosrav (akhosrav@moz-3F7067A0.tukw.qwest.net) (Quit: WeeChat 0.4.2)
[22:42:40] <eddyb> jadbaires: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.flat_map
[22:42:41] <pyon> sam113101: Also, Rust explicitly acknowledges a notion of lifetime that C and C++ programmers have to keep track of in their heads.
[22:42:43] <jadbaires> found it
[22:42:48] <jadbaires> eddyb: yes thanks!
[22:42:59] <pyon> sam113101: So, basically, C++ is not an acceptable C++ in 2014. Rust is what C++ should be.
[22:44:45] <jadbaires> sam113101: I would say much of it can be summarised as, C++ gives you have terrible static guarantes on the correction of your code
[22:45:11] <o11c> mostly, Rust is a way of getting rid of some terrible C++ syntax that needs to be maintained for backwards compatibility
[22:45:27] <jadbaires> sam113101: that's not the whole story but it's a big portion of it
[22:46:22] <Matthias247> pyon: I guess that's a little exaggerated
[22:47:06] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[22:47:14] <pyon> Matthias247: http://axisofeval.blogspot.com/2011/01/why-lisp-is-big-hack-and-haskell-is.html -- replace Lisp and Haskell with C/C++ and Rust, respectively
[22:47:18] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[22:47:37] <Matthias247> maybe, but that's all academical
[22:47:50] <jadbaires> Matthias247: in what sense?
[22:48:26] <markos> pyon, also reg that, I had high hopes for the new C++11 standard, instead of simplifying things, it complicated some things more than before, and it didn't answer others, in 2014 and still it doesn't provide some generic *portable* way to create a network connection, apart from the C code, like C# or Java, or a url class (included in Rust's extra), or json, or bigint, or (de)serializers, sure there are tons of libraries for that, but really, it's
[22:48:26] <markos>  2014, one can't be expected to evaluate 10 libraries to do json parsing
[22:48:41] <Matthias247> in the sense that still A LOT of applications are written in C++. And this also has some reasons
[22:49:02] <FreeFull> Rust is what a modern low-level-capable imperative language should be like
[22:49:19] <SiegeLord> I thought D was what C++ was supposed to be like XD
[22:49:28] <FreeFull> D uses garbage collection
[22:49:31] <pyon> markos: To be frank, I am not really concerned with JSON or URLs. That is too specific to today's technologies.
[22:49:41] <FreeFull> Or if you use D without any garbage collection, you don't get memory safety either
[22:49:46] <jadbaires> sure but I don't see how those reasons (at least the ones I can think of) contradict what pyon said
[22:50:14] <FreeFull> JSON is fine as a library
[22:50:15] <SiegeLord> FreeFull: That's only a problem for some :P. I'm just poking fun at the "X is what C++ was supposed to be like" meme
[22:50:23] <jadbaires> Matthias247: much of the reasons are, people know C++, there are lots of C++ tools, there are lots of C++ libraries
[22:50:23] <markos> pyon, json maybe, urls not, why would I have to use gtk/qt or whatever or libcurl just to parse a url?
[22:50:26] <sam113101> markos: but it's going to include cairo!
[22:50:30] <tiffany> markos: C++14 will have cairo built into the standard library though! how wonderful!
[22:50:36] <markos> sam113101, that's a joke really
[22:50:41] <jadbaires> Matthias247: and lack of alternatives
[22:50:57] <tiffany> the problem with C++11's safety features is how easy it is to bypass them
[22:50:58] <Matthias247> lack of alternatives is a thing for sure
[22:51:02] <tryzor> I'm trying to build rust on a windows 8.1 machine but i get an rerror: could not exec the linker `gcc
[22:51:10] <FreeFull> SiegeLord: The thing is, if you're looking for a garbage-collected imperative language, there are plenty
[22:51:13] <jensnockert> Argh, foiled by the type system /o'
[22:51:20] <jensnockert> ./o\*
[22:51:27] <SiegeLord> FreeFull: Well, D is compiled :P
[22:51:33] <Matthias247> But I'm note sure if Rust will be an alternative
[22:51:38] <markos> sam113101, I mean it's a joke that they would consider adding cairo a useful thing but adding a network connection class family for example is not important
[22:51:41] <FreeFull> SiegeLord: I don't see what compilation has to do with garbage collection
[22:51:50] <pyon> markos: I want a language that deals with the fundamental concepts correctly. A well-written URL library should last for as long as we use URLs. A well-written iterator and container library shall last forever.
[22:52:03] <SiegeLord> FreeFull: People choose D not just because of its (horrible) GC :
[22:52:05] <SiegeLord> *:P
[22:52:11] <pyon> So my benchmark is always the type system.
[22:52:18] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:52:18] <jadbaires> Matthias247: I don't know enough about it to have an opinion yet, but why don't you think so?
[22:52:33] <jadbaires> Matthias247: any specific characteristics?
[22:52:33] <FreeFull> SiegeLord: The point is that having a GC at all is non-conductive to low-level code
[22:52:35] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[22:52:39] <FreeFull> Such as operating systems
[22:52:46] <markos> pyon, I don't disagree, though to me iterator handling were not c++ worst features
[22:52:48] <SiegeLord> 'cause that's such a big market, right :P
[22:52:51] <Y> Hi Rusters
[22:52:59] <Y> I have a question about imports
[22:53:04] <o11c> I see nothing wrong with having to include curl to access urls
[22:53:12] <o11c> becoming the next Java is a terrible idea
[22:53:18] <FreeFull> SiegeLord: It's an important market
[22:53:25] <markos> o11c, ok, if you're writing a simple tool, that's fine
[22:53:29] <o11c> many small libraries, not one large one!
[22:53:44] <FreeFull> SiegeLord: Another thing that garbage collection makes hard to write is a garbage collector
[22:53:46] <o11c> that's one thing that python did pretty well
[22:53:56] <Matthias247> jadbaires: Rust has some things that are quite fundamentally different from what C++ developers are used. Things from the functional world. It's questionable whether anybody would like this or would look more for something more familiar (like D)
[22:53:59] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:54:07] <o11c> (I'm not familiar with ruby or nodejs, but I think they're similar to python)
[22:54:12] <FreeFull> Matthias247: The Haskell programmers like it a lot
[22:54:16] <Y> how does one import super::super?
[22:54:18] <markos> once you try adding components to do a large application, you either end up reinventing the wheel and writing stuff on your own or pull tons of dependencies
[22:54:23] <markos> both alternatives suck
[22:54:26] <SiegeLord> I know the issues with having a garbage collector... I'm just saying that depending on what you use C++ for, "what C++ should be" changes
[22:54:43] <SiegeLord> Many use C++ with a garbage collector, so putting it into the language is not necessarily a problem for those
[22:54:44] <markos> o11c, and url was just an example
[22:54:53] <Matthias247> jadbaires: and there are things that are currently extremely difficult to impossible in Rust which are no problem in C++. E.g. Widget Trees ;)
[22:55:14] <mcpherrin> or sending and recieving on the same tcp socket :P
[22:55:17] <o11c> markos: but my point is - I'd rather use a universal standard for something than something shipped by the language runtime
[22:55:17] <Matthias247> FreeFull: I recognized it. But are they the target group?
[22:55:18] <pyon> SiegeLord: Using C++ with a garbage collector is basically ditching perhaps the most useful thing C++ was the first language to offer: a deterministic way to ensure proper resource cleanup.
[22:55:18] <FreeFull> SiegeLord: Well, having a garbage collector in your program isn't an issue, as long as it's optional
[22:55:33] <jadbaires> Matthias247: but people don't need to use them do they? Also C++ itself has been adding some... lambdas, type traits etc
[22:55:48] <SiegeLord> D was created by those frustrated with C++ too... so...
[22:55:50] <FreeFull> jadbaires: C++ is a huge ball of features and misfeatures
[22:55:57] <Matthias247> mcpherrin: I worked on that. But it's hard for similar reasons
[22:55:57] <o11c> FreeFull: it is an issue even if it's "optional"
[22:56:04] <pyon> SiegeLord: So, yes, you can use C++ with a garbage collector, but it is kind of like using a fork and a knife to eat food served in a Chinese bowl.
[22:56:10] <o11c> FreeFull: because you can't control what 3rd party libraries use
[22:56:14] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:56:23] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:56:27] <mcpherrin> Matthias247: I saw your post/code, and yeah.
[22:56:43] <FreeFull> o11c: True
[22:56:58] <jadbaires> Matthias247: I know noting about Widget Trees :/
[22:56:59] <FreeFull> I'd hope that the GCd and non-GCd code would integrate well though
[22:57:14] <Matthias247> jadbaires: anything event-based is hard
[22:57:21] <jadbaires> right
[22:57:26] <SiegeLord> pyon: You can have deterministic cleanup in a GC'd language too, as long as it has stack allocation
[22:57:27] <Matthias247> jadbaires: widget trees are what UIs are made of
[22:57:35] <markos> o11c, ok, I would do, but frankly, for example, libcurl++ is just a c++ wrapper to a C library, for json, there are tons of alternatives, did the search recently and that was actually the reason I turned away from C++ for my project and decided to look at more modern languages like Go and now Rust
[22:57:49] <markos> s/I would do/I would do too/
[22:58:09] <o11c> FreeFull: expecting anything like that out of GC code just doesn't happen.
[22:58:14] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:58:32] <Matthias247> SiegeLord: I plan to look also a little more on D. I liked the syntax pretty good. But was also a little turned off by GC
[22:58:38] <o11c> markos: "wrapper for a [well-designed] C library" is generally what you *want
[22:58:44] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:58:59] <dwrensha> Is there a `pub mod` equivalent for `extern mod foo = "full-name-of-foo"` --- i.e. can I independently choose the filename and module identifier for an included file?
[22:59:16] <SiegeLord> Matthias247: I'm not trying to advertise D here... having used it for 4 years, it sucks... I'm just saying it fits the bill as the next C++ as much as Rust does :P
[22:59:20] <markos> o11c, sometimes, when I have no alternative, like for example, with rust-wx or rust-opengl, but not for url, not by a long shot
[22:59:23] <Matthias247> SiegeLord: probably I had liked it better if it was reference counting like Objective C
[22:59:48] <Y> so here is a gist explaining my troubles https://gist.github.com/DanielFath/8760336
[23:00:07] *** Quits: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP) (Ping timeout)
[23:00:26] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:00:34] *** Joins: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP)
[23:00:40] <Y> I want to call common.rs from uses_common.rs
[23:00:41] *** Joins: assaf__ (assaf@moz-793E73B7.cable.012.net.il)
[23:01:06] <markos> o11c, anyway, it's just a matter of personal taste I guess, I don't deny C++ it's power and popularity, but I just don't find myself choosing it for future projects anymore, in fact, the only thing i'm only missing for Rust yet is SIMD support :)
[23:01:07] <Matthias247> SiegeLord: and each person will have other reasons which one or the other sucks more :) But therefore they all have their eglibility :)
[23:01:40] <SiegeLord> Yeah... I think Rust should (and it does) define itself in concrete terms... not relative to the monster of C++
[23:01:49] *** Quits: assaf758 (assaf@moz-E3D80CCC.cable.012.net.il) (Ping timeout)
[23:02:22] *** Quits: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net) (Ping timeout)
[23:02:56] *** flaper87 is now known as flaper87|afk
[23:03:23] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[23:04:17] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:05:01] *** Joins: Earnestly (earnest@moz-1CE0D638.dyn.plus.net)
[23:05:05] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:05:32] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[23:05:44] <Matthias247> my main dislikes against C++ are headers, other verbosity, template bloat and the associated error messages, compile time, and the standard library
[23:07:19] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[23:07:24] <Matthias247> C# fixes most of that - but is not native ;)
[23:07:48] <o11c> headers are the one thing that really bugs me, but Rust doesn't fix that
[23:07:50] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:08:07] <o11c> rust basically includes *everything* as if it's a header
[23:08:47] <Matthias247> Rust has no headers, but I find the module system and the reexports are at a similar level
[23:09:02] <SiegeLord> That's not quite true... Rust's headers are the metadata
[23:09:06] <pyon> o11c: Well, you do not have to distribute source code files alongside compiled Rust crates.
[23:09:38] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:09:56] <pyon> o11c: In C++, you need do distribute headers containing class definitions, private members included.
[23:10:57] <pyon> o11c: Also, there is no crap like "templates are only fully type-checked when they are instantiated".
[23:11:20] <markos> btw, does Rust have a stable ABI by design? ie, do you have to rebuild *everything* with a new release?
[23:11:41] <mcpherrin> markos: stable ABI is not yet done but is a desired feature
[23:11:47] <markos> ok, nice to know that
[23:11:48] <mcpherrin> markos: Mozilla is trying to hire somebody to do that now
[23:11:58] <mcpherrin> so if you have a passion for ABI design :P
[23:11:59] <markos> great
[23:12:11] *** Quits: nkoep (nik@moz-5D131CA4.pool.mediaways.net) (Quit: Leaving)
[23:12:20] <markos> mcpherrin, I don't think I qualify as a compiler engineer :)
[23:12:30] <eddyb> mcpherrin: apparently it was "API design"
[23:12:40] <mcpherrin> eddyb: Oh, I heard ABI design :-P
[23:12:41] <pyon> lol, "passion for ABI design"
[23:12:50] <mcpherrin> Hey man ABIs are important
[23:12:53] <eddyb> mcpherrin: https://careers.mozilla.org/en-US/position/o3VZWfwD
[23:12:54] <mcpherrin> I think C++ got theirs wrong :)
[23:13:12] <eddyb> markos: it's not really about the compiler, but public APIs
[23:13:26] <pyon> mcpherrin: There is no denying ABIs are important. Just that I cannot see why anyone would be passionate about designing an ABI.
[23:13:29] *** Quits: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net) (Client exited)
[23:13:40] <mcpherrin> pyon: haha, I could get into that :)
[23:14:05] <Matthias247> pyon: I guess for every thing there are pepole who are passionate about it :)
[23:14:05] <SiegeLord> It'd be nice if there was a solution to Rust library's ABI volatility
[23:14:08] <mcpherrin> but I also get excited over silly things :)
[23:14:25] <SiegeLord> Headers are annoying, but at least you control the ABI very well
[23:14:39] <Matthias247> Me too. But for some things only for a short time - until they start to annoy me :)
[23:14:43] <markos> right, nice to know that, still I think I'd prefer to code for Rust, rather than code on Rust (unless it was coding things like SIMD, which I *am* passionate about :)
[23:15:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:15:46] <pyon> mcpherrin: Can ABIs make use of weird non-ASCII characters?
[23:16:05] <mcpherrin> pyon: I don't see why they couldn't, but I've never seen it done
[23:16:23] <mcpherrin> buggy linkers / dynamic loaders might get angry at you.
[23:18:01] <mark_edward> cam amyone help me with workarounds for an ICE
[23:18:04] <mark_edward> ?
[23:18:11] *** Quits: rwt_ (rwt@9918FB04.DB91A3F2.51B6877.IP) (Quit: Leaving)
[23:18:36] <mcpherrin> mark_edward: sure.  Pastebin/gist code & error?
[23:19:07] <mark_edward> mcpherrin, error: https://gist.github.com/MarkJr94/8760549
[23:19:16] <mark_edward> mcpherrin, code: https://github.com/MarkJr94/diagrust/blob/master/jsonutil.rs#L85
[23:20:34] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[23:20:40] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:21:33] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:21:34] *** ChanServ sets mode: +ao brson brson
[23:23:07] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[23:24:41] *** Quits: cdidd (cdidd@moz-43FF9F6A.broadband.corbina.ru) (Ping timeout)
[23:28:26] *** Joins: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net)
[23:29:27] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:32:59] <mark_edward> mcpherrin, any ideas?
[23:34:31] <mcpherrin> mark_edward: nothing I recognize, sorry :)
[23:35:12] *** Quits: Y (Mibbit@moz-FDF648E4.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:15] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[23:37:38] <dbaupp> mark_edward: have you checked the issue tracker for that ICE message?
[23:38:16] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[23:38:24] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[23:38:35] *** Joins: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca)
[23:39:40] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:39:42] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[23:39:55] <mark_edward> this seems to be the issue, it's a relatively long-standing one i think... https://github.com/mozilla/rust/issues/5121
[23:41:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:42:18] *** Quits: kvanb (kvanb@moz-C90B1CF0.lns10.lon.bigpond.net.au) (Ping timeout)
[23:42:48] *** Quits: hoverbear (hoverbear@moz-9FE6A987.wireless.uvic.ca) (Quit: Taking a nap.)
[23:43:09] *** Quits: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP) (Ping timeout)
[23:43:20] *** Joins: cdidd (cdidd@moz-59E35386.broadband.corbina.ru)
[23:46:24] *** Joins: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP)
[23:46:29] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:46:50] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[23:47:21] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:48:25] *** Joins: akhosrav (akhosrav@moz-3F7067A0.tukw.qwest.net)
[23:49:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[23:50:29] *** Joins: kvanb (kvanb@754FCA9B.CCE6F951.1611EE05.IP)
[23:53:15] *** Joins: tcreate (tcreate@moz-80F3706A.hsd1.ma.comcast.net)
[23:53:22] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:53:55] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:54:27] *** Joins: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net)
[23:54:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[23:54:41] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[23:56:01] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Quit: Leaving)
[23:57:27] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[23:59:12] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
