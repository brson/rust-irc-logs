[00:12:26] <zeiris> Tiffany: that Urbit crypto looks amazing.
[00:15:10] <zeiris> There's some ed25519 jets in there, maybe that's what sign/vera do.
[00:17:13] <Tiffany> zeiris: they have some code for ECC, but it's incomplete, they only use RSA at the moment
[00:17:17] <Tiffany> at least, that's what I heard
[00:17:46] <bascule> Tiffany: is there a timing sidechannel in their RSA implementation?
[00:17:57] <bascule> that'd be super awesome
[00:18:05] <Tiffany> bascule: there probably would be if you ran this in a nock VM without the jets
[00:18:14] <Tiffany> (it would also probably take a hundred years to perform a sign operation)
[00:18:17] <bascule> hahahaha
[00:18:27] <bascule> I was talking to Joe Armstrong (creator of Erlang) at Strange Loop
[00:18:36] <bascule> who wants to write a content addressable distributed storage system
[00:18:41] <bascule> just like everybody, their dog, and me
[00:19:08] <bascule> he was like "I implemented RSA myself in Erlang! People are like 'Normally Joe I'd tell you not to roll your own crypto but for you I'll make an exception'"
[00:19:17] <bascule> I'm like "Is it resistant to timing attacks?" "Timing attacks?"
[00:19:41] <bascule> "Yeah, unless you use something like random blinding it's actually somewhat easy to recover RSA private keys based on timing measurements" "Oh"
[00:19:49] <Tiffany> hahahaha
[00:20:00] <Tiffany> okay, to be fair
[00:20:03] <Tiffany> urbit is native bigint
[00:20:08] <Tiffany> which probably makes RSA a bit easier
[00:20:25] <Tiffany> and probably also assures that it will have timing attacks?
[00:20:31] <zeiris> Language bigint support just enables people to go mad with power.
[00:20:43] <Tiffany> it's not just support, zeiris
[00:20:45] <Tiffany> it's the only type
[00:20:55] <Tiffany> everything is encoded as bigints
[00:20:57] <Tiffany> like even strings
[00:21:58] <zeiris> Amazing.
[00:22:35] <Tiffany> it's basically cons lists which you store bigints in
[00:23:12] <bascule> Tiffany: there's usually no option but to use bignums to implement RSA, so instead of trying to achieve "constant time" you can use random blinding so the timing is cryptographically random
[00:23:25] <bascule> also "constant time" is such a bad phrase
[00:23:32] <bascule> should really be "secret independent timing"
[00:23:33] <bascule> oh well
[00:23:43] <bascule> people get into weird semantic argument ratholes about "constant time"
[00:23:45] <Tiffany> I'm guessing that's where you usleep for a random amount of time?
[00:23:49] <bascule> no
[00:23:51] <Tiffany> oh
[00:23:55] <Tiffany> there's no wikipedia page on it
[00:24:01] <bascule> https://en.wikipedia.org/wiki/Blinding_(cryptography)
[00:24:08] <Tiffany> oh
[00:24:09] <bascule> you mix some random data into the computation
[00:24:19] <bascule> then take it out when you're done
[00:24:29] <Tiffany> that definitely needs a redirect
[00:31:04] <Tiffany> huh
[00:32:02] <Tiffany> does this work on other crypto?
[00:36:51] <zeiris> Suppose you're decrypting random things on the wire, looking for your ciphertext. The smart thing to do would be an AEAD mode with a selectable authentication tag size, but that's implementation effort. How effective is the "key checksum" type mechanism, where there's a null pad or set of parity bits that confirm what you've decrypted is an actual key?
[00:37:57] <zeiris> Such checksums seem common in old real-world systems, but I'm not sure where they fit in modern primitives.
[00:46:41] <Elainemo> zeiris: you'd need your cipher to be non-malleable at the least.
[00:46:50] <Elainemo> you'd also want to avoid padding oracles
[00:56:41] <bascule> zeiris: o_O
[00:56:53] <bascule> zeiris: I would use an AEAD mode
[00:56:58] <Elainemo> ^
[00:56:59] <bascule> wtf "implementation effort"
[00:57:04] <bascule> everything is implementation effort yo
[00:57:07] <zeiris> The use case is kleptography, with a passive eavesdropping collector examining covert channels. The adversary in that case is other passive collectors that don't know the key. I think that avoids non-timing oracles... Timing oracles would probably spot other things ;)
[00:57:27] <bascule> zeiris: this is exactly what I wanted to do with my vaporware tool Confusion, heh
[00:57:30] <zeiris> Eh, fair. I admit I just didn't want to hack CCM on top of tweetnacl :(
[00:57:45] <bascule> I was using crypto_box
[00:57:53] <bascule> haha CCM
[00:57:56] <bascule> what are you running it on?
[00:58:44] <zeiris> Hm, I'd like to target random network hardware as well as modern workstations. So no GCM.
[00:59:07] <bascule> CCM is nice if your only accelerated primitive is AES and hardware AES is considerably faster than ChaCha20+Poly1305
[00:59:16] <bascule> otherwise I'd use the latter
[00:59:18] <zeiris> Really the primitives don't matter hugely, I'm just looking to specify the overall construction, then have an implementation that doesn't make horrendous choices.
[00:59:38] <zeiris> *sample implementation
[00:59:41] <bascule> we use CCM, FWIW
[01:00:25] <zeiris> Yeah, I've seen it lots for that reason. Kleptography is a funny thing: ideally you're re-using primitives that are already there, so some algorithm agility is useful.
[01:01:12] <bascule> I'm all for cipher agility where the cipher to use is or can be figured out in advance and doesn't require any sort of on-the-wire negotiation or hinting
[01:02:40] <zeiris> Right. No negotiation, just store the algorithms along with the other party's long term pubkey. That would be nice.
[01:02:58] <bascule> yep, tie the algorithms to the keys, not the messages
[01:35:44] <zeiris> Thinking a little more, what I've got is a recipient that never transmits anything, and a sender that has the recipient's long term pubkey hardcoded and transmits its own ephemeral pubkey over a lossy channel. Which would be an easy identity hiding problem, except the lossy one-way channel means transmitting the pubkey multiple times... And before I know it I'm encrypting the ephemeral key with the recipient's public key and worrying about deniability
[01:47:08] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:51:38] <bascule> zeiris: if you can get around bootstrapping then you can ratchet
[02:00:26] *** Joins: brson (brson@moz-bi8.crj.56.172.IP)
[02:18:14] <zeiris> The constraints are too weird, I think. It's strictly unidirectional communication through fake nonces, exfiltrating a public key larger than the nonces. Most of the complexity stems from having to chunk the key up and keep it around for a while.
[02:18:54] *** Quits: blank_name (blank_name@moz-ms6nj1.mi.frontiernet.net) (Ping timeout: 121 seconds)
[02:24:53] <bascule> zeiris: haha, now I have no idea what you're talking about
[02:30:25] <zeiris> Eh, I'll post some code in a few hours =)
[02:50:14] *** Joins: blank_name (blank_name@moz-ms6nj1.mi.frontiernet.net)
[02:53:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:13:36] *** Quits: brson (brson@moz-bi8.crj.56.172.IP) (Ping timeout: 121 seconds)
[03:15:37] *** Joins: brson (brson@moz-i25.7vl.56.172.IP)
[03:22:20] *** Quits: brson (brson@moz-i25.7vl.56.172.IP) (Ping timeout: 121 seconds)
[03:23:02] *** Joins: brson (brson@moz-i25.7vl.56.172.IP)
[03:25:38] *** Joins: WindowsBunny1 (Peter@moz-vlal7g.east.verizon.net)
[03:26:39] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[03:33:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:33:32] *** Quits: WindowsBunny1 (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[03:42:16] *** Joins: WindowsBunny (Peter@moz-p21po0.east.verizon.net)
[04:42:07] *** Quits: brson (brson@moz-i25.7vl.56.172.IP) (Ping timeout: 121 seconds)
[04:43:21] <Ilari> Also, Chrome planning to deprecate <keygen>. Partial replacements include WebCrypto...
[06:11:26] <bascule> Ilari: heh yeah I saw Sleevi talking about it on IRC
[06:11:28] <bascule> sgtm
[06:11:57] <bascule> UX of <keygen> is terrible
[06:20:19] <Ilari> I did try to do something with <keygen> a while back. But came to conclusion that UX of client certs in browsers sucks like a supermassive black hole.
[06:27:37] <Ilari> Given the UX hell browsers give for anything except insecure form-based password authentication, no wonder that is used so much, despite the widely known security problems.
[06:29:19] <Ilari> Well, at least absent extra hardware.
[06:33:15] <Ilari> -> Passwords will stay mainstream for a LONG time.
[06:36:52] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[06:47:37] <Ilari> (E.g. one can get client certs work somewhat nicely if one has a smartcard, of course, most smartcards are not designed for web environment in mind)
[07:51:53] *** Joins: Ilari_ (user@moz-1rfeqq.elisa-laajakaista.fi)
[08:11:02] *** Parts: Ilari (user@moz-cb3c4u.elisa-laajakaista.fi) ()
[08:28:03] *** Joins: Ilari (user@moz-cb3c4u.elisa-laajakaista.fi)
[08:28:28] *** Parts: Ilari_ (user@moz-1rfeqq.elisa-laajakaista.fi) ()
[08:31:14] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[08:42:28] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:51:35] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[10:31:06] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:09:25] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:45:46] *** Joins: eddyb_ (eddyb@moz-ihn.hlc.26.188.IP)
[12:45:55] *** Quits: eddyb (eddyb@moz-ir3t1r.residential.rdsnet.ro) (Connection closed)
[13:11:22] <Tiffany> wtf is the WPA2 handshake?
[13:13:22] <Tiffany> it does.. DH, and then uses a MAC to ensure that they calculated the same result?
[13:13:49] <Tiffany> well, not quite DH
[13:14:14] <Tiffany> this is ridiculous though
[13:14:26] <Tiffany> anyone who knows the secret to the network can decrypt any traffic on it
[13:15:14] <Tiffany> you record their handshake, and you can reconstruct the derived keys trivially
[13:15:26] <Tiffany> there's no secret information other than the pre-shared secret
[13:17:44] <Tiffany> I wish there was a replacement for WPA
[13:17:45] <Tiffany> it's so bad
[13:19:41] <Tiffany> it looks like management frames aren't even encrypted? only the data
[13:20:12] <Tiffany> oh okay
[13:20:19] <Tiffany> you have to use PMF for that
[13:25:53] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:11:33] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:15:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:20:06] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:37:07] *** eddyb_ is now known as eddyb
[15:24:12] *** Joins: gsingh93_ (uid22642@moz-jdrvi9.ealing.irccloud.com)
[15:29:21] *** Quits: frewsxcv (sid86219@moz-99o8eo.charlton.irccloud.com) (Connection closed)
[15:31:41] *** Quits: coyotebush_ (quassel@moz-5oq2q4.coreyford.name) (A TLS packet with unexpected length was received.)
[15:32:05] *** Joins: coyotebush (quassel@moz-5oq2q4.coreyford.name)
[15:32:54] *** Quits: coyotebush (quassel@moz-5oq2q4.coreyford.name) (A TLS packet with unexpected length was received.)
[15:33:34] *** Joins: coyotebush (quassel@moz-5oq2q4.coreyford.name)
[15:42:46] *** Joins: eddyb_ (eddyb@moz-uo3.pug.25.188.IP)
[15:45:46] *** Quits: eddyb (eddyb@moz-ihn.hlc.26.188.IP) (Ping timeout: 121 seconds)
[15:50:51] <vks> Tiffany: The best replacement would be at the TCP/IP layer.
[15:55:55] *** Quits: gsingh93_ (uid22642@moz-jdrvi9.ealing.irccloud.com) (Connection closed)
[15:56:15] <vks> Something like CurveCP.
[15:58:32] <Tiffany> I guess it's best to have end-to-end encryption
[15:58:59] <Tiffany> unless you mean running IP packets inside of an encrypted transport over IP over wifi?
[16:01:14] <Tiffany> the only trouble is that end to end doesn't hide what servers you're accessing to wifi snoopers
[16:02:23] <vks> Yes, end-to-end encryption for every packet. But you are right that it does not solve the anonymity problem.
[16:09:52] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[16:19:50] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:24:17] *** Joins: gsingh93_ (uid22642@moz-jdrvi9.ealing.irccloud.com)
[16:48:02] <eternaleye> Tiffany: Personally, I disagree (strongly) with vks. I'm of the opinion that L2 should have encryption for the sake of confidentiality from those not in the network and access control _to_ the network, L3 should have encryption end-to-end to prevent pushing the narrow waist upwards and for end-to-end confidentiality, and L4 should have encryption for per-session key erasure.
[16:48:04] <eternaleye> Tiffany: Encryption at each layer does _different things_, and all are of use.
[16:48:34] <Tiffany> yeah
[16:48:47] <Tiffany> I want better access control on wifi networks
[16:48:48] <Tiffany> PSK is dumb
[16:49:04] <eternaleye> Tiffany: So set up a RADIUS server and use WPA-EAP
[16:49:25] <Tiffany> that doesn't sound very good
[16:49:31] <bascule> RADIUS :(
[16:49:42] <bascule> Tiffany: you can authenticate using a unique private key per device
[16:50:03] <Tiffany> yeah
[16:50:14] <Tiffany> wait, is that an existing thing?
[16:50:31] <bascule> yes
[16:50:41] <Tiffany> oh
[16:51:02] <eternaleye> bascule: loldiameter, though
[16:51:04] <eternaleye> bascule: _everything_ in that space sucks
[16:51:38] <bascule> lol DIAMETER indeed
[16:52:03] <eternaleye> "I know, let's use SCTP!" Now you have $MAX_CHANNELS problems.
[16:52:08] <Elainemo> heh
[16:56:19] *** Joins: frewsxcv (sid86219@moz-99o8eo.charlton.irccloud.com)
[16:58:09] <eternaleye> Someone should do up a list of existing protocols by purpose, boil them down to desiderata, and rank how much they all suck both by desiderata and by complexity.
[16:58:13] <eternaleye> RADIUS and DIAMETER will likely be stand-out examples
[16:58:24] *** Joins: vks (quassel@moz-l5qmbl.pools.vodafone-ip.de)
[16:59:41] <bascule> you forgot TACACS+
[17:06:59] <eternaleye> I was trying to.
[17:26:43] <Elainemo> woo more javascript crypto: https://encryptr.org/
[17:31:09] <Tiffany> a password manager huh?
[17:31:22] <Tiffany> I wonder if it passes the ultimate test: does it encrypt the whole database, or just individual records/passwords?
[17:31:43] <Elainemo> everything.
[17:33:35] <Elainemo> https://github.com/devgeeks/Encryptr/blob/master/src/app.js#L297
[17:33:38] <Elainemo> that's comparatively nice.
[17:34:18] <Tiffany> I hope the other code checks when the returned string is empty
[17:34:29] <Tiffany> I am.. really skeptical of password managers
[17:34:44] <Elainemo> in general or specific ones?
[17:34:51] <Tiffany> in general
[17:34:54] <bascule> ha! < eternaleye> I was trying to.
[17:34:56] <bascule> seems good
[17:34:57] <Tiffany> I've looked at half a dozen and they're all terrible
[17:35:51] <Tiffany> one even claimed to encrypt the whole database and then proceeded to not encrypt the whole database
[17:36:08] <Elainemo> I use keepassx.
[17:36:11] <Tiffany> I don't think a single one used MACs
[17:36:20] <Tiffany> I don't remember what keepass uses
[17:36:25] <Tiffany> I use a gpg-encrypted flat file
[17:37:47] <Tiffany> they're not so bad as a file you keep on your computer, but most of them advertise their crypto features as making it safe to store online on services like dropbox
[17:37:52] <Tiffany> or in their own servers (lastpass)
[17:38:37] <eternaleye> Crypton looks pretty nice overall
[17:38:48] <Elainemo> it does.
[17:38:49] <Tiffany> yeah, it looks like it might actually be decent
[17:41:27] <eternaleye> If the application-level container_record contents form a CRDT, it could be very nice indeed
[17:42:16] <Elainemo> I don't like the look of their first two audits.
[17:42:27] <Elainemo> they made some dumb, easy mistakes.
[17:43:14] *** Joins: eddyb__ (eddyb@moz-i392ju.residential.rdsnet.ro)
[17:43:37] *** Quits: eddyb_ (eddyb@moz-uo3.pug.25.188.IP) (Connection closed)
[17:43:46] <Elainemo> at least they got an audit and published it
[17:54:07] <bascule> Tiffany: one of the ones that bugs me the most (especially since it has so many zealots) is LastPass
[17:54:19] <bascule> Tiffany: they make you use your master password online for their web site
[17:54:20] <bascule> wtf
[17:54:20] <Tiffany> yeah same
[17:54:27] <Tiffany> ...
[17:54:33] <Tiffany> oh
[17:54:50] <bascule> so when they recently had an online password breach, it affected everyone's password db too
[17:54:53] <bascule> how stupid is that?
[17:55:11] <Tiffany> yeah that's stupid
[17:55:12] <Elainemo> "Cloud" password managers creep me out.
[17:55:22] <bascule> yep
[18:08:45] *** eddyb__ is now known as eddyb
[18:32:13] *** Quits: gsingh93_ (uid22642@moz-jdrvi9.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[18:57:29] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:06:23] <Ilari> Replacing some of the uses of <keygen> with WebCrypto... Probably will be great for security. :->
[19:06:36] <bascule> lololol Ilari 
[19:06:40] <bascule> I just want U2F :(
[19:06:59] <bascule> https://bugzilla.mozilla.org/show_bug.cgi?id=1065729#c62
[19:45:10] *** Quits: skeuomorf (skeuomorf@moz-qgk.n1e.32.197.IP) (Ping timeout: 121 seconds)
