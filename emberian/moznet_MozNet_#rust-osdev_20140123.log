[00:03:19] *** Quits: nszceta (quassel@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[00:04:47] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:09:58] *** Parts: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) ()
[00:20:22] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:26:16] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[00:30:42] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:00:18] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[01:16:52] *** kimundi is now known as zz_kimundi
[01:17:25] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[01:44:54] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[02:09:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:24:49] *** Quits: ptc (Adium@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[02:51:48] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:59:20] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[03:17:20] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[03:17:42] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:20:44] *** Quits: japaric (japaric@17483874.6B340C30.BFC118EE.IP) (Ping timeout)
[03:21:26] *** Joins: japaric (japaric@17483874.6B340C30.BFC118EE.IP)
[03:33:57] *** Joins: trecer (trecer@4D461802.AE5E2FB1.689607DE.IP)
[03:34:01] *** Quits: trecer (trecer@4D461802.AE5E2FB1.689607DE.IP) (Input/output error)
[03:36:39] <mcpherrin> yay I just printed the letter 'A' inside qemu
[03:37:16] *** Quits: zz_kimundi (kimundi@moz-E1616236.dip0.t-ipconnect.de) (Ping timeout)
[03:37:31] <dbaupp> mcpherrin: can you do 'B' yet?
[03:37:36] <mcpherrin> dbaupp: Yes!
[03:37:50] <dbaupp> almost the whole alphabet!
[03:41:13] *** Joins: zz_kimundi (kimundi@moz-8F8F3513.dip0.t-ipconnect.de)
[03:41:15] *** zz_kimundi is now known as kimundi
[03:41:36] <devbug> What comes after 'B'?
[03:42:05] <mcpherrin> devbug: #MV*()>SDk+!^ &@P&]JEA&#65535;Segmentation Fault
[03:42:36] <devbug> mcpherrin: already have core dumps implemented?
[03:42:42] <mcpherrin> devbug: hah gosh no
[03:46:21] <yuriks> well, you can segfault :)
[03:47:08] <mcpherrin> haha mostly a joke
[03:47:12] <mcpherrin> I can't actually segfault
[03:47:14] <mcpherrin> don't have segments
[03:47:49] <yuriks> it's funny because in OS dev, Seg Faulting is a high achievement :D
[03:48:16] <mcpherrin> :)
[03:48:20] <mcpherrin> I'll have it by next week
[03:48:26] <mcpherrin> mark my words!
[03:48:27] <mcpherrin> :P
[03:48:33] <mcpherrin> Dunno, haven't used an x86 mmu in a while
[03:48:40] <mcpherrin> and I suppose I have a real job now
[03:50:53] <yuriks> wish I could make as fast progress as you can. I've spent a few night on this thing and the only thing I got yet it printing a memory map from EFI
[03:51:29] <mcpherrin> well i'm only printing characters out of a serial console
[03:51:37] <mcpherrin> that's not much :P
[04:46:26] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:13:38] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[05:19:59] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[05:23:41] *** Quits: ptc (Adium@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[05:37:08] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[05:37:44] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[05:45:29] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[05:45:39] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Ping timeout)
[05:54:56] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:55:46] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[05:58:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:03:07] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[06:04:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[06:04:29] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:06:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:09:22] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[06:18:42] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:34:26] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[06:34:33] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:35:53] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:37:27] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:10:02] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[08:28:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:46] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:44:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:57] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:45:20] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:55:31] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:57:08] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Quit: leaving)
[09:19:35] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:39:35] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[09:57:45] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[09:57:51] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[10:29:06] * pcmattman appears
[10:29:17] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[10:31:32] * strcat throws vanishing dust on pcmattman
[10:32:07] <pcmattman> welp
[10:32:37] <pcmattman> looks like much has changed since I last poked at rust
[10:32:54] <pcmattman> should poke rustic again and see how much of it can be rewritten with new shininess
[10:33:41] <eddyb> pcmattman: I tried to rewrite a few things a while back
[10:34:00] <eddyb> (I have a branch named "refactoring" or something similar)
[10:34:20] <eddyb> pcmattman: did you see my random comments about runtime interface polymorphism?
[10:34:28] <pcmattman> no
[10:34:35] <pcmattman> sounds terrifying
[10:35:26] <eddyb> pcmattman: can you have an universal base class "Many" in C++ and dynamically request other virtual base classes (that have nothing to do with "Many") from a Many instance?
[10:36:40] <eddyb> kinda like dynamic_cast, except from a base class to a different base class
[10:36:48] <eddyb> and with no special runtime support
[10:37:08] <pcmattman> I suppose if everything inherits from a single base class... but what on earth is the use case?
[10:37:39] <eddyb> remember how one couldn't really enhance Device from a module, in pedigree
[10:37:52] <eddyb> and the nonsense we had to deal with for UsbHub?
[10:38:28] <eddyb> with DST, type DeviceHandle = RWArc<Device>; trait Device: Many {}
[10:39:22] <eddyb> let dev: DeviceHandle = RWArc::new(UsbHidDevice {...});
[10:41:09] <eddyb> dev.with_ref(|dev| dev.as::<UsbDevice>().get_vendor_name());
[10:42:09] <eddyb> pcmattman: a bit hard to come up with a complete example, but it works so much better in Rust
[10:42:18] <pcmattman> fair enough :)
[10:42:26] <eddyb> because traits are external to types
[10:43:18] <eddyb> pcmattman: https://gist.github.com/eddyb/f828f8ce819a5f00d42d#file-many-rs-L55-L84
[10:43:59] <eddyb> the implementor of Many for a type decides what interfaces to expose, that macro generates a switch over type IDs, returning a vtable from each case
[10:45:17] <eddyb> it's devirtualized just fine (with a LLVM patch that got merged a week or so ago) and someone else is working on lowering switches to perfect hash tables in LLVM
[10:48:25] <pcmattman> not bad
[10:48:28] <eddyb> pcmattman: I want IRQ handlers to be something like RWArc<IrqHandler> where IrqHandler is a trait with a single method - you need DST for this, because RWArc<~IrqHandler> stores the vtable *inside* the arc box, so you can't cast RWArc<~MyDevice> to RWArc<~IrqHandler>
[10:49:48] <eddyb> if we had DST already, I'd work on rustic instead. the only thing I could try to implement is cross-crate pluggable static interfaces
[10:50:06] <pcmattman> as an aside, I'm super curious to see what writing a VT100 emulator would be like in Rust.
[10:50:36] <eddyb> pcmattman: because ADTs?
[10:51:32] <pcmattman> safety and pattern matching
[10:51:39] <eddyb> yummy
[10:52:06] <pcmattman> my holiday project recently was a vt100 emulator for the text mode console in pedigree (if graphics mode doesn't work)
[10:52:18] <eddyb> about the pluggable thing - weak static &Trait's - to override, for example, rust-core's default allocator in rustic, with rust-core as a separate crate, and it shouldn't affect performance (it's trivial to devirtualize during LTO)
[10:52:39] <pcmattman> and now I'm working on improving the xterm emulation and fixing bugs... so, it's the thing at the front of my mind and so I'm curious about how it looks in rust :)
[10:53:08] <strcat> pcmattman: vttest! ;p
[10:53:21] <pcmattman> strcat: vttest has been insanely amazing
[10:53:24] <eddyb> pfffft. I think that's more fun than debugging LLVM asserts caused by modifying trans code in rustc :(
[10:53:50] <strcat> pcmattman: vte and urxvt both utterly fail it ;\
[10:54:00] <pcmattman> strcat: SO MANY terminals fail it
[10:54:07] <strcat> I don't know a terminal passing it
[10:54:10] <strcat> I expect kmscon does well
[10:54:13] <pcmattman> uh
[10:54:17] <pcmattman> xterm passes it pretty well ;)
[10:54:22] <eddyb> I wonder how konsole fares
[10:54:28] <strcat> pcmattman: hm, I guess it does ;]
[10:54:36] <pcmattman> OSX's Terminal.app passes it pretty well too
[10:54:44] <pcmattman> iTerm2 on OSX fails, gnome-terminal fails, etc...
[10:54:50] <strcat> yeah gnome-terminal is vte
[10:54:53] <eddyb> wait, I have vttest, let's play with it :)
[10:54:55] <pcmattman> ah
[10:55:03] <strcat> it's a gtk widget
[10:55:19] <pcmattman> I busted my ass to get vttest passing in at least the basic tests.
[10:55:33] <strcat> pcmattman: like geany/gedit embed vte cause they're silly
[10:55:37] <pcmattman> double-width/height text and such don't work of course, and alternate character sets don't either, etc
[10:55:56] <strcat> lilyterm, lxterminal, terminator, xfce4-terminal, gnome-terminal, pantheon-terminal, roxterm, sakura, tilda, blah blah
[10:55:58] <strcat> all vte
[10:56:00] <pcmattman> strcat: huh. TIL. I just recently switched from gnome-terminal to urxvt, better overhead
[10:56:15] <strcat> pcmattman: yeah but urxvt has broken unicode ;p
[10:56:22] <pcmattman> I don't do much unicode stuff :)
[10:56:35] <eddyb> VT52 fails, "special graphics character set" isn't there :/
[10:56:44] <strcat> pcmattman: I have my own crappy wrapper around vte
[10:56:50] <strcat> url hints! ;p
[10:57:11] <pcmattman> eddyb: vt52 mode works aside from character sets on pedigree (text mode) :D
[10:57:43] <strcat> pcmattman: the vte devs did really dumb stuff over time... recently started to get a lot better
[10:57:56] <strcat> 0.35.0 fixed a ridiculous number of longstanding issues
[10:58:07] <pcmattman> strcat: I didn't really have any desire to write a wrapper :P
[10:58:18] <strcat> like text rewrapping finally works.... that's a feature OS X Terminal.app and urxvt both have too
[10:58:38] <pcmattman> rewrapping as in, when the terminal resizes the text reflows?
[10:58:40] <strcat> print stuff with 100 columns, resize to 80 columns it will wrap, resize to 100 it will unwrap
[10:58:42] <strcat> pcmattman: yeah
[10:58:44] <pcmattman> right
[10:58:48] <strcat> pcmattman: vte has had it for ages but it never worked
[10:58:50] <strcat> sad
[10:59:05] <strcat> it stored it as the original lines but couldn't redraw it
[10:59:19] * pcmattman ponders how to implement that
[10:59:25] <strcat> pcmattman: they store the lines as output
[10:59:30] <strcat> wrapping is a display issue
[10:59:42] <eddyb> vttest is annoying
[10:59:58] <strcat> pcmattman: it also has 32-bit color support in an upcoming patch ;p
[11:00:10] * strcat is impressed with how they are turning it around
[11:00:18] <strcat> maybe soon they'll make it fast like it once was
[11:00:22] <pcmattman> strcat: right, so they're just storing the line to be written and iterating over the lines to write them or something
[11:00:23] <eddyb> turns out it filled my backlog
[11:00:26] <strcat> before it dumped the old buffer into /tmp ;s
[11:00:33] <pcmattman> that is, iterating over the lines to get them to the display
[11:00:52] <strcat> pcmattman: yeah, and unicode makes dealing with the lines themselves non-trivial anyway
[11:01:01] <strcat> pcmattman: since 1 grid cell can be N code points...
[11:01:10] <pcmattman> right
[11:01:35] <strcat> this is where urxvt goes wrong
[11:01:38] <strcat> one way, at least
[11:01:45] <strcat> it assumes there are no more than 4 code points per cell
[11:02:00] <pcmattman> to clarify, the line they're storing is inclusive of all the control sequences, and those control sequences are handled on display?
[11:02:05] <pcmattman> oh hey that's nice of it
[11:02:19] <strcat> it also has outdated hard-coded unicode tables and mangles anything new
[11:02:32] <strcat> + broken font rendering, and can't use fontconfig despite linking with it
[11:02:35] <strcat> ;p
[11:02:41] * strcat is an ex-urxvt user
[11:03:03] <pcmattman> fair enough
[11:11:16] <pcmattman> eddyb: yes, it'll do that to your backlog :)
[13:21:44] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[13:30:05] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:01:11] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[14:05:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[14:06:27] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Ping timeout)
[14:11:38] *** bstriecoin is now known as bstrie_cheersquad
[14:15:44] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[14:24:37] *** Joins: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu)
[14:37:17] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:42:51] *** Quits: yuriks (yuriks@54B2E07B.1611DED.F6EE4B40.IP) (Ping timeout)
[14:53:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:00:03] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:01:52] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:23:33] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[15:24:24] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:28:19] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[15:37:21] *** Joins: yuriks (yuriks@CD8313C8.88B480FC.748B6D8D.IP)
[15:39:22] *** Quits: yuriks (yuriks@CD8313C8.88B480FC.748B6D8D.IP) (Ping timeout)
[15:47:21] *** Joins: yuriks (yuriks@1BBAC4FD.185DEF97.F6EE4B40.IP)
[16:57:32] *** Joins: mib_m0nk2y (Mibbit@moz-961050B9.hfc.comcastbusiness.net)
[16:57:33] *** Quits: mib_m0nk2y (Mibbit@moz-961050B9.hfc.comcastbusiness.net) (Quit: mib_m0nk2y)
[16:59:52] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[17:04:32] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[17:07:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:11:21] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:15:06] *** Quits: ptc (Adium@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[17:23:36] *** bstrie_cheersquad is now known as bstrie_erudecorp
[17:23:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:26:38] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[17:38:16] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[18:03:47] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:07:34] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[18:11:24] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:57:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[19:02:04] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[19:07:56] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[19:26:59] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[19:32:35] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:41:16] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:52:29] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[20:03:13] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[20:05:30] *** bstrie_erudecorp is now known as bstrie_capn
[20:22:45] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:07:14] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[21:27:46] *** bstrie_capn is now known as bstrie_parenthetical
[21:32:48] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[21:41:01] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Ping timeout)
[21:42:54] *** bstrie_parenthetical is now known as bstrie_remorse
[21:59:34] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[22:05:20] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:34:00] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:35:34] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:56:00] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[23:06:25] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[23:07:17] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:18:02] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[23:59:28] *** Quits: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
