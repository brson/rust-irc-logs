[00:06:40] <jack> bjz: that's the plan
[00:09:02] <bjz> coolies, pr away
[00:09:28] <bjz> or shall I?
[00:09:38] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[00:09:52] <jack> bjz: is WindowDataMap::init thread specific?
[00:10:00] <jack> ie, can i just call it from anywhree?
[00:10:03] <bjz> it uses TLS
[00:10:11] <bjz> I hate it
[00:10:16] <bjz> with a passion
[00:10:18] <bjz> x)
[00:15:35] * kmc tests jack's glfw branch
[00:15:49] <bjz> I'm adding it now
[00:16:29] <jack> you just saw my push? :)
[00:17:17] <jack> i'm testing it first. i am wondering if spawn_sched will deadlock if you try to spawn on the same thread
[00:17:53] <bjz> jack: oh, I just pushed it
[00:17:59] <bjz> :P
[00:18:33] <bjz> (glfw::{init,terminate})
[00:18:54] <bjz> I wish there was a way to ensure it was initialised on the main platform thread
[00:19:09] <bjz> like, at compile time
[00:19:35] <jack> oh you didn't use my PR. i see
[00:19:39] <bjz> sorry
[00:19:43] <jack> not a problem.
[00:19:53] <bjz> I don't seem to have recieved it
[00:21:03] <bjz> ohhh
[00:21:05] <bjz> I see
[00:21:10] <bjz> how you're doing it
[00:21:23] <bjz> yeah that's better
[00:21:43] <bjz> I will overwrite it
[00:21:57] <bjz> could you rebase and send me the pull?
[00:23:00] <bjz> might be useful if it gave you a bool instead of failing
[00:23:58] <bjz> or even a Result<(),()>, then you could do if glfw::init().is_ok() { ... } else { ... }
[00:24:13] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[00:24:13] <ghservo> 01[13glfw-rs01] 15metajack pushed 4 new commits to 06master: 02http://git.io/81Yoeg
[00:24:13] <ghservo> 13glfw-rs/06master 1413bcd36 15Brendan Zabarauskas: Add more native ll functions
[00:24:13] <ghservo> 13glfw-rs/06master 144dd1449 15Brendan Zabarauskas: Add example code to README
[00:24:14] <ghservo> 13glfw-rs/06master 149da3cf9 15Brendan Zabarauskas: Expose native functions in high level wrapper
[00:24:16] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[00:26:15] <jack> you didn't change create() returning Option<Window> did you?
[00:26:28] <jack> i'm failing on the window unwrap for some reason
[00:26:44] <jack> works with your master instead of mine
[00:26:58] <bjz> uh, weird
[00:27:15] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[00:27:15] <ghservo> 01[13glfw-rs01] 15metajack pushed 1 new commit to 06servo: 02http://git.io/lFcUlA
[00:27:15] <ghservo> 13glfw-rs/06servo 148999e44 15Jack Moffitt: Merge branch 'master' into servo
[00:27:15] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[00:27:31] <bjz> what does it say?
[00:28:06] <bjz> jack: https://github.com/bjz/glfw-rs/blob/master/src/glfw.rs#L493
[00:29:30] <jack> probably my init was failing or something
[00:30:08] <bjz> maybe because of the spawn on platform thread thingy?
[00:30:22] * bjz guesses blindly
[00:32:05] <bjz> we should probably also have an example of glfw init/terminate
[00:37:34] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:37:34] <ghservo> [13rust-hubbub] 15metajack opened pull request #5: Fix link flags to not propagate relative paths. (06master...06link-flags)  02http://git.io/jO79MA
[00:37:34] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:39:50] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[00:39:50] <ghservo> [13rust-wapcaplet] 15metajack opened pull request #9: Fix link flags so relative paths are not propagated. (06master...06link-flags)  02http://git.io/UT3qbA
[00:39:50] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[00:41:09] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[00:41:09] <ghservo> [13rust-netsurfcss] 15metajack opened pull request #17: Fix link flags so relative paths aren't propagated. (06master...06link-flags)  02http://git.io/ePyyqQ
[00:41:10] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[00:42:03] <bjz> jack: anyway, send me a pull and I will merge it
[00:42:17] <jack> bjz: i just used yours.
[00:42:27] <bjz> ahhk
[00:42:41] <jack> pcwalton: r? ^ those three
[00:43:03] <jack> also there is a rust-azure and rust-layers update too
[00:43:15] <bjz> I always hate writing safety stuff in the comments :(
[00:47:48] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[00:47:49] <ghservo> 01[13rust-hubbub01] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/YgmGag
[00:47:49] <ghservo> 13rust-hubbub/06master 144640b8d 15Jack Moffitt: Fix link flags to not propagate relative paths.
[00:47:49] <ghservo> 13rust-hubbub/06master 1409a6c29 15Patrick Walton: Merge pull request #5 from metajack/link-flags...
[00:47:49] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[00:48:27] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[00:48:28] <ghservo> 01[13rust-wapcaplet01] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/99CUkA
[00:48:28] <ghservo> 13rust-wapcaplet/06master 14a3db0fa 15Jack Moffitt: Fix link flags so relative paths are not propagated.
[00:48:28] <ghservo> 13rust-wapcaplet/06master 145ed1ff9 15Patrick Walton: Merge pull request #9 from metajack/link-flags...
[00:48:28] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:48:50] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[00:48:50] <ghservo> 01[13rust-netsurfcss01] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/RybxZA
[00:48:50] <ghservo> 13rust-netsurfcss/06master 149520fcb 15Jack Moffitt: Fix link flags so relative paths aren't propagated.
[00:48:50] <ghservo> 13rust-netsurfcss/06master 14aecdedc 15Patrick Walton: Merge pull request #17 from metajack/link-flags...
[00:48:50] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:48:55] <pcwalton> jack: great catch, thank you
[00:53:50] *** Quits: seth (seth@moz-2C443A35.hsd1.co.comcast.net) (Input/output error)
[00:57:38] *** Quits: eholk (eholk@moz-A76CD101.uconnect.utah.edu) (Quit: eholk)
[01:10:41] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:15:12] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[01:15:31] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[01:15:46] <bjz> jack: pushed a change to glfw::init, and added an example
[01:18:54] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[01:24:53] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[01:25:13] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[01:29:32] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[01:31:57] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[01:31:58] <ghservo> [13rust-layers] 15metajack opened pull request #22: Update to latest Rust. (06master-upgrade...06rust-up)  02http://git.io/t-4X-Q
[01:31:58] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[01:32:00] <jack> pcwalton: r? ^
[01:34:07] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[01:34:07] <ghservo> 01[13rust-azure01] 15metajack fast-forwarded 06master-upgrade from 143d4b688 to 14ba24db5: 02http://git.io/3x_n9g
[01:34:07] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[01:34:26] <tikue> how do we make resizing fast again 
[01:34:29] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[01:35:14] <jack> tikue: figure out why it's slow? i think eschweic's work should help too
[01:37:36] <tikue> jack: hmm well also right now when you resize the window, it sends a bajillion resize messages, and they all have to be handled
[01:37:52] <tikue> jack: I don't know why the resize rate limiter doesn't fix that?
[01:38:41] <tikue> actually, there are still a lot fewer resize messages than there would be without the resize rate limiter, I think
[01:38:52] <tikue> but there are still enough that get through to slow it down a lot
[01:39:22] <jack> tikue: maybe a first stab is to fix whatever's wrong with the rate limiter. perhaps it's not limiting it enough
[01:39:58] <jack> tikue: actually you have commit privs i think if you want to review that rust-layer PR above
[01:40:19] <tikue> jack: since when do I have commit privs o_o
[01:40:31] <tikue> but sure haha
[01:42:42] <tikue> jack: why are there parens around *self.tiles
[01:44:07] <jack> because * binds less tight than .
[01:44:13] <jack> so without it it calls the method on the wrong thing
[01:45:11] *** Quits: azakai (alon@2557E599.66715431.D25A875A.IP) (Ping timeout)
[01:45:31] <jack> what is eric's Github name?
[01:45:36] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[01:45:36] <ghservo> 01[13rust-layers01] 15tkuehn pushed 2 new commits to 06master-upgrade: 02http://git.io/fnuw7Q
[01:45:36] <ghservo> 13rust-layers/06master-upgrade 1409df2d8 15Jack Moffitt: Update to latest Rust.
[01:45:36] <ghservo> 13rust-layers/06master-upgrade 14a8843ea 15Tim: Merge pull request #22 from metajack/rust-up...
[01:45:37] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[01:47:30] <eatkinson> jack: eric93
[01:50:31] *** Joins: brendan (brendaneic@moz-C8E58A34.public.wayport.net)
[01:50:48] *** Joins: seth (seth@moz-2C443A35.hsd1.co.comcast.net)
[01:51:49] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:53:07] <jack> eatkinson: oh hey :)
[01:53:52] *** Quits: brendan (brendaneic@moz-C8E58A34.public.wayport.net) (Ping timeout)
[01:55:23] *** Joins: brendan (brendaneic@moz-C8E58A34.public.wayport.net)
[01:55:49] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[02:00:24] *** Quits: brendan (brendaneic@moz-C8E58A34.public.wayport.net) (Ping timeout)
[02:01:45] *** Joins: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:05:24] *** Joins: brendan (brendaneic@moz-C8E58A34.public.wayport.net)
[02:07:45] *** Quits: brendan (brendaneic@moz-C8E58A34.public.wayport.net) (Ping timeout)
[02:08:59] *** Joins: brendan (brendaneic@moz-C8E58A34.public.wayport.net)
[02:13:08] *** Quits: brendan (brendaneic@moz-C8E58A34.public.wayport.net) (Ping timeout)
[02:13:43] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[02:19:07] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[02:21:46] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[02:34:40] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[02:42:06] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[03:05:50] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[03:09:29] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[03:15:31] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[03:15:33] *** Quits: seth (seth@moz-2C443A35.hsd1.co.comcast.net) (Input/output error)
[03:20:38] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Ping timeout)
[03:24:41] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[03:26:32] *** jensnock_ is now known as jensnockert
[03:27:51] <jack> man. i figured that after rowing for an hour and eating dinner, rust would be finished building. but no. still going.
[03:28:35] *** Quits: tjc (tjc@2557E599.66715431.D25A875A.IP) (Quit: Places to go, people to annoy)
[03:34:28] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[03:40:00] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[04:00:28] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[04:00:48] <jdm> heh
[04:04:03] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[04:04:03] <ghservo> [13rust-cocoa] 15metajack opened pull request #10: Update tests for latest Rust. (06master...06check-up)  02http://git.io/kjEavA
[04:04:03] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[04:07:53] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[04:07:54] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:09:52] <jack> i was just thinking i hadn't seen an ice in awhile: error: internal compiler error: drop_ty_immediate: non-box ty
[04:11:29] <jack> jdm: does mozjs spit out tons of warnings for you on linux? -Wunused-local-typedefs
[04:12:03] <jdm> jack: I don't recall seeing that, but I haven't built with the latest rust
[04:12:21] <jack> jdm: these are c++ build warnings :)
[04:12:22] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[04:12:25] <jdm> oh, heh
[04:12:49] <jdm> I remember lots of warnings, but not those in particular
[04:13:23] <bjz_> jack: added an example: https://github.com/bjz/glfw-rs/blob/master/examples/manual-init.rs
[04:13:55] <bjz_> jack: do you handle glfw failure in servo?
[04:14:12] <jack> bjz: not really. 
[04:14:28] <bjz_> jack: I'm not sure how neccsary it is
[04:14:38] <jack> i think while your example is technically correct, it would be a lot simpler if you just showed glfw::terminate() without finally
[04:14:49] <bjz_> jack: to call glfw::terminate
[04:15:05] <bjz_> ok
[04:19:22] <jack> bjz_: I didn't look at what glfwTerminate actually does. probably removes some internal thread local storage or something
[04:19:40] <jack> i don't think glut has any destroy function
[04:27:02] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[04:31:17] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:32:33] <jdm> wow, making contenttest.rs build again took a lot longer than I expected
[04:36:39] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[04:36:39] <ghservo> 01[13rust-cocoa01] 15jdm pushed 2 new commits to 06master: 02http://git.io/lxMO7w
[04:36:39] <ghservo> 13rust-cocoa/06master 149d6ec43 15Jack Moffitt: Update tests for latest Rust.
[04:36:39] <ghservo> 13rust-cocoa/06master 1423bb172 15Josh Matthews: Merge pull request #10 from metajack/check-up...
[04:36:39] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:37:48] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[04:38:24] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[04:43:06] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Ping timeout)
[04:43:10] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[04:43:57] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[04:45:27] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:45:55] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[04:47:04] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[04:53:30] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Quit: eholk)
[04:56:45] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[05:05:32] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[05:10:04] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[05:12:05] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[05:13:41] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[05:15:31] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[05:19:24] *** Quits: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP) (Quit: Lost terminal)
[05:22:29] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[05:26:13] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[05:27:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[05:32:28] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[05:47:54] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:58:17] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[06:01:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:01:57] *** ChanServ sets mode: +qo dherman dherman
[06:18:24] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[06:25:11] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[06:26:43] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:48:51] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:51:11] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[06:56:45] *** Quits: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: Leaving.)
[06:57:34] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[07:20:27] *** Quits: victorporof (victorporo@F32D7940.1C233438.79933D60.IP) (Ping timeout)
[07:21:04] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[07:23:45] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[07:40:04] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[07:44:00] *** Quits: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com) (Input/output error)
[08:09:54] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[08:10:25] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[08:12:12] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[08:15:05] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[08:18:22] *** Joins: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net)
[08:33:35] *** Quits: yury (yury@moz-3BE8938D.ok.ok.cox.net) (Ping timeout)
[08:33:38] *** Joins: yury (yury@moz-3BE8938D.ok.ok.cox.net)
[08:39:48] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[08:47:17] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[09:05:28] *** Joins: Adityab (Adityab@moz-F55C0723.dip0.t-ipconnect.de)
[09:27:50] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[09:42:12] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[10:22:21] *** Joins: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP)
[10:59:31] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[11:04:12] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[11:27:23] *** Joins: jensnockert (jensnocker@moz-8F71B71C.mobileonline.telia.com)
[11:27:54] *** Quits: jensnockert (jensnocker@moz-8F71B71C.mobileonline.telia.com) (Connection reset by peer)
[11:40:35] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[11:51:35] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[11:58:15] *** Quits: arpitab_ (uid10516@moz-31ABA2C0.irccloud.com) (Client exited)
[11:58:15] *** Quits: ttaubert (uid2620@moz-31ABA2C0.irccloud.com) (Input/output error)
[12:04:06] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[12:10:36] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[12:10:45] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[12:11:37] *** Joins: ttaubert (uid2620@moz-31ABA2C0.irccloud.com)
[12:13:13] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[12:17:23] *** Joins: arpitab_ (uid10516@moz-31ABA2C0.irccloud.com)
[12:40:38] *** Joins: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP)
[12:47:26] *** Joins: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP)
[12:47:40] *** bhearsum|afk is now known as bhearsum
[13:29:37] *** Joins: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP)
[13:31:53] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[13:32:44] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[13:47:10] *** Joins: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP)
[13:52:38] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[13:52:44] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[14:05:53] *** Quits: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP) (Quit: Lost terminal)
[14:08:23] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:15:30] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[14:22:43] *** Quits: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP) (Ping timeout)
[14:56:35] *** Joins: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP)
[15:15:05] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[15:15:31] *** Joins: eholk (eholk@moz-511062AD.uconnect.utah.edu)
[15:28:37] *** Quits: dolphinling (andrew@moz-80A1E448.uvm.edu) (Ping timeout)
[15:31:45] *** Joins: dolphinling (andrew@moz-80A1E448.uvm.edu)
[15:37:24] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[15:39:54] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[15:40:39] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[15:40:50] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[15:40:50] <ghservo> [13rust-fontconfig] 15metajack opened pull request #3: Update to latest Rust. (06master...06rust-up)  02http://git.io/oagoSg
[15:40:50] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[15:42:18] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[15:42:18] <ghservo> [13rust-freetype] 15metajack opened pull request #5: Update for latest Rust. (06master...06rust-up)  02http://git.io/TJDSfA
[15:42:19] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[15:46:36] *** Quits: eholk (eholk@moz-511062AD.uconnect.utah.edu) (Quit: eholk)
[15:53:57] *** Joins: eholk (eholk@moz-511062AD.uconnect.utah.edu)
[16:00:48] *** Joins: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com)
[16:02:19] *** Joins: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP)
[16:03:26] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[16:05:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:05:35] *** ChanServ sets mode: +qo dherman dherman
[16:06:31] *** Quits: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net) (Ping timeout)
[16:06:43] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[16:08:03] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:11:00] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[16:11:00] <ghservo> [13rust-xlib] 15metajack opened pull request #3: Update for latest Rust. (06master...06rust-up)  02http://git.io/cyQHWA
[16:11:00] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[16:13:27] *** Joins: tjc (tjc@2557E599.66715431.D25A875A.IP)
[16:18:56] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[16:24:38] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[16:25:21] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[16:25:21] <ghservo> 01[13rust-xlib01] 15metajack pushed 2 new commits to 06master: 02http://git.io/F4zrjA
[16:25:21] <ghservo> 13rust-xlib/06master 1407b785a 15Jack Moffitt: Update for latest Rust.
[16:25:21] <ghservo> 13rust-xlib/06master 14641af36 15Jack Moffitt: Merge pull request #3 from metajack/rust-up...
[16:25:21] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[16:25:36] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[16:25:36] <ghservo> 01[13rust-freetype01] 15metajack pushed 2 new commits to 06master: 02http://git.io/fY9jPg
[16:25:36] <ghservo> 13rust-freetype/06master 14d58e761 15Jack Moffitt: Update for latest Rust.
[16:25:36] <ghservo> 13rust-freetype/06master 14980254d 15Jack Moffitt: Merge pull request #5 from metajack/rust-up...
[16:25:37] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[16:25:40] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[16:26:00] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[16:26:00] <ghservo> 01[13rust-fontconfig01] 15metajack pushed 2 new commits to 06master: 02http://git.io/V-1o9A
[16:26:00] <ghservo> 13rust-fontconfig/06master 14bdf267f 15Jack Moffitt: Update to latest Rust.
[16:26:00] <ghservo> 13rust-fontconfig/06master 1478f84af 15Jack Moffitt: Merge pull request #3 from metajack/rust-up...
[16:26:00] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[16:30:07] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[16:33:25] *** Quits: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP) (Ping timeout)
[16:33:26] *** Joins: reyre (reyre@moz-2E2F18CB.senecacollege.ca)
[16:34:14] *** Quits: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP) (Ping timeout)
[16:38:13] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[16:39:05] *** Quits: reyre (reyre@moz-2E2F18CB.senecacollege.ca) (Client exited)
[16:41:26] *** Joins: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP)
[16:43:45] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[16:44:02] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[16:44:19] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:44:35] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[16:50:53] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[16:58:37] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[16:58:37] <ghservo> [13servo] 15jdm opened pull request #564: Make contenttest harness build again. (06master...06contenttest)  02http://git.io/BYvsNg
[16:58:37] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[17:01:40] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[17:04:21] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:04:27] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[17:04:29] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[17:05:40] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[17:06:37] *** Joins: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP)
[17:08:30] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:09:07] *** Joins: azakai (alon@2557E599.66715431.D25A875A.IP)
[17:09:39] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[17:09:58] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:11:16] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[17:11:24] *** Quits: cait-phone (androirc@B4785BC2.8C19BC3D.26E1259.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[17:11:37] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[17:12:08] *** Joins: eschweic1 (Adium@2557E599.66715431.D25A875A.IP)
[17:12:11] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[17:12:40] *** Quits: Adityab (Adityab@moz-F55C0723.dip0.t-ipconnect.de) (Quit: Adityab)
[17:13:59] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[17:13:59] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/bK9s6g
[17:13:59] <ghservo> 13servo/06auto 1427b059b 15Josh Matthews: Make contenttest harness build again.
[17:13:59] <ghservo> 13servo/06auto 14eb86e50 15bors-servo: auto merge of #564 : jdm/servo/contenttest, r=metajack
[17:13:59] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[17:18:07] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:22:52] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[17:27:59] *** Joins: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP)
[17:30:11] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:31:02] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:34:53] *** Joins: caitp- (caitp@moz-2E2F18CB.senecacollege.ca)
[17:45:37] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[17:46:53] *** Quits: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP) (Ping timeout)
[17:49:47] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[17:51:31] *** Quits: caitp- (caitp@moz-2E2F18CB.senecacollege.ca) (Quit: caitp-)
[18:02:05] *** Joins: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP)
[18:02:08] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:04:23] <jack> pcwalton, brson: any idea about this? https://gist.github.com/metajack/5954671
[18:04:31] <jack> only happens on linux afaict
[18:04:36] <jack> sorry. os x
[18:05:04] <pcwalton> jack: never seen that
[18:06:50] <kmc> how do I trigger a "back" navigation in Servo?
[18:06:56] <jack> kmc: backspace
[18:07:04] <jack> pcwalton: actually it happens on linux too.
[18:07:17] <jack> it's make check of rust-css
[18:07:34] <pcwalton> odd
[18:07:40] <pcwalton> use RUST_LOG=rustc::middle::trans to see where it's going wrong
[18:07:42] <kmc> for some reason Backspace doesn't work for me, but Delete does
[18:07:57] *** Joins: caitp- (caitp@moz-2E2F18CB.senecacollege.ca)
[18:08:04] <jack> kmc: probably because backspace on OS X machines is labeled delete
[18:08:24] <kmc> i'm on a thinkpad running debian
[18:08:31] <jack> we need a keyboard shortcuts section in the readme
[18:08:56] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[18:10:34] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[18:12:57] *** Joins: burg (burg@moz-A644EFFF.dyn.cs.washington.edu)
[18:18:31] <jack> pcwalton: wow with that log line it's really slow. it's still running several minutes later.
[18:18:39] <pcwalton> jack: yup
[18:18:40] <pcwalton> it is
[18:18:52] <pcwalton> RUST_LOG=middle::trans::expr may be faster
[18:19:01] <pcwalton> but only if you're crashing in expr
[18:19:08] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[18:23:21] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:27:29] <jack> fyi: still going
[18:28:45] <kmc> jack: so i'm looking into https://github.com/mozilla/servo/blob/master/src/components/main/constellation.rs#L244-#L248
[18:29:07] <kmc> it seems to be heap corruption; the actual crash happens in malloc() or free() a bit later, in one of a few different places
[18:29:16] <kmc> any tricks for tracking down something like that?
[18:29:47] <jack> valgrind would be my first stop
[18:29:49] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[18:29:49] <ghservo> [13servo] 15jdm opened issue #565: FormData constructor balks on HTMLFormElement parameter  02http://git.io/lMS2aQ
[18:29:49] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[18:29:53] <kmc> ok
[18:30:26] <jack> i'm not sure how much supression you need for rust. there are several heap checking tools and i think most now work fine with rust
[18:30:37] <kmc> that's good
[18:37:29] <jack> pcwalton: we're coming up on 30 minutes to do rustc --test on rust-css. this is normal?
[18:37:43] <pcwalton> with that log? blech
[18:37:53] <pcwalton> maybe middle::trans::expr will be better.
[18:38:09] <pcwalton> all you want to know is what line it was on when it tried to trans and failed
[18:38:52] <jack> what is it doing? it's not just the printfs that are slowing it down. it sits there for long periods of time
[18:39:28] <pcwalton> oh, hmm
[18:39:30] <pcwalton> I have no idea
[18:39:39] <jack> (trying trnns::expr on a faster machine)
[18:40:32] <jdm> jack: jack https://github.com/mozilla/rust/blob/master/src/librustc/middle/trans/glue.rs#L92
[18:40:34] <jdm> that's the failing line
[18:40:53] <jdm> the stack trace isn't that hard to read
[18:41:25] <jdm> oh wait, you mean failing line of the source being compiled
[18:41:47] * jdm fades away into the background
[18:41:51] <jack> jdm: yes ;)
[18:42:32] <jack> pcwalton: does it print out what file it's in?
[18:42:57] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:43:13] <pcwalton> jack: I think it prints pp rust
[18:43:27] <jack> i don't see any of the exprs it is looking at in the rust-css coe
[18:43:59] <jack> it appears to be doing stuff in the iterators
[18:44:11] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[18:44:23] *** Quits: eschweic1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[18:45:00] <jack> i see rust-css exprs only rarely. most of it is iterator code
[18:45:11] <jack> i assume it's inlining all that ?
[18:45:33] *** Quits: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP) (Ping timeout)
[18:46:25] *** Joins: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP)
[18:50:22] <kmc> unsurprisingly, servo in valgrind is really slow :/
[18:50:33] <jack> probably not as slow as this compiler :)
[18:50:38] *** Quits: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP) (Ping timeout)
[18:51:00] <jack> trans::expr is still running (>10m later)
[18:51:15] <kmc> heh
[18:51:33] <jack> the original one just doing trans is also still running, 45m later.
[18:52:05] <pcwalton> jack: that's really weird, it usually isn't that bad for me
[18:52:10] <pcwalton> rust-css isn't that big, I thought.
[18:52:18] <jack> could it be stuck in an infinite loop?
[18:52:27] <pcwalton> seems unlikely to me
[18:52:28] <pcwalton> but maybe
[18:52:32] <Luqman> jack: based on the stack trace it seems to be failing when doing some cleanup after calling base::invoke in trans::callee
[18:52:50] *** Joins: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP)
[18:53:05] <jack> pcwalton: this is what hte output generally looks like for both: https://gist.github.com/metajack/5960128
[18:53:16] <jack> i have no idea if that is normal or not
[18:53:43] <pcwalton> yeah, that's normal
[18:54:12] *** Quits: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP) (Ping timeout)
[18:54:37] *** Joins: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP)
[18:58:22] <Luqman> jack: try RUST_LOG=middle::trans::common and look for add_clean_temp_immediate(%s, %s, %s), to see which ty::t it's passing  glue::drop_ty_immediate that's failing
[18:59:48] <jack> Luqman: no output aside form the error message for that
[18:59:56] <jack> oh wait. i need rustc:: there
[19:03:17] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[19:04:28] <jack> that one finished eventually
[19:04:48] *** Quits: eholk (eholk@moz-511062AD.uconnect.utah.edu) (Quit: eholk)
[19:06:03] <jack> rust: ~"add_clean_temp_immediate([block 7fc8877178b0], *{i64, *tydesc, *i8, *i8, {i64, i64, [i8 x 0]}}, ~str)"
[19:06:04] <jack>  
[19:06:55] <jack> Luqman: is that helpful at all?
[19:08:39] <Luqman> huh, if it's a ~str, how is it hitting the "free_ty_immediate: non-box ty" case o.o
[19:09:18] <Luqman> err, "drop_ty_immediate: non-box ty" rather
[19:09:31] <jack> there's a add_clean_temp_mem later on
[19:09:55] <jack> which has a ty::t of CssSelectResults
[19:11:13] <Luqman> but the stack trace seems to indicate add_clean_temp_immediate
[19:13:19] <jack> should it be possible to tell from this output what block is being cleaned up?
[19:14:01] <jack> Luqman, pcwalton: here's the entire output: https://gist.github.com/metajack/5960332
[19:14:33] <jack> or rather, the last 10k or so lines (all that fits in my terminal buffer)
[19:14:57] <pcwalton> jack: it's probably something that takes types like this: test::TestNode,select::SelectHandlerWrapper<test::TestNode,test::TestHandler>,netsurfcss::select::CssSelectResults
[19:15:22] <pcwalton> maybe that can help you bisect
[19:16:18] <jack> pcwalton: is that the type sig?
[19:16:28] <pcwalton> yeah
[19:18:59] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[19:19:43] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[19:19:45] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[19:25:51] <jack>  ok if eithe rust-css/test.rs single_div_test or single_html_test is uncommented out, then it hits the error
[19:25:55] <jack> with them commented out, everything's fine
[19:26:55] *** Joins: josh (josh@moz-264E1FDC.static.wiline.com)
[19:27:06] *** Quits: josh (josh@moz-264E1FDC.static.wiline.com) (Quit: josh)
[19:27:16] <jack> found the bug
[19:28:26] <Luqman> jack: nice, what was it?
[19:28:54] *** Joins: josh (josh@moz-264E1FDC.static.wiline.com)
[19:29:29] <jack> Luqman, pcwalton: https://gist.github.com/metajack/5960470
[19:29:32] <jack> there's the diff that fixes it
[19:30:01] <jack> looks like a compiler bug where it can't deal with immediately borrowed stack allocations
[19:30:52] <jack> i suppose i should check which of hte two allocations causes it
[19:31:59] <jack> it's the second one, of TestNode
[19:34:15] <jack> nmatsakis: is ^ a known issue? is there some weird interaction with the @-box or something?
[19:38:31] *** Quits: tjc (tjc@2557E599.66715431.D25A875A.IP) (Quit: zzzzzzzzzz)
[19:42:03] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[19:42:53] <kmc> bleh, inside valgrind servo crashes at a different
[19:43:03] <kmc> , unhelpful place
[19:44:27] <nmatsakis> jack: what is the symptom? crash? it's a semi-known bug, in that there are plans to re-examine how we handle cleanups, but I didn't know that that particular code would cause a problem
[19:46:23] <jack> nmatsakis: ICE "error: internal compiler error: drop_ty_immediate: non-box ty"
[19:46:54] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[19:46:54] <ghservo> [13rust-http-client] 15metajack opened pull request #13: Fix test warnings. (06master...06check-up)  02http://git.io/JOe6TQ
[19:46:54] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[19:47:07] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:47:08] <ghservo> [13rust-glut] 15metajack opened pull request #24: Update tests for latest Rust. (06master...06check-up)  02http://git.io/9AZ3Cw
[19:47:08] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:47:48] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:47:48] <ghservo> [13rust-css] 15metajack opened pull request #19: Update tests for latest Rust (06master...06check-up)  02http://git.io/piGpmw
[19:47:48] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:48:27] <jack> jdm: r? ^
[19:48:29] <Luqman> jack: nmatsakis i think this would be a reduced testcase https://gist.github.com/luqmana/c982e9202f860215c154
[19:48:57] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:48:57] <ghservo> 01[13rust-http-client01] 15jdm pushed 2 new commits to 06master: 02http://git.io/2GubPQ
[19:48:58] <ghservo> 13rust-http-client/06master 145130d0b 15Jack Moffitt: Fix test warnings.
[19:48:58] <ghservo> 13rust-http-client/06master 1417afe7a 15Josh Matthews: Merge pull request #13 from metajack/check-up...
[19:48:58] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:49:04] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[19:49:04] <ghservo> 01[13rust-glut01] 15jdm pushed 2 new commits to 06master: 02http://git.io/3z-CbA
[19:49:04] <ghservo> 13rust-glut/06master 1482aec0f 15Jack Moffitt: Update tests for latest Rust.
[19:49:04] <ghservo> 13rust-glut/06master 14ae21c95 15Josh Matthews: Merge pull request #24 from metajack/check-up...
[19:49:05] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[19:49:06] *** Quits: josh (josh@moz-264E1FDC.static.wiline.com) (Quit: josh)
[19:49:09] <jack> Luqman: you're a gentleman and a scholar :)
[19:49:44] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:49:44] <ghservo> [13rust-css] 15jdm closed pull request #19: Update tests for latest Rust (06master...06check-up)  02http://git.io/piGpmw
[19:49:44] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:50:41] <jack> jdm: that's weird that the last message was different
[19:50:46] <nmatsakis> jack: Luqman: interesting. that's not the subsystem I was thinking of. seems like a new bug to me.
[19:50:58] <jdm> yes, it is
[19:51:48] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[19:51:48] <ghservo> [13servo] 15metajack synchronize pull request #563: Replace GLUT with GLFW (06master...06glfw)  02http://git.io/PZ_mWg
[19:51:48] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[19:52:23] <jack> Luqman: i'll let you file the bug since you created the testcase. thanks for your help!
[19:54:17] <Luqman> jack: sure, i wanna investigate a bit first
[19:54:24] *** Joins: eholk (eholk@moz-511062AD.uconnect.utah.edu)
[19:56:13] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[19:56:13] <ghservo> [13servo] 15metajack synchronize pull request #563: Replace GLUT with GLFW (06master...06glfw)  02http://git.io/PZ_mWg
[19:56:13] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[19:56:47] <jack> oh look at that new github feature
[19:57:06] <jack> jdm: i think github upgraded whiel you were merging those 3 pull requests :)
[19:57:10] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[19:57:29] <jdm> what's synchronize mean?
[19:57:57] <jack> i forced pushed
[19:58:33] <jdm> ah, handy
[20:04:31] *** Quits: burg (burg@moz-A644EFFF.dyn.cs.washington.edu) (Quit: burg)
[20:09:11] *** Quits: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP) (Client exited)
[20:13:21] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[20:13:21] <ghservo> [13rust-glut] 15metajack opened pull request #25: Fix test warnings with new Rust. (06master...06check-up2)  02http://git.io/hTBYCQ
[20:13:21] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[20:13:36] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[20:13:36] <ghservo> 01[13rust-glut01] 15metajack pushed 2 new commits to 06master: 02http://git.io/_YCCAA
[20:13:36] <ghservo> 13rust-glut/06master 140f85643 15Jack Moffitt: Fix test warnings with new Rust.
[20:13:36] <ghservo> 13rust-glut/06master 148f253ed 15Jack Moffitt: Merge pull request #25 from metajack/check-up2...
[20:13:36] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[20:14:23] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[20:14:23] <ghservo> [13servo] 15metajack synchronize pull request #563: Replace GLUT with GLFW (06master...06glfw)  02http://git.io/PZ_mWg
[20:14:23] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[20:15:19] *** Joins: burg (burg@moz-A644EFFF.dyn.cs.washington.edu)
[20:22:05] *** Joins: tjc (tjc@2557E599.66715431.D25A875A.IP)
[20:24:18] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[20:25:49] *** Quits: sankha93 (Instantbir@F43B6114.922BE1F.EFB84E89.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[20:26:50] <kmc> weird, when I forked servo on github it made a private repo, is that expected?
[20:26:58] <kmc> i didn't think my account even had private repo privileges
[20:27:01] <kmc> should I just make it public?
[20:29:36] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:34:02] *** Quits: tjc (tjc@2557E599.66715431.D25A875A.IP) (Quit: zzzzzzzzzz)
[20:35:23] <jack> yes
[20:35:35] <jack> yes you should make it public. no it is not expected.
[20:35:45] *** Joins: tjc (tjc@2557E599.66715431.D25A875A.IP)
[20:37:17] <kmc> ok
[20:38:03] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[20:38:03] <ghservo> [13servo] 15metajack synchronize pull request #563: Replace GLUT with GLFW (06master...06glfw)  02http://git.io/PZ_mWg
[20:38:03] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[20:38:24] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[20:38:24] <ghservo> [13servo] 15kmcallister opened pull request #566: Derive more Eq implementations (06master...06derive-eq)  02http://git.io/qCODVQ
[20:38:24] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[20:38:24] <jack> jdm: can you r? https://github.com/mozilla/servo/pull/563
[20:38:35] <jack> only the last commit needs review and it should just be languages changes.
[20:38:56] <jack> there are a few that were sort of strange. the new iterators required some clones where there weren't before.
[20:40:14] <jdm> yeah, I'll do it after this meeting is done
[20:42:45] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[20:42:45] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/MxKooQ
[20:42:45] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[20:42:46] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[20:42:46] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/Ck_w9w
[20:42:46] <ghservo> 13servo/06auto 14cfffd05 15Keegan McAllister: Derive more Eq implementations...
[20:42:46] <ghservo> 13servo/06auto 145af5888 15bors-servo: auto merge of #566 : kmcallister/servo/derive-eq, r=metajack...
[20:42:47] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:47:58] <kmc> so bors will merge onto the 'auto' branch, test the merge commit, then push it to master?
[20:48:21] <Luqman> jack: nmatsakis i found out why the error was happening, it's because of the recent change to have newtype structs as immediates
[20:53:59] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[20:54:40] <pcwalton> argh, nobody is keeping the import lists sorted :)
[20:55:57] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[21:00:27] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:01:36] <jdm> long commit is long
[21:02:42] *** bhearsum is now known as bhearsum|afk
[21:02:47] <jdm> jack: hmm, I'll probably end up moving the trait implementations for wrapper-related code back to dom/bindings/
[21:03:11] <jdm> probably move init_wrapper to WrapperCache as well
[21:03:44] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[21:03:44] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/Ck_w9w
[21:03:44] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[21:03:45] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[21:03:46] <ghservo> [13servo] 15bors-servo closed pull request #566: Derive more Eq implementations (06master...06derive-eq)  02http://git.io/qCODVQ
[21:03:46] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[21:06:22] <kmc> first patch \o/
[21:06:37] <caitp-> \o/
[21:06:43] <pcwalton> sweet!
[21:06:49] <caitp-> right on
[21:08:34] *** Quits: caitp- (caitp@moz-2E2F18CB.senecacollege.ca) (Quit: caitp-)
[21:09:50] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[21:12:39] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[21:12:39] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/E9MSNA
[21:12:39] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[21:12:42] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[21:12:42] <ghservo> 01[13servo01] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/nfPAKQ
[21:12:42] <ghservo> 13servo/06auto 141230282 15Jack Moffitt: Add glfw and glfw-rs to servo build.
[21:12:42] <ghservo> 13servo/06auto 1439e759f 15Jack Moffitt: Fix clean targets.
[21:12:42] <ghservo> 13servo/06auto 14e0e5e1a 15Jack Moffitt: Replace glut with glfw....
[21:12:44] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[21:30:32] *** Joins: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[21:30:41] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[21:31:45] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:39:50] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[21:40:57] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:41:23] <kmc> i'm looking into https://github.com/mozilla/servo/issues/142 .  when do we want to combine reflow events?  if two events differ in the document root node and/or URL, do we need to process both or does that mean navigation occured and we just process the last one?
[21:44:19] *** Quits: eholk (eholk@moz-511062AD.uconnect.utah.edu) (Quit: eholk)
[21:48:41] <pcwalton> kmc: I believe we want to combine reflows iff there are more than one in the queue
[21:48:56] <pcwalton> and we need to take the nearest common ancestor of two root nodes
[21:49:34] <jdm> the root node should probably always be the root
[21:49:51] <jdm> we should be passing another node for the root of the restyling, though
[21:50:57] <kmc> so common ancestor of roots, maximum of damage, latest window size and URL?
[21:51:07] <kmc> and then do we need to notify all of the script_join_chan's?
[21:52:05] <kmc> or is it going to be the same ScriptTask listening on all of them
[21:55:19] <jdm> it's the same script task, but you should be able to only notify the most recent one
[22:00:35] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[22:00:46] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[22:01:34] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:03:56] <kmc> ok
[22:17:35] *** Quits: jessicah (jessicah@moz-B8A3AE25.massey.ac.nz) (Ping timeout)
[22:18:01] *** Joins: jessicah (jessicah@moz-B8A3AE25.massey.ac.nz)
[22:22:13] *** Quits: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP) (Quit: Lost terminal)
[22:24:47] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:24:47] <ghservo> [13rust-opengles] 15metajack closed pull request #21: Add GL_TRUE and GL_FALSE (06master...06accc977a5ba3c47a1c1565393c5e0f3c2b56be47)  02http://git.io/Dtropg
[22:24:47] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:26:43] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[22:26:43] <ghservo> [13servo] 15metajack synchronize pull request #563: Replace GLUT with GLFW (06master...06glfw)  02http://git.io/PZ_mWg
[22:26:43] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[22:28:07] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[22:28:07] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 1415b6443 to 145af5888: 02http://git.io/c8GovQ
[22:28:07] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[22:28:08] * jack tries again with clean-rust logic in the Makefile
[22:28:09] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[22:28:09] <ghservo> 01[13servo01] 15bors-servo pushed 6 new commits to 06auto: 02http://git.io/MRWNpQ
[22:28:10] <ghservo> 13servo/06auto 141230282 15Jack Moffitt: Add glfw and glfw-rs to servo build.
[22:28:10] <ghservo> 13servo/06auto 1439e759f 15Jack Moffitt: Fix clean targets.
[22:28:10] <ghservo> 13servo/06auto 14e0e5e1a 15Jack Moffitt: Replace glut with glfw....
[22:28:11] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[22:31:29] *** Joins: eholk (eholk@moz-511062AD.uconnect.utah.edu)
[22:34:06] <jack> ok. we can now force rust rebuilder. cool :)
[22:34:16] <jack> s/rebuilder/rebuilds/
[22:34:20] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[22:46:11] *** Quits: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP) (Quit: Lost terminal)
[22:49:13] *** Joins: gandi (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:50:01] <gandi> I'm getting build errors around std::libc::c_long
[22:50:02] <gandi> http://pastebin.mozilla.org/2605910
[22:50:09] <gandi> is that an old rust?
[22:50:16] <gandi> or servo not updated to the latest rust?
[22:50:54] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[22:52:14] <kmc> believe so
[22:52:25] <kmc> each Servo commit is supposed to build with a particular version of Rust
[22:52:29] <kmc> the Rust compiler is a git submodule
[22:52:48] <kmc> so you probably need something like:  git submodule update && cd build && ../configure && make -j8
[22:56:10] <gandi> same
[22:56:36] <kmc> don't know then, sorry :/
[22:56:40] <gandi> the src/rust
[22:56:44] <gandi> has pretty old rust
[22:56:49] <gandi> like last commit is from 3 months ago
[22:57:06] <kmc> does "git status" show submodules that are checked out to different commits than the Servo commit indicates
[22:57:30] <gandi> http://pastebin.mozilla.org/2605938
[22:58:07] <gandi> I can just wipe servo and repull
[23:03:39] <Luqman> gandi: odd, the layout now seems to indicate src/compiler/rust not src/rust
[23:03:52] <gandi> yeah
[23:03:56] <gandi> seems like an old servo :)
[23:04:03] <gandi> I recloned the repo
[23:40:49] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[23:41:47] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:57:43] *** Joins: josh (josh@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:58:20] <jack> bhearsum: ping
[23:58:58] <jack> it won't rebuild rust uless you do `make clean-rust`
[23:59:04] <jack> at least not until my latest PR lands.
[23:59:59] *** Quits: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP) (Quit: mccr8)
