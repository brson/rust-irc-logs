[00:00:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:00:23] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:00:23] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[00:01:12] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:01:57] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:02:27] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:04:12] *** Joins: skade (skade@moz-A9055F8E.netcologne.de)
[00:05:00] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[00:05:14] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[00:05:14] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:05:18] *** Joins: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP)
[00:06:42] <Armavica> hi, would it be relevant/useful to implement a (Vector)*Vector trait? (if you see what I mean)
[00:07:02] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[00:07:08] *** Joins: synackse (jordyd@moz-C806653C.seg157.ucf.edu)
[00:08:31] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:08:43] <FreeFull> Armavica: A sort of 2D vector trait you mean?
[00:08:58] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:09:27] *** Quits: skade (skade@moz-A9055F8E.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:09:47] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:09:59] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:10:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[00:10:11] <Armavica> no, I mean a VectorVector but deeper nested
[00:10:45] <aatch> Armavica, probably not worth it.
[00:11:04] <Armavica> arbitrarily nested in fact
[00:11:15] <aatch> VectorVector makes sense for stuff like 'concat'
[00:11:15] <Armavica> why not?
[00:11:26] <FreeFull> You could implement arbitrary n-dimensional vectors I suppose
[00:12:09] <bvssvni> what is 'frac_1_pi()'?
[00:12:21] <cmr> bvssvni: 1/pi
[00:12:30] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:12:32] <bvssvni> cmr: ah, thanks
[00:12:43] <cmr> the docs on the constants say what they are
[00:12:48] <cmr> search in the docs
[00:13:18] <bvssvni> cmr: not documented in Real :P
[00:13:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:13:28] <Armavica> aatch: concat could be recursively generalized, couldn't it?
[00:13:34] *** Quits: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP) (Ping timeout)
[00:13:54] <FreeFull> It could
[00:14:05] <FreeFull> You just concat until you have a flat vector
[00:14:07] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Quit: kellogh)
[00:14:18] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[00:14:29] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[00:14:29] <photex> hi everyone
[00:14:30] <FreeFull> Although you'd have to coerce the type system to cooperate
[00:14:39] <photex> I'm trying to pass a File to a function
[00:14:43] <photex> and I can't write to it
[00:14:49] <photex> because the reference is immutable
[00:14:49] <FreeFull> Probably could do it using traits
[00:14:54] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:14:56] <cmr> bvssvni: the constants aren't on Real, Real has methods.
[00:15:02] <bvssvni> photex: use &mut?
[00:15:15] *** jdm is now known as jdm|away
[00:15:16] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:15:18] *** Quits: jdm|away (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[00:15:19] <bvssvni> cmr: ok, thanks
[00:16:07] <photex> bvssvni: thanks
[00:16:15] <photex> I was trying to mut x: &File
[00:16:36] <bvssvni> photex: try x: &mut File
[00:17:02] <photex> next question: File::create returns an Option which is great
[00:17:12] <bvssvni> photex: the first version tells the variable can change value, but not the content of it
[00:17:23] <photex> but the reference to the file in the match pattern Some(file) is immutable
[00:17:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:17:25] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[00:17:29] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:17:39] <bvssvni> photex: use Some(ref file)
[00:17:42] <photex> and Some(mut file) did not correct this
[00:17:44] <photex> oh
[00:17:46] <photex> ref
[00:17:52] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[00:17:58] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:17:58] <bvssvni> photex: it gives you a borrowed pointer
[00:18:21] <Eridius> if you need mutable you' want `Some(ref mut file)`, no?
[00:18:49] <photex> that didn't work: "cannot borrow immutable dereference of & pointer as mutable"
[00:19:00] <photex> I'll try Eridius's suggestion now
[00:19:13] <photex> there it is!
[00:19:19] <photex> thank you bvssvni and Eridius 
[00:19:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:19:38] <photex> I had tried Some(mut ref file)
[00:19:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:19:44] <photex> which was a syntax error
[00:20:31] <photex> so to clarify the function paramter notation, fn foo(mut x: &File) is a mutable variable to an immutable reference to a File
[00:20:36] <photex> ?
[00:20:44] <bvssvni> photex: yes
[00:20:48] <Eridius> photex: yes
[00:20:57] <Eridius> also, it's `ref mut foo` because that matches `&mut foo`.
[00:21:25] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[00:22:02] <photex> until this afternoon I've only used mut in the let context
[00:22:12] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:24:03] *** Quits: nkoep (nik@moz-B00B6BF1.pool.mediaways.net) (Quit: Leaving)
[00:24:04] <nif> is 0 not a value that a uint can have?
[00:24:35] <cmr> nif: of course it is
[00:24:37] <cmr> rusti: 0u
[00:24:39] -rusti- 0u
[00:24:47] <nif> well great.
[00:24:56] <nif> at least that means the problem with my program is on me.
[00:25:06] <cmr> photex: "mutable binding", rather than mutable variable, is the canonical terminology
[00:25:22] <bvssvni> nif: you can also type 0_u
[00:25:28] <nif> groovy
[00:25:44] <photex> thanks cmr 
[00:27:30] <photex> boom! First little rust app, and zing! 
[00:27:48] *** Quits: Matrixiumn (zack@moz-1B22AAE2.net) (Ping timeout)
[00:27:54] <photex> extracting translation rotation and scale from a giant bunch of matrices stored as xml
[00:28:02] <photex> generating Houdini clip files
[00:28:14] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[00:28:30] <photex> what takes nearly 5 minutes to do in Python serially, down to about 20 seconds in Rust
[00:28:38] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:28:41] <photex> granted the python version is running *inside* Houdini
[00:28:48] <diverse> bstrie_rules: you forgot to update the color for 'supercontributor' in the comments section for each post
[00:28:49] <photex> and updating the universe and baking animation
[00:28:57] <photex> but... Rust!
[00:29:00] <photex> :)
[00:29:13] <photex> sorry, that's 2! seconds in Rust
[00:29:15] <photex> not 20
[00:29:26] <photex> it's screaming fast on a 12 core box
[00:30:29] <bvssvni> photex: that is pretty cool
[00:31:21] * photex is considering whether this will go into production or remain a little experiment
[00:31:22] <diverse> bstrie_rules: nevermind, lcd monitor color distortion :)
[00:31:33] <photex> might be the first use of Rust on a film production?
[00:31:36] *** Joins: fyolnish (fyolnish@moz-B5C554BE.uqwimax.jp)
[00:32:03] <bvssvni> photex: if you do, plz post on reddit
[00:32:04] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[00:32:40] <photex> bvssvni: for sure
[00:32:42] *** Joins: hoverbear (hoverbear@moz-10F648A4.wireless.uvic.ca)
[00:33:04] * skrylar is just writing boring outliner/organizer tools in rust :<
[00:33:05] <photex> might have to get clearance to actually name the production and all that
[00:33:19] *** Quits: fyolnish (fyolnish@moz-B5C554BE.uqwimax.jp) (Ping timeout)
[00:33:49] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[00:33:54] * photex normally just writes crap that copies files around because artists can't remember where anything goes
[00:34:38] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[00:35:05] <mcpherrin> rust needs call/cc
[00:36:29] *** Joins: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP)
[00:38:11] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[00:39:09] <jxs> hey guys, looking at the tutorial, and tuples, how can one access a specific position of the tuple? 
[00:39:27] <bvssvni> jxs: .n0
[00:39:42] <ChrisMorgan> jxs: or `let (_, foo, _) = (1, 2, 3);`
[00:40:23] <ChrisMorgan> rusti: (1, 2, 3).n1()
[00:40:26] -rusti- 2
[00:40:44] <ChrisMorgan> rusti: let (_, two, _) = (1, 2, 3); two
[00:40:46] -rusti- 2
[00:41:10] <alexbobp> holy crap, a bot that actually follows the rfc
[00:41:15] * alexbobp applauds
[00:41:39] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[00:41:48] <jxs> ok thanks! 
[00:42:03] <jxs> is there a special reason for not showing on the tuples section in the tutorial?
[00:42:04] <ChrisMorgan> alexbobp: what, because it sends such automated responses as NOTICE?
[00:42:14] <ChrisMorgan> rusti: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12).n11()
[00:42:17] -rusti- 12
[00:42:18] <ChrisMorgan> rusti: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13).n12()
[00:42:20] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:42:24] -rusti- pastebinned 5 lines of output: http://ix.io/adE
[00:42:34] <ChrisMorgan> jxs: all these things are only implemented for tuples up to 12 elements long.
[00:42:39] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:42:39] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:42:59] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:43:07] <diverse> rusti: let (one, two, three) = (1, 2, 3); one + two + three
[00:43:09] -rusti- 6
[00:43:33] <alexbobp> ChrisMorgan: yeah exactly
[00:43:33] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:43:42] <alexbobp> ChrisMorgan: which is what notice is *for*, but most irc bots blow that off
[00:44:03] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:44:10] <bvssvni> rusti: let (a, b): (u8, f64) = std::rand::random()
[00:44:12] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[00:44:13] -rusti- <anon>:11     };
[00:44:13] -rusti-               ^
[00:44:13] -rusti- application terminated with error code 101
[00:44:20] <jxs> sorry ChrisMorgan, so if the tuple is more than 12 elements you can't access specific positions, or the limit of a tuple it's 12 elements? 
[00:44:26] <bvssvni> rusti: let (a, b): (u8, f64) = std::rand::random(); (a, b)
[00:44:29] -rusti- (17u8, 0.50288276f64)
[00:44:36] <hoverbear> jxs: Those functions only work up to 12, tuples can be longer.
[00:44:43] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:44:45] *** Joins: Matrixiumn (zack@moz-1B22AAE2.net)
[00:44:57] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[00:44:57] <ChrisMorgan> jxs: the handy n0 et al. methods are only implemented for tuples up to twelve elements long.
[00:45:33] <hoverbear> ChrisMorgan: There's no like (1,2,3).pos(1)?
[00:45:45] <photex> how do you get values above 12 elements then?
[00:45:48] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[00:45:48] <jxs> ok thanks, so what's the point in having tuples that you can't access it's elements?
[00:45:55] <ChrisMorgan> hoverbear: (1u8, ~"foo", -13i64)
[00:46:11] <jxs> sorry not the point, but the usage
[00:46:19] <hoverbear> ChrisMorgan: The javascript user in me doesn't see an issue with that.
[00:46:20] <sp3d> maybe we should just have pos! that requires a compile-time constant?
[00:46:25] <jxs> besides maping them to single variabls
[00:46:28] <jxs> variables*
[00:46:38] <bvssvni> jxs: it makes the code look nicer
[00:46:46] <ChrisMorgan> jxs, photex: the implementation is in terms of pattern matching, e.g. `fn n0(self) -> T { let (a, _, _, _) = self; a }`. For larger tuples you just need to use that pattern matching.
[00:47:09] <ChrisMorgan> hoverbear: fn pos(self, index: uint) -> ???
[00:47:11] <hoverbear> jxs: Pretty sure you can iterate through them as well
[00:47:13] *** Quits: q66 (q66@moz-30F47C55.range86-151.btcentralplus.com) (Quit: Leaving)
[00:47:15] *** Joins: gfarfl (david@61CAEA53.EC1EE148.D1416617.IP)
[00:47:19] <jxs> oh ok i see, thats why the example only shows pattern matching?
[00:47:19] *** Joins: q66 (q66@moz-30F47C55.range86-151.btcentralplus.com)
[00:47:24] <jxs> thanks hoverbear 
[00:47:28] <jxs> :)
[00:47:32] <hoverbear> ChrisMorgan: Good point!
[00:47:37] <photex> I see.
[00:47:40] <hoverbear> jxs: Thank ChrisMorgan, he's the clever one.
[00:47:50] <bvssvni> can you iterate through tuples?
[00:47:50] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[00:48:11] <aatch> bvssvni, no
[00:48:20] <hoverbear> jxs: I'm a dirty liar.
[00:48:27] <bvssvni> thoughts so
[00:48:28] <aatch> I assume you mean, iterate through the elements
[00:48:28] <jxs> ahaha ok np hoverbear :)
[00:48:59] <hoverbear> jxs: I also have no clue why you'd use a tuple for anything then.
[00:49:18] <aatch> hoverbear, association lists
[00:49:19] *** Joins: dche (dche@C8397828.BD298B78.882B9CA7.IP)
[00:49:24] <aatch> Multiple return values
[00:49:31] <hoverbear> Ahhhh, ok, that does make sense
[00:49:51] <jxs> yes hoverbear, that's what i was going to say :P 
[00:50:03] <aatch> Basically anywhere you need to move data around in a single block, but it's not worth an entire new struct
[00:50:26] <aatch> the enumerate method on iterators is a tuple return (int, T)
[00:50:29] <hoverbear> This strict typing stuff is still hard for me to grasp haha
[00:50:59] <aatch> hoverbear, it can be for people from dynamic typing backgrounds.
[00:51:00] *** Quits: synackse (jordyd@moz-C806653C.seg157.ucf.edu) (Ping timeout)
[00:51:06] <Denommus> anyway, guys, I'll ask again: what are you using instead of rustpkg?
[00:51:18] <aatch> But once you get used to it, it's hard to go back.
[00:51:23] <bvssvni> Denommus: Makefile
[00:52:01] <Denommus> bvssvni: I was using a Makefile before I knew about rustpkg, but... make does not work that well under Windows
[00:52:01] *** Quits: eibwen (kvirc@moz-FF23A73.dip0.t-ipconnect.de) (Ping timeout)
[00:52:05] <jxs> and aatch, ChrisMorgan, there regular uses of accessing specific positions of tuples, or they are not in the tutorial to avoid confusion because they are only used in specific little cases?
[00:52:07] <bvssvni> Denommus: somebody uses CMake and cmr got a "cargo-list" project
[00:52:12] <bvssvni> *cargo-lite
[00:52:25] <Denommus> ah, I saw the cmake project. Too verbose :-/
[00:52:35] <Denommus> cargo-lite looks interesting, though
[00:52:49] <ChrisMorgan> jxs: I think the n0 et al. methods were only added a few days ago.
[00:53:05] <jxs> ah ok :)
[00:53:07] <aatch> ChrisMorgan, for tuples?
[00:53:12] <cmr> ChrisMorgan: to the manual or at all?
[00:53:17] <cmr> s/manual/tutorial/
[00:53:22] <cmr> the methods have existed for like ever
[00:53:35] <aatch> I remember the methods being added, long time ago
[00:53:42] <ChrisMorgan> OK, I thought I recalled hearing something about their being added recently.
[00:53:49] * ChrisMorgan amends his knowledge
[00:53:54] <jxs> ahah np :)
[00:53:55] <cmr> brain commit --amend
[00:54:01] <cmr> needs to be a thing
[00:54:08] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[00:54:09] <cmr> jxs: also weclome back to the land of the rusticians :)
[00:54:48] <ChrisMorgan> rustaceans
[00:54:51] <jxs> ehe thanks cmr! i have now the time i needed to start reading and grasping it :D 
[00:54:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:54:54] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:54:59] <jxs> i thought it was rustlers aha
[00:55:01] <diverse> ChrisMorgan: NO, don't go there.
[00:55:14] <cmr> it's whatever awful pun we feel like, really.
[00:55:15] <ChrisMorgan> diverse: ?
[00:55:18] * aatch demands a lobster mascot
[00:55:45] <diverse> I hate the crab associating
[00:56:06] <alan_andrade> rusticles
[00:56:29] *** Joins: twi (Adium@moz-D58FE133.vic.adsl.internode.on.net)
[00:56:30] * ChrisMorgan isn't sure what mascot Rust should have yet, if any
[00:56:40] *** Quits: twi (Adium@moz-D58FE133.vic.adsl.internode.on.net) (Max SendQ exceeded)
[00:56:45] <Denommus> ChrisMorgan: a robot
[00:56:51] <Denommus> a rusty, old robot
[00:56:58] <bvssvni> Wall-E
[00:57:08] <photex> how can I force a crate to build as a static library *only*
[00:57:09] <Denommus> nah, nothing trademarked
[00:57:17] <photex> I always seem to get an .so
[00:57:20] *** Joins: twi (Adium@moz-D58FE133.vic.adsl.internode.on.net)
[00:57:22] <cmr> photex: --rlib
[00:57:26] <ChrisMorgan> photex: #[crate_type = "rlib"];
[00:57:29] <cmr> photex: and remove the crate_type="lib" in the source.
[00:58:17] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[00:58:25] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[00:58:28] <diverse> here's your mascot: http://images.clipartof.com/small/33838-Clipart-Illustration-Of-A-Penguin-Mascot-Cartoon-Character-Operating-A-Forklift-And-Moving-A-Crate.jpg
[00:58:29] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Client exited)
[00:58:52] <Denommus> meh, enough of penguins
[00:58:54] <photex> aewsome thank you cmr and ChrisMorgan 
[00:59:05] <diverse> Denommus: but it's so true
[00:59:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:59:26] <bvssvni> what about a fox?
[00:59:35] <cmr> What does the fox say?
[00:59:38] <cmr> "Use of moved value"
[00:59:43] <bvssvni> a robot fox
[00:59:49] <Denommus> what about a rusty Dalek?
[01:00:05] <photex> what about an anchor?
[01:00:15] <photex> think of the tattoos!
[01:00:19] <diverse> http://www.cratepro.com/images/mascot.jpg
[01:00:34] * ecr *Dalek screetch* COMPILE COMPILE COMPILE!!!!!!
[01:00:39] <Denommus> it would represent a "Time Lord" killer – the Time Lords being C and C++ :-D
[01:01:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:01:16] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[01:01:28] <photex> http://media-cache-ak0.pinimg.com/236x/4d/8f/94/4d8f946c1029290d98e650a7f30f39b7.jpg
[01:01:31] * ChrisMorgan wonders about putting five eyes on the Rust logo
[01:01:43] <bvssvni> anchor is too confusing
[01:01:51] <Denommus> anchor isn't mascot
[01:02:03] <bvssvni> it must be a robot fox with five eyes
[01:02:04] <ecr> ChrisMorgan: don't stop there. make it an eldritch horror,
[01:02:09] <_achin> hello rusticians!  i have a windows EC2 AMI that should be suitable for rust development.  i created it because i needed to do some rust dev work on windows, but i don't have an easy-to-access windows machine.  should i make this AMI public for others to use?
[01:02:31] <Denommus> but then people would think learning Rust makes you go mad. There's already Haskell for that
[01:02:47] <bvssvni> Denommus: good point
[01:03:18] <Denommus> lifetime control, owned pointers, crates, boxes...
[01:03:23] <Denommus> of course!
[01:03:25] <Denommus> a TARDIS!
[01:03:25] <hoverbear> I need to find a new chat service. :(
[01:03:42] <Denommus> _achin: it would probably be useful, yes
[01:04:30] <diverse> keep it simple and follow the way D does it's mascot, by using the character: http://www.mystockvectors.com/Cartoon_R_Running_Royalty_Free_Vector_Line_Art_sjpg12071.jpg
[01:04:51] <Denommus> diverse: but... R is another language
[01:05:15] <photex> what about the existing Rust chainring on a bicycle, being ridden by...
[01:05:17] <photex> X
[01:05:48] <Denommus> let's follow IE's footsteps and make a chibbi girl
[01:05:52] <photex> a gorilla? dalek? fox?
[01:06:07] <_achin> ok, i'll maybe make a reddit post to see if someone wants to test it (before a possible mailing list post)
[01:06:12] <Denommus> a Dalek riding a bike would be a funny vision
[01:06:33] <photex> http://docs.hylang.org/en/latest/
[01:06:42] <photex> these guys have the CUTEST cephlapod mascot ever
[01:06:46] <mojoB> Denommus: http://i.imgur.com/oKJ6G5W.jpg
[01:06:59] <photex> mojoB winner!
[01:07:02] <SiegeLord> What's wrong with Rust's gear? :P
[01:07:06] <Denommus> mojoB: well, that's just perfect!
[01:07:16] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:07:21] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[01:07:23] <Denommus> SiegeLord: it's a logo, not a mascot
[01:07:41] <SiegeLord> Why would you have both?
[01:07:42] <diverse> here is a thought, let's use the logo as the mascot: http://image.shutterstock.com/display_pic_with_logo/59156/99849191/stock-vector-illustration-of-a-cute-cartoon-cog-gear-character-99849191.jpg
[01:07:48] <diverse> SiegeLord: exactly
[01:07:58] <SiegeLord> Does Go have a logo?
[01:08:01] <Denommus> SiegeLord: because that would be unique!
[01:08:02] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:08:03] <cmr> yes, glenda
[01:08:09] <cmr> the weird gopher on the front page
[01:08:14] <photex> I'm a fan of both
[01:08:15] <SiegeLord> That's the mascot
[01:08:21] <cmr> oh logo
[01:08:23] <cmr> duh
[01:08:25] * cmr learns to read
[01:08:45] <_achin> one annoying side-effect of windows AMIs is that the first time you instance one, you have to wait about 20 minutes to get a password to login to the machine
[01:09:00] <cmr> jeez
[01:09:04] <Denommus> SiegeLord: are you implying you want to follow Go's example? Uh? UH? UH?
[01:09:45] *** Quits: dche (dche@C8397828.BD298B78.882B9CA7.IP) (Client exited)
[01:09:45] <SiegeLord> I'm just saying it's not unprecedented to have only one :P
[01:09:53] <SiegeLord> D doesn't have a logo either
[01:09:56] <photex> I'm seriously in aww of how cute the mojoB robot looks on a bike
[01:10:06] <photex> http://dlang.org/images/dlogo.png
[01:10:08] *** Joins: dche (dche@C8397828.BD298B78.882B9CA7.IP)
[01:10:10] <diverse> logo as mascot, nuff said
[01:10:12] <photex> a'hem SiegeLord 
[01:10:31] <SiegeLord> photex: That's just website flair
[01:10:32] <Denommus> photex: I think he meant a mascot
[01:10:38] <photex> ah
[01:10:44] <Denommus> SiegeLord: no, the flair is different
[01:10:44] <SiegeLord> At least, as far as I know
[01:10:53] <photex> it's also the avatar on their twitter
[01:11:11] <SiegeLord> http://erdani.com/index.php/books/tdpl/ doesn't have anything
[01:11:31] <SiegeLord> Although the website is younger than the book
[01:11:47] <photex> D seems to be going through a PR transition
[01:11:47] <SiegeLord> I'm sure they're not too happy about their mascot, maybe they're going logo-only :P
[01:11:56] *** Quits: dche (dche@C8397828.BD298B78.882B9CA7.IP) (Ping timeout)
[01:12:23] <photex> Is there a Rust cafe-press store btw?
[01:12:25] <SiegeLord> http://digitalmars.com/d/d3.png XD
[01:12:49] <photex> If I go to siggraph I want to inspire other attendees
[01:12:58] <ecr> Let's just commandeer Clippy
[01:13:00] <Denommus> SiegeLord: that's an awful mascot
[01:13:06] <SiegeLord> I know, heh
[01:13:58] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[01:14:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:14:14] <Denommus> anyway, I like Rust's logo, I just thought the discussion was fun
[01:15:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:16:01] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:16:02] *** ChanServ sets mode: +o jdm
[01:17:28] <mcpherrin> Rust's logo should be a techno turtle
[01:17:34] <mcpherrin> 'cause it's safe inside its shell
[01:17:42] <mcpherrin> and because turtles are better if they're techno
[01:18:19] <diverse> mcpherrin: alright that's enough, take the bikeshedding to #rust-offtopic
[01:18:28] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:18:55] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:19:30] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Client exited)
[01:19:34] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[01:19:57] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[01:19:59] <Denommus> there is a rust-offtopic?
[01:21:45] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Ping timeout)
[01:22:19] <SiegeLord> Mozilla tends to have animal themed mascots or w/e
[01:22:44] <SiegeLord> This will start to matter when we get a racer in SuperTuxCart
[01:22:47] <SiegeLord> *Kart
[01:24:45] *** Joins: dche (dche@C8397828.BD298B78.882B9CA7.IP)
[01:25:58] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[01:26:29] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:26:51] *** Quits: dche (dche@C8397828.BD298B78.882B9CA7.IP) (Quit: )
[01:27:07] <Armavica> I cannot understand why Iterator::len() consumes the iterator when I would expect it doesn't need that, while Iterator::skip_while() for example, which I would expect to partially consume the iterator, does not
[01:27:47] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:27:59] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[01:28:13] <Armavica> in fact, I am looking for a function like skip_while() but that actually advances the iterator
[01:28:17] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:28:46] <cmr> Armavica: look at len's implementation
[01:28:57] <cmr> and none of the iterator adaptors "consume"
[01:29:08] <cmr> you actually need to iterate to consume them. they are lazy in that regard.
[01:29:25] <ChrisMorgan> SiegeLord: we have our gear. Gears can roll, you know. (But then the question is: does SuperTuxKart allow such animation, having what is effectively a one-wheeled vehicle rolling realistically?)
[01:29:34] <cmr> ChrisMorgan: SiegeLord: #rust-offtopic !
[01:31:02] *** Quits: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP) (Ping timeout)
[01:31:15] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:31:29] *** Joins: kard (master@moz-55A88609.dip0.t-ipconnect.de)
[01:32:55] <Armavica> cmr: hmm, ok
[01:32:57] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[01:33:16] <Armavica> by "iterate", you mean "apply next()" ?
[01:33:28] <cmr> Armavica: in general, yes.
[01:33:32] *** Joins: jdsanders1 (Adium@D073F53D.C41F93F.96556A09.IP)
[01:33:34] <cmr> collect works too
[01:33:39] <cmr> as does anything that calls next ofc
[01:33:50] <Armavica> sure
[01:33:55] <Armavica> thank you
[01:34:45] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[01:34:53] <jdsanders1> is there a way to mark a test as "pending" without having to just comment it out?
[01:35:11] <cmr> jdsanders1: there's #[should_fail], if that's what you're looking for..
[01:35:21] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[01:35:24] <cmr> also #[ignore], I think, which doesn't even compile it (not sure about that one)
[01:35:26] <jdsanders1> well I actually don't want it to run
[01:35:29] <jdsanders1> ah
[01:35:32] <jdsanders1> that sounds like what I want
[01:38:23] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[01:41:52] *** Quits: hoverbear (hoverbear@moz-10F648A4.wireless.uvic.ca) (Quit: Taking a nap.)
[01:42:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:44:07] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:44:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:45:22] <jdsanders1> another testing question: I have an `fn main` in the same file as my tests, and when I compile with `—test` I get a dead code warning for `main` - what's the best way to avoid that?
[01:45:27] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:45:41] <jdsanders1> I tried `#[ignore(cfg(test))]`, but that didn't help
[01:45:58] <mcpherrin> jdsanders1: fix rustc so it doesn't do that :)
[01:46:02] <mcpherrin> Or call main in a test :P
[01:46:17] <jdsanders1> haha ok, both good answers
[01:46:32] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[01:46:39] <jdsanders1> what would the "right" behavior be, in your view?
[01:46:50] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:47:04] <jdsanders1> I guess it seems reasonable to warn about it
[01:47:07] <jdsanders1> it is dead code after all
[01:47:24] <mcpherrin> I think having main() be "dead" in a --test is pretty okay
[01:47:25] <jdsanders1> but it doesn't seem like there'd ever be much reason to unit test `main`
[01:48:13] *** Quits: kard (master@moz-55A88609.dip0.t-ipconnect.de) (Quit: kard)
[01:48:40] <johnsoft> jdsanders1- #(cfg(not(test))) i believe
[01:48:41] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[01:48:44] *** Joins: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP)
[01:48:52] <johnsoft> (i can't type square brackets here)
[01:49:10] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[01:49:13] <jdsanders1> great, thanks
[01:49:13] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:49:58] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[01:51:08] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[01:51:24] <johnsoft> anytime
[01:51:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:53:47] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:54:01] *** Quits: Denommus (user@7E2BB591.CBEEDAD3.AD91B79.IP) (Quit: going home)
[01:56:06] <jxs> guys, also, if i declare an enum Shape like the tutorial example, http://static.rust-lang.org/doc/master/tutorial.html#enums
[01:56:20] <jxs> and then instantiate: let circle = Circle ( Point { x: 4.5, y: 5.5}, 10.0 ); 
[01:56:27] <jxs> how do i access the x and y?
[01:57:48] <SiegeLord> The simplest way would be circle.n0().x
[01:58:17] <SiegeLord> Oh... I guess that's a tuple struct, nvm... need to destructure it
[01:58:41] <nif> you'd probably have to use a match statement, right? that's how I get stuff out of my enums.
[01:58:42] <aatch> SiegeLord, well, it's an enum variant
[01:59:08] <SiegeLord> Oh...
[02:00:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:00:27] <jxs> yes, following the examples, the first question was how do i access these values, and whats the advantage from a enum with structs
[02:00:37] <jxs> i am most prolly asking the wrong questions
[02:01:34] *** jorendorff is now known as jorendorff_away
[02:01:39] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[02:01:47] <nif> those sound like some pretty reasonable questions to me.
[02:01:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:02:21] <nif> but then again, I'm also a relative novice here, so my opinion doesn't really count for much in general.
[02:02:23] <SiegeLord> Match statement is the answer to the first question
[02:02:35] <SiegeLord> Well, match expression, hehe
[02:02:51] <SiegeLord> And the second... it's convenient
[02:03:35] <nif> it's useful to use enums if you're going to be messing with very similar things in similar contexts that do much the same thing but are different.
[02:03:44] <nif> ... ... ...yeah.
[02:03:55] <Armavica> jxs: I'm not sure I understand the second question, but enums and strucs are two orthogonal things
[02:03:56] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:03:56] *** ChanServ sets mode: +ao dherman dherman
[02:04:34] <Armavica> I used to ask myself the same question when I begun with OCaml
[02:04:47] <jxs> Armavica, i was talking about an Enum of structs, to make something like the tagged union pattern in C
[02:05:04] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:05:08] *** jorendorff_away is now known as jorendorff
[02:05:17] <Armavica> oh, then
[02:05:18] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:05:27] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[02:05:34] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:05:35] <jxs> there's an example in the tutorial
[02:05:56] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:06:58] <jxs> with structures Circle and Rectangle defined inline, instead of variants, it's variants right?
[02:07:19] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[02:08:46] <Armavica> I'm not sure you can
[02:08:59] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[02:09:21] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[02:09:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:09:41] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[02:09:54] <jxs> i can, i tried it :P http://static.rust-lang.org/doc/master/tutorial.html#enums and scroll down to "Enum variants may also be structs. For example:"
[02:10:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:10:53] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:11:08] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[02:11:15] * _achin is on to stage2!  i can see the end!
[02:11:17] *** jorendorff is now known as jorendorff_away
[02:11:27] <Armavica> oh, like that
[02:12:04] <jxs> :)
[02:12:18] <Armavica> (sorry, it's 3AM here)
[02:13:11] <jxs> ahah no worries, it's also 2AM here :P
[02:13:24] <mcpherrin> jxs: well it's only 6pm for me and I'm not clear what you're asking
[02:13:57] <mcpherrin> how to get at the bits inside an enum?
[02:14:17] <jxs> mcpherrin, i would not call bits, but elements
[02:14:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:14:41] *** Joins: derek_c (derek@moz-CE6E60A5.cit.cornell.edu)
[02:15:03] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[02:15:15] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[02:15:38] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[02:15:42] <mcpherrin>  struct Point{x:f32, y:f32}; enum Shape{Circle(Point, f32), Rect(Point, Point)}; match Circle({Point(x:0.,y:0.)}) { Circle(Point{x:xx, y:_},_) => xx, _=>fail!("") }; xx
[02:15:54] <mcpherrin> that is pretty unreadable in IRC :P
[02:16:26] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:16:33] <mcpherrin> basically, use a pattern to extract things
[02:16:33] <FreeFull> No newlines or indentation doesn't help
[02:16:49] <FreeFull> I guess that's what pastebins or gists are for =P
[02:16:58] <mcpherrin> yep
[02:17:10] <mcpherrin> rusti: struct Point{x:f32, y:f32}; enum Shape{Circle(Point, f32), Rect(Point, Point)}; match Circle({Point(x:0.,y:0.)}) { Circle(Point{x:xx, y:_},_) => xx, _=>fail!("") }; xx
[02:17:14] <jxs> ehe no, but i see, thing is it's always in the concept of enums not being mutable, i am sorry i am always trying to translate things to objects
[02:17:19] -rusti- pastebinned 4 lines of output: http://ix.io/adJ
[02:17:32] *** Quits: jdsanders1 (Adium@D073F53D.C41F93F.96556A09.IP) (Quit: Leaving.)
[02:17:50] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[02:18:06] <mcpherrin> jxs: oh, you're saying you want to mutate the contents of an enum?
[02:18:38] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[02:18:52] <mcpherrin> generally you'd pull the thing out and stick it back in, I think
[02:19:16] <jxs> i am thinking that way :P, like i understand the concept of having an enum of structs, it makes sense to me as i can compare it to a tagged union, but not with variants with parameters 
[02:19:32] <mcpherrin> an enum *is* a tagged union
[02:21:06] <jxs> ok, then what are the differences, or different usages between a enum with structs and an enum with parameters?
[02:21:42] <mcpherrin> struct { enum {Circle, Point} tag; union { struct {point, f32} circle; struct {point, point} rect; }} Shape;
[02:22:05] *** Joins: jrfeenst (jrfeenst@moz-F912484F.cpe.norwoodlight.com)
[02:22:05] *** Joins: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP)
[02:22:40] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:22:44] <mcpherrin> jxs: the difference is only if the arguments are named or not
[02:23:29] *** Joins: vmx_ (vmx@moz-E6F94FE3.pools.arcor-ip.net)
[02:24:00] <jxs> ok, and from my previous question, if they are named you can access them like circle.center.x and if not, no, right?
[02:24:09] <jxs> you can only match them via pattern matching
[02:24:17] *** Quits: vmx (vmx@moz-EE85D717.pools.arcor-ip.net) (Ping timeout)
[02:24:29] *** Quits: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP) (Quit: josh)
[02:24:50] <mcpherrin> jxs: good question.  Try it and find out?
[02:24:54] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[02:25:31] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:25:52] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:25:53] <mcpherrin> rusti: enum S { C{a: int, b: int}, R{q:f32, z:f32} } C{a:1, b:0}
[02:26:05] -rusti- C(1, 0)
[02:26:20] *** Quits: jrfeenst (jrfeenst@moz-F912484F.cpe.norwoodlight.com) (Quit: jrfeenst)
[02:26:38] <mcpherrin> rusti: enum S { C{a: int, b: int}, R{q:f32, z:f32} } C{a:1, b:0}.a
[02:26:39] -rusti- <anon>:10:55: 10:68 error: attempted access of field `a` on type `main::S`, but no field with that name was found
[02:26:39] -rusti- <anon>:10         enum S { C{a: int, b: int}, R{q:f32, z:f32} } C{a:1, b:0}.a
[02:26:41] -rusti-                                                                 ^~~~~~~~~~~~~
[02:26:41] -rusti- error: aborting due to previous error
[02:26:42] -rusti- application terminated with error code 101
[02:26:51] <mcpherrin> doesn't immediately seem so
[02:26:52] <mcpherrin> :P
[02:27:22] <mcpherrin> seems like they should be, though?
[02:27:39] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:27:54] <jxs> SiegeLord suggested circle.n0().x, and i tried it, but gave me unconstrained type
[02:28:24] <jxs> but following SiegeLord suggestion, are enum variant parameters something "like" tuples?
[02:28:50] <mcpherrin> rusti: enum S { C{a: int, b: int}, R{q:f32, z:f32} } C{a:1, b:0}.n0()
[02:28:51] -rusti- <anon>:10:55: 11:6 error: type `main::S` does not implement any method in scope named `n0`
[02:28:52] -rusti- <anon>:10         enum S { C{a: int, b: int}, R{q:f32, z:f32} } C{a:1, b:0}.n0()
[02:28:52] -rusti- <anon>:11     };
[02:28:52] -rusti- error: aborting due to previous error
[02:28:52] -rusti- application terminated with error code 101
[02:29:01] <mcpherrin> I didn't think that would work..
[02:30:35] *** Quits: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20140127194636])
[02:30:36] <SiegeLord> It'd only work with legitimate tuples
[02:31:23] <SiegeLord> The only way to extract things from an enum is with a match statement (with a special exception where an enum has only one variant)
[02:31:44] <SiegeLord> Darn, match expression... I'm just not on top of my game tonight
[02:33:42] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[02:33:42] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[02:33:52] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[02:33:57] <jxs> ehe nw SiegeLord, ok i see thnx :) 
[02:35:17] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:35:33] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[02:37:22] <jxs> going to bed now, thanks a lot guys!
[02:39:16] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[02:40:01] *** Parts: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) ()
[02:40:09] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[02:43:06] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Input/output error)
[02:43:32] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[02:44:15] *** Joins: brendan (brendaneic@moz-DAED2896.public.wayport.net)
[02:45:00] *** Quits: twi (Adium@moz-D58FE133.vic.adsl.internode.on.net) (Quit: Leaving.)
[02:46:02] *** Joins: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP)
[02:46:15] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[02:46:25] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[02:46:47] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:48:57] *** Quits: derek_c (derek@moz-CE6E60A5.cit.cornell.edu) (Ping timeout)
[02:49:37] *** Joins: gwty (gwtypc@2B078AEB.E93560AD.27560D6E.IP)
[02:49:57] *** Quits: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP) (Quit: josh)
[02:50:03] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:53:39] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:55:18] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:56:18] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[02:56:53] *** Joins: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP)
[02:57:21] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[02:59:56] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:00:22] <kellogh> quick question, how do I cast an enum to an integer?
[03:00:36] <skrylar> kellogh: x as int?
[03:00:44] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[03:00:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:00:51] <skrylar> alternatively using cast::transmute() if the enum has been set with a repr(<numeric>)
[03:00:52] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: hjr3)
[03:02:08] <kellogh> say non-scalar cast
[03:02:21] <ChrisMorgan> kellogh: #[deriving(ToPrimitive)] enum Foo { Variant }
[03:02:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:02:51] <kellogh> enum Items { Foo = 0, Bar = 1 }
[03:04:48] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:04:54] <kellogh> ChrisMorgan: where's the deriving attribute?
[03:05:22] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:05:58] <ChrisMorgan> Hang on, ToPrimitive doesn't seem right…
[03:06:25] <kellogh> right, that's the problem
[03:06:28] <ChrisMorgan> FromPrimitive only, by the looks of it.
[03:06:43] <_achin> do any of you have AWS accounts?
[03:07:03] <kellogh> hmm
[03:07:06] <ChrisMorgan> kellogh: scalar casts are the way it's done for going *from* the enum.
[03:07:29] <kellogh> ok, how do I do a scalar cast?
[03:07:33] <kellogh> Foo as int
[03:07:33] <kellogh> ?
[03:08:00] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:09:08] <kellogh> it considers my enum a scalar, apparently
[03:09:28] <ChrisMorgan> Yes.
[03:10:03] <kellogh> nm, I got it
[03:11:24] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:11:40] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:12:09] <ChrisMorgan> kellogh: enum → scalar number type: `variant as u8`. scalar number type → enum: define it as `#[deriving(FromPrimitive)] enum Foo { ... }` and then use `FromPrimitive::from_u8::<Foo>(0)`.
[03:13:13] <kellogh> ChrisMorgan: Thanks!
[03:15:00] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:15:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:16:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:16:58] *** Quits: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP) (Connection reset by peer)
[03:22:21] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:22:27] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[03:22:41] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[03:23:38] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[03:24:12] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:24:24] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:25:09] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:25:16] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[03:26:54] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:27:01] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:27:07] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[03:27:19] *** Quits: zz_kimundi (kimundi@moz-260B6EEA.dip0.t-ipconnect.de) (Ping timeout)
[03:27:28] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:27:37] *** Quits: brendan (brendaneic@moz-DAED2896.public.wayport.net) (Quit: brendan)
[03:29:16] <skrylar> wellthats a derp
[03:29:25] <skrylar> last() gives an option, mut_last() doesn't
[03:30:24] *** Joins: zz_kimundi (kimundi@moz-2148C9CF.dip0.t-ipconnect.de)
[03:30:24] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[03:30:27] *** Joins: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP)
[03:30:41] *** zz_kimundi is now known as kimundi
[03:30:49] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[03:30:58] <nate> skrylar: #11944 :)
[03:31:17] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:34:28] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:35:38] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[03:36:13] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:37:52] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Client exited)
[03:39:06] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:23] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:43:51] *** Quits: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP) (Connection reset by peer)
[03:45:55] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[03:47:33] *** Quits: josh (josh@6FE57FE6.F161DD3.72ECBEEF.IP) (Quit: josh)
[03:47:51] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:50:48] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:51:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[03:52:06] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:53:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[03:54:39] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[03:58:30] <enix> Are there known performance regressions over the last few days? One of my benchmarks went from 70MB/s down to 46MB/s when I rebuilt rust today.
[03:59:13] <cmr> enix: what were you benchmarking?
[03:59:38] <enix> My crypto code, specifically my AES code that makes heavy use of simd types
[03:59:54] <cmr> hm, sanxiyn touched simd bit shifts
[04:00:02] <cmr> I think there may have been another simd change too
[04:00:14] <cmr> that may have regressed it?
[04:00:23] <enix> hrm, that could impact it
[04:00:32] <enix> cool, i'll take a peek at that
[04:01:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:03:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:03:14] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:04:22] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:04:22] *** ChanServ sets mode: +ao dherman dherman
[04:04:52] *** Joins: darkf (darkf@moz-F9058B8A.net)
[04:06:58] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[04:07:27] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:08:31] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:09:08] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[04:09:09] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[04:15:39] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:16:38] *** Joins: dylukes (dylukes@D32F77EF.52BC16B2.E8393EEB.IP)
[04:17:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:20:10] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[04:20:39] <olsonjeffery> heh. that quorumlanguage post on /r/rust . wondering if its a troll.
[04:21:25] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:22:33] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:24:32] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[04:24:32] *** ChanServ sets mode: +ao brson brson
[04:29:15] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[04:30:45] *** Joins: skade (skade@moz-A9055F8E.netcologne.de)
[04:31:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:31:51] *** ChanServ sets mode: +ao dherman dherman
[04:35:10] *** Quits: skade (skade@moz-A9055F8E.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:35:12] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[04:35:44] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[04:35:57] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[04:36:16] *** Joins: skade (skade@moz-A9055F8E.netcologne.de)
[04:36:59] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[04:38:36] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[04:39:56] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:41:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:42:43] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:43:33] <skrylar> hrm
[04:43:47] <skrylar> oh, i guess i could just use Rcs
[04:43:55] <skrylar> was trying to figure out how to deal with this heirarchy of GUI controls
[04:44:33] *** Joins: LuckyTiger88 (Mibbit@moz-3F964EEC.hsd1.ma.comcast.net)
[04:47:34] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[04:49:54] *** Quits: skade (skade@moz-A9055F8E.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:53:44] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:56:10] *** Joins: derek_c (derek@moz-193A16C4.cit.cornell.edu)
[04:57:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:57:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:59:41] *** Quits: dylukes (dylukes@D32F77EF.52BC16B2.E8393EEB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:02:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:03:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:05:05] *** Quits: LuckyTiger88 (Mibbit@moz-3F964EEC.hsd1.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:08:06] *** Joins: sanxiyn (tinuviel@DE6CA52A.92904940.4BEB41DB.IP)
[05:10:00] <sanxiyn> When did I become a "supercontributor"? lol
[05:10:24] <sanxiyn> lol lol
[05:10:32] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:12:22] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:13:15] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:14:44] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[05:15:10] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:16:14] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:16:33] *** Quits: sanxiyn (tinuviel@DE6CA52A.92904940.4BEB41DB.IP) (Ping timeout)
[05:17:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:20:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:23:42] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[05:24:06] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Ping timeout)
[05:25:00] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[05:26:18] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:28:28] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[05:28:47] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[05:29:00] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[05:29:25] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[05:30:02] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[05:30:35] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Ping timeout)
[05:30:59] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:31:58] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[05:32:29] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[05:32:48] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[05:33:34] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Client exited)
[05:34:30] *** Quits: derek_c (derek@moz-193A16C4.cit.cornell.edu) (Ping timeout)
[05:35:56] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[05:37:41] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[05:41:55] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:43:20] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[05:43:20] *** ChanServ sets mode: +o jdm
[05:46:32] *** Joins: Seb (Seb@moz-97344273.actrix.co.nz)
[05:47:12] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:47:13] *** ChanServ sets mode: +ao dherman dherman
[05:49:48] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[05:50:08] *** Quits: gwty (gwtypc@2B078AEB.E93560AD.27560D6E.IP) (Ping timeout)
[05:54:45] *** Joins: derek_c (derek@moz-193A16C4.cit.cornell.edu)
[05:55:48] *** Joins: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de)
[05:56:07] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:56:38] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:58:04] *** Joins: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be)
[05:58:41] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:59:57] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:00:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:00:43] *** ChanServ sets mode: +ao dherman dherman
[06:01:15] *** Joins: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp)
[06:01:48] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:02:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:04:13] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[06:04:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:06:14] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[06:10:16] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Ping timeout)
[06:13:01] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[06:14:47] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:14:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:16:25] *** Quits: derek_c (derek@moz-193A16C4.cit.cornell.edu) (Quit: Leaving)
[06:16:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:16:56] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Ping timeout)
[06:17:04] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:17:13] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[06:17:20] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:18:05] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[06:18:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:24:34] *** Quits: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de) (Quit: Quitting)
[06:25:51] *** Parts: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Konversation terminated!)
[06:26:08] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[06:28:05] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[06:28:36] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:28:37] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[06:29:33] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[06:29:45] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:30:07] *** Quits: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be) (Ping timeout)
[06:30:22] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[06:31:59] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[06:33:09] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Quit: No Ping reply in 180 seconds.)
[06:33:11] *** Joins: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be)
[06:34:40] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[06:35:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:35:23] *** ChanServ sets mode: +ao dherman dherman
[06:35:50] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[06:36:22] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:36:41] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[06:38:27] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[06:39:09] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:41:49] *** Quits: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be) (Ping timeout)
[06:44:35] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:44:40] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:44:54] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[06:45:13] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[06:47:22] *** Joins: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be)
[06:49:15] *** Quits: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be) (Ping timeout)
[06:49:52] *** Joins: jackneill (jackneill@moz-30A5D364.pool.digikabel.hu)
[06:50:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:50:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:52:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:56:23] <bjz> does anybody here know much about the using rust-ci to generate docs?
[06:56:39] <cmr> bjz: did you follow the directions?
[06:57:04] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[06:57:12] <bjz> I just want to know, does it need to be in a specific directory?
[06:57:38] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:58:09] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[06:58:13] <cmr> I'm not actually sure
[06:58:17] <bjz> like, does rust-ci expect it to be in ./docs
[06:58:34] <bjz> it doesn't say in the instructions
[06:59:41] *** Quits: agoforth (agoforth@moz-239A84B0.pool.mediaways.net) (Quit: Leaving)
[06:59:45] *** Joins: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be)
[07:00:29] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:00:51] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Quit: )
[07:01:42] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[07:03:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:04:55] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[07:05:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:07:00] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[07:07:02] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:07:04] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[07:09:19] *** Quits: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[07:09:26] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[07:09:52] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[07:09:57] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Ping timeout)
[07:10:21] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[07:13:37] *** Joins: Ferreus (ferreus@moz-D794A8C8.dip0.t-ipconnect.de)
[07:14:02] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[07:14:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:16:23] <cmr> i don't know
[07:16:35] *** Quits: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be) (Ping timeout)
[07:17:17] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[07:17:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:17:22] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[07:17:30] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[07:18:13] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[07:18:13] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[07:18:17] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[07:19:03] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:19:36] *** Quits: claudiu (claudiu@moz-70F9251D.thefacebook.com) (Input/output error)
[07:20:15] *** Joins: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be)
[07:21:12] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[07:26:04] <mcpherrin> note: /home/mm/code/rust/x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc-0d83f02f-0.10-pre.so: undefined reference to `LLVMRustAddModuleFlag'
[07:26:07] <mcpherrin> wat
[07:26:42] <eddyb> mcpherrin: the build system may have not triggered a LLVM rebuild
[07:27:06] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[07:27:48] <mcpherrin> it just did a fresh llvm build though
[07:27:56] <mcpherrin> I'm gonna just start a clean build and go to bed
[07:28:52] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[07:28:57] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[07:30:46] *** Quits: skade (skade@moz-E23C59F8.ifiber.telenet-ops.be) (Ping timeout)
[07:32:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Quit: WeeChat 0.3.8)
[07:33:21] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[07:34:55] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[07:37:10] <geomyidae> is there a way to do something like perl's pack() in rust?
[07:37:27] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[07:37:39] <cmr> geomyidae: what's it do?
[07:38:05] <geomyidae> http://www.perlmonks.org/index.pl?node_id=17576
[07:38:24] *** Joins: Ms2ger (Ms2ger@moz-1A53B611.adsl-dyn.isp.belgacom.be)
[07:38:36] <geomyidae> I am just using context clues and I don't know how best to describe what it's doing
[07:38:49] <mcpherrin> pack() is for serialzing data
[07:39:07] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[07:39:08] <cmr> looks about as indecipherable as the rest of perl
[07:39:20] <geomyidae> yeah, it looks like a succinct way to write an extraction from a packet's header
[07:39:36] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[07:39:45] <mcpherrin> in C, I'd define a struct and cast a char* to said struct*
[07:40:01] <cmr> oh looking at the docs it actually looks nice.
[07:40:13] <geomyidae> I've already written all that by hand anyway, I just want an example of an encoding interface for ip packets. :S
[07:40:17] <geomyidae> I want to be done with this project
[07:40:28] <cmr> encoding what, to what?
[07:40:31] <cmr> there's extra::serialize
[07:40:31] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:41:02] <geomyidae> https://github.com/colemickens/pktutil/blob/master/lib.rs cmr
[07:41:07] <geomyidae> I have structs for decoding into
[07:41:12] <geomyidae> and I have everything written to encode
[07:41:22] <geomyidae> but I can't piece toget an api I like for encoding and setting the len and checksum
[07:41:50] <geomyidae> esp for ip headers where there are independent pieces (like ihl, options and total_len are all related, so should be checked or set automatically)
[07:45:56] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[07:46:39] *** Quits: jackneill (jackneill@moz-30A5D364.pool.digikabel.hu) (Ping timeout)
[07:48:29] *** Joins: tav (tav@moz-54E3B3B0.range31-52.btcentralplus.com)
[07:49:30] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[07:51:50] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[07:52:34] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[07:53:29] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[07:54:17] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[07:54:17] *** ChanServ sets mode: +ao brson brson
[07:55:14] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:56:50] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[07:58:51] *** Quits: luzie (lucy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[08:00:23] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[08:00:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[08:02:08] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[08:02:29] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[08:02:50] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[08:04:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:05:11] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[08:05:17] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:05:43] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[08:05:45] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[08:06:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:06:18] *** Quits: jeaye (jeaye@C5B20E30.2984CE01.29C5BFDA.IP) (Quit: WeeChat 0.4.2)
[08:07:45] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[08:07:56] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:08:27] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[08:08:53] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[08:09:26] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:09:57] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Quit: victorporof)
[08:10:04] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[08:10:52] *** Joins: marianoguerra (marianogue@moz-9BDC511.dip0.t-ipconnect.de)
[08:12:20] *** Quits: Seb (Seb@moz-97344273.actrix.co.nz) (Client exited)
[08:15:00] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:16:15] *** Joins: mm (est@moz-A211EC5.hsd1.ca.comcast.net)
[08:16:18] *** Quits: mm (est@moz-A211EC5.hsd1.ca.comcast.net) (Quit: mm)
[08:17:52] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:18:12] *** Joins: matlads (matlads@4D6308FA.E0261C68.C329A229.IP)
[08:19:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:21:32] *** vmx_ is now known as vmx
[08:23:28] *** Joins: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com)
[08:25:24] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[08:26:11] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Quit: Konversation terminated!)
[08:26:16] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[08:26:51] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[08:27:51] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:57] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Connection reset by peer)
[08:28:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:33] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:30:13] <eddyb> cmr: this was just an weird video until I saw the text at the end https://www.youtube.com/watch?v=STHpMUYeznQ
[08:32:50] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[08:33:25] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[08:34:19] <patpat> Hello, silly question, but is it possible to have a traditional for loop in Rust, ie. for(int i = 0; i * i < 100; i++)?  I can do this with a while loop with 'i' declared before the while, and incremented at the end, although I would prefer if 'i' was contained within the loop. I'm not sure how I'd have condition check in a for-each loop.
[08:34:20] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:34:35] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:34:59] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[08:35:01] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[08:35:14] <eddyb> patpat: you could write your own iterator or use a while loop
[08:35:27] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:36:21] <patpat> ah, okay
[08:36:45] <kimundi> patpat: Or chain existing iterators
[08:36:55] <eddyb> kimundi: I tried to think of how I could do that...
[08:37:08] <patpat> oh, that sounds interesting
[08:37:15] <kimundi> for i in count(0, 1).take_while(|&i| i * i < 100)
[08:37:24] <eddyb> I guess we need a [0, +inf) iterator?
[08:37:28] <eddyb> kimundi: what's count doing?
[08:37:30] *** Joins: skade (skade@moz-87123040.mactelecom.net)
[08:37:46] <kimundi> starts from the first number, and adds the second number
[08:37:55] <eddyb> hah, I haven't seen it before
[08:37:58] <kimundi> ie, its a infinite iterator
[08:38:05] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Quit: Leaving)
[08:38:21] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[08:38:38] <patpat> very nice!
[08:40:09] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[08:40:33] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[08:41:02] <cmr> eddyb: bahahah that's hilarious
[08:41:51] <eddyb> cmr: thankfully it's not my case :P
[08:42:10] <eddyb> kimundi: maybe we could have a "count_while"?
[08:42:33] <kimundi> eddyb: why have that if you can just chain it like this?
[08:42:53] <eddyb> that is basically the well-known for loop form
[08:43:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:24] <eddyb> kimundi: no reason other than to make it slightly shorter
[08:43:53] <kimundi> The more common for usecase is range(), and even that is discouraged to do
[08:44:00] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:38] <wycats> how can I compile just stage1?
[08:44:52] <kimundi> wycats: make check-stage1
[08:45:01] *** Joins: pigoz (pigoz@moz-93D3080C.as5577.net)
[08:45:05] <wycats> sweet
[08:45:15] <kimundi> no idea if there is a non-check target
[08:45:15] <wycats> the feedback loop on compiler work is awfully slow
[08:45:22] <wycats> already disabled optimizations
[08:45:30] <eddyb> kimundi: rustc-stage1
[08:45:37] <cmr> wycats: isn't it fun? :\
[08:45:39] <kimundi> yeah, I'm always only compiling up to stage1 these days
[08:45:44] <eddyb> wycats: disabling optimizations is bad
[08:46:00] <wycats> eddyb: rustc-stage1 wasn't picking up my changes
[08:46:02] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[08:46:14] <wycats> I changed middle/typeck/check/mod.rs
[08:46:14] <eddyb> wycats: something broke makefiles in the last couple of days
[08:46:21] <eddyb> wycats: exactly the same file for me :P
[08:46:25] <wycats> ran make rustc-stage1
[08:46:28] <wycats> and nada
[08:46:31] <eddyb> wycats: touch src/librustc/lib.rs
[08:46:52] <eddyb> there should be an issue for this
[08:46:59] <kimundi> disabling optimisation makes the first compiler compile faster faster - but that compiler will then run very slowly
[08:47:28] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[08:49:11] <wycats> kimundi: but if I'm only ever doing stage1
[08:49:13] <wycats> seems ok
[08:49:42] <eddyb> wycats: rustc-stage1 will have to compile std/extra/all the other small libs with the compiler it compiled
[08:49:44] <kimundi> wycats: possibly, yeah
[08:49:59] <kimundi> but see eddyb's response :P
[08:50:18] <kimundi> I guess just watch the debug output
[08:50:47] <wycats> heh
[08:51:07] <wycats> bedtime
[08:51:17] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:52:38] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[08:56:22] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[08:59:12] *** Joins: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net)
[08:59:59] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:03:49] <dbaupp> eddyb: wtf
[09:03:50] <dbaupp> (that video)
[09:03:58] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:04:28] *** Quits: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net) (Ping timeout)
[09:05:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:05:16] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[09:05:36] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:05:48] *** pmoore|away is now known as pmoore
[09:06:27] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[09:06:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:07:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:08:10] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[09:08:29] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[09:08:30] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[09:08:52] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:09:10] *** Quits: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp) (Quit: Lost terminal)
[09:09:13] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[09:09:45] <kimundi> wtf (that video)
[09:12:19] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:12:37] *** Parts: arturo (Thunderbir@moz-E83B14F0.superkabel.de) ()
[09:13:19] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:16:51] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[09:17:45] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:18:15] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:18:24] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:18:41] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:20:09] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:20:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:20:32] <bjz> wtf
[09:20:39] <bjz> (that video)
[09:22:05] <skrylar> (defmacro 'wut ('a) (wtf ,a)) (wut (that-video)) ?
[09:22:48] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:23:31] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:25:14] *** Joins: alonlevy (alon@moz-8ACA8B9B.urlab.be)
[09:28:07] <bjz> hansjorg: ping
[09:28:26] <cmr> Eridius: ping
[09:28:29] <hansjorg> bjz: Hi
[09:28:32] <cmr> Eridius: unping
[09:28:36] *** Joins: squiddy (squiddy@moz-5E50BDC4.adsl.alicedsl.de)
[09:28:46] * cmr crawls into his corner
[09:28:51] <bjz> hansjorg: how does rustci know where to find the docs?
[09:29:04] <bjz> hansjorg: does it need to be in a specific directory?
[09:29:24] <bjz> hansjorg: it's not really clear in the instructions
[09:30:02] <hansjorg> bjz: yes, it looks for "doc" in the project root
[09:30:27] <bjz> ah ok
[09:30:43] <hansjorg> and then for doc/*/index.html to make links
[09:31:17] <dbaupp> hansjorg: it doesn't look for doc/index.html?
[09:33:04] *** Joins: rca (rcatolino@moz-3F45C50.adsl.proxad.net)
[09:33:05] <hansjorg> dbaupp: nope. should it?
[09:33:16] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Quit: Konversation terminated!)
[09:33:21] *** Joins: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP)
[09:33:29] <dbaupp> hansjorg: no idea
[09:33:32] <bjz> hansjorg: awesome
[09:33:54] <dbaupp> hansjorg: maybe someone might want a shared index page?
[09:33:58] * dbaupp shrugs
[09:34:17] <bjz> dbaupp: my index is at doc/glfw/index.html
[09:34:41] <dbaupp> bjz: for glfw-rs?
[09:34:47] <bjz> yeah
[09:34:54] <dbaupp> bjz: you mean the rustdoc generated one, right?
[09:34:57] <hansjorg> ok. that could be useful I guess
[09:35:00] <bjz> yeah
[09:35:14] *** flaper87|afk is now known as flaper87
[09:35:27] <dbaupp> I was meaning a hand written HTML file that someone writes
[09:35:34] <dbaupp> for whatever reason
[09:35:34] <bjz> dbaupp: oh ok
[09:35:48] <dbaupp> hansjorg: how are you hosting it?
[09:36:00] *** Joins: igork (igork@moz-D312758C.broadband.corbina.ru)
[09:36:56] <hansjorg> dbaupp: files are stored on Amazon S3 (but proxied through rust-ci.org, so that's not visible to end users)
[09:37:31] <dbaupp> hansjorg: ah, cool :)
[09:38:44] <bjz> hansjorg: <3 rustci btw
[09:38:49] <bjz> ty ty ty
[09:38:50] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[09:38:54] <bjz> <3 <3 <3
[09:38:57] <bjz> <3
[09:38:58] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[09:38:59] <bjz> :D
[09:40:10] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[09:40:36] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[09:41:30] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[09:42:34] <hansjorg> bjz: glad you like it :)
[09:42:45] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:43:27] <hansjorg> working on adding collection and graphing of benchmarks. might be interesting for some projects
[09:43:27] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:44:26] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:44:41] <dbaupp> I feel like the rust-ci machines will be too variable for that to be very useful
[09:45:44] <dbaupp> e.g. mozilla's (which would presumably be more uniform) buildbots give http://huonw.github.io/isrustfastyet/buildbot/bench/test.html#benches=std-trie-bench_map-bench_iter_small
[09:46:20] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:48:09] <bjz> what does #[warn(unused_must_use)] do?
[09:48:32] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[09:48:36] <Ms2ger> Warn
[09:48:47] <bjz> `warning: unused result which must be used, #[warn(unused_must_use)] on by default` isn't very enlightening
[09:49:13] <Zr40> it warns that you're not using that function's result
[09:49:24] <bjz> return value?
[09:49:28] <Zr40> yes
[09:49:46] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[09:49:52] <bjz> I'm thinking it would probably good to re-word that
[09:49:57] <dbaupp> bjz: there are some types marked with #[must_use]
[09:50:05] <bjz> dbaupp: ohh
[09:50:22] <hansjorg> dbaupp: hm, yeah. that might be a problem
[09:50:23] <bjz> dbaupp: like, I would rather it be on everything
[09:50:25] <dbaupp> which decree themselves to be required to be used when returned from a function
[09:50:38] <dbaupp> #[warn(unused_return-value)] or something
[09:50:45] <dbaupp> acrichto added two similar lints
[09:50:52] <bjz> dbaupp: but then have a better error message
[09:50:57] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:51:08] <dbaupp> but the one that warns on everything had waay too many false positives apparently
[09:51:14] <bjz> dbaupp: oh
[09:51:15] <dbaupp> but yeah, error messages are hard to write
[09:51:37] <dbaupp> if we can come up with a clearer one, I'm sure it'll be merged
[09:51:57] <dbaupp> "unused result of a type marked #[must_used]"
[09:52:04] <bjz> dbaupp: saying something like "Unused return value. Use `let _ = ...` to silence."
[09:52:23] <bjz> dbaupp: or that in the case of must_use
[09:52:29] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[09:52:40] <dbaupp> does `let _ =` actually silence #[must_use]?
[09:52:44] <bjz> dbaupp: must_use is actually rather weird
[09:52:48] <bjz> dunno
[09:53:02] <bjz> I'm talking about for unused return values
[09:53:15] <dbaupp> so am I?
[09:53:34] <bjz> you are talking about for must_use
[09:53:37] <dbaupp> oh, I see
[09:53:59] <bjz> I would like a global lint for "Unused return value. Use `let _ = ...` to silence."
[09:54:17] <dbaupp> (the unused return values one is off by default, so if someone activates it on purpose they'll be able to recognise the error message, I think)
[09:54:32] <dbaupp> certainly the ones that are on by default should have crystal clear messages
[09:54:54] <bjz> Why do we have #[must_use]?
[09:55:08] <bjz> is it just a hack because the global one doesn't work?
[09:55:13] <dbaupp> because warning on everything is too noisy
[09:55:17] <bjz> it seems really strange
[09:55:27] <dbaupp> and there are some types which almost surely should be used
[09:55:37] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[09:55:41] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[09:55:45] <bjz> mine was on an option.map
[09:55:47] <dbaupp> like IO error-or-not return values
[09:56:36] <dbaupp> you can #[deny(unused_result)]; on your crates
[09:56:41] <dbaupp> if you want the global one
[09:56:47] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[09:59:32] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[09:59:45] <bjz> dbaupp: let _ = silences it
[10:01:45] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:03:32] <dbaupp> bjz: the must_use one, or the normal one?
[10:03:42] <bjz> must_use
[10:04:04] <dbaupp> ah, cool
[10:04:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:05:58] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:07:31] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[10:08:34] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[10:08:50] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:09:50] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:12:13] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[10:13:29] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[10:15:34] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[10:15:47] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (No route to host)
[10:16:48] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:18:58] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:20:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:23:50] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[10:23:51] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:24:05] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[10:24:38] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[10:26:13] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:29:00] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[10:30:11] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[10:31:49] *** Quits: skade (skade@moz-87123040.mactelecom.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:33:40] *** Joins: nkoep (nik@moz-AB8DDDA4.pool.mediaways.net)
[10:33:50] *** Joins: skade (skade@moz-87123040.mactelecom.net)
[10:34:23] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[10:34:31] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[10:35:32] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[10:39:41] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[10:40:21] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[10:40:34] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[10:41:24] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[10:45:18] <Yurume> does the current rustc master (still) work in Windows XP?
[10:47:25] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:55:19] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:56:15] *** Quits: Ms2ger (Ms2ger@moz-1A53B611.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[10:59:39] *** Quits: matlads (matlads@4D6308FA.E0261C68.C329A229.IP) (Ping timeout)
[11:03:04] <Zr40> why do people keep using XP :(
[11:04:31] *** Quits: skade (skade@moz-87123040.mactelecom.net) (Ping timeout)
[11:05:12] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[11:05:22] <eddyb> Zr40: sometimes debian is not old enough :P
[11:05:40] *** Joins: skade (skade@moz-87123040.mactelecom.net)
[11:05:53] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[11:05:53] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[11:07:01] <Yurume> Zr40, since it's there and Vista/7/8/8.1 is not there?
[11:07:38] <Zr40> Yurume: no, that's the effect of not upgrading, not the cause
[11:08:17] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[11:09:45] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[11:14:45] <cmr> Yurume: it might, but it's not tested.
[11:15:16] <Yurume> I have a report that the binary compiled with the recent master does not work in XP
[11:15:26] <Yurume> I cannot test that though
[11:15:28] <cmr> I'd buy it..
[11:15:48] <Yurume> >     The procedure entry point CreateSymbolicLinkW could not be located in the dynamic link library KERNEL32.dll.
[11:15:49] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[11:15:59] <cmr> oh
[11:16:02] <cmr> yeah
[11:16:09] *** Joins: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP)
[11:16:22] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:16:24] <Zr40> Yurume: that function was added in Vista
[11:16:51] <Yurume> right, but I cannot determine whether it is in the std or other crate I'm using right now.
[11:18:20] <cmr> it looks like libnative uses CreateSymbolicLinkW directly, but it seems like libuv will check if it exists before calling it.
[11:18:52] <Yurume> and... it seems that stdlib indeed has that. (native::io::file::symlink and std::libc::...)
[11:19:32] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:21:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:21:28] <cmr> yeah
[11:22:07] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:23:33] *** Quits: japaric (japaric@55D04ADF.DC1425E6.84437BC5.IP) (Ping timeout)
[11:23:34] <Zr40> I wish XP would just be gone. Vista too, else it would just become the next XP in a few years.
[11:24:55] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:25:36] <Ke> I don't think Vista is a threat
[11:25:49] <cmr> yeah
[11:25:54] <cmr> vista was too awful to be the next xp
[11:25:56] <cmr> and 7 too good
[11:27:16] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:28:21] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:28:56] *** Quits: kvanb (kvanb@moz-3762148F.lnse7.win.bigpond.net.au) (Ping timeout)
[11:31:38] *** Joins: kvanb (kvanb@moz-393DF0AD.lnse7.win.bigpond.net.au)
[11:31:54] *** Quits: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de) (Ping timeout)
[11:34:31] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[11:36:12] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:37:11] *** Joins: mib_pkcikm (Mibbit@13E891DA.9636F313.7A27613B.IP)
[11:37:21] *** Quits: mib_pkcikm (Mibbit@13E891DA.9636F313.7A27613B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:37:24] *** Joins: victorporof_ (victorporo@970BB0A1.F7F04062.79933D60.IP)
[11:38:44] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Ping timeout)
[11:39:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[11:40:26] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[11:41:27] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[11:41:28] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[11:42:11] <pzol> rusti: let omap = Some(HashMap::<~str, uint>::new()); let map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:42:14] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[11:42:24] -rusti- pastebinned 11 lines of output: http://ix.io/ae2
[11:42:41] *** Quits: victorporof_ (victorporo@970BB0A1.F7F04062.79933D60.IP) (Ping timeout)
[11:42:49] <pzol> rusti: let omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:42:50] -rusti- <anon>:10:80: 10:84 error: cannot borrow immutable local variable as mutable
[11:42:51] -rusti- <anon>:10         let omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:42:51] -rusti-                                                                                          ^~~~
[11:42:51] -rusti- error: aborting due to previous error
[11:42:52] -rusti- application terminated with error code 101
[11:42:55] <pzol> :(
[11:43:04] <cmr> let mut omap = ...
[11:43:18] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[11:43:33] <pzol> rusti: let omap = Some(HashMap::<~str, uint>::new()); let mut map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:43:43] -rusti- pastebinned 11 lines of output: http://ix.io/ae3
[11:43:50] *** Joins: sk_ (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[11:43:51] <eddyb> pzol: haven't you read what cmr said?
[11:43:59] <eddyb> rusti: let mut omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:44:02] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[11:44:28] <pzol> rusti: let omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let mut map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:44:29] -rusti- <anon>:10:84: 10:88 error: cannot borrow immutable local variable as mutable
[11:44:29] -rusti- <anon>:10         let omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let mut map = omap.get_mut_ref(); map.insert(~"foo", 1);
[11:44:29] -rusti-                                                                                              ^~~~
[11:44:29] -rusti- error: aborting due to previous error
[11:44:31] -rusti- application terminated with error code 101
[11:44:32] *** Quits: sk_ (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[11:44:44] <eddyb> pzol: you made the same error again
[11:45:10] <eddyb> rusti: let mut omap = Some(std::hashmap::HashMap::<~str, uint>::new()); let map = omap.get_mut_ref(); map.insert(~"foo", 1); omap
[11:45:12] *** Joins: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP)
[11:45:13] -rusti- pastebinned 8 lines of output: http://ix.io/ae4
[11:45:29] <eddyb> rusti: let mut omap = Some(std::hashmap::HashMap::<~str, uint>::new()); {let map = omap.get_mut_ref(); map.insert(~"foo", 1); }omap
[11:45:33] -rusti- pastebinned 1 lines of output: http://ix.io/ae5
[11:45:49] <pzol> wow
[11:46:39] <cmr> good wow, or bad wow?
[11:47:24] <pzol> hmmm w8... 
[11:47:46] *** Quits: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP) (Quit: )
[11:48:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[11:50:35] <pzol> eddyb here's the full case now https://gist.github.com/8730665
[11:52:29] <eddyb> pzol: find_mut borrows the map
[11:52:41] <pzol> eddyb it would work if I did a second omap.get_mut_ref().insert(...) - but there's got to be another wway
[11:52:51] <eddyb> pzol: you can't touch the map inside the match
[11:53:36] <cmr> there's the mangle function for this sort of thing
[11:53:39] <eddyb> let (v, need_to_insert) = match map.find_mut(&~"foo") {None => (2, true), Some(c) => (0, false)}; if need_to_insert { ... }
[11:53:43] <cmr> s/function/method/
[11:53:43] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[11:53:48] <eddyb> oh, right
[11:54:23] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:54:47] <pzol> cmr yeah... but mangle doesn't work in my case, cause it needs a ref
[11:55:22] *** Quits: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com) (Ping timeout)
[11:55:53] <eddyb> HashMap::find is really annoying for ~str keys, I have to assume
[11:56:19] <pzol> it's kinda wierd... 
[11:56:26] <eddyb> though Equiv might help with that
[11:56:42] *** Joins: DasIch (dasich@moz-5EDA591.de)
[11:58:08] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[11:58:51] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[11:59:38] <pzol> so omap.get_mut_ref borrows() the omap
[12:00:00] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[12:00:31] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:01:10] <eddyb> pzol: not that
[12:01:17] *** Quits: rca (rcatolino@moz-3F45C50.adsl.proxad.net) (Ping timeout)
[12:01:26] <eddyb> pzol: the issue is with find_mut/insert
[12:01:36] *** Joins: sdg (Mibbit@D0859826.B8520FC9.3B82F87E.IP)
[12:01:58] *** Quits: sdg (Mibbit@D0859826.B8520FC9.3B82F87E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:02:10] <pzol> eddyb I got it working successfully when the omap is defined static outside the function
[12:02:38] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[12:02:43] <eddyb> you only touch omap once
[12:03:06] *** Quits: skade (skade@moz-87123040.mactelecom.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:03:27] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:05:38] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[12:05:57] *** Quits: blank_name (blank_name@6857152D.7C86004B.6D228269.IP) (Ping timeout)
[12:07:28] *** Joins: sk_ (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[12:07:33] *** Quits: sk_ (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Input/output error)
[12:07:59] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Input/output error)
[12:08:14] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[12:09:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[12:09:31] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[12:14:24] <pzol> eddyb this works https://gist.github.com/pzol/8730665 but is ugly
[12:15:02] <eddyb> pzol: you don't need to touch omap more than once
[12:15:03] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:15:22] <pzol> ?
[12:15:49] <eddyb> pzol: map.insert inside the match block overlaps with map.find_mut in the match expression
[12:15:55] <eddyb> pzol: I gave you a solution above
[12:16:14] <pzol> eddyb yep, no other way ? :) 
[12:16:27] <eddyb> pzol: what you're doing isn't safe
[12:16:40] <pzol> eddyb ok, thanks
[12:17:22] <eddyb> pzol: what you're doing with omap.get_mut_ref() twice... that almost looks like a bug to me
[12:17:44] <pzol> eddyb because it shouldnt work?
[12:17:44] <eddyb> I guess you can do that because you're borrowing a static mut, but it's not sane
[12:18:00] <pzol> eddyb ok
[12:18:15] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[12:18:25] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[12:19:48] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:20:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:20:04] <eddyb> rusti: [Vec::<int>::new(), ..15]
[12:20:11] -rusti- pastebinned 11 lines of output: http://ix.io/ae6
[12:20:25] <eddyb> rusti: version
[12:20:27] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[12:20:34] <dbaupp> eddyb: Vec isn't in the prelude
[12:20:42] <eddyb> rusti: [::std::vec_ng::Vec::<int>::new(), ..15]
[12:20:46] -rusti- pastebinned 8 lines of output: http://ix.io/ae7
[12:20:50] <dbaupp> and it's also not Pod
[12:21:00] <eddyb> that's not nice...
[12:21:12] <dbaupp> just write it 15 times :P
[12:21:54] <dbaupp> (I guess it would actually be valid to write `init::<[Vec<int>, .. 15]>()`, since a completely zeroed Vec is just an empty Vec.)
[12:21:55] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:23:03] <Yurume> cmr, are you aware of the issue for missing symbols in XP? I couldn't found that, and if there isn't I'll make a separate issue for that.
[12:23:15] <cmr> Yurume: CreateSymbolicLinkW?
[12:23:18] <Yurume> yes
[12:23:26] <cmr> It's missing because it doesn't exist. I don't know of any issue.
[12:23:42] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[12:23:44] <Yurume> then I'll make an issue for that
[12:25:23] *** Joins: blank_name (blank_name@6857152D.7C86004B.6D228269.IP)
[12:26:17] *** Joins: rca (rcatolino@moz-3F45C50.adsl.proxad.net)
[12:26:18] *** Quits: igork (igork@moz-D312758C.broadband.corbina.ru) (Client exited)
[12:27:47] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[12:27:55] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[12:28:02] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[12:30:04] <silven> Is this a correct way to use both green and native? http://pastebin.com/W5U6E6DG As in, I have one native thread running, + a M:N pool running green stuff?
[12:30:26] <cmr> silven: looks right, yep.
[12:31:37] <silven> How will this "scale" on my CPU? Will the native thread get one and the green environment spread across the remaining cores, or will all the green spawns live "inside the other spawned" native thread?
[12:32:04] <cmr> Each green scheduler runs on a single core.
[12:32:43] <cmr> so you'll have the main thread, which native::start runs on, a second thread that the first spawn creates, and another thread that green::run creates.
[12:32:46] <silven> So max 2 cores are used this way?
[12:33:02] <cmr> should be, yes.
[12:33:09] <cmr> I don't know where workstealing factors into it...
[12:33:19] <cmr> acrichto would be the one to ask about that.
[12:33:57] *** kimundi is now known as zz_kimundi
[12:34:34] <silven> It feels like a waste if you need to spawn multiple green pools to get any scaling
[12:35:19] <cmr> A waste of what?
[12:35:46] <silven> The way of programming with CSP is nice and all, but some sort of parallelism would be nice
[12:36:15] <cmr> the parallelism comes from workstealing between schedulers.
[12:36:34] <cmr> I don't know what the interaction is there, though
[12:36:46] <silven> Is that so? But green::run claims that "Configures the runtime according to the environment, by default using a task scheduler with the same number of threads as cores"
[12:37:08] <cmr> hm
[12:37:16] <cmr> maybe I have it backwards again
[12:37:20] <cmr> anyway ask acrichto :p
[12:37:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:37:56] <silven> acrichto: How would this program utilize the CPU? http://pastebin.com/W5U6E6DG
[12:37:58] <dbaupp> I think that may be a case of the doc string being slightly imprecise
[12:38:42] <silven> Would it use two cores, multiplexing some green tasks on only one of them, or would it utilize all available cores?
[12:38:44] <dbaupp> from the source, it should really be saying a "a pool of schedulers with the same number of threads as cores"
[12:38:57] <silven> dbaupp: hmm
[12:39:07] <dbaupp> (where each OS-thread has one of the schedulers, which coordinates the user-space multiplexing.)
[12:39:17] *** Joins: skade (skade@moz-87123040.mactelecom.net)
[12:39:34] <dbaupp> i.e. the pool has #cores schedulers
[12:39:57] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:41:10] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[12:41:15] <dbaupp> silven: I think that would run I AM NATIVE on the main thread; spawn a new OS thread for the native-spawn
[12:41:29] <dbaupp> then spawn #cores threads for the green scheduler
[12:41:38] <dbaupp> (created by green::run)
[12:42:17] <dbaupp> execute I AM GREEN and then add a task to the workstealing queue(s) with the spawn-spawned spawn
[12:42:20] <Zr40> dbaupp: does native::start block? if not, why would it run on the main thread?
[12:42:29] <silven> it blocks.
[12:42:50] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[12:43:02] <silven> For a total of #cores + 2 threads? where one of the native ones would just be waiting for the green::run call to return
[12:43:34] <dbaupp> silven: yaeh, I think so
[12:43:57] <dbaupp> there is possible one more utility thread from the green scheduler
[12:44:05] <dbaupp> I'm not 100% sure
[12:44:23] <dbaupp> (that thread may only be when started directly on the main thread (i.e. it doesn't use the main thread).)
[12:44:32] <dbaupp> (it == the green scheduler)
[12:44:52] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[12:45:50] <silven> hmkay
[12:45:50] <silven> I can also do this I realized: http://pastebin.com/cNZcBHWg
[12:46:20] *** Quits: assaf__ (assaf@137E1AC7.42642A4D.FDFCFC19.IP) (Ping timeout)
[12:46:43] *** Joins: assaf__ (assaf@137E1AC7.42642A4D.FDFCFC19.IP)
[12:47:27] <silven> ooops, no actually I cant
[12:47:29] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[12:47:36] <silven> since the do green::run call blocks
[12:51:08] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Ping timeout)
[12:51:46] <silven> It would be nice if do "chained", so I could write "do spawn green::run"
[12:52:10] <cmr> do syntax is removed on master
[12:52:13] <cmr> so...
[12:52:52] *** Quits: blank_name (blank_name@6857152D.7C86004B.6D228269.IP) (Ping timeout)
[12:56:53] <silven> oh
[12:59:06] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:59:58] <silven> I wouldn't say no to spawn taking over that syntax - just writing "spawn { foo(); }" is neater than "spawn(proc() { foo(); })"
[13:00:11] <silven> Since that's the only thing spawn ever does
[13:00:14] <silven> really
[13:00:15] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[13:00:28] <silven> or "spawn foo", if foo is a proc
[13:00:37] <dbaupp> silven: we will probably get a spawn! { ... }` macro
[13:00:48] <dbaupp> but I don't imagine it'll ever be built in to the language
[13:00:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:02:05] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[13:02:31] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[13:02:36] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:04:18] <eddyb> dbaupp: do!(spawn, { ... }) is do-able
[13:04:19] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[13:04:56] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[13:06:41] <silven> eddyb: but not "spawn! { ... }" ?
[13:06:52] <cmr> spawn! should be, I think.
[13:06:59] <dbaupp> almost
[13:07:02] <eddyb> silven: both
[13:07:04] <dbaupp> not with nice syntax, yet
[13:07:13] <eddyb> do! foo {...} might be possible at some point
[13:07:24] <eddyb> silven: all in the library, of course. these are just macros
[13:07:25] <cmr> macro_rules! spawn { ($x:tt) => {std::task::spawn(proc() { $x })} }
[13:07:28] <cmr> does that not work?
[13:07:38] <Yurume> cmr, ::std::task::spawn, I think
[13:07:39] <dbaupp> https://github.com/mozilla/rust/issues/11928
[13:07:45] <dbaupp> cmr: oh, yeah
[13:07:48] <dbaupp> it kinda does
[13:07:57] <eddyb> cmr: might need * to catch more than one token
[13:08:07] <cmr> eddyb: oh, duh
[13:08:15] <dbaupp> it'd have to be $($x: tt)* => expr!(std::task::spawn(proc() { $($x)* }))
[13:08:15] <cmr> dbaupp: but presumably also kinda doesn't?
[13:08:24] <cmr> what is expr!() ?
[13:08:32] <dbaupp> because `tt` can only be placed directly inside another macro expansion
[13:08:36] <cmr> oh
[13:08:40] <dbaupp> a dummy macro that's just $e: expr => $e
[13:08:42] <cmr> does expr!() exist today?
[13:08:48] <cmr> ah ok
[13:09:04] <dbaupp> nah
[13:09:16] <dbaupp> I just define it ad-hoc when I need it
[13:09:32] <cmr> SML: Standard Macro Library
[13:09:40] <cmr> Clearly we can compete with C++ and their fancy STL
[13:10:08] <dbaupp> we could just write a cxx! macro and get the STL too :P
[13:10:12] <cmr> :P
[13:10:18] <dbaupp> ctfe via C++
[13:10:26] *** Joins: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de)
[13:10:35] <cmr> that'd be miserable.
[13:13:08] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:13:14] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[13:18:36] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[13:20:10] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[13:20:29] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[13:20:37] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:21:08] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:21:29] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[13:22:11] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:22:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:24:46] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:24:58] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:29:06] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:29:11] *** Joins: jrfeenst (jrfeenst@EB9B6F4E.B49A9E89.A9D37AD9.IP)
[13:29:38] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Ping timeout)
[13:30:33] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[13:35:16] *** Joins: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de)
[13:36:16] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[13:36:44] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:36:47] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:37:01] *** Quits: new_one (new_one@75DA6967.1BCA12AB.B3C0173E.IP) (Ping timeout)
[13:37:06] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:38:35] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[13:39:01] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Ping timeout)
[13:39:44] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[13:41:50] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[13:41:55] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[13:42:09] <NewFolder> is anyone currently able to build rust on osx?
[13:42:10] *** Quits: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru) (Quit: Kxepal)
[13:42:40] <NewFolder> I know 0.9 had an issue or two, so I tried building from head.. but I get linker errors
[13:43:38] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[13:43:44] <silven> How do I enable macro_rules? isnt #[feature(macro_rules)] enough?
[13:43:48] *** Joins: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru)
[13:43:55] <eddyb> silven: did you forget the semicolon?
[13:45:16] <silven> that yeilds: "error: expected item but found `;`"
[13:45:20] <NewFolder> on my windows system, rust works of course.. but getting various gl bindings is a time-consuming exercise that I gave up on
[13:45:33] <eddyb> silven: is it at the top of the crate?
[13:45:53] <eddyb> #[feature(macro_rules)]; fwiw
[13:45:57] <silven> ah, now it works. thanks
[13:46:03] <silven> I had it below my imports
[13:46:04] <cmr> NewFolder: what errors are you getting?
[13:46:06] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:46:14] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[13:46:45] <NewFolder> cmr: I'm actually not on my osx system at the moment.. but I'll try seeing if I can find a post about a similar error someone had a week ago
[13:47:29] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[13:48:14] <NewFolder> from memory, the first linker error was about a problem with std::???:first_or_not_something(..)
[13:48:26] *** Parts: jrfeenst (jrfeenst@EB9B6F4E.B49A9E89.A9D37AD9.IP) ()
[13:48:30] <NewFolder> same first error as the other guy.  I can't remember exactly what that was.. trying to find it
[13:50:10] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[13:50:42] <NewFolder> probably find_if_not
[13:51:00] <eddyb> why would something like that be a static method?
[13:51:17] <cmr> there's not a single find_if_not in the entire codebase
[13:51:20] <cmr> including llvm!
[13:52:00] <NewFolder> okay, not that then :)
[13:52:47] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[13:53:13] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[13:53:46] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[13:53:50] <zokier`> has anyone used AES in rust-openssl successfully? i can't get my test vectors to verify https://gist.github.com/zokier/8732369
[13:54:12] <cmr> whoa that's a nice api
[13:54:36] <cmr> (with openssl in the name, I expected an eldritch horror)
[13:54:51] <NewFolder> ahm it was std::string::find_last_not_of
[13:55:05] <NewFolder> ahm/ah
[13:55:16] *** Joins: NiccosSystem` (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[13:55:17] <cmr> NewFolder: hm, seems that's part of LLVM. did you try doing a clean build?
[13:55:25] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[13:55:34] <NewFolder> cmr: yes, I had done a fresh git clone and ./configure
[13:55:39] <cmr> odd
[13:56:20] <NewFolder> cmr: I'm mainly a windows user, so I'm not the best at debugging the problem.  Here's the most promising post I could find on the issue.  His error is somewhat different than mine, so I'm not sure if it's really a similar problem - https://github.com/mozilla/rust/issues/11703
[13:56:43] *** pmoore is now known as pmoore|brb
[13:56:48] <eddyb> can we allow Struct { a, b } as sugar for Struct { a: a, b: b }?
[13:56:57] <cmr> eddyb: I wish we would
[13:57:11] <eddyb> we're doing it in patterns, so it feels inconsistent
[13:57:12] <cmr> typing a: a makes me feel silly.
[13:57:15] <cmr> agree
[13:57:34] <eddyb> I guess I can implement it rather easily, just dread the tests
[13:58:49] <dbaupp> I thought you loved writing tests?
[13:59:00] <cmr> heh
[13:59:30] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[13:59:34] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:59:35] <NewFolder> so a possible culprit suggested in the post I linked is this - "You have a local LLVM installation that's getting linked by accident"
[13:59:46] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[13:59:55] <eddyb> dbaupp: hmpf, I have a naughty idea
[13:59:58] <cmr> I don't use OS X myself, I don't know how that system is setup..
[14:00:00] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:00:13] <NewFolder> Xcode has its own clang + llvm stuff set up somewhere/somehow
[14:00:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:00:33] <dbaupp> eddyb: is it `rm -rf src/test`?
[14:00:55] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:01:13] <eddyb> dbaupp: --pretty normal src/lib* and compare the result with the original, ignoring whitespace
[14:01:18] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:01:19] <NewFolder> so it seems to be a possibility.. though I think the majority of osx devs will have the Xcode commandline dev tools installed, so if it's a problem, then it would be a common problem
[14:01:34] <NewFolder> cmr: yeah.. that would make it hard to figure out
[14:01:49] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[14:01:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[14:02:35] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[14:03:15] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[14:04:45] <eddyb> dbaupp: I'm not sure if we do it already, but if we were to make the pretty-printer re-sugar things like a: a to a (the way I wanted to implement it for struct initializers wouldn't allow you to distinguish between a and a: a in the AST), we could clean up the codebase by doing this pretty diff
[14:05:00] *** Joins: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[14:05:18] *** Quits: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Quit: Ignore me!!)
[14:06:36] <cmr> eddyb: if only the pretty printer works.
[14:06:39] <cmr> *worked
[14:09:27] <dbaupp> eddyb: that sounds exactly like the rustfix tool that everyone wants
[14:09:32] <dbaupp> *rustfmt
[14:09:36] *** Joins: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP)
[14:09:47] <eddyb> I thought the pretty printer worked except for whitespace
[14:09:55] <eddyb> or comments or whatever
[14:09:58] <cmr> it also reorders comments
[14:10:10] <dbaupp> and doesn't follow the style guide
[14:10:12] <cmr> and absolutely *destroys* any notion of alignment.
[14:10:21] <dbaupp> and puts everything into one file
[14:10:30] <dbaupp> https://github.com/mozilla/rust/issues/3195
[14:10:38] <eddyb> cmr: but there's a fancy algorithm and everything!
[14:10:47] <eddyb> for indentation
[14:10:49] <dbaupp> (see the bug references at the bottom)
[14:11:35] *** Quits: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP) (Quit: )
[14:11:36] <cmr> The first step would be fixing all the xfail-pretty tests..
[14:12:13] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:12:23] <eddyb> cmr: meh, I wanted to put together my resume this weekend. I can only do so many things at once
[14:12:38] <cmr> :P
[14:13:09] <dbaupp> eddyb: use the pretty printer you'll've rewritten to pretty print your resume
[14:13:32] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[14:13:55] <eddyb> I have nothing against that, but can I trust the HR dept to understand it?
[14:14:01] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:14:32] <eddyb> I *guess* I could use macros to produce TeX that I can render into a PDF
[14:14:44] <eddyb> dbaupp: now you've made it ten times harder
[14:15:58] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[14:16:10] <dbaupp> ah, TeX? probably memory unsafe, an attack might exploit it and steal all your bank details
[14:16:15] <dbaupp> better rewrite that into Rust too
[14:16:15] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:16:26] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Ping timeout)
[14:16:35] <dbaupp> (because clearly TeX is network enabled.)
[14:17:12] <eddyb> dbaupp: let's pick a TeX rendering service and find out :P
[14:18:14] *** Joins: tsurai (tsurai@D0859826.B8520FC9.3B82F87E.IP)
[14:19:51] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[14:20:28] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[14:20:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[14:20:55] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:21:11] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:22:38] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[14:22:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:24:26] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[14:25:41] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[14:25:52] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:25:52] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:26:27] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[14:26:32] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[14:29:56] <tsurai> hi everyone, I have a problem with Trait objects
[14:30:09] <tsurai> I'm trying to save an owned trait object in a struct which is deriving clone
[14:30:24] <tsurai> but there is no implementation for clone for the trait object and I can't figure out how to make it work
[14:30:42] <eddyb> tsurai: you need a ~Trait-specific clone-like method
[14:31:23] <eddyb> and then impl Clone for ~FooTrait {fn clone(&self) -> ~FooTrait {self.clone_as_foo()}}
[14:32:23] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:32:33] *** Joins: benjamin_ (benjamin@moz-D10FAA30.dip0.t-ipconnect.de)
[14:33:02] *** pmoore|brb is now known as pmoore
[14:33:02] *** Quits: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de) (Ping timeout)
[14:34:23] <silven> dbaupp: I'm messing around some with the code from earlier, and from what I can tell it's only using one core.
[14:35:12] <silven> I'm spawning a lot of green tasks doing a bunch of meaningless work but only one core goes to 100%
[14:35:48] <dbaupp> silven: weird
[14:36:07] <dbaupp> how much work does each task do?
[14:36:53] <silven> for i in range(0, 100000000) sum += i, it takes about 10 seconds without -O
[14:37:01] <dbaupp> and, does any of the work involve anything that would context switch back to the scheduler? (the green threads are cooperatively scheduled, so one thread in a hard loop will starve everything else)
[14:37:03] <dbaupp> ah, yes
[14:37:09] <dbaupp> that's probably it
[14:37:30] <dbaupp> the scheduler doesn't get a chance to hand the jobs out to the other threads
[14:37:51] <dbaupp> if you were to put an `if i % 100000 { task::deschedule() }` in there, it may change it
[14:37:59] <silven> Can I forcibly yield() or something?
[14:38:06] <silven> Because that's just stupid
[14:38:10] <dbaupp> yeah, deschedule
[14:39:05] <silven> ok, yeah that's better
[14:39:10] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:39:44] <dbaupp> putting that just once at the start of the task (i.e. just inside the `proc() {` ), may help too
[14:39:58] <silven> It doesn't spawn all of them, but at least it saturates all the cores now
[14:40:18] <dbaupp> (switching back to the parent to let it spawn some other threads/let work stealing happen)
[14:40:41] <dbaupp> AIUI libgreen still has low hanging optimisations & tweaks
[14:40:56] *** Joins: dylukes (dylukes@46F1EB25.AF8B4D87.E8393EEB.IP)
[14:40:59] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:41:07] *** Quits: dylukes (dylukes@46F1EB25.AF8B4D87.E8393EEB.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:41:16] <tsurai> eddyb: so I have to implement that clone_as_foo function for every type implementing the trait?
[14:41:33] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[14:41:47] <eddyb> tsurai: not necessarily
[14:41:54] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[14:42:00] *** zz_kimundi is now known as kimundi
[14:42:10] <eddyb> tsurai: you can have the trait inherit CloneAsFoo, a helper trait, which has the method
[14:42:39] *** Quits: kvanb (kvanb@moz-393DF0AD.lnse7.win.bigpond.net.au) (Quit: kvanb)
[14:42:40] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[14:43:09] <eddyb> tsurai: then you can impl<T: Foo+Clone> CloneAsFoo for T {fn clone_as_foo(&self) -> ~Foo {~self.clone()}}
[14:43:12] <silven> dbaupp: I assume green::run has a certain overhead to it, otherwise it would be a great way to partition work a la threadpool
[14:43:19] <silven> Is there a decent way to communicate from one thread into a thread pool?
[14:43:29] <dbaupp> Chan
[14:44:07] <dbaupp> silven: ... I believe it is designed to be able to partition work as a thread pool.
[14:44:16] <dbaupp> sure it has overhead but every threadpool has some overhead
[14:44:23] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[14:44:44] *** Quits: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de) (Quit: Leaving...)
[14:44:52] <silven> so I should spawn a green::run, and send procs over a Chan and let it spawn green tasks from there?
[14:44:52] <silven> Green spawn I assume is very cheap?
[14:44:59] <silven> Well, it's the startup overhead I'm worried about
[14:45:07] <dbaupp> (I guess it depends on what your work is, if libgreen will be very good or not; e.g. if it had no IO at all, I'm sure one could get gains by droppng the infrastructure that manages IO)
[14:45:21] <dbaupp> green spawn isn't *very* cheap
[14:45:25] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:45:38] <dbaupp> it's not like a haskell spark
[14:45:53] *** Joins: doomlord__ (servitor@moz-841308DB.range86-160.btcentralplus.com)
[14:46:13] <dbaupp> I guess that Chan thing may work
[14:46:23] <silven> So an even better idea is to green:run spawn 10 procs that each try to receive from the Chan? But that needs manual syncornizaion right?
[14:48:21] <silven> Hmm, reading a little about it I realize what I really want is a Shared Port,rather than a Shared Chan
[14:49:30] *** jorendorff_away is now known as jorendorff
[14:50:17] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[14:51:44] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:53:13] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[14:53:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:54:03] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[14:55:18] *** Quits: mindcat (mindcat@3110B31B.2AF6B358.291A146C.IP) (Quit: Lost terminal)
[14:55:37] *** Joins: japaric (japaric@BA37D376.D2FA42B.95AFB88D.IP)
[14:56:46] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[14:57:02] *** Joins: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de)
[14:57:04] <silven> Why is it a compilation error if I move something "two levels" down, when it works if I move it "one level" at a time? Like here: http://pastebin.com/km9qpeJV
[14:58:11] <silven> It works if I have let-statements move the chan one proc down at a time
[14:59:15] *** Quits: tav (tav@moz-54E3B3B0.range31-52.btcentralplus.com) (Ping timeout)
[14:59:44] *** Joins: tav (tav@moz-3A80D80B.range109-154.btcentralplus.com)
[14:59:53] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:01:35] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:04:02] <tsurai> eddyb: I get an error with the code you wrote. expected `~Foo:Send` but found `~T`
[15:04:20] <eddyb> tsurai: oh, I guess it doesn't cast automatically
[15:04:29] <eddyb> tsurai: put "as ~Foo" in there
[15:04:32] <tsurai> but casting to ~Foo causes an stack overflow and crashes rustc with an illegal hardware instruction
[15:04:49] <eddyb> that's an abort
[15:05:02] <eddyb> tsurai: oh, I know where that is coming from :(
[15:05:20] <eddyb> tsurai: there's somewhat of a circular dependency between Foo and CloneAsFoo :(
[15:05:42] <tsurai> ahh.. sounds as if it requires some sort of unholy hack
[15:05:58] <eddyb> tsurai: or doing it for each type
[15:06:19] <tsurai> eddyb: guess that's the best solution. At least its solid and works
[15:07:15] <tsurai> I'm trying for hours to solve this problem. Even caused an internal compiler error at times
[15:07:24] <tsurai> I'll take this solution. Thanks a lot for your help :)
[15:08:29] *** Quits: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de) (Quit: Leaving...)
[15:08:33] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:09:04] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:10:34] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:10:35] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:10:47] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:10:53] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:10:53] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:11:00] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:11:01] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:11:26] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:11:26] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:11:52] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:11:53] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:12:17] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:12:18] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:12:28] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[15:12:37] <silven> Can I send closures over a channel?
[15:12:44] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:12:45] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:12:54] <eddyb> silven: only procs
[15:12:57] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[15:13:00] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[15:13:02] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:13:10] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:13:11] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:13:33] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[15:13:36] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:13:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:14:03] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:14:04] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[15:14:32] <silven> ok
[15:15:52] *** Joins: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de)
[15:16:02] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:16:37] *** Quits: jadbaires (jadrian@9214CA23.A66525C4.6119BA41.IP) (Quit: Konversation terminated!)
[15:16:44] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[15:17:06] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[15:18:09] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[15:18:25] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[15:21:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:22:26] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[15:22:54] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[15:23:37] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:24:08] *** pmoore is now known as pmoore|brb
[15:24:36] *** Quits: alonlevy (alon@moz-8ACA8B9B.urlab.be) (Quit: Leaving)
[15:24:49] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[15:25:48] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Quit: WeeChat 0.4.2)
[15:27:48] *** Joins: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP)
[15:28:21] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[15:28:28] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[15:29:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:29:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:30:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:30:22] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[15:31:06] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[15:31:14] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:31:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:33:32] *** Joins: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[15:33:38] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[15:34:11] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:34:49] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[15:35:33] *** Joins: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net)
[15:36:36] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:37:20] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:37:31] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[15:37:35] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:38:15] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:40:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:40:23] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:43:25] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[15:45:01] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[15:45:08] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[15:45:36] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[15:47:14] *** flaper87 is now known as flaper87|afk
[15:47:35] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[15:47:40] *** Quits: Ferreus (ferreus@moz-D794A8C8.dip0.t-ipconnect.de) (Ping timeout)
[15:48:34] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[15:49:50] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[15:51:22] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:52:14] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[15:52:56] *** Quits: rca (rcatolino@moz-3F45C50.adsl.proxad.net) (Quit: Lost terminal)
[15:53:27] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[15:53:30] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[15:54:18] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[15:56:05] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:56:05] *** ChanServ sets mode: +ao dherman dherman
[15:58:34] *** pmoore|brb is now known as pmoore
[15:59:48] *** Parts: NewFolder (adamle@moz-38947329.dedicated.allstream.net) ()
[16:00:13] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:00:51] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[16:01:57] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:02:06] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:02:53] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[16:02:54] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[16:03:29] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:04:08] *** Joins: lkuper_ (lkuper@D7FD9EF0.14CD977C.51B6877.IP)
[16:04:20] *** Quits: dche (dche@3688DE0A.E744BDC4.93CD1CA.IP) (Quit: )
[16:04:33] <kemurphy> when did closure reform happen?
[16:05:29] <kemurphy> istr proc() was a once-callable thing?
[16:05:36] *** Quits: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru) (Ping timeout)
[16:07:26] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[16:07:32] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[16:08:19] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[16:08:25] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[16:08:27] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[16:08:34] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Client exited)
[16:08:40] *** Joins: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net)
[16:08:44] *** Joins: Kxepal (Miranda@moz-C703BD0A.pppoe.mtu-net.ru)
[16:09:11] <kimundi> kemurphy: hm?
[16:09:38] <kemurphy> i'm wondering when ~fn became invalid
[16:09:53] <kemurphy> and where i can look to find out exactly what proc() means now
[16:10:02] <canhtak> hi rust dev's ! i have a question about macros.
[16:10:16] <kimundi> kemurphy: proc is equivalent to the old ~once fn
[16:10:26] *** Quits: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net) (Ping timeout)
[16:10:29] <kimundi> canhtak: sure :)
[16:10:32] <canhtak> I want make a macro who impl different struct with the same impl.
[16:10:49] <canhtak> but i want to give a life to the struct in one case 
[16:10:57] <canhtak> and no lifetime to the other?
[16:11:00] <kemurphy> kimundi: okay, so what do i use if i want something that i can call more than once and that also captures its environment
[16:11:19] <canhtak> is it possible to do this?
[16:11:35] <kimundi> canhtak: hm, lifetimes are currently not well supported in declarative macros, sadly :(
[16:11:52] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[16:11:53] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[16:12:03] <canhtak> arf... so i should write the same code two times...
[16:12:39] *** Quits: skade (skade@moz-87123040.mactelecom.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:12:40] <kimundi> kemurphy: A manually written type that contains the captures as field an has a call(&mut self) method :|
[16:12:52] <kemurphy> kimundi: :( that's what i was afraid of
[16:13:09] <kemurphy> will that kind of thing ever be reinstated or is it just in flux right now
[16:13:18] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:13:36] *** pmoore is now known as pmoore|dinner
[16:13:47] <kimundi> canhtak: You have to, atm, but its certainly not the intention that you should in the long term :)
[16:14:15] <canhtak> kimundi: Okay thank you !
[16:14:43] <kimundi> kemurphy: If we get get variadic generics and/or unboxed closures there will be a lot of options
[16:15:15] <kemurphy> or a Callable trait ;)
[16:15:32] <kemurphy> (much more useful with variadic generics but yeah)
[16:15:34] <kimundi> kemurphy: Basically, there will be two traits Fn<..Args, Ret> and OnceFn<..Args, Ret> which each get a call() method
[16:15:49] <kemurphy> oh, excellent, so that is on the roadmap
[16:15:59] <kemurphy> is that a 1.0 thing?
[16:16:07] <kimundi> Well, not sure how much of that is on the roadmap for 1.0
[16:16:11] <eddyb> kemurphy: lock me in a room with nmatsakis for a week and it's done
[16:16:21] <eddyb> don't forget snacks
[16:16:26] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[16:16:30] <kemurphy> eddyb: hell, i'd join you :P
[16:16:44] <kimundi> I know that unboxed closures are planned "officially", and that eddyb here is pushing for variadics with patches :)
[16:17:13] <kemurphy> sometimes i wish i could walk away from my actual job for a few months and start spending effort on rust again
[16:17:17] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[16:17:19] <eddyb> kimundi: just one patch so far. but it won't be approved until I can get a proper discussion
[16:17:25] <kemurphy> this is what happens when i step away to deal with Real Life :P
[16:17:27] <kimundi> eddyb: yeah
[16:17:48] <eddyb> kemurphy: it's hard even when you don't have a real life
[16:17:58] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[16:18:07] <zokier`> does servo do anything ssl related?
[16:18:31] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[16:18:41] <kimundi> zokier`: better ask in #servo
[16:18:48] <eddyb> kemurphy: https://github.com/mozilla/rust/issues/10124 fwiw
[16:18:49] *** Quits: NiccosSystem` (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[16:19:11] <kemurphy> eddyb: awesome, thanks
[16:19:43] *** Joins: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net)
[16:20:54] <kimundi> eddyb: Oh, that Clone impl looks interesting - I was idly wondering how writing method implementations would look with generics
[16:20:57] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[16:21:18] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[16:22:17] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:23:01] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[16:23:51] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Quit: WeeChat 0.4.2)
[16:23:58] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:24:01] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[16:24:11] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[16:24:54] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[16:27:09] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:27:40] *** Quits: KindOne (KindOne@moz-BACF92C6.dynamic.ip.windstream.net) (Ping timeout)
[16:28:03] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[16:28:56] *** Joins: victorporof_ (victorporo@970BB0A1.F7F04062.79933D60.IP)
[16:29:14] <bstrie_rules> http://natashenka.ca/posters/ strcat: not even once
[16:29:39] <eddyb> hmm, can we have an atomic version of Cell?
[16:29:50] *** Quits: bakkdoor (bakkdoor@moz-2F13AF79.osnanet.de) (Quit: Leaving...)
[16:30:09] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Ping timeout)
[16:30:12] <eddyb> Arc<(AtomicCell<int>, AtomicCell<bool>)>
[16:30:16] <bstrie_rules> eddyb: even better, how about an atomic RefCell, so that we can abbreviate it as Arc
[16:30:41] <eddyb> bstrie_rules: you can't have an ato... wait
[16:31:00] <eddyb> bstrie_rules: you can, but a RWLock is better
[16:31:35] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[16:31:37] <strcat> bstrie_rules: meh
[16:31:39] <strcat> ;p
[16:31:48] <strcat> strlcpy is insecure too, it truncates!
[16:31:54] *** Joins: KindOne (KindOne@moz-546B8A43.dynamic.ip.windstream.net)
[16:32:00] <strcat> the only secure way is building a proper string type with ptr, len
[16:32:08] <strcat> faster, easier to use... can slice without copying
[16:32:26] <strcat> can store all of UTF-8 (it includes \0) and use the same design for non-text
[16:32:30] * strcat shrugs!
[16:32:34] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:33:29] *** Quits: Kxepal (Miranda@moz-C703BD0A.pppoe.mtu-net.ru) (Ping timeout)
[16:33:57] <eddyb> bstrie_rules: I wonder what the originals said
[16:34:00] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[16:34:03] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:34:08] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:35:01] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[16:35:36] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:36:58] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[16:37:10] <mark_edward> hello!
[16:37:38] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:37:39] *** ChanServ sets mode: +ao dherman dherman
[16:37:43] <Yurume> hi!
[16:40:02] <mark_edward> i haven't been here in weeks. and i had an idle thought i'd love comment on. is it possible to make a macro that contains a block that only executes if you passed `--debug` to rustc?
[16:40:15] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:40:19] <geomyidae> anyone have an original xbox and want to test a rust application I've written? I need to flesh out one last thing, but I need someone to test with
[16:40:31] *** Quits: nyuszika7h (nyuszika7h@cadoth.net) (Input/output error)
[16:40:39] *** Joins: nyuszika7h (nyuszika7h@moz-423AFF1D.net)
[16:40:41] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:40:41] <eddyb> mark_edward: you may be able to put #[cfg(debug)] on it
[16:40:41] <bstrie_rules> mark_edward: I think that annotation on macros might be possible, nowadays
[16:40:45] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:41:00] *** pmoore|dinner is now known as pmoore|away
[16:41:03] <bstrie_rules> geomyidae: should have written for the 360 :P
[16:41:06] <eddyb> I'm actually curious how it goes, I have some debug info I've been stripping as I stop needing it
[16:41:25] <geomyidae> bstrie_rules: impossible to do so, the networking code in the 360 implements a ping filter making this impossible :P
[16:41:43] <eddyb> geomyidae: how did you develop the application?
[16:41:43] <geomyidae> this is my "learn a new language" program, it has uh, lost some relevancy in recent years :)
[16:42:02] <geomyidae> it runs under linux, it just routes packets from/to xboxes
[16:42:23] <eddyb> ah, I thought it was an app running on xbox
[16:42:41] <geomyidae> that'd certainly be neater
[16:42:42] <eddyb> (LLVM IR to CIL, anyone?)
[16:42:50] <kimundi> Hm, I actually have a original XBOX at hand - but its disconnected, belongs to my roommate, and I very much have no time for fooling around with it atm ;)
[16:43:28] <mark_edward> bstrie_rules, i mean a macro that's like `run_only_on_dbg!({ /* Sweet code i want to use for debugging only */; /* Etc. */ })` that will have the expected behavior?
[16:43:30] <bstrie_rules> geomyidae will just have to go to germany to get kimundi's xbox
[16:43:34] <geomyidae> Yeah, as is true with most people. I have some other more gaming related communities. Somehow it's harder to get them to run untrusted binaries though :)
[16:44:10] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[16:44:21] <bstrie_rules> mark_edward: I think you'd probably have to define that macro twice, once with #[cfg(debug)] and once with #[cfg(not(debug))] or whatever the syntax is, where the latter is just a no-op
[16:44:48] <FliPPeh> If a trait method has a signature like "fn foo(self) ...", does bar.foo() for bar: Bar with Bar implementing said trait then pass the subject by value or is it an automatic reference?
[16:45:02] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:45:08] <mark_edward> bstrie_rules, ah okay, thanks for the advice. what caused the nick change?
[16:45:15] <kimundi> FliPPeh: It will always pass by value
[16:45:23] <bstrie_rules> mark_edward: I just rule. no reason
[16:45:47] <kimundi> FliPPeh: Which might or might not imply a move, and which might or might not get optimized to a pointer internally
[16:45:53] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[16:45:58] *** bstrie_rules is now known as bstrie_whimsy
[16:46:22] <kimundi> Just as & is conceptually always a reference, but might or might not get optmized to pass by value internally, depending on situation and code
[16:47:37] <FliPPeh> kimundi: Thanks! Coming from C++ and friends, passing the instance on which the method is called by value seems very alien to me, are there any advantages to passing by value rather than immutable references?
[16:48:19] <kimundi> FliPPeh: Well, it allows for methods that "consume" the value if its a moving type for example
[16:49:37] <kimundi> rusti: struct Foo { t: ~uint } impl Foo { fn consume(self) { println!("{}" *self); } } let x = Foo { t: ~5 }; x.consume()
[16:49:38] -rusti- <anon>:10:72: 10:82 error: format argument must be a string literal.
[16:49:38] -rusti- <anon>:10         struct Foo { t: ~uint } impl Foo { fn consume(self) { println!("{}" *self); } } let x = Foo { t: ~5 }; x.consume()
[16:49:38] -rusti-                                                                                  ^~~~~~~~~~
[16:49:38] -rusti- error: aborting due to previous error
[16:49:38] -rusti- application terminated with error code 101
[16:49:45] <kimundi> rusti: struct Foo { t: ~uint } impl Foo { fn consume(self) { println!("{}", *self); } } let x = Foo { t: ~5 }; x.consume()
[16:49:51] -rusti- pastebinned 15 lines of output: http://ix.io/aei
[16:50:06] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:50:09] <kimundi> rusti: struct Foo { t: ~uint } impl Foo { fn consume(self) { println!("{}", *self.t); } } let x = Foo { t: ~5 }; x.consume()
[16:50:11] -rusti- 5
[16:50:11] -rusti- ()
[16:50:13] <kimundi> there
[16:50:21] *** flaper87|afk is now known as flaper87
[16:50:24] <kimundi> x got moved away from after the call
[16:50:32] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[16:50:39] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[16:50:45] <FliPPeh> So after x.consume, x can't be used anymore?
[16:50:50] <kimundi> yep
[16:51:04] <kimundi> methods in rust are really just regular functions anyway
[16:51:06] <FliPPeh> Nice, although pretty confusing when you wouldn't expect it
[16:51:24] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Client exited)
[16:51:43] <kimundi> true, but owenership and move semantics are a core component of Rust, so its to expected to lear that sooner or later :)
[16:52:19] <kimundi> It's nice for, for example, interator chaining
[16:52:33] <FliPPeh> Come to think of it, can you implement move operations for your own types or can that be completely delegated to owned pointers?
[16:52:51] <kimundi> FliPPeh: Neither is the right answer
[16:52:56] <FliPPeh> An analoge to the Drop trait so to say
[16:53:41] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:53:45] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:53:49] <kimundi> FliPPeh: _all_ types in Rust move per default. Some are just primitive enough that the compiler infers them to be plain old data, and allows implicit memcopies
[16:54:14] <FliPPeh> Oh, so that's why you have the explicit Clone trait
[16:54:25] <FliPPeh> To say when you DON'T want to move?
[16:54:26] <kimundi> yeah
[16:54:34] <kimundi> pretty much
[16:54:44] <strcat> implementing Clone doesn't make it not move ownership
[16:54:58] <kimundi> clone() is the generic solution for "I don'T want to move, but get a new independent copy of the owned data of the type"
[16:55:11] <FliPPeh> s/To say/To be able to say/
[16:55:15] <FliPPeh> :)
[16:55:17] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[16:55:54] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[16:55:56] <strcat> a type is Pod by default, like #[deriving(Clone)] struct Foo { x: int, y: int }
[16:56:06] <mark_edward> implementing the Drop trait will make it unable to implicit memcopy, or having any members that implement Drop, like owned pointers, etc
[16:56:24] <strcat> a move is an implicit memcpy
[16:57:14] <strcat> you know, it's easy to explain this without half-truths
[16:57:36] * kimundi thinks this discussion will repeat itself until someone invents a good discription for "not moving" besides "not moving" :P
[16:58:02] <strcat> there is no lack of a good explanation
[16:58:22] <strcat> there is no reason to keep telling people half truths about it, giving them an 80% accurate picture but leaving them without a full understanding
[16:58:39] *** Quits: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se) (Client exited)
[16:58:48] <bstrie_whimsy> strcat: is it in the tutorial?
[16:58:51] *** jorendorff is now known as jorendorff_away
[16:58:52] <strcat> yes
[16:59:04] <strcat> extensively covered in the tutorial, relative to most things
[16:59:24] *** Quits: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:00:11] *** flaper87 is now known as flaper87|afk
[17:00:19] <jasom> why can't drop be implemented for parameterized types?
[17:00:22] <eddyb> if the type requires any cleanup, it stops being Pod, it no longer copies by default, it moves instead
[17:00:31] <eddyb> jasom: it can, it just doesn't work perfectly yet
[17:00:37] <strcat> bstrie_whimsy: http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list
[17:00:39] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:00:49] <strcat> jasom: it can be, but atm calling a method from a trait bound doesn't work
[17:00:52] <eddyb> I may fix that at some point if figure out a clean way to do it
[17:00:53] <strcat> it's intended to work
[17:00:56] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[17:01:02] <jasom> thanks
[17:01:13] <strcat> bstrie_whimsy: 9.2 section
[17:01:19] *** Quits: benjamin_ (benjamin@moz-D10FAA30.dip0.t-ipconnect.de) (Ping timeout)
[17:01:27] <bstrie_whimsy> strcat: thanks
[17:01:34] <strcat> everyone likes to say the documentation is bad, but you know what? that section is pretty great imo
[17:01:42] <jasom> until then people will have to cal .clear() on large trees before deallocating or blow the stack
[17:02:07] <bstrie_whimsy> strcat: well for my first year I read the tutorial at least once a month, in my head it hasn't changed since then :P
[17:02:28] <strcat> bstrie_whimsy: I think the whole Implementing a linked list section is great
[17:02:39] <strcat> and I would have written a lot more if it had been better received
[17:02:50] <strcat> but I don't really have interest in doing that anymore
[17:03:18] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:03:30] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:03:30] *** ChanServ sets mode: +ao dherman dherman
[17:03:48] <kimundi> strcat: The problem is a purely linguistic one. I never intend to tell half-truths, I'm just always trying to explain a concept by comparing it to familiar ones. Explaining "move" by starting with "types that don't move" is simply to much indirection from a pedagogical standpoint, and is the reason where all this "implicit copy" business is coming from.
[17:03:56] <strcat> move
[17:04:00] <strcat> means move ownership
[17:04:14] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[17:04:39] * strcat shrugs
[17:04:48] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[17:05:26] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[17:06:02] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:06:08] *** Quits: KindOne (KindOne@moz-546B8A43.dynamic.ip.windstream.net) (Ping timeout)
[17:07:02] <kimundi> strcat: would you consider a POD type to not have ownership semantic, or to implicitly fork ownership on assignment/pass by value?
[17:07:21] <strcat> neither
[17:07:27] <strcat> it certainly does have ownership...
[17:08:08] <strcat> rusti: struct Foo { x: int, y: int } let mut a = Foo { x: 5, y: 10 }; a.x = 10; a
[17:08:09] -rusti- main::Foo{x: 10, y: 10}
[17:08:17] <strcat> why is it mutable? these concepts are *clearly* defined in the docs
[17:08:23] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[17:08:41] <kimundi> I don'T see what mutability has to do with this
[17:08:43] <strcat> why deviate from what the official documentation says and what the compiler implements?
[17:08:48] <photex> what is the correct way to allocate a vector of fixed length so that I can set items in any order?
[17:08:53] <acrichto> silven: the two green tasks would run concurrently but the native task would be blocked waiting for the two tasks to exit
[17:08:53] <strcat> kimundi: mutability is inherited from the owner
[17:08:59] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[17:09:05] <photex> aka, I'm spawning some calculations that might not return in the order I spawned them
[17:09:10] <kimundi> strcat: RIght, and I don't see what that has to do with this
[17:09:11] *** Joins: skade (skade@moz-87123040.mactelecom.net)
[17:09:13] *** victorporof_ is now known as victorporof_|away
[17:09:19] <strcat> kimundi: mutability is inherited from the *owner*
[17:09:21] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[17:09:23] <strcat> `a` is the owner there
[17:09:30] <photex> I think vec::with_capacity would do this
[17:09:33] <strcat> it owns that Foo struct, and the values in the fields
[17:09:36] <strcat> they inherit mutability
[17:09:39] <photex> but I can set a value by using an index
[17:09:49] * kimundi gets more frustrated
[17:09:49] <photex> s/think/thought/
[17:09:56] <strcat> anyway I don't understand why the waters need to be muddied
[17:10:07] *** Joins: KindOne (KindOne@moz-72B5CF6E.dynamic.ip.windstream.net)
[17:10:09] <strcat> there is a clear explanation/implementation of mutability/ownership
[17:10:32] <strcat> it's not complicated and doesn't need to be half-explained
[17:10:41] <kimundi> strcat: Its not about muddying, I'm just asking about the correct terminolgies so that we can stop this useless back and forth
[17:11:01] *** Joins: dylukes (dylukes@moz-3DCE4FF.wireless.pitt.edu)
[17:11:02] <strcat> kimundi: the tutorial uses the correct terminology
[17:11:29] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:12:04] <jasom> photex: you can create a vector initialized to a logical zero type, or you can create a vector of Option, or you can use unsafe code and create an uninitialized vector.
[17:12:07] <strcat> if there is a mistake in it (I don't think there is in the move semantics section), it can be fixed
[17:12:37] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[17:12:37] <photex> thanks jasom 
[17:12:39] *** Quits: lkuper_ (lkuper@D7FD9EF0.14CD977C.51B6877.IP) (Quit: lkuper_)
[17:13:10] *** jorendorff_away is now known as jorendorff
[17:13:47] <jasom> photex: I am by no means a rust expert, so I may have missed some other way of doing it.
[17:14:03] <kimundi> strcat: According to the tutorial, all data is owned, and the owner can be a local variable
[17:14:20] <strcat> kimundi: where does it say all data is owned?
[17:14:22] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Connection reset by peer)
[17:14:28] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[17:14:33] <photex> jasom: it looks like from_elem will get me where I need to go, following your first suggestion there
[17:14:49] <strcat> it even has http://static.rust-lang.org/doc/master/tutorial.html#ownership-escape-hatches
[17:15:19] <strcat> anyway, obviously working on the tutorial is not a good use of time
[17:15:25] *** Quits: dylukes (dylukes@moz-3DCE4FF.wireless.pitt.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:15:25] <strcat> so I recommend no one else makes the mistake of trying
[17:15:30] <kimundi> strcat: aaarg
[17:16:10] <strcat> I don't understand what is wrong with what is written there
[17:16:37] <kimundi> strcat: The tutorial is fine, I'm merely trying to reach some clarity about the concepts here T_T
[17:16:50] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:16:52] <jasom> kimundi: how about "all onwed boxes are owned"
[17:17:08] <kimundi> let x = 5;
[17:17:08] *** Joins: gwty (gwtypc@4F8A36D7.160E5D63.27560D6E.IP)
[17:17:30] <strcat> `x` is an `int`, it owns it
[17:17:39] <kimundi> okay
[17:17:42] <strcat> the owner is immutable so the `int` is immutable
[17:17:45] <kimundi> bear with me for a minute
[17:17:55] <strcat> `x` doesn't contain &mut, a destructor or a closure so it is Pod
[17:18:01] *** Quits: doomlord__ (servitor@moz-841308DB.range86-160.btcentralplus.com) (Quit: Leaving)
[17:18:09] <strcat> Pod means it doesn't move ownership on a shallow copy
[17:18:34] <strcat> kimundi: sorry, just frustrated ;\
[17:18:54] <kimundi> x is owned. ownership is a concept that means "my owner is responsible for cleaning me up", right?
[17:19:20] <strcat> kimundi: well, that's one responsibility of the owner
[17:19:24] <strcat> the owner also determines the mutability
[17:19:27] <kimundi> Okay
[17:19:29] <kimundi> So, for
[17:19:35] <kimundi> let x = 5; let y = x;
[17:19:35] <strcat> and 'cleaning up' can mean 'pop off the stack'
[17:19:51] <bstrie_whimsy> strcat: working on the tutorial will probably be a thankless task for as long as the language is unstable
[17:19:53] <strcat> kimundi: two different values, owned by two different variables
[17:20:06] <strcat> bstrie_whimsy: it's accurate about this stuff though
[17:20:17] <strcat> and I certainly think it does a better job of explaining it than any blog posts about rust
[17:20:22] <strcat> yet it's still bashed
[17:20:32] <bstrie_whimsy> strcat: originally the tutorial was entirely written by just one person, who was both a rust developer and the author programming books, and it *was* good. but updating a document piecemeal makes it lose that cohesive quality
[17:20:44] <strcat> I didn't update it piecemeal
[17:20:57] <bstrie_whimsy> did you rewrite it from scratch?
[17:21:00] <SiegeLord> Better be good in places than be uniformly bad :P
[17:21:10] <strcat> bstrie_whimsy: yes, I wrote a large portion from scratch
[17:21:13] <bstrie_whimsy> and has it been updated piecemeal since?
[17:21:18] <strcat> bstrie_whimsy: no
[17:21:32] <bstrie_whimsy> strcat: well that's the impression people have :P
[17:21:37] <strcat> http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list this portion of the tutorial is high-quality, up-to-date documentation
[17:21:58] <strcat> it carries along the same example throughout
[17:22:06] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[17:22:11] <strcat> and even has a crappy ascii diagram!
[17:22:33] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[17:22:35] <strcat> and if it didn't get bashed over and over, I would have an incentive to keep working on it
[17:22:39] <strcat> and rewrite the entire tutorial
[17:22:39] <bstrie_whimsy> strcat: instead of updating the tutorial, you should make like steveklabnik and write a book and make some $$$
[17:22:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:22:52] <kimundi> strcat: okay. So, by assigning the value, which is implemented with a memcopy, conceptually, your not "moving the owned data", but... ?
[17:22:54] * bstrie_whimsy not sure if olsonjeffery is making $$$ off his recent article series
[17:23:02] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:23:05] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[17:23:14] <jasom> kimundi: read 9.2
[17:23:17] <bstrie_whimsy> strcat: "Rust for Runtimelessists"
[17:23:18] *** Quits: dew (Instantbir@moz-AC63CB.dhcp.stls.mo.charter.com) (Ping timeout)
[17:23:20] *** Quits: tsurai (tsurai@D0859826.B8520FC9.3B82F87E.IP) (Quit: Lost terminal)
[17:23:24] <strcat> kimundi: you're never 'moving data'
[17:23:32] <bstrie_whimsy> maybe think of a better name
[17:23:42] <strcat> kimundi: the only kind of thing in the language is a shallow copy
[17:23:42] <jasom> kimundi: assigning is a shallow-copy.  If rust knows it is safe, then ownership is not transferred, otherwise it is.
[17:23:46] <kimundi> strcat: _conceptually_ you are
[17:23:49] <strcat> kimundi: no
[17:23:51] <strcat> conceptually you aren't
[17:23:52] <kimundi> strcat: Its not implemneted that way
[17:23:53] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[17:24:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:24:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:24:05] <strcat> kimundi: conceptually, it is not moving data
[17:24:11] <strcat> let x = 5; let y = x;
[17:24:16] <strcat> clearly, the data is still in x
[17:24:22] <strcat> let mut x = ~5; let y = x; x = ~10;
[17:24:24] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[17:24:26] <strcat> x is still usable memory
[17:24:27] <strcat> it's still there
[17:24:32] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:24:45] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[17:24:45] <strcat> the only concept is a shallow concept, there's nothing else in the language
[17:24:45] <kimundi> strcat: That is exactly the example I'm _not_ talking about. Read my sentence again
[17:25:12] <strcat> this is how you explain moves "non-Pod types move ownership to the destination of a shallow copy" and it's done
[17:25:28] <strcat> "the source cannot be used until it is given ownership of new data again"
[17:25:31] <FliPPeh> Related, if you run that last example, will it allocate 5 and 10 respectively on the heap or will it override the previous memory location with the number 10?
[17:25:59] * strcat shrugs
[17:26:04] <bstrie_whimsy> FliPPeh: that sounds like an implementation detail of the allocator
[17:26:05] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:26:19] <jasom> FliPPeh: compile with -S and find out
[17:26:22] <strcat> imo, it is very simple and people like to overcomplicate it
[17:26:28] <strcat> the tutorial doesn't overcomplicate it
[17:26:35] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[17:26:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:26:38] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[17:26:38] <kimundi> strcat: You are always talking about "moving ownership". All I'm looking for is a term for "not-moving ownership"
[17:26:41] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[17:26:48] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[17:27:00] <strcat> kimundi: dunno what you mean
[17:27:12] <strcat> let x = 5; let y = x; is just a shallow copy
[17:27:13] <jasom> kimundi: "shallow copy"?
[17:27:18] <strcat> it's creating a new owner
[17:27:18] <kimundi> strcat: Thats exactly the problem I'm stuggling with for the last months :(
[17:27:31] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[17:27:36] <strcat> let x = ~5; let y = x; is moving ownership of the value
[17:27:49] <kimundi> strcat: Exactly, its creating a new owner.
[17:27:55] <strcat> but not a new owner of the same data
[17:27:59] <strcat> a new owner of distinct data
[17:28:01] <bstrie_whimsy> kimundi: even when you clone something, there's still ownership involved, you're just owning something else
[17:28:03] <kimundi> Correct
[17:28:10] <strcat> both are shallow copies
[17:28:23] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[17:28:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:28:45] <strcat> explaining how deep Clone goes requires explaining it how it actually works
[17:29:16] *** Quits: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net) (Ping timeout)
[17:29:25] <kimundi> But "shallow copy" is the implementation behind the concept "ownership"
[17:29:26] *** Joins: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net)
[17:29:30] <strcat> Clone creates a new ownership tree, that's how deep it goes - if you understand the initial parts, then that makes sense
[17:29:38] <strcat> kimundi: shallow copy is a concept
[17:30:16] <strcat> depth of copying is a semantic detail
[17:30:19] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[17:30:38] <strcat> whether or not it actually copies is an implementation one - the important part is that it is indistinguishable semantically from a shallow copy
[17:30:59] *** jorendorff is now known as jorendorff_away
[17:31:02] <FliPPeh> Wow, in trying to find out whether or not it allocates twice, using valgrind, it turns out that the amount of allocations reported is changing all the time
[17:31:10] <strcat> FliPPeh: use #[no_std]
[17:31:13] <FliPPeh> I guess valgrind doesn't really work with rust yte
[17:31:15] <FliPPeh> yet even
[17:31:16] *** Joins: Ferreus (ferreus@moz-BFF48DB2.pools.arcor-ip.net)
[17:31:16] <strcat> it does work
[17:31:21] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[17:31:24] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[17:31:27] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[17:31:30] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[17:31:30] <strcat> use #[no_std] if you don't want to be running under a framework
[17:31:33] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[17:31:36] <bascule>                                         
[17:31:47] <strcat> if you don't, you're not in control of the entry/exit point
[17:31:51] <FliPPeh> It's friday, friday~
[17:31:51] <bstrie_whimsy> bascule: you'll have to be faster next time
[17:31:52] <strcat> there's a life before/after main
[17:31:54] <kimundi> Hm, maybe this is where my frustration comes from. I always see "shallow copy" and "moving ownership" as different conceptual layers.
[17:31:56] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Quit: Leaving...)
[17:31:58] <bascule> :(
[17:31:59] <FliPPeh> Let's test this no_std thing
[17:32:25] <strcat> FliPPeh: when using libstd, libstd defines the entry/exit point
[17:32:30] <strcat> it calls into your code
[17:32:32] <jasom> kimundi: how about pass-by-value?
[17:33:12] <FliPPeh> Gah, I've been stupid this whole time
[17:33:37] <FliPPeh> Since you don't change the pointed-to value with "x = ~42" but "*x = 42"
[17:33:48] <FliPPeh> My brain is already in weekend mode it seems
[17:34:04] <FliPPeh> And my inner C programmer cried a little
[17:34:27] <strcat> kimundi: depth of copying is user-visible though
[17:34:33] <kimundi> strcat: So, would "All types implicitly shallowly copy on assignemnt/pass by value be a correct explanation? Apart from the fact that some of these words might be redundant, that is.
[17:34:47] <strcat> kimundi: it's relevant that it doesn't copy through &/&mut/Rc/Gc
[17:34:59] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[17:34:59] <strcat> kimundi: yes
[17:35:22] <strcat> all rust types are copied shallowly on assign/passing
[17:35:43] <kimundi> strcat: Okay, great! :) Then the term I was looking for each time when I wrongly used "implict copy" was "implicit shallow copy"
[17:35:43] <eddyb> kimundi: well, moves technically also zero the source to cancel cleanup, but that's something we want to fix
[17:35:47] <strcat> non-Pod types move ownership to the destination, meaning that the source is not usable until assigned ownership of a new value
[17:35:59] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[17:36:00] <strcat> eddyb: semantically, that's not relevant though
[17:36:10] <strcat> the semantic details are depth of copying and who has ownership
[17:36:31] <strcat> whether or not librustc/LLVM has to output zeroing, actual copies, etc. is an implementation detail
[17:36:41] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:36:44] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:36:48] <strcat> like, `let x = ~52` won't do *anything* at compile-time, it's a no-op, since I'm not using it or anything
[17:36:56] <strcat> but that's just implementation detail stuff
[17:37:08] <jasom> kimundi: "Rust uses a shallow copy for parameter passing, assignment and returning from functions." 
[17:37:47] <jasom> kimundi: That is verbatim the first sentence of the section "Move semantics" in the tutorial, FYI
[17:38:20] <kimundi> jasom: I know the semantic, its just about explaining the concept correctly without saying the wrong things :P
[17:38:38] <strcat> FliPPeh: imo the stdlib shouldn't be a framework and that stuff should be third party, but what do I know...
[17:38:46] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:39:11] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:39:18] <jasom> kimundi: assignment is by-value but doesn't recurse into references (another way of saying "shallow copy")
[17:39:36] <kimundi> afk
[17:40:13] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[17:40:30] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:40:45] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Ping timeout)
[17:41:31] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:42:00] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[17:43:05] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[17:44:55] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[17:45:51] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:46:02] *** Joins: jayrulez (Mibbit@moz-9A7D62F7.uniononeexpress.com)
[17:46:34] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[17:46:34] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[17:47:15] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[17:47:46] *** Joins: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP)
[17:48:37] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:49:30] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:50:10] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:50:19] *** Joins: StarLight (StarLight@moz-DC04C6B3.dynamic.avangarddsl.ru)
[17:50:20] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[17:50:20] *** jorendorff_away is now known as jorendorff
[17:50:44] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[17:51:54] *** Quits: KindOne (KindOne@moz-72B5CF6E.dynamic.ip.windstream.net) (Ping timeout)
[17:53:37] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[17:54:11] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[17:54:28] <steveklabnik> bstrie_whimsy lol I don't really make $$$
[17:54:34] <steveklabnik> A teeny bit
[17:54:59] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:55:29] <bstrie_whimsy> steveklabnik: sorry, ¢¢¢ then :)
[17:55:54] <steveklabnik> :)
[17:56:32] *** Joins: KindOne (KindOne@moz-19E06A3E.dynamic.ip.windstream.net)
[17:57:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:57:52] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:58:26] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[17:58:28] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[17:59:04] <eddyb> bstrie_whimsy: I guess that means 000 for me?
[17:59:36] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[18:01:05] *** Quits: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net) (Connection reset by peer)
[18:01:22] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:02:00] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:02:13] *** victorporof_|away is now known as victorporof_
[18:02:26] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:04:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[18:06:04] *** Joins: eibwen (kvirc@moz-BF63DC56.dip0.t-ipconnect.de)
[18:06:04] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[18:06:24] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[18:06:31] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[18:06:36] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[18:06:50] *** jorendorff is now known as jorendorff_away
[18:07:02] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[18:08:12] *** jorendorff_away is now known as jorendorff
[18:08:27] *** Quits: marianoguerra (marianogue@moz-9BDC511.dip0.t-ipconnect.de) (Ping timeout)
[18:08:28] *** Joins: reima (Instantbir@moz-4D78F5C8.dip0.t-ipconnect.de)
[18:08:30] *** Joins: marianoguerra (marianogue@moz-9BDC511.dip0.t-ipconnect.de)
[18:09:11] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:10:14] *** Joins: FreeFull (freefull@moz-272EA536.as13285.net)
[18:10:55] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Ping timeout)
[18:12:29] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:12:56] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:13:20] *** Joins: Kruppe (user@moz-A2D8AF72.net.uwaterloo.ca)
[18:13:38] *** Joins: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP)
[18:13:50] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[18:15:06] <kini> whoa, we get bitcoins for committing to rust? :o
[18:15:39] <cmr> kini: yeah!
[18:16:29] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:16:30] <kini> I got ~3k satoshis for changing three words in the tutorial, haha
[18:17:55] *** Quits: gwty (gwtypc@4F8A36D7.160E5D63.27560D6E.IP) (Ping timeout)
[18:18:11] <FreeFull> 3 million dollars for three words? Doubtful =P
[18:19:22] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[18:19:50] *** Joins: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP)
[18:19:56] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:20:04] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[18:20:08] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[18:20:13] *** Quits: skade (skade@moz-87123040.mactelecom.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:20:19] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[18:20:36] <kini> FreeFull: more like 2.5 cents :P
[18:20:46] <kini> a satoshi is 10^-8 bitcoins
[18:21:10] <FreeFull> Ah
[18:21:39] <Jesin> I'm attempting to write a decentish prime sieve.  The one I wrote in C starts with "memset(isNonPrime, 0x55, (n + 7) / 8);"
[18:22:16] <Jesin> is there a similarly fast way to initialize an extra::bitv::Bitv in Rust?
[18:22:28] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[18:22:51] <eddyb> you can easily initialize a [u8] or [u32] that way, but I'm not sure about bitv
[18:23:08] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[18:23:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:23:23] <boredomist> who handles rust-ci.org stuff? i changed my github username and can't edit my project config to reflect that
[18:23:34] <eddyb> Jesin: 0b01010101 looks better than 0x55, fwiw
[18:23:45] <Jesin> http://static.rust-lang.org/doc/0.9/std/vec/fn.from_elem.html oh good
[18:24:09] <Jesin> eddyb: I wasn't sure if the "0b" syntax was standard C; it didn't seem to be recognized by my syntax highlighter
[18:24:17] <Jesin> if it works in Rust, I'll use it
[18:24:30] *** Joins: Chais (Chais@moz-6EEB054.wu-wien.teleweb.at)
[18:25:00] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:25:03] <Jesin> as for "not sure about bitv",
[18:25:07] <Jesin> "Function extra::bitv::from_bytes
[18:25:08] <Jesin> pub fn from_bytes(bytes: &[u8]) -> Bitv"
[18:25:13] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[18:25:13] <Jesin> ^_^
[18:25:13] *** Parts: Chais (Chais@moz-6EEB054.wu-wien.teleweb.at) ()
[18:25:14] *** Joins: gwty (gwtypc@BFFD2B64.D9A70983.27560D6E.IP)
[18:25:15] <eddyb> Jesin: sweet :D
[18:25:25] <eddyb> Jesin: though... it doesn't have an owned version?
[18:25:53] <Jesin> ...
[18:25:53] <Jesin> http://static.rust-lang.org/doc/0.9/extra/bitv/index.html
[18:25:55] <Jesin> I'm not seeing one
[18:26:14] <Jesin> also
[18:26:18] <Jesin> "Each byte becomes 8 bits, with the most significant bits of each byte coming first." D:
[18:26:30] <Jesin> most significant first...  hm
[18:26:37] *** boredomist is now known as erik
[18:26:40] *** Joins: bachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[18:26:53] <eddyb> Jesin: you can use http://static.rust-lang.org/doc/master/extra/bitv/fn.from_fn.html
[18:27:03] <Jesin> maybe they do masking with (0x80 >> n) instead of (0x01 << n)
[18:27:43] <Jesin> eddyb: yeah but that'd likely take at least 64 times as long as the memset version
[18:27:45] <eddyb> and closures like that tend to be optimized by LLVM... now I'm curious if it generates the byte constant
[18:28:01] <bachm> given [1,2,3], how do I make an iterator that yields each element n times? With n = 3, 1 1 1 2 2 2 3 3 3
[18:28:04] <Jesin> that'd be impressive
[18:28:45] <jasom> bachm: that seems trivial to implement, just make an iterator that has a counter and another iterator.
[18:28:48] *** Joins: hoverbea_ (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:29:04] <Jesin> there doesn't seem to be an owned version
[18:29:15] <Jesin> which is really unfortunate
[18:29:16] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[18:29:25] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[18:29:29] <FreeFull> If there is a replicate, maybe you could use flatmap with replicate
[18:29:33] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[18:29:33] <FreeFull> Maybe not
[18:29:39] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:29:45] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[18:29:46] <FreeFull> Uniqueness might make things tricky if you try it that way
[18:30:03] <FreeFull> I think it would work
[18:30:23] <FreeFull> rusti: count(0u8,10)
[18:30:24] -rusti- <anon>:10:9: 10:14 error: unresolved name `count`.
[18:30:24] -rusti- <anon>:10         count(0u8,10)
[18:30:24] -rusti-                   ^~~~~
[18:30:24] -rusti- error: aborting due to previous error
[18:30:24] -rusti- application terminated with error code 101
[18:30:30] *** Quits: hoverbea_ (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[18:30:37] <FreeFull> rusti: std::iter::count(0u8,10)
[18:30:38] -rusti- std::iter::Counter<u8>{state: 0u8, step: 10u8}
[18:30:57] <FreeFull> rusti: std::iter::count(0u8,10).to_owned_vec()
[18:30:58] -rusti- task '<main>' failed at 'vector size is too large: 18446744073709551615', /home/strcat/projects/rust/src/libstd/vec.rs:183
[18:30:58] -rusti- application terminated with error code 101
[18:31:10] <FreeFull> rusti: std::iter::count(0u8,10).take(10).to_owned_vec()
[18:31:11] -rusti- ~[0u8, 10u8, 20u8, 30u8, 40u8, 50u8, 60u8, 70u8, 80u8, 90u8]
[18:31:17] <FreeFull> rusti: std::iter::count(0u8,0).take(10).to_owned_vec()
[18:31:18] -rusti- ~[0u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8]
[18:31:21] <eddyb> Jesin: let me actually check
[18:31:41] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[18:31:43] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:32:32] <FreeFull> rusti: [1,2,3,4].iter().flat_map(|x| std::iter::count(x,0).take(5)).to_owned_vec()
[18:32:36] -rusti- pastebinned 7 lines of output: http://ix.io/aet
[18:32:43] *** Quits: victorporof_ (victorporo@970BB0A1.F7F04062.79933D60.IP) (Ping timeout)
[18:32:54] <Jesin> oh wow, the definition of from_bytes actually calls from_fn internally
[18:32:57] <FreeFull> rusti: [1,2,3,4].iter().flat_map(|&x| std::iter::count(x,0).take(5)).to_owned_vec()
[18:32:59] -rusti- ~[1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4]
[18:33:11] <FreeFull> bachm: Is this good?
[18:34:03] <SiegeLord> Why count instead of repeat?
[18:34:11] <SiegeLord> I guess it's shorter to type...
[18:34:15] <FreeFull> Because I found count first
[18:34:18] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[18:34:32] <bachm> yes that will do
[18:35:08] <FreeFull> SiegeLord: Where is repeat anyway? Can't find it in docs
[18:35:32] <SiegeLord> std::iter::Repeat
[18:35:53] <eddyb> Jesin: pfffft... it's doing something that may fail and that breaks optimizations
[18:36:04] <jasom> rusti: [1,2,3,4].iter().flat_map(|&x| std::iter::Repeat::new(x).take(3)).to_owned_vec()
[18:36:05] -rusti- ~[1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4]
[18:36:20] <FreeFull> Ah yeah, that works
[18:36:31] *** Quits: vmx (vmx@moz-E6F94FE3.pools.arcor-ip.net) (Quit: Leaving)
[18:36:32] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[18:36:44] <Jesin> eddyb: so it's currently a bad implementation?
[18:37:00] <eddyb> http://static.rust-lang.org/doc/master/src/extra/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libextra/bitv.rs.html#560-566
[18:37:01] <Jesin> also, how is it "something that may fail"?
[18:37:05] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[18:37:11] <eddyb> I wish docs would link to github, way more useful
[18:37:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:37:17] <FreeFull> SiegeLord: Ah, the count version wouldn't work with non-numeric types
[18:37:35] <FreeFull> bachm: You probably should use the repeat version
[18:38:10] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Connection reset by peer)
[18:38:30] *** Joins: synackse (jordyd@moz-E5F6771.seg33.ucf.edu)
[18:39:07] <olsonjeffery> several commentors in the 1.0 spreadsheet post on reddit bring up HKT. i tried writing a response several times, but always gave up, because there's no constructive way to express the idea that the needs of Servo, not the wet dreams of haskell devs, appear to be what drives rust's dev priorities.
[18:39:21] <eddyb> Jesin: it calls set which uses assert
[18:39:30] <eddyb> Jesin: it also does a match inside the loop
[18:39:45] <FreeFull> A functor trait would be really nice to have though
[18:39:56] <olsonjeffery> then again, struct inheritence might not make it in, so there's that.
[18:40:01] *** Joins: new_one (new_one@FFA6C699.940F5E39.B3C0173E.IP)
[18:40:01] <Jesin> eddyb: where's the match?
[18:40:08] <Jesin> FreeFull: agreed
[18:40:09] <FreeFull> Not all functors are iterables
[18:40:34] <eddyb> Jesin: in set
[18:40:37] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[18:41:09] <Jesin> eddyb: it doesn't look like that "may fail" unless the definition of Bitv is changed...
[18:41:35] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[18:41:36] <eddyb> Jesin: assert can fail
[18:41:51] <FreeFull> rusti: assert(false);
[18:41:51] -rusti- <anon>:10:9: 10:15 error: unresolved name `assert`.
[18:41:51] -rusti- <anon>:10         assert(false);
[18:41:51] -rusti-                   ^~~~~~
[18:41:51] -rusti- error: aborting due to previous error
[18:41:52] -rusti- application terminated with error code 101
[18:41:53] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Ping timeout)
[18:41:58] <eddyb> it's a macro
[18:41:58] <FreeFull> rusti: assert!(false);
[18:41:59] -rusti- task '<main>' failed at 'assertion failed: false', <anon>:10
[18:41:59] -rusti- application terminated with error code 101
[18:42:37] <Jesin> eddyb: ah, well that's bounds-checking.  Is it not supposed to do that?
[18:42:55] <eddyb> Jesin: set, yes. from_fn, no, it's already in bounds
[18:43:16] <eddyb> Jesin: from_fn should call a specialized from_fn on either SmallBitv or BigBitv
[18:43:54] <eddyb> depending on the provided size
[18:44:01] <Jesin> or at least a specialized set
[18:44:16] <jxs> Hi guys, i alocated an int on heap via let p : ~int = ~10; but printing it with println!("int on heap : {}", p); gives me "expansion site" error anyone know what is it?
[18:45:14] <bstrie_whimsy> rusti: let p = ~10; println!("{}", p);
[18:45:16] -rusti- pastebinned 8 lines of output: http://ix.io/aey
[18:45:37] <FreeFull> Seems like you need to use something more specific than {}
[18:45:39] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[18:45:41] <tiffany> the error is not about an expansion site, it is telling you that is where the macro was expanded
[18:45:48] <bstrie_whimsy> jxs: the default format specifier of {} doesn't know how to print a pointer
[18:45:55] <bstrie_whimsy> rusti: let p = ~10; println!("{}", *p);
[18:45:57] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[18:46:05] <doener> rusti: let p = ~10; println!("{?:}", p);
[18:46:05] -rusti- <anon>:10:31: 10:37 error: invalid format string: expected `}` but found `?`
[18:46:05] -rusti- <anon>:10         let p = ~10; println!("{?:}", p);
[18:46:06] <bstrie_whimsy> haha
[18:46:06] -rusti-                                         ^~~~~~
[18:46:06] -rusti- error: aborting due to previous error
[18:46:06] -rusti- application terminated with error code 101
[18:46:08] <tiffany> you can try {:?} if you just need a quick debug print
[18:46:12] <bstrie_whimsy> well that's unexpected
[18:46:12] <doener> rusti: let p = ~10; println!("{:?}", p);
[18:46:14] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[18:46:21] <eddyb> Jesin: you're almost better off writing your own Bitv than using the one in extra
[18:46:44] <tiffany> rusti: println!("{:?}", ~10);
[18:46:46] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[18:46:56] <tiffany> weird
[18:47:06] <jxs> thnx bstrie_whimsy, but that was what i was expecting  
[18:47:08] <jxs> / an integer allocated on the heap
[18:47:08] <jxs>     let y = ~10;
[18:47:17] <eddyb> rusti: println!("{:?}", ~10); 5
[18:47:18] -rusti- ~10
[18:47:18] -rusti- 5
[18:47:24] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[18:47:34] <jxs> this should also say that y has a pointer and not 10
[18:47:45] <eddyb> for some reason blocks with no trailing expressions + dead code are broken
[18:47:49] <bstrie_whimsy> I have no idea why that's crashing rusti
[18:47:57] <bstrie_whimsy> works locally
[18:48:02] <eddyb> bstrie_whimsy: it may have been fixed since
[18:48:06] <eddyb> rusti: version
[18:48:07] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[18:48:18] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[18:48:29] <jxs>     println!("int on heap : {}", ~p); does not make sense?
[18:48:41] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[18:49:01] <eddyb> jxs: that wouldn't work because {} (fmt::Default) isn't implemented for ~int
[18:49:02] *** Quits: synackse (jordyd@moz-E5F6771.seg33.ucf.edu) (Ping timeout)
[18:49:07] <eddyb> strcat: update rusti pls?
[18:49:11] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[18:49:14] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[18:49:14] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[18:49:23] <bstrie_whimsy> jxs: you either have to implement the default formatting specifier for ~int, or you can use reflection
[18:49:27] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:49:53] <bstrie_whimsy> jxs: or you can just dereference p :)
[18:50:11] <jxs> ok thnx :)
[18:50:34] <FreeFull> Dereferencing p is easiest
[18:50:47] <cmr> u
[18:50:50] <cmr> u
[18:50:52] <cmr> u
[18:50:57] *** Joins: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de)
[18:50:59] <cmr> erm, sorry.
[18:51:03] <eddyb> cmr: cleaning the keyboard again?
[18:51:10] <cmr> no :(
[18:51:12] <cmr> connection problems
[18:51:21] <cmr> trying to kill ssh session but apparently failing miserably.
[18:51:24] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[18:51:44] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[18:53:39] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[18:54:56] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:54:58] <FliPPeh> Killing unresponsive SSH sessions is an adventure
[18:55:12] <FliPPeh> "~\n." is a very unintuitive escape sequence
[18:55:23] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:55:25] <bstrie_whimsy> FliPPeh: looks like a rust string literal
[18:55:35] <FliPPeh> "\n~." is it actually
[18:55:56] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[18:56:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:57:43] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Ping timeout)
[18:58:09] <cmr> FliPPeh: yeah and I always manage to botch it, but the connection is so poor that I can't see until I reconnect
[18:58:28] <o11c> cmr: use mosh!
[18:58:39] <o11c> mosh is great on poor connections
[18:58:48] <cmr> I should start using it again
[19:00:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:01:10] *** Joins: jackneill (jackneill@moz-2777D020.pool.digikabel.hu)
[19:01:32] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[19:02:00] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Quit: WeeChat 0.4.2)
[19:02:15] *** Joins: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be)
[19:02:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:03:26] <Jesin> eddyb: if my Bitv is better, shall I submit a pull request when I'm done?
[19:03:35] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[19:03:42] *** Joins: synackse (jordyd@moz-E5F6771.seg33.ucf.edu)
[19:03:55] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:03:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:06:00] <eddyb> Jesin: if you intend to improve it... you can change the original directly, I guess (so that the diff is meaningful)
[19:06:30] <Jesin> hm
[19:06:34] <Jesin> I wonder if it'd be worth it
[19:07:53] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:08:18] <Jesin> eddyb: I had planned to discard the existing Bitv code altogether, and implement as many of the std::vec traits as I could write efficiently
[19:09:58] <cmr> Jesin: if benchmarks show it to be better, please don't hesistate to send a PR :)
[19:10:29] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[19:11:00] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[19:11:06] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:11:33] <hoverbear> cmr: I got http://rust-ci.org/Hoverbear/rust-rosetta working, but it's saying it passes when it's actually failing on some :(
[19:11:37] <eddyb> Jesin: the current Bitv seems to focus on fast set-like operations
[19:12:05] <Jesin> eddyb: I'll attempt to capture that capability as well
[19:12:17] <cmr> hoverbear: then you probably have a bug in your travis.yml or your testrunner
[19:12:20] * cmr looks
[19:12:23] <Jesin> I just won't attempt to make the diffs be meaningful
[19:12:26] <hoverbear> cmr: I think it's my makefile
[19:12:40] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[19:12:46] <eddyb> Jesin: I guess it's fine if you try to keep some of the tests/benchmarks
[19:13:13] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[19:13:29] *** Quits: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[19:13:42] <cmr> hoverbear: try rustc $$item || exit; ?
[19:13:44] <Jesin> eddyb, cmr: hm, alright then.  I suppose I'd better keep the big/small distinction
[19:13:54] <Jesin> not too costly, so yeah
[19:14:09] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:15:06] <eddyb> rusti: let x: ~str = "foo".chars().rev().collect()
[19:15:06] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[19:15:06] -rusti- <anon>:11     };
[19:15:06] -rusti-               ^
[19:15:07] -rusti- application terminated with error code 101
[19:15:09] <eddyb> rusti: let x: ~str = "foo".chars().rev().collect();
[19:15:11] <eddyb> rusti: let x: ~str = "foo".chars().rev().collect(); x
[19:15:12] -rusti- pastebinned 10 lines of output: http://ix.io/aeB
[19:15:12] -rusti- ~"oof"
[19:16:19] <Jesin> hm, perhaps I will simply fork the existing code
[19:16:30] <hoverbear> cmr: Ok
[19:16:36] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:16:49] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:16:50] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:16:57] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:17:05] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:17:08] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:17:09] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:17:43] <Jesin> I understand what "impl SomeTrait for SomeType" means, but what is "impl SomeType"?
[19:17:46] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:18:14] <cmr> Jesin: It's creating so-called "inherent methods", methods attached directly to a type rather than a trait.
[19:18:14] *** Joins: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP)
[19:18:26] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:18:46] *** jorendorff is now known as jorendorff_away
[19:20:46] *** Quits: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be) (Ping timeout)
[19:21:02] *** Quits: StarLight (StarLight@moz-DC04C6B3.dynamic.avangarddsl.ru) (Ping timeout)
[19:23:52] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[19:24:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:24:13] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[19:25:10] *** Joins: NewFolder (adamle@moz-38947329.dedicated.allstream.net)
[19:25:57] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[19:25:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:27:35] *** Joins: StarLight (StarLight@moz-F1A8217C.dynamic.avangarddsl.ru)
[19:28:08] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:28:28] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:30:00] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[19:30:09] *** Joins: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net)
[19:31:39] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[19:32:16] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:32:23] *** Joins: rubberduck (Mibbit@moz-A413B1A9.dip0.t-ipconnect.de)
[19:32:27] <Hildar> -L. on the rustc command line with a .so in ./ causes an ICE. I presume this is not intended?
[19:32:33] *** jorendorff_away is now known as jorendorff
[19:32:48] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:33:23] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Quit: 04←)
[19:33:24] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[19:33:30] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[19:34:12] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[19:34:37] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:36:00] <rubberduck> hello everyone. ive a question related to the crate and module system. where can i find infos about the design decisions?
[19:36:44] <reima> Hildar: I suppose there is no such thing as an intended ICE.
[19:37:02] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[19:37:13] <Jesin> cmr: can that also be done inside the struct definition?
[19:37:25] <cmr> Jesin: no
[19:37:41] <cmr> Jesin: struct definition is purely declaring contained data and its layout.
[19:37:53] <Jesin> alright, thanks
[19:37:58] <Hildar> reima: Point taken. I'll check on the current master and throw up a bug report.
[19:39:29] *** Quits: synackse (jordyd@moz-E5F6771.seg33.ucf.edu) (Ping timeout)
[19:40:21] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:40:49] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[19:41:17] *** Joins: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP)
[19:41:51] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:41:58] *** Joins: mimcpher (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[19:42:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:42:32] *** Quits: mimcpher (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: leaving)
[19:42:44] <rubberduck> :quit
[19:43:10] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:43:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:43:27] <jxs> does this not make sense fn increment(n: int) { n = n+1; } ? i am getting cannot assign to immutable argument
[19:43:52] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[19:44:01] <eddyb> jxs: n is immutable by default (like everything else)
[19:44:23] <eddyb> try fn increment(mut n: int) { n = n+1; }
[19:44:35] <cmr> (that still doesn't have any side effects)
[19:45:04] <jxs> yes ahah
[19:45:11] <jxs> now i am getting value assigned to p is never read
[19:45:11] *** Quits: rubberduck (Mibbit@moz-A413B1A9.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:45:17] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[19:45:19] <cmr> fn increment(n: &mut n) { *n = n + 1; }
[19:45:24] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[19:45:34] <eddyb> jxs: becase you're changing the local copy
[19:46:42] <jxs> ok, thanks eddyb that was were i started, is the argument copied? or just it's reference? because in the tutorial says : Rust uses a shallow copy for parameter passing, assignment and returning from functions. Passing around the List will copy only as deep as the pointer to the box rather than doing an implicit heap allocation.
[19:46:52] *** Joins: orospakr (orospakr@moz-FA09F007.cpe.net.cable.rogers.com)
[19:47:12] <jxs> oh i see thanks Corey!
[19:47:15] <pcwalton> how do I turn off parallel test execution?
[19:47:28] <cmr> pcwalton: RUST_THREADS=1 iirc
[19:47:43] <pcwalton> hmm, that has other bad effects too though
[19:47:51] <pcwalton> is there a way to just turn it off for tests?
[19:48:00] <cmr> h
[19:48:03] <cmr> m
[19:48:06] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Ping timeout)
[19:48:09] <eddyb> m
[19:48:11] <cmr> that's the only method that comes to mind atm...
[19:48:13] <FliPPeh> Precisely
[19:49:35] <pcwalton> acrichto: what's the status on the mutex?
[19:49:49] *** Quits: Ferreus (ferreus@moz-BFF48DB2.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[19:49:55] <pcwalton> I think the problem preventing me from landing parallel flow construction is that I'm using os mutexes and it deadlocks
[19:49:56] *** Quits: marianoguerra (marianogue@moz-9BDC511.dip0.t-ipconnect.de) (Ping timeout)
[19:50:24] <acrichto> pcwalton: approved, just landing now
[19:50:28] <pcwalton> ok, awesome
[19:51:16] *** Joins: Ferreus (ferreus@moz-BFF48DB2.pools.arcor-ip.net)
[19:52:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:52:52] <jxs> eddyb, you first said it was immutable, why is that not dependent of the variable declaration, since rust shallow copies when passing arguments?
[19:53:20] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:53:33] <eddyb> jxs: x is your variable
[19:53:54] <eddyb> not whatever you pass to the function
[19:54:13] <Hildar> And I managed to delete the old .so that was causing the ICE, and can't remake it... wonderful.
[19:54:35] <eddyb> jxs: that is, function arguments are rvalues for the caller and lvalues for the callee
[19:55:02] <SingingBoyo> anyone remember what head_opt got changed to? assuming it was actually changed to something
[19:55:09] <eddyb> head
[19:55:11] <cmr> SingingBoyo: .head
[19:55:22] <SingingBoyo> cmr, eddyb: thanks
[19:55:59] *** Quits: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP) (Ping timeout)
[19:57:14] *** Joins: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP)
[19:57:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[19:57:35] *** Quits: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP) (Client exited)
[19:57:53] <jxs> ok eddyb thanks
[19:58:01] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:58:06] *** Joins: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP)
[19:58:42] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[19:59:20] *** Quits: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[19:59:22] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:59:51] *** Quits: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP) (Ping timeout)
[19:59:59] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[20:00:59] *** Joins: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP)
[20:01:38] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:01:57] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:01:59] *** flaper87|afk is now known as flaper87
[20:02:06] *** Quits: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP) (Quit: emerson)
[20:02:09] *** Joins: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP)
[20:02:19] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:02:33] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[20:02:44] <SingingBoyo> o noes, BufferedReader is private now. hmm.  guess I have to figure out how to read a line again.
[20:02:55] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:03:07] *** Joins: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP)
[20:03:08] *** Parts: dLog (anonymous@moz-8FAE8709.eastlink.ca) (Leaving)
[20:03:10] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[20:03:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:07:37] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[20:08:19] <hoverbear> cmr: That worked, the build broke. :)
[20:08:41] <cmr> yay!
[20:08:45] * cmr loves breaking things
[20:09:26] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[20:10:23] *** Quits: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP) (Ping timeout)
[20:10:35] *** Quits: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP) (Client exited)
[20:10:44] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[20:10:52] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[20:11:02] *** Joins: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP)
[20:11:03] *** flaper87 is now known as flaper87|afk
[20:15:16] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[20:15:17] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[20:16:42] <jasom> I have a problem.  Now that I've used rust for a bit, I don't want to go back to C.
[20:17:06] <silven> jasom: (Y) I feel the same way
[20:17:31] <Hildar> jasom : I feel your pain. C++ is like pulling teeth without anaesthetic. >.>
[20:17:59] <Blei> i'm doing a bit of go and more python at work now. everything feels so unsafe and shaky and inconvenient
[20:18:30] <Blei> typos as runtime errors? really??
[20:18:31] <jasom> Blei: the thing is, python and go don't replace C for me, they complement it (and I typically use Common Lisp in preference to either of those)
[20:18:33] <bstrie_whimsy> jasom: start fixing bugs so that we can all start using rust fulltime :P
[20:18:44] <jasom> bstrie_whimsy: I would love to, but I'm not allowed to
[20:19:02] <cmr> aw :(
[20:19:05] <bstrie_whimsy> jasom: quit your job, *then* start fixing bugs :)
[20:19:09] <jasom> haha
[20:19:12] <Blei> how come?
[20:19:15] <bstrie_whimsy> jasom: or apply for a job at mozilla!
[20:19:16] <jasom> let me go ask my wife
[20:19:42] <bstrie_whimsy> iirc they're still looking for more employees to work on rust...
[20:20:02] <bstrie_whimsy> we may have replaced graydon, but still haven't replaced tjc
[20:20:06] <jasom> I think I'm probably stuck here until my wife finishes her masters
[20:20:21] <bstrie_whimsy> jasom: mozilla has lots of remote employees :)
[20:20:28] <Blei> where is here?
[20:20:42] <jasom> Blei: SoCal
[20:21:15] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[20:21:23] <Blei> how can you work in a place that disallows you to do open source? :(
[20:21:48] <jasom> Blei: I'm allowed to do open source, just not compilers
[20:21:59] <Blei> ibm?
[20:22:12] <bstrie_whimsy> intel?
[20:22:35] <Matthias247> then you could still work on the libraries or toolling :)
[20:22:36] <Blei> you could just work on the libraries instead
[20:22:39] <FliPPeh> Not allowed to use open source compilers?
[20:22:57] <photex> yaya Common Lisp (it's on my TODO list to put together an example of using Rust and Common Lisp together)
[20:22:57] <FliPPeh> That's madness with the horrible quality of most proprietary compilers
[20:23:12] <bstrie_whimsy> FliPPeh: hey, jasom writes those compilers :P
[20:23:26] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[20:23:28] <FliPPeh> It boggles my mind how MSVC *still* does not support C++11 when Clang and GCC have been feature complete for a long time
[20:23:30] <Matthias247> bstrie_whimsy: would wonder me since intel themselves support many OSS projects
[20:23:51] <bstrie_whimsy> Matthias247: non-compete clauses don't always make sense
[20:24:02] <jasom> Honestly I could probably ask our CEO, but I haven't bothered yet.
[20:24:25] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:24:26] <bstrie_whimsy> jasom: can you tell us which language your compiler is for?
[20:24:28] <Matthias247> if you can ask the CEO personally the company can't be too big :)
[20:24:36] <jasom> bstrie_whimsy: C,C++,Ada
[20:24:37] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[20:24:39] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[20:24:54] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:24:56] *** Quits: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net) (Ping timeout)
[20:25:02] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:26:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:26:25] <jasom> Anyway, I like my job and where I work.
[20:26:27] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Quit: Konversation terminated!)
[20:26:34] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[20:26:48] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[20:26:49] *** Quits: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de) (Quit: Quitting)
[20:27:00] *** Joins: dnyarri (dnyarri@moz-84E87CA5.kapsi.fi)
[20:27:13] *** Joins: blaze (blaze@moz-9B9AB2F0.dhcp.inet.fi)
[20:28:06] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[20:29:18] <bstrie_whimsy> jasom: alright, alright... but maybe, you should convince your employers to just let you write a compiler in rust :P
[20:29:41] <jasom> bstrie_whimsy: yeah, that's the next step :)
[20:30:11] <bstrie_whimsy> muwahahaha
[20:30:15] <bstrie_whimsy> spreading the corruption!
[20:30:17] <Matthias247> I personally find rust quite interesting. But probably not yet so much that I think that I could work full time on it
[20:31:00] <Matthias247> but at least it would be more development than now, where I'm doing > 50% in meetings ;)
[20:31:12] <jasom> I like it because it has a lot of ideas that have been in academia forever (so there's not really anything new or radical) but it is being developed with a very pragmatic bent
[20:31:32] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[20:32:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:32:13] *** ChanServ sets mode: +ao brson brson
[20:33:11] *** Quits: orospakr (orospakr@moz-FA09F007.cpe.net.cable.rogers.com) (Connection reset by peer)
[20:34:57] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[20:35:29] <jasom> Actually I'm somewhat curious why mozilla started rust from scratch, rather than starting from something like cyclone
[20:36:08] <strcat> mozilla didn't start rust
[20:36:34] <Tobba> why would you ever start from cyclone though
[20:36:44] <strcat> a mozilla employee started it on their own time
[20:36:57] <mcpherrin> jasom: That's where the name rust supposedly comes from
[20:36:57] <Tobba> AFAIK its literally C with some new fancy syntax
[20:37:03] <mcpherrin> jasom: old rusted academic ideas :)
[20:37:14] <strcat> mcpherrin: well that's not what graydon said
[20:37:26] <strcat> he said it was named after the fungus
[20:37:27] <Tobba> plus rust does manage to unfuck a lot of things C based languages have been having problems with for ages
[20:37:38] <Matthias247> and there's always a little bit of NIH involved :-)
[20:37:41] <jasom> Tobba: it's typesafe C with pattern matching...
[20:37:46] <mcpherrin> strcat: I've heard both claimed :)
[20:38:01] <strcat> but one is what graydon said and the other is just a guess :P
[20:38:10] <mcpherrin> okay
[20:38:10] <Tobba> hm, rust fungus
[20:38:11] <mcpherrin> :)
[20:38:13] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:38:18] <Tobba> suddenly this opens a lot of naming opportunities
[20:38:37] <mcpherrin> Who named Servo?
[20:38:44] <mcpherrin> was that be?
[20:38:52] <cmr> servo is named after tom servo
[20:38:55] <mcpherrin> yeah
[20:39:06] <bstrie_whimsy> mcpherrin: I think brendan eich had some role in the naming
[20:39:13] <mcpherrin> bstrie_whimsy: be == brendan eich
[20:40:23] <bstrie_whimsy> mcpherrin: maybe in javascript
[20:40:24] <mcpherrin> What's the source of bors?
[20:40:32] <mcpherrin> Is bors another ms3k name?
[20:40:34] <cmr> github.com/graydon/bors
[20:40:36] <cmr> no
[20:40:42] <cmr> see the link on github.com/bors
[20:40:44] <cmr> it's from a book
[20:41:02] *** Joins: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP)
[20:41:22] <bstrie_whimsy> bors' contributions heatmap is so satisfying
[20:41:43] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[20:41:49] <Matthias247> that's far less code than I had estimated
[20:42:17] <bstrie_whimsy> Matthias247: what is
[20:42:23] <Matthias247> bstrie_whimsy: bors
[20:42:33] *** Joins: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de)
[20:42:37] <bachm> how close is the std to the goal?
[20:42:50] <bstrie_whimsy> bachm: what goal
[20:43:14] <cmr> and what std
[20:43:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:43:25] <mcpherrin> bachm: for some idea of 1.0 progress, see bit.ly/1dM8ii2 if that's what you mean
[20:43:38] *** bstrie_whimsy is now known as bstrie_what
[20:44:18] *** Quits: jackneill (jackneill@moz-2777D020.pool.digikabel.hu) (Quit: WeeChat 0.4.2)
[20:44:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:45:12] *** flaper87|afk is now known as flaper87
[20:46:02] *** Joins: fyolnish (fyolnish@moz-4F69C1AE.uqwimax.jp)
[20:47:17] <Matthias247> bstrie_what: are you at mozilla too?
[20:47:51] <bstrie_what> Matthias247: what mozilla
[20:47:52] *** Quits: fyolnish (fyolnish@moz-4F69C1AE.uqwimax.jp) (Ping timeout)
[20:48:01] <bstrie_what> I'm very zen today
[20:48:08] <bstrie_what> if zen is a synonym for infuriating
[20:48:24] <bstrie_what> Matthias247: the answer is no!
[20:48:52] *** flaper87 is now known as flaper87|afk
[20:49:39] <zxcdw> Had enough
[20:49:59] <bstrie_what> zxcdw: yes I have, thanks.
[20:50:26] <bstrie_what> gah, I mean, "what enough"
[20:50:41] <bstrie_what> too many opportunities for smartassery present themselves
[20:50:43] <Matthias247> bstrie_what: ok, just wondered :)
[20:53:00] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[20:53:33] <eddyb> mcpherrin: that is out of date
[20:53:42] <eddyb> we have default type params now
[20:53:45] <bstrie_what> Matthias247: mozilla would have to be crazy to hire me! I am an agent of chaos
[20:53:58] <bstrie_what> eddyb: WHAT, did they already land?
[20:54:00] <eddyb> and I don't see variadic generics in there
[20:54:04] <eddyb> bstrie_what: yesterday
[20:54:10] <bstrie_what> woo
[20:54:14] <mcpherrin> eddyb: Well brson made it like tuesday so it's not *That* out of date
[20:54:25] <eddyb> mcpherrin: ah, it's that one?
[20:54:39] <eddyb> bstrie_what: sadly, we haven't been able to get a snapshot so I haven't improved compiler perf yet with it :P
[20:55:26] <mcpherrin> is there a writeup for how default type params work yet?
[20:55:26] <bstrie_what> eddyb: I don't see how default type params are supposed to improve compiler perf
[20:55:36] <bstrie_what> eddyb: unless that also includes removing the env param
[20:55:38] <bstrie_what> or something
[20:55:58] <cmr> bstrie_what: using a cheaper hash for the hashmaps we use.
[20:55:59] <eddyb> bstrie_what: HashMap<K, V, Hash = SipHash>
[20:56:07] <bstrie_what> oh neat
[20:56:18] <bstrie_what> so we actually ship with a cheap hash by default now?
[20:56:22] *** Quits: bachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:56:22] <cmr> 4no.
[20:56:27] <cmr> we ship with a really super expensive hash
[20:56:27] <bstrie_what> er, ok. I see
[20:56:31] <bstrie_what> siphash
[20:56:31] <nif> nmatsakis: ping
[20:56:44] <bstrie_what> but the compiler opts in to a cheaper hash? :P
[20:56:52] <strcat> no
[20:57:05] <bstrie_what> then I don't see why perf would improve
[20:57:18] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[20:57:23] <bstrie_what> do we even have a cheaper hash function lying around?
[20:57:57] <bstrie_what> also, would switching hash functions make our builds deterministic?
[20:58:03] <bstrie_what> or is that a completely separate issue
[20:58:17] <eddyb> bstrie_what: the compiler *would* opt-in to a cheaper hash
[20:58:22] <strcat> bstrie_what: separate
[20:58:26] <eddyb> as in, TBI
[20:58:31] <bstrie_what> kk
[20:58:46] <strcat> eddyb: imo it's not really a great solution
[20:58:52] <strcat> the default shouldn't be unbearably slow
[20:59:00] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Ping timeout)
[20:59:04] <strcat> we need to do something different for small fixed-size keys
[20:59:10] <eddyb> strcat: ah, sure, but a deterministic hash is bound to be faster
[20:59:12] <strcat> and ideally something different for variable length ones
[20:59:20] <strcat> eddyb: not really
[20:59:21] <jasom> bstrie_what: if you fixed-key the hash it will be deterministic, but siphash is pretty darn fast
[20:59:26] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:59:33] <strcat> jasom: siphash isn't really fast
[20:59:46] <strcat> ~80-100 cycle setup time, and then ~2 cycles per byte
[20:59:46] <eddyb> SipHash slows us down quite a lot
[20:59:46] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[20:59:52] <bstrie_what> jasom: I think we're comparing against hokey hash functions used in other languages :P
[20:59:59] <mcpherrin> ideally your hash function for something in a tight loop wouldn't be more than 3 or 4 instructions
[21:00:01] <bstrie_what> HokeyHash
[21:00:14] <mcpherrin> per key word
[21:00:32] <strcat> right, ideally it is lower than 1 cycle per byte
[21:00:36] <strcat> on archs with SIMD
[21:00:40] *** Joins: snadon (chatzilla@moz-F86CA4D4.mc.videotron.ca)
[21:00:44] <jasom> there is an implementation of xxhash in rust somewhere I think
[21:00:45] *** Joins: andrew-d_w (andrew-d_w@moz-13D24513.sta.estpak.ee)
[21:00:47] *** Quits: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP) (Client exited)
[21:00:47] *** Quits: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[21:00:51] *** Quits: andrew-d_w (andrew-d_w@moz-13D24513.sta.estpak.ee) (Input/output error)
[21:01:08] <strcat> anyway I do think we can do better than SipHash without giving up the strong guarantee against pathological collisions
[21:01:12] <bstrie_what> strcat: hasn't pcwalton said that hashing shows up way higher in profiles than expected? I think that would be enough to sway sentiment in favor of a better default
[21:01:17] *** Joins: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP)
[21:01:26] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:01:26] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:01:39] <jasom> strcat: can or can't?
[21:01:50] <strcat> can
[21:01:53] <eddyb> strcat: a deterministic hash would allow us to get something like mk_nil (or even mk_tup(Vec::new())) to use a constant hash after LLVM opts
[21:02:17] <mcpherrin> worring about attacks on hash tables is imo not where the language needs to be concerned right now
[21:02:18] <strcat> huh?
[21:02:23] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:02:29] <strcat> it's not just about attacks on hash tables
[21:02:39] <eddyb> actually, nevermind, you weren't against having a simpler hash in the compiler
[21:02:40] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Connection reset by peer)
[21:02:42] <strcat> even Go switched to a secure hash on x86
[21:02:46] <Matthias247> bstrie_what: there's always some chaos :)
[21:03:00] *** Quits: bt3ze (bt3ze@5C459CBB.8FFBE666.DDE5D3F6.IP) (Ping timeout)
[21:03:09] <strcat> you could also just make the trie much better 
[21:03:16] <o11c> the obvious solution is just to not ship a hashtable in the standard library for the first 13 years
[21:03:22] <eddyb> bstrie_what: also heard someone mention that they profiled rustc::middle and type checking was doing a lot of hashing, or something like that
[21:03:24] <strcat> and stop using the hash table for fixed-size integer keys
[21:03:26] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[21:03:40] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:03:43] <jasom> bstrie_what: I just know that my unoptimized critbit tree is faster than hash-map for < 4k items
[21:03:47] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:04:04] <strcat> std::trie is extremely naive and competitive with std::hashmap
[21:04:05] *** Joins: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP)
[21:04:08] <eddyb> strcat: yeah, Node/Def IDs could totally use tries
[21:04:33] *** Quits: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[21:04:41] <eddyb> DefId requires a byte-based trie, but Node is already small enough
[21:05:04] <mcpherrin> jasom: crit bit trees are great
[21:05:22] <jasom> mcpherrin: https://github.com/jasom/rust-critbit
[21:05:27] <eddyb> jasom: have you compared it with trie?
[21:05:43] <jasom> eddyb: no, does trie implement MutableMap?
[21:05:49] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:06:03] <strcat> jasom: yes
[21:06:10] *** Quits: snadon (chatzilla@moz-F86CA4D4.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20140127194636])
[21:06:25] <strcat> jasom: there is a crappy core-map.rs benchmark in src/test/bench
[21:06:31] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:06:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:06:46] <strcat> jasom: I think it compares with random keys, ascending order and descending order
[21:06:50] <strcat> various things
[21:07:00] <strcat> just integers though
[21:07:05] <pcwalton> I think the problem with our hash tables is primarily the Hash/IterBytes protocol
[21:07:12] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[21:07:14] <pcwalton> we should try fixing that first to eliminate the virtual dispatch per erickt's proposal before we do anything more drastic
[21:07:22] *** Quits: teosz (teosz@EB63E8F2.1AC00AF5.3EA6AAD8.IP) (Quit: Lost terminal)
[21:07:25] <mcpherrin> pcwalton: is there an issue for that?
[21:07:28] <eddyb> we had virtual dispatch?
[21:07:32] <eddyb> o_O
[21:07:42] <strcat> pcwalton: imo we should do what Go is doing now on x86_64, they use a few rounds of AESENC
[21:07:54] <strcat> elsewhere... dunno
[21:07:58] *** Joins: ecr (chatzilla@331111BA.5FFFD366.11F8506F.IP)
[21:08:01] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[21:08:09] <strcat> they use a weak hash elsewhere
[21:08:22] <pcwalton> mcpherrin: yes, let me try to fix it up
[21:08:27] <mcpherrin> strcat: ARM has AES too, I think
[21:08:27] <pcwalton> err, find it
[21:08:49] <mcpherrin> strcat: and I don't know if any other platforms matter :-)
[21:09:09] <mcpherrin> x86 surely does (I care 'cause I use it, but increasingly irrelevant)
[21:09:16] <tq> MOS 6502!
[21:09:24] *** Joins: lkuper_ (lkuper@FD2D3B26.A0D37E9B.51B6877.IP)
[21:09:38] <pcwalton> strcat: does AESENC beat SipHash?
[21:09:40] <mcpherrin> tq: Everybody loves 6502 :)
[21:09:43] <pcwalton> if so we should just switch to that imo
[21:09:49] <strcat> pcwalton: well, doing a few rounds of it does by far
[21:09:55] <pcwalton> ok
[21:09:59] <pcwalton> let's file a bug and do that then
[21:10:02] <pcwalton> seems like the obvious thing
[21:10:08] <jasom> strcat: TrieMap is only parameterized by 1 type?
[21:10:09] <strcat> there actually is a bug open where I mentioned tis
[21:10:10] <strcat> this*
[21:10:11] <eddyb> pcwalton: that is really bad. I still have to rewrite std::fmt to have more statically resolved paths and support my string builder. my initial tests showed complete optimization, but I have to run the optimization passes twice because of some devirtualization quirk, it should be fine if there is no virtualization in the first place
[21:10:14] <strcat> jasom: it only has uint keys atm
[21:10:15] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[21:10:22] <strcat> jasom: it's not a generic byte-based trie
[21:10:33] <jasom> strcat: oh, well mine is generic
[21:10:37] <eddyb> jasom: we should have a Byteable similar to your Bitable IMO
[21:10:44] <pcwalton> mcpherrin: https://github.com/mozilla/rust/issues/8038
[21:11:06] <strcat> jasom: well it's intentionally not generic because it's intended to be optimized for integer keys (but isn't optimized yet)
[21:11:06] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[21:11:08] <eddyb> jasom: the main issue is one place where it stores an unboxed uint - hard to replace that with a ~[u8] *sometimes*
[21:11:16] <pcwalton> strcat: how about we just use AESENC instead of SipHash and fall back to SipHash?
[21:11:25] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[21:11:48] <strcat> pcwalton: yeah, that'd be good
[21:11:52] <pcwalton> seems better to fall back to secure-but-slow instead of insecure-but-fast if the fallback only affects a small number of users anyway
[21:12:05] <pcwalton> patches very welcome :)
[21:12:07] <pcwalton> it'll speed up Servo too
[21:12:14] <eddyb> strcat: how can I check whether my CPU supports AESENC?
[21:12:26] <mcpherrin> eddyb: are you on Linux?
[21:12:43] <strcat> eddyb: aes flag in /proc/cpuinfo
[21:12:47] <mrmonday> so I have an &mut [u8], how do I go about putting that in a struct? I get errors of various kinds when I try
[21:12:49] <eddyb> yupp. cat /proc/cpuinfo  | grep aes gives me nada
[21:12:57] <strcat> eddyb: https://en.wikipedia.org/wiki/AES_instruction_set
[21:13:06] <mcpherrin> eddyb: What CPU?
[21:13:28] <jasom> my critbit: Insert: 0.283897, Find: 0.187868; std::trie : Insert: 1.482736, Find: 0.426197
[21:13:37] <eddyb> jasom: hahaha
[21:13:54] <mcpherrin> http://ark.intel.com/search/advanced/?s=t&AESTech=true  Ark search for what Intel processors support AES_NI
[21:14:01] *** Quits: lkuper_ (lkuper@FD2D3B26.A0D37E9B.51B6877.IP) (Quit: lkuper_)
[21:14:02] <strcat> jasom: with which key distribution?
[21:14:10] <jasom> eddyb: that's for very small key distribution; trying larger one now
[21:14:12] <strcat> jasom: plug it into that core-map one
[21:14:23] <strcat> does several simple kinds of distributions
[21:14:58] <mcpherrin> AES_NI support isn't nearly as universal as I'd hoped
[21:15:00] <jasom> strcat: large numbers of keys std::trie deestroys my critbit
[21:15:22] <jasom> inserting a new node is really slow in my trie
[21:15:24] <mcpherrin> How would you figure Rust binaries should execute on non-supporting CPUs?  Runtime checking for instruction support?
[21:15:39] <jasom> how do I run the core-map?
[21:16:03] <strcat> jason_: compile it and pass a # of keys as the arg
[21:16:06] <strcat> er
[21:16:08] <strcat> jasom: *
[21:16:08] <o11c> mcpherrin: right, like glibc ifunc
[21:16:13] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[21:16:21] <jasom> where is it?
[21:16:25] *** Joins: jdm (jdm@89E728B9.C181C765.20F9FC3E.IP)
[21:16:25] *** ChanServ sets mode: +o jdm
[21:16:38] <eddyb> mcpherrin: LLVM should be able to provide the distinctions/features
[21:16:50] <jasom> src/test/bench
[21:16:58] <o11c> mcpherrin: I believe it's supported natively by gcc and llvm now (no more manual hacking in the dynamic loader to make it work)
[21:17:07] <mcpherrin> o11c: cool.
[21:19:10] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[21:19:11] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:20:02] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[21:20:28] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:21:46] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:21:47] *** Quits: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt) (Connection reset by peer)
[21:21:54] *** Joins: jadbaires (jadrian@moz-7CA7E852.dsl.telepac.pt)
[21:22:09] *** Joins: lkuper_ (lkuper@FD2D3B26.A0D37E9B.51B6877.IP)
[21:22:16] *** Quits: jdm (jdm@89E728B9.C181C765.20F9FC3E.IP) (Quit: Lost terminal)
[21:22:33] *** Joins: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP)
[21:24:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:25:20] <jasom> how do I tell it where my crate is?
[21:25:22] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[21:25:38] *** Joins: ofeldt (ofeldt@moz-5F533116.dip0.t-ipconnect.de)
[21:25:51] <SiegeLord> So what's up with the &move pointers? What are they for?
[21:26:17] *** Quits: ofeldt- (ofeldt@moz-6C67CA74.dip0.t-ipconnect.de) (Ping timeout)
[21:26:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:27:30] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[21:27:30] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[21:27:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:29:54] <sp3d> ^
[21:31:22] <jasom> strcat: can you tell core-map to do lots of iterations?  I can't get significant results without using *lost* of keys
[21:31:23] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[21:31:34] <strcat> jasom: yes, you pass it as the arg
[21:31:36] <strcat> the # of keys
[21:31:43] <ecr> Assuming &move means the borrow could move date out... how would that even make sense?
[21:31:44] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:31:47] <jasom> strcat: lots of iterations small keys though isn't possible?
[21:31:55] <strcat> hm?
[21:32:06] <strcat> jasom: no, don't think so
[21:32:08] <jasom> e.g. insert only 16 different keys 1e6 times
[21:32:12] <strcat> jasom: ah, no
[21:32:15] <strcat> needs to be edited to do that
[21:32:20] <reima> How do I build Rust with debugging symbols? I've tried ./configure --enable-debug, but gdb rustc still says "no debugging symbols found".
[21:32:25] <strcat> jasom: it's from before #[bench]
[21:32:51] <jasom> okay, triemap is darn fast
[21:33:17] <strcat> it can be a lot better
[21:33:18] <strcat> ;p
[21:33:28] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[21:34:08] <jasom> byt my critbit fast is better with string keys
[21:34:16] <jasom> it finishes in a finite time :)
[21:34:27] <synackse> When rust hits 1.0, will the documentation be complete and up-to-date as well?
[21:34:47] <strcat> synackse: it's not a condition for reaching 1.0
[21:35:01] <strcat> 1.0 is about backwards compatibility for the language and the core standard library
[21:35:20] <mcpherrin> synackse: Certainly once we're at 1.0 hopefully we'll grow reasonable documentation for the backwards compatable part
[21:35:38] <synackse> Is documentation a milestone for any release?
[21:36:10] *** Quits: squiddy (squiddy@moz-5E50BDC4.adsl.alicedsl.de) (Input/output error)
[21:36:26] <o11c> it's the other way around
[21:36:27] *** Quits: dave1629 (dave@F6FBDACC.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[21:37:12] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:37:25] *** jorendorff is now known as jorendorff_away
[21:38:01] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[21:39:29] <nif> I'm having a weird problem: the compiler doesn't give me any problems with a mismatched return type, but make check does. if I try to fix it, the compiler fusses at me.
[21:39:51] <FreeFull> That sounds somewhat weird
[21:39:53] <SiegeLord> Like I'm reading https://mail.mozilla.org/pipermail/rust-dev/2014-January/008165.html and I'm not quite getting the purpose of &my in those examples
[21:39:54] <nif> that's really general, I know. but if anyone could help me out, I can hook you up with an example.
[21:41:29] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[21:42:17] <SiegeLord> I feel like Rust's traits are very expressive atm, but closures should be built on top of them... I don't quite see what those complications are for
[21:45:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:45:51] *** Joins: kvanb (kvanb@moz-393DF0AD.lnse7.win.bigpond.net.au)
[21:46:26] *** Joins: fyolnish (fyolnish@moz-B2835548.uqwimax.jp)
[21:47:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:47:53] <ecr> nif: maybe there's alternative code for a different bootstrap stage (i.e. stage0) that has the type error?
[21:48:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:48:08] *** Quits: fyolnish (fyolnish@moz-B2835548.uqwimax.jp) (Ping timeout)
[21:48:13] <nif> ecr: huh, maybe.
[21:49:15] <ecr> nif: sometimes there's temporary hacks on the stage0 run when new features are added. the old compiler can't process the new feature so a dummy is put in place in stage0 and then filled in by stage1.
[21:49:22] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:49:27] <ecr> nif: that's my first guess anyways
[21:49:42] <nif> interesting. what should I do about it?  I'm tryna submit a PR.
[21:50:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:50:13] <ecr> hold on. I thought you said 'make' instead of 'make check'. it's probably a type error in a test then.
[21:50:30] <nif> oh, okay.
[21:50:33] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:50:42] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Client exited)
[21:50:45] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[21:50:53] <ecr> do you have a code location I could look at?
[21:50:54] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Quit: Leaving)
[21:50:55] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[21:50:56] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[21:52:01] *** jorendorff_away is now known as jorendorff
[21:54:12] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[21:54:18] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:55:11] *** Joins: Saj (Sajuuk@moz-840D0658.netvisao.pt)
[21:55:42] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Client exited)
[21:56:18] <skrylar> i'm almost tempted to outsource the GUI to Lua
[21:56:34] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Client exited)
[21:56:45] <skrylar> I'm not certain about doing that part of this code in Rust, simply because of the current PITA that is trying to use trait dispatch through Rc's 
[21:56:54] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[21:57:14] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[21:57:14] *** Joins: claudiu (claudiu@moz-70F9251D.thefacebook.com)
[21:58:36] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[21:59:05] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[21:59:41] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[21:59:59] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[22:00:21] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[22:00:38] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:01:23] <skrylar> the trouble i've been thinking of is that generic toolkits have a vector of child widgets, so it would be a vector of owned pointers to a trait type, and i'm not sure if there's runtime type safety for converting those back in to the objects they originally were
[22:02:19] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[22:02:27] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:03:50] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:04:11] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:04:20] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:05:08] <mrmonday> what happened to std::vec::raw::to_ptr? where can I find its equivilant these days?
[22:05:20] <acrichto> mrmonday: it became a method on vectors
[22:05:28] <acrichto> rusti: [].to_ptr()
[22:05:29] -rusti- <anon>:10:9: 11:6 error: type `[<generic #8>, .. 0]` does not implement any method in scope named `to_ptr`
[22:05:29] -rusti- <anon>:10         [].to_ptr()
[22:05:29] -rusti- <anon>:11     };
[22:05:29] -rusti- error: aborting due to previous error
[22:05:29] -rusti- application terminated with error code 101
[22:05:32] <acrichto> rusti: [3u].to_ptr()
[22:05:33] -rusti- <anon>:10:9: 11:6 error: type `[uint, .. 1]` does not implement any method in scope named `to_ptr`
[22:05:34] -rusti- <anon>:10         [3u].to_ptr()
[22:05:34] -rusti- <anon>:11     };
[22:05:35] -rusti- error: aborting due to previous error
[22:05:37] -rusti- application terminated with error code 101
[22:05:40] <acrichto> rusti: [3u].as_slice().to_ptr()
[22:05:41] -rusti- <anon>:10:9: 11:6 error: type `&[uint]` does not implement any method in scope named `to_ptr`
[22:05:41] -rusti- <anon>:10         [3u].as_slice().to_ptr()
[22:05:43] -rusti- <anon>:11     };
[22:05:45] -rusti- error: aborting due to previous error
[22:05:46] <acrichto> oh as_ptr
[22:05:47] -rusti- application terminated with error code 101
[22:05:49] <acrichto> rusti: [3u].as_slice().as_ptr()
[22:05:50] -rusti- (0x7f3a3afe9da8 as *())
[22:05:54] *** jorendorff is now known as jorendorff_away
[22:05:54] <acrichto> hurray, finally!
[22:06:03] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:06:32] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[22:06:34] <ecr> I wonder what the average number of attempts to get an example working with rusti is
[22:06:54] <Matthias247> skrylar: that's also my current Nr.1 issue with rust. Doing something like widget trees with callbacks is nearly impossible
[22:07:45] <mrmonday> awesome, thanks :)
[22:08:06] <dwrensha> Matthias247: so the downcasting is the problem?
[22:08:21] *** Quits: kvanb (kvanb@moz-393DF0AD.lnse7.win.bigpond.net.au) (Ping timeout)
[22:09:15] <Matthias247> dwrensha: the issue is: a) You can downcast, but then you can't upcast. b) If you store that widget as a trait ~Widget in a list of childwidgets you gave the ownership away and can't acess it from anywhere else
[22:09:20] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[22:09:54] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-919B955A.dynamic.qsc.de)
[22:10:00] <Matthias247> dwrensha: and having a Rc<Widget> in the child list and a copy Rc<ConcreteWidget> at some other location is currently not possible
[22:10:54] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-919B955A.dynamic.qsc.de) (Quit: arrrrrrrrr)
[22:11:13] <dwrensha> In my understanding, "upcast" means something like `foo as ~BarTrait`
[22:11:17] <dwrensha> and that's what you *can* do
[22:11:40] *** Quits: Kruppe (user@moz-A2D8AF72.net.uwaterloo.ca) (Ping timeout)
[22:11:40] *** Quits: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de) (Ping timeout)
[22:11:44] <dwrensha> or are you talking about inheritance?
[22:12:27] <Matthias247> upcast for me is let x: = Rc<basetrait> as Rc<DerivedTrait>
[22:12:35] <mcpherrin> ecr: I always try them in a private rusti first :P
[22:12:43] <Matthias247> so yes, it's about inheritance to a more concrete type
[22:13:43] <skrylar> well i can jank it a little, by doing what Squeak does in morphic
[22:13:44] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:13:53] *** Joins: Kxepal (Miranda@moz-951C3442.pppoe.mtu-net.ru)
[22:14:07] <skrylar> communicate to the morph using message passing, all though it does have the ugly effect that every message for every widget has to be in a giant enum
[22:14:17] <skrylar> i think thats what the WinAPI does as well
[22:14:58] <Matthias247> yes, but winapi sends to the wndproc and not directly to the widget
[22:15:06] <dwrensha> Would it make sense to use an enum, rather than traits?
[22:15:30] <skrylar> dwrensha: I would ideally prefer *not* to have one big table of every allowed widget, just because thats anti-extensible
[22:15:31] <dwrensha> Put your concrete "base classes" as variants of the enum
[22:15:34] <Matthias247> dwrensha: that's what you would do in C
[22:16:14] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[22:16:16] <Matthias247> then you woud refer to each widget as void* and ;)
[22:16:19] <skrylar> I don't think 0.9 or 0.10-pre are compatible with a 'sane' GUI system though :/ at least how I define sane
[22:16:26] <dwrensha> okay, so you want to easily be able to define new variants
[22:17:28] *** Joins: kvanb (kvanb@moz-92160D21.lns7.lon.bigpond.net.au)
[22:17:31] <skrylar> dwrensha: yes, i'd like to be able to have a morph trait and then each object do what it wants, but the trouble comes in at the window level
[22:17:42] <skrylar> e.g. a window having a text field as a child, but also having the ability to directly access it
[22:17:44] <jasom> so std::trie is faster for uint keys when there are a lot of keys, but critbit is faster for small numbers of keys, and uses 1/2 the ram for randomly distributed keys
[22:18:06] <skrylar> I could probably jank this, but it would require writing a custom Rc
[22:18:10] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[22:18:22] <skrylar> or some version of dynamic_cast
[22:18:34] <Matthias247> that's also what I thought about
[22:19:00] <Matthias247> and use some unsafe casts to get to the Rc to the type you want
[22:19:10] <skrylar> there is no issue if you allow every widget message in and outbound to be in a giant enum, like Scintilla et all do
[22:19:25] <skrylar> you can simply treat morphs like a black box trait type and shove messages through, which is what Squeak does
[22:19:36] <dwrensha> what's a morph?
[22:19:42] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:19:43] <skrylar> http://wiki.squeak.org/squeak/1820
[22:19:44] *** Quits: Kxepal (Miranda@moz-951C3442.pppoe.mtu-net.ru) (Quit: Kxepal)
[22:19:51] <skrylar> Morphic UI
[22:19:59] *** Joins: Kxepal (Miranda@moz-951C3442.pppoe.mtu-net.ru)
[22:19:59] <skrylar> it treats the GUI as a tree of generic morph objects
[22:20:20] <skrylar> you can cover a surprising amount of necessary GUI elements with that model
[22:20:36] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[22:20:40] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:20:45] <Matthias247> I think that would only move the problem. Then you won't have the need to cast widgets and add new methods but instead you would have the need to add new message types
[22:21:11] <skrylar> Matthias247: true, but at least that is less intrusive
[22:21:15] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[22:21:55] <Matthias247> probably yes
[22:22:08] <skrylar> *most* widgets at the basic level seem to either need an integer tag or a string tag, which can be construed to cover a lot of area, and you can cover more advanced objects by hashtable
[22:22:30] <Matthias247> but as all other modern languages get the problem also solved with interfaces Rust imho must be able to do the same
[22:22:43] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:22:51] <skrylar> I agree that it should be simpler to do in rust :/
[22:22:57] <skrylar> this existed with managed boxes
[22:23:17] <skrylar> I know you can solve this exact problem with regular smart pointers, it just requires a little... help
[22:23:21] <Matthias247> you could basically reduce most widgets to 2 functions: setProperty(name, value) and getProperty(name)
[22:23:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:23:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:23:34] *** jorendorff_away is now known as jorendorff
[22:23:41] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[22:23:44] <Matthias247> then you have a giant enum for value :-)
[22:24:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:24:05] <Matthias247> and have a javascript like object system :)
[22:24:15] <skrylar> Matthias247: Most good GUIs do :)
[22:24:26] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:24:27] <dwrensha> Other modern languages try to shove all sorts of things into objects/classes/inheritance --- doesn't mean that's the right way to tackle all problems
[22:24:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[22:24:54] <skrylar> Well GUIs are one of the few places where prototype-based objects are actually one of the best patterns
[22:25:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:25:32] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:25:57] <dwrensha> citation?
[22:26:02] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[22:26:07] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[22:26:32] *** Quits: lkuper_ (lkuper@FD2D3B26.A0D37E9B.51B6877.IP) (Quit: lkuper_)
[22:27:13] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:27:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:27:24] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:27:26] * skrylar points back at the squeak pages on morphic, which was originally done in Self; web apps are done in Javascript (prototype-based), Apple Newton used a prototype-based language for the same purpose, GObject for Gnome/GTK is vaguely based on the dynamic dispatch model of OO (if i recall)
[22:27:39] <Matthias247> dwrensha: that at least tells that the model is proven
[22:27:45] <skrylar> Apple's Cocoa is also based on dynamic dispatch objects
[22:28:01] <dwrensha> sure, I'll accept "proven"
[22:28:13] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[22:28:37] *** Quits: jayrulez (Mibbit@moz-9A7D62F7.uniononeexpress.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:28:51] <Eridius> skrylar: huh?
[22:29:07] <Eridius> oh, dispatch as in message passing, not as in libdispatch
[22:29:23] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[22:29:24] <Eridius> because a "dispatch object" in Cocoa refers to the collection of types vended by libdispatch
[22:29:52] <skrylar> outside of cocoa its also used in computer science for how the method calls work :/
[22:30:12] <Matthias247> he meant dispatch as the bsaic mechanism to send a message to an NSObject ;)
[22:30:14] <Eridius> sure, I've heard the term "dispatch" used there, but not the phrase "dispatch object" used in that way before
[22:30:33] <skrylar> i'm eccentric. :P
[22:30:34] <dwrensha> Personally, I'm curious whether a functional reactive approach, as taken in Elm ( http://en.wikipedia.org/wiki/Elm_(programming_language) ), would work in Rust.
[22:30:57] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[22:31:29] *** Joins: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be)
[22:31:58] <TheHydroImpulse> Does anyone know if LLVM is exposed to Rust programs besides the compiler?
[22:32:20] <skrylar> i'll have to take a look at it in a bit, dwrensha 
[22:32:28] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:32:30] <skrylar> it usually takes a while for me to understand haskell code :\
[22:33:02] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:33:19] <Matthias247> don't understand it either :)
[22:33:36] <Luqman> TheHydroImpulse: not really. i guessed if you linked against librustc you could use the bindings in librustc/lib/llvm.rs
[22:33:40] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:34:00] <ecr> dwrensha: possibly. We would need to add HKT (on the long term todo list). The ability to mutate things might mess things up though.
[22:34:14] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:34:38] <TheHydroImpulse> Luqman ahh, ok cool. I'll try it out.
[22:34:53] <Matthias247> but I guess there are already a lot of differences from the memory management side
[22:35:01] <skrylar> Matthias247: it looks like one of those libraries that is useful for construct DOMs 
[22:35:51] <skrylar> which.. means the superstructure is about the same as the DOM, which is about the same as a lot of prototype-based systems (e.g. really generic get/put property functions like javascript/css methods)
[22:36:34] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:37:00] *** Joins: hoverbea_ (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[22:38:04] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[22:38:15] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:39:18] *** kimundi is now known as zz_kimundi
[22:39:19] *** Joins: nawfel (Mibbit@8AA249B.1BCB9265.DFAB1F33.IP)
[22:42:52] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[22:45:29] <reima> Does anyone know how to get a stack trace for an ICE?
[22:46:37] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:49:01] <Eridius> run the compiler under gdb/lldb and break on whatver the name is now for the function used for failure
[22:49:05] <Eridius> since an ICE means that the task failed
[22:49:20] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[22:49:39] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[22:49:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[22:49:51] <reima> Eridius: How would I go about finding out what function that is?
[22:50:20] <Eridius> ah I think it's now rust_fail
[22:50:29] *** Quits: hoverbea_ (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[22:50:52] <Eridius> yep, std::rt::unwind has a #[no_mangle] function rust_fail() which is commented as being the appropriate place for a breakpoint
[22:51:09] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[22:51:11] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[22:51:28] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:51:34] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:51:42] <reima> Eridius: Awesome, it works! :)
[22:52:53] <reima> Eridius: I was slightly irritated because gdb told me it found no debugging symbols, but I guess rust_fail lives in one of the .so files
[22:54:36] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[22:54:52] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[22:56:44] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[22:58:49] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[22:58:51] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[22:59:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:00:37] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[23:00:45] *** Joins: assaf758 (assaf@moz-E3D80CCC.cable.012.net.il)
[23:01:11] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:01:14] *** Quits: assaf__ (assaf@137E1AC7.42642A4D.FDFCFC19.IP) (Ping timeout)
[23:01:31] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[23:02:06] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:02:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:02:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:03:02] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[23:03:06] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:03:06] *** ChanServ sets mode: +ao dherman dherman
[23:04:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:04:32] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:05:30] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[23:05:41] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[23:07:07] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Connection reset by peer)
[23:08:04] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:08:37] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[23:10:23] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:11:13] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Client exited)
[23:11:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:12:20] <dbaupp> pcwalton: RUST_TEST_TASKS=1 for controlling just thread parallelism
[23:12:25] <dbaupp> *test
[23:12:29] <pcwalton> oh cool
[23:12:32] <pcwalton> thanks!
[23:12:49] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[23:13:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[23:14:54] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:15:15] *** Quits: emerson (Thunderbir@6F3CD6F5.77F4443F.66AE2FF3.IP) (Quit: emerson)
[23:17:45] *** Joins: figaro (Mibbit@FB8C120D.A9DA0237.DDE5D3F6.IP)
[23:17:48] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[23:18:18] <figaro> I'm running rust on a vm and seem to have .10-pre installed, when I actually need .9
[23:18:44] <figaro> I tried rm and reinstalling but it seems that I still have the .10 installed
[23:18:57] <reima> figaro: How did you install Rust?
[23:18:57] <mcpherrin> How are you reinstalling?
[23:19:04] <figaro> (unziping from the tz file)
[23:19:15] *** Quits: nawfel (Mibbit@8AA249B.1BCB9265.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:19:15] <mcpherrin> Which tz file?
[23:19:24] *** Quits: nkoep (nik@moz-AB8DDDA4.pool.mediaways.net) (Quit: Leaving)
[23:19:40] <mcpherrin> The 0.9 release tarball?
[23:20:09] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:20:12] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[23:20:34] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[23:20:39] <figaro> http://static.rust-lang.org/dist/rust-0.9.tar.gz
[23:20:44] <figaro> yes
[23:20:49] <figaro> mcpherrin: yes
[23:21:28] <mcpherrin> How did you install hte 10-pre?
[23:21:34] <mcpherrin> git checkout master and compile?
[23:21:50] *** Joins: emerson (Icedove@6F3CD6F5.77F4443F.66AE2FF3.IP)
[23:22:05] <figaro> mcpherrin: I built from the repo, https://github.com/mozilla/rust.git
[23:23:22] <mcpherrin> so you "make install"ed I guess?
[23:23:34] <mcpherrin> you can "make uninstall" but you rm'd the repo I guess?
[23:23:37] *** Quits: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be) (Ping timeout)
[23:24:00] <mcpherrin> try "make uninstall" from your 0.9
[23:24:15] *** Quits: ecr (chatzilla@331111BA.5FFFD366.11F8506F.IP) (Ping timeout)
[23:24:55] <figaro> yes, I believe so. I just uninstalled from synaptic package manager (completely removed config's (I think)) but it seems that when I rustc -v I still have .10-pre installed
[23:25:10] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[23:25:34] <mcpherrin> the package manager won't help if you installed from source
[23:25:45] <reima> figaro: What does "which rustc" say on the terminal?
[23:26:05] <mcpherrin> though 10-pre is totally where it's at, 0.9 is old hat
[23:26:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:26:15] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:26:29] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[23:26:30] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[23:26:33] <figaro> I'm a fan of .10, but i'm working on a project in .9
[23:26:42] <figaro> i'm getting /usr/local/bin/rustc
[23:26:52] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[23:27:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:27:58] <reima> Ok, then you're actually picking up the rust you built from source I guess
[23:28:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:28:27] <figaro> yes. I believe so. any idea on how to uninstall?
[23:28:56] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[23:29:10] <mcpherrin> figaro: did you try "make uninstall"?
[23:29:20] <reima> This is what "make uninstall" does for me on my 0.10-pre tree: http://pastebin.com/zHiHwTc2
[23:31:13] <reima> figaro: Do you use Ubuntu?
[23:34:21] *** jorendorff is now known as jorendorff_away
[23:34:53] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:35:39] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:36:00] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:36:00] *** Joins: lenstr (lenstr@4BAE5C94.9636F313.7A27613B.IP)
[23:36:20] *** jorendorff_away is now known as jorendorff
[23:36:42] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[23:36:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[23:37:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[23:37:49] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[23:37:49] *** Quits: lenstr (lenstr@4BAE5C94.9636F313.7A27613B.IP) (Ping timeout)
[23:37:55] <Armavica> hello, how can I compile rustc with debug symbols?
[23:38:18] <cmr> Armavica: RUSTFLAGS="-Z extra-debug-info" when building.
[23:38:43] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:39:03] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:39:07] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:39:19] <Armavica> cmr: thank you very much
[23:39:23] <cmr> 3/b 16
[23:39:27] <cmr> feh
[23:42:26] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[23:42:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:42:43] *** Joins: matthewbot (user@moz-C6814817.ga.at.cox.net)
[23:42:47] <aklt> Hi, I get a TGError when building 0.9, should I be worried about that? Do I have a broken build in some way?
[23:43:06] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:43:27] <aklt> ..sorry TGError is missing.  Runnig make again continues the build and things seem to work, ...
[23:43:30] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:44:16] <figaro> Ubuntu. It worked! reinstalling from tarball. (ty reima!
[23:44:53] <reima> figaro: Then you could also give this PPA a try: https://launchpad.net/~hansjorg/+archive/rust
[23:45:27] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[23:45:28] <reima> It provides nightlies (so you don't have to build from source) and side by side installs of different rust versions
[23:45:47] *** Quits: eibwen (kvirc@moz-BF63DC56.dip0.t-ipconnect.de) (Ping timeout)
[23:46:02] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[23:46:02] *** Joins: huddler (Mibbit@5DC83108.4DB138C4.DDE5D3F6.IP)
[23:46:29] <huddler> hi guys! I'm trying to create a new process to run in the background
[23:46:32] <figaro> reima: thanks! will do
[23:46:41] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[23:46:51] *** Joins: fyolnish (fyolnish@moz-4C73ACD3.uqwimax.jp)
[23:47:04] <huddler> I'm currently using spawn and std::run::Process
[23:47:35] <huddler> ... std::run: :Process
[23:47:40] <huddler> ... std::run:: Process
[23:48:29] <huddler> so I don't understand this error: error: cannot capture variable of type `&[~str]`, which does not fulfill `Send`, in a bounded closure
[23:48:39] *** Quits: fyolnish (fyolnish@moz-4C73ACD3.uqwimax.jp) (Ping timeout)
[23:49:53] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[23:49:56] *** Joins: killerswan (kevin.cant@moz-1F697F7B.uvs.sntcca.sbcglobal.net)
[23:51:13] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:51:17] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:51:47] *** Joins: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net)
[23:52:56] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[23:53:50] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Client exited)
[23:55:00] <huddler> hello?
[23:56:12] *** Quits: figaro (Mibbit@FB8C120D.A9DA0237.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:57:10] *** Joins: marianoguerra (marianogue@moz-1C6DBA63.dip0.t-ipconnect.de)
[23:57:25] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:57:43] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[23:58:04] <jasom> why is warn(unnecessary_parens) on by default?
[23:58:08] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[23:58:28] <strcat> jasom: why not? ;p
[23:58:37] <strcat> off-by-default just means no one will use it
[23:58:38] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:59:07] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:59:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:59:13] *** ChanServ sets mode: +ao brson brson
[23:59:26] <jasom> strcat: can I turn it off for an entire file with a # directive?
[23:59:34] <strcat> yes
[23:59:45] <strcat> I'm not sure why you'd want it off though
[23:59:47] <strcat> #[allow(lint)]
[23:59:57] <jasom> because I think it makes the code less readable
