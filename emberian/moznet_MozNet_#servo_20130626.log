[00:00:35] <caitp> linking rust apps is maybe a bit slower than it needs to be though, hm
[00:01:18] <cmr> everything in rustc is a bit slower than it needs to be
[00:01:37] <seth> caitp: gecko is huge in comparison =) nonetheless, i just tried this (touching one file in gecko and rebuilding) and got 1:54
[00:01:58] <seth> caitp: i don't think we should be too proud of taking half the time that gecko takes =)
[00:01:59] <cmr> rustc doesn't do incremental builds yet either though
[00:02:32] <caitp> relinking gecko or xul takes a lot longer than 1:54 here :(
[00:03:11] <caitp> man i need anew computer :c
[00:03:49] <seth> heh, sounds like it alas
[00:04:24] <seth> when hacking on gecko having a fast machine is really worth it
[00:04:44] <seth> otherwise you spend most of the work day browsing reddit =)
[00:11:41] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[00:15:40] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[00:15:48] *** Joins: dherman (dherman@2557E599.66715431.D25A875A.IP)
[00:15:48] *** ChanServ sets mode: +qo dherman dherman
[00:17:02] *** Quits: dherman (dherman@2557E599.66715431.D25A875A.IP) (Quit: dherman)
[00:20:30] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[00:20:46] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[00:20:58] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[00:23:35] <jack> i double chedked my components and such, and compositing is broken on linux, but it builds and runs fine.
[00:23:36] *** Quits: dzbarsky (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[00:23:40] *** Joins: dzbarsky1 (Adium@2557E599.66715431.D25A875A.IP)
[00:23:44] <jack> so much for being able to reproduce that crash :(
[00:24:08] *** Quits: jst (quassel@2557E599.66715431.D25A875A.IP) (Ping timeout)
[00:24:22] *** Joins: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com)
[00:25:24] <seth> yesss! first working build with the text shaping cache!
[00:25:31] *** Quits: Diamond (dick@moz-C01E1CD1.ks.ks.cox.net) (Quit: Leaving.)
[00:25:34] *** Joins: Diamond (dick@moz-C01E1CD1.ks.ks.cox.net)
[00:26:29] <seth> took longer than i expected
[00:45:29] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[00:45:49] *** Quits: mccr8 (mccr8@2557E599.66715431.D25A875A.IP) (Quit: mccr8)
[00:45:51] *** Joins: mccr8 (mccr8@2557E599.66715431.D25A875A.IP)
[00:46:52] <pcwalton> seth: \o/
[00:47:19] <pcwalton> seth: new versions of rustc are faster
[00:47:25] <seth> pcwalton: awesome =)
[00:47:28] <pcwalton> once we upgrade it'll help
[00:47:30] <pcwalton> ~20%
[01:03:41] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[01:07:50] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[01:08:50] *** Joins: jst (quassel@2557E599.66715431.D25A875A.IP)
[01:10:28] *** Quits: jst (quassel@2557E599.66715431.D25A875A.IP) (Input/output error)
[01:10:38] *** Joins: jst (quassel@2557E599.66715431.D25A875A.IP)
[01:15:23] *** Quits: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com) (Connection reset by peer)
[01:15:37] *** Quits: mccr8 (mccr8@2557E599.66715431.D25A875A.IP) (Quit: mccr8)
[01:20:46] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[01:22:07] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[01:25:09] *** Quits: jst (quassel@2557E599.66715431.D25A875A.IP) (Ping timeout)
[01:25:43] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[01:29:04] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[01:32:33] *** Joins: jst (quassel@2557E599.66715431.D25A875A.IP)
[01:33:52] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp)
[01:33:56] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[01:34:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:34:23] *** ChanServ sets mode: +qo dherman dherman
[01:35:00] *** Joins: brendan (brendaneic@moz-C252503F.public.wayport.net)
[01:37:15] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[01:40:51] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[01:41:12] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[01:41:13] *** Quits: harth__ (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[01:41:43] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[01:46:13] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:48:42] <seth> pcwalton: are we going to get a rust standard library new enough to have slice_chars when we upgrade?
[01:48:53] <pcwalton> seth: not sure, does that method exist in master?
[01:49:12] <seth> pcwalton: dbaupp said it was added two weeks ago. i can check if that doesn't answer the question immediately
[01:49:22] <pcwalton> then yes
[01:49:36] *** Quits: brendan (brendaneic@moz-C252503F.public.wayport.net) (Quit: brendan)
[01:49:58] <seth> pcwalton: great! the fact that some str methods take byte offsets and some take character offsets is a fantastic source of insidious bugs
[01:50:18] *** Quits: azakai (alon@2557E599.66715431.D25A875A.IP) (Ping timeout)
[01:52:28] <pcwalton> yeah, maybe we should just newtype byte offset
[01:53:51] <seth> pcwalton: either that or have a different "view" of the string for byte offset stuff. (a raw_str, perhaps)
[01:53:59] <pcwalton> yeah
[01:56:02] <jack> seth: we will probably track rust#master more closely after the upgrade, at least for a little while
[01:56:28] <jack> after 0.6, we were upgrading quite a bit until the tree broke or some big change got made
[01:57:05] <jack> i am hoping to get us at least partially onto rustpkg once brson has done the upgrade so that we can start to dogfood that
[01:58:06] <seth> that all sounds great
[01:58:29] <brson> going through 'make check' on mac right now. after this I'll probably have at least one more rebase to get through before it can merge
[02:00:12] <jack> can we force rust to run on a single thread?
[02:00:19] <jack> will servo actually work in that mode?
[02:00:30] <pcwalton> you can't, and servo wouldn't work under that mode I don't think
[02:00:41] <pcwalton> RUST_THREADS=1 will make each scheduler use one thread
[02:01:43] <jack> doesn't seem to change its behavior on linux at all
[02:02:02] <jack> anyone else getting ~"Elided an `UnscannedTextBox` â€¦. log output?
[02:02:20] <jack> i think some printlns must have snuck through
[02:02:39] <pcwalton> jack: yeah, we're all getting that
[02:02:42] <pcwalton> we should fix it
[02:04:17] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[02:04:17] <ghservo> 01[13sharegl01] 15pcwalton created 06linux (+1 new commit): 02http://git.io/sNMsHQ
[02:04:17] <ghservo> 13sharegl/06linux 143ca143d 15Patrick Walton: Add Linux offscreen GL context support, untested
[02:04:17] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[02:04:25] <pcwalton> oops
[02:04:31] <pcwalton> sorry, meant for that to be my branch.
[02:05:26] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[02:05:26] <ghservo> 01[13sharegl01] 15pcwalton 04deleted 06linux at 143ca143d: 02http://git.io/OlvGqA
[02:05:26] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:08:00] *** Joins: ysuzuki_ (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[02:08:15] *** Quits: ysuzuki (ysuzuki@moz-285468F7.net219126120.t-com.ne.jp) (Ping timeout)
[02:15:31] *** Joins: yong_ (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[02:16:12] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[02:16:28] *** yong_ is now known as yong
[02:24:51] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Connection reset by peer)
[02:25:15] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[02:26:03] <brson> oh, the rebase wasn't so bad! I might get done tonight
[02:31:40] <brson> I think some of our submodules are ahead of the main project, so I'm not sure how those merges are going to work
[02:31:58] <jack> a few are becuase of pcwalton's coming changes.
[02:32:10] <jack> i think rust-azure, rust-layers, and sharegl
[02:36:19] <brson> pcwalton: when are those going to land?
[02:37:25] *** Quits: dzbarsky1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[02:37:32] *** Joins: sankha93 (Instantbir@D4A9A006.DC7B5F6F.8B6C1D65.IP)
[02:39:43] <brson> we'll sort it out tomorrow :)
[02:39:46] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[02:43:47] *** Joins: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net)
[02:46:15] *** Joins: mccr8 (mccr8@moz-5FEA0C74.dsl.dynamic.sonic.net)
[02:46:32] *** Quits: mccr8 (mccr8@moz-5FEA0C74.dsl.dynamic.sonic.net) (Input/output error)
[02:56:43] *** Quits: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net) (Quit: eatkinson)
[02:59:11] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[03:16:19] *** Joins: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net)
[03:22:17] *** Quits: ysuzuki_ (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp) (Ping timeout)
[03:23:04] *** Joins: ysuzuki_ (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[03:27:57] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[03:37:50] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[03:39:03] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[03:39:09] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[03:39:10] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[03:46:00] *** Joins: dzbarsky (Adium@moz-A7CDB794.dia.static.qwest.net)
[03:49:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:49:35] *** ChanServ sets mode: +qo dherman dherman
[03:50:26] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[03:54:40] *** Joins: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com)
[04:22:14] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:26:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:26:51] *** ChanServ sets mode: +qo dherman dherman
[04:28:02] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[04:48:17] *** Quits: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com) (Quit: brendan)
[04:55:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:57:43] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[05:02:50] *** Quits: sankha93 (Instantbir@D4A9A006.DC7B5F6F.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[05:09:59] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[05:22:50] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[05:23:01] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:26:22] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[05:26:34] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:27:14] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[05:27:25] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:27:42] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[05:27:54] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:28:11] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[05:28:23] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:30:43] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[05:31:08] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Connection reset by peer)
[05:43:11] *** Quits: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net) (Quit: eatkinson)
[05:52:54] *** Joins: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net)
[05:53:01] *** Quits: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net) (Quit: eatkinson)
[06:02:53] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[06:19:17] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[07:00:59] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:03:15] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Quit: Leaving...)
[07:38:37] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:59:27] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Quit: leaving)
[08:04:00] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[09:12:14] *** Joins: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP)
[09:33:00] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[09:35:49] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[09:36:15] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[10:06:34] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Quit: Leaving...)
[10:23:54] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[10:30:55] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[10:30:55] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[10:31:12] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[11:06:09] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[11:07:28] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[11:07:34] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[11:08:05] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[11:23:15] *** Quits: ysuzuki_ (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[11:23:23] *** Joins: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[11:28:02] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[11:35:47] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[11:37:27] *** Quits: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP) (Quit: Adityab)
[11:40:22] *** Quits: dzbarsky (Adium@moz-A7CDB794.dia.static.qwest.net) (Quit: Leaving.)
[11:44:32] *** Joins: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net)
[11:53:01] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[12:03:09] *** Joins: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP)
[12:45:29] *** Joins: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP)
[13:03:21] *** bhearsum|afk is now known as bhearsum
[13:08:49] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[13:08:49] <ghservo> [13servo] 15jdm opened issue #544: Implement WebIDL sequences  02http://git.io/X8dy3A
[13:08:49] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[13:12:44] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[13:12:44] <ghservo> [13servo] 15jdm opened issue #545: Make finalizers for each HTML element type  02http://git.io/luSVSg
[13:12:44] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[13:25:37] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp)
[14:00:39] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[14:00:39] <ghservo> [13rust-azure] 15jdm opened pull request #32: Fix xlib link errors. (06master...06linkfix)  02http://git.io/S9gf4w
[14:00:40] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[14:07:04] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[14:07:04] <ghservo> 01[13rust-azure01] 15metajack pushed 2 new commits to 06master: 02http://git.io/JZGY1Q
[14:07:04] <ghservo> 13rust-azure/06master 143a53805 15Josh Matthews: Fix xlib link errors.
[14:07:04] <ghservo> 13rust-azure/06master 14df11281 15Jack Moffitt: Merge pull request #32 from jdm/linkfix...
[14:07:04] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[14:07:57] <jdm> jack: azure-c.cpp:193:29: error: â€˜class SkNativeSharedGLContextâ€™ has no member named â€˜stealTextureIDâ€™
[14:09:17] <jdm> ah, if I comment it out it seems to build
[14:09:28] <jdm> maybe azure's master is different than servo's pointer
[14:09:33] <jack> it is
[14:09:38] <jdm> sigh
[14:09:42] <jack> that's pcwalton's recent changes, can you fix on linux?
[14:09:51] <jdm> I'll take a look
[14:09:51] <jack> he still hasn't landed the servo part.
[14:10:13] <jdm> fix how, precisely?
[14:10:55] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:11:29] <jack> jdm: this can be copied verbatim. there's nothing mac specific in it
[14:11:29] <jack> https://github.com/mozilla-servo/skia/blob/master/src/gpu/gl/mac/SkNativeSharedGLContext_mac.cpp#L193-L207
[14:11:44] <jack> to unix/SkNativeSharedGLContext_unix.cpp
[14:12:09] <jack> i i suppose you could move the implementation to the header file
[14:13:21] <jack> these two port specific things probably need refactoring to depend on a common base class so the code isn't duplicated
[14:13:32] <jack> i guess i was a little lazy in retrospect
[14:13:34] <jdm> heh
[14:19:41] <jack> jdm: does your servo crash with that intel driver bug? or does it work?
[14:19:45] <jack> (with gpu rendering i mean)
[14:20:03] <jdm> jack: it was crashing with a pull from master on monday
[14:20:22] <jack> intel_do_flush_blahblah()?
[14:20:25] <jdm> yep
[14:20:33] <jack> what distro do you run?
[14:20:36] <jdm> fedora 17
[14:20:44] <jack> what graphics driver?
[14:20:51] <jdm> nouveau
[14:21:17] <jack> which is the open source nvidia driver?
[14:22:03] <jdm> if that's a yes/no question, the answer is yes
[14:22:14] <jdm> otherwise the answer is nouveau :)
[14:22:37] <jdm> I'll double check that I'm actually using it
[14:22:49] <jack> haha
[14:22:54] <jack> it was a yes/no question
[14:23:12] <jack> brson claims to have the same bug with i915 which is what i have
[14:23:23] <jack> i will have to dig to see what driver this intel driver actually is
[14:24:17] <jack> what mesa do you have?
[14:24:41] <jdm> jack: actually I think I'm using the intel xorg drivers, not nouveau
[14:25:13] <jdm> apparently i965, according to Xorg.0.log
[14:25:42] <jdm> still waiting on mesa info
[14:26:30] <jdm> jack: looks like 8.0.4-1.fc17
[14:29:03] <jack> can you get to mesa-libGL 9.2?
[14:29:15] <jdm> I'll go digging
[14:29:31] <jack> (that's what's current on f18, and i dont' have hte problem, and i see googling that it is claimed to be fixed in 9.1
[14:30:01] <jack> kwin and wine also set this bug off
[14:30:11] <jack> basically anything doing fancy compisiting i bet
[14:35:12] <jack> what's your xorg-x11-drv-intel at?
[14:35:56] *** Joins: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com)
[14:37:14] <jdm> jack: 2.21.5-1.fc17
[14:37:40] <jack> 2.21.8-1fc18 here
[14:38:40] <jdm> /home/jdm/sdb/servo/src/components/main/compositing/mod.rs:273:75: 273:121 error: failed to find an implementation of trait @layers::layers::TextureManager for azure::azure_hl::DrawTarget
[14:38:44] <jdm> /home/jdm/sdb/servo/src/components/main/compositing/mod.rs:273                                     texture_layer = @mut TextureLayer::new(@buffer.draw_target.clone() as @TextureManager,
[14:38:48] <jdm> sigh
[14:41:15] <jdm> jack: am I missing more stuff?
[14:41:19] <jdm> I really am not sure what I'm doing here
[14:41:53] <jack> you can't build servo with head of rust-azure and rust-layers
[14:42:04] <jack> pcwalton hasn't landed the changes needed
[14:42:36] <jack> he redesigned how the textures are managed, but servo still uses the old way
[14:43:02] <jdm> jack: so you just want me to add the skia fixes, make a PR, then revert my local pointers?
[14:43:31] <jack> yes. you can test build it against current azure with `make rust-azure`
[14:43:42] <jdm> ok
[14:44:58] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[14:44:58] <ghservo> [13skia] 15jdm opened pull request #19: Share texture stealing between unix and mac. (06master...06unix)  02http://git.io/Rcm_iw
[14:44:58] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:45:49] <jack> looks like the mesa driver prints the error message, but it's a call to drm_intel_bo_subdata that fails
[14:47:20] <jack> did you close it on purpose?
[14:49:47] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[14:49:47] <ghservo> [13skia] 15jdm opened pull request #20: Duplicate texture stealing code from mac for unix. (06master...06unix)  02http://git.io/i8gx5Q
[14:49:47] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[14:49:54] <jdm> jack: I did.
[14:50:09] <jack> header way didn't work?
[14:51:12] <jdm> jack: nope, it needed GrGlUtils.h
[14:51:14] <jdm> and that's in src/
[14:55:29] <jack> everything i can find on this bug points to it being a kernel/driver bug that is now fixed
[14:55:44] <jack> not a very satisfying resolution :(
[14:55:53] <jdm> yeah, fun
[14:56:06] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[14:56:07] <ghservo> 01[13skia01] 15metajack pushed 2 new commits to 06master: 02http://git.io/eX5NfA
[14:56:07] <ghservo> 13skia/06master 1421e3d46 15Josh Matthews: Duplicate texture stealing code from mac for unix.
[14:56:07] <ghservo> 13skia/06master 14a16920b 15Jack Moffitt: Merge pull request #20 from jdm/unix...
[14:56:08] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[14:57:35] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[14:57:44] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[15:00:56] <jdm> ./servo: symbol lookup error: /lib64/libGL.so.1: undefined symbol: _glapi_tls_Dispatch
[15:00:58] <jdm> grumble
[15:15:25] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[15:16:51] <jack> what is that?
[15:18:08] <jdm> jack: hmm, interesting
[15:18:28] <jdm> jack: http://pastebin.mozilla.org/2565063
[15:18:31] <jdm> but I still get the crash
[15:18:36] <jdm> next stop the drivers, I guess
[15:19:16] <jack> xorg-x11-drv-intel is the package name i think
[15:19:44] <jack> what does @updates mean?
[15:20:03] <jdm> the default yum repo
[15:22:25] <jdm> arrrrgh
[15:22:30] <jdm> getting into dependency hell now
[15:22:35] <jdm> down the rabbit hole
[15:25:50] <jdm> I'm getting a little bit terrified
[15:26:02] <jdm> there's a different source for libudev in Fedora 18, apparently
[15:33:47] <jdm> uggggggggggh
[15:34:09] <jdm> I'm so not interested in delving into this long list of dependencies
[15:34:16] <jdm> and also not keen to upgrade to Fedora 18 right this moment
[15:36:24] <jack> then you'll have to wait for pcwalton's cpu rendering patch or until i find a workaround if one can be found
[15:37:02] <jdm> maybe tomorrow
[15:38:05] <jdm> since I've likely screwed myself for GL rendering now
[15:38:36] <jack> can you force it to software rendering?
[15:38:41] <jdm> how?
[15:38:56] <jdm> and by it, do you mean mesa or servo?
[15:39:05] <jack> LIBGL_ALWAYS_SOFTWARE=1
[15:39:26] <jdm> servo segfaulted this time :)
[15:39:39] <jdm> haha, nice
[15:39:55] <jdm> http://pastebin.mozilla.org/2565101
[15:40:00] <jack> wow. that fixied my issue though
[15:40:16] <jack> although the rednering state is stil in rendering
[15:40:20] <jack> but about-mozilla showed up
[15:40:31] *** Joins: eholk (eholk@moz-FF3718FD.uconnect.utah.edu)
[15:41:42] <jack> the fancy spinner doesn't seem to work in linux
[15:44:00] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Ping timeout)
[15:44:13] <jdm> probably missing a call to XFlushFancySpinner
[15:44:31] <jack> it's just a unicode character
[15:44:35] <jack> so it's rendered as garbage
[15:44:46] <jack> it's in the title bar
[15:44:54] <jack> probably the fonts on linux don't have those glyphs
[15:59:31] *** Quits: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com) (Quit: brendan)
[16:02:10] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[16:05:13] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[16:07:02] <jdm> ok, I bit the bullet and I've started the upgrade
[16:08:15] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[16:11:14] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[16:12:43] *** Quits: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP) (Input/output error)
[16:15:30] <jack> is there a way to syntax check an xmodmap file?
[16:17:04] <jack> ugh. i can't seem to get alt and command to flip on this machine :(
[16:23:03] *** Quits: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[16:24:59] *** Joins: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP)
[16:25:48] *** Joins: josh (josh@moz-C350AC70.hsd1.mn.comcast.net)
[16:40:16] *** Quits: josh (josh@moz-C350AC70.hsd1.mn.comcast.net) (Quit: josh)
[16:47:09] <caitp-> ;_;
[16:50:40] <jack> fixed that with setting i hadn't seen in tweak tool. now i can write code in linux comfortable
[16:50:44] <jack> comfortably
[16:51:34] *** Joins: azakai (alon@2557E599.66715431.D25A875A.IP)
[16:54:00] *** Joins: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP)
[16:57:14] <caitp-> how did you do it
[16:57:37] <caitp-> reveal le secrets
[16:58:01] <jack> gnoem tweak tool has a "typing" section which has a pulldown called "altwin"
[16:58:57] <caitp-> i don't see it in the unity tweak tool :(
[16:59:02] <caitp-> oh well
[17:08:22] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[17:08:22] *** Joins: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com)
[17:11:20] <jack> how have i never seen timecube.com before?
[17:11:29] <jack> the internet is a wonderful and strange place
[17:11:29] *** Joins: brson (brson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:15:51] <caitp-> looks like some old usenet post transformed into a beautiful web application
[17:16:52] <jack> trying glFinish() instead of glFlush() to see if it fixes this bad texture on linux
[17:18:53] *** Joins: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:19:12] <caitp-> rendering using opengl immediate mode?
[17:19:15] * caitp- scratches head
[17:20:13] <jack> just trying to see if it's a texture race
[17:20:22] <jack> supposedly glFlush() is enough for shared textures.
[17:20:29] * jack goes back to his small test programs
[17:22:14] <caitp-> you get your texture handle, which means that space for the texture should already be allocated in vram, afaik it shouldn't yell at you if it's not finished writing to it yet
[17:26:08] <jack> it doesn't yell. i just get garage on the screen
[17:26:12] <jack> garbage
[17:26:30] <jack> my simple test case also fails, in that it doesn't draw anything but it's not garbage
[17:27:07] *** Quits: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP) (Ping timeout)
[17:27:59] <jack> yaya!
[17:28:10] <jack> may testure layer example gets the intel_do_flush_locked failure
[17:28:32] <jack> now i'm getting somewhere.
[17:29:15] <jack> so i'm pretty sure i must be missing something basic on these shared gl contexts or else the intel driver just can't do them at all
[17:29:29] <caitp-> but the garbage should only be temporary while the texture is being written yeah?
[17:29:41] <jack> it stays garbage forever from what i can see
[17:29:57] <caitp-> stuff being drawn lazily maybe?
[17:30:15] <jack> ok. in multithreaded example, i get garbage
[17:30:27] <jack> in single-threaded i get intel_do_flush_locked failure
[17:30:40] <caitp-> that's a good sign
[17:31:04] <jack> i'll clean up this code and gist it so others can test after lunch. but at least there is something minimal to test now
[17:32:26] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:32:56] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[17:32:58] *** Joins: SimonSapin1 (simon@88F51059.F3BBB17D.144F44FA.IP)
[17:33:07] <caitp-> i'll give it a go later on
[17:33:25] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[17:34:39] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:35:34] *** Joins: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:35:47] *** Quits: eholk (eholk@moz-FF3718FD.uconnect.utah.edu) (Quit: eholk)
[17:39:55] *** Quits: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: azita)
[17:40:31] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[17:40:35] *** Quits: brendan (brendaneic@moz-B31AD19A.sub-174-240-0.myvzw.com) (Quit: brendan)
[17:43:35] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[17:47:23] *** Joins: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:50:47] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:55:33] *** Joins: eholk (eholk@moz-FF3718FD.uconnect.utah.edu)
[17:57:30] <brson> to merge this upgrade I'm thinking I'll push the submodules that are ahead of servo (at least rust-layers and rust-azure) to non-master branches, then let pcwalton deal with merging them
[17:59:47] <jack> brson: that seems reasonable.
[18:00:51] <brson> jack: there are 23 submodule updates. do you want me to go through the pull request process? there's very little of interest here. maybe I can just push
[18:01:05] <brson> do a pr for servo only
[18:01:29] <jack> brson: that sounds fine
[18:01:32] <jack> servo pr and push the rest
[18:01:38] <jack> i'll post-review them
[18:02:44] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[18:02:44] <ghservo> 01[13rust-fontconfig01] 15brson pushed 1 new commit to 06master: 02http://git.io/9hV-RA
[18:02:44] <ghservo> 13rust-fontconfig/06master 14faca128 15Brian Anderson: Update for language changes
[18:02:44] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[18:03:25] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[18:03:25] <ghservo> 01[13rust-freetype01] 15brson pushed 1 new commit to 06master: 02http://git.io/nbiWOg
[18:03:25] <ghservo> 13rust-freetype/06master 145247c3e 15Brian Anderson: Update for language changes
[18:03:25] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[18:04:56] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:04:56] <ghservo> 01[13rust-xlib01] 15brson pushed 1 new commit to 06master: 02http://git.io/QxOtPg
[18:04:56] <ghservo> 13rust-xlib/06master 14788f41a 15Brian Anderson: Update for languages changes
[18:04:56] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:05:59] <jack> r+ on those three
[18:06:24] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:06:24] <ghservo> 01[13rust-cocoa01] 15brson pushed 1 new commit to 06master: 02http://git.io/yZ3q4g
[18:06:24] <ghservo> 13rust-cocoa/06master 143ef4cf7 15Brian Anderson: Update for language changes
[18:06:24] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:08:01] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:08:02] <ghservo> 01[13rust-core-foundation01] 15brson pushed 1 new commit to 06master: 02http://git.io/97s2hg
[18:08:02] <ghservo> 13rust-core-foundation/06master 14ea8d2bd 15Brian Anderson: Update for language changes
[18:08:02] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:08:28] <jack>  wow. did we really move that much stuff out of prelude?
[18:08:43] *** Joins: mccr8 (mccr8@2557E599.66715431.D25A875A.IP)
[18:09:23] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[18:09:23] <ghservo> 01[13rust-core-graphics01] 15brson pushed 1 new commit to 06master: 02http://git.io/K4GCbw
[18:09:23] <ghservo> 13rust-core-graphics/06master 14bf9d0eb 15Brian Anderson: Update for language changes
[18:09:23] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[18:10:24] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:10:24] <ghservo> 01[13rust-core-text01] 15brson pushed 1 new commit to 06master: 02http://git.io/cvnGfw
[18:10:24] <ghservo> 13rust-core-text/06master 1472c7673 15Brian Anderson: Update for language changes
[18:10:24] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:12:06] <brson> jack: modules are no longer exported from the prelude. it was confusing to have them there because they couldn't then be resolved in imports
[18:13:26] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[18:13:26] <ghservo> 01[13rust-alert01] 15brson created 06master-upgrade (+1 new commit): 02http://git.io/BdDGfg
[18:13:26] <ghservo> 13rust-alert/06master-upgrade 148a15a3b 15Brian Anderson: Update for language changes
[18:13:26] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:14:23] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[18:14:23] <ghservo> 01[13rust-azure01] 15brson created 06master-upgrade (+1 new commit): 02http://git.io/hPM9kQ
[18:14:23] <ghservo> 13rust-azure/06master-upgrade 146daaffe 15Brian Anderson: Update for language changes
[18:14:23] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[18:14:47] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[18:14:47] <ghservo> 01[13rust-css01] 15brson pushed 1 new commit to 06master: 02http://git.io/8p6mJg
[18:14:47] <ghservo> 13rust-css/06master 145e8c30c 15Brian Anderson: Update for language changes
[18:14:47] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[18:15:18] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[18:15:19] <ghservo> 01[13rust-geom01] 15brson pushed 1 new commit to 06master: 02http://git.io/p_FY0g
[18:15:19] <ghservo> 13rust-geom/06master 14a23cb0b 15Brian Anderson: Update for language changes
[18:15:19] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[18:15:28] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[18:15:48] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[18:15:48] <ghservo> 01[13rust-glut01] 15brson pushed 1 new commit to 06master: 02http://git.io/v6rS3g
[18:15:48] <ghservo> 13rust-glut/06master 1442931c8 15Brian Anderson: Update for language changes
[18:15:48] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[18:16:30] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[18:16:30] <ghservo> 01[13rust-harfbuzz01] 15brson pushed 1 new commit to 06master: 02http://git.io/Uq0kcQ
[18:16:30] <ghservo> 13rust-harfbuzz/06master 144d57604 15Brian Anderson: Update for language changes
[18:16:30] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[18:17:35] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:18:17] <brson> hm, rust-http-client is ahead of servo for unrelated reasons. I think I'll try to rebase it real quick
[18:19:27] *** Joins: dzbarsky (Adium@2557E599.66715431.D25A875A.IP)
[18:20:51] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[18:20:51] <ghservo> 01[13rust-http-client01] 15brson pushed 1 new commit to 06master: 02http://git.io/h_lcLw
[18:20:51] <ghservo> 13rust-http-client/06master 14d88f23d 15Brian Anderson: Update for language changes
[18:20:51] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:21:47] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[18:21:47] <ghservo> 01[13rust-hubbub01] 15brson pushed 1 new commit to 06master: 02http://git.io/67-CtQ
[18:21:47] <ghservo> 13rust-hubbub/06master 14c549e77 15Brian Anderson: Update for language changes
[18:21:47] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[18:22:26] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[18:22:26] <ghservo> 01[13rust-layers01] 15brson created 06master-upgrade (+1 new commit): 02http://git.io/WXfc3Q
[18:22:26] <ghservo> 13rust-layers/06master-upgrade 14a1454f0 15Brian Anderson: Update for language changes
[18:22:26] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:22:55] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[18:22:55] <ghservo> 01[13rust-netsurfcss01] 15brson pushed 1 new commit to 06master: 02http://git.io/6DEhhg
[18:22:55] <ghservo> 13rust-netsurfcss/06master 14afdd72f 15Brian Anderson: Update for language changes
[18:22:55] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[18:23:59] <jack> r+ to harfbuff
[18:24:39] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:24:39] <ghservo> 01[13rust-opengles01] 15brson pushed 1 new commit to 06master: 02http://git.io/Uq0lEQ
[18:24:39] <ghservo> 13rust-opengles/06master 14d7c05e8 15Brian Anderson: Update for language changes
[18:24:39] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:25:53] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[18:25:53] <ghservo> 01[13sharegl01] 15brson created 06master-upgrade (+1 new commit): 02http://git.io/O3TrgQ
[18:25:53] <ghservo> 13sharegl/06master-upgrade 14a96c9f1 15Brian Anderson: Update for language changes
[18:25:53] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[18:26:36] <jack>  r+ through sharegl
[18:27:52] * brson starting to get confused by the number of submodules that are ahead of servo
[18:28:24] <jack> most of them are probably patches that people submitted and we just didn't upgrade the servo pointer.
[18:28:47] <jack> the only incompatible ones i know of are azure, and layers
[18:29:00] <brson> skia seems to be ahead too
[18:29:08] <brson> unless i screwed something up
[18:29:24] <jack> should should be safe though
[18:29:38] <jack> it just exposes extra API now
[18:29:38] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[18:30:04] <jack> sharegl is also safe afaik. 
[18:30:05] <brson> i guess I'll try to rebase and upgrade skia real quick
[18:30:14] <jack> azure and layers removed stuff that current servo uses
[18:30:33] <jack> i assume you had no changes to skia?
[18:30:40] <jack> there's no rust code in there at all
[18:31:15] *** Parts: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net) ()
[18:32:37] <brson> yeah, I don't have skia changes. trying to sort this out
[18:32:53] <brson> I think I accidentally fast-forwarded skia a few commits
[18:34:27] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:34:27] <ghservo> 01[13rust-mozjs01] 15brson pushed 1 new commit to 06master: 02http://git.io/I97bkQ
[18:34:27] <ghservo> 13rust-mozjs/06master 149e62312 15Brian Anderson: Update for language changes
[18:34:27] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:35:02] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:35:02] <ghservo> 01[13rust-stb-image01] 15brson pushed 1 new commit to 06master: 02http://git.io/X-emZg
[18:35:02] <ghservo> 13rust-stb-image/06master 14577bebc 15Brian Anderson: Update for language changes
[18:35:02] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:35:08] <jack> on that rust-mozjs one, you have use jsapi::* but then you call everything with jsapi::Foo
[18:35:12] <jack> is that intentional?
[18:35:26] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[18:35:26] <ghservo> 01[13rust-wapcaplet01] 15brson pushed 1 new commit to 06master: 02http://git.io/xGcmeg
[18:35:26] <ghservo> 13rust-wapcaplet/06master 14c726370 15Brian Anderson: Update for language changes
[18:35:26] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[18:36:43] <brson> jack: idk. it was all just mechanical changes to get rid of errors. did i actually add an unused import?
[18:37:20] <jack> i assume resolve pass doesn't consider * imports unsued ever right?
[18:37:36] <brson> jack: i don't think it does
[18:37:51] <jack> it's not a big deal.
[18:38:25] <brson> ok, so sharegl, rust-layers, rust-azure and rust-alert are all branched
[18:38:57] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:39:01] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:39:01] <ghservo> [13servo] 15brson opened pull request #546: Update for language changes (06master...06master)  02http://git.io/bETTOA
[18:39:01] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:40:55] <jack> i keep forgetting you can drop the parens on do and for
[18:42:53] <brson> once this is merged I'll try to merge the sharegl and rust-alert branches. rust-layers and rust-azure can wait for pcwalton
[18:44:06] *** Joins: dzbarsky1 (Adium@2557E599.66715431.D25A875A.IP)
[18:44:11] *** Quits: dzbarsky (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[18:45:07] *** dzbarsky1 is now known as dzbarsky
[18:45:08] <jack> unsafe was really broken :)
[18:51:14] <jack> brson: https://github.com/mozilla/servo/pull/546/files#L64R149
[18:51:25] <jack> that looks like a nested unsafe
[18:51:38] *** Quits: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: azita)
[18:53:11] <brson> jack: have to go to lunch now. sorry. I'll fix it when I get back, or feel free to fix it
[18:55:08] *** Quits: brson (brson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[18:57:13] <jack> brson: np. you can fix it in a new PR. i'm goign to r+ this one
[18:57:49] <jack> oh man. this is going to break bors.
[18:58:08] <jack> or rather, it might if it can't deal with the rust upgrade
[18:59:50] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:59:50] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/mEHOhw
[18:59:50] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:59:53] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[18:59:53] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/AsCbrA
[18:59:53] <ghservo> 13servo/06auto 145ef28ae 15Brian Anderson: Update for language changes
[18:59:53] <ghservo> 13servo/06auto 14969f1c1 15bors-servo: auto merge of #546 : brson/servo/master, r=metajack
[18:59:53] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[19:02:53] *** Joins: ehsanul_ (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[19:02:53] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[19:03:34] *** Quits: dzbarsky (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[19:03:34] *** Quits: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: eatkinson)
[19:06:29] <jack> yeah, it failed to build rust. i'll manually fix
[19:09:33] *** Joins: dzbarsky (Adium@2557E599.66715431.D25A875A.IP)
[19:10:00] <jack> bhearsum: ping
[19:14:56] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[19:14:56] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14969f1c1 to 14a01f6b9: 02http://git.io/c8GovQ
[19:14:56] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[19:15:00] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[19:15:00] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/XqKFfA
[19:15:00] <ghservo> 13servo/06auto 145ef28ae 15Brian Anderson: Update for language changes
[19:15:00] <ghservo> 13servo/06auto 14979fe9d 15bors-servo: auto merge of #546 : brson/servo/master, r=metajack
[19:15:00] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[19:19:43] <bhearsum> jack: pong
[19:20:55] <jack> i need rm -rf objdir/* on the linux build slaves. i don't know how to do tha.t
[19:21:12] <jack> er, we also need to kill the backed up rust
[19:21:27] <bhearsum> yeah, that's a bit tricky because of the autoshutdown...
[19:21:40] <bhearsum> i can do it, but i wonder if we can modify the scripts to handle cases like this better
[19:21:41] <jack> i figured you would know how to do it ;)
[19:21:44] <bhearsum> maybe a clobber file or something
[19:21:59] <jack> bhearsum: i'll fix the makefile to detect this hoipefully
[19:22:08] <bhearsum> oh, cool
[19:22:15] <bhearsum> well, i'm just booting up the linux slaves now to clobber them manually
[19:22:23] <jack> thanks
[19:25:37] *** Quits: eholk (eholk@moz-FF3718FD.uconnect.utah.edu) (Quit: eholk)
[19:32:41] <bhearsum> sorry, taking a bit longer than expected
[19:34:18] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[19:37:58] <bhearsum> alright, done
[19:38:38] <tikue> pcwalton: I'm not going into SF just so you know
[19:39:01] <jack> bhearsum: thanks
[19:40:01] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[19:40:58] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[19:50:44] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[19:53:23] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[19:57:07] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Connection reset by peer)
[20:02:25] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[20:02:52] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[20:02:52] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14979fe9d to 14a01f6b9: 02http://git.io/c8GovQ
[20:02:52] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[20:02:55] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[20:02:55] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/jrrO7A
[20:02:55] <ghservo> 13servo/06auto 145ef28ae 15Brian Anderson: Update for language changes
[20:02:55] <ghservo> 13servo/06auto 1400ffd09 15bors-servo: auto merge of #546 : brson/servo/master, r=metajack
[20:02:56] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:05:16] *** Joins: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP)
[20:05:57] *** Joins: eholk (eholk@2D7AC318.BBEE78B7.ABD5273E.IP)
[20:07:02] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[20:19:35] *** Joins: reyre_ (reyre@4EA231A1.8829A0B.47C41102.IP)
[20:21:18] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Quit: Leaving...)
[20:22:54] *** Quits: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[20:37:01] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[20:38:15] *** Joins: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:41:18] *** Quits: reyre_ (reyre@4EA231A1.8829A0B.47C41102.IP) (Broken pipe)
[20:41:33] <jack> brson: mac built successfully, linux is still building stage2
[20:42:11] *** Joins: brson (brson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:42:33] <brson> jack: do you know why the build failed?
[20:42:59] <brson> i'm guessing that we need to manually trigger a rust rebuild
[20:47:18] *** Joins: dherman (dherman@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:47:18] *** ChanServ sets mode: +qo dherman dherman
[20:47:34] <jack> brson: yes. and i've already triggered it, etc.
[20:47:43] <jack> i expec tthis latest one will pass just fine
[20:48:13] *** Quits: ehsanul_ (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[20:48:36] <brson> I just force-pushed over my master branch. I wonder what will happen
[20:48:49] <jack> that's a good question :)
[20:50:24] <brson> jack: how did you rebuild rust on the bots?
[20:51:25] *** Quits: SimonSapin1 (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[20:52:21] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[20:53:24] <jack> brson: just nuked objdir and the rust backup. bhearsum had to do the ones on the linux slaves since they have to be booted first
[20:59:45] *** Joins: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:02:08] *** Quits: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: eatkinson)
[21:07:00] *** Joins: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:10:24] *** Quits: azakai (alon@2557E599.66715431.D25A875A.IP) (Quit: Ex-Chat)
[21:12:52] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[21:12:57] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[21:16:04] *** Quits: vivekg (uid10501@moz-A588D045.irccloud.com) (Ping timeout)
[21:18:35] *** bhearsum is now known as bhearsum|afk
[21:23:13] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[21:25:19] *** Quits: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: eatkinson)
[21:27:48] <tikue> pcwalton: brson: jack: I think we may have got something wrong in the meeting yesterday. The diagram shows multiple navigation contexts associated with a single script. But if different windows are on pages from different domains, they won't have the same script, so the relation seems to have been drawn backwards. i.e. a single navigation context will have multiple scripts, not other way around
[21:28:06] <pcwalton> tikue: yes, that's true.
[21:28:08] <pcwalton> good point.
[21:28:58] <tikue> pcwalton: ok, just wanted to make sure I wasn't confused. It's an easy fix
[21:29:14] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[21:30:53] <seth> sweet. just got wikipedia to load with the new shape caching stuff
[21:31:22] *** Joins: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:31:46] <tikue> seth: awesome!
[21:32:41] <seth> lol
[21:32:48] <tikue> ._.
[21:32:50] <seth> the shape cache is _really_ effective since we run layout twice for each page load =)
[21:33:06] <seth> might be good to fix that
[21:33:29] <tikue> seth: it's a feature. twice the content per click
[21:34:19] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[21:34:30] <seth> tikue: keeps your computer nice and warm
[21:35:19] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[21:36:22] <eatkinson> tikue: if you have two pages from the same source though, don't they need to share a script task?
[21:36:48] <eatkinson>  /source/origin/
[21:36:58] <tikue> eatkinson: yup
[21:37:14] <tikue> eatkinson: i'm not changing that
[21:37:23] <eatkinson> so then you need two navigation contexts with the same script
[21:37:28] <eatkinson> tikue: ^^
[21:37:32] <tikue> eatkinson: yes
[21:37:52] <tikue> eatkinson: sometimes you need two scripts per navigation task though
[21:38:29] <eatkinson> tikue: why? because a page in navigation history could have a different origin?
[21:40:20] <tikue> eatkinson: exactly
[21:41:25] <eatkinson> tikue: how do we model this then?
[21:41:33] <tikue> eatkinson: i thought it was easy but now i'm not sure :)
[21:45:27] *** Quits: dzbarsky (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[21:47:39] *** Joins: dzbarsky (Adium@2557E599.66715431.D25A875A.IP)
[21:48:09] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[21:48:24] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[21:58:23] *** Joins: Jesse_ (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[21:58:32] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Connection reset by peer)
[22:10:21] <pcwalton> jack: bors didn't notice https://github.com/mozilla/servo/pull/539
[22:12:15] *** Quits: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP) (Ping timeout)
[22:12:19] <jack> pcwalton: "We canâ€™t automatically merge this pull request.
[22:12:19] <jack> "
[22:12:25] <jack> bors won't touch it if it can't be merged.
[22:12:42] <pcwalton> oh
[22:13:01] <jack> trips me up now and then too
[22:13:10] <jack> becuase hwen it can't be merged, it's not a red notice. it's graye dout
[22:13:14] <jack> so you totally miss it
[22:16:50] *** Joins: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP)
[22:17:12] *** Quits: Adityab (Adityab@BE88B0D1.5291F4C0.16E13E53.IP) (Quit: Adityab)
[22:20:51] <pcwalton> jack: we have to run all pages in the same domain on the same JS context
[22:20:51] <pcwalton> y
[22:20:55] <pcwalton> you can't use message passing
[22:20:58] <pcwalton> as they can share objects
[22:21:14] <pcwalton> since they can share objects they have to run on the same event loop
[22:21:19] <pcwalton> because of the run to completion model
[22:21:28] *** Joins: jclements (jclements@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:21:33] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[22:21:40] <sully> hm, servo dumps core on my machine when I try to run it
[22:22:18] <pcwalton> if two pages had two event handlers and mutated the same objects they would have races, so the events must be serialized
[22:23:23] <sully> oh, inside graphics driver stuff
[22:23:36] <pcwalton> yeah, my CPU rendering patches will fix that
[22:26:11] <jack> pcwalton: current browsers do not run two tabs pointed at hte same page in the same js runtime
[22:26:25] <pcwalton> they do if they're part of the same constellation
[22:26:28] <pcwalton> that is
[22:26:30] <pcwalton> if page A opens page B
[22:26:38] <pcwalton> then they can communicate synchronously
[22:26:45] <jack> sure, if you open a popup or an iframe
[22:26:50] <pcwalton> if the user manually opens a tab then they will be separate
[22:26:51] <pcwalton> yes
[22:26:52] <pcwalton> I agree with that
[22:26:58] <jack> if you open in a new tab, that's in a spearate rutnime.
[22:27:01] <pcwalton> right
[22:27:07] <pcwalton> that's what should happen in servo too
[22:27:57] <tikue> pcwalton: jack: so let's say i'm on a wikipedia page and right click a wiki link and click "open in new tab." what happens?
[22:28:05] <jack> new jsruntime.
[22:28:17] <pcwalton> yeah, I think new JS Runtime
[22:28:27] <pcwalton> it's only if the page actually opened it as a popup window
[22:28:30] * seth notes that servo crashes if you quit it when it's in the middle of something
[22:28:43] <pcwalton> that's unfortunate, let's get a bug on file for that.
[22:28:44] <pcwalton> GL?
[22:28:55] <seth> pcwalton: let me run it again under gdb
[22:29:40] <pcwalton> seth: eatkinson says he's blocked on your stuff
[22:29:44] <tikue> pcwalton: so separate tabs are in separate constellations?
[22:29:44] <pcwalton> so no rush
[22:29:52] <pcwalton> tikue: if the user manually opened the tab
[22:29:58] <seth> eatkinson: what stuff?
[22:30:00] <pcwalton> but if the tab was opened from the previous page via window.open
[22:30:21] <eatkinson> creating text runs in box_builder
[22:30:23] <tikue> pcwalton: manually as in right click + open in new tab, for example?
[22:30:26] <eatkinson> seth:^
[22:30:26] <pcwalton> right
[22:30:27] <seth> eatkinson: that
[22:30:29] <pcwalton> that counts as manual
[22:30:37] <seth> eatkinson: that's already up and r+'ed, AFAIK
[22:30:47] <pcwalton> seth: it's bitrotted :(
[22:30:51] <pcwalton> needs a rebase
[22:30:52] <brson> is buildbot confused? my build passed but the bot's offline
[22:31:04] *** Joins: azakai_ (alon@2557E599.66715431.D25A875A.IP)
[22:31:16] <seth> pcwalton: hah yeah i see
[22:31:19] *** Joins: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP)
[22:31:20] <seth> ok, will start rebasing that
[22:31:32] <jack> brson, jdm: https://gist.github.com/metajack/5872317 are minimalish failing cases for the gpu rendering
[22:31:48] <jack> the first for me gets intel_do_flush_locked and the second just has garbage output
[22:33:12] <jack> tikue: in javascript, it's window.open() that opsn a popup. so that and same-origin iframes are in the same constellation
[22:33:32] <jack> some browsers show that pop up as a tab instead of a window
[22:34:00] <jack> the semantics of the same constellation are becuase of window.open as opposed do document.location = "foo"
[22:34:02] <tikue> jack: ok, I think I got it. So for present purposes, any left-clicking of links should share runtime if it's the same origin, yeah?
[22:34:21] <jack> left clicking a link is like setting document.location
[22:34:40] <jack> the default left click behavior does not share the constellation
[22:35:31] <jack> brson: it's because you forced pushed
[22:35:38] <jack> i was confused too until i remembered that.
[22:35:42] <jack> i'll r+ the new commit
[22:35:48] <jack> your build did pass btw
[22:36:16] *** Quits: azita (Azita@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: azita)
[22:36:24] <tikue> jack: ah, I see. That's really different from how I previously understood it. Currently, scripts send load url messages to the constellation, which actually doesn't make much sense in the common use case, because normally a whole new constellation needs to be spawned
[22:36:59] <jack> the important thing is that the new loaded page shouldn't be able to see the old loaded objects
[22:37:17] <jack> whether we reuse the data structures/threads is an implementation detail
[22:39:12] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[22:39:12] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 1400ffd09 to 14a01f6b9: 02http://git.io/c8GovQ
[22:39:12] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[22:39:17] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[22:39:17] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/0xdxfw
[22:39:17] <ghservo> 13servo/06auto 1456e5ba1 15Brian Anderson: Update for language changes
[22:39:17] <ghservo> 13servo/06auto 14bc520e0 15bors-servo: auto merge of #546 : brson/servo/master, r=metajack
[22:39:18] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:41:21] <jack> tikue: window.open() returns a window object you can use to acceess the dom of the other window
[22:41:40] <jack> that's why the runtime needs to be shared in that case.
[22:41:59] <jack> look at the example here: http://www.w3schools.com/jsref/met_win_open.asp
[22:42:07] <jack> after it opens the window, it calls document.write() directly
[22:42:33] <jack> and you can attach handlers to the other windows dom too i think
[22:42:48] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Quit: ZNC - http://znc.in)
[22:43:46] <jack> sully: can you test those examples I posted? you might have to patch the makefile depending on where your servo is built
[22:44:02] <jack> sully: they are here if you missed them: https://gist.github.com/metajack/5872317
[22:44:25] <jack> pcwalton: you might try and reproduce those too if you have a non-vm linux machine handy
[22:44:28] <tikue> jack: ok, it makes sense now. at least that part of it :)
[22:44:58] <jack> tikue: iframes are similar in that the original page has a handle to the DOM in the iframe
[22:45:35] <jack> and there are rules as to how these documents can interact
[22:45:44] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[22:46:04] <jack> but unless you create a window with window.open or have an iframe, all the pages are independent.
[22:46:12] <sully> jack: ok, what do I do to test this?
[22:46:14] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:46:20] <jack> both foward and backward in history and in multiple tabs
[22:46:49] <jack> sully: put those three files somewhere and type `make texlayer` and `./texlayer`
[22:47:06] <jack> it assumes you built servo in ~/src/servo/build
[22:47:18] <jack> (which is where it will look for rustc and the libs)
[22:47:22] *** Quits: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP) (Quit: lmandel)
[22:48:22] <sully> ok, it uh
[22:48:23] <sully> runs
[22:48:26] <sully> but just displays nonsense
[22:48:37] <jack> both of them? or just one?
[22:48:47] <sully> I think my video drivers might be screwed up, though
[22:48:56] <jack> `make texlayer_mt` and `./texlayer_mt` for the other one
[22:49:07] <jack> i get nonsense in _mt and a crash in the other
[22:49:21] <jack> (under VMware both run fine)
[22:49:29] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[22:50:24] <tikue> jack: do you have any input on how navigation context will fit into this? i.e. if a page uses window.open() and now you have two windows running on the same script task, they still need separate navigation contexts, but in every other case there will be exactly one navigation context per script, and usually many scripts per navigation context
[22:51:25] <jack> tikue: what you said makes sense
[22:53:03] <jack> you should draw some canonical examples
[22:53:42] <jack> like  a normal page, a page with a pop up window, a page with a popup window on a different origin, a page with an iframe, a page with an iframe on a different origin, a page with an iframe and a pop window
[22:54:24] <jack> (i think there's no need to draw the multiple tab general case, as that will also just be separate constellations, so whatever architecture you pick for these cases will just be repeated)
[22:54:25] <sully> ok, texlayer displayed bs
[22:54:33] <sully> and texlayer_mt caused X to hang
[22:54:38] <sully> and I had to reboot
[22:54:45] <jack> doh. i'm sorry about that
[22:55:05] <sully> I was going to say to blame ubuntu for disabling ctrl+alt+backspace by default
[22:55:16] <sully> but ctrl+alt+f1 also wasn't working to switch to a terminal
[22:55:16] <sully> so
[22:55:36] <jack> what are you running? i915 or i965?
[22:55:39] <jack> what distro?
[22:56:16] <sully> ubuntu 12.04
[22:56:19] <sully> which I suppose I should update.
[22:56:41] <sully> and using nouveau
[22:56:46] <sully> which I think is a mistake.
[22:58:08] <jack> so you have an nvidia card right? or is nouveau also for the intel cards?
[22:58:16] <sully> I have an nvidia card
[22:58:27] <sully> (I /also/ have an intel card, but currently only the nvidia one is on)
[22:58:37] <jack> do you see anything about intel_do_flush_locked?
[22:58:52] <jack> (when servo crashed for example)
[23:01:06] <sully> no
[23:01:31] <jack> ok. so it's not driver specific.
[23:01:34] <jack> that's good to know
[23:01:50] <jack> can you get a backtrace on the segfault?
[23:02:14] <jack> the intel cards don't cause a segfault, so you've actually got a better chance at getting more info than us :)
[23:02:52] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[23:02:52] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/0xdxfw
[23:02:52] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[23:06:14] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[23:06:14] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/DooMVQ
[23:06:14] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[23:06:17] <seth> eatkinson: hmm
[23:06:28] <seth> eatkinson: do you have a working build of servo with your float stuff right now?
[23:06:35] <seth> eatkinson: does http://www.cnn.com crash for you?
[23:07:06] <seth> eatkinson: i get a "Float position error" at float_context.rs line 196
[23:08:16] <jack> all: we are upgraded to new rust now. prepare for a LONG build
[23:08:56] <eatkinson> seth: i commented out that assertion in a later commit, but its not pushed yet
[23:11:14] <seth> noooo!!
[23:11:17] <sully> https://gist.github.com/msullivan/5872576 is my backtrace
[23:11:24] * seth starts rebasing again
[23:11:42] <seth> i almost made it!!
[23:12:22] <jack> sully: that's unexpected. it crashes in creating the gl context.
[23:14:06] <tikue> I think any given navigation context will only have a single active page at a time, which means there will only be one active script at any given time for that context. OTOH, a script can communicate with multiple active pages at a time, which means it will have multiple active navigation contexts. So it's necessary for the scripts to have a handle to those contexts. The contexts don't have to know specifically about the scripts -- just the pages
[23:14:22] <tikue> crap, I really need to rebase soon
[23:19:51] <brson> make clean-rust
[23:20:09] <seth> brson: so you can't do "pub impl" anymore?
[23:21:15] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[23:21:15] <ghservo> [13rust-alert] 15brson opened pull request #2: Merge master and master-upgrade branch (06master...06merge)  02http://git.io/dqTyog
[23:21:15] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[23:23:01] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[23:23:01] <ghservo> [13servo] 15brson opened pull request #547: Updgrade rust-alert (06master...06alert)  02http://git.io/gmWUJA
[23:23:01] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[23:23:17] <brson> seth: no. visibility is on methods only
[23:23:33] <brson> it's better for readers for impls to not be 'modal'
[23:23:44] <seth> brson: yeah, makes sense
[23:24:11] <brson> the sharegl merge has some macos conflicts and I don't have a mac today so I'm going to punt on it
[23:40:16] *** Quits: eholk (eholk@2D7AC318.BBEE78B7.ABD5273E.IP) (Quit: eholk)
[23:45:48] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[23:45:48] <ghservo> 01[13rust-alert01] 15metajack pushed 2 new commits to 06master: 02http://git.io/JXAgkA
[23:45:48] <ghservo> 13rust-alert/06master 1468875af 15Brian Anderson: Merge remote-tracking branch 'mozilla/master-upgrade'
[23:45:48] <ghservo> 13rust-alert/06master 14502ec15 15Jack Moffitt: Merge pull request #2 from brson/merge...
[23:45:49] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[23:48:05] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[23:48:05] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/DooMVQ
[23:48:05] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:48:07] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[23:48:08] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/OIBSZA
[23:48:08] <ghservo> 13servo/06auto 1470d9dd7 15Brian Anderson: Updgrade rust-alert
[23:48:08] <ghservo> 13servo/06auto 143defac6 15bors-servo: auto merge of #547 : brson/servo/alert, r=metajack...
[23:48:08] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
