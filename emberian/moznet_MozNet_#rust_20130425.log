[00:00:14] <strcat> bjz: dunno :)
[00:00:16] *** Parts: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) ()
[00:00:26] <friggle> it's kind of cheating if you have things you don't call keywords but have magic properties or restrictions
[00:00:34] *** Joins: Excureo (c@moz-DE8C33F1.static.yakm.wa.charter.com)
[00:00:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:00:54] <bjz> strcat: splitting into integer and fractional parts
[00:01:06] *** Quits: thou (thou@moz-D1EE62D4.sumnetsol.com) (Input/output error)
[00:02:00] *** Quits: mindginative (mindginati@moz-D3DCB8C6.dyn.cust.vf.net.nz) (Quit: brb)
[00:02:45] <strcat> bjz: for which type?
[00:02:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:03:07] <strcat> floats?
[00:03:09] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[00:03:27] <bjz> strcat: reals/rationals
[00:03:53] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[00:03:53] *** ChanServ sets mode: +o pcwalton
[00:05:11] *** Joins: mindginative (mindginati@moz-D3DCB8C6.dyn.cust.vf.net.nz)
[00:06:06] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[00:09:10] *** Joins: Jesin (Jessin_@moz-60120A2E.cc.lehigh.edu)
[00:11:04] <strcat> nmatsakis: btw, https://github.com/mozilla/rust/issues/5801 is definitely region-related
[00:11:28] <strcat> if there aren't regions it doesn't come up at all
[00:11:34] * strcat was unsure before
[00:11:51] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[00:12:14] <pcwalton> ok, I don't know if we can get below 23 LL(1) errors without changing the language a little bit
[00:12:42] <strcat> pcwalton: does 23 errors mean 23 cases in the whole codebase?
[00:12:50] <pcwalton> I mean 23 problems in the grammar
[00:12:55] <pcwalton> 23 FIRST/FOLLOW conflicts
[00:12:55] <strcat> oh
[00:13:13] <strcat> so there's actually a working formal grammar that can parse all of the code?
[00:13:28] <pcwalton> yeah, there is an ANTLR grammar and I'm porting it to Yapps
[00:13:32] <pcwalton> because Yapps is LL(1) only
[00:13:35] <strcat> nice :)
[00:14:23] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[00:14:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:15:54] *** Joins: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP)
[00:16:34] *** Joins: dbaupp (Thunderbir@moz-5BAD3C4A.lns20.syd7.internode.on.net)
[00:16:41] <strcat> rusti: iter::iter_to_vec
[00:16:43] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/YSOC
[00:17:17] <strcat> bjz: doesn't seem like anything has a name for it
[00:18:14] <nmatsakis> strcat: ok, I'll take a look at some point, I have some guesses as to what might cause that
[00:21:26] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[00:21:54] <aatch> Hey, so what be a good way of integrating an foreign io system into Rust? So I can do work that looks like it is blocking on a task, but actually isn't?
[00:23:56] <strcat> nmatsakis: meh I'm actually able to run into similar errors without regions
[00:24:06] <strcat> just by chaining multiple times
[00:24:17] <strcat>  Counter::new(0u, 5).take(10) <- works
[00:24:25] <strcat>  Counter::new(0u, 5).take(10).skip(2) <- wants a type hint
[00:24:37] * strcat shrugs
[00:25:13] <strcat> and the compiler segfaults :)
[00:26:44] <pcwalton> the compiler has been extremely unstable today
[00:28:44] <strcat> hmm I guess iter_to_vec(|f| uint::range(0, 10, f)) works too
[00:28:57] <strcat> really need to redo the rest of iter.rs
[00:32:42] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[00:37:33] <Sodel_the_V> Trying to use static strings feels like using a desk as a baseball bat. (Though, my n00biness probably has something to do with it.)
[00:37:55] <aatch> Sodel, what's the issue?
[00:39:14] <Sodel_the_V> Comparing a &~str (to satisfy vec::map()) with a &'static str. I'm having a real brain fart, it seems.
[00:39:47] *** Quits: guitsaru (guitsaru@A8985A22.5DF68D0E.4C2245EF.IP) (Client exited)
[00:40:05] <tjc> Sodel_the_V: you have to dereference the &~str with *; then you can use str::eq_slice
[00:41:06] <Sodel_the_V> Wait, eq_slice() ? :S
[00:41:23] <strcat> Eq needs the same type on each side
[00:41:51] <strcat> (the == operator)
[00:41:57] <strcat> it uses the type on the left side to decide which implementation to look for
[00:42:06] <strcat> rusti: "foo" == ~"foo"
[00:42:08] <rusti> true
[00:42:37] <strcat> rusti: ~"foo" == "foo" /* tries to look for an implementation of ~str == &str */
[00:42:39] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/dWiB
[00:43:19] <strcat> if it was clever enough to turn ~"foo" into a slice... :P
[00:43:35] <strcat> I think it could actually be solved pretty easily
[00:43:43] <strcat> just need to remove the implementation of Eq for ~str
[00:43:44] <strcat> and @str
[00:43:55] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[00:43:55] <strcat> force them to be compared as slices
[00:44:34] <strcat> I'll try that in a bit... but I have a feeling the compiler has stuff hardcoded
[00:45:59] <Sodel_the_V> Alright, that makes some sense. Thanks for the explanation. Rust and I are still getting acquainted. :-)
[00:46:14] <strcat> rough spot in the language :)
[00:48:18] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[00:48:46] <Sodel_the_V> Especially to someone coming from the "flower-child" typing philosophies of dynamic languages and C. :P
[00:49:09] <tjc> I don't think of C as so much having a flower-child typing philosophy as an Oscar the Grouch typing philosophy
[00:49:27] <strcat> tjc: https://github.com/mozilla/rust/pull/6051 r?
[00:49:33] <Sodel_the_V> Haha! I like that.
[00:49:47] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:49:47] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/FygXHA
[00:49:47] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:49:50] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:49:50] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/cwXEgg
[00:49:50] <ghrust> 13rust/06auto 14a74aca5 15Niko Matsakis: Remove needless FIXME. Fixes #2811.
[00:49:50] <ghrust> 13rust/06auto 140c6f9a8 15bors: auto merge of #6052 : nikomatsakis/rust/remove-2811, r=catamorphism...
[00:49:50] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:49:52] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Computer has gone to sleep.)
[00:50:54] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[00:51:20] <strcat> oh pcwalton got to it at the same time
[00:51:26] <strcat> you get to race to all my pulls ;p
[00:51:48] <pcwalton> ok, I'm stuck with unsafe { ... } and unsafe fn ...
[00:51:53] <pcwalton> can't reduce the LL(1) conflict
[00:51:57] <pcwalton> inside a block
[00:53:01] *** Joins: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net)
[00:54:32] <strcat> pcwalton: can it parse 'unsafe fn' as a token? or does that not work
[00:54:50] <strcat> are there other things that can be mixed in at the front?
[00:54:53] <pcwalton> strcat: it could but that would be kind of messed up
[00:54:55] <pcwalton> I mean
[00:55:02] <pcwalton> that's a pretty big hack :)
[00:55:13] <strcat> I guess :P
[00:55:15] <strcat> #[unsafe] ?
[00:55:25] <pcwalton> or rename the block to trust { ... }
[00:55:27] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[00:55:29] <pcwalton> like I wanted to do originally
[00:56:08] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Computer has gone to sleep.)
[00:57:32] <tjc> Is anyone else getting "task ran out of stack" when building incoming with no local changes?
[00:57:35] <tjc> 0_o
[01:00:31] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[01:00:33] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Connection reset by peer)
[01:00:38] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[01:01:00] *** Quits: engla (engla@moz-E4A8CEF5.customer.cdi.no) (Ping timeout)
[01:01:26] *** Joins: kane (Mibbit@moz-10CABA48.cpe.distributel.net)
[01:01:33] <doomlord> are there things you can do with rust blocks |x|{...} that you can't do with C++11 lambdas - i read somethign about polymorphic lambdas not being there or somethig in c++..
[01:02:11] <tjc> doomlord: blocks in Rust aren't polymorphic either; only named items in Rust can have type parameters, as there are no general polymorphic types
[01:02:36] <strcat> rust's closures are fairly similar to lambdas + std::function in C++
[01:02:44] <strcat> a C++ lambda is like &fn in rust
[01:02:53] <strcat> if you box it in std::function, it becomes like ~fn
[01:03:08] <doomlord> ah thre is a difference between fn(x){ ..}  and |x|{...} aswell ?
[01:03:17] <doomlord> blocks are more for control flow ?
[01:03:31] <strcat> the closure syntax with |x| can capture state and has the signature inferred
[01:04:06] <strcat> also - C++ lambdas can't capture by-move but rust's closures will be able to (doesn't really work right now)
[01:04:08] *** Quits: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP) (Quit: Places to go, people to annoy)
[01:04:49] <doomlord> i dont think C++ has the type of HOFs i like out of the box, (or maybe i didn't look properly). 
[01:04:57] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Input/output error)
[01:05:06] <doomlord> i messed with making some myself though, and i'm sure there's existing libraries
[01:05:20] <strcat> doomlord: well std::function is pretty much exactly like ~fn in rust
[01:05:44] <strcat> void foo(std::function<void(int, int>)> func) { func(5, 2) }
[01:05:52] <doomlord> something i tried in c++ was composing hofs with laziness e.g. collection.filter(predicate).map(something).do() /* returns a new collection */
[01:06:10] <strcat> doomlord: well, boost range does that
[01:06:12] <strcat> and works with lambdas
[01:06:22] <strcat> rust's new iterator module is like boost range
[01:06:38] <kane> Does anyone know of a multi-platform graphics engine project in rust? I'd like to play with making a client for my game, but I want to avoid using a specific opengl implementation 
[01:06:59] <strcat> doomlord: the algorithms in the stdlib work with lambdas but they use an output iterator instead of returning a composable iterator
[01:07:14] * strcat hates output iterators ;p
[01:07:23] <doomlord> i dont like iterators either.
[01:07:41] <doomlord> i like HOFs from the perspective of thinking about parallelizing code. iterators to me are more serial
[01:07:43] <strcat> C++ iterators are really annoying and needlessly hard to use right
[01:07:52] <strcat> since you have a start iterator and an end iterator
[01:08:11] <doomlord> from the name i'm guessing boost:;range is both start and end
[01:08:15] <strcat> yeah
[01:08:22] <strcat> as are the iterators in rust's iterator module
[01:09:12] <doomlord> i wonder if rust has the ambition of being able to generate fine-grain data parallel code from maps/filters etc 
[01:09:36] <doomlord> SIMD? ... seen the haswell gather instructions :)
[01:11:56] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[01:13:17] *** Quits: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP) (Quit: Leaving.)
[01:13:33] * bjz feels like he's going insane
[01:13:52] *** Quits: kane (Mibbit@moz-10CABA48.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:14:02] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[01:14:10] * bjz he wonders why floor and ceil seem to be flipped (intrinsics and cmath)
[01:14:58] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[01:14:58] *** ChanServ sets mode: +o pcwalton
[01:15:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:15:46] <aatch> so spawn_sched creates a new scheduler unless you pass it CurrentScheduler, right?
[01:16:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:17:02] <strcat> heh this search-and-replace went pretty terribly
[01:17:13] <strcat> accidentally turned writer:: into wrold_iter::
[01:17:35] <aatch> s/\<iter\>/old_iter/
[01:17:42] <strcat> too late! ;p
[01:17:46] * strcat just fixed the writers
[01:17:49] *** kimundi is now known as zz_kimundi
[01:17:55] <aatch> I do that all the time.
[01:18:06] <strcat> aatch: I wanted to catch ::iter:: too so.. I thought laziness would work
[01:18:10] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Connection reset by peer)
[01:18:49] <aatch> wouldn't word boundaries still work with that though?
[01:18:59] <strcat> yeah
[01:19:02] <strcat> but I was too silly to realize that
[01:19:23] *** Quits: igl1 (igl@moz-5FA8D883.adsl.alicedsl.de) (Connection reset by peer)
[01:19:24] * aatch would have done the same thing tbh
[01:19:34] * strcat just ends up doing 'git ls-files | xargs sed -i s/cross/fingers/' all the time
[01:20:51] <strcat> a working pretty printer would save me the trouble of fixing all the function signatures after too :P
[01:21:41] <strcat> ends up messing with the hanging indent style line wrapping
[01:21:57] *** Joins: cuemin (Quemin@30C25EB7.8F293D07.59A90BC7.IP)
[01:22:38] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[01:22:57] <aatch> Any way to share immutable data between tasks? Without it being copied or in static?
[01:23:18] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Ping timeout)
[01:23:26] <strcat> aatch: ARC
[01:23:37] * strcat hasn't used it though :)
[01:23:40] <aatch> knew you were gonna say that.
[01:23:56] <pcwalton> down to 6 LL(1) errors
[01:24:10] <SiegeLord> Is the Rust style guide going to be enforced for rustpkg packages?
[01:24:37] <aatch> SiegeLord, I hope not, at least not too seriously.
[01:25:36] <doomlord> would there theoretically be a way of doing shared immmutable data in a way more 'integrated' with the core language e.g. some sort of freezing (data in the exchange heap owned by a "main" task, its frozen as immutable at which point its readable by *all* tasks, and unfrozen when all tasks release their references)
[01:25:57] <doomlord> or does ARC already do it all
[01:26:35] <aatch> doomlord, I /think/ ARC already does it.
[01:27:07] <sp3d> presumably you can do something unsafe and use synchronization primitives yourself, but I'd expect ARC to be fine unless you profile and notice reference twiddling overhead is somehow problematic (if most of those can't be eliminated in ARC)
[01:28:13] <strcat> foo.rs:20:50: 20:51 error: mismatched types: expected `&fn(&int) -> bool` but found `&fn(+:<V358>) -> bool` (lifetimes do not intersect)
[01:28:15] <strcat> foo.rs:20     let zs = iter_to_vec(|f| xs.intersection(&ys, f));
[01:28:18] <strcat> heh
[01:28:22] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[01:28:22] *** ChanServ sets mode: +o nmatsakis
[01:28:41] <aatch> <V358>!
[01:28:57] <aatch> That is a lot of unknown types
[01:29:24] <strcat> nmatsakis: not sure if I found a bug or made a mistake http://ix.io/5kF -> http://ix.io/5kG
[01:30:01] <strcat> oh I don't have a region annotation on intersection
[01:30:05] <strcat> just a really bad error ;p
[01:30:13] <bjz> strcat: this is meant to be right huh? assert_fuzzy_eq!(-1.3f64.floor(), -2.0f64);
[01:30:33] <strcat> bjz: don't think so..
[01:30:36] <strcat> oh
[01:30:37] <strcat> yes
[01:30:39] <strcat> it is
[01:30:42] <bjz> :S
[01:30:42] * strcat didn't see floor
[01:30:57] <aatch> is floor round to 0 or -Inf?
[01:31:04] <strcat> -inf
[01:31:06] <strcat> or it's trunc ;p
[01:31:38] <bjz> The values were not approximately equal. Found: -1 and -2
[01:31:48] <bjz> (my own macro)
[01:31:59] <strcat> uhh... isn't that not floor?
[01:32:01] <aatch> I get confused with numbers now that I've done more maths. I find the idea that -2 and 2 being the same size, perfectly reasonable.
[01:32:27] <aatch> So it takes me a moment to work out stuff like -2 < 1
[01:32:27] <bjz> strcat: I thought floor rounded down to -inf
[01:32:37] <strcat> it must
[01:32:39] <strcat> or it's trunc...
[01:32:55] <strcat> C has trunc/floor/ceil
[01:32:58] <bjz> strcat: but my floor impl isnt
[01:33:17] <strcat> doesn't it just use LLVM's floor?
[01:33:22] <bjz> strcat: my floor is: fn floor(&self) -> f64 { floor(*self) }
[01:33:39] <strcat> where does floor come from?
[01:33:40] <bjz> strcat: which in turn is: fn floor(x: f64) -> f64 = intrinsics::floorf64,
[01:33:54] *** Joins: cretz (Mibbit@moz-296F4F9C.dal05.softlayer.com)
[01:34:00] <strcat> http://llvm.org/docs/LangRef.html#llvm-floor-intrinsic
[01:34:04] <strcat> llvm has floor/trunc/ceil too
[01:34:15] <strcat> doesn't seem good ;\
[01:34:26] <Luqman> llvm floor intrinsic should mimic libm's floor
[01:34:34] <aatch> Luqman, it does.
[01:34:49] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:34:49] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/cwXEgg
[01:34:49] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:34:56] <aatch> floor is "return the largest integral value that is not greater than x"
[01:35:05] <aatch> http://linux.die.net/man/3/floor
[01:35:10] <bjz> strcat: the weird thing is that going ceil is the opposite
[01:35:10] <bjz> fn ceil(n: c_double) -> c_double = c_double_utils::ceil,
[01:35:13] <heftig> just to be sure, the unary minus has greater precedence than the method call?
[01:35:26] <bjz> so it seems like ceil <->floor for some reason
[01:35:28] <bjz> :S
[01:35:30] <strcat> rusti: -5.add(&2)
[01:35:31] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/BIBC
[01:35:38] <strcat> rusti: -5i.add(&2)
[01:35:40] <rusti> -7
[01:36:02] <bjz> rusti: f64::floor(-1.3)
[01:36:02] <heftig> woo, found problem
[01:36:02] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Input/output error)
[01:36:03] <rusti> -2
[01:36:06] <aatch> hang on.
[01:36:14] <pcwalton> nmatsakis: Rust requires 4 tokens of lookahead :)
[01:36:22] <pcwalton> your change made that happen
[01:36:22] <bjz> rusti: f64::ceil(-1.3)
[01:36:23] <rusti> -1
[01:36:29] <bjz> :S
[01:36:38] <bjz> it's fine on rusti
[01:36:46] <heftig> assert_fuzzy_eq!((-1.3f64).floor(), -2.0f64);
[01:36:55] <heftig> needs more parentheses
[01:37:02] <strcat> bjz: rusti is 0.6
[01:37:13] <nmatsakis> pcwalton: do we know what's the worst case example?
[01:37:19] <pcwalton> yup
[01:37:23] <pcwalton> fn foo(&'a mut self, ...)
[01:37:26] <bjz> heftig: assert_fuzzy_eq is a local macro that I made
[01:37:29] <pcwalton> consider that arguments are patterns
[01:37:30] <pcwalton> a
[01:37:37] <pcwalton> and & is part of the pattern grammar...
[01:37:44] <pcwalton> although maybe the lifetime there doesn't make it so bad
[01:37:45] <nmatsakis> pcwalton: oh, yes.  I remember thinking that as I wrote the code in the parser to parse it
[01:37:50] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:37:50] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0X-_uw
[01:37:50] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:37:50] <bjz> heftig: OHHHH
[01:37:53] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:37:53] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/S5FA3w
[01:37:53] <ghrust> 13rust/06auto 1411d04d4 15Daniel Micay: add a Counter iterator
[01:37:53] <ghrust> 13rust/06auto 141d53bab 15bors: auto merge of #6051 : thestinger/rust/iterator, r=catamorphism,pcwalton
[01:37:53] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:37:58] <bjz> heftig: THANKYOU!
[01:38:02] <bjz> :D
[01:38:11] <strcat> heh
[01:38:13] <aatch> Woo, maths isn't broken
[01:38:20] * bjz is not sorry for caps
[01:38:25] <strcat> heftig: you know, I had no idea that's what you were talking about :)
[01:38:48] <Luqman> nmatsakis: any idea how to better do the mut rvalues. passing around a bool doesn
[01:38:51] <heftig> that's a pretty ugly gotcha, though
[01:38:54] <Luqman> 't seem the best way to do it
[01:38:56] <pcwalton> maybe it's only 2 tokens.
[01:39:00] <aatch> strcat, it took me a moment too. I figured he was just asking a question.
[01:39:23] <strcat> haskell just refuses to parse stuff in those cases
[01:39:28] <strcat> -5.foo() -> error
[01:39:32] <strcat> (-5).foo()
[01:39:35] <nmatsakis> Luqman: tbh, best way is prob to wait until #5074 is landed... we should be able to just declare rvalues mutable, I think.
[01:39:38] <strcat> well, similar cases :)
[01:39:43] <strcat> like 'foo 2 -3'
[01:39:59] <nmatsakis> Luqman: I meant to spend some time thinking of another sol'n than the one you did
[01:40:25] <nmatsakis> Luqman: but I didn't get too far, only thing I could think of was setting some flags in a hashtable instead of passing down the bool, but that's kind of six in one, half-a-dozen in the other
[01:40:32] <bjz> heftig: I will have a functional wrapper for each function too
[01:40:50] <strcat> meh I can't get iter_to_vec to work at all with ptes
[01:40:52] <strcat> ptrs*
[01:41:07] <Luqman> nmatsakis: i think the initial one i had was the quickest fix but probably not the best
[01:41:28] <bjz> heftig: so you'd still be able to do f64::floor(-1.3)
[01:41:43] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[01:41:51] <aatch> hmm, I wonder how easy it would be to add a warning about the unary minus in those cases would be
[01:42:08] <strcat> bjz: I don't think you should make wrappers, just wait for the function reform to happen
[01:42:19] <strcat> and T::method(a, b) will work along with a.method(b)
[01:42:20] <bjz> strcat: mmk
[01:42:53] <strcat> aatch: making it not parse seems better than a warning
[01:43:02] * strcat shrugs
[01:43:19] <sp3d> is there syntax like (1.3).floor()?
[01:43:28] <strcat> yes that works
[01:43:37] <strcat> (-5.2).floor()
[01:43:47] <nmatsakis> Luqman: have to get to bed now, can we discuss tomorrow?
[01:43:58] <Luqman> sure, g'night
[01:44:04] <aatch> the grammar is expr.call(args) (or something close to that)
[01:44:22] <strcat> nmatsakis: I think generic params just lose regions in some cases.
[01:44:38] <aatch> but unary  minus is -(expr), with a method call being an expression.
[01:44:54] <strcat> &'r int goes in but at some point it starts treating it as &int
[01:45:12] <strcat> maybe in all cases
[01:45:28] <strcat> pub fn iter_to_vec<T>(pusher: &fn(it: &fn(T) -> bool)) -> ~[T] {
[01:45:40] <strcat> foo.rs:12:37: 12:38 error: mismatched types: expected `&fn(&int) -> bool` but found `&fn(+:<V222>) -> bool` (lifetimes do not intersect)
[01:45:41] <strcat> foo.rs:12     let zs = iter_to_vec(|f| xs.each(f));
[01:45:43] <strcat> oh well
[01:46:39] *** Joins: akash__ (akash@54B1C266.45783465.35E3DDC8.IP)
[01:47:25] *** Quits: akashj87_ (akash@AD8413D5.7FACFDC5.35E3DDC8.IP) (Ping timeout)
[01:47:55] *** Quits: KindOne (KindOne@moz-9E128D28.dynamic.ip.windstream.net) (Quit: ...)
[01:49:17] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[01:51:19] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[01:52:54] <bjz> yay!
[01:53:00] <bjz> passed the tests
[01:53:06] <bjz> thanks heftig
[01:54:35] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[01:55:22] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[01:55:48] *** Joins: kvark (Mibbit@moz-46F48A13.cpe.distributel.net)
[01:56:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:57:53] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[02:02:55] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[02:02:55] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[02:02:58] <bjz> could I have a review if anybody's free? https://github.com/mozilla/rust/pull/6048
[02:04:44] <cmr> Why are the constants functions? Ie, pi(), two_pi()?
[02:04:55] <pcwalton> cmr: because we don't have associated constants yet
[02:05:00] <pcwalton> and probably won't in 1.0
[02:05:03] <cmr> Ah
[02:05:31] <cmr> That's a shame. Hard to implement?
[02:05:54] <pcwalton> no, it's just that we have too much on our plate right now and we have to focus on other things besides language features if we want to ship 1.0
[02:05:59] <pcwalton> that's just my feeling anyway
[02:06:29] <bjz> yeah
[02:06:45] <bjz> poor devs :( they do the best they can
[02:06:50] <pcwalton> maybe once we have a working package manager and pretty printer and the compiler isn't ICEing so much
[02:06:55] <bjz> heh
[02:07:02] <cmr> Does 1.0 correspond to maturity #2 or a lot earlier?
[02:07:06] <bjz> yeah much more important things
[02:07:19] <aatch> And it building nicely with clang on my setup: https://github.com/mozilla/rust/pull/5646
[02:07:41] <aatch> I forgot about it for a while.
[02:07:48] <Thad> brson:  So... not much luck, even when I point LLVM / Clang in the right direction... http://pastebin.mozilla.org/2344708
[02:07:50] <bjz> cmr as stated on my PR, I still have the constants there
[02:08:16] <bjz> cmr: so if they are needed at compile time you can use them
[02:09:50] <SiegeLord> Will this lead to backwards incompatible changes with associated items are implemented?
[02:10:15] <cmr> SiegeLord: not according to "Associated items cont" blog post (http://smallcultfollowing.com/babysteps/blog/2013/04/03/associated-items-continued/)
[02:10:47] <strcat> SiegeLord: library ones
[02:10:54] <SiegeLord> I see
[02:10:56] <bjz> SiegeLord: *perhaps* on the library side of things
[02:11:34] *** Quits: seth (seth@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net) (Input/output error)
[02:11:47] <EXetoC> bjz: so, when will there be an oddysey engine for Rust? :>
[02:12:01] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[02:12:25] <bjz> EXetoC: well hopefully I can get this numeric stuff done, and nuke numeric-rs
[02:13:05] <bjz> EXetoC: and then I can get onto cg maths again
[02:13:38] <bjz> EXetoC: but yes, I really want to kill my deformed, ugly baby :)
[02:13:48] <bjz> (that is numeric-rs)
[02:14:31] <brson> Thad: from llvm's configure script it looks like compiling something like this is part of the clang test https://gist.github.com/brson/5456999
[02:14:48] <brson> There are also some other includes it tests for that aren't obvious from reading the script
[02:14:50] <EXetoC> oic
[02:15:15] *** Joins: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP)
[02:15:30] <sanxiyn> Commented on SIMD and OpenCL:
[02:15:32] <bjz> pcwalton: cheers
[02:15:34] <sanxiyn> SIMD: https://github.com/mozilla/rust/pull/5841
[02:15:40] <sanxiyn> OpenCL: https://github.com/mozilla/rust/issues/3814
[02:15:47] <sanxiyn> (I reused an old issue for OpenCL)
[02:16:31] <Thad> brson: let me try to compile that, ok.
[02:16:37] <bjz> sanxiyn: do you know anything about implementing a fast rsqrt?
[02:16:52] <sanxiyn> bjz: You mean, in software?
[02:17:03] <brson> pcwalton: TESTNAME=vec?
[02:18:21] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[02:18:25] <bjz> sanxiyn: as in taking advantage of ASM commands... I think
[02:18:25] <bjz> sanxiyn: my Real trait has an rsqrt, but it's implemented naively atm
[02:18:31] <bjz> sanxiyn: I believe you can accessthe hardware commands for that
[02:18:53] <sanxiyn> Yes
[02:19:12] <sanxiyn> bjz: SSE has RSQRTSS
[02:19:17] <sanxiyn> That's it
[02:20:06] *** Quits: akash__ (akash@54B1C266.45783465.35E3DDC8.IP) (Quit: Leaving)
[02:20:12] <bjz> sanxiyn: yup
[02:20:23] <bjz> sanxiyn: do you have any idea how to go about that?
[02:20:30] <bjz> sanxiyn: it's abit over my head
[02:20:47] <sanxiyn> I thought it was available as an LLVM intrinsic
[02:20:55] <Luqman> bjz: https://gist.github.com/luqmana/5457029
[02:21:09] <Thad> brson: closer now.... limits file not found... hmmm... http://pastebin.mozilla.org/2344730
[02:21:25] <sanxiyn> Yes, inline asm also works
[02:21:46] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[02:21:49] <sanxiyn> bjz: I can write a NEON version :)
[02:21:59] <sanxiyn> (NEON does it in two steps, so a bit different)
[02:22:47] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[02:22:57] <bjz> Luqman: woops
[02:23:06] <bjz> Luqman: thanks!
[02:23:17] <bjz> Luqman: do you mind me stealing that?
[02:23:50] <bjz> Luqman: or you can do the honours
[02:24:04] <sanxiyn> bjz: http://en.wikipedia.org/wiki/Fast_inverse_square_root is a often cited software fallback
[02:24:17] <bjz> If you want your name on it, that is :)
[02:24:18] <sanxiyn> (credited to Carmack, but it isn't)
[02:24:26] <Luqman> bjz: by all means, go ahead :P
[02:24:47] <bjz> sanxiyn: yeah I've seen stackoverflow threads that say it's out-dated
[02:24:56] <cmr> yay my first ICE \o/
[02:25:06] <bjz> cmr: first of many
[02:25:14] <bjz> cmr: it's a right of passage
[02:25:18] <cmr> lol
[02:25:18] <sanxiyn> bjz: Yes, if hardware support is available, hardware is faster (of course)
[02:25:40] <bjz> Luqman: would I need ome sort of hardware guard?
[02:25:48] <sanxiyn> bjz: For x86-64, no
[02:25:58] <sanxiyn> x86-64 is guaranteed to have RSQRTSS
[02:26:02] <strcat> bjz: if you use the LLVM intrinsic it will use the right SSE instruction if the hardware supports it
[02:26:12] *** Quits: int3_ (int3_@moz-432A7121.public.wayport.net) (Ping timeout)
[02:26:17] <Luqman> i don't think llvm had a rsqrt intrinsic
[02:26:27] <bjz> strcat: nope
[02:26:31] <sanxiyn> LLVM doesn't
[02:26:33] <bjz> we looked, believe me
[02:26:35] <strcat> :[
[02:26:38] *** Joins: int3_ (int3_@moz-432A7121.public.wayport.net)
[02:26:56] <bjz> sanxiyn: does ARM have one?
[02:27:26] <sanxiyn> bjz: yes (a bit different, as I already said)
[02:27:35] <sanxiyn> VRSQRT*
[02:27:46] <bjz> sanxiyn: ahh sorry
[02:27:49] <bjz> sanxiyn: we coulkd have another for that
[02:28:46] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:28:46] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/S5FA3w
[02:28:46] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:28:53] <bjz> sanxiyn: what would the equivalent asm be? https://gist.github.com/luqmana/5457029#file-rqsrt-rs-L10
[02:29:14] *** Quits: int3_ (int3_@moz-432A7121.public.wayport.net) (Ping timeout)
[02:30:44] *** Joins: int3_ (int3_@moz-432A7121.public.wayport.net)
[02:31:48] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:31:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Ss-m_Q
[02:31:48] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:31:50] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:31:50] <ghrust> 01[13rust01] 15bors pushed 38 new commits to 06auto: 02http://git.io/ODQwSw
[02:31:50] <ghrust> 13rust/06auto 14e47ee77 15Brian Anderson: wip
[02:31:50] <ghrust> 13rust/06auto 146a5c4f6 15Brian Anderson: core::rt: Just some poking at the I/O docs
[02:31:50] <ghrust> 13rust/06auto 141f97e6d 15Brian Anderson: rt: Add rust_dbg_next_port for generating test port numbers
[02:31:51] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:32:06] <sanxiyn> bjz: I will do it later
[02:32:11] <sanxiyn> It needs multiple instructions
[02:32:33] <sanxiyn> NEON has instructions for making an initial estimate, and improving an estimate
[02:32:42] <bjz> sanxiyn: cheers
[02:32:56] <sanxiyn> (So you actually need to square the estimate to get the error, etc.)
[02:33:06] <bjz> sanxiyn: I'll do rsqrtss in the mean time
[02:33:12] <sanxiyn> yup
[02:36:42] <dbaupp> we could add an rsqrt intrinsic to llvm: http://llvm.org/docs/ExtendingLLVM.html#intrinsic-function
[02:37:37] <sanxiyn> Yes we probably should...
[02:37:43] <strcat> they might not accept it upstream
[02:37:59] <strcat> they like having only really common things as intrinsics
[02:38:07] <cmr> So if I modify, say, vec.rs, and run "make check"... is it going to do a full rebuild, or will I be spared that misery?
[02:38:23] <strcat> cmr: it will do a full rebuild
[02:38:27] <strcat> the compiler uses libcore
[02:38:27] <aatch> cmr, it will do a full rebuild
[02:38:36] <strcat> cmr: you can build just core.rc with --test
[02:38:38] <dbaupp> rsqrt is pretty common for computer graphics, isn't it?
[02:38:57] <strcat> cmr: but then you won't see errors you generated in the compiler codebase
[02:39:02] <doomlord> normalizing yes
[02:39:09] <strcat> dbaupp: might not be their view of common :)
[02:39:10] <sanxiyn> More importantly, it is common to many architectures. At least X86, ARM, PowerPC have it
[02:39:23] <cmr> I just added a doc comment and moved one around, I'm not too worried about anything breaking
[02:39:26] <sanxiyn> So it makes sense to have architecture-neutral one
[02:39:30] <strcat> keep in mind that they don't have an intrinsic for memcmp because they don't view it as common enough
[02:39:43] <sanxiyn> strcat: Oh
[02:39:57] <doomlord> a good intrinsic to have would be 4x4 transpose
[02:39:58] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[02:40:03] <doomlord> mapping onto the appropriate permutes
[02:40:12] <strcat> sanxiyn: who knows though, maybe they'd accept it
[02:40:29] <doomlord> (if you can make an   intrinsic that takes 4 128bit registers and outputs 4 128bit registers)
[02:40:40] <sanxiyn> doomlord: Well, LLVM already has shufflevector (not an intrinsic! first-class instruction!) and they would say to just use it
[02:40:47] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:40:47] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145e20393 to 141d53bab: 02http://git.io/N3iJvQ
[02:40:47] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:40:48] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:40:48] <ghrust> 01[13rust01] 15bors pushed 9 new commits to 06auto: 02http://git.io/E7bWcg
[02:40:48] <ghrust> 13rust/06auto 14593bdd9 15Brendan Zabarauskas: Fix incorrect replacement of `modulo` with `rem`
[02:40:48] <ghrust> 13rust/06auto 1403932f0 15Brendan Zabarauskas: Move impls of `Num` out of core::num and clean up imports
[02:40:48] <ghrust> 13rust/06auto 14d4868ee 15Brendan Zabarauskas: Use #[cfg(not(stage0))] to exclude items from stage0...
[02:40:50] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:41:01] <bjz> yay
[02:41:03] <doomlord> well my reasoning is the specific way of doing 4x4 transpose can vary between architectures
[02:41:21] <sanxiyn> doomlord: No, not really
[02:41:26] <doomlord> actually are the most recent ones much more consistent
[02:41:30] <dbaupp> bjz: good work on all the num stuff :)
[02:41:47] <bjz> dbaupp: cheers
[02:41:48] <sanxiyn> doomlord: Eh, with IR you *specify* the result you want, and figuring out how to optimize that is LLVM's work
[02:42:03] <sanxiyn> Since you can specify the result, IR extension is unnecessary
[02:42:22] <bjz> dbaupp: if you have any suggestions, feel free to post on the issue
[02:42:38] <bjz> dbaupp: or criticisms/code reviews etc
[02:43:06] <doomlord> but if you specify at a slightly higher level LLVM has more to work with - eg  if there are faster ways of doing that transpose... maybe ones that use less control data (permute-control words)
[02:43:51] <sanxiyn> doomlord: That is true, but this is mostly well understood instruction selection
[02:44:00] <bjz> dbaupp: this is me http://i2.kym-cdn.com/photos/images/original/000/234/739/fa5.jpg
[02:44:00] <dbaupp> bjz: I wish we had associated items (that's my only suggestion ;P )
[02:44:10] <bjz> dbaupp: heh yes
[02:44:20] <bjz> dbaupp: they will come eventually
[02:44:29] <doomlord> (a while back i seem to remember the method on intel was different to powerpc)
[02:44:46] <doomlord> but i guess recent SSE versions can do more of what altivec could
[02:44:59] <doomlord> and probably beyond by now
[02:45:50] <sanxiyn> doomlord: No optimal method is still different
[02:46:00] <sanxiyn> But it is not difficult for compiler to figure it out
[02:46:08] <sanxiyn> (It is standard instruction selection)
[02:46:12] <dbaupp> bjz: haha... don't worry, there's multiple people watching the num stuff, so any problems will get pointed out
[02:47:23] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Client exited)
[02:47:30] * bjz has performance anxiety
[02:47:34] <bjz> :P
[02:48:57] <Thad> brson: Ah ha.. unwind rears it's head ???  but perhaps it's a gcc 4.5.3 thing ?  I could upgrade to 4.7.2 ... ah wait, looks like Cygwin install enforces 4.5.3 when you have Clang 3.1 picked.... is that correct I wonder...here's pastebin: http://pastebin.mozilla.org/2344765 
[02:49:45] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[02:50:13] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[02:51:54] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[02:53:34] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:54:03] <Thad> brson: hmm... Yury says that clang header paths are hard-coded at compile time and need adjustment whenever there's a new GCC version .... perhaps I'm bitten by this ? or it's a Cygwin installer bug ? https://bugzilla.redhat.com/show_bug.cgi?id=893817
[02:55:17] <sanxiyn> Thad: Yes it does (re: update needed for new GCC)
[02:55:22] <aatch> Thad, I think you can use -isystem to tell it the right path though.
[02:55:33] <sanxiyn> I added some in the past when Debian switched to multiarch
[02:55:57] <sanxiyn> aatch: As I understand it is not just for headers...
[02:56:14] <aatch> Oh, ok then
[02:57:03] <sanxiyn> It used to be the case that Clang needed GCC crt1.o (which is responsible for calling C's main(): kernel does not know about main)
[02:57:09] <sanxiyn> But maybe now compiler-rt can do that?
[02:57:10] <sanxiyn> No idea
[02:58:15] *** Quits: zz_kimundi (kimundi@moz-C50B7F5D.dip0.t-ipconnect.de) (Ping timeout)
[02:58:17] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[02:58:50] *** Quits: catpig (catpig@moz-5788CCC.dip0.t-ipconnect.de) (Quit: Verlassend)
[03:00:47] <sanxiyn> See also http://dev.gentoo.org/~vapier/crt.txt
[03:01:20] *** Joins: zz_kimundi (kimundi@moz-84D59F59.dip0.t-ipconnect.de)
[03:01:21] <sanxiyn> Not sure what's going on Windows. Windows has msvcrt?
[03:01:39] *** zz_kimundi is now known as kimundi
[03:01:44] *** Joins: cuemin_ (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP)
[03:01:58] *** Joins: z0w0 (zack@moz-FFC12EAF.lnse1.cha.bigpond.net.au)
[03:02:47] *** Quits: cuemin (Quemin@30C25EB7.8F293D07.59A90BC7.IP) (Ping timeout)
[03:03:09] <sanxiyn> brson: Thank you for minutes
[03:03:27] <sanxiyn> You attributed my words to yichoi on FFI issue
[03:04:19] <brson> sanxiyn: sorry. it's hard for me to tell who is talking sometimes
[03:04:41] <sanxiyn> Me too :)
[03:04:42] <bjz> sanxiyn: my cfg should be for x86_64 right? it's not garunteed on x86? #[cfg(target_arch = "x86_64")]
[03:04:52] <sanxiyn> bjz: It is not guaranteed on x86
[03:04:58] <brson> sanxiyn: who is 'ryan'?
[03:05:12] <sanxiyn> brson: https://github.com/ryanhc
[03:05:22] <sanxiyn> You haven't seen him on the issue tracker yet, AFAIK
[03:05:50] <cmr> Someone with a few minutes r https://github.com/mozilla/rust/pull/6055 ? Should be superquick
[03:06:10] <sanxiyn> brson: He is the one who talked about scope of Servo as a browser engine (without UI)
[03:07:57] <brson> cmr: thanks, I r+'d
[03:08:06] <cmr> thanks :)
[03:08:53] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[03:11:31] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[03:17:34] <bjz> Luqman: so is rsqrtss f32 only?
[03:20:18] *** Quits: kvark (Mibbit@moz-46F48A13.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:20:47] *** Quits: cuemin_ (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP) (Ping timeout)
[03:20:58] *** Joins: cuemin_ (Quemin@9BDB80AA.8F293D07.59A90BC7.IP)
[03:21:41] <olsonjeffery> brson: bravo, re: the io email
[03:23:01] <olsonjeffery> im disapointed that i haven't been of much use, here. you're making great progress.
[03:23:04] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[03:29:17] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:31:25] *** Joins: cuemin__ (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP)
[03:32:34] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[03:32:45] *** Quits: cuemin_ (Quemin@9BDB80AA.8F293D07.59A90BC7.IP) (Ping timeout)
[03:35:28] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Ping timeout)
[03:37:45] <cmr> Is there a less verbose way to express &(*v as T) ?
[03:48:01] <aatch> cmr does v as &T work?
[03:49:28] *** Joins: cuemin (Quemin@9EA2DD1C.8F293D07.59A90BC7.IP)
[03:50:17] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[03:50:21] *** Quits: cuemin__ (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP) (Ping timeout)
[03:50:36] <cmr> aatch: Not for this, I had tried it, and expected it to work, but "error: non-scalar cast: `&u8` as `&char`". Which I suppose makes sense, since a char is wider than a u8
[03:51:10] <aatch> Oh, you're doing a numeric cast
[03:51:20] <aatch> I thought you might be doing a trait cast.
[03:51:31] <cmr> No, sorry
[03:51:36] <aatch> In that case there isn't an easier was as far as I know.
[03:51:42] <aatch> s/was/way
[03:52:27] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[03:53:14] *** Quits: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP) (Ping timeout)
[03:54:06] *** Joins: angel (angel@moz-12CC480A.hsd1.in.comcast.net)
[03:54:31] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Input/output error)
[03:55:37] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[03:56:45] <geomyidae> nooo :( I missed both of the people talking about quote_tokens again :/
[03:57:04] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:57:18] *** Joins: cdidd (cdidd@moz-8A758034.broadband.corbina.ru)
[03:57:43] <Thad> aatch: what right path for -isystem was he referring to ??
[03:59:59] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Quit: Tschuss!)
[04:00:15] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[04:01:09] *** Quits: RMF (RMF@moz-5287DC84.dsl.telepac.pt) (Ping timeout)
[04:01:39] *** Quits: int3_ (int3_@moz-432A7121.public.wayport.net) (Client exited)
[04:02:14] <aatch> Thad, what?
[04:02:25] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[04:04:32] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[04:04:48] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[04:04:55] *** Joins: RMF (RMF@moz-8F47F652.dsl.telepac.pt)
[04:05:33] *** Quits: mindginative (mindginati@moz-D3DCB8C6.dyn.cust.vf.net.nz) (Ping timeout)
[04:05:33] *** Joins: Guest__ (textual@moz-EBE9F394.bchsia.telus.net)
[04:06:33] <Thad> aatch: the -isystem path for Clang... if I'm using Cygwin.... just tried this: http://pastebin.mozilla.org/2344923
[04:06:41] *** Quits: angel (angel@moz-12CC480A.hsd1.in.comcast.net) (Client exited)
[04:07:59] *** Joins: mindginative (mindginati@moz-DEE44FAD.dsl.dyn.ihug.co.nz)
[04:08:08] <aatch> I'm not sure, that file might need a different path?
[04:08:55] <cmr> bjz: vim syntax stuff is still Quot and Rem, I believe that change was reverted?
[04:09:10] <bjz> cmr: not yet
[04:09:15] <cmr> ah
[04:09:20] <strcat> won't necessarily be reverted
[04:09:29] <bjz> cmr: still working out the best course of action
[04:09:34] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:09:39] <strcat> rem is accurate for ints/floats, quot is accurate for ints
[04:09:48] <strcat> neither div or quot is accurate for floats ;p
[04:10:01] <bjz> cmr: I'm voting for 'lets sleep on it'
[04:10:03] <bjz> :)
[04:10:28] <cmr> I think it's a frivolous distinction, but that's just me
[04:10:52] <bjz> cmr: it is. but it's nice to have pretty interfaces
[04:11:06] <bjz> cmr: and that takes time to hone
[04:11:13] <strcat> well ideally you expose both... so they need to be named properly ;p
[04:11:34] <aatch> Thad, on my system (linux) the clang compiler uses these: "-internal-isystem /usr/local/include -internal-isystem /usr/bin/../lib/clang/3.2/include -internal-externc-isystem /include -internal-externc-isystem /usr/include"
[04:11:47] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[04:12:19] * bjz keeps refreshing his pull request - fingers crossed
[04:12:19] <Thad> aatch: how can I tell what mine uses ?
[04:12:26] <aatch> Thad, try compiling with -v to see the actual invocation of clang
[04:12:54] <aatch> It'll also print the #include search dirs
[04:13:16] * aatch just realised that it would have been better to start with that information.
[04:13:23] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[04:13:39] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[04:13:39] <Thad> aatch: ah ha !  http://pastebin.mozilla.org/2344949
[04:14:10] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[04:14:13] <Thad> aatch: my limits.h seems to be correctly under 4.7.2  but missing under 4.5.3 ??
[04:14:35] <strcat> limits is the C++ header
[04:14:42] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[04:15:12] <aatch> Thad, I am pretty sure that -isystem defines a path for <...> includes
[04:15:16] <strcat> libc++ doesn't run on windows afaik
[04:15:19] <strcat> so you need libstdc++
[04:15:25] <strcat> which is in gcc-libs
[04:16:02] <Thad> hmm, Ming64 seems to have it
[04:17:00] <dbaupp> bjz: bors may have crashed... :(
[04:17:15] <bjz> dbaupp: :(
[04:17:28] <bjz> nmatsakis: has bors crashed?
[04:17:50] <Thad> Reminder: what were trying to do is get a basic Cygwin install with the right options, to make Rust fairly happy with Clang build.  We know that it fails the clang test, which is this test_me.c and hence can't build Rust with Clang.
[04:18:13] <dbaupp> bjz: or maybe the buildbots, your pull request doesn't show up here http://buildbot.rust-lang.org/console?refresh=15
[04:20:17] <Thad> aatch: out of time tonight... will post to list mail.
[04:20:57] *** Joins: pcwalton (pcwalton@moz-481A040C.hsd1.ca.comcast.net)
[04:20:57] *** ChanServ sets mode: +o pcwalton
[04:21:10] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[04:22:17] <bjz> pcwalton: dbaupp was saying either bors or the buildbots might have crashed?
[04:22:26] <pcwalton> maybe
[04:22:34] <pcwalton> I don't really know much about how bors works
[04:22:38] <bjz> heh
[04:22:48] <bjz> neither
[04:26:56] *** Joins: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr)
[04:28:55] <aatch> rusti: [1,2,3].len()
[04:28:56] <rusti> 3
[04:29:56] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[04:29:56] *** ChanServ sets mode: +o brson
[04:29:58] <cmr> aatch: What was the train of thought behind that? Sanity check?
[04:30:18] <aatch> Easier than looking in the docs or checking myself.
[04:30:26] <cmr> ah
[04:32:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:32:56] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[04:33:09] *** Quits: Benvie_ (Thunderbir@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net) (Quit: Benvie_)
[04:33:10] *** Quits: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP) (Ping timeout)
[04:33:13] *** Joins: Benvie1 (Thunderbir@moz-BE33DA21.fw1.sfo1.mozilla.net)
[04:33:24] <geomyidae> pcwalton: can you give me tips on how to use quote_token! ? Should I be able to just use it in a normal rust program to parse whatever I want into an AST for me to use for something?
[04:33:37] <pcwalton> geomyidae: yes, but you'll need to link against libsyntax
[04:38:22] *** Quits: cuemin (Quemin@9EA2DD1C.8F293D07.59A90BC7.IP) (Ping timeout)
[04:39:07] <geomyidae> pcwalton: will that resolve these errors: error: unresolved name: `ext_cx`
[04:39:23] <pcwalton> geomyidae: oh yeah, you have to have an ext_cx in scope.
[04:39:26] <pcwalton> the quasiquoter is horrible
[04:39:39] <pcwalton> you have to have a value named "ext_cx" in scope, it's ridiculous
[04:39:44] *** Joins: cuemin (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP)
[04:39:50] <pcwalton> see libsyntax/ext for examples
[04:41:19] <geomyidae> :/ I already kinda hunted around for an ex, should I be in quote.rs or do the other ext's actually use the macro? and thanks, btw.
[04:41:58] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[04:42:27] <pcwalton> some of the other exts use those macros I believe
[04:42:48] <geomyidae> okay, thanks. (might be expand)
[04:47:58] <pnkfelix> is there doc or an RFC for conditions in Rust?
[04:48:52] <pnkfelix> (as in, error or exceptional conditions) â€¦ (am searching issues list now)
[04:49:17] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:49:28] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Quit: ChatZilla 0.9.90 [Firefox 21.0/20130416200523])
[04:50:02] *** Quits: pcwalton (pcwalton@moz-481A040C.hsd1.ca.comcast.net) (Quit: .)
[04:50:45] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[04:52:48] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[04:54:09] <aatch> pnkfelix, theres some info in the release notes for... 0.5 I think
[04:55:14] <cmr> That's interesting. rustc --lib copies to $PREFIX/lib/rustc ? What is the hash in the filename?
[04:56:27] <pnkfelix> aatch: ah thanks, lots of goodnesss in Doc-detailed-release-notes on wiki
[04:57:11] <aatch> It really should be extracted into a tutorial or something
[04:59:03] <brson> cmr: it's a hash of the #[link] metadata as well as that of the crates it links to. maybe something else as well. it's for versioning
[04:59:52] <cmr> brson: Neat, thanks
[05:00:13] <cmr> That's a nice feature, much more reliable than just version number.
[05:02:50] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[05:04:12] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[05:07:01] *** Quits: Guest__ (textual@moz-EBE9F394.bchsia.telus.net) (Quit: Computer has gone to sleep.)
[05:08:39] *** Quits: cuemin (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP) (Quit: Leaving)
[05:08:49] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:10:09] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[05:10:42] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[05:12:00] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[05:14:41] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:14:48] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[05:15:55] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[05:16:07] <aatch> Well, lets not do that again...
[05:16:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:30:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:30:02] <ghrust> 01[13rust01] 15jbclements 04force-pushed 06try from 1449481bd to 14cb88d0a: 02http://git.io/k471pw
[05:30:02] <ghrust> 13rust/06try 141da3b10 15John Clements: change stage1,stage2,stage2 into not(stage0)...
[05:30:02] <ghrust> 13rust/06try 142942f0f 15John Clements: refactoring mod.rs
[05:30:02] <ghrust> 13rust/06try 140a69245 15John Clements: parser comments only
[05:30:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:31:11] *** Quits: tiffany (kawaii@moz-46D53C9A.dhcp.embarqhsd.net) (Ping timeout)
[05:33:21] *** Quits: blitter (blitter@moz-48397EA8.dyn.centurytel.net) (Ping timeout)
[05:36:00] <jclements> brson: ping
[05:36:49] <brson> jclements: pong
[05:37:00] <jclements> quick question, you may have no idea...
[05:38:24] <jclements> I just force-pushed to try. Sure enough, the waterfall view shows that three buildbots dutifully started building try... but not the try I just pushed. Instead, they started building something else.  There's a slim chance that Kimundi pushed to try at exactly the same time I did, but it looks like bors just picked up the wrong version of try.  Have you seen this kind of thing happen?
[05:38:41] <brson> jclements: yes
[05:38:59] <jclements> so it's probably okay to kill them and force them to run my revision instead?
[05:39:36] <brson> jclements: i suggest going to the buildbot status page and doing a force build on the try-* slaves
[05:39:45] <jclements> okay, thanks!
[05:39:50] <brson> fill in your git revision in the revision field
[05:40:53] <brson> this one: http://buildbot.rust-lang.org/builders "force selected builds"
[05:41:01] <brson> the username/password is rust/rust
[05:42:07] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[05:43:22] <doomlord> what do "list comprehensions" look like in rust...
[05:43:56] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[05:44:15] <cmr> Rust has them?
[05:44:49] <doomlord> or whats the best way of writing the equivalent.. a list-comprehension is a filter followed by a map?
[05:45:46] <doomlord> if you literally did filter then map would it apply any optimizations to that to combine them (when appropriate)
[05:46:47] <doomlord> (avoiding an intermediate collection being generated).  or would it just leave less to chance to have a collection.filterMap(predicate,function) that is explicitely one step
[05:47:56] <SiegeLord> That seems like something that could be done via composable iterators
[05:48:13] <cmr> I don't think so, but I'm still a newb. There's filter_mapped, though, which might do what you want?
[05:48:34] <aatch> strcat is working on a new iterator library that has all that stuff though
[05:48:49] <doomlord> ^filter_mapped certainly sounds like its what i've got in mind
[05:48:50] <cmr> If the function returns None it skips it, so you'd have to have it all in one function
[05:49:02] <doomlord> oh
[05:49:06] <jclements> brson: BTW, build failed on mac & win with what looks like LLVM configuration errors. Maybe I'll ask you about this in person tomorrow.
[05:49:15] <cmr> Doesn't separate the predicate from the functoin
[05:49:38] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[05:50:00] <doomlord> seems like many functional languages have a dedicated syntax for them, i wondered if its syntactic overkill
[05:50:18] <brson> jclements: setting property 1 to 'clean-llvm' and '1' might fix it
[05:50:32] <doomlord> (i'd certainly be happy with filterMap(predicate,function) myself)
[05:50:53] <jclements> brson: sure, I'll give it a try.
[05:51:17] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[05:53:20] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Ping timeout)
[05:55:08] *** Quits: mibitzi (mibitzi@87CAE982.60DF3A09.8395810B.IP) (Ping timeout)
[05:55:24] <jclements> brson: looking good after the first two minutes, anyway :). I'll go to sleep and maybe a miracle will occur.
[05:55:34] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[05:57:22] *** Quits: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr) (Quit: pyrac)
[05:57:35] <bjz> Luqman: ping
[05:59:08] *** Joins: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP)
[05:59:48] *** Joins: mibitzi (mibitzi@87CAE982.60DF3A09.8395810B.IP)
[06:00:02] *** Quits: mindginative (mindginati@moz-DEE44FAD.dsl.dyn.ihug.co.nz) (Quit: zzZZZ)
[06:00:05] *** Joins: xazax (Mibbit@6655692F.3B222813.3F580572.IP)
[06:00:19] <bjz> brson: would be nice if there'd be a way to get the length of {float|int|uint} via an attribute
[06:01:46] <bjz> sometimes I actually kinda wish there wasn't a float/int/uint. So much trickiness.
[06:02:17] <bjz> why were they included in the first place?
[06:02:21] <brson> bjz: do you mean for use in #[cfg]?
[06:02:27] <bjz> brson: yah
[06:03:06] <cmr> bstrie: #6045, would it keep the un-methodized version around or no?
[06:03:08] <bjz> #[cfg(float_32)] or something
[06:03:24] <bjz> and #[cfg(float_64)]
[06:03:49] <brson> bjz: #[cfg(target_word_size = "64")] will let you do some useful things
[06:03:56] <brson> floats are always 64-bit
[06:04:05] <bjz> ok
[06:04:36] <bjz> why do we need those types anyway? (just to ask the annoying question)
[06:06:02] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Connection reset by peer)
[06:06:45] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[06:06:57] *** Joins: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr)
[06:07:21] <bjz> brson: so if target_word_size==32, uint and int would be 32-bit?
[06:07:29] <brson> bjz: yes
[06:07:30] <brson> i don't suppose that we _need_ them, but they read better than the other types. Personally I like having a default word size integer because it seems natural
[06:08:32] *** Quits: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr) (Quit: pyrac)
[06:09:28] <brson> bjz: is it the inference you dislike or would you rather not have the int and uint type at all?
[06:09:55] <bjz> brson: more that is seems complex to duplicate the functionality
[06:10:19] <bjz> brson: but I know what you're saying
[06:10:55] <bjz> brson: would be annoying to not be able to do 10.0f (and have to do 10.0f64)
[06:12:41] <bjz> brson: yeah it's mainly the duplication that is a little inelegant, which becomes more clear once you start delving into the numerics. But I guess it is nice for users to do 'int' as opposed to having to choose a size up-front.
[06:13:09] <cmr> I wouldn't mind int/uint being 32bit.
[06:14:01] <SiegeLord> Then you'd have to add a new type that has the word size
[06:14:35] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[06:14:50] <SiegeLord> And ssize_t, size_t are kind of awkward :P
[06:14:51] <Ralith> bjz: I question whether the default choice being something that behaves differently depending on target is a good idea
[06:14:54] <cmr> what are the use cases for that? I've never had a real use for them
[06:16:31] <brson> bjz: int and i64/32 (depending on word size) used to be the same type, so there could possibly have been no duplication, but having the implicit coercions happen differently on machines with different word sizes was considered frustrating
[06:17:48] <bjz> brson: sure
[06:18:16] <bjz> brson: yeah, I'm guessing you guys have had this discussion many times :)
[06:18:50] * bjz is still a beginner
[06:22:44] <brson> Ralith: that's a good point
[06:25:18] <bjz> brson: we should be using stacked `///`s instead of `/** * * */` for multi-line comments right?
[06:26:19] <brson> bjz: yes
[06:26:51] <Ralith> imo, if you don't know what kind of integer you want, you probably want a libgmp bigint; overflow behavior needs to be planned for.
[06:27:04] <Ralith> speaking of which, does rust have defined overflow on signed integers?
[06:28:03] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:32:43] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[06:34:26] <Sodel_the_V> It's ugly as sin, but shouldn't this destructuring work? http://pastebin.mozilla.org/2345219
[06:36:18] <Sodel_the_V> Oops, that first '~' shouldn't have been in there: http://pastebin.mozilla.org/2345221
[06:38:36] *** Quits: lerc (quassel@121-74-236-56.telstraclear.net) (Connection reset by peer)
[06:38:40] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (No route to host)
[06:39:13] *** Joins: lerc (quassel@moz-B7C43FE2.telstraclear.net)
[06:39:22] *** Joins: berak (chatzilla@7AB66452.5291F4C0.16E13E53.IP)
[06:43:16] *** Quits: SirSkidmore (taylor@A8CF1C90.14855463.8C3A19BB.IP) (Ping timeout)
[06:43:19] <bjz> Sodel_the_V: that would indeed be nice
[06:43:53] <bjz> Sodel_the_V: or fn foo((q: int, r: int));
[06:45:01] <bjz> Sodel_the_V: basically `let` destructuring in function args
[06:45:29] <bjz> fn foo(&[x, ..xs])
[06:46:06] *** Joins: SirSkidmore (taylor@A8CF1C90.14855463.8C3A19BB.IP)
[06:47:47] <bjz> fn foo (Vec3 { x: x, y: y, z: z })
[06:47:48] <Sodel_the_V> According to the tutorial, functions already support destructuring
[06:48:10] <bjz> 8.
[06:48:16] <bjz> where?
[06:48:50] <Sodel_the_V> The very bottom of part 6
[06:49:21] <bjz> WOW
[06:49:31] *** Joins: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP)
[06:49:34] <bjz> :P
[06:50:19] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:50:22] <Sodel_the_V> Hrm. Even let destructuring isn't working with that type: http://pastebin.mozilla.org/2345277
[06:51:23] <bjz> rusti: fn tupswap<T,U>((a,b): (T,U)) -> (U,T) { (b,a) } tupswap((1, 3.0))
[06:51:24] <rusti> (3, 1)
[06:51:28] <bjz> :D
[06:51:51] <SiegeLord> Sodel_the_V, Need args[0] for your last example
[06:51:53] <bjz> rusti: fn tupswap<T,U>((a,b): (T,U)) -> (U,T) { (b,a) } tupswap((1, "hi"))
[06:51:53] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[06:51:55] <rusti> ("hi", 1)
[06:52:34] * Sodel_the_V is embarrassed
[06:52:39] <Sodel_the_V> Thanks SiegeLord
[06:52:47] <bjz> Sodel_the_V: dw :)
[06:53:39] *** Quits: stdin (stdin@moz-F713592F.net) (Ping timeout)
[06:54:51] <SiegeLord> Sodel_the_V, As for your original example, doing &(xs, y) seems to work for me
[06:55:47] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[06:55:51] <Sodel_the_V> On the lhs?
[06:56:04] <Sodel_the_V> Whoah, oh boy. "error: internal compiler error: can't make T_opaque_trait with bare trait store"
[06:56:09] <SiegeLord> for args.each |&(xs, y)| { }
[06:56:54] <bjz> rusti: fn decapitate<T>(&[x, ..xs]: &[T]) -> (T, ~[T]) { (x, xs) } decapitate([1, 2, 3, 4])
[06:56:56] <rusti> line longer than 100 columns, pastebinned: http://sprunge.us/CLeQ
[06:57:01] <bjz> :O
[06:57:33] <bjz> rusti: fn decapitate<T>([x, ..xs]: &[T]) -> (T, ~[T]) { (x, xs) } decapitate([1, 2, 3, 4])
[06:57:34] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/RBPC
[06:58:11] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Quit: Leaving.)
[06:58:20] <bjz> rusti: fn decapitate<'a,T>([x, ..xs]: &'a [T]) -> (T, &'a [T]) { (x, xs) } decapitate([1, 2, 3, 4])
[06:58:21] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/KbPK
[06:58:40] <bjz> rusti: fn decapitate<'a,T>(&'a [x, ..xs]: &'a [T]) -> (T, &'a [T]) { (x, xs) } decapitate([1, 2, 3, 4])
[06:58:41] <rusti> line longer than 100 columns, pastebinned: http://sprunge.us/NBQJ
[06:58:41] <Sodel_the_V> SiegeLord: Alright, that works. The compiler error was from something else. Thanks.
[06:58:56] <bjz> harumph
[06:59:24] <bjz> rusti: fn decapitate<T>([x, ..xs]: ~[T]) -> (T, ~[T]) { (x, xs) } decapitate(~[1, 2, 3, 4])
[06:59:25] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/WVcQ
[07:01:04] <bjz> rusti: let [x,..xs] = [1, 2, 3, 4]; (x,xs)
[07:01:05] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/OiFW
[07:01:31] <bjz> rusti: let ~[x,..xs] = ~[1, 2, 3, 4]; (x,xs)
[07:01:32] *** Quits: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP) (Connection reset by peer)
[07:01:32] <rusti> foo.rs:5:13: 5:22 error: mismatched types: expected `~[<VI3>]` found uniq
[07:01:32] <rusti> foo.rs:5          let ~[x,..xs] = ~[1, 2, 3, 4]; (x,xs)
[07:01:32] <rusti>                       ^~~~~~~~~
[07:01:32] <rusti> note: in expansion of fmt!
[07:01:32] <rusti> foo.rs:4:12: 6:7 note: expansion site
[07:01:51] * bjz gives up
[07:02:18] <Luqman> bjz: pong
[07:03:16] <bjz> Luqman: how would I use the cttz and ctlz on uints?
[07:03:26] <bjz> (the intrinsics)
[07:04:48] <z0w0> i just had a cool idea for a rustdoc feature
[07:05:01] <z0w0> it would be cool if it could detect usage of a documented function in tests and then linked to them
[07:05:28] <dbaupp> I feel like I just found a (tiny tiny) bug in the RNG rust uses :S but that seems really unlikely
[07:05:50] <z0w0> dbaupp: what's the bug?
[07:06:08] <bjz> z0w0: it would also be cool if there was a 'view source' link like in haskell docs
[07:06:24] <z0w0> bjz: i'm about to start working on some rustdoc things atm
[07:06:32] <bjz> z0w0: sweet
[07:06:37] <dbaupp> z0w0: a shift that doesn't work quite right (give me a second)
[07:06:38] *** Parts: berak (chatzilla@7AB66452.5291F4C0.16E13E53.IP) ()
[07:06:39] <z0w0> to fix two of the bugs i got assigned in the triage and also just general improvements
[07:06:51] <bjz> z0w0: item linking?
[07:07:40] <dbaupp> The shift here https://github.com/mozilla/rust/blob/master/src/rt/isaac/randport.cpp#L56
[07:07:49] <z0w0> bjz: being able to see submodules in the contents pages and being able to see the expand the hidden contents of the tutorial (not rustdoc but doc related)
[07:08:08] <Luqman> bjz: you'd use either cttz32 or cttz64 i'd imagine
[07:08:10] <dbaupp> It evaluates 3122308821 >> 16 = 113178
[07:08:48] <bjz> z0w0: [this is abs for f64](core::f64::abs)
[07:08:48] <dbaupp> (which is precisely 2**16 away from the actual answer: 47642)
[07:09:03] <z0w0> z0w0: ah, interesting
[07:09:08] <z0w0> bjz: *
[07:09:08] <z0w0> durp
[07:09:18] <z0w0> i'll look into it
[07:09:36] <bjz> z0w0: it uses pandoc though doesn't it?
[07:09:51] <bjz> z0w0: to parse them
[07:10:07] <z0w0> yeah but there can be custom syntax extensions that expands to normal markdown
[07:10:23] <bjz>  neat
[07:10:25] <z0w0> before passing to markdown
[07:11:07] <bjz> z0w0: also sections
[07:11:54] <z0w0> dbaupp: not sure what's wrong, sorry. but as far as i know it's a direct port of the official C implementation to C++ so i don't know why there would be an issue
[07:12:05] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[07:12:08] <z0w0> bjz: what do you think of a search functionality?
[07:12:30] <bjz> z0w0: https://github.com/mozilla/rust/issues/4106
[07:12:32] <z0w0> a JS based solution
[07:12:37] <z0w0> like sphinx
[07:12:38] <bjz> that would be cool
[07:12:56] <bjz> latex math would be amaaazing
[07:13:02] <bjz> for the computer scientists
[07:13:04] <bjz> :)
[07:13:09] <bjz> but yeah
[07:13:12] <dbaupp> z0w0: yes, it's a straight copy
[07:13:18] <bjz> don't want it getting too bloaded
[07:13:24] <bjz> *bloated
[07:13:54] <z0w0> well it could be config options..
[07:14:39] <z0w0> `rustdoc --with-search a.rs`or something
[07:15:16] *** Joins: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw)
[07:15:28] *** Quits: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP) (Quit: pyrac)
[07:16:02] <bjz> z0w0: http://www.mathjax.org/
[07:16:31] <bjz> z0w0: math.stackexchange.com uses it: http://meta.math.stackexchange.com/questions/107/faq-for-math-stackexchange/117#117
[07:17:26] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[07:17:46] <z0w0> bjz: i have to get familiar with the rustdoc code first, but i'll definitely look into it
[07:18:32] *** Joins: Blub\w (wry@moz-91667B5D.wireless.dyn.drei.com)
[07:18:33] *** Joins: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP)
[07:20:11] *** Joins: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP)
[07:25:20] *** Quits: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw) (Quit: http://www.mibbit.com ajax IRC Client)
[07:28:19] *** Joins: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw)
[07:31:36] *** Joins: hmax (hmax@moz-15514FA1.yandex.net)
[07:31:41] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[07:34:28] *** Quits: skchrko (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[07:39:40] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Ping timeout)
[07:45:17] <mcpherrin> 3
[07:45:22] <mcpherrin> oops
[07:49:07] <bjz> 4
[07:52:20] *** Quits: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP) (Quit: pyrac)
[07:53:01] <hmax> are there any libs like blas/lapack in rust? Or bindings maybe?
[07:53:39] <hmax> and also, what's about bindings to libpng/libjpeg?
[07:55:37] <Luqman> there are bindings for stb-image which servo uses
[07:59:37] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[07:59:37] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:03:16] *** Quits: RMF (RMF@moz-8F47F652.dsl.telepac.pt) (Ping timeout)
[08:07:12] *** Joins: skchrko (sk@BF437E9D.3E8256CA.D066974A.IP)
[08:07:18] *** Joins: RMF (RMF@moz-1911CA0D.dsl.telepac.pt)
[08:09:13] *** Quits: skchrko (sk@BF437E9D.3E8256CA.D066974A.IP) (Ping timeout)
[08:10:37] *** Joins: skchrko (sk@BF437E9D.3E8256CA.D066974A.IP)
[08:13:58] *** Joins: engla (engla@moz-E4A8CEF5.customer.cdi.no)
[08:18:16] <Sodel_the_V> So I know trait objects work with vectors and variables and such, but they don't seem to work with enum variants.
[08:18:22] <Sodel_the_V> Is this a bug, or working as intended?
[08:27:41] <Sodel_the_V> I'll ask later. Bed time!
[08:27:54] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[08:29:04] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:31:00] *** Quits: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net) (Quit: It's a joke. It's all a joke.)
[08:31:47] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:44:43] *** Joins: libertas (libertas@moz-921AEBAB.net.novis.pt)
[08:48:03] *** Joins: geomyidae_ (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[08:48:23] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[08:48:28] *** Joins: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net)
[08:48:55] *** Joins: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP)
[08:51:51] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[08:52:35] *** Quits: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP) (Ping timeout)
[08:53:55] *** Joins: snearch (snearch@moz-EEF77D0A.pool.mediaways.net)
[08:59:29] *** Joins: jdm (jdm@941349F4.F58C7D4D.F945DA.IP)
[09:01:23] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[09:02:47] <mibitzi> after rebasing to mozilla/income i get "error: no item found for `modulo`"  "error: no item found for `div`" when running make -> http://pastebin.com/DwCq1p8T anyone know what the cause might be?
[09:02:47] *** Quits: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP) (Connection reset by peer)
[09:08:00] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:15:37] *** Joins: wilma (Mibbit@moz-EF4F5C4.rev.home.ne.jp)
[09:15:45] *** Quits: wilma (Mibbit@moz-EF4F5C4.rev.home.ne.jp) (Quit: wilma)
[09:19:08] *** Joins: SimonSapin (simon@moz-58CD503D.fbx.proxad.net)
[09:19:25] *** Joins: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP)
[09:19:52] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[09:20:15] <geomyidae_> pcwalton: as far as I can tell the only file in that dir is auto_encode.rs that uses quote_expr! and it only uses it twice.
[09:20:22] *** Quits: yardena (yardena@moz-A95F12B1.members.linode.com) (Ping timeout)
[09:20:50] <geomyidae_> pcwalton: also, I will try to use it though I'm not entirely sure of the rules surrounding it. anyway, I'll play around,
[09:29:36] *** Joins: yardena (yardena@moz-A95F12B1.members.linode.com)
[09:29:40] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[09:31:02] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Ping timeout)
[09:36:38] *** Joins: bender (Mibbit@44ACD2A1.4CCF64E5.54460F44.IP)
[09:38:43] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[09:40:28] *** Quits: victorporof (victorporo@42D43E99.BEB908B0.79933D60.IP) (Quit: victorporof)
[09:41:26] *** Joins: pnkfelix` (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[09:41:41] *** pnkfelix` is now known as pnkfelix|rcirc
[09:42:13] *** Quits: engla (engla@moz-E4A8CEF5.customer.cdi.no) (Ping timeout)
[09:49:12] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[09:50:22] <pnkfelix> hmm.  incoming branch is not building for me on Mac OS X (10.8.3)
[09:51:08] <pnkfelix> oh wait, maybe its that llvm cleaning thing I need to do again.  Hmm.  Ah, last time this happened, I kicked myself for not preserving the state of the badly-behaving checkout; will tar it up this time.
[09:52:53] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Ping timeout)
[09:53:26] <mibitzi> pnkfelix: what's this llvm cleaning thing?
[09:53:55] <pnkfelix> there's some make target whose name I forget that cleans up llvm.  Its very strange because it clearly has an effect outside of the build tree.
[09:54:13] <pnkfelix> (as in, I build in a separate directory from my source repository.)
[09:54:23] <dbaupp> make clean-llvm, i think
[09:55:20] <pnkfelix> My real question is, should I actually have to invoke `make clean-llvm` myself, or should its need be detected by some means?  Seems like a latent bug.
[10:04:40] *** Quits: Blub\w (wry@moz-91667B5D.wireless.dyn.drei.com) (Quit: WeeChat 0.4.0)
[10:05:45] <mibitzi> seems like clean-llvm didn't resolve my building problem with the incoming branch
[10:08:03] *** kimundi is now known as zz_kimundi
[10:08:53] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[10:13:45] *** zz_kimundi is now known as kimundi
[10:26:01] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:27:18] *** kimundi is now known as zz_kimundi
[10:29:17] <thiez> I read on the ML that there might be plans to only allow LIT_INT and LIT_FLOAT in range patterns, was there any reason not to allow any type that implements Ord?
[10:32:46] <bjz_> mibitzi: have you tried make clean?
[10:37:31] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[10:40:23] <mibitzi> bjz_: i did
[10:40:26] *** Joins: AutomatedTester (automatedt@moz-73661679.nyc.biz.rr.com)
[10:41:00] <aatch> Finally figured out X's weird grab key system.
[10:41:03] <pnkfelix> mibitzi: I'm trying from a fresh clone of the repo now, don't know if you already tried that.
[10:41:29] *** zz_kimundi is now known as kimundi
[10:41:32] *** jdm is now known as jdm|f00d
[10:41:37] <aatch> Turns out the numlock state is a specific key...
[10:41:49] <aatch> key mask rather
[10:44:06] *** Quits: echristo (echristo@91BA60CD.BE529D01.5EFB9497.IP) (Quit: echristo)
[10:44:45] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[10:49:42] *** Joins: echristo (echristo@moz-95318683.virtual1.co.uk)
[10:49:57] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[10:50:06] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[10:50:14] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[10:51:30] *** Quits: echristo (echristo@moz-95318683.virtual1.co.uk) (Ping timeout)
[10:52:09] *** Joins: trapni (trapni@moz-7C7C1909.dawanda.com)
[10:55:48] *** Joins: darenthis (darenthis@DAC8255A.1ED06B32.9BA20BC9.IP)
[10:56:28] *** Joins: victorporof (victorporo@966EF3BE.B89616B1.79933D60.IP)
[10:57:52] <aatch> I like this update: Net Upgrade Size: -97.32MiB
[11:04:23] *** Joins: mib_ubtem1 (Mibbit@545C3BFB.DC42D29D.13B3C60E.IP)
[11:08:12] *** Quits: mib_ubtem1 (Mibbit@545C3BFB.DC42D29D.13B3C60E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:10:30] *** Joins: echristo (echristo@91BA60CD.BE529D01.5EFB9497.IP)
[11:11:37] <AutomatedTester> hi all, what is the prefered way to write tests for rust code?
[11:14:45] *** Joins: mindginative (mindginati@moz-DEE44FAD.dsl.dyn.ihug.co.nz)
[11:16:16] *** Joins: igl (igl@moz-5FA8D883.adsl.alicedsl.de)
[11:16:17] *** Joins: SimonSapin1 (simon@moz-58CD503D.fbx.proxad.net)
[11:16:20] *** Quits: SimonSapin (simon@moz-58CD503D.fbx.proxad.net) (Quit: Leaving.)
[11:17:55] <dbaupp> AutomatedTester: using the #[test] and #[cfg(test)] attributes (it's built into the compiler)
[11:18:07] *** Quits: SimonSapin1 (simon@moz-58CD503D.fbx.proxad.net) (Ping timeout)
[11:18:44] <dbaupp> AutomatedTester: https://github.com/mozilla/rust/wiki/Doc-unit-testing
[11:19:12] <AutomatedTester> dbaupp: awesome, thanks!
[11:19:22] *** Joins: SimonSapin (simon@moz-58CD503D.fbx.proxad.net)
[11:23:48] <aatch> Window manager proof-of-concept status: can handle events
[11:24:04] <aatch> Next up: Basic window manipulation
[11:26:01] *** Quits: heftig (heftig@moz-528CB651.dip0.t-ipconnect.de) (Ping timeout)
[11:26:42] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[11:33:03] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[11:35:05] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[11:35:20] *** jdm|f00d is now known as jdm
[11:36:46] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[11:40:29] *** Joins: heftig (heftig@moz-CDEAF13B.dip0.t-ipconnect.de)
[11:40:57] *** Joins: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP)
[11:41:42] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[11:42:49] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[11:44:42] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[11:48:28] *** bhearsum|afk is now known as bhearsum
[11:53:46] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[11:54:38] *** Quits: victorporof (victorporo@966EF3BE.B89616B1.79933D60.IP) (Quit: victorporof)
[11:55:24] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Quit: Verlassend)
[11:55:40] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[11:56:23] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[11:57:59] *** Joins: jfredett (jfredett@moz-D2E9C3FD.mycingular.net)
[11:59:41] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[12:02:58] *** Joins: berak (chatzilla@201DFA5D.3A27401E.16E13E53.IP)
[12:03:06] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[12:05:18] <libertas> In fn print_vec<T: ToStr>(v: &[T]) { for v.each |&i| { pri\ ntln(i.to_str()) }  }
[12:05:43] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[12:05:48] <libertas> how should I search for the 'ToStr' trait name for the to_str()?
[12:05:51] *** Joins: Associat0r (Associat0r@moz-ACC51C1E.upc-h.chello.nl)
[12:06:18] <libertas> is it enough to remove '_' and capitalize the function name?
[12:07:23] <thiez> libertas: I'm not sure I understand the question, do you want to know where the ToStr trait is defined?
[12:08:47] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[12:08:55] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[12:09:02] <libertas> whenever I need to build a polymorphic funcion, as this one, where can I find which trait name corresponds to each function. In this case, ToStr and .to_str()
[12:10:14] <dbaupp> libertas: it's not very good, but if you want to search for functions, I made this http://www.ug.it.usyd.edu.au/~hwil7821/rust-api/ (which sort-of works)
[12:10:19] <dbaupp> e.g. http://www.ug.it.usyd.edu.au/~hwil7821/rust-api/?names=to_str
[12:10:32] <dbaupp> However, `ToStr` is the name of the trait
[12:11:17] <libertas> Thank you dbaupp
[12:11:35] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[12:12:00] *** Parts: berak (chatzilla@201DFA5D.3A27401E.16E13E53.IP) ()
[12:13:44] *** Quits: jfredett (jfredett@moz-D2E9C3FD.mycingular.net) (Ping timeout)
[12:14:14] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[12:14:39] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[12:16:57] *** Quits: _Vi (vi@DCE8FCEE.CAA062BC.FDCAC96B.IP) (Ping timeout)
[12:17:24] <kimundi> rusti: assert_eq!(15,14);
[12:17:25] <rusti> rust: task failed at 'expected: 14, given: 15', foo.rs:4
[12:17:25] <rusti> rust: domain main @0x1b009c0 root task failed
[12:17:42] <kimundi> rusti: assert_eq!(14,15);
[12:17:43] <rusti> rust: task failed at 'expected: 15, given: 14', foo.rs:4
[12:17:43] <rusti> rust: domain main @0xdb69c0 root task failed
[12:18:32] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[12:20:38] *** Quits: igl (igl@moz-5FA8D883.adsl.alicedsl.de) (Ping timeout)
[12:20:40] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[12:21:31] *** Joins: igl (igl@moz-85648950.adsl.alicedsl.de)
[12:21:49] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[12:23:53] <pnkfelix> mibitzi: after doing a fresh clone, I stop getting LLVM issues, but am now getting a different problem that matches one I was getting at home this morning: rust: task 7febe1500000 ran out of stack
[12:32:23] <kimundi> pnkfelix: It seems others got that to.
[12:32:43] <pnkfelix> kimundi: yeah I am now wondering about whether I should try some bisecting
[12:32:56] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[12:33:11] <pnkfelix> butâ€¦ I'm not yet sure if its a problem with the snapshotted rust image
[12:34:17] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[12:34:34] <pnkfelix> snapshot seems sufficiently old that it probably is not the problem.
[12:35:59] *** Joins: Buzzy (Mibbit@moz-75C4F2C1.hsd1.ca.comcast.net)
[12:36:13] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[12:43:05] *** Quits: Buzzy (Mibbit@moz-75C4F2C1.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:45:16] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[12:47:47] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Textual IRC Client: www.textualapp.com)
[12:48:17] <kimundi> rusti: core::sys::begin_unwind(~"foo", ~"bar", 0);
[12:48:18] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[12:48:18] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/jVSJ
[12:48:36] <kimundi> rusti: core::sys::begin_unwind(~"foo", ~"bar", 0); ()
[12:48:37] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/fIfN
[12:48:55] <kimundi> rusti: core::sys::begin_unwind(~"foo", ~"bar", 0)
[12:48:56] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/JETC
[12:49:36] <kimundi> rusti: if true {core::sys::begin_unwind(~"foo", ~"bar", 0);}; 5
[12:49:38] <rusti> rust: task failed at 'foo', bar:0
[12:49:38] <rusti> rust: domain main @0x19de9c0 root task failed
[12:49:46] <kimundi> rusti: if true {sys::begin_unwind(~"foo", ~"bar", 0);}; 5
[12:49:48] <rusti> rust: task failed at 'foo', bar:0
[12:49:48] <rusti> rust: domain main @0xa419c0 root task failed
[12:49:54] <kimundi> rusti: if true {core::sys::begin_unwind(~"foo", ~"bar", 0);}; 5
[12:49:55] <rusti> rust: task failed at 'foo', bar:0
[12:49:55] <rusti> rust: domain main @0x9769c0 root task failed
[12:54:55] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[12:56:33] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[12:57:47] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[12:59:03] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[13:01:47] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Ping timeout)
[13:03:56] *** Joins: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de)
[13:04:40] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[13:06:10] *** Joins: bent (chatzilla@F2D29657.F60B0462.67AC9B1.IP)
[13:07:32] *** Joins: tirumudi (Mibbit@65CA642A.AF098518.493B1C0B.IP)
[13:08:02] <tirumudi> Is there any IDE for usign Rust ?
[13:08:24] <tirumudi> Is there any stable IDE for using Rust ?
[13:15:12] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:16:03] <pnkfelix> tirumudi: I think a lot of the core devs use Emacs or VIM.  There is work underway to formalize the grammar and get parser-generation working from that, which would enable hooking up e.g. Eclipse, but I don't think we're there yet.
[13:19:59] <tirumudi> Well.. for now i will look on Emacs or VIM..
[13:20:02] <tirumudi> thanks
[13:20:15] *** Quits: tirumudi (Mibbit@65CA642A.AF098518.493B1C0B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:23:04] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:25:53] *** Quits: bender (Mibbit@44ACD2A1.4CCF64E5.54460F44.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:29:04] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[13:37:47] *** Joins: akashj87 (akash@6400FFB1.4C445EBF.35E3DDC8.IP)
[13:41:21] *** Joins: novabyte (Adium@moz-95B1B3A2.hari.cable.virginmedia.com)
[13:42:37] <bstrie> < cmr> bstrie: #6045, would it keep the un-methodized version around or no?
[13:42:52] <bstrie> cmr: good question...
[13:43:32] <bstrie> cmr: I think right now, ideally, we'd want to put all the actual logic into methods, and then create standalone functions that actually just call the methods
[13:43:45] <bstrie> then we can begin the process of converting everything to use the methods
[13:45:54] <bstrie> cmr: so if there's currently a function like `int::plus_one(5)` defined like `fn plus_one(x: int) -> int { x+1 }`, you'd just convert that function to a method and then turn the function into `fn plus_one(x: int) -> int { x.plus_one() }`
[13:46:40] *** Quits: dbaupp (Thunderbir@moz-5BAD3C4A.lns20.syd7.internode.on.net) (Ping timeout)
[13:46:44] *** Joins: mib_z4651k (Mibbit@moz-AB5C97AB.ip.alaplaya.net)
[13:46:44] *** Quits: snearch (snearch@moz-EEF77D0A.pool.mediaways.net) (Quit: Verlassend)
[13:47:03] <mib_z4651k> Hello people, I have a beginner question regarding Rust Lang..
[13:47:03] <bstrie> actually, let me put all this into he bug
[13:47:14] <bstrie> mib_z4651k: go on
[13:47:25] <mib_z4651k> How many processes can the rust spawn.. ?
[13:47:40] <mib_z4651k> are they OS dependend or are like Erlang..
[13:48:34] <bstrie> mib_z4651k: you can configure this
[13:49:04] <bstrie> mib_z4651k: when you spawn a task, you can tell the scheduler to either spawn one task per thread, and maybe one task per process
[13:49:17] <bstrie> mib_z4651k: you should ask brson when he is online
[13:49:56] *** Joins: _Vi (vi@527C345F.497AA854.B16B3BE6.IP)
[13:50:11] *** Joins: dbaupp (Thunderbir@moz-29C69C7B.lns20.syd7.internode.on.net)
[13:54:01] <mib_z4651k> Thanks
[13:54:01] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Ping timeout)
[13:54:18] *** Joins: raisin (Mibbit@44ACD2A1.4CCF64E5.54460F44.IP)
[13:55:28] *** Quits: Associat0r (Associat0r@moz-ACC51C1E.upc-h.chello.nl) (Quit: Associat0r)
[13:55:46] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[13:56:23] *** Quits: dbaupp (Thunderbir@moz-29C69C7B.lns20.syd7.internode.on.net) (Ping timeout)
[13:57:32] *** Quits: echristo (echristo@91BA60CD.BE529D01.5EFB9497.IP) (Quit: echristo)
[14:00:53] *** Joins: dbaupp (Thunderbir@moz-5A4523F7.lns20.syd6.internode.on.net)
[14:03:09] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[14:04:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:13:35] *** Quits: raisin (Mibbit@44ACD2A1.4CCF64E5.54460F44.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:13:49] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[14:14:11] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Ping timeout)
[14:15:24] *** Quits: z0w0 (zack@moz-FFC12EAF.lnse1.cha.bigpond.net.au) (Quit: Leaving.)
[14:15:26] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:19:19] *** Joins: GeneralMaximus (ankur@AB96D60E.DFBF6EA8.6E73A72E.IP)
[14:19:39] *** Quits: dbaupp (Thunderbir@moz-5A4523F7.lns20.syd6.internode.on.net) (Ping timeout)
[14:21:08] *** kimundi is now known as zz_kimundi
[14:21:15] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:24:31] *** Quits: mib_z4651k (Mibbit@moz-AB5C97AB.ip.alaplaya.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:24:31] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[14:27:23] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:30:46] *** Joins: wippler (Mibbit@moz-116EC294.novotelecom.ru)
[14:30:50] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Ping timeout)
[14:30:51] *** zz_kimundi is now known as kimundi
[14:33:52] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[14:34:05] *** Joins: synapsos (Mibbit@640C6C8D.C434660A.DAB1EB3B.IP)
[14:35:02] <synapsos> hey, quick question: why is this unresolved?
[14:35:07] <synapsos> file_reader(core::path::from_str(&"test.txt"))
[14:35:29] <strcat> which part does it say is unresolved
[14:35:31] <kimundi> rusti: file_reader(core::path::from_str(&"test.txt"))
[14:35:32] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/EbTe
[14:35:58] <synapsos> core::path::from_str
[14:39:02] *** Quits: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net) (Input/output error)
[14:42:13] *** Quits: AutomatedTester (automatedt@moz-73661679.nyc.biz.rr.com) (Client exited)
[14:50:55] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[14:52:57] *** bhearsum is now known as bhearsum|afk
[14:53:06] *** Joins: engla (engla@moz-E4A8CEF5.customer.cdi.no)
[14:56:08] <EXetoC> synapsos: it's a method, defined in the GenericPath trait and implemented for PosixPath and WindowsPath
[14:56:29] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[14:57:34] <EXetoC> and Path is either WindowsPath and PosixPath depending on the platform, so Path::from_str might be what you're looking for
[14:58:09] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[14:58:36] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[15:00:11] <EXetoC> or using this shortcut: "pub fn Path(s: &str) âŸ¶â€€ Path"
[15:00:40] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[15:01:23] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[15:01:54] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Ping timeout)
[15:01:59] <synapsos> EXetoC: thanks the shortcut worked
[15:02:40] <EXetoC> also, all of these symbols are use'd implicitly (see core/prelude.rs)
[15:02:43] <EXetoC> great
[15:04:58] *** Quits: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP) (Ping timeout)
[15:06:00] <snowmantw> sorry for a dumb question: how to dereference a `@~[int]` ?
[15:06:26] <strcat> you want ~[int]?
[15:06:30] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:06:36] <snowmantw> yes
[15:06:40] <strcat> just *
[15:06:58] <snowmantw> this will give warning:
[15:07:01] <snowmantw> let s = @~[1,2,3,4];
[15:07:05] <snowmantw> let u:~[int] = *s;
[15:07:09] <snowmantw> print(fmt!("%u",vec::len(u))); 
[15:07:13] <strcat> because you can't move out of @
[15:07:14] <snowmantw> no , an error
[15:07:15] <strcat> it's not owned
[15:07:21] <strcat> you have to copy out
[15:07:32] <strcat> *s.clone()
[15:07:43] <snowmantw> thanks !
[15:08:09] <snowmantw> btw, even if it's mutable, still unable to reference a `@` ?
[15:08:23] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:09:34] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[15:10:38] *** Quits: cretz (Mibbit@moz-296F4F9C.dal05.softlayer.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:10:52] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:15:08] <kimundi> snowmantw: dereferencing is fibe, I think, but moving out is not allowed
[15:15:16] <kimundi> fine*
[15:16:09] *** Quits: trapni (trapni@moz-7C7C1909.dawanda.com) (Quit: Leaving)
[15:17:54] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[15:18:22] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:19:49] *** Joins: Blub\w (wry@moz-2F9199BD.wireless.dyn.drei.com)
[15:19:52] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[15:20:28] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[15:21:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:23:46] *** Quits: synapsos (Mibbit@640C6C8D.C434660A.DAB1EB3B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:25:18] *** Joins: echristo (echristo@91BA60CD.BE529D01.5EFB9497.IP)
[15:28:08] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[15:28:10] <pnkfelix> nmatsakis: ping
[15:29:48] *** Quits: novabyte (Adium@moz-95B1B3A2.hari.cable.virginmedia.com) (Quit: Leaving.)
[15:36:07] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[15:37:09] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:38:15] *** Quits: wippler (Mibbit@moz-116EC294.novotelecom.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[15:38:56] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[15:38:56] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:40:34] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[15:42:10] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[15:42:57] *** Quits: xazax (Mibbit@6655692F.3B222813.3F580572.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:49:38] <pnkfelix> mibitzi: (and anyone else who cares): I've bisected the bootstrap problem to commit 4a24f10ac6f155699f086051ba6a728d9afb5ca6
[15:50:03] <erickt> sigh. The biggest thread on our latest hacker news article is all about bikeshedding significant whitespace...
[15:50:15] *** Joins: victorporof (victorporo@966EF3BE.B89616B1.79933D60.IP)
[15:50:59] <strcat> erickt: lol
[15:55:20] <cmr> bstrie: alright, thanks
[15:55:28] *** Joins: cuddling (Mibbit@moz-DDB4B4F2.pools.arcor-ip.net)
[15:55:38] <cuddling> rust: task 7faf82506020 ran out of stack
[15:55:47] <cuddling> that's one of rustsqlite's unit tests
[15:57:40] *** Quits: RMF (RMF@moz-1911CA0D.dsl.telepac.pt) (Ping timeout)
[15:58:20] *** Quits: akashj87 (akash@6400FFB1.4C445EBF.35E3DDC8.IP) (Quit: Leaving)
[16:00:15] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[16:01:11] *** Joins: RMF (RMF@moz-FE77A4BA.dsl.telepac.pt)
[16:03:53] *** Joins: popkorn (tester@A0D9E13.C31C452E.4B6AF641.IP)
[16:05:12] <cuddling> that's maybe #6049
[16:05:19] * popkorn slaps nmatsakis around a bit with a http://j.gs/23hc
[16:05:21] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[16:06:06] <jack> what are item macros? is this just old syntax for macros or something different? https://github.com/mozilla/rust/issues/3190
[16:06:53] *** Quits: popkorn (tester@A0D9E13.C31C452E.4B6AF641.IP) (Killed (dumitru (no thank you)))
[16:07:10] <jclements> jack: in this case, it's just a reference to macros that expand into items.
[16:07:23] <jclements> jack: and, BTW, I think this is not at all a good idea :)
[16:07:42] <jclements> jack: I'll write a quick response in the github issue.
[16:08:24] <jack> jclements: thanks. seems like you can pass the type parameters into the macro as arguments now
[16:09:05] <jclements> Yes, that's my thought.
[16:10:54] *** Joins: patrick (patrick@moz-B334B496.hfc.comcastbusiness.net)
[16:11:09] *** Joins: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net)
[16:12:12] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[16:12:16] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[16:14:52] *** Quits: echristo (echristo@91BA60CD.BE529D01.5EFB9497.IP) (Quit: echristo)
[16:16:12] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[16:16:56] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[16:18:33] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Connection reset by peer)
[16:18:54] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[16:22:14] *** Joins: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr)
[16:23:31] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:23:31] *** ChanServ sets mode: +o dherman
[16:26:28] *** Quits: cuddling (Mibbit@moz-DDB4B4F2.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:30:22] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[16:30:49] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[16:31:02] *** Quits: fabiand (fabiand@moz-CEDB1D43.adsl.alicedsl.de) (Quit: Verlassend)
[16:32:36] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Ping timeout)
[16:32:46] *** Quits: Blub\w (wry@moz-2F9199BD.wireless.dyn.drei.com) (Ping timeout)
[16:32:55] <cmr> Style question: should attributes be indented to the same level as the item they modify?
[16:33:32] *** Joins: Blub\w (wry@moz-2F9199BD.wireless.dyn.drei.com)
[16:35:52] <spider-mario> I would do that
[16:37:55] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[16:38:07] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[16:39:22] <pnkfelix> mibitzi: I've filed Issue #6061 and put up a pull request that fixes things for me.  Would be cool to know whether or not it fixes bootstrapping for you too.
[16:40:00] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:42:15] <jack> Do i need special privs to close bugs?
[16:44:19] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[16:45:18] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[16:45:44] <pnkfelix> jack: there is a special class of people who have that right, but I thought you were a member of that class.  Do you have the "Close" button on the github web interface?
[16:45:59] <jack> on servo yes. but not on rust.
[16:46:20] <jack> can someone flip that bit so that bug triage won't involve me pestering people to close things :)
[16:46:36] <jack> oh wait. i may be able to flip it myself.
[16:46:40] <pnkfelix> jack: ah.  I don't know if I even have the permissions to flip that bit.
[16:47:05] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:47:30] <jack> pnkfelix: neither of us have that bit it seems.
[16:48:24] <LRN> I'm having trouble building rust - http://pastebin.mozilla.org/2346581
[16:48:41] <LRN> basically, the main offender here is src/rt/rust_upcall.cpp:258: undefined reference to `__gxx_personality_v0'
[16:48:50] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:49:16] <LRN> I've tried sticking -lstdc++ into various linkflags in platform.mk, but that didn't help
[16:52:22] <pnkfelix> LRN: sorry, I don't have a windows host handy to try to replicate your issue
[16:52:47] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[16:53:02] *** Quits: patrick (patrick@moz-B334B496.hfc.comcastbusiness.net) (Quit: Leaving)
[16:53:14] <LRN> pnkfelix, is there something like "make V=1" for me to actually _see_ the command that is used for linking?
[16:54:18] <pnkfelix> LRN: I think VERBOSE is what you want ?
[16:54:28] <LRN> i'll try that
[16:54:42] <pnkfelix> yeah that seems to produce command lines for me
[16:54:46] <pnkfelix> i.e. make VERBOSE=1
[16:55:28] *** Joins: tjc (tjc@moz-E0677B46.vc.shawcable.net)
[16:55:28] *** ChanServ sets mode: +o tjc
[16:57:53] *** Joins: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP)
[16:57:53] *** ChanServ sets mode: +qo graydon graydon
[17:00:04] <tjc> are we in CYA?
[17:01:07] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:01:28] *** Joins: burntsushi__ (burntsushi@moz-A046EF37.eecs.tufts.edu)
[17:02:30] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:02:34] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[17:02:43] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[17:02:45] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[17:03:23] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:03:23] *** ChanServ sets mode: +o brson
[17:04:54] <friggle> I'm amazed at the number of people who seem to care passionately one way or the other about semicolons vs whitespace
[17:06:00] <strcat> brson: it looks like suppressing the remaining valgrind warnings is attainable
[17:06:04] <tjc> nmatsakis: are you joining us?
[17:06:04] <strcat> looks like there's just 1 function left
[17:06:26] *** Joins: cuddling (Mibbit@moz-DDB4B4F2.pools.arcor-ip.net)
[17:07:21] <brson> strcat: nice
[17:08:22] *** Joins: blitter (blitter@moz-48397EA8.dyn.centurytel.net)
[17:08:38] *** Quits: SimonSapin (simon@moz-58CD503D.fbx.proxad.net) (Ping timeout)
[17:08:51] <LRN> friggle, what's up with semicolons and whitespace?
[17:09:49] *** Joins: snearch (snearch@moz-EEF77D0A.pool.mediaways.net)
[17:09:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:12:24] <cuddling> @pnkfelix: regarding #6049/#6061 ... rustsqlite uses HashMap, so maybe gen() has a problem
[17:13:12] <pnkfelix> cuddling: sounds plausible.
[17:13:36] <friggle> LRN: just strikes me there are more important things to discuss
[17:14:38] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[17:14:56] *** Joins: thou (thou@moz-D1EE62D4.sumnetsol.com)
[17:16:05] <LRN> friggle, it's called "bikeshedding"
[17:17:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:17:35] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[17:18:30] <friggle> http://lwn.net/Articles/548363/ << what is this guy referring to? I can't see where Rust requires more copies than ocaml
[17:19:34] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Client exited)
[17:20:03] <strcat> friggle: it doesn't
[17:20:31] <strcat> using @T isn't any different than ocaml
[17:20:35] <strcat> ocaml doesn't even have SMP afaik
[17:20:39] <strcat> can't run threads in parallel
[17:20:59] <strcat> so there's not a comparison you can make about sharing vs copying vs sending owned data
[17:21:15] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[17:21:35] * cuddling hates staring-at-it debugging
[17:21:58] <friggle> strcat: which is what I thought
[17:22:00] <cmr> cuddling: I much prefer "go do something else then come back and it's obvious" debugging
[17:22:03] <friggle> multimlton on the othe handi s interesting
[17:22:11] *** bhearsum|afk is now known as bhearsum
[17:23:13] <cuddling> :)
[17:26:26] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[17:26:40] *** Quits: mindginative (mindginati@moz-DEE44FAD.dsl.dyn.ihug.co.nz) (Quit: brb)
[17:27:17] *** Quits: cuddling (Mibbit@moz-DDB4B4F2.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:30:04] *** Quits: darenthis (darenthis@DAC8255A.1ED06B32.9BA20BC9.IP) (Client exited)
[17:31:45] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[17:33:02] *** Joins: bnicholson_ (bnicholson@2557E599.66715431.D25A875A.IP)
[17:33:39] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[17:34:01] *** Joins: guitsaru (guitsaru@A8985A22.5DF68D0E.4C2245EF.IP)
[17:36:55] *** Quits: Aj (afernandez@moz-DB4A9C19.scl3.mozilla.com) (services.mozilla.org (Too many invalid passwords))
[17:36:57] *** Joins: Aj (afernandez@moz-DB4A9C19.scl3.mozilla.com)
[17:37:26] *** Quits: johns (johns@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:37:54] *** Joins: johns (johns@2557E599.66715431.D25A875A.IP)
[17:38:50] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[17:39:32] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:39:45] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:39:49] <cmr> Should char implement cmp::Ord, given that it has a 'cmp' method?
[17:40:10] <cmr> Well, soon-to-be method
[17:40:16] <strcat> yes it should implement Eq/Ord/TotalEq/TotalOrd
[17:40:45] <Ralith> what's the difference between Eq and TotalEq?
[17:41:03] <strcat> a != b doesn't have to imply a == b
[17:41:06] <strcat> for eq
[17:41:51] <Scriptor> wait, when would a !=b every imply a == b
[17:41:53] <Scriptor> *ever
[17:42:05] <strcat> Scriptor: I mean !(a != b)
[17:42:13] <Scriptor> ah, got it
[17:42:14] <strcat> !(a != b) doesn't imply a == b
[17:42:25] <strcat> because of stuff like NaN and SQL NULL
[17:43:01] <strcat> core::hashmap should be switched to TotalEq soon
[17:43:06] <Scriptor> I see this paper thrown around, never got a chance to read it in full http://www.pipeline.com/~hbaker1/ObjectIdentity.html
[17:43:24] <strcat> it's not really about that
[17:44:23] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[17:44:43] <bstrie> strcat: re: external iterators, is the name "advance" common in C++? because I was going to suggest "next", as per python...
[17:45:03] <strcat> bstrie: I did use next()
[17:45:16] <strcat> rust's for + advance is equivalent to python's for loop
[17:45:28] <bstrie> so we have both next and advance?
[17:45:36] <strcat> yes they aren't the same thing
[17:45:40] <bstrie> ah :)
[17:45:52] <strcat> bstrie: look in iterator.rs
[17:45:54] <strcat> it will make sense
[17:45:59] <strcat> pub trait Iterator<A> {
[17:46:00] <bstrie> all will be made clear
[17:46:01] <strcat>     /// Advance the iterator and return the next value. Return `None` when the end is reached.
[17:46:03] <strcat>     fn next(&mut self) -> Option<A>;
[17:46:05] <strcat> }
[17:46:07] <strcat> iterators implement that trait
[17:46:21] <strcat> http://ix.io/5lf they get these for free (implemented for them)
[17:46:35] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[17:46:51] <strcat> I want to call advance each
[17:46:52] <kimundi> bstrie: advance is an internal iterator adapter, where if you break out of the loop you can continue it later, because it advances the iterator
[17:46:58] <strcat> but it can't be yet
[17:47:01] <strcat> and map can't be called map
[17:47:05] <strcat> has to be called transform
[17:47:07] <strcat> generics bugs.
[17:47:36] <kimundi> strcat: wouldn't each be confusing because the iterator is restartable?
[17:47:37] *** Joins: eholk (eholk@moz-4227E445.hfc.comcastbusiness.net)
[17:47:41] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:47:59] <strcat> kimundi: maybe
[17:48:01] <strcat> advance is fine imo
[17:48:07] <strcat> http://ix.io/5lg what it looks like
[17:48:36] <strcat> either is fine ;p
[17:49:00] *** Joins: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net)
[17:49:18] <kimundi> maybe each_next() ?
[17:49:32] * strcat shrugs
[17:49:37] <strcat> naming stuff is hard
[17:49:49] <kimundi> jup
[17:50:04] <strcat> I avoided making naming decisions as much as possible, just used the same names as python/C#/haskell
[17:50:13] <cmr> bstrie: ping
[17:50:18] <strcat> and drop vs skip was a decision made for me since drop is reserved
[17:50:23] <strcat> ;p
[17:50:26] <bstrie> cmr: pong
[17:50:28] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:50:49] <cmr> I added "impl char { ... }" re #6045 and when I run make check I get "/home/cmr/hacking/rust/src/libcore/char.rs:59:0: 237:1 error: no base type found for inherent implementation; implement a trait or new type instead"
[17:51:36] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:51:37] <strcat> the primitive types can't have non-trait impls afaik
[17:51:45] <kimundi> cmr: you can only impl stuff for types defined in the same module
[17:51:45] <strcat> need to make a dummy trait
[17:51:59] <bstrie> strcat: I thought they could, *if* you were in their given module
[17:52:01] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[17:52:04] <bstrie> e.g. core::char for chars
[17:52:09] <strcat> bstrie: don't think so
[17:52:14] <strcat> all the vector methods are on traits
[17:52:16] <bstrie> well that's news to me
[17:52:29] <strcat> the primitives don't count as being defined in libcore
[17:52:38] <kimundi> cmr: native types like int, char, ~str etc are defined in the compiler itself, so only way to add methods for them is with the help of a type specific trait
[17:52:41] <bstrie> I figured there was a hack that made it seem so
[17:53:02] <strcat> bstrie: there should be ;p
[17:53:04] <strcat> but there isn't
[17:53:09] <bstrie> yes, I agree
[17:53:17] <cmr> So, what should the trait be named, in the interim?
[17:53:27] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:53:35] <bstrie> cmr: "FixTheFactThatINeedAUselessTraitHerePlease"
[17:53:36] <strcat> cmr: CharUtil
[17:53:40] <cmr> heh
[17:53:45] <strcat> Util is the standard name for useless traits
[17:53:47] <strcat> ;p
[17:54:00] <strcat> most of the Util traits exist because of default methods not working
[17:54:14] * kimundi is happy that after the next snapshot all 'fail!(~"...")' can be changed to 'fail!("...")' 
[17:54:42] <strcat> the snapshot that seems like it will never happen
[17:54:47] <strcat> thanks to valgrind ;P
[17:54:50] <kimundi> jup...
[17:55:00] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[17:55:17] <kimundi> still, only 7 'NOTE: Fix after snapshot' so far
[17:55:24] <strcat> cmr: TotalOrd for char can just be implemented in cmp.rs
[17:55:26] <strcat> there's a macro
[17:55:29] <strcat> i thought I did it already..
[17:55:40] <strcat> nope I didn't
[17:57:23] <kimundi> HM, what exactly is the difference between some::path::to::foo and ::some::path::to::foo ?
[17:58:32] *** Joins: gareth0 (gareth0@moz-112B687B.dynamic.dsl.as9105.com)
[18:00:50] *** Joins: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net)
[18:01:02] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[18:01:39] <bstrie> cmr: https://github.com/mozilla/rust/issues/6065
[18:02:11] <bstrie> cmr: sorry for all this additional complication... I know I marked the bug as "easy", and it still *is* easy, but we don't have a "E-tedious" tag :)
[18:02:18] <cmr> heh
[18:02:21] <cmr> It's fine
[18:02:29] <cmr> I get a nice overview of libcore
[18:02:29] <tjc> bstrie: it's for the same reason that Facebook doesn't have a Dislike button
[18:02:33] <bstrie> cmr: I suggest just taking it one module at a time
[18:02:49] <bstrie> tjc: but imagine that facebook employees were the only ones allowed to use the dislike button :P
[18:02:59] <strcat> tjc: https://github.com/mozilla/rust/pull/6064 r?
[18:03:10] <strcat> cmr: ^ did that part, since it was something I left unfinished :)
[18:03:57] *** Quits: bnicholson_ (bnicholson@2557E599.66715431.D25A875A.IP) (Input/output error)
[18:04:18] <pnkfelix> tjc: nmatsakis: I'm taking off, but someone with a mac may want to babysit Issue 6061 (i.e. review and possibly approve the pull request I filed for it)
[18:04:32] <pnkfelix> the odd thing is that bors did not catch the failure
[18:04:36] <nmatsakis> pnkfelix: ok, I no loner hvae a mac now :)
[18:04:39] <nmatsakis> *longer have a mac now
[18:04:44] <nmatsakis> not true, but I don't have it with me
[18:04:52] <tjc> ok, I'll look at it then
[18:04:55] <tjc> pnkfelix nmatsakis ^
[18:06:23] <tjc> heading to the office, bbiab
[18:06:24] *** Quits: tjc (tjc@moz-E0677B46.vc.shawcable.net) (Quit: Places to go, people to annoy)
[18:07:49] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[18:09:43] *** Joins: pnkfelix1 (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[18:09:48] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Connection reset by peer)
[18:09:48] *** Quits: pnkfelix1 (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Input/output error)
[18:10:19] <bstrie> cmr: if you're still chugging away on that bug, I'd suggest doing one module at a time, and submitting a pull request with each module that you finish
[18:12:18] *** Quits: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net) (Input/output error)
[18:12:39] *** Joins: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net)
[18:14:13] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:14:16] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[18:15:51] <bstrie> strcat: re: skip vs drop, "drop" won't be a reserved word forever :)
[18:16:23] *** Joins: posco (oscarboyki@692ED873.5999CED5.71743E61.IP)
[18:16:46] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[18:16:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:16:57] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14195d868 to 141d53bab: 02http://git.io/N3iJvQ
[18:16:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:17:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:17:01] <ghrust> 01[13rust01] 15bors pushed 39 new commits to 06auto: 02http://git.io/GeYhqw
[18:17:01] <ghrust> 13rust/06auto 14e47ee77 15Brian Anderson: wip
[18:17:01] <ghrust> 13rust/06auto 146a5c4f6 15Brian Anderson: core::rt: Just some poking at the I/O docs
[18:17:01] <ghrust> 13rust/06auto 141f97e6d 15Brian Anderson: rt: Add rust_dbg_next_port for generating test port numbers
[18:17:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:17:05] <bstrie> strcat: "External iterator adaptors are defined as methods on any Iterator implementation returning a state machine implementing Iterator." <-- does this mean I can do silly things like `m.iter().iter().iter()` ?
[18:17:10] *** Joins: jviereck1 (Adium@moz-96F3A391.dclient.hispeed.ch)
[18:17:17] <benh> Anyone a fan of fn drop<T>(t:T){}?
[18:17:22] <benh> For invoking destructors early?
[18:17:41] <bstrie> benh: the idea is to eventually rename the "finalize" fn to "drop"
[18:17:51] <bstrie> once drop is no longer a keyword
[18:18:00] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Ping timeout)
[18:18:02] <benh> Will it take the self argument by value?
[18:18:08] *** bent is now known as bent|away
[18:18:11] <bstrie> I don't think it does now, no
[18:18:42] <bstrie> fn finalize(&self) {
[18:18:48] <nmatsakis> I tend to think it shoudl
[18:18:55] <nmatsakis> *shoudld
[18:19:03] <benh> (Does pass-by-value still get optimized to pass-by-pointer for shallowly large structs?)
[18:19:06] * nmatsakis gives up
[18:19:17] <nmatsakis> benh: yes. but not as often or as well as we should.
[18:19:17] <bstrie> nmatsakis: with last-use analysis it would always just move, right?
[18:19:32] <nmatsakis> bstrie: I'm not sure what you mean....
[18:19:38] <bstrie> nmatsakis: I might just be making up things :)
[18:19:47] <benh> bstrie: it'll always move because you're not saying .clone(), won't it?
[18:20:28] <bstrie> I... guess so
[18:20:33] <strcat> bstrie: skip is clearer anyway
[18:20:33] <nmatsakis> bstrie: do you mean if you called "foo.drop()"?
[18:20:36] <bstrie> so bad at systems and programming them
[18:20:43] <nmatsakis> bstrie: where drop is the name of the destructor?
[18:20:43] <strcat> bstrie: and it has to be called skip because drop will be a method
[18:20:46] <strcat> and it's a method :)
[18:20:59] <bstrie> nmatsakis: ignore me, I was confused
[18:21:04] <strcat> bstrie: .iter() is only implemented on iterables
[18:21:04] <nmatsakis> ok :)
[18:21:07] <strcat> which isn't a trait yet
[18:21:13] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[18:21:35] <bstrie> I'm pretty excited for the iterators
[18:21:40] <strcat> x.chain(y).map(|i| i * 2).zip(z)
[18:21:59] <strcat> not sure how to make the internal iterators actually look nice
[18:22:08] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:22:08] *** ChanServ sets mode: +o pcwalton
[18:22:13] <bstrie> I can see people being confused that the internal module is `iter` and the external is `iterator`, but I guess the goal is that you never have to actually reference those directly?
[18:22:28] <strcat> bstrie: well I hope the docstrings will make it clear
[18:22:58] <strcat> bstrie: http://ix.io/5li docstring for iter.rs
[18:23:06] <bstrie> "interator" and "exterator" :)
[18:23:39] <bstrie> the external ones are so pretty
[18:23:58] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[18:24:20] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[18:24:41] <strcat> bstrie: iterator is basically 'iterator objects'
[18:24:45] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[18:24:50] <strcat> iter is 'internal iteration algorithms'
[18:25:07] <strcat> there aren't any objects with iter, maybe I could just not use the term iterator at all ;p
[18:25:35] <strcat> could call them iter.rs and range.rs
[18:25:46] <strcat> they're the same as what boost calls ranges
[18:26:03] <strcat> not the same as what D calls ranges
[18:26:10] <strcat> not quite, at least ;p
[18:26:12] <strcat> similar
[18:26:33] *** Quits: Benvie1 (Thunderbir@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: Benvie1)
[18:26:39] *** Joins: Benvie1 (Thunderbir@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:26:43] <bstrie> strcat: is the goal to eventually have equivalents to all of python's itertools in core::iterator? I see chain() in there, at least
[18:27:03] <strcat> bstrie: more than itertools
[18:27:35] <strcat> eventually
[18:27:44] <bstrie> cool
[18:27:48] <strcat> it has scan and unfoldr
[18:27:52] <strcat> it could have unzip via cloning iterators
[18:28:04] *** Quits: gareth0 (gareth0@moz-112B687B.dynamic.dsl.as9105.com) (Quit: Leaving)
[18:28:37] <strcat> Iterator<(a, b)> -> (Iterator<a>, Iterator<b>)
[18:29:05] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[18:29:06] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[18:29:22] <SiegeLord> I thought D's ranges were essentially exactly the same as the new iterators proposed here
[18:29:36] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[18:30:18] <strcat> SiegeLord: they're very similar
[18:30:55] <benh> haha @ interator
[18:30:57] <strcat> http://blip.tv/boostcon/boostcon-2009-keynote-2452140
[18:31:42] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[18:33:08] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Rebooting)
[18:35:43] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[18:36:05] <LRN> pnkfelix, there's no __gxx_personality_v0 in my g++ libraries (neither in libstdc++, nor in libsupc++), only __gxx_personality_sj0 - http://pastebin.mozilla.org/2346820
[18:36:36] <LRN> oh, he left
[18:38:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:38:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147cc3e6b to 141d53bab: 02http://git.io/N3iJvQ
[18:38:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:38:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:38:01] <ghrust> 01[13rust01] 15bors pushed 9 new commits to 06auto: 02http://git.io/J7uzLw
[18:38:01] <ghrust> 13rust/06auto 14593bdd9 15Brendan Zabarauskas: Fix incorrect replacement of `modulo` with `rem`
[18:38:01] <ghrust> 13rust/06auto 1403932f0 15Brendan Zabarauskas: Move impls of `Num` out of core::num and clean up imports
[18:38:01] <ghrust> 13rust/06auto 14d4868ee 15Brendan Zabarauskas: Use #[cfg(not(stage0))] to exclude items from stage0...
[18:38:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:39:50] <LRN> well, does anyone knew why __gxx_personality_v0 is used explicitly? It looks like a function that would only be used by the code that gcc generates automatically...
[18:39:58] <LRN> s/knew/know/
[18:40:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:42:01] *** Quits: skchrko (sk@BF437E9D.3E8256CA.D066974A.IP) (Quit: .)
[18:42:45] *** Benvie1 is now known as Benvie_
[18:43:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:43:14] <brson> LRN: it's surprising that you only have the 'sj' personality function
[18:43:25] <LRN> why?
[18:43:31] <brson> that would seem to imply that your system only does setjump/longjump unwinding
[18:43:34] <LRN> yes
[18:43:43] *** Quits: eholk (eholk@moz-4227E445.hfc.comcastbusiness.net) (Quit: eholk)
[18:43:50] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[18:44:02] <brson> LRN: do you know why that is?
[18:44:12] <LRN> on i686 W32 gcc can use either sjlj or dw unwinding. I found dw unwinding to be buggy, and now my toolchain uses sjlj instead
[18:44:40] <brson> oh you are on win32. that makes things easier
[18:44:44] <LRN> ktietz told me that another possibility is to use SEH, but it is only supported for x86_64
[18:44:50] <nmatsakis> jclements: so, about that parsing rule for semicolons...
[18:45:07] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[18:45:21] <jclements> nmatsakis: I just sent what I thought was an awesome proposal to rust-devâ€¦ strangely, I haven't seen it show up yet...
[18:45:25] <brson> LRN: on win32 we don't use dwarf unwinding because it doesn't work in llvm so we can probably #ifdef out the personality function there
[18:45:32] <nmatsakis> jclements: oh, let me check my mail
[18:45:35] <brson> on win32 we don't unwind at all right now
[18:45:46] <LRN> brson, how do you build w32 versions of rust then?
[18:45:57] *** Quits: GeneralMaximus (ankur@AB96D60E.DFBF6EA8.6E73A72E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:46:18] <LRN> Also, is there a chance that sjlj unwinding can be used instead? Does _that_ work in llvm?
[18:46:50] <brson> LRN: last I checked llvm could not do exception handling at all on windows
[18:47:19] <brson> LRN: rust builds on windows because building rust doesn't depend on task failure working. all the test cases that involve failure are disabled on windows
[18:47:58] <LRN> brson, no, i mean how do you link it, if it can't be linked?
[18:48:08] <LRN> (due to missing dependencies)
[18:48:10] <nmatsakis> jclements: you sure you sent it?
[18:48:15] <jclements> nmatsakis: weird. my re-send appears to have gone through. Check again.
[18:48:25] <jclements> they're both in my "sent" folder....
[18:48:58] <brson> LRN: i'm not sure. I guess that our c++ library does contain a symbol for that personality function
[18:49:31] <nmatsakis> brson: this I/O e-mail looks fascinating :)
[18:49:41] * nmatsakis so behind on e-mail
[18:50:43] *** Quits: igl (igl@moz-85648950.adsl.alicedsl.de) (Ping timeout)
[18:51:06] <nmatsakis> jclements: it'd be worthwhile to run an experiment---how hard would that be?
[18:51:13] <nmatsakis> jclements: that is, make the change and see how much breaks
[18:51:37] *** Joins: igl (igl@moz-85648950.adsl.alicedsl.de)
[18:51:45] *** Joins: acrichto_ (acrichto@moz-FE112B96.res.cmu.edu)
[18:51:51] <nmatsakis> jclements: I originally thought that to be ... entirely unacceptable, but the way you phrased it, it doesn't seem that way
[18:51:58] *** Quits: acrichto (acrichto@moz-FE112B96.res.cmu.edu) (Ping timeout)
[18:52:06] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[18:52:14] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[18:52:43] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[18:53:05] <jclements> nmatsakis: in principle, this would be a great place to test out the ANTLR grammar. It's so dang slow, though. I'll try making the change and seeing if I can find some files that fail to parse, though.
[18:54:08] <LRN> brson, your toolchain has dw unwinding then. Do note that dw version of libgcc is slightly broken on W32 (not sure if rust or rust-compiled programs/libraries will be affected)
[18:55:14] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[18:55:47] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[18:55:47] *** ChanServ sets mode: +o tjc
[18:55:55] <nmatsakis> jclements: yeah, shame that. I've been wanting to dig into that grammar more. 
[18:56:13] <nmatsakis> jclements: it probably wouldn't be hard to modify the parser itself, too
[18:56:51] <bstrie> jclements: being forced to put parens around expressions makes me concerned
[18:57:05] <jclements> nmatsakis: you'll have to remove the restriction, right, and move a whole bunch of stuff out of expr_bottom and into parse_stmt? I think it looks somewhat painful.
[18:57:22] <jclements> bstrie: can you give examples?
[18:57:50] <nmatsakis> jclements: you say tomato, I say tom-ah-to... :) yeah, that's basically it, shuffle some cases around
[18:57:59] <bstrie> jclements: for one, the fact that rust doesn't have a ternary operator means that `if` is the replacement, and that's already a bit more cumbersome to use than ternary
[18:58:16] <bstrie> jclements: also, would I be forced to do `let y = (match foo { ... } );` ?
[18:58:47] <nmatsakis> yeah, I figured that after a `=` in a let they would continue to work
[18:58:49] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[18:59:04] <nmatsakis> and in other similarly unambiguous contexts
[18:59:13] <nmatsakis> but I guess that starts to lose some of the consistency
[18:59:22] <bstrie> right, it gets wishy-washy...
[18:59:23] <nmatsakis> e.g., foo(if cond {3} else {4})
[18:59:39] <jclements> nmatsakis: ooh, that's a good one. 
[19:00:03] <jclements> nmatsakis: it's not going to make any C++ programmers unhappy, though.
[19:00:17] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[19:00:24] <jclements> bstrie: your examples are good, too. 
[19:00:25] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[19:00:42] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:01:22] <nmatsakis> jclements: but what about Rust programmers :)
[19:01:41] <nmatsakis> jclements: so, I am wondering how much harm will be caused by by jthe greedy interpretation
[19:01:50] <nmatsakis> in particular, the example you gave is not problematic
[19:01:53] <jclements> nmatsakis: it's true, our user base is definitely nonzero.
[19:02:07] <nmatsakis> because there is no logic in having a closure expression like that
[19:02:09] <nmatsakis> it could never get called
[19:02:23] <jclements> nmatsakis: yes it could...
[19:02:23] <nmatsakis> but I guess something like this:
[19:02:31] <jclements> nmatsakis: oh! 
[19:02:42] <nmatsakis> well, only immediately
[19:02:46] <nmatsakis> but I was worried about this:
[19:02:58] <jclements> nmatsakis: no, wait, couldn't it be returning a closure that doesn't close over anything?
[19:03:04] <jclements> e.g.:
[19:03:11] <nmatsakis> if cond { print("hi"); } else { print("ho"); } (*x).increment();
[19:03:16] <nmatsakis> this would be parsed very funny I guess
[19:03:33] <nmatsakis> at least, potentially.
[19:03:50] <jclements> nmatsakis: you know that there's currently a difference between {â€¦}.a() and {â€¦}(), right?
[19:03:51] <nmatsakis> I'm starting to think we jsut leave this as is.
[19:04:10] <nmatsakis> jclements: what do you mean "a difference"?
[19:04:36] <nmatsakis> jclements: I mean, I know that method calls are not a composition of field refs and calls
[19:04:37] <jclements> nmatsakis: the first one is parsed as a method call, the second one as a block followed by unit. I think you knew that.  In parser terms,...
[19:04:42] * nmatsakis proposed that rule
[19:05:03] <nmatsakis> jclements: what I was concerned about was that the praser would parse the ( that follows the if as a call expression
[19:05:06] <jclements> there's a call to "expr_is_complete" in between the method call parse check and the closure call parse check.
[19:05:13] <nmatsakis> jclements: of course it would have to do with the relative precedence
[19:05:26] <jclements> nmatsakis: sure, sure. 
[19:05:27] <jclements> sigh.
[19:05:44] <nmatsakis> it is not clear to me that block expressions below in parse_expr_bottom
[19:06:04] <nmatsakis> whereby block expressions I really mean "statement expressions"
[19:06:17] <nmatsakis> or whatever we are calling if cond { } else { }
[19:06:20] <jclements> not sure what you're proposing here.
[19:06:28] <jclements> Also: yes, we need a good name for these things.
[19:06:49] <jclements> things-that-can-be-statements-without-a-semicolon
[19:06:52] <nmatsakis> so, there are a couple of things that can follow an expression...
[19:07:11] <nmatsakis> fields (`.f`), method calls (`.m(...)`), calls (`()`), binary operators (...)
[19:07:29] <nmatsakis> is that it?
[19:08:04] <jclements> are you asking a grammar question?
[19:08:16] <jclements> if so: semicolons can definitely follow expressions :)
[19:09:00] <nmatsakis> jclements: but they don't compose into a larger expression :)
[19:09:16] <nmatsakis> jclements: but yes I am asking a grammar question
[19:09:38] <jclements> lesseee....
[19:09:48] * nmatsakis wonders why he is bothering to think about this. It seems like the def'n of "ship has sailed" in some sense.
[19:10:09] <benh> So when can we expect the example at the top of core/unstable/finally.rs to parse? do || { f(); }.finally { g(); } ;)
[19:10:44] <nmatsakis> macro!
[19:10:47] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[19:10:51] <jclements> macro!
[19:11:03] <pauls> oplo!
[19:11:26] * nmatsakis summons paul
[19:11:38] * pauls appears in a cloud of syntax
[19:12:03] <jclements> All of y'all are way too young to remember Kibo, right?
[19:12:26] <pauls> jclements: I've heard the legend.
[19:12:53] <nmatsakis> jclements: just realized I should get on my way if I plan to catch the various trains I have to catch, I'll be back online later if we want to continue skinning this dead cat
[19:13:13] <nmatsakis> maybe I'll refresh my memory of the parser on the way...
[19:13:18] <jclements> this dead cat is a ship that has sailed. We're sailing in a dead cat.
[19:21:24] <geomyidae_> how does one get/build a e@xt_ctxt?
[19:21:48] <graydon> jclements: but crucially: _has it left the barn yet_?
[19:22:18] <graydon> if you've sailed the dead cat (or dead horse) out of the barn, I think maybe it's time to put it to .. bed?
[19:22:26] <graydon> mixed metaphors ahoy
[19:22:51] <jclements> I, for one, have no plans to share *my* bed with a sailing skinned cat/horse. I'm sure my wife would agree.
[19:22:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:22:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/J7uzLw
[19:22:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:23:20] <jclements> It certainly seems that the current solution is (at least locally) the least problematic.
[19:24:05] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:24:21] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:25:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:25:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Fu5b8w
[19:25:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:25:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:25:59] <ghrust> 01[13rust01] 15bors pushed 39 new commits to 06auto: 02http://git.io/_tqYcQ
[19:25:59] <ghrust> 13rust/06auto 14e47ee77 15Brian Anderson: wip
[19:25:59] <ghrust> 13rust/06auto 146a5c4f6 15Brian Anderson: core::rt: Just some poking at the I/O docs
[19:25:59] <ghrust> 13rust/06auto 141f97e6d 15Brian Anderson: rt: Add rust_dbg_next_port for generating test port numbers
[19:26:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:28:39] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[19:29:22] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[19:29:22] *** Quits: snearch (snearch@moz-EEF77D0A.pool.mediaways.net) (Quit: Verlassend)
[19:32:03] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[19:32:57] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[19:36:57] *** Joins: KIBO (KIBO@moz-127F70CD.bchsia.telus.net)
[19:37:13] <KIBO> jclements: <3
[19:37:15] <KIBO> quit
[19:37:22] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[19:37:30] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[19:37:54] <jclements> what theâ€¦ was that for real??
[19:38:09] <pcwalton> probably bstrie
[19:39:01] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[19:40:54] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[19:41:25] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[19:44:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:44:03] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ad34c9c to 14ac69ee4: 02http://git.io/N3iJvQ
[19:44:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:44:04] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:44:04] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/a2Ogfg
[19:44:04] <ghrust> 13rust/06auto 1408109aa 15Tim Chevalier: core: Comments only -- move FIXME to correct location
[19:44:04] <ghrust> 13rust/06auto 14c2af1de 15Tim Chevalier: rustpkg: update README saying which tests pass
[19:44:05] <ghrust> 13rust/06auto 146a3e26a 15Tim Chevalier: rustpkg: Make path searching work as described in the rustpkg doc...
[19:44:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:44:59] <LRN> stage0 compiler doesn't work - http://pastebin.mozilla.org/2346968 . I gave it its dependencies from a coudple of old mingw.org packages to make it actually run, but now it needs _Unwind_Resume. That is a dw unwinding function (i'm trying to use sjlj instead, so it should use _Unwind_SjLj_Resume from libgcc instead)
[19:45:07] <graydon> kobo showed up on metafilter the other day
[19:45:11] <graydon> kibo, rather
[19:45:13] <graydon> for real
[19:45:22] <graydon> it was amazing. the internet was complete.
[19:45:44] <kimundi> who/what is kibo? :)
[19:45:46] <strcat> tjc: https://github.com/mozilla/rust/pull/6064 r? again, didn't realize it was missing Ord too
[19:46:06] <jclements> kimundi: James "Kibo" Parry. Wikipedia is pretty good, here.
[19:46:08] <graydon> LRN: it was linked against the dw2 binaries, not the sjlj ones
[19:46:24] <graydon> LRN: sorry. it's a binary. we can't make it suddenly switch which library it was linked against.
[19:46:27] <tjc> now that kibo's name has been mentioned, he'll have to show up
[19:46:45] <jclements> I'm pretty impressed that he's scanning mozilla.org's IRC channels, though.
[19:46:48] <graydon> tjc: well, he was (apparently) just here!
[19:46:53] <graydon> (*not really)
[19:47:03] <kimundi> oh, interesting
[19:47:03] <LRN> graydon, uh...can't you make the code call appropriate unwinding function? Like you did with __gxx_personality?
[19:47:21] <jclements> awwwâ€¦. next you're going to tell me that there's no tooth fairy, either.
[19:47:36] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:47:53] <LRN> (well, __gxx_personality_v0 is not appropriate _for me_, but at least i was able to change it to use __gxx_personality_sj0; That Unwind_Resume call is, likely, generated by rustc itself, and i can't control that)
[19:50:26] <graydon> LRN: possibly, but I don't know how. I don't actually think _any_ unwinding works on windows presently; I think the Unwind_Resume calls are never invoked :(
[19:51:14] <graydon> LRN: the medium-term plan is to switch away from using EH machinery on windows at all and use "return unwind" (a calling convention that uses return values and compiler-injected test/ret pairs) so that we can interoperate better with windows
[19:51:31] <graydon> since no other windows binaries (aside from mingw) understand mingw EH machinery, it's kinda pointless
[19:52:00] <graydon> sjlj or otherwise. windows binaries generally use return codes, or SEH, or the not-available-to-us win64 zero cost thing
[19:52:10] <LRN> uh-oh
[19:52:13] <graydon> (I think! this is all documented about as clearly as mud)
[19:52:53] <LRN> i could try to ask ktietz harder to implement i686 SEH support
[19:53:11] <LRN> (if that helps)
[19:53:20] *** Quits: KIBO (KIBO@moz-127F70CD.bchsia.telus.net) (Quit: Lost terminal)
[19:53:54] *** Quits: cdidd (cdidd@moz-8A758034.broadband.corbina.ru) (Input/output error)
[19:55:17] *** Quits: Blub\w (wry@moz-2F9199BD.wireless.dyn.drei.com) (Ping timeout)
[19:55:47] <graydon> LRN: I think the odds are slim; LLVM is not generating anything SEH-ish at the moment, AIUI
[19:56:13] <graydon> it might? I would be fascinated to see it if so
[19:56:22] <strcat> hmm, haskell implements Ord for Maybe
[19:56:33] <LRN> ah, no, i don't have any connections to LLVM folks
[19:56:35] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: computer sleeping)
[19:56:39] <LRN> i meant gcc
[19:56:45] <strcat> it just does Nothing < Just a
[19:57:11] <graydon> LRN: I understand; just .. we actually emit code for our unwinding via LLVM instructions
[19:57:33] <graydon> LRN: I do not know if it's possible to divorce SEH-invocation and unwinding from codegen
[19:57:58] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[19:57:58] *** ChanServ sets mode: +o brson
[19:59:21] <LRN> graydon, that is completely outside of my experience. From gcc side all i currently have is SJLJ on i686 (and SEH on x86_64). If LLVM also only supports SJLJ, then that is what should be possible to use.
[19:59:26] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[20:00:11] <strcat> graydon: from reading a bit it looks like SJLJ and SEH are both the wrong way to do it
[20:00:19] <strcat> supposed to just call the windows API for unwinding
[20:00:25] <strcat> on both win32/win64
[20:00:27] <graydon> hm?
[20:00:38] <strcat> it's something LLVM has to tackle anyway, not rust
[20:00:43] *** Joins: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP)
[20:00:51] <graydon> this is a muddled conversation
[20:01:01] <LRN> M-m-m-m...maybe i can just compile stage0 myself
[20:01:01] <graydon> LLVM has an abstract model of exceptions
[20:01:49] <graydon> invoke / landingpad / resume
[20:02:57] <graydon> apparently this is augmented with sjlj intrinsics, though I don't understand how they fit together
[20:03:13] <LRN> Do i need a working LLVM to compile stage0?
[20:03:16] <graydon> and I don't understand how to direct LLVM to use a different interpretation of invoke/landingpad/resume than what we do presently
[20:03:23] <graydon> LRN: you need a working stage0
[20:03:26] <graydon> LRN: it's self-hosted
[20:03:36] <LRN> where did you get it, initially?
[20:03:47] <graydon> LRN: we bootstrapped off an ocaml compiler nearly 2 years ago
[20:03:56] <LRN> uh-oh...
[20:03:58] <graydon> this is not a process that one can easily repeat
[20:04:09] <LRN> *sigh*
[20:04:18] <bjz> :)
[20:04:19] <LRN> OK, i give up. No rust for me
[20:04:26] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[20:04:31] <graydon> if you want to make a change to how stage0 _runs_ you have to build a stage3 via an existing stage0 -> 1 -> 2 -> 3
[20:04:33] <graydon> then snapshot it
[20:04:50] <graydon> this is possible, but you need _some_ execution environment that's satisfactory for one of the stage0 binaries
[20:05:28] <graydon> we snapshot regularly. if you can distil a change you want to make, someone on a different platform (either via a cross build or windows-hosted) can produce the change you have in mind
[20:05:48] <graydon> but I don't actually understand what has to happen here, so that feels a bit premature
[20:05:50] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:06:21] *** Quits: burntsushi__ (burntsushi@moz-A046EF37.eecs.tufts.edu) (Quit: Konversation terminated!)
[20:06:42] *** Joins: eholk (eholk@moz-D5BE5964.hsd1.in.comcast.net)
[20:07:48] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:08:00] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[20:09:08] <LRN> graydon, i can show you the hacks i've used to build rust up to this point.
[20:09:22] <graydon> LRN: is it the case that sjlj unwinding doesn't provide an _Unwind_Resume function?
[20:09:31] <graydon> LRN: you're building on mingw-w64?
[20:09:35] <LRN> yes
[20:09:35] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[20:09:42] <graydon> (yes to which?)
[20:09:48] <LRN> yes to both
[20:10:04] <graydon> heh, k
[20:10:07] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[20:11:57] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Ping timeout)
[20:11:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:11:58] <LRN> graydon, http://lrn.no-ip.info/other/rust-mingw-w64-build-patches
[20:12:00] <graydon> I'm interested but this is not ... something I can promise we'll fit in real soon. there's a bug on mingw-w64 but it's sorta competing for love with the bugs about just getting us building on msvc
[20:12:15] <LRN> uh-oh, i see
[20:12:40] <LRN> Anyway, i'm in no hurry. Just wanted to try rust, see if it is as good as it sounds.
[20:12:43] <graydon> it's probably wise to pursue mingw-w64 in the short term, since it's probably a lot less work (and is much more modern)
[20:13:09] <graydon> this is cool. I'm curious what the semantics of _Unwind_Resume are ... supposed to be on sjlj
[20:13:37] <graydon> is there a library missing? or maybe we should be providing a dummy there? or re-invoking longjmp?
[20:14:01] <LRN> I think you can just call _Unwind_SjLj_Resume() instead...no?
[20:14:53] <graydon> I don't know! :)
[20:15:16] <graydon> maybe? I can't tell who's generating the _Unwind_Resume call. is that LLVM lowering the resume instruction?
[20:15:38] <LRN> dunno :(
[20:16:00] <cmr> bstrie: will-do, thanjks
[20:16:25] <graydon> try adding a function _Unwind_Resume to rustrt.dll (and the .def file) that calls _Unwind_Sjlj_Resume() ?
[20:16:40] <graydon> I am completely making stuff up, but you're clearly in "keep hacking until it runs" mood :)
[20:18:39] <graydon> LRN: this is definitely cool, I don't mean to discourage your efforts; I'm just not really clear on what to do next. a bit exploratory.
[20:18:58] <graydon> https://github.com/mozilla/rust/issues/3459 and https://github.com/mozilla/rust/issues/1768 show some of the existing discussion on our wishes!
[20:19:01] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[20:20:06] *** Quits: _Vi (vi@527C345F.497AA854.B16B3BE6.IP) (Ping timeout)
[20:22:48] * graydon has to get some lunch. back in a bit.
[20:23:17] * LRN has to get some sleep. Back in quite a bit.
[20:26:19] *** Quits: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net) (Ping timeout)
[20:27:39] *** Quits: jviereck1 (Adium@moz-96F3A391.dclient.hispeed.ch) (Quit: Leaving.)
[20:28:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:28:57] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/a2Ogfg
[20:28:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:28:58] <cmr> rustc: /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/llvm/lib/VMCore/Instructions.cpp:2383: static llvm::CastInst* llvm::CastInst::CreatePointerCast(llvm::Value*, llvm::Type*, const llvm::Twine&, llvm::Instruction*): Assertion `S->getType()->isPointerTy() && "Invalid cast"' failed.
[20:29:04] <cmr> Is that something /I/ did wrong?
[20:29:19] *** Joins: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net)
[20:31:45] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[20:31:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:31:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/l0ZIag
[20:31:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:34:50] <bstrie> cmr: isn't it obvious?
[20:36:33] <cmr> nope :p
[20:41:56] *** Quits: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP) (Quit: Leaving.)
[20:42:37] *** bent|away is now known as bent
[20:44:35] *** Quits: pyrac (pyrac@moz-B72E3FAF.w109-222.abo.wanadoo.fr) (Quit: pyrac)
[20:44:36] <bjz> does rust use the same floating point constants as the C99 standard?
[20:45:04] <bjz> eg. epsilon min_value max_value min_exp ect?
[20:45:31] <bjz> I notice that they're the same for f64, but there are no constants for f32
[20:45:48] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[20:45:49] <bjz> I'm guessing float has the same as f32
[20:45:57] <bjz> sorry *f64
[20:46:08] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Max SendQ exceeded)
[20:46:15] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[20:47:09] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[20:48:03] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[20:48:15] <kimundi> bjz: seeing how floats are nothing rust specific, I'd say just copy what c99 does? 
[20:48:41] <tjc> what's the status of removing log expressions?
[20:49:03] <bjz> I'm looking at http://www.open-std.org/jtc1/sc22/WG14/www/docs/n1256.pdf
[20:49:24] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:51:08] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[20:52:37] <bjz> section 5.2.4.2.2, item 14
[20:55:44] <bstrie> cmr: that's definitely a bug in the compiler. please report it if you can manage to reduce it
[20:56:36] <bstrie> pcwalton: that wasn't me, I'd never heard of kibo before this conversation :) I was also in a meeting giving a demo at the time, if you need witnesses
[20:56:42] *** Joins: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net)
[20:57:09] <bstrie> however, now that I have heard of him, I have received something to aspire to :)
[20:57:52] <bjz> brson: you seemed to know abit about the primitive types last night, any idea? ^
[20:58:16] <bjz> here's where the constants are defined for f64: https://github.com/mozilla/rust/blob/master/src/libcore/num/f64.rs#L116
[20:59:26] <bjz> also added a comment to the numeric trait issue: https://github.com/mozilla/rust/issues/4819#issuecomment-17039793
[21:02:37] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Ping timeout)
[21:03:24] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[21:06:25] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[21:06:39] *** Joins: _Vi (vi@527C345F.497AA854.B16B3BE6.IP)
[21:07:00] *** Joins: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP)
[21:07:00] *** ChanServ sets mode: +qo graydon graydon
[21:07:45] *** Joins: Wilcov (Wilcov@moz-DE8C8227.adsl-surfen.hetnet.nl)
[21:08:13] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:10:43] *** Quits: Wilcov (Wilcov@moz-DE8C8227.adsl-surfen.hetnet.nl) (Client exited)
[21:19:51] *** Joins: catpig (catpig@moz-10EA25F9.dip0.t-ipconnect.de)
[21:22:01] *** Joins: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP)
[21:23:10] <brson> tjc: removing __log probably requires unsafe globals in order to build up the table of logging sites for the crate map
[21:24:27] <tjc> brson: ok, somehow I thought we were closer. anyway, my immediate concern was whether to close https://github.com/mozilla/rust/issues/4532
[21:24:33] <tjc> I decided to close it
[21:25:41] <brson> bjz: I don't quite understand what you are asking. There are constants in core that are missing?
[21:26:09] <bjz> brson: aye
[21:26:28] <bjz> brson: that define the max/min bounds of floats
[21:27:36] <bjz> brson: from core::f64, it seems to follow C99, but I want to make sure
[21:27:51] <bjz> brson: so I'm not doing cargo cult stuff
[21:29:36] *** Quits: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net) (Input/output error)
[21:31:04] <brson> bjz: ok, yes, I think they need to be defined for float and f32 as well
[21:32:23] <bjz> brson: do we rely on llvm's definitions?
[21:34:27] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[21:36:02] <brson> bjz: I don't think we do
[21:36:16] <brson> but again, I don't quite understand the question
[21:37:03] <bjz> brson: me neither, which is why I'm seeking clarification
[21:37:19] <bjz> maybe jensnockert might be able to help
[21:37:37] <bjz> he seems to be a floating-point buff
[21:39:44] * bjz calls on the floating gurus in the room to step forward
[21:39:51] *** Quits: eholk (eholk@moz-D5BE5964.hsd1.in.comcast.net) (Quit: eholk)
[21:42:15] *** Joins: jfredett (jfredett@moz-EFDA75BA.mycingular.net)
[21:45:07] <Jeaye> Levitating gurus.
[21:46:03] <bjz> "Accio guru!"
[21:46:15] <Jeaye> Sounds like a Harry Potter spell.
[21:46:25] <bjz> it acutally is
[21:46:26] <cmr> It is :p
[21:46:29] <Jeaye> Ahah!
[21:46:44] <bjz> although I don't actually think accio works on humans
[21:47:39] *** Quits: jfredett (jfredett@moz-EFDA75BA.mycingular.net) (Ping timeout)
[21:47:53] <otters> no it doesn't
[21:48:56] <pcwalton> #rust: your source of harry potter trivia
[21:49:02] <Jeaye> Aye.
[21:52:42] <bjz> pcwalton: you wouldn't happen to know about the nitty-gritty of Rust's floats?
[21:52:52] <pcwalton> bjz: what are you curious about?
[21:54:08] <bjz> pcwalton: min/max_value epsilon min/max_exp min/max_10_exp for f64/f32
[21:54:19] <bjz> pcwalton: do we follow C99?
[21:54:24] <pcwalton> we should be following C99
[21:54:27] <pcwalton> we do whatever LLVM does
[21:54:33] <pcwalton> which I think follows C99
[21:54:39] <bjz> pcwalton: I want to add them to the primitive float trait
[21:54:55] <pcwalton> float is f32 on 32 bit and f64 on 64 bit
[21:55:18] <bjz> pcwalton: cool. yeah I tried to find the details of llvm's floats
[21:55:24] <cmr> So with https://github.com/cmr/rust/tree/methodize/char I consistently get https://gist.github.com/cmr/134d656bfd9c754cdb2f. Runs fine before the char commit. I don't know how to strip it down, because I have no idea what could be failing.
[21:55:26] <bjz> pcwalton: but came up empty
[21:55:45] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Ping timeout)
[21:55:52] <bjz> pcwalton: would be nice to have a link for documentation when I make a pull request
[21:56:13] <pcwalton> I'm not sure LLVM has documentation as to the machine semantics
[21:56:17] <pcwalton> unfortunately
[21:57:20] *** Joins: graham_king (graham_kin@moz-61791D81.vc.shawcable.net)
[21:57:22] <bjz> :(
[21:57:58] <bjz> ok, I'll just say that I "assme Rust follows the C99 standard"
[21:59:15] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[21:59:25] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:00:18] <graham_king> Does Rust have a preferred pastebin? For when asking a question.
[22:00:42] <bjz> graham_king: gist
[22:00:48] <graham_king> thanks
[22:01:01] <bjz> graham_king: it has syntax colouring too, which is nice
[22:02:27] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[22:02:49] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Ping timeout)
[22:03:15] <graham_king> Why does 'one' work here, but not 'two'? https://gist.github.com/grahamking/5463592
[22:03:32] <graham_king> I'm sure it's because of something fundamental in memory management / mutability, that I don't grok
[22:03:36] <graham_king> I'm on incoming
[22:03:47] <strcat> graham_king: because @ isn't owned
[22:03:57] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:04:02] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[22:04:19] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[22:04:33] <strcat> http://static.rust-lang.org/doc/tutorial.html#ownership it's covered there and in the owned boxes sections
[22:04:41] <doy> (and mutability is only inherited through owned pointers)
[22:05:19] <strcat> 'let' and '@' are the top-level owners
[22:05:38] <strcat> 'let mut' and '@mut' are the places that can actually make something mutable
[22:05:51] <strcat> mutability doesn't pass through @ because the variable doesn't own what's inside it
[22:07:01] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:07:41] *** Quits: johns (johns@2557E599.66715431.D25A875A.IP) (Ping timeout)
[22:07:56] <graham_king> OK, I follow that mutability is only inherited on owned pointers
[22:08:36] <strcat> @Point{x: 10, y: 20};
[22:08:38] <strcat> the @ owns the Point
[22:08:45] <strcat> and @ is immutable
[22:09:07] <strcat> nothing owns the @ pointer, the type determines the mutability
[22:09:11] <strcat> @  box* rather
[22:09:23] <graham_king> How would I change two() to work?
[22:09:32] <strcat> let a = @mut Point
[22:09:47] <strcat> 'a' only needs to be mutable if you want to assign a different @mut Point to it
[22:09:48] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:09:56] *** Joins: johns (johns@2557E599.66715431.D25A875A.IP)
[22:09:59] <strcat> the mutability of 'a' is unrelated to the mutability of what's in the @ box
[22:10:16] <graham_king> Yes, I figured that out late last night :-) Makes sense now.
[22:10:26] <graham_king> with @mut Point I get an error trying to print it
[22:10:41] <graham_king> illegal borrow unless pure
[22:11:37] <strcat> pcwalton: does the compiler implement == for vectors as a built-in thing?
[22:12:02] <strcat> hmm
[22:12:04] <graham_king> I've update the gist to show the let a: @mut Point..
[22:12:38] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[22:12:50] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[22:13:04] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:13:20] <graham_king> with @mut Point, I can print a, but not a.x
[22:14:51] <pcwalton> strcat: I don't think so but I forget
[22:15:04] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[22:15:16] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:15:21] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[22:17:23] *** bhearsum is now known as bhearsum|afk
[22:17:36] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[22:18:06] <graham_king> In that gist, what would I change on line 15, so that it prints 42?
[22:18:21] <strcat> graham_king: it's a compiler bug
[22:18:25] <strcat> @mut doesn't really work right now
[22:18:38] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[22:18:41] <strcat> in regards to borrowing
[22:18:46] <graham_king> oooooh, thank you.
[22:18:49] * graham_king stops banging head on table
[22:19:02] <strcat> you could get out the value with 'let y = foo.x' but & borrows barely work
[22:19:11] <strcat> (on @mut)
[22:19:56] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[22:20:00] <graham_king> I'm not doing any concurrency. Would the advice be to just use ~ where I need a pointer?
[22:20:33] <strcat> @, & and ~ all work fine
[22:20:41] <strcat> it's only @mut that really has huge issues
[22:20:59] <strcat> you only *need* ~ when you have a recursive data structure
[22:21:45] <strcat> usually you can just have everything unboxed and use &/&mut as-needed
[22:21:57] <graham_king> Without @mut, I won't be able to change any values I have a pointer too though, right?
[22:22:25] <strcat> well @ is immutable, if that's what you're comparing to
[22:22:35] <cmr> There's &mut too
[22:22:46] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[22:23:12] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[22:24:11] <pcwalton> @mut works fine
[22:24:12] <pcwalton> just borrow it first
[22:24:20] <strcat> pcwalton: I don't think that works either
[22:24:23] <pcwalton> we use @mut everywhere in the compiler
[22:24:23] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:24:26] <pcwalton> there are bugs
[22:24:33] <pcwalton> but there's no need for hyperbole
[22:24:35] <pcwalton> @mut generally works
[22:24:43] * strcat hasn't found that to be true ;p
[22:24:47] <strcat> it works if you copy out of it
[22:24:55] <strcat> the compiler uses nested @ and not & borrows into @mut
[22:24:55] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[22:25:27] <pcwalton> there are just those two issues, right?
[22:25:37] <pcwalton> where you can violate memory safety with it
[22:26:01] <pcwalton> what I mean is that if you borrow the entire thing up front when you want to take &mut pointers into it
[22:26:03] <pcwalton> then it works
[22:26:16] <pcwalton> let this: &mut Foo = self; (with @mut self)
[22:26:16] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[22:26:33] <strcat> pcwalton: there are still purity errors
[22:26:43] <pcwalton> not if you borrow the thing up front
[22:26:46] <pcwalton> from what I've seen
[22:26:57] <pcwalton> the purity errors come from attempts to *partially* borrow &mut
[22:27:03] <pcwalton> @mut
[22:27:15] <strcat> pcwalton: well, look at graham_king's example
[22:27:18] <strcat> pcwalton: https://gist.github.com/grahamking/5463592
[22:27:37] <pcwalton> partially borrow it up front
[22:27:40] <strcat> I guess let y = &*a; would work
[22:27:42] <pcwalton> yeah
[22:27:46] <pcwalton> err, fully borrow it up front
[22:27:51] <graham_king> If it do  let z = a.x between lines 14 and 15 it works, I can print z
[22:28:01] <strcat> graham_king: yeah because it copies out
[22:28:16] <pcwalton> nmatsakis: do you have an ETA on the new borrow check?
[22:29:00] <strcat> I could send in a pull req with tests for the various memory safety issues
[22:29:07] <strcat> at least some of them are fixable just by fixing write barriers
[22:29:27] <strcat> all the ones I've found are from write barriers not being 100% working
[22:30:44] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[22:31:14] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:31:58] *** Joins: steven_is_false (quassel@moz-58F8B44F.bchsia.telus.net)
[22:32:58] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[22:33:06] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[22:33:22] <Sodel_the_V> I know trait objects are supposed to work with vars and vectors and such, but they don't seem to be working with enum variants. Is this intended, or a bug?
[22:33:52] <pcwalton> Sodel_the_V: do you have a code example?
[22:34:03] *** Quits: jdm (jdm@941349F4.F58C7D4D.F945DA.IP) (Quit: Lost terminal)
[22:34:30] <Sodel_the_V> One sec, I'll contrive a simple one.
[22:35:48] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[22:36:30] <strcat> pcwalton: http://ix.io/5lC
[22:36:46] <strcat> I guess they should be run-fail tests
[22:37:05] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:37:37] <strcat> I had another 2 somewhere...
[22:37:47] *** Quits: dan_johnsin (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[22:38:16] <strcat> (but I think those solutions fix those too
[22:38:26] <strcat> if only my ')' key worked ;p
[22:38:46] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[22:39:21] <Sodel_the_V> pcwalton: http://pastebin.mozilla.org/2347422
[22:39:52] <Sodel_the_V> ICE
[22:40:09] <pcwalton> oh, I think you need to write enum E { X(@MyT) }
[22:40:17] <pcwalton> the ICE is a bad error message :)
[22:40:24] <strcat> is there ever a case where & borrows of @mut don't work like a stack? (a later borrow outlives an earlier borrow)
[22:40:39] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[22:41:02] <strcat> oh right now I remember what the other 2 bugs were
[22:41:04] <Sodel_the_V> pcwalton: Yaaaay! It works that way, thanks. :)
[22:43:26] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:43:31] *** Quits: otters (joel@moz-82AAB099.rs) (Ping timeout)
[22:43:33] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:44:09] <Sodel_the_V> Trait objects can't be passed or stored "by value", it seems, yes?
[22:44:51] *** Joins: otters (joel@moz-82AAB099.rs)
[22:44:51] <strcat> Sodel_the_V: yeah they're a pointer to the object and a pointer to a table of methods
[22:44:55] <strcat> they don't know how big the object is
[22:45:26] <Sodel_the_V> That's sensible.
[22:45:36] * pcwalton sighs at how the HN thread turned out
[22:45:43] <pcwalton> semicolons and braces, whee!
[22:45:53] <strcat> huh
[22:46:07] <Sodel_the_V> pcwalton: Which thread do you mean?
[22:46:07] <strcat> I can't actually get the write barrier failure to happen except with direct assignments
[22:46:11] <pcwalton> ending with "I'm going back to C++11"
[22:46:16] <pcwalton> which, uh, confused me a bit
[22:46:32] <pcwalton> https://news.ycombinator.com/item?id=5606827
[22:46:34] <friggle> pcwalton: yeah, it depressed me too
[22:47:19] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[22:47:28] <Sodel_the_V> Ahhhhh
[22:47:31] <friggle> I guess it's a good sign? Introduced to a new language and the most major thing to complain about was semicolons vs spaces?
[22:47:48] <strcat> pcwalton: I guess it is more borrowck related than I thought :)
[22:47:51] <pcwalton> I guess so, yeah.
[22:47:54] <strcat> didn't realize &mut borrows were unchecked
[22:48:00] *** kimundi is now known as zz_kimundi
[22:49:15] <graham_king> As a total beginner, I found that LWN explanation of owned vs managed one of the most helpful
[22:49:21] <graham_king> (re the HN thread)
[22:49:58] <graham_king> Would be great to link it from rust-lang, on Other Docs
[22:50:16] <pcwalton> I want to link http://pcwalton.github.io/blog/2013/03/18/an-overview-of-memory-management-in-rust/ as well
[22:50:19] <pcwalton> (shameless plug)
[22:50:43] <graham_king> pcwalton: That's already there, first under "Some Rust classics"
[22:50:43] <strcat> graham_king: do you have any suggestions on what to improve in the tutorial explanations?
[22:50:48] <pcwalton> ah
[22:51:13] <steven_is_false> I heard that Rust doesn't have goto because analyzing the lifetimes would be difficult. Is this the reason why?
[22:51:31] <graham_king> strcat: Yes. I was getting along great until section 7, then I really struggled.
[22:51:41] <graham_king> I think it's need some re-ordering from that point. It's great before that.
[22:52:09] <graham_king> Hitting unsafe, calloc, etc, before for loops, is kinda harsh
[22:52:39] <graham_king> for loops, vectors, strings, could all go before that
[22:52:56] <strcat> vectors and strings can't really
[22:53:19] <graham_king> I would leave pointers and concurrency until later.
[22:53:41] <strcat> vectors/strings are a more complex form of ~, & and @
[22:54:21] <strcat> modules could go first
[22:54:46] <strcat> methods talk about explicit self which builds on pointers
[22:55:09] <graham_king> http://www.rustforrubyists.com/ was very helpful too
[22:55:55] <graham_king> I'd imagine pretty much everyone except C++ folks struggles with the ~ @ & parts. So ideally something that hand-waves about around those
[22:56:14] <pcwalton> well, we have to tackle @ and ~ somehow
[22:56:23] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:56:27] <cmr> I found that the explanation of ~, @, and & was best through the concunrrency model
[22:56:33] <strcat> graham_king: hand-waving just means you don't end up with an understanding of the core features of the language
[22:56:48] <strcat> pretty important to understand mutability and the pointer types
[22:56:53] <engla> is ~ and @ really that hard? I think the confusion is all in references and lifetimes
[22:56:56] <graham_king> Until part 7 of the tutorial it was super easy, then the learning curve took a right angle to the sky
[22:57:16] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[22:57:19] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[22:57:50] <pcwalton> the pointer types are the hardest part
[22:57:52] <strcat> I could make it more clear that it's only showing manual memory management to show what it relieves you of doing
[22:57:54] <pcwalton> they're the "monads" of rust
[22:58:25] <pcwalton> I like to show where the malloc and free get inserted to illustrate how they work
[22:58:27] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[22:58:31] <pcwalton> but that's just my style
[22:58:46] <graham_king> coming from C/Java/Python/Go, I've never had to think about this.
[22:58:47] <Thad> Hi Ho Cherrio guys
[22:58:58] *** Quits: guitsaru (guitsaru@A8985A22.5DF68D0E.4C2245EF.IP) (Ping timeout)
[22:59:01] <pcwalton> graham_king: in C you have to choose when to free stuff though
[22:59:03] <graham_king> So it's part of what makes Rust interesting, but it's definitely a steep curve
[22:59:04] <pcwalton> it's kind of similar
[22:59:04] <strcat> graham_king: you had to think about it in C
[22:59:15] <strcat> you have to know who owns a pointer in C
[22:59:28] <strcat> documentation has to say where ownership is transferred
[22:59:33] <graham_king> yes and no, there's only one type of pointer and it's always mutable
[23:00:11] <strcat> except when it's not
[23:00:22] <cmr> graham_king: it's not a language thing, it's a "do it yourself in your own code" thing
[23:00:25] <cmr> (in C)
[23:00:27] <pcwalton> yeah, I don't really like to think of Rust as having "3 pointer types" anymore
[23:00:37] <strcat> modifying const memory through * is undef behaviour
[23:00:38] <pcwalton> it has 1 pointer type and two smart pointers, which are pointer + when-to-free-it
[23:00:46] <strcat> * can come from all sorts of allocators
[23:00:52] <pcwalton> saying "3 pointer types" just makes it sound like DOS near and far pointers or something
[23:01:33] <pcwalton> it confused even Walter Bright...
[23:01:37] <graham_king> Just from a tutorial point of view, chapter 7 is a big jump. I'd imagine lots of people drop off at that point
[23:01:41] <strcat> C has many kinds of pointers, the type system just doesn't distinguish between them
[23:01:51] <pcwalton> here's a different idea
[23:01:57] <pcwalton> maybe we could introduce references (&) *first*
[23:02:00] <pcwalton> then talk about allocation
[23:02:07] *** Joins: guitsaru (guitsaru@A8985A22.5DF68D0E.4C2245EF.IP)
[23:02:07] <pcwalton> in a separate section
[23:02:17] <cmr> I think the examples are a bit too contrived as well.
[23:02:44] <pcwalton> introduce stack-local allocation first
[23:03:10] <graham_king> pcwalton: Yes.
[23:03:11] <pcwalton> for example, "here is how you make a BlogPost", "here is how you past the BlogPost to a function that prints it to the screen without copying it"
[23:03:12] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[23:03:15] <pcwalton> that uses &
[23:03:33] <pcwalton> now say, "how do I allocate memory? the simplest way is with ~, which frees it at the end of the block"
[23:03:45] <graham_king> yes!
[23:03:47] <pcwalton> "but if your memory doesn't follow this pattern, use @"
[23:04:07] <strcat> pcwalton: 'how do I allocate memory' doesn't really make sense
[23:04:12] <strcat> why would you want to allocate memory?
[23:04:20] <pcwalton> how do I use the heap/freestore
[23:04:26] <pcwalton> yeah, I know, you have to kind of explain how the heap is
[23:04:29] <pcwalton> err, what the heap is
[23:04:53] <graham_king> You can probably assume readers know stack vs heap
[23:05:03] <pcwalton> could use a vector that you're appending to as an example
[23:05:07] <pcwalton> since you don't know the size
[23:05:09] <pcwalton> you have to allocate on the heap
[23:05:14] <strcat> An owned box (~) is a uniquely owned allocation on the heap. It inherits the mutability and lifetime of the owner as it would if there was no box.
[23:05:16] <strcat> The purpose of an owned box is to add a layer of indirection in order to create recursive data structures or cheaply pass around an object larger than a pointer. Since an owned box has a unique owner, it can be used to represent any tree data structure.
[23:05:20] <strcat> can't assume they know stack vs heap
[23:05:33] <strcat> and T acts exactly like ~T from a semantic POV in almost all cases
[23:06:19] <graham_king> Remember that for someone coming from say Python, we're learning the closure syntax, generics, match, traits
[23:06:25] <strcat> there's an example of a recursive struct that doesn't compile because it's infinite-size, and an example that does compile because it uses ~
[23:06:45] <strcat> could throw size_of in there too
[23:06:50] <graham_king> there's a fair amount of stuff, aside from the memory management
[23:06:57] <strcat> the only significance of ~T over T is that it's indirection
[23:07:41] <strcat> graham_king: I wrote it for someone coming from python - I removed all the hand-wavy comparisons to C++ smart pointers that never touched on semantics
[23:07:49] <strcat> I don't know how to improve it from what it is
[23:08:28] <strcat> the destructors section could be done later
[23:08:51] <strcat> maybe the 'you could have invented monads' style isn't a good way to do it
[23:08:57] <Thad> strcat: do you have to say "tree" data structure ?  why not just ... to enclose any data structure ? 
[23:09:26] <cmr> that HN thread is so stupid
[23:09:28] <strcat> Thad: you don't need it to represent most data structures
[23:09:31] <strcat> only recursive ones
[23:09:40] <tjc> that water is so wet
[23:09:52] <cmr> touche
[23:09:54] <Thad> strcat: could it not be used to enclose ANY data structure ?
[23:09:54] <strcat> the *most* it can represent is a tree
[23:09:58] <strcat> Thad: no
[23:09:59] <tjc> ;-)
[23:10:04] <Thad> OK
[23:10:11] <strcat> Thad: "enclose" yes
[23:10:11] <bjz> Luqman: Am I right that the asm sqrt only forks for f32?
[23:10:12] <strcat> represent no
[23:10:16] <strcat> they can only represent trees
[23:10:25] <bjz> Luqman: *works
[23:10:25] <Thad> strcat: That's what I thought ;)
[23:10:41] <graham_king> strcat: Look at Rust For Rubyists, the fizzbuzz section. They introduce closures and for loops, before memory management
[23:10:53] <graham_king> A for loop is a much more common item, than storing a closure in a data structure
[23:11:00] <graham_king> so I think they could be separated
[23:11:19] <strcat> graham_king: I haven't worked on anything but the boxes section
[23:11:25] <strcat> that's what I want to improve
[23:11:31] <graham_king> ah ok
[23:11:38] <strcat> ofc the rest needs work but I don't think it's a big issue
[23:12:07] <strcat> Rust for Rubyists explains most of the language well but you won't know how mutability/ownership/boxes work
[23:12:21] <Thad> strcat: I can be the PERFECT tutorial guinea pig.  I know .001% of C , and then after that about 10% of programming language idioms.
[23:12:28] <strcat> Thad: well that's perfect
[23:12:34] <strcat> ;p
[23:12:54] <Thad> I'm a data architect and dropped Java like a hot potato in 1999
[23:13:04] <strcat> the relevant sections are 8, 9 and 10
[23:13:29] <strcat> 7 is supposed to be a lead-in to it to show what it replaces
[23:13:32] <strcat> but maybe that could go after
[23:13:45] <graham_king> 7 is where I started reading each sentence three times
[23:13:48] <aatch> I'm a terrible tutorial guinea pig.
[23:13:56] <Thad> where's the link for tut ?
[23:14:03] <pcwalton> I think it needs lots and lots of examples
[23:14:06] <strcat> Thad: http://static.rust-lang.org/doc/tutorial.html#destructors
[23:14:10] <Thad> thanks
[23:14:16] <strcat> well if someone can point out the parts that need work, I can work on it
[23:14:23] <strcat> but it does need to explain all the semantics or it's a failure
[23:14:41] *** Quits: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net) (Quit: Leaving...)
[23:14:55] <cmr> Well
[23:15:14] <pcwalton> the biggest problem with "boxes" is that the examples don't say anything about the lifetimes
[23:15:15] <cmr> Perhaps a separate introduction would be good, zip through a highlevel of what problems the language tries to solve and examples of stuff
[23:15:26] <pcwalton> (also I prefer the name "smart pointer" to "box" but that's just me)
[23:15:46] <strcat> pcwalton: I don't think that works
[23:15:53] <strcat> 'owned pointer', the pointer isn't owned
[23:15:54] <strcat> the data is
[23:15:57] <strcat> well
[23:15:59] <strcat> the pointer is too
[23:16:07] <strcat> but 'managed pointer' -> the pointer is owned
[23:16:13] <pcwalton> unique smart pointer
[23:16:16] <pcwalton> is what I usually say
[23:16:19] *** Quits: steven_is_false (quassel@moz-58F8B44F.bchsia.telus.net) (Client exited)
[23:16:26] <strcat> let mut x = @5; x = @6;
[23:16:39] <strcat> won't make sense if you consider the pointer non-owned
[23:17:21] *** Joins: ahsanulhaque (Adium@moz-C1904CC7.banglalionwimax.com)
[23:17:23] <pcwalton> ah, I see, part 7 destructors talks about the lifetimes
[23:17:26] <strcat> cmr: sure, it should explain by real examples
[23:17:30] <Thad> strcat: TIP: Use Simple English style whenever possible.  You have an international audience.  For instance,  "Correctness is left to the programmer, and it's easy to get wrong" ... what your really trying to say is "Correct usage of Resource Management is required by the programmer, and sometime programmers get it wrong."
[23:17:57] <strcat> I could show how to write a data structure like an owned singly-linked list
[23:18:05] <strcat> or an unbalanced search tree
[23:18:07] <Thad> "Correctness is left to the programmer"  really ?  what is right to the programmer ?  what is up to the programmer.
[23:18:19] <brson> i686-unknown-linux-gnu doesn't build for me on incoming
[23:18:39] <Thad> strcat: I wrote technical docs in my past life.
[23:18:44] <pcwalton> the code in 7 relies on int::bytes and impls
[23:18:47] <pcwalton> which are not yet explained
[23:19:01] <graham_king> that: ^
[23:19:16] <pcwalton> if I didn't know what calloc did then I'd be confused by: let a = calloc(1, int::bytes as size_t);
[23:19:26] <pcwalton> I like the sentiment but it needs at least a comment
[23:19:37] <strcat> pcwalton: well I would rather remove that as a lead-in
[23:19:51] <pcwalton> yeah, maybe it's not even worth using calloc
[23:19:56] <cmr> I didn't find the calloc example particularly useful
[23:19:59] <pcwalton> just say allocate_int();
[23:20:00] <pcwalton> or something
[23:20:21] <pcwalton> or just remove it
[23:20:42] <strcat> owned boxes can be explained through implementing a data structure
[23:20:46] <strcat> and explaining where cleanup happens
[23:21:08] <strcat> I kind of started on that with the example that's in there
[23:21:21] <strcat> can just throw out the destructors section and do it later
[23:22:01] <graham_king> Sections 8 and 9 I was OK with, once I decided to ignore 7. They're pretty clear, and they're also "ah, here comes the fun stuff!"
[23:23:29] <strcat> http://ix.io/5lH this could go on to implement a data structure.... but borrowed pointers are going to come out of left field
[23:23:41] <graham_king> It would also be awesome if around say 12 or 13, there was a "you're probably confused right now. That's OK. Use ~ (or whatever) for now"
[23:23:58] <strcat> there's a choice between introducing things before they're explained and using contrived examples
[23:24:28] <pcwalton> I'd rather just not confuse people :)
[23:24:33] <graham_king> hehe
[23:25:05] <strcat> the examples don't do anything useful because they can't without venturing into unexplained stuff
[23:25:35] <graham_king> Do you have to introduce all the types of pointers at once? Could the tutorial just give you one
[23:25:45] <graham_king> and later on, give you the options
[23:25:53] <strcat> it doesn't need to introduce any then
[23:26:01] <strcat> stack allocation works fine
[23:26:24] <bjz> pcwalton: "boxes" could be called "presents". There could be nice lifetime metaphors. like "regifting".
[23:26:33] <cmr> heh
[23:26:37] <strcat> you only need ~ if you're writing a list, a tree, or something recursive like that
[23:27:09] <graham_king> strcat: In that case I think it would way simplify the tutorial to leave them out
[23:27:22] <graham_king> because there's a ton of other fun stuff in there to learn
[23:27:50] <pcwalton> well, you need ~ for vectors.
[23:27:51] <bstrie> I don't have rust right now, can anyone run this gist and let me know if it fails? https://gist.github.com/bstrie/5464049
[23:28:01] <bstrie> or rather, just try compiling it
[23:28:03] <strcat> pcwalton: not really ~ though
[23:28:16] <bstrie> actually
[23:28:16] <pcwalton> sure
[23:28:19] <strcat> ~[] doesn't have an * operator
[23:28:26] <bstrie> strcat: you should make it so that rusti can run gists :)
[23:28:29] <strcat> it's just value semantics (although so is ~)
[23:28:43] <tjc> bstrie: it compiles and runs without failing
[23:28:46] <strcat> pcwalton: perhaps it would be less confusing if you couldn't dereference ~.
[23:28:55] * strcat shrugs ;p
[23:28:57] <graham_king> bstrie: outputs twice rust: ~"~[1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3]"
[23:29:16] <strcat> ofc I guess that's not an option :p
[23:30:07] *** Joins: mib_nmdqiz (Mibbit@moz-15D65ABE.ppp.as43234.net)
[23:30:43] <strcat> the tutorial really needs to explain the whole language - I'm not really talking about it as a whole right now though
[23:30:46] <strcat> just those sections
[23:30:56] <strcat> they can be at the very end of the page, that's fine
[23:31:00] <pcwalton> another possibility is to explain what a smart pointer *is*
[23:31:09] <pcwalton> "a pointer that tracks when to clean up the thing it points at"
[23:31:21] <pcwalton> then explain the two smart pointers built into the language
[23:31:25] <bjz> "mum"
[23:31:30] <cmr> Also explaining why they exist would be useful
[23:31:39] <strcat> cmr: well that's what 7 was supposed to do
[23:31:40] <Thad> strcat: "the stack unwinds"... huh ?  Sec 7. Destructors
[23:31:43] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[23:31:47] <bjz> "she cleans up your presents when you're not using them anymore"
[23:32:07] *** Joins: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net)
[23:32:23] <Thad> strcat: do you have children or a grandmother ?  Curious.
[23:32:25] <graham_king> pcwalton: Someone coming from java/python/ruby is going to be learning "pointers", before "smart pointers"
[23:32:31] <pcwalton> yes, that first
[23:32:34] <pcwalton> explain references first
[23:32:36] <pcwalton> before smart pointers
[23:32:56] <graham_king> I totally think two tutorials: One that goes as far as it can with stack allocation
[23:33:08] <graham_king> and another one you graduate to
[23:33:38] <Thad> graham_king: I like that idea... I need 3rd grade tutorial with my .001% C knowledge
[23:34:05] <bjz> graham_king: that's a good idea. you can do quite a bit with stack allocation and not touching pointers. except for strings an vectors
[23:34:16] <strcat> it really can't use strings and vectors
[23:34:19] <strcat> that's the most confusing part
[23:34:24] <bjz> mm
[23:34:32] <strcat> people ask about [] vs ~[] vs @[] vs slices in here all the time
[23:34:46] <strcat> it's a special case in the syntax, and it *is* confusing
[23:34:55] <bjz> and "just accept that it works" isn't a good way to teach
[23:35:03] <strcat> [1, 2, 3] is fine to use
[23:35:30] <strcat> ~[1, 2, 3] opens up a lot of questions you have to answer, or if you slice it in any way
[23:35:50] *** Quits: mib_nmdqiz (Mibbit@moz-15D65ABE.ppp.as43234.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:36:10] <strcat> although I feel like we don't need to mention pointers at all
[23:36:24] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Computer has gone to sleep.)
[23:36:29] <strcat> for a while
[23:36:47] <strcat> T, ~T, ~[1, 2, 3] all have value semantics
[23:36:58] <strcat> don't need to say ~T is an allocation or a pointer
[23:37:35] <SiegeLord> How will you explain the difference between them without invoking pointers?
[23:37:51] <cmr> They can be used and brushed away for a while.
[23:37:57] <strcat> people understand python without thinking of a = [1, 2, 3] as a pointer to an array of pointers
[23:38:09] <strcat> that's what it is, that's how it acts
[23:38:11] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[23:38:16] <cmr> brushed away as in not explained, that is
[23:38:25] <strcat> if you pass it to a function and the function modifies it, the caller sees the modification
[23:38:31] <strcat> python never calls it a 
[23:38:33] <strcat> 'pointer'
[23:39:01] <cmr> They talk about reference and name semantics all the time though
[23:39:01] * graham_king nods head vigorously
[23:39:18] <Thad> you mean a list of numbers ?
[23:41:22] <cmr> https://gist.github.com/cmr/6ead1e203fa1de8d954b What do I need to do to have everything in one:: be in scope? "unresolved import" means nothing to me.
[23:41:41] <brson> graydon: I am worried that our valgrind failure on incoming might be masking complete bustage on i686 - that is, I can't build on i686
[23:41:50] <Thad> The tutorial seems to be useful to folks with a high level of programming knowledge and experience.  Will there be simpler tutorials later ?
[23:41:51] <strcat> http://book.realworldhaskell.org/read/writing-a-library-working-with-json-data.html that's how you explain enums
[23:41:53] <graydon> oh dear
[23:41:54] *** Quits: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP) (Ping timeout)
[23:41:56] <graydon> brson: is that so?
[23:42:25] <brson> i think that we don't build i686 on auto or incoming-quick, so we haven't built i686 on linux in a few weeks
[23:42:30] <brson> I get a crash in stage1
[23:42:53] <Thad> brson: welcome to my world on windows building as well. :)
[23:43:27] <strcat> anyway I'd rather write a tutorial than try to fix little bits of that one
[23:44:16] <strcat> explaining how to do stuff with the language instead of explaining the language features...
[23:44:29] <strcat> real world haskell does a really good job of that
[23:44:33] <cmr> strcat: that'd be very useful
[23:44:54] <nmatsakis> pcwalton: regarding new borrow checker, I am hoping to start landing first parts this week
[23:44:56] <cmr> I don't understand all or maybe even most of rust yet, but that hasn't stopped me from getting stuff done
[23:44:58] <pcwalton> ok
[23:45:02] <nmatsakis> pcwalton: I was going to look today and see what I could carve up
[23:45:15] <nmatsakis> pcwalton: or rather right now
[23:45:19] <Thad> strcat: agreed on a How To Do Stuff With Rust.
[23:45:22] *** Quits: libertas (libertas@moz-921AEBAB.net.novis.pt) (Ping timeout)
[23:45:26] <brson> graydon: oh, the bot does get through the i686 build on incoming, so it must be something local
[23:45:39] <strcat> Thad: well I just mean explaining the language features through using them
[23:45:45] <strcat> it would eventually replace that tutorial
[23:46:07] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[23:46:20] <graydon> brson: I'm on windows here, I'll try to reproduce
[23:47:03] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[23:47:07] <Thad> strcat: yes, I understand the approach, it's a good idea.  Children learn by their native language by hearing and repeating... repetition is the key.  Reuse, Reuse, Reuse.
[23:47:09] <graham_king> fwiw I built incoming last night on x86_64, no problems
[23:47:11] <strcat> Thad: https://github.com/mozilla/rust/blob/incoming/doc/tutorial-ffi.md like that... but simpler topics ofc
[23:47:27] <strcat> and that isn't dragged out enough yet ;p, goes too fast
[23:47:34] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Connection reset by peer)
[23:47:51] *** Quits: ashadow (shadow@E87F0567.4681996E.A13F77CD.IP) (Quit: Leaving)
[23:47:52] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[23:48:17] <nmatsakis> pcwalton: I also need to rebase that extern "C" patch...
[23:48:42] <nmatsakis> pcwalton: we should talk about the next steps there, let me go rebase that now, hopefully won't be hard
[23:48:50] <strcat> explaining *how* to implement a linked list and then moving on to a persistent linked list
[23:48:58] <strcat> would do a great job explaining both ~ and @
[23:49:29] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:50:11] *** Quits: bent (chatzilla@F2D29657.F60B0462.67AC9B1.IP) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[23:50:20] *** Parts: graham_king (graham_kin@moz-61791D81.vc.shawcable.net) ()
[23:52:41] <Thad> strcat: that ffi tutorial is still requires quite a bit of C idioms or background in assignments, functions themselves, etc.  but I get the idea.
[23:52:51] <strcat> it's an ffi tutorial though
[23:53:04] <strcat> you need to know C to write bindings to a C library
[23:53:29] <Thad> strcat: by the time you hit that.... you would have to know quite a bit... understood, agreed.
[23:54:06] *** Quits: luisbg (luisbg@moz-E7587DBE.collabora.co.uk) (Quit: Coyote finally caught me)
[23:54:15] *** Joins: jaen (jaen@moz-A81FFD2D.internetdsl.tpnet.pl)
[23:54:24] *** Quits: jaen (jaen@moz-A81FFD2D.internetdsl.tpnet.pl) (Quit: WeeChat 0.4.0)
[23:55:18] <strcat> I don't think comparing to C is helpful so I'm removing that part
[23:55:25] <strcat> (in the regular tutorial)
[23:55:33] <strcat> can do that elsewhere
[23:56:01] <tjc> graydon: is bors stuck?
[23:56:05] <tjc> buildbots seem to be idle
[23:56:11] <tjc> but there's still stuff in the queue
[23:56:37] <strcat> implementing destructors can be covered in the ffi tutorial, and unsafe
[23:57:05] <Thad> strcat: I have gained quite a bit of background knowledge since Graydon pointed me towards learning about FFI, for my grand design task of writing a Graph Database in Rust.  I will need to learn more about FFI in the future certainly.   Agreed, staying away from C idioms and comparisons in a tutorial is best.  Rust already has the "if your coming from C land" doc already.
[23:57:35] *** Joins: btipling (btipling@moz-BEC82197.dsl.dynamic.sonic.net)
[23:57:42] <brson> I'm bisecting this i686 crash
[23:59:27] *** Quits: btipling (btipling@moz-BEC82197.dsl.dynamic.sonic.net) (Quit: Computer has gone to sleep.)
[23:59:43] <Thad> strcat: It's amazing what I've learned in just 4-6 weeks however.  I thought many things would take much longer like many months.
[23:59:45] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:59:45] *** ChanServ sets mode: +o dherman
