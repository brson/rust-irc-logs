[00:01:03] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[00:02:36] <csherratt> Gankro: 
[00:08:12] *** Quits: sambotron (sambotron@moz-nao11s.ca.comcast.net) (Connection closed)
[00:19:04] *** Quits: brson (brson@moz-h4f.m43.48.37.IP) (Ping timeout: 121 seconds)
[00:19:22] *** Joins: brson (brson@moz-q9q.abh.232.109.IP)
[00:38:47] *** Joins: gamakichi (Mibbit@moz-4aoqs8.ca.comcast.net)
[00:39:52] *** Quits: gamakichi (Mibbit@moz-4aoqs8.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:44:53] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[00:47:23] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[00:47:55] *** Quits: ytain (ytain@moz-aope4o.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:51:01] *** Joins: davebettin (davebettin@moz-9u5kie.hfc.comcastbusiness.net)
[00:53:01] *** Joins: libfud (libfud@moz-p2rb38.eph2.ptd.net)
[00:55:23] *** Quits: davebettin (davebettin@moz-9u5kie.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[00:55:33] *** Joins: sambotron (sambotron@moz-nao11s.ca.comcast.net)
[00:56:07] *** Joins: lenstr (lenstr@moz-45l.vju.25.171.IP)
[01:00:09] *** Quits: lenstr (lenstr@moz-45l.vju.25.171.IP) (Ping timeout: 121 seconds)
[01:00:46] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:08:31] *** Joins: sargas (sargas@moz-i59fus.slkc.qwest.net)
[01:08:47] *** Quits: sargas (sargas@moz-i59fus.slkc.qwest.net) (A TLS packet with unexpected length was received.)
[01:09:06] *** Joins: KdotPNG (KdotJPG@moz-53k1g0.ncstate.net)
[01:10:37] *** Joins: palodequeso (quassel@moz-45ieh4.dhcp.embarqhsd.net)
[01:13:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:15:40] *** Joins: sargas (sargas@moz-i59fus.slkc.qwest.net)
[01:15:45] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[01:16:50] *** Quits: sargas (sargas@moz-i59fus.slkc.qwest.net) (Quit: Leaving)
[01:16:58] *** Joins: sargas (sargas@moz-i59fus.slkc.qwest.net)
[01:17:54] *** Quits: sargas (sargas@moz-i59fus.slkc.qwest.net) (Quit: Leaving)
[01:18:00] *** Joins: sargas (sargas@moz-i59fus.slkc.qwest.net)
[01:23:04] *** Quits: sargas (sargas@moz-i59fus.slkc.qwest.net) (Quit: Leaving)
[01:23:10] *** Joins: OmniMancer (omnimancer@moz-b00.dat.149.118.IP)
[01:24:52] *** Joins: davebettin (davebettin@moz-2gcffi.bhak.dqhm.0007.2601.IP)
[01:28:26] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[01:29:13] *** Quits: davebettin (davebettin@moz-2gcffi.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[01:32:11] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:42:48] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:43:45] *** Joins: guycook (quassel@moz-ircp2q.snap.net.nz)
[01:51:02] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:51:57] *** Quits: brson (brson@moz-q9q.abh.232.109.IP) (Quit: leaving)
[01:58:49] *** Quits: dmac__ (dmac@moz-h4nvlf.ca.comcast.net) (Ping timeout: 121 seconds)
[02:03:14] *** Quits: bojo1 (bojo@moz-lnv.5ph.126.65.IP) (Client exited)
[02:04:36] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[02:08:56] *** Joins: p1start (p1start@moz-nftjhe.org)
[02:13:08] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:15:55] *** Quits: zz_kimundi (kimundi@moz-plsk15.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:17:19] *** Joins: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de)
[02:17:21] *** zz_kimundi is now known as kimundi
[02:31:00] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Connection closed)
[02:31:30] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:32:02] *** Quits: sambotron (sambotron@moz-nao11s.ca.comcast.net) (Quit: )
[02:36:04] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[02:44:39] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:45:10] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:49:54] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:50:00] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:53:51] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[02:57:32] *** Joins: lenstr (lenstr@moz-45l.vju.25.171.IP)
[02:58:15] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[03:01:38] *** Quits: lenstr (lenstr@moz-45l.vju.25.171.IP) (Ping timeout: 121 seconds)
[03:08:30] *** Joins: mindtree (Mitch@moz-do07e9.iprimus.net.au)
[03:18:55] *** Joins: davebettin (davebettin@moz-dk81ae.bhak.dqhm.0007.2601.IP)
[03:31:53] *** Quits: guycook (quassel@moz-ircp2q.snap.net.nz) (Connection closed)
[03:44:43] *** Quits: davebettin (davebettin@moz-dk81ae.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[03:58:52] *** Joins: lenstr (lenstr@moz-45l.vju.25.171.IP)
[04:01:37] *** Quits: orangeshark (erik@moz-vqc8io.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:02:55] *** Quits: lenstr (lenstr@moz-45l.vju.25.171.IP) (Ping timeout: 121 seconds)
[04:19:28] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[04:19:59] <ty> What build optimizations are people here using for their "debug" builds?
[04:20:35] <ty> I find that the regular cargo "debug" is absurdly slow for gamedev, but I can't find ways to turn off e.g. overflow checking 
[04:33:55] *** Quits: Wild_Cat (Max@moz-ijo.rq2.175.184.IP) (Ping timeout: 121 seconds)
[04:38:11] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[04:40:57] <aatch> ty, for overflow checks, you can pass -Z force-overflow-checks=off
[04:41:24] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:41:37] <aatch> (to rustc, no idea how to do it through cargo)
[04:42:00] <aatch> I'm working pretty much entirely in floating-point, so overflow hasn't been an issue for me.
[04:43:20] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[04:51:54] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Quit: Leaving)
[04:56:12] *** Joins: Feyn (Feyn@moz-qqa.rg0.115.42.IP)
[05:01:22] *** Quits: tomaka (Pierre@moz-95aurp.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[05:09:37] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:14:56] *** Joins: tomaka (Pierre@moz-m1l3v0.abo.wanadoo.fr)
[05:22:34] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[05:23:04] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:24:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[05:26:36] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[05:26:42] *** Quits: O01eg (o01eg@moz-cud.37c.212.176.IP) (Client exited)
[05:33:45] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[05:35:53] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[05:35:59] *** Joins: eddyb (Mibbit@moz-iqh.t0c.166.109.IP)
[05:44:17] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[05:52:07] * tomaka is going to completely change buffer handling in glium \o/
[05:52:45] <tomaka> calling VertexBuffer::new() will create an immutable buffer, which can only be modified by uploading data to another buffer and then copying it
[05:53:03] <tomaka> and VertexBuffer::dynamic() will create a persistent-mapped buffer
[05:53:14] <tomaka> that's an internal change only, the API stays the same
[05:53:41] <tomaka> but buffer.write() will either create a buffer, write data, copy data, destroy in the case of an immutable buffer
[05:53:55] <tomaka> or just write to the mapped buffer in case of a dynamic buffer
[05:54:13] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:55:41] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[05:56:31] *** Quits: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca) (Quit: Leaving)
[05:56:52] *** Quits: perillamint (perillamint@moz-pvo.3mu.72.61.IP) (Quit: Quit - Powered by ZNC)
[05:58:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:00:09] *** Joins: lenstr (lenstr@moz-45l.vju.25.171.IP)
[06:04:10] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:04:16] *** Quits: lenstr (lenstr@moz-45l.vju.25.171.IP) (Ping timeout: 121 seconds)
[06:04:38] *** Joins: sillesta (sillesta@moz-501od2.business.telia.com)
[06:04:46] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:06:01] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:08:49] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:11:17] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[06:12:05] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:13:08] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[06:13:17] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:17:49] *** Joins: skitoo (Thunderbird@moz-urd0va.fbx.proxad.net)
[06:20:17] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:20:27] *** Quits: niconii (nicole@moz-isj0f9.frgo.qwest.net) (Quit: leaving)
[06:23:34] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:27:36] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[06:28:33] *** Joins: perillamint (perillamint@moz-pvo.3mu.72.61.IP)
[06:33:17] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:33:42] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[06:35:07] *** Joins: OmniMancer1 (OmniMancer@moz-6m1jrb.xtra.co.nz)
[06:36:58] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:40:54] *** Joins: davebettin (davebettin@moz-soap74.bhak.dqhm.0007.2601.IP)
[06:44:56] *** Quits: davebettin (davebettin@moz-soap74.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[06:45:40] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:50:23] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[06:50:53] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[06:50:57] *** Quits: jensnockert (jensnockert@moz-kqmfiv.cust.tele2.se) (Connection closed)
[06:54:19] *** Quits: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:57:48] *** Joins: m104ru (m104ru@moz-j4k.8g6.153.93.IP)
[07:02:57] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:07:27] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:09:11] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[07:11:35] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[07:17:43] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:17:44] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[07:25:00] *** Quits: eddyb (Mibbit@moz-iqh.t0c.166.109.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:26:05] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:27:34] *** Joins: jensnockert (jensnockert@moz-0rd3rj.siw.siwnet.net)
[07:28:40] *** Quits: KdotPNG (KdotJPG@moz-53k1g0.ncstate.net) (Ping timeout: 121 seconds)
[07:30:07] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[07:30:10] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:30:21] *** Quits: jensnockert (jensnockert@moz-0rd3rj.siw.siwnet.net) (Connection closed)
[07:32:47] *** Joins: jensnockert (jensnockert@moz-0rd3rj.siw.siwnet.net)
[07:45:54] *** Joins: eerie (eerie@moz-qpq8ku.red.bezeqint.net)
[07:46:55] *** Quits: jensnockert (jensnockert@moz-0rd3rj.siw.siwnet.net) (Quit: )
[07:47:38] *** Joins: KdotPNG (KdotJPG@moz-53k1g0.ncstate.net)
[07:47:43] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:53:36] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[07:56:15] *** Quits: tinaun (tinaun@moz-7l08ds.ct.comcast.net) (Quit: )
[07:57:06] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:01:36] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:04:05] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:05:44] *** Joins: kkimdev (kkimdev@moz-f7j6af.59gh.vk5s.0000.2620.IP)
[08:05:59] *** Quits: mtsr (mtsr@moz-hphuar.yourbnc.co.uk) (Quit: YourBNC - (https://yourbnc.co.uk))
[08:08:37] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:09:36] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:11:44] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:12:01] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[08:13:56] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[08:14:00] *** Joins: lenstr (lenstr@moz-45l.vju.25.171.IP)
[08:16:09] *** Joins: eerie_ (eerie@moz-qpq8ku.red.bezeqint.net)
[08:16:24] *** Joins: mtsr (mtsr@moz-hphuar.yourbnc.co.uk)
[08:19:00] *** Quits: eerie (eerie@moz-qpq8ku.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:20:16] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[08:24:01] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:24:35] *** Quits: kkimdev (kkimdev@moz-f7j6af.59gh.vk5s.0000.2620.IP) (Quit: Leaving)
[08:24:56] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:26:35] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:28:39] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:30:37] *** Joins: erz (erz@moz-83ijfr.broadband.corbina.ru)
[08:34:55] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:46:12] *** Joins: eerie (eerie@moz-qpq8ku.red.bezeqint.net)
[08:46:12] *** Quits: eerie_ (eerie@moz-qpq8ku.red.bezeqint.net) (Connection closed)
[08:50:53] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:54:55] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[08:56:02] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[08:58:14] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:01:34] *** Joins: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de)
[09:02:44] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:11:42] *** Joins: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net)
[09:12:23] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Ping timeout: 121 seconds)
[09:13:44] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[09:18:04] *** Joins: askalski (akuda@moz-857tih.warszawa.vectranet.pl)
[09:18:08] *** Quits: askalski (akuda@moz-857tih.warszawa.vectranet.pl) (Connection closed)
[09:18:17] *** Quits: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:22:03] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[09:34:46] *** Quits: lenstr (lenstr@moz-45l.vju.25.171.IP) (Quit: Leaving...)
[09:37:44] *** Joins: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP)
[09:41:34] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[09:41:54] *** Quits: skitoo (Thunderbird@moz-urd0va.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:44:57] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[09:48:06] *** Joins: edlothiol (user@moz-chhfor.hsi02.unitymediagroup.de)
[09:49:11] *** Quits: KdotPNG (KdotJPG@moz-53k1g0.ncstate.net) (Ping timeout: 121 seconds)
[09:49:27] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[09:51:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[09:52:23] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:55:36] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:55:47] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[09:56:53] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:57:21] *** Joins: tokamach (tom@moz-32b.ksc.221.90.IP)
[10:16:24] *** Joins: eerie_ (eerie@moz-qpq8ku.red.bezeqint.net)
[10:19:24] *** Quits: eerie (eerie@moz-qpq8ku.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:21:26] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[10:24:20] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:34:54] *** Joins: genbattle (genbattle@moz-n5c2kc.xtra.co.nz)
[10:46:34] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:47:40] <tomaka> 3 to 10% performance gain after my latest glium PR \o/
[10:49:16] <tomaka> Caching uniform values in programs will also offer a good performances boost
[10:49:36] *** Quits: eerie_ (eerie@moz-qpq8ku.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:50:04] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[10:51:04] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:52:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:54:47] <tomaka> After this, I'll just need to add indirect draw calls
[10:55:25] <tomaka> And I'll be almost at "approaching zero drivers overhead"
[10:55:51] <tomaka> only bindless textures will be missing, because of the difficult-to-design API
[10:55:54] *** Quits: genbattle (genbattle@moz-n5c2kc.xtra.co.nz) (Ping timeout: 121 seconds)
[10:56:46] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:59:48] *** Joins: twipeD (wipeD@moz-272n35.dip0.t-ipconnect.de)
[10:59:54] *** Joins: SerialVelocity (SerialVeloc@moz-4veduv.ic.ac.uk)
[11:06:30] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[11:08:36] *** Quits: mithsv_ (mithsv@moz-gahb71.dynamic.caiway.nl) (Quit: )
[11:13:42] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[11:18:36] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[11:18:58] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[11:19:59] *** Joins: untitaker_ (untitaker@moz-7buc2d.highway.telekom.at)
[11:20:16] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[11:22:11] *** Quits: ty (ty@moz-i6c4to.wa.comcast.net) (Ping timeout: 121 seconds)
[11:22:44] *** Quits: untitaker (untitaker@moz-nov94a.highway.telekom.at) (Ping timeout: 121 seconds)
[11:23:07] *** Quits: palodequeso (quassel@moz-45ieh4.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[11:28:33] *** Quits: SerialVelocity (SerialVeloc@moz-4veduv.ic.ac.uk) (Connection closed)
[11:34:54] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[11:35:50] *** Joins: mate (Mibbit@moz-tpjl46.co.comcast.net)
[11:37:40] *** Joins: eddyb (eddyb@moz-1l2.6n6.26.188.IP)
[11:39:34] *** Joins: KdotPNG (KdotJPG@moz-qjdum2.ncstate.net)
[11:40:45] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:45:12] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:45:25] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:53:31] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:54:12] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:57:33] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:59:23] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[12:08:05] *** Quits: eddyb (eddyb@moz-1l2.6n6.26.188.IP) (Connection closed)
[12:09:18] *** Joins: eddyb (Mibbit@moz-1l2.6n6.26.188.IP)
[12:14:59] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:18:08] *** Joins: mithsv (mithsv@moz-rt6.ris.89.145.IP)
[12:23:53] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[12:26:58] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[12:29:00] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Connection closed)
[12:31:07] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[12:35:06] <sillesta> tomaka: isn't it just replacing 'BindTexture(obj); TextureThing(foo, bar)' with 'TextureThing(obj, foo, bar)'?
[12:36:18] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[12:36:52] <Amaranth> http://blog.duangle.com/2015/04/towards-realtime-deformable-worlds-why.html looks interesting
[12:37:19] <Amaranth> Talks about using tetrahedra instead of voxels for deformable terrain
[12:37:32] <Amaranth> 3D triangle instead of a 3D pixel
[12:38:11] <OmniMancer1> use 4d tetrahedra!
[12:38:38] *** Quits: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP) (Client exited)
[12:38:49] <aatch> Amaranth, seems reasonable. Finite-element analysis tends to use tetrahedra too.
[12:38:53] *** Joins: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP)
[12:39:48] <Amaranth> aatch: Yeah, I think that's where the guy got the idea from. He mentions them being called "Finite Element Meshes" and talks about their use in other fields.
[12:42:22] <aatch> Amaranth, The guy behind Digital Molecular Matter used them for simulating objects that can fracture.
[12:42:39] <tomaka> sillesta: except you have to guarantee that the texture still exists
[12:43:15] <sillesta> isn't it bound by some lifetime? (not entirely sure how glium works, sorry :()
[12:43:23] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[12:43:57] <Amaranth> aatch: Knew that sounded familiar, he linked to the paper that talked about that use in the star wars game
[12:44:24] *** Quits: Feyn (Feyn@moz-qqa.rg0.115.42.IP) (Quit: Leaving)
[12:44:26] <tomaka> sillesta: you *could* use lifetimes, but makes the buffer annoying to use
[12:44:28] <aatch> Amaranth, yeah, the guy did his PhD thesis on it, then worked with LucasArts to make DMM
[12:44:38] <tomaka> sillesta: as you would have to make sure that the buffer doesn't outlive the textures it is storing
[12:45:16] <sillesta> i've never used the new direct state access stuff, i should read up on it some more..
[12:47:37] <eddyb> Amaranth: tetrahedra is an obvious choice, but how do you tile it?
[12:47:44] <eddyb> s/it/them
[12:48:09] <OmniMancer1> you can't :(
[12:48:13] <eddyb> I never figured that out on my own
[12:48:14] <OmniMancer1> they don't fill space 
[12:48:36] <eddyb> >:(
[12:48:58] <aatch> Huh? Of course they do.
[12:49:12] <OmniMancer1> aatch: regular tetrahedrons don't fill space
[12:49:31] <Amaranth> http://en.wikipedia.org/wiki/Tetrahedron_packing
[12:50:16] <Amaranth> simplex noise uses slightly irregular tetrahedra for this
[12:50:59] <tomaka> sillesta: DSA has nothing to do wits bindless textures
[12:51:07] <eddyb> at least it wasn't because I was dumb :P
[12:51:10] <aatch> Ah, right.
[12:51:11] <sillesta> oh?
[12:51:18] <OmniMancer1> clearly you must use the 5-cell instead
[12:51:22] <Amaranth> eddyb: http://en.wikipedia.org/wiki/Tetragonal_disphenoid_honeycomb
[12:51:25] <tomaka> sillesta: bindless textures are a vulkan-like thingy
[12:51:35] <sillesta> i thought it was related to https://www.opengl.org/registry/specs/EXT/direct_state_access.txt ?
[12:51:39] <tomaka> no
[12:51:55] <eddyb> tomaka: please tell me you can share GL contexts between windows
[12:52:07] <tomaka> eddyb: hum, no
[12:52:24] <tomaka> eddyb: wait, you can
[12:52:39] <Amaranth> eddyb: I don't think GLX supports that
[12:52:53] <eddyb> I don't want a million copies of the same textures
[12:52:54] <OmniMancer1> eddyb: probably depends on dark and arcane magics
[12:52:59] <tomaka> eddyb: just call .with_shared_lists(&first_window) when you create the second window
[12:53:10] <Amaranth> I mean, I think the spec says it supports that but it's one of the things the Xorg folks broke, discovered no one cared, and then just dropped as a feature
[12:53:33] <tomaka> yeah, I currently forbid doing this in glium as I know it's not reliable
[12:53:39] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[12:53:43] <sillesta> unimplemented for osx iirc
[12:53:53] <OmniMancer1> Amaranth: it would also have weird edge cases for multi GPU 
[12:53:55] <tomaka> unimplemented by glutin you mean
[12:54:01] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:54:05] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[12:54:12] <sillesta> unimplemented by glutin on osx :)
[12:54:21] <eddyb> tomaka: and I can use, e.g. gfx with a new framebuffer but the same factory and device?
[12:54:37] <tomaka> eddyb: absolutely no idea
[12:54:39] <mate> he gave up with voxels abit too early imo
[12:54:56] <tomaka> eddyb: lists sharing shares textures and buffers, but not framebuffer objects or vertex array objects
[12:54:56] <eddyb> I should try and see just how horribly broken it is
[12:55:04] <tomaka> eddyb: I don't know what gfx is doing
[12:55:19] <eddyb> that's interesting...
[12:55:26] <tomaka> one of my arguments is that gfx hides this in its implementation, which leads to unsafety
[12:56:13] <eddyb> I want to render to different windows by simply changing the framebuffer in use
[12:56:33] <tomaka> you'd have to change the current context
[12:56:36] <tomaka> one window = one context
[12:56:55] <tomaka> the trick is that contexts share objects, so textures created in one of them are visible to the other for example
[12:57:09] <eddyb> I guess I should start with a barebones gfx-rs/glutin example
[12:57:48] <eddyb> tomaka: well, that saves me *some* design work, I guess. is it known to work on windows?
[12:58:03] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:58:25] <tomaka> hmmm, I think it does as long as you don't have multiple GPUs
[12:58:46] <OmniMancer1> stupid leaky abstraction APIs :P
[12:59:01] <tomaka> the problem is that windows chooses the OpenGL implementation to use depending on where you create your window
[12:59:14] <eddyb> lol
[12:59:15] <mate> fuk opengl
[12:59:23] <OmniMancer1> tomaka: as in which screen?
[12:59:36] <tomaka> I think so
[12:59:48] <OmniMancer1> that is perfectly sane
[12:59:56] <tomaka> I'm not totally sure about how it behaves since I don't have multiple GPUs
[12:59:58] <eddyb> top left corner will always overlap the parent window
[13:00:02] <OmniMancer1> as obviously you want to display your window on that screen
[13:00:29] <tomaka> anyway, you won't have a nasty crash but lists sharing will fail
[13:00:36] <OmniMancer1> I have multiple CPUs but also the weird nvidia optimus thing so it does strange magic
[13:00:37] <eddyb> OmniMancer1: on linux I can have a window across two screens
[13:00:54] <OmniMancer1> eddyb: linux does some strange contortions to make that work
[13:01:10] <eddyb> what happens on windows?
[13:01:14] <OmniMancer1> eddyb: this can include taking the frame buffer and actually copying it onto the other card to display it
[13:01:31] <OmniMancer1> with optimus I believe this is the way ALL output from the nvidia card happens
[13:01:34] <aatch> You can have a window across on two screen on windows too.
[13:01:37] <eddyb> oh, that makes sense
[13:01:58] <OmniMancer1> as the intel is the one connected to the inputs so you can turn the beefy one off to save power
[13:02:52] <tomaka> that's why my approach for glium is "forbid everything except what is known to work"
[13:03:09] <tomaka> I think it's a sane thing to do
[13:03:39] <OmniMancer1> I get the feeling that multi GPU is not a very well thought out subject (that is in the case of multiple independent cards driving screens separately)
[13:04:22] <Amaranth> mate: Why do you think he gave up too early?
[13:04:28] <tomaka> Vulkan will be able to use multiple GPUs from different vendors
[13:04:46] <tomaka> within the same app
[13:04:49] <Amaranth> mate: For the most part I agree with him on all the problems with voxels, my question would be if using tetrahedra is actually better
[13:04:51] <tomaka> and that's nice
[13:04:53] <tiffany> I don't know what else you would do besides copy framebuffers between screens
[13:05:01] <OmniMancer1> tomaka: yes it will atleast make it explicit
[13:05:14] <OmniMancer1> but I don't think it will be trivial to move between them
[13:05:29] <tomaka> nothing's trivial with vulkan
[13:05:35] <tiffany> afaik, in optimus configuration the nvidia GPU has no dedicated sharing mechanism with the intel GPU, only the PCI bus
[13:05:45] <OmniMancer1> tiffany: well you can alternatively have the window appear black or force the window manager not to let you move it
[13:05:57] <tiffany> that is not a better solution
[13:06:05] <OmniMancer1> tiffany: yes it has to copy to the main system ram
[13:06:53] <Amaranth> Eh? I thought they DMA'd the framebuffer to the intel GPU, no CPU or RAM involvement
[13:07:37] <mate> Amaranth: because i use voxels and it runs plenty fast with high detail.  And much of the problems he lists for voxels are implementation problems not general problems
[13:07:41] <OmniMancer1> Amaranth: the intel GPU has no video ram
[13:07:47] <OmniMancer1> it uses system memory
[13:07:57] <Amaranth> OmniMancer1: Sort of
[13:08:06] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:08:20] <OmniMancer1> anyway it does have to go through the PCI interface
[13:08:23] <Amaranth> It uses system memory but it's more like they partition off a piece of system memory that the OS no longer gets to touch
[13:08:54] *** Quits: m104ru (m104ru@moz-j4k.8g6.153.93.IP) (Ping timeout: 121 seconds)
[13:08:59] *** Joins: SerialVelocity (SerialVeloc@moz-4veduv.ic.ac.uk)
[13:09:14] <Amaranth> At least on Linux they still do it that way because while the CPU and GPU can share the same address space and directly read/write from each other's memory it turns out to be faster to still partition it off, treat them as separate, and copy things across the divide
[13:09:33] <OmniMancer1> yes
[13:09:41] <mate> Amaranth: such as storage. There is no reason to 'store' voxels
[13:09:45] <OmniMancer1> but this would still be a DMA transfer to main memory
[13:10:28] <Amaranth> mate: I guess you're going for only storing modifications and regenerating the data every time?
[13:10:36] <Amaranth> Although that still requires storing it in RAM at last
[13:10:41] <Amaranth> s/last/least/
[13:11:06] <mate> yes
[13:11:20] <Amaranth> What is your render distance in voxels?
[13:11:58] <mate> as far as I want, i think i have it at around 200,000 meters right now or something like that
[13:12:16] <Amaranth> That's not what I asked :)
[13:12:29] <mate> what did you ask?
[13:12:30] <Amaranth> 1024^3 voxels is 1GB if you manage to only use 1 byte per voxel
[13:12:53] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:12:54] <mate> my stuff doesn't work like that
[13:13:00] <Amaranth> 1024^3 in your setup might be many kilometers if your detail resolution is low enough
[13:13:03] <mate> it has nothing to do with minecraft etc
[13:13:36] <mate> i never store grids of voxels even in ram
[13:13:59] <aatch> mate, have you not considered that maybe your situation isn't quite the same as the NOWHERE guy?
[13:14:45] <Amaranth> signed distance functions you recompute every frame on the GPU then?
[13:14:52] <KdotPNG> <Amaranth> simplex noise uses slightly irregular tetrahedra for this
[13:15:08] <KdotPNG> It's the tetragonal disphenoid honeycomb, which is a tiling where all the vertices form the Body Centered Cubic lattice
[13:15:26] <Amaranth> KdotPNG: Yep, that's what this guy appears to be using for his engine too
[13:15:35] <Amaranth> And most of the papers he references use it
[13:15:36] <KdotPNG> as a result from its construction by squashing a cubic lattice, it's rotated/reflected across the main diagonal
[13:15:46] <KdotPNG> so you don't get the square faces in cardinal planar slices
[13:16:57] *** KdotPNG is now known as KdotJPG
[13:17:48] <KdotJPG> Something I think would be cool would be a voxel engine using rhombic dodecahedra
[13:18:03] <Amaranth> He seems to be really happy with the concept, he can use the same format for terrain, liquid simulation, and model animation
[13:18:26] <KdotJPG> they tile space, they can be constructed using 24 "tetragonal disphenoids", and they're the voronoi cell of the FCC lattice (OpenSimplex 3D)
[13:19:08] <KdotJPG> they're also a parallel vertex-first projection of a tesseract but that's another story.
[13:19:19] <Amaranth> This crazy thing: http://en.wikipedia.org/wiki/24-cell :D
[13:19:24] <KdotJPG> dat net tho
[13:20:15] <OmniMancer1> yay for 4D
[13:20:19] <KdotJPG> voronoi cell of the (annoying) D4 lattice.
[13:20:55] <KdotJPG> (it's annoying because it's the best lattice packing, best lattice covering, and best quantizer in 4D.... but no matter whether you orient it straight on or "reflected" a la Simplex noise, you get directional artifacts)
[13:21:31] <KdotJPG> because you always get square faces in the planar slices
[13:21:45] <Amaranth> That reminds me, it seemed to me that simplex noise isn't so great really
[13:21:55] <KdotJPG> err not best covering, that's the A4* lattice, Simplex noise
[13:22:19] <KdotJPG> The tiny surflets make it not that great in 4D+
[13:22:23] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[13:22:34] <Amaranth> By the time you get high enough dimensions to make the performance advantage useful you end up with pretty bad artifacts
[13:22:43] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:23:03] <KdotJPG> However one thing I'm working on is "DualSimplex" noise, a way of using the A*_n lattice that Simplex noise uses without using the Simplex skew equation and without dividing a hypercube into simplices
[13:23:15] <KdotJPG> and using larger surflets (length of the shortest edge)
[13:23:39] <Amaranth> Also have you ever seen https://briansharpe.wordpress.com/2012/03/09/modifications-to-classic-perlin-noise/ ?
[13:23:48] <KdotJPG> Yup!
[13:23:53] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[13:23:54] <KdotJPG> Can already say yes just by looking at the URL lol
[13:23:55] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:24:06] <Amaranth> I did the first one in the noise-rs perlin noise implementation, can't figure out what he means with the second
[13:24:25] <Amaranth> And I'm not really sure what I've done to the properties of the noise by doing the first one, just that it still looked good and ran faster
[13:24:32] <KdotJPG> the second one means you add a jitter to dx, dy, dz, ...
[13:24:51] <KdotJPG> actually hmm
[13:25:00] <KdotJPG> it either means you move the kernels themselves
[13:25:07] <KdotJPG> or you move the gradient's start location
[13:25:15] <KdotJPG> and keep the kernels in the same place
[13:25:24] <KdotJPG> kernels = surflets, my brain keeps switching between the two
[13:25:31] <Amaranth> In the comments he seems to imply it doesn't change the gradient you use at least so I've got that
[13:26:07] <KdotJPG> But yeah, other problem with using Perlin Surflet noise is, once you hit 4D, the distance to the center of the hypercube is the same as the edge length. So you get 16 surflets meeting there and it's zero
[13:26:10] <Amaranth> But yeah, i don't know if he means to calculate the gradient then shift the start location or to shift the offset you use for the dot product
[13:26:13] <KdotJPG> then in 5D and up you've got empty space
[13:27:34] <mate> aatch: they probably are somewhat different, and his solution does look good. But his faults against voxels are not entirely accurate, that is all.
[13:27:53] <KdotJPG> I'm not sure what he's referring to though.
[13:28:22] <Amaranth> Is the problem with 4D something that wouldn't show up in a 2D slice? Because that looks fine
[13:28:24] <mate> best noise ever: sin(x)*sin(y)*sin(z)
[13:28:26] <KdotJPG> However, my way of thinking about it: He posted it in a blog but it isn't necessarily a golden standard to look up to... just like the original Perlin noise interpolation isn't really.
[13:28:27] <KdotJPG> So
[13:28:32] <KdotJPG> try both and see which one works better.
[13:28:44] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[13:29:00] <KdotJPG> No need for it to be the same as the one he posted, you know which of two it could be, so try both and see which is better -- not which is his.
[13:29:00] <mate> best noise is cubic interpolation with 64 samples 
[13:29:09] <mate> but not really
[13:29:12] <KdotJPG> dat hugo elias noise
[13:30:28] <Amaranth> Also does using surflets help at all with the directional artifacts people ding perlin for? I tried looking at the frequency output for my perlin and simplex implementations but I don't really know what I'm looking at and the perlin one seemed better to me
[13:30:31] <eddyb> y = sin(x) * sin(z) looks funny :P
[13:30:47] *** Quits: mithsv (mithsv@moz-rt6.ris.89.145.IP) (Quit: )
[13:30:57] <Amaranth> They both had lines that apparently mean directional artifacts
[13:32:11] <KdotJPG> imagine the bright parts are mountains. The mountains have a strong tendency to be lined up north/south, east/west, or diagonal in Perlin
[13:33:08] <mate> my experience is that perlin has pretty obvious squareness to it when projected as 3d mountains etc
[13:33:09] <Amaranth> perlin https://i.imgur.com/HszX9FQ.png vs simplex https://i.imgur.com/zR2dX9B.png
[13:33:35] <KdotJPG> Are you using Gustavson's and is this 2D?
[13:33:51] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[13:33:52] <Amaranth> Pretty sure this was 2D and the simplex is based on his, yeah
[13:33:55] <KdotJPG> yeah
[13:34:02] <KdotJPG> That 2D simplex isn't using the best gradient set
[13:34:17] <KdotJPG> I think ideally you use a dodecagon
[13:34:22] <mate> did you generate that using rust?
[13:34:37] <KdotJPG> because that avoids the edges, avoids going straight into the faces, and has two per "triangle" on the hexagonal vertex figure
[13:34:40] <Amaranth> Heh, that's the gradient set I ended up switching everything to using
[13:34:47] *** Joins: mithsv (mithsv@moz-rt6.ris.89.145.IP)
[13:34:57] <KdotJPG> I switched OpenSimplex 2D to it but I haven't updated the repo
[13:35:01] <Amaranth> mate: I made the noise using rust, I made those images with imagemagick
[13:35:27] <KdotJPG> I pull-request-submitted code to a minecraft mod to replace Perlin with OpenSimplex and I used the new dodecagonal gradient set, but I haven't updated my repo with it
[13:35:50] <Amaranth> Eep, I hope that mod wasn't Bukkit
[13:35:50] <KdotJPG> I'm trying to figure out if its generalization (expanded n-simplex honeycomb vertex figure) is a good choice for higher dimensions.
[13:36:00] <KdotJPG> it was Realistic World Gen
[13:36:10] <mate> why is a dodecagonal # better?
[13:36:18] <KdotJPG> it means in all three directions of the triangles
[13:36:20] <KdotJPG> you get the same properties
[13:36:26] <KdotJPG> err all 6
[13:36:46] <KdotJPG> if you rotate the noise 120 degrees, it's theoretically identical.
[13:37:03] <KdotJPG> in terms of what features can occur.
[13:38:13] <KdotJPG> The version I had used an octagon (with 30-degree, 60-degree directions), which works but I think it *slightly* biases mountains and valleys to go down the main diagonal.
[13:38:50] <KdotJPG> The reason I used the octagon was because it was the 2D case of the generalization I came up with that worked well in 3D and 4D (and is working well in my 5D non-OpenSimplex test noises)
[13:40:54] <Amaranth> KdotJPG: btw it looks like that mod merged your PR with the broken table
[13:41:14] <KdotJPG> I did
[13:41:34] <KdotJPG> then I put a note in the PR saying I saw the issue and what lines to add the commas to
[13:41:40] <KdotJPG> oh
[13:41:50] <KdotJPG> wait they merged it in /with/ the missing commas?
[13:41:54] <Amaranth> Seems like it
[13:42:25] <KdotJPG> oh, asiekierka fixed it in the full thing https://github.com/Ted80-Minecraft-Mods/Realistic-World-Gen/pull/17
[13:42:29] <Amaranth> Oh no they fixed it in a later commit
[13:42:30] <Amaranth> Yeah
[13:43:11] <Amaranth> also hehe potential speed improvements
[13:43:19] <KdotJPG> yeah :P
[13:43:22] <Amaranth> I mean, I guess they could have had a slow perlin implementation
[13:43:34] <KdotJPG> Granted his mod was using OLD perlin noise, so I don't know how THAT would have compared
[13:43:43] <Amaranth> OpenSimplex 2D is certainly faster than the reference Improved Perlin Noise implementation
[13:43:43] <KdotJPG> but I still think OpenSimplex is a bit slower
[13:43:50] <KdotJPG> than that one
[13:44:27] <KdotJPG> either way, I ran the OpenSimplex version on a 5 year old laptop as a server and didn't have issues with terrain gen speed.
[13:44:34] <Amaranth> Yikes, that doesn't seem possible
[13:45:06] <Amaranth> I ported the reference version to Rust then made it over 300x faster, I would hope an optimized OpenSimplex would at least beat that :P
[13:45:42] <KdotJPG> by "that one" I mean the old perlin -- like, monte carlo gradients and 1980s and whatnot
[13:45:50] <Amaranth> Oh, right
[13:46:25] <Amaranth> I dunno, I think the original C one was faster, aside from the C vs Java difference
[13:46:36] <KdotJPG> Possibly
[13:46:38] <Amaranth> His gradient calculation stuff was _slow_
[13:46:41] <KdotJPG> Again I haven't tested it
[13:46:43] <Amaranth> It was optimized for size, not speed
[13:47:25] <mate> what did you do to make it faster?
[13:47:40] <Amaranth> mate: https://www.probablycoding.com/post/optimizing-perlin-noise/
[13:48:00] <mate> ah cool thx
[13:48:09] <mate> how did u link those images? just post url?
[13:49:00] <KdotJPG> also by "octagon (with 30-degree, 60-degree directions)" I meant octagon with 22.5 and 67.5 degree directions
[13:49:04] <Amaranth> Yeah, mibbit embeds images for some reason when you link to them
[13:49:47] <OmniMancer1> what distribution does perlin noise have
[13:49:48] <OmniMancer1> ?
[13:49:50] <eddyb> y u no webchat, mozilla IRC?
[13:50:15] <eddyb> mibbit really sucks. or maybe it's just me hating their childish style
[13:50:39] <KdotJPG> the noises tend to have a distribution that's approximate to a truncated normal distribution
[13:51:21] <KdotJPG> Which, since they're approximately normal, you can get a fairly uniform coherent angle field by taking two instances of noise and doing arctan
[13:51:25] <mate> some sin wave noise as 3d terrain: https://i.imgur.com/a4vooN9.jpg
[13:51:58] <KdotJPG> because for any number of dimensions, putting n normal random variables into a gradient and normalizing it gets you a uniform distribution on the hypersphere
[13:52:09] <KdotJPG> err not gradient I mean vector
[13:52:24] <OmniMancer1> use the mandelbox as terrain
[13:53:27] <KdotJPG> you can also get a fairly uniform angle field by doing arctan on the X and Y derivative.
[13:53:37] <KdotJPG> assuming you're using a sufficiently isotropic noise
[13:53:43] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[13:53:58] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[13:54:26] *** Quits: OmniMancer1 (OmniMancer@moz-6m1jrb.xtra.co.nz) (Quit: Leaving.)
[13:55:53] <KdotJPG> Well, if you do that in 2D. If you want a uniform angle field in 3D using derivatives, use 5D noise and use the 4th and 5th derivatives.
[13:55:59] <KdotJPG> coordinates'*
[14:01:42] *** Joins: davebettin (davebettin@moz-5jta5r.bhak.dqhm.0007.2601.IP)
[14:02:10] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[14:07:13] *** Joins: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net)
[14:07:28] <KdotJPG> I'd say I'm going on *tangents* but that would only add to the fire
[14:07:44] <mate> amaranth: now use avx to make it 8x faster;0
[14:08:22] <Amaranth> mate: Yep, if we had a version to sample multiple points at once and some way to use SIMD in Rust
[14:08:29] *** Joins: ytain (ytain@moz-aope4o.dsl.teksavvy.com)
[14:24:04] *** Joins: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca)
[14:25:22] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[14:34:12] *** Quits: tokamach (tom@moz-32b.ksc.221.90.IP) (Ping timeout: 121 seconds)
[14:35:01] *** Joins: tokamach (tom@moz-32b.ksc.221.90.IP)
[14:38:32] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Quit: Leaving...)
[14:41:20] <eddyb> kvark: hey. do you happen to know how much I can share between windows in gfx-rs?
[14:42:30] <eddyb> mindtree: graphics' font stuff is so derpy... it seems to draw at the baseline, and there's no easy way to determine the height...
[14:44:00] <eddyb> mindtree: I just want to query metrics without all the delayed factory magic >_<
[14:45:38] <eddyb> mindtree, kvark: https://github.com/PistonDevelopers/gfx_graphics/blob/master/src/glyph.rs#L104-L105 I want this to use proper metrics instead of zeroes
[14:46:18] <kvark> eddyb: gfx itself doesn't know that the context is shared between multiple windows, but if you happen to create this configuration, you will probably be able to work with it in a regular way. Since the command buffer execution is isolated, whatever window it draws to will not interfere with anything else. So for gfx it might as well be the same window.
[14:47:14] <eddyb> kvark: tomaka informed me that contexts cannot be shared, just textures (which is enough for me, actually)
[14:47:20] *** Quits: skeuomorf (skeuomorf@moz-pl7.u9l.32.197.IP) (Ping timeout: 121 seconds)
[14:47:37] <tomaka> no, I said framebuffer objects and vertex array objects cannot be shared
[14:47:48] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[14:47:59] <tomaka> oh, I see what you mean
[14:48:09] <tomaka> whether the context is shared or not is just a nitpick
[14:48:15] <kvark> tomaka: heh, that makes it more complicated for gfx, of course
[14:48:16] *** Parts: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) ("")
[14:48:32] <tomaka> a problem of vocabulary I mean
[14:48:58] <eddyb> bleah
[14:48:59] <kvark> tomaka: so is it just textures that are shared?
[14:49:01] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[14:49:09] <tomaka> everything is shared except FBOs and VAOs
[14:49:23] <tomaka> and obsolete things like display lists
[14:49:55] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:50:14] <kvark> eddyb: so basically, you'll need a Factory per window, and the Renderer you use with a Window has to be created with the corresponding Factory.
[14:50:22] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:51:06] <eddyb> kvark: I mainly want to have one single central font cache
[14:51:12] <eddyb> *glyph cache
[14:51:21] <tomaka> why are you even using multiple windows?
[14:51:25] <tomaka> nobody does that
[14:51:27] <eddyb> tomaka: menus
[14:51:35] <mate> eddyb crazy
[14:51:42] <eddyb> unless you're telling me you can do menus without multiple windows
[14:51:46] <kvark> menu in a separate window?
[14:51:51] <eddyb> no
[14:52:07] <eddyb> kvark: menus in GUIs can extend outside the window's framebuffer
[14:52:12] <eddyb> just pick any app you want and try it
[14:52:28] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:52:37] <tomaka> oh you mean when you right click for example
[14:52:44] <eddyb> I have to admit, I have not traced such an app, but I don't know anything other than windows
[14:52:49] <tomaka> I was thinking of menus at the top of the window like "File", "Edit", etc.
[14:52:51] <eddyb> tomaka: I was thinking of menu bars, but suure
[14:52:58] <eddyb> tomaka: yeah, those. they can extend outside the window
[14:53:17] <eddyb> in any GUI toolkit I've seen
[14:53:18] <tomaka> that's because it's managed by the O/S usually
[14:53:24] <eddyb> wat
[14:53:28] *** Joins: Remram (Remram44@remram.fr)
[14:53:42] <eddyb> what OS?
[14:53:49] <eddyb> oh wait, I'm on linux :P
[14:54:18] *** Quits: mindtree (Mitch@moz-do07e9.iprimus.net.au) (Ping timeout: 121 seconds)
[14:54:19] <eddyb> tomaka: how do I dump a list of X11 windows?
[14:54:28] <tomaka> I mean, when you open a menu with GTK or something, it communicates with the O/S or the windowing system to tell it to show the menu with a list of elements
[14:54:31] <eddyb> I know there's a bunch of tools but I forget their names
[14:54:31] <ytain> to get glyph metrics you need harfbuzz which depends on freetype
[14:54:42] <tomaka> I don't think apps like that draw anything with opengl
[14:54:49] <eddyb> tomaka: what OS?!
[14:54:55] <eddyb> oh you said "or"
[14:55:12] *** Quits: sillesta (sillesta@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[14:55:18] <eddyb> doesn't Qt render with OpenGL?
[14:55:23] <ytain> no
[14:55:37] <ytain> Qt has a widget that offers OpenGL
[14:55:50] <ytain> but it doesn't use opengl to render the windows/widgets
[14:55:56] <tomaka> AFAIK only games use OpenGL for their gui
[14:55:59] <ytain> it uses what the OS is offering
[14:56:08] <eddyb> ytain: you sure?
[14:56:12] <ytain> yes
[14:56:23] <mate> UE4 uses d3d/opengl for GUI in its editor
[14:56:32] <eddyb> wasn't... cmr, IIRC, saying that QtQuick2 has an OpenGL backend?
[14:56:45] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[14:56:55] <ytain> UE4 Editor uses a simple window, but inside that window they use D3D/OpenGL
[14:56:58] <tomaka> the problem is that the user wants to configure the look of their windows
[14:57:03] <tomaka> you don't want to handle all this manually
[14:57:06] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[14:57:49] <ytain> QtQuick is similar to Android/iOS
[14:58:08] <eddyb> tomaka: you obviously don't know Qt :P
[14:58:12] <ytain> it uses QML
[14:58:21] <eddyb> https://projects.kde.org/projects/kde/workspace/breeze/repository/revisions/master/entry/kstyle/breezestyle.cpp
[14:59:02] <eddyb> anyways, horrible software design from the past aside...
[14:59:55] <eddyb> ytain: finally, found it, you're wrong: Qt Quick 2 makes use of a dedicated scene graph based on OpenGL ES 2.0 or OpenGL 2.0 for its rendering
[15:00:00] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[15:00:11] <eddyb> now that we've gotten that out of the way: how do I list X11 windows?
[15:00:16] <ytain> that's what Android/iOS do that way
[15:00:37] <eddyb> Qt5 *is* QtQuick2
[15:00:55] <eddyb> and probably started in Qt4
[15:00:56] <ytain> eddyb http://stackoverflow.com/questions/252906/how-to-get-the-list-of-open-windows-from-xserver
[15:01:09] *** Joins: mindtree (Mitch@moz-do07e9.iprimus.net.au)
[15:01:26] <eddyb> ytain: thanks
[15:01:58] <tomaka> eddyb: what about wayland users?
[15:02:12] <ytain> eddyb you're wrong that Qt5 is qtquick2, qtquick2 is a module within the qt5 framework
[15:02:16] <nical> cool kids use wayland
[15:02:19] * nical is not cool
[15:02:22] <eddyb> tomaka: what about it?
[15:02:30] <ytain> http://doc.qt.io/qt-5/qtquick-index.html
[15:02:36] <eddyb> holy shit
[15:02:43] <tomaka> eddyb: are you supporting them? :>
[15:02:56] <eddyb> xwininfo -tree -root | grep kate | wc -l: 80
[15:03:11] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[15:03:37] <eddyb> and I don't have any menus open yet...
[15:04:26] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:04:43] <tomaka> I've been investigating X11, glx and that stuff the past few days
[15:04:51] <tomaka> that thing is a total mess, everything is tangled
[15:05:01] <ytain> yes
[15:05:14] <ytain> lack of consistency
[15:05:31] <ytain> it needs a complete reset
[15:05:36] <tomaka> you can't bypass xlib totally, because OpenGL drivers want you to pass them objects from this library
[15:06:00] <ytain> well that's because of the legacy way
[15:06:22] <tomaka> the problem is that xlib is the cause of a lot of crashes in glutin
[15:06:27] <ytain> the xserver is what needs to be redesigned
[15:06:40] <tomaka> the problem is that apparently wayland has the same problem
[15:06:47] <ytain> yes
[15:07:00] <tomaka> EGL expects you to pass objects from libwayland or whatever it is called
[15:07:15] <tomaka> and you can't pass a struct that mimics the original, you have to pass an object that is actually managed by libwayland
[15:07:18] <ytain> i see the same problems even when using sdl2 on linux, too finicky
[15:07:24] <eddyb> oh, lol
[15:07:27] <Tobba> I thought EGL wasn't used anymore
[15:07:35] <eddyb> some of those 80 open windows are menus
[15:07:48] <tomaka> Tobba: you're probably thinking of something else, EGL is one of the most recent APIs
[15:08:08] <Tobba> tomaka: EGL is the one that gets passed over X11 isnt it
[15:08:18] <eddyb> hmm, they're *already* open...
[15:08:21] <tomaka> that's GLX?
[15:08:29] <Tobba> oh
[15:08:42] <Tobba> then whats all the X11 and wayland stuff about
[15:08:47] <tomaka> the 'E' of EGL is 'embedded'
[15:09:04] <Tobba> wait, fuck, right
[15:09:06] <eddyb> GTK menus create noname windows (from chromium)
[15:09:09] <tomaka> well, wayland will use EGL
[15:10:14] <tomaka> on linux you connect to a X server, then use GLX to initialize OpenGL by passing your X window and X display to it
[15:10:37] <eddyb> KDE (Qt?) keeps the windows around while GTK doesn't. at least that makes it easier to probe
[15:10:41] <tomaka> and GLX uses the X protocole to request direct access to the framebuffer and stuff
[15:10:44] <ytain> eddyb you can also query if those nonnamed windows provide an opengl context or not
[15:10:57] <tomaka> then EGL came, which is equivalent to GLX but more universal
[15:11:17] <tomaka> in EGL you don't directly pass X objects, but you turn your X objects into EGL objects
[15:11:25] <tomaka> so it's interoperable with both X and wayland
[15:11:41] <tomaka> that's the summary
[15:12:16] <tomaka> the problem is that GLX and EGL are directly provided by the OpenGL drivers, so you can't bypass them
[15:13:08] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:14:09] *** Joins: stjahns (stjahns@moz-aov.070.52.96.IP)
[15:14:30] <eddyb> tomaka: _NET_WM_WINDOW_TYPE(ATOM) = _NET_WM_WINDOW_TYPE_MENU
[15:14:43] <eddyb> _NET_WM_STATE(ATOM) = _NET_WM_STATE_ABOVE
[15:15:22] *** Joins: Astrum|Lap (Astrum|Lap@moz-e4c.9jn.170.50.IP)
[15:15:35] <eddyb> ytain: and how would I do that? I don't see anything in xprop or xwininfo
[15:15:43] <ytain> xlib
[15:19:03] <eddyb> that's interesting: "xprop: error: Can't grab the mouse." if I'm in a KDE menu
[15:20:59] *** Quits: tokamach (tom@moz-32b.ksc.221.90.IP) (Connection closed)
[15:21:13] *** Joins: quiggle (Mibbit@moz-8h1vh6.polimi.it)
[15:21:25] *** Quits: quiggle (Mibbit@moz-8h1vh6.polimi.it) (Quit: http://www.mibbit.com ajax IRC Client)
[15:21:30] *** Quits: Astrum|Lap (Astrum|Lap@moz-e4c.9jn.170.50.IP) (Ping timeout: 121 seconds)
[15:22:32] <ytain> eddyb there is an example of an window with an opengl context, you can also do in the reverse to enumerate the windows that has opengl contexts https://gist.github.com/je-so/903479
[15:22:44] *** Quits: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[15:24:19] <ytain> based on that example you can search in the Qt sources to see whether the framework uses OpenGL to render the window decorations/widgets
[15:26:18] *** Quits: SerialVelocity (SerialVeloc@moz-4veduv.ic.ac.uk) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:26:56] <eddyb> that would be a total waste of time, given how big Qt is :P
[15:27:14] <ytain> use silver-search
[15:27:16] <eddyb> (I tried to find out how they render monospace when it wasn't working in a hobby OS and freetype)
[15:27:29] <eddyb> (once... I won't do that again :P)
[15:27:40] <ytain> Qt uses harfbuzz to render the text
[15:27:41] <eddyb> ytain: does it come with an AI?
[15:27:55] <ytain> silver-search is faster than awk
[15:28:13] <eddyb> I guess kdevelop might be capable of giving me enough semantic information, but I'm really losing even more time here
[15:28:26] <eddyb> pavucontrol contextual menu: _NET_WM_WINDOW_TYPE(ATOM) = _NET_WM_WINDOW_TYPE_POPUP_MENU
[15:28:44] <eddyb> GTK contextual menu is still _NET_WM_WINDOW_TYPE_MENU
[15:29:16] <ytain> you can search for glXCreateContext in the Qt source code and see its locations
[15:29:59] <eddyb> I actually used kdevelop on LLVM a few times. I do not wish to imagine doing anything like that without an IDE
[15:30:19] <eddyb> (and KDE app is still crazy and uses a seemingly normal window for menus)
[15:31:31] <eddyb> that's really interesting, KDE (and I suppose Qt in general) menus eat all input events, while GTK ones don't
[15:32:04] <eddyb> (effect when hovering over things in other windows work if a GTK menu is open, but not with a KDE menu)
[15:34:02] <eddyb> ytain: that gist doesn't turn off borders, apparently
[15:34:47] <ytain> it's just one of the Window attributes enums
[15:35:03] <ytain> use it and you can set it to not have borders drawn
[15:35:22] <ytain> CWBorderPixel
[15:35:28] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:35:29] <ytain> that's one of the attribute
[15:35:37] <ytain> take it out and you get no border drawn
[15:36:01] <eddyb> that should be easy to add to glutin
[15:37:05] <ytain> http://stackoverflow.com/questions/9083273/x11-fullscreen-window-opengl
[15:39:11] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[15:40:00] <eddyb> so I need a with_borderless builder method that toggles https://github.com/tomaka/glutin/blob/master/src/x11/window/mod.rs#L434
[15:40:01] <ytain> or explore the sdl2 code and see what they do for that particular environment
[15:44:42] <eddyb> and WINDOWEDGE here https://github.com/tomaka/glutin/blob/master/src/win32/init.rs#L105
[15:44:48] <eddyb> WindowsBunny: ping
[15:45:58] <ytain> eddyb MS Windows doesn't offer borderless window
[15:47:07] <eddyb> yes it does
[15:47:16] <eddyb> ytain: have you never seen a splash screen?
[15:47:31] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:47:51] <ytain> yes, I saw it, but that's the topmost window that is fullscreen and transparent
[15:47:52] <eddyb> or, you know, 1337 cracks? with the weird music and the ridiculous window styles?
[15:48:13] <eddyb> ytain: no, it's not fullscreen
[15:48:28] <WindowsBunny> eddyb: HIGH
[15:48:30] <WindowsBunny> erm, HI
[15:48:35] <ytain> I used in the past to program for win32 and code custom drawn window widgets for living
[15:48:44] <WindowsBunny> Windows offers borderless windows
[15:48:47] <ytain> so I know what I'm talking about
[15:48:49] <eddyb> WindowsBunny: could you remove one flag for me and screenshot?
[15:49:25] <eddyb> WindowsBunny: https://github.com/tomaka/glutin/blob/master/src/win32/init.rs#L105 WINDOWEDGE. any example you like (does glutin have in-tree stuff that's easy to run?)
[15:49:25] <WindowsBunny> eddyb: idk
[15:49:35] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:50:12] <eddyb> WindowsBunny: based on some quick reading, I would assume that's what controls the presence of borders
[15:50:51] <ytain> eddyb for your understanding, the Qt, GTK do not use OpenGL initially for drawing the window decorations, they use the framebuffer library of accelerated 2D drawing commands
[15:51:11] <WindowsBunny> >If no border style is specified, the system creates a borderless window.
[15:51:14] <eddyb> *decorations*?
[15:51:30] <eddyb> ytain: KDE uses OpenGL 3.1 IIRC for decorations
[15:51:32] <ytain> lines, points, fills, pixmap blits
[15:51:53] <eddyb> unless you mean widgets and stuff
[15:52:06] <ytain> widgets are higher level than decorations
[15:52:17] <eddyb> so... primitives?
[15:52:28] <ytain> yes
[15:52:35] *** Joins: sillesta (sillesta@moz-501od2.business.telia.com)
[15:52:43] <ytain> like the borders
[15:52:50] <eddyb> ("decoration" is used for things like window borders, focus blur, etc.)
[15:52:55] <ytain> yes
[15:52:58] <ytain> and fills
[15:53:59] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[15:55:15] *** Quits: KdotJPG (KdotJPG@moz-qjdum2.ncstate.net) (Ping timeout: 121 seconds)
[15:55:29] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:55:36] <ytain> eddyb KDE doesn't use OpenGL, but its compositor does!
[15:55:43] <WindowsBunny> eddyb: SDL sets WS_POPUP to get borderless windows
[15:55:58] <eddyb> ytain: "decoration" usually refers to the compositor, that's what I meant
[15:56:00] <ytain> https://userbase.kde.org/Desktop_Effects_Performance
[15:56:13] <WindowsBunny> eddyb: https://github.com/spurious/SDL-mirror/blob/master/src/video/windows/SDL_windowswindow.c#L56
[15:56:35] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[15:56:58] *** Joins: Tobba_ (Tobba@moz-o13d22.bredband.telia.com)
[15:57:06] <ytain> eddyb that's different
[15:57:37] <eddyb> WindowsBunny: but what happens if you just remove the flag I mentioned?
[15:58:27] <WindowsBunny> idk :D
[15:58:37] <WindowsBunny> That would require me to put in effort to get glutin
[15:58:40] <WindowsBunny> get an example building
[15:58:42] <WindowsBunny> modify glutin
[15:58:53] <WindowsBunny> I'd have to actually do something
[15:59:59] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[16:00:03] *** Tobba_ is now known as Tobba
[16:00:17] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:00:37] *** Quits: Tuba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[16:00:53] <eddyb> WindowsBunny: you mean... git clone https://github.com/tomaka/glutin; cargo test examples/window.rs?
[16:00:59] <WindowsBunny> yeah!
[16:01:02] <WindowsBunny> That's hard work
[16:01:10] <eddyb> mkay
[16:01:21] <eddyb> I will have to do it at the school tomorrow, then
[16:01:53] <eddyb> gosh I wasted like 5 hours already, that's 5 hours I didn't spend writing interesting code :P
[16:02:37] *** Joins: O01eg (o01eg@moz-5p4n4r.pnu9.3egh.2698.2a02.IP)
[16:04:25] <eddyb> I have to wonder how one gets monospace metrics... I'll try using ┼ :P
[16:04:31] *** Quits: davebettin (davebettin@moz-5jta5r.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[16:04:34] <ytain> well you can install ms windows in a virtualbox and test the window enum flags
[16:04:41] *** Quits: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP) (Connection closed)
[16:04:58] *** Joins: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP)
[16:05:07] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[16:05:22] <ytain> eddyb http://www.freetype.org/freetype2/docs/glyphs/glyphs-3.html
[16:05:50] *** Joins: mib_2zl4lm (Mibbit@moz-88d.5tf.190.94.IP)
[16:05:51] <eddyb> that link seems familiar, I might have spent days reading that stuff in the past
[16:06:24] *** Quits: mib_2zl4lm (Mibbit@moz-88d.5tf.190.94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:06:28] <stjahns> dual-quaternions appear to be functioning perfectly! http://imgur.com/qUtJ5MV
[16:07:34] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection closed)
[16:07:48] <WindowsBunny> stjahns: Only slightly disturbing
[16:08:06] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[16:10:36] <eddyb> kvark: pleeaaaase tell me there's a way to create a texture without a factory and fill it in later
[16:11:31] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[16:11:49] <kvark> eddyb: factory's only goal is managing resources, like a texture
[16:11:56] <kvark> eddyb: what's the problem?
[16:13:05] <WindowsBunny> $ cargo run --example window
[16:13:28] *** Quits: mithsv (mithsv@moz-rt6.ris.89.145.IP) (Quit: )
[16:14:16] <WindowsBunny> eddyb: unmodified http://i.imgur.com/XdZZBb4.png
[16:14:31] <eddyb> and with the POPUP flag added?
[16:15:29] <eddyb> (also, does POPUP | WINDOWEDGE result in the border still being there?)
[16:15:40] <WindowsBunny> with WINDOWEDGE removed http://i.imgur.com/seGj8r1.png
[16:15:54] <eddyb> OH I thought you said it had no effect
[16:16:13] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:16:25] <ytain> http://stackoverflow.com/questions/8262043/win32-how-to-create-a-bordless-popup-window
[16:16:35] <WindowsBunny> eddyb: there is no difference between those two screenshots
[16:16:49] <eddyb> right, I just misread "unmodified"
[16:18:07] <eddyb> kvark: I can't use the late-update thing. I guess I'll just copy the glyph cache code locally and put the factory in a RefCell
[16:19:28] <WindowsBunny> eddyb: And if I replace OVERLAPPEDWINDOW  with POPUP http://i.imgur.com/NfLaMLJ.png
[16:19:44] <erickt> hey gamedevs! anyone want to do a lightning talk/demo at the SF May 15 launch party?
[16:19:46] <WindowsBunny> unfortunately with no border, I can't move it around :|
[16:20:00] * WindowsBunny sits on erickt
[16:20:04] <erickt> eep
[16:20:12] <eddyb> WindowsBunny: there's no equivalent of Alt+Drag on windows?
[16:20:16] <kvark> erickt: I'm on the list already
[16:20:25] *** Joins: lenstr (lenstr@moz-1vt.vju.25.171.IP)
[16:20:33] <WindowsBunny> eddyb: I tried all manner of things
[16:20:35] <kvark> erickt: for toronto, nevermind ten
[16:20:38] <erickt> kvark: are you? wonderful
[16:20:39] <erickt> aw
[16:20:40] <erickt> shucks!
[16:20:48] * erickt shakes fist at toronto
[16:20:59] <eddyb> WindowsBunny: not even right click in the task bar, and "move"? or does it not show up there at all?
[16:21:04] <kvark> Toronto is the center of the world, isn't it? Oh wait...
[16:21:27] <WindowsBunny> eddyb: http://i.imgur.com/cXAp0W3.png
[16:21:27] <erickt> nope, Einstein proved the world centers around me
[16:21:55] <eddyb> WindowsBunny: do you still have the WINDOWEDGE flag? does it matter at all?
[16:22:15] <WindowsBunny> lemme readd and find out :D
[16:22:34] <eddyb> WindowsBunny: I guess I'm a bit dumb... the fullscreen support that's *right there* has the difference you made
[16:22:40] <kvark> erickt: you can just stream me in SF at the very moment, if you need to fill the air time :P
[16:23:04] <WindowsBunny> eddyb: WINDOWEDGE still has no effect http://i.imgur.com/nzURwm2.png
[16:23:06] <Aaron> Oh is something happening in toronto?
[16:23:19] <WindowsBunny> eddyb: I think its because windows 8.1 doesn't have different border styles
[16:23:22] <ytain> eddyb, WindowsBunny that window can be moved if you implement the mouse capture logic and window moving logic
[16:23:26] <kvark> Aaron: http://www.meetup.com/Rust-Toronto/events/222014412/
[16:23:32] <WindowsBunny> ytain: Which this example doesn't have
[16:23:43] <WindowsBunny> ytain: Go convince tomaka to add it :D
[16:23:43] <ytain> WindowsBunny I know
[16:23:46] <Aaron> ... oh
[16:23:50] <Aaron> That's like a 3 minute walk from here o:
[16:24:01] <tomaka> add what?
[16:24:06] <WindowsBunny> Are there any rust meetups in massachusetts?
[16:24:16] <ytain> tomaka doesn't have to add it
[16:24:21] <ytain> you have to do it on your own
[16:24:27] <WindowsBunny> tomaka: I made a borderless window with glutin and I can't move it at all :D
[16:24:44] <erickt> kvark: I'm actually considering it
[16:24:51] <WindowsBunny> Because it's a glutin example and I'm too lazy to write code myself to move it
[16:25:13] <ytain> a borderless window has no purpose for a game, except as a splash window for regular apps, not games
[16:25:14] <erickt> kvark: or if your demo is short, you could grab a room and do a quick livestream
[16:25:32] <kvark> erickt: hope that was a joke - this is going to be difficult to synchronize, besides all the stress of the live streaming
[16:26:00] <ytain> a borderless window might have a purpose if you use it fullscreen to help other recording software like Twitch or OBS
[16:26:05] <erickt> kvark: well I wasn't actually suggesting we synchronize the meetups :)
[16:26:23] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:26:25] <erickt> kvark: it would be more if it turned out to be convenient.
[16:26:31] <kvark> erickt: really, when it comes to streaming, I believe there are many qualified speakers out there. Maybe csherratt could talk about Rusterize? or fibe-rs/pulse?
[16:26:37] <erickt> kvark: oh, or you could record it and I could just play the video :)
[16:26:41] <Aaron> If I weren't untalkable an emscripten thing/demo/whatever would be neat to do o:
[16:27:00] <tomaka> I'd love a talk about glium, but not by me xD
[16:27:17] <kvark> erickt: even though, csherratt could just go live in Toronto instead (that would be great)
[16:27:41] <kvark> erickt: yeah, tomaka would be very nice to hear!
[16:27:45] <WindowsBunny> I don't really have a camera + bandwidth + nice area to stream anything from
[16:28:08] <tomaka> kvark: there are two problems: 1) you wouldn't even understand when I talk english
[16:28:13] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:28:17] <tomaka> 2) I have a poor internet connection and live in the middle of nowhere
[16:28:18] *** Joins: niconii (nicole@moz-isj0f9.frgo.qwest.net)
[16:28:43] <kvark> hmmm, maybe call for XMPPWocky then?
[16:28:48] <tomaka> (and as much as I like rust, I don't want to fly to SF for a 10mn talk)
[16:28:52] <kvark> his quackish thing is shiny
[16:28:56] <WindowsBunny> My English speaking skills are excellent, but that's about it
[16:28:59] <erickt> see, this is why everyone should move to SF. So I can trick, err, ask politely for you to present at meetups
[16:29:04] *** Quits: lenstr (lenstr@moz-1vt.vju.25.171.IP) (Connection closed)
[16:29:15] *** Joins: lenstr (lenstr@moz-1vt.vju.25.171.IP)
[16:29:41] <kvark> erickt: if mozilla opens up a graphics dev position in SF, I'd maybe consider ;)
[16:29:45] <sillesta> sf == san fransisco?
[16:29:55] <erickt> sillesta: yeah
[16:29:55] <kvark> yes
[16:30:05] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[16:30:18] <sillesta> is that the place where all the streets are on hills?
[16:30:26] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:30:35] <kvark> pretty much
[16:31:11] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[16:31:39] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[16:31:50] <erickt> sillesta: there are flat bits!
[16:31:52] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[16:32:07] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[16:32:43] <erickt> kvark: I'm not quite sure how much of the servo folks is doing graphics, but they do have a spot open on their team: https://careers.mozilla.org/en-US/position/ollA0fw0
[16:32:52] <erickt> s/is/are
[16:33:03] <Amaranth> eddyb: btw, you couldn't get the mouse with a menu open because menus grab the mouse so they can go away when you click outside of them no matter where on the screen you click
[16:33:07] <kvark> eddyb: we could have a method in gfx_graphics::GlyphCache that generates a character texture. It's just impossible to put into the piston-graphics/GlyphCache abstraction
[16:33:24] <Amaranth> Which means you can block a screensaver from activating by leaving a menu open since they'll bail if they can't grab the mouse for security reasons
[16:33:47] <sillesta> kvark: that's what i'd like to do for a living, is it fun having it as work?
[16:33:51] <sillesta> (graphics dev)
[16:34:01] <kvark> sillesta: actually fun, yes
[16:34:39] <Amaranth> wayland solves this by making the screensaver a privileged thing (it's a part of the compositor/server itself) so it can just break the grab
[16:34:50] <erickt> kvark: I know pcwalton has been doing all sorts of wonky things with opengl on it
[16:35:27] <WindowsBunny> Amaranth: I wouldn't feel comfortable downloading screensavers off the internet if they had to run privileged!
[16:35:51] <Amaranth> WindowsBunny: the thing drawing and the screensaver itself can be separate things
[16:36:18] <kvark> erickt: right, he was doing the GL abstraction to be done in a separate thread, IIRC. I wonder if he hasn't considered glium or gfx-rs yet
[16:36:22] <Amaranth> The screensaver can handle the locking and security prompt to unlock then give the surface to a separate program to draw fancy crap on
[16:36:45] <tomaka> I wonder how browsers implement webgl
[16:36:52] <Amaranth> kvark: They've got special concerns because of webgl
[16:36:53] <tomaka> do they redirect the calls to the driver or do they reimplement the API?
[16:36:55] <erickt> kvark: you should talk to him, take the job, then present things at my meetup! simple as pie
[16:37:40] <Amaranth> tomaka: Isn't the point of ARB_robustness making it so they can just forward the calls to the driver?
[16:38:13] <tomaka> No idea
[16:38:21] <tomaka> does ARB_robustness make the driver more robust? :3
[16:38:25] <Amaranth> Although at least on Windows there is also ANGLE in play which is a reimplementation of the API
[16:40:32] <Amaranth> tomaka: Yeah, it basically makes strncat versions of all API that write to user provided buffers so you can't accidentally overflow, lets you query for when the GPU crashed or hung, and makes things that are normally allowed to have undefined before or abort instead treat the context as broken the same as a GPU hang
[16:40:49] <Amaranth> So with that it _should_ be safe to just let WebGL poke at things directly
[16:44:00] <eddyb> Amaranth: the mouse thing: GTK menus don't grab the mouse
[16:44:08] <Amaranth> eddyb: Uh, that's new
[16:44:17] <Amaranth> They definitely did in GTK 2.x and early versions of 3.x
[16:44:29] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[16:44:34] * Amaranth used to work on a window manager, X is pain
[16:44:39] <nical> Amaranth: ARB_robustness isn't enough though
[16:44:41] <ytain> eddyb the parent window of the menus does
[16:44:55] <eddyb> Amaranth: they still go away if I click elsewhere, but while they're open I can hover over things in other windows, or even scroll around
[16:45:02] <nical> (but that's a good step in the right direction when you trust the driver)
[16:45:16] <kvark> nical: what would be the next step?
[16:45:47] <eddyb> Amaranth: and I can run xprop/xwininfo (delayed with `sleep 2` or something) and click on the menu window
[16:45:56] <eddyb> Amaranth: this is not the case for KDE menus
[16:47:51] *** Joins: KdotJPG (KdotJPG@moz-hlia11.ncstate.net)
[16:47:54] <tomaka> I wish gl_generator had a generator that inserted `println!("glSomething")` whenever you called a function
[16:48:02] <tomaka> it's probably easy to do, but I'm lazy
[16:48:21] <tomaka> (for debugging)
[16:48:31] <Amaranth> eddyb: I have no idea how this all interacts with XI2 which afaik is what GTK uses now
[16:48:35] <Amaranth> But xwininfo does not
[16:48:50] <Amaranth> I know XI2 allows for multiple grabs but how all that works is basically magic to me
[16:49:05] <WindowsBunny> hmmm
[16:49:14] <WindowsBunny> I wonder, how fast can the windows console swap buffers
[16:49:28] <WindowsBunny> and can it write to a buffer faster when its not active
[16:49:32] <Amaranth> 60 fps terminal programs? :)
[16:49:33] * WindowsBunny needs to test
[16:49:51] <mate> the console is slooow
[16:50:39] <WindowsBunny> I know when writing directly to the active buffer it is slow, even when I write it all with a single rectangle region call
[16:52:14] <tomaka> Yay, debugging by adding "panic!(test);" at various places of the code >_>
[16:53:01] <nical> kvark: I can digg up if you are interested but there are a bunch of things that browser implementors need to do even when ARB_robustness is available
[16:53:30] <kvark> nical: was just curious. Post it if you have anything by hand, please.
[16:53:42] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:53:52] <nical> I think that checking that indices in an IBO don't sample outside of a VBO is one of them
[16:54:28] <Amaranth> Oh right because ARB_robustness doesn't guarantee separate address spaces
[16:54:41] <kvark> nical: DX has been doing it from the start, so the idea should have been flying around for a long time in GL land
[16:54:42] <Amaranth> And even if it did that'd require WebGL contexts to be different processes I think
[16:55:43] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:57:47] *** Quits: nical (nical@moz-ductqg.2500.1rfi.0450.2001.IP) (Client exited)
[16:59:08] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Quit: Leaving)
[17:00:17] <eddyb> kvark: I found the information I need... and it's not exposed by graphics in any way
[17:00:34] <eddyb> kvark: which means conrod's text rendering is barely there
[17:01:11] <kvark> eddyb: so is there anything you need help with?
[17:02:26] <eddyb> not really, copy-paste-modify is working out
[17:06:38] *** Joins: dmac__ (dmac@moz-h4nvlf.ca.comcast.net)
[17:10:13] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[17:13:48] <Dabo> Is ncolide something that could be used for basic collision detection between a player and objects in the world in a platformer, or would it be better to write collision detection by hand?
[17:14:16] <tomaka> in a 2D platformer it's probably overkill
[17:14:29] <Dabo> ok, that's what I was thinking, just wanted to confirm
[17:14:30] <XMPPwocky> it'd be nearly unusable for that
[17:14:41] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:14:55] <XMPPwocky> specifically it doesn't have kinematic bodies, so actually controlling a character is near impossible
[17:15:10] <XMPPwocky> er, ncollide not nphysics
[17:15:22] <XMPPwocky> then yeah that *should* be fine, but you don't have convex casting so watch out for that
[17:16:38] <eddyb> hmpf, it's not rendering...
[17:17:13] <Dabo> XMPPwocky, ok, do you think it would be a bit much to include for that functionality though?
[17:17:47] <XMPPwocky> Dabo: yeah, and you need to manage a fair bit
[17:17:48] <eddyb> "Invalid data size provided to update the texture, expected size 8"... what?
[17:17:55] <XMPPwocky> last i checked ncollide also requires some weird refcounting stufff
[17:18:33] <Dabo> XMPPwocky, ok, I'm mostly making this game to get acquainted with piston and other libraries, so if it  would be at least partially suited for that task I'd like to try
[17:19:40] *** Joins: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl)
[17:23:09] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[17:28:06] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[17:28:17] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[17:29:27] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[17:35:09] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:35:10] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:35:29] *** Joins: sambotron (sambotron@moz-puo.n0o.141.50.IP)
[17:35:32] *** Quits: sambotron (sambotron@moz-puo.n0o.141.50.IP) (Connection closed)
[17:40:26] *** Joins: tinaun (tinaun@moz-7l08ds.ct.comcast.net)
[17:43:09] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[17:45:33] <eddyb> gaah, finally, I have sane metrics :D
[17:47:19] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[17:57:29] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[18:00:04] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[18:00:42] *** Quits: waka (waka@moz-in9240.rev.numericable.fr) (A TLS packet with unexpected length was received.)
[18:01:43] <kvark> eddyb: you figured the expected size thing?
[18:02:33] *** Quits: KdotJPG (KdotJPG@moz-hlia11.ncstate.net) (Ping timeout: 121 seconds)
[18:02:47] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[18:02:50] <Layl> does anyone happen to know what the appropriate glsl data type to use is for integer vectors
[18:02:56] <Layl> as attribute that is
[18:03:05] <Layl> ivec2 and friends don't seem to work as attributes
[18:03:14] <Layl> at least, not on NVIDIA, they do on AMD
[18:03:50] <kvark> Layl: it should work
[18:03:57] <kvark> are you testing it on both NV/AMD?
[18:04:12] <Layl> I've got an amd laptop and an nvidia desktop
[18:04:38] <Layl> http://i.imgur.com/gzwz6PK.png
[18:04:53] <eddyb> kvark: yeah, I removed a certain check
[18:05:06] <kvark> Layl: what is the shader model?
[18:05:18] <Layl> I've got #version 120
[18:05:21] <kvark> eddyb: in gfx-rs? why was the check incorrect
[18:05:41] <kvark> Layl: that seems rather bare. Perhaps, you need a higher version for integer attributes. Try 150 core?
[18:06:29] <Layl> yep that works
[18:06:36] <Layl> honestly I rather just switch to 330
[18:06:42] <kvark> yay
[18:07:11] <kvark> the difference between 150 and 330 is almost nothing
[18:07:22] <kvark> I use 150 core since it's the earliest "core" version
[18:07:46] <Layl> well it also has one opengl version difference
[18:07:56] <Layl> I don't know if intel has been supporting post 3.0 opengl better yet
[18:08:33] <kvark> huh, docs.gl is missing glVertexAttribIPointer
[18:08:50] *** Quits: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl) (Connection closed)
[18:09:16] *** Joins: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl)
[18:09:41] <kvark> hmm, wiki says it's been there since GL-2.0
[18:09:52] <Layl> earliest version it supports ivec2 as attribute seems to be 130
[18:10:01] <Layl> which is good enough for me for now
[18:10:13] <sillesta> "glVertexAttribIPointer is available only if the GL version is 3.0 or higher."
[18:10:24] <Layl> btw thanks for showing the error in the error enum
[18:10:29] <Layl> it helped me better debug the problem
[18:11:13] <Layl> I hope I can get some nice exotic export targets in my engine
[18:11:30] <Layl> gonna be great to show that I'm supporting webgl and android targets
[18:11:35] <sillesta> :p
[18:11:39] <Layl> that's not gonna be for a loooong while though
[18:11:53] <sillesta> servo recently started implementing webgl too
[18:12:22] <kvark> Layl: glad it helps :)
[18:12:33] <Layl> now to get font rendering in here
[18:12:38] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[18:13:11] <kvark> sillesta: oh right, that explains the fact 130 worked.
[18:14:03] <Layl> data oriented design advocates are probably crying at my code right now
[18:14:15] <Layl> trait with render() function, classic mistake
[18:14:42] <Layl> but damn it, it's a tree structure and no premature optimization!
[18:17:49] <kvark> Layl: lol :) well, you got your excuse - tight deadlines
[18:18:00] <Layl> I did it to myself
[18:18:07] <Layl> classic case of overpromising on the first sprint
[18:18:31] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[18:18:33] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Connection closed)
[18:20:19] <kvark> on a side note, I was able to do a major refactor/cleanup of gfx_scene yesterday, and it looks beautiful now. Next step - abstracting the culling away and optionally integrating with csherratt's Rusterize
[18:24:01] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:26:15] <mate> does it compile fast/
[18:28:06] <eddyb> kvark: no, I had deleted a silly check for ' ' in my copy of gfx-graphics' glyph cache
[18:28:15] <eddyb> kvark: which made it break
[18:33:20] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[18:36:41] <kvark> eddyb: interesting
[18:37:22] <kvark> mate: it's alright. AFAIK, the executables in Rust are compiling way slower than the libraries
[18:39:34] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:46:00] *** Quits: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl) (Quit: )
[18:46:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[18:47:31] <mtsr> kvark: Heh, why software rasterization though?
[18:48:03] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:48:13] <kvark> mtsr: SW rasterization is widely used for culling in games
[18:48:57] <kvark> you can vary the viewport size to achieve performance/efficiency balance needed
[18:49:08] <kvark> in general, just cull more stuff out before sending it to GPU
[18:49:51] *** Joins: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl)
[18:52:17] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[18:53:57] *** Quits: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl) (Quit: )
[18:54:39] *** Quits: edlothiol (user@moz-chhfor.hsi02.unitymediagroup.de) (Connection closed)
[18:56:19] <mtsr> ahh ok
[18:56:37] <mtsr> software occlusion culling basically?
[18:56:42] <kvark> yes
[18:56:44] <mtsr> ok
[18:58:06] <mtsr> what do you think is nicer, fiber style cooperative multithreading (putting the fiber aside until it's dependencies are finished) or continuation passing style (letting the current task end after creating a continuation task that waits for dependencies to finish and then continues)
[18:59:12] <XMPPwocky> depends if you have async/await
[18:59:58] <kvark> mtsr: the former seems more flexible to me, especially since the dependencies are explicit. I haven't explored either in my experiments though
[19:00:38] <Layl> kvark, even for culling, wouldn't it be faster to let the GPU do it?
[19:00:47] <XMPPwocky> Layl: not if you're GPU-bound
[19:01:09] <Layl> that's true, but that isn't always the case
[19:01:22] <Layl> and especially since at that point is probably the most likely case the GPU's being idle
[19:01:35] <kvark> Layl: also, GPU would have higher latency, not always acceptable
[19:01:40] <mtsr> kvark: The latter would have equally explicit dependencies, using something like an atomic counter or pulse
[19:01:52] *** Joins: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl)
[19:02:00] <mtsr> XMPPwocky: Can you explain?
[19:02:17] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:02:23] <Layl> just wanna ask to confirm is it a common technique to store a cached depth buffer of static objects for a dynamic light, then render dynamic objects over it
[19:02:56] <kvark> Layl: as long as your camera doesn't move
[19:03:02] <mtsr> kvark: Just that instead of storing the fiber (stack + context), the task would create a new closure to continue at a later point that then gets put into the queue
[19:03:02] <XMPPwocky> yeah also occlusion queries you usually have to take an incremental approach
[19:03:15] <XMPPwocky> kvark: maybe they meant for shadowmapping?
[19:03:22] <Layl> kvark, lightmaps are rendered from the light's POV, not the camera
[19:03:36] <Layl> and the light in this case would indeed be static
[19:03:43] <kvark> Layl: ok, sounds just right then
[19:03:57] <Layl> just wanted to know if this is a common technique or if it's not worth the effort
[19:04:06] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[19:04:38] <tiffany> mixing baked and dynamic lightmaps is definitely a technique that's been used before
[19:04:51] <kvark> Layl: it doesn't seem to be common nowadays, but I don't know why. 
[19:04:53] <tiffany> I don't see any reason why it wouldn't work
[19:05:15] <tiffany> kvark: because static scenes aren't all that common anymore, and hardware has gotten to the point where lights aren't as expensive as they used to be
[19:05:42] <Layl> static scenes are still pretty common
[19:06:02] <Layl> even in destructable environments, you can do some serious caching
[19:06:06] <kvark> especially large occluders, like buildings, are often static
[19:07:35] <kvark> mtsr: I haven't thought about the continuation style a lot. Any links you got on it?
[19:07:47] <kvark> s/a lot/at all/ bummer :)
[19:08:07] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[19:08:10] <tiffany> I'm having trouble seeing how you would implement such a scheme efficiently
[19:08:50] <tiffany> cube 2's approach is to have a manual button to push to recalculate all of the lighting in the scene
[19:08:55] <tiffany> and it does the whole scene
[19:09:46] <Layl> I am always stumped by how fancy modern games' lighting effects are
[19:09:53] <mtsr> Not really, was just reading about ND's fibers, which do all this extra work of storing context and stack in the fiber and keeping that for picking up later. And it seemed to me that just creating a continuation would be much easier. I just can't judge the performance implications. Presumable this fiber stuff is efficient somehow (possibly because it's natively supported on PS4?)
[19:10:04] <Layl> having complex night time scenes with all car lights casting shadows and everything
[19:10:27] <Layl> probably only the ones close to the camera but it's still interesting
[19:10:40] <Layl> surely LODs are a common technique for lightmap rendering as well
[19:10:48] <tiffany> deferred shading is an important step if you want lots of lights
[19:11:01] <ytain> layl perhaps they employ illusion and fake it somehow the lighting effects
[19:11:11] <kvark> Layl: one trick is to share the shadow map for both of the car lights
[19:11:31] <Layl> kvark, makes sense
[19:11:34] <mtsr> I guess it's not really continuation in the sense of CPS, it's just queueing a new task that picks up where the old one left off, which should be quite ergonomic using closures.
[19:11:53] <Layl> tiffany, deferred shading won't help much with the lightmap rendering
[19:12:03] <Layl> though it's a need for any more than a few lights, that's true
[19:12:30] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:13:31] <Layl> oh, kvark, do you have a moment to perhaps look at my code and see if my rendering architecture is looking alright so far for a UI library
[19:13:51] <kvark> Layl: sure
[19:14:04] *** Joins: mystal (mystal@moz-tt1.co9.14.76.IP)
[19:14:23] <Layl> latest develop should be better than my current feature branch https://github.com/athena-org/phosphorus
[19:15:07] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[19:15:56] <mate> Layl: rendering z only first? I think that is less popular now since it requires 2x draw calls and many games use deferred rendering for lighting anyway
[19:16:10] <kvark> mtsr: I don't think I understand the idea. Perhaps, explain it a bit more, if you don't mind? Alternatively, I'll re-read (what you already said) later a couple of times
[19:18:07] <mtsr> kvark: Well, ND creates a pool of fibers, that function as a kind of greenthread for their tasks. A tasks gets put into a fiber and if the task has to wait for a dependency, the fiber is 'paused' and another task on a fresh fiber will be run on the thread. The fibers store the stack and context for the tasks while they're stored.
[19:18:36] <kvark> Layl: https://github.com/athena-org/phosphorus/blob/develop/src/render.rs#L65
[19:19:24] <kvark> I'm surprised you can access this. The types get defined as gfx::ProgramHandle and such.
[19:19:55] <mate> mtsr: the fiber approach is probably nicer to work with, but you might not need full stack saving fibers(http://open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4453.pdf)
[19:20:00] <Layl> huh but link_program returns a Result<Program, _>
[19:20:08] <mtsr> Instead of having fibers I was thinking why not just have Tasks and instead of pausing a task (or blocking or whatever), just create a new Task and put it on the queue. The queue is split into two parts, one is the readyqueue which has tasks with no unfinished deps, the other the rest.
[19:20:16] <kvark> Layl: it's the same thing
[19:20:29] <mtsr> mate: I imagine there's a reason for it being nicer, but I don't understand what, though.
[19:20:34] <Layl> I see
[19:20:42] <Layl> well, I had to look up the code because the docs were out of date
[19:20:45] <kvark> Layl: we use XXXHandle names for historical reasons. I wouldn't mind everyone switching to something like gfx::handle::XXX instead
[19:21:00] <Layl> well that's why you're before version 1.0
[19:21:50] <kvark> it's good to know there is at least one person who is not going to be affected that much by such a breaking change :)
[19:21:51] <mate> mtsr: i use the cps style right now.. its fine really, but it can sometimes involve more code if you keep having to nest things it gets slightly ugly
[19:22:13] <mtsr> mate: Creating a task within a task within a task, you mean?
[19:22:19] <mate> yes
[19:22:52] <mate> well i use intels thread building blocks tasks, they don't have stack and they run to completion
[19:23:16] <kvark> Layl: from the performance point of view, re-creating a mesh on each frame is not sound
[19:23:27] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:23:32] <kvark> Layl: but overall code looks very nice. I'm yet to finish reading though
[19:23:41] *** Quits: mindtree (Mitch@moz-do07e9.iprimus.net.au) (Ping timeout: 121 seconds)
[19:23:53] <Layl> well I'm recreating the mesh because it might change every frame
[19:23:53] <mtsr> mate: From the ND slides (http://www.swedishcoding.com/wp-content/uploads/2015/03/parallelizing_the_naughty_dog_engine_using_fibers.pdf), it looks like their method of yielding isn't all that nice either. Requiring manual setup of an atomic counter which is passed to deps and then yielding with that.
[19:24:09] <Layl> it might but probably won't every single frame
[19:24:23] <mtsr> mate: I would use TBB, but rust, so....
[19:24:25] <Layl> probably should make it only recalculate when that happens
[19:24:29] <kvark> Layl: you can allocate a buffer size, update it partially until you need more, and only then re-allocate
[19:24:43] <mtsr> Might as well look at what's currently popular, which is how I ended up looking at the fiber stuff
[19:25:09] <Layl> kvark, this mesh is ordered for layering though
[19:25:09] *** Joins: mindtree (Mitch@moz-do07e9.iprimus.net.au)
[19:25:16] <mate> mtsr: yes that code looks ugly
[19:25:37] <mtsr> It could just be example code instead of showing their internal library, though.
[19:25:57] <kvark> Layl: what do you mean?
[19:26:00] <mate> mtsr: there is a rust coroutine library
[19:26:03] <mtsr> But yeah, the TBB style tasks seemed nicer to me in terms of ergonomics and the arguments against TBB weren't really conclusive to me
[19:26:21] <mtsr> mate: I looked at it, but it's missing all the good parts like task scheduling etc
[19:26:30] <Layl> kvark, the parts get added to the mesh in order of how they should be rendered
[19:26:52] <Layl> so, background layer, then some text, then some block that should render on top of the text, then some text on that
[19:26:53] <Layl> like that
[19:27:32] <kvark> Layl: in https://github.com/athena-org/phosphorus/blob/develop/examples/hello.rs#L56 you could have gui.render_canvas(...)
[19:27:38] <mate> ya not sure if rust has any scheduler.. but you need that for TBB tasks also
[19:27:58] <mtsr> mate: Are you running into any specific problems with tasks running to completion and therefor needing to create continuation tasks instead of yielding? Real problems in terms of limitations of possible code, instead of just ergonomics?
[19:28:00] <Layl> kvark, I could but this has to run on other things than just canvases
[19:28:21] <kvark> Layl: as a simple helper, not replacing the gui.render(), just calling it inside
[19:28:44] <mtsr> mate: Yeah, but I looked at coroutine-rs and it's already quite complex, I don't feel up to adding on to it, where a simple task scheduler (and even task stealing) is doable by itself
[19:28:52] <Layl> ah, yea I could but this function is probably just called once
[19:29:15] <kvark> Layl: I see. It's just the user code, which needs to be nice.
[19:29:36] <kvark> Layl: sorting/layering doesn't matter for the sake of mesh re-usal. You can just check for the current vertex buffer to have enough size, upload your new data into it, and use a slice of it.
[19:29:57] <mtsr> mate: But my question is basically, is being able to save your running tasks stack and context nice enough to want it over creating a closure over the data you need to pass to continuation?
[19:30:23] <Layl> kvark, but won't I have to move a bunch of vertices around if I need to add some in the middle?
[19:30:33] <Layl> still, it's faster than re-creating
[19:31:11] <mate> mtsr: i have had tasks that would take too long, I would have to speed them up, make them do less etc 
[19:31:16] <kvark> Layl: I don't see it relevant. You are creating a new mesh from the new data. I'm saying just re-use the vertex buffer.
[19:31:38] <mate> mtsr: make sure none are taking longer than some short # of milliseconds
[19:31:56] <Layl> kvark, ah so just overwrite the existing buffer
[19:32:04] <kvark> yes
[19:32:11] <Layl> I could do that yea
[19:32:16] <kvark> aren't you tossing it away now?
[19:32:27] <Layl> I am tossing it right now yea
[19:32:53] <mtsr> mate: Where in the fiber style you would just yield after # milliseconds if you're not done yet, you mean? Interesting point. I guess I was considering splitting into relatively large number of smaller tasks as optimal, but that's less necessary in the fiber style then.
[19:32:55] <Layl> I should before doing optimizations first get some buttons clickable though
[19:33:12] <Layl> but yea that's a good tip for optimizations and I'll get to it asap
[19:33:55] <mate> mtsr: yes I think it would be cleaner with a fiber since you can just yeild in place, but perhaps there is alot of overhead with that im not sure
[19:34:20] *** Quits: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl) (Quit: )
[19:35:10] <mate> mtsr: one good thing in TBB is that the tasks are also used for parrallel algorithms, I am not sure if that works in fiber mode?
[19:36:05] <kvark> Layl: I very much like the code
[19:36:13] <mtsr> mate: Well, what coroutine-rs is doing is storing the registers in the yielded fiber and loading the ones from the resumed fiber.
[19:36:29] <Layl> thanks, I try to make my code easy to read
[19:36:37] *** Joins: lyra2 (raikis@moz-0pbl66.static.zebra.lt)
[19:37:19] <mtsr> mate: What do you mean 'used for parallel algorithms'? In what way?
[19:39:21] <mate> mtsr: parallel_for etc are build using these tasks
[19:39:47] <mtsr> mate: Ah, yeah, wasn't sure that was what you meant.
[19:39:52] <mate> that ND doc seems to use fibers for doing this, that seems expensive..
[19:40:40] <mtsr> mate: Well, the fibers are pooled, so only switching fibers is expensive and then probably only when you're yielding or resuming
[19:40:51] <kvark> mtsr: "Instead of having fibers I was thinking why not just have Tasks..." - that's exactly what we are doing in fibe-rs. It's not about continuations though, that's what confused me.
[19:41:31] <mtsr> kvark: Well, what ND has fibers for is being able to efficiently yield in it's tasks instead of needing to run tasks to completion.
[19:42:01] <mtsr> kvark: Continuations are basically tasks that take over after the yield instead of storing the running task and fiber until it's ready to continue.
[19:42:05] <kvark> mtsr: yeah, basically, they support sub-tasts and we do not
[19:43:04] <mtsr> kvark: Ah, well I think sub-tasks are quite essential, aren't they, unless you're able to spawn all tasks up front, but that seems hard.
[19:43:20] <kvark> mtsr: if you say so...
[19:43:35] <Layl> always nice to see how much of a difference a nice color makes
[19:43:37] <mtsr> kvark: I've not used them extensively or anything, so I'm also just thinking out loud :)
[19:44:16] <mtsr> kvark: My first foray into task scheduling too
[19:44:24] <kvark> mtsr: I definitely see how sub-tasks can be convenient in terms of scaling your project. Your tasks grow, and you can split them internally into multiple others without changing any outside interfaces
[19:45:32] <kvark> that scalability seems essential to me, so the resumable tasks seem to be the way to go
[19:46:37] <Layl> do UI libraries typically render a block of text to a texture, or do they render glyph by glyph
[19:48:15] <kvark> Layl: one way to get it would be to have a texture with all glyphs and then generate a mesh for your text with vertices between letters. Vertices would have UV coordinates mapped to the glyph atlas.
[19:48:34] <kvark> this way, it's a single draw call for the text
[19:48:49] <Layl> yea but it throws out everything the OS or freetype knows about kerning and hinting
[19:49:18] <kvark> Layl: not really. You just take this into account when computing the texture coordinates
[19:49:25] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[19:49:41] <Layl> still means I have to implement kerning/hinting myself
[19:49:53] <kvark> yeah, not the easiest road by far
[19:50:04] <Layl> and not one I can implement by tomorrow
[19:50:29] <mtsr> kvark: I'm doing some experiments (if time allows), if I find anything interesting I'll let you know
[19:50:31] <Layl> egh I think I'm not gonna hit this deadline at all, which isn't a big problem, but it would have been nice to just have something showable
[19:51:10] <kvark> mtsr: thanks! Do you think coroutine-rs could be integrated with fibe-rs for resumable tasks?
[19:51:22] <kvark> Layl: I thought you've almost got this
[19:51:43] <Layl> I don't think I can implement a text box by then
[19:51:45] <Layl> just not gonna work
[19:52:06] <mtsr> kvark: From what I can see coroutine-rs takes some of the good parts of libgreen, updated them and then used them for coroutines. So even if we don't want to use their coroutines themselves, we can use their context and stack implementations (both coming from libgreen afaict)
[19:52:06] <Layl> I have a spiffy command line interface to show that I've got the background functionality though
[19:52:11] <Layl> and an understanding customer
[19:52:42] <kvark> mtsr: I see, thanks for the info!
[19:53:52] <kvark> Layl: wait, you are the customer, right?
[19:54:03] <Layl> I am not, this is my end exam project
[19:54:25] <Layl> I've got a customer at my college that is the customer technically for this project
[19:54:33] <Layl> *a person at
[19:54:50] <Layl> this project had a rough start though
[19:56:05] <ty> Layl: what kind of project are you working on?
[19:56:19] <Layl> game engine, though for the editor UI I need a UI library
[19:56:28] <Layl> so right now, a UI library
[19:56:29] <ty> I just finished implementing kerning and hinting in my 2d graphics engine 
[19:56:40] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[19:57:03] <Layl> I kinda wish there was a pure rust font rendering API
[19:57:14] <ty> oh wow, UI libraries are not easy
[19:57:25] <ty> you mean not freetype?
[19:57:25] <Layl> eh, I've done it before in C#
[19:57:36] <Layl> freetype isn't pure rust, so, yea
[19:57:42] <ty> err a replacement for freetype
[19:57:47] <ty> yeah, I know what you mean
[19:57:55] <ty> freetype is my last C dependency in my engine 
[19:57:58] <Layl> it's just not that nice to have to have native dependencies to install
[19:58:17] <Layl> one way is to make users of the engine create font atlasses from the fonts
[19:58:17] <ty> yep :|
[19:58:26] <Layl> using a utility program
[19:58:27] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:58:32] <Layl> but that's not that nice a solution either
[19:59:13] <ty> Might work for just ASCII
[19:59:24] <Layl> oh yea that as well
[19:59:26] <ty> but yeah, certainly not a 100% solution
[19:59:43] <Layl> font atlasses are nice but I just keep running into reasons why using them might not be the best of ideas
[20:00:04] <Layl> I'm considering once I need to to just have a text atlas for all static text
[20:03:17] <ytain> layl there is a way to make font atlases, look there at https://github.com/rougier/freetype-gl and read the makefont.c which generates the .c/.h files that contains the font data and metrics etec
[20:03:52] <ytain> you could then adapt that one to generate a rust file and you can include to your project and not have to deal with freetype dependency
[20:04:26] <Layl> still that doesn't solve the problem of rendering foreign languages
[20:04:29] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:04:44] <Layl> where you end up having to have 3000 glyphs in the atlas to even cover the basics
[20:05:11] <ytain> well I was offering a way
[20:06:10] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Ping timeout: 121 seconds)
[20:07:06] <ytain> another way is to generate font data containing the font data/glyphs for every language and use that only for particular language chosen by the iser
[20:07:11] <ytain> user I mean
[20:07:21] <ytain> in a data file instead in the code
[20:07:28] <ytain> and you just load the data file
[20:07:54] <Layl> that's one way but it's kinda iffy to only support one language at a time
[20:08:01] <ytain> no no
[20:08:12] <ytain> what I meant is to produce the font data for every language
[20:08:34] <ytain> and keep it with the language identifier like _EN, _FR, _SP etc
[20:08:40] <ytain> in the filename
[20:09:40] <Layl> eeh I just don't know, it feels a bit iffy to have to have a texture sized in the megabytes
[20:09:58] <WindowsBunny> SFML's text rendering uses a glyph atlas
[20:10:07] <WindowsBunny> that is dynamically populated as you use more glyphs
[20:10:16] <Layl> hm, that's one solution
[20:10:23] <ytain> but then it's too limiting because most of the MMOs are international so they often see the use of asian language in addition to latin/estern languages
[20:10:43] <ytain> *western
[20:10:47] <WindowsBunny> Of course, if too many glyphs are used, eventually you run into texture size limits
[20:10:58] <WindowsBunny> in which case you just use a 3D texture or a 2D texture array
[20:11:03] <WindowsBunny> and then you run out of vram
[20:11:11] <Layl> I actually wonder, what would be faster, depth testing and multiple draw calls or one draw call but with unused texture location attributes if no texture
[20:11:15] <WindowsBunny> at which point you do a garbage collection and start over
[20:11:42] *** Quits: stjahns (stjahns@moz-aov.070.52.96.IP) (Connection closed)
[20:12:05] <ytain> it would be interesting if the draw calls from the glyph data is faster or comparable to the texture blitting
[20:12:31] *** Joins: mib_m704eq (Mibbit@moz-65ra4b.il.comcast.net)
[20:12:47] <Layl> eeh I really don't know what would be faster here
[20:12:48] <WindowsBunny> I'd personally just use DirectWrite to a bitmap
[20:13:04] <WindowsBunny> because I like me some quality DirectWrite font rendering
[20:13:28] <Layl> ugh my layering tactic just isn't going to work out at all
[20:13:42] <Layl> because I might have other textures that need to be rendered in the middle
[20:13:57] <Layl> so I can't just render a big mesh
[20:14:44] <Layl> I now don't know if it would be better to do "batch of rectangles" -> "batch of text" -> "single image" -> "batch of rectangles"
[20:14:58] <Layl> or to have depth testing and have those two rectangle sets together
[20:15:52] <Layl> or have a "layer" attribute that gets resolved in the vertex shader
[20:16:45] *** Quits: twipeD (wipeD@moz-272n35.dip0.t-ipconnect.de) (Connection closed)
[20:17:15] <kvark> Layl: so many choices... just pick one, make sure changing the way would be possible under the hood at a later time
[20:17:41] <Layl> but I don't quite know if I'll have the time to yank out the way it works under the hood at a later point
[20:18:31] <Layl> I think the best way would actually be to have a UI style atlas
[20:18:48] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Quit: leaving)
[20:19:50] <Layl> argh I just don't know
[20:20:10] <Layl> right, for now, I'm just gonna make it work and I'll optimize later
[20:20:19] <Layl> if that means 20 draw calls for UI, so be it
[20:23:21] *** Quits: lenstr (lenstr@moz-1vt.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[20:23:22] <ytain> layl also you can look in the firefox on how they handle the codepages in regard to rendering of foreign languages
[20:24:10] *** Joins: lenstr (lenstr@moz-1vt.vju.25.171.IP)
[20:24:37] *** Quits: mib_m704eq (Mibbit@moz-65ra4b.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:25:01] <Layl> no time to get nerd sniped right now unfortunately
[20:27:14] <ytain> well just use the western based codepage and deal with internationalization later
[20:28:09] <Layl> right now quickest is to just let freetype handle it all and render the entire text as a textured quad
[20:29:10] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:32:57] <ytain> well another way is to render all possible glyphs to a RGB texture and every color channel of the texture can hold different ranges of glyphs
[20:33:29] <ytain> that way you can hold like 4 atlasses of glyphs in one RGBA texture
[20:33:54] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[20:34:06] <ytain> and you just pass the correct channel to the fragment shader to pick the correct channel from the texture
[20:34:22] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[20:34:25] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[20:34:28] <Layl> I can probably just have a grayscale texture instead at the same size in memory
[20:34:45] <Layl> not sure if opengl allows that actually
[20:34:46] <ytain> a color channel is the same as a grayscale texture
[20:35:07] <Layl> it is but now I have to tell the fragment shader to select the correct channel
[20:35:09] <ytain> no more luminance or alpha only textures in opengl
[20:35:20] <Layl> darn
[20:35:20] <ytain> they were deprecated
[20:35:26] <Layl> that's a shame
[20:35:28] <kvark> ytain: you can have R texture
[20:36:01] <ytain> kvark really?
[20:36:03] <kvark> Layl: they are deprecated in favor of controllable swizzles and simpler internal formats
[20:36:17] <kvark> ytain: yes, there is also RG
[20:36:30] *** Quits: mindtree (Mitch@moz-do07e9.iprimus.net.au) (Ping timeout: 121 seconds)
[20:36:37] <sillesta> also.. RGB! :)
[20:37:19] <sillesta> would using multiple channels for glyphs be any different/faster than a texture array of R texture objects?
[20:37:51] <ytain> texture binding?
[20:38:08] <kvark> I'd choose a texture array over channels. Sampling a multi-channel texture would require filtering on all the channels, even if you use only one
[20:38:13] <sillesta> neither requires any binding client-side
[20:38:21] <kvark> sampling on a level of the texture array would filter only 1 channel
[20:38:29] <sillesta> oo
[20:38:31] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:38:46] <XMPPwocky> kvark: i wonder if drivers can optimize that sort of thing
[20:39:02] <ytain> the fragment shader can sample one channel easily
[20:39:04] <sillesta> drivers are black magic fueled with developer's souls!
[20:39:11] <sillesta> they can do anything!
[20:39:43] <WindowsBunny> drivers can replace your shaders with custom ones catered to their hardware
[20:42:56] <ytain> kvark there's also RGBA16 which means 8 atlasses per texture
[20:43:45] *** bvssvni_ is now known as bvssvni
[20:43:50] <WindowsBunny> also RGBA32 if you're insane
[20:44:02] <ytain> that's float
[20:44:18] <WindowsBunny> But really, you'd be better off just using a 2d texture array
[20:44:23] <WindowsBunny> with a single channel texture format
[20:44:24] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:44:32] <kvark> ytain: there is RGBA32 int too for the matter
[20:44:37] <bvssvni> I wonder what stjahns is using dual quaternions for, is he up to rigid bodies or something?
[20:44:43] <kvark> ytain: I don't see why you'd use that in favor of texture arrays though
[20:44:46] <XMPPwocky> you could be exceedingly silly and antialias in the shader, then get 32 atlases in RGBA8 
[20:45:00] <ytain> kvark less texture bindings
[20:45:05] <kvark> bvssvni: better joint interpolation
[20:45:20] <kvark> ytain: texture array is a single binding point
[20:45:27] <bvssvni> kvark: thanks!
[20:46:06] <kvark> bvssvni: there  was a couple of articles about how DQ make interpolation nicer. I used them too for a while.
[20:48:01] <kvark> WindowsBunny: replacing the shader code is not relevant, I believe, as they only do it for big titles
[20:48:20] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[20:49:49] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Connection closed)
[20:50:00] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[20:51:18] <kvark> XMPPwocky: that's really unclear if such optimization can happen, considering the fact some of the logic is in fixed-function HW. It would be interesting to make some tests to check.
[20:54:20] <kvark> XMPPwocky: have you considered making a speech at SF meetup? You could tell a lot about your experience with vel0city
[20:54:54] <XMPPwocky> hm
[20:55:20] <kvark> erickt was hunting for a victim
[20:55:58] <erickt> yes, more victims to be sacrificed to the meetup gods!
[20:56:45] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[20:56:55] <erickt> XMPPwocky: we're thinking about holding lightning talks as well as possibly carving out an area for more physical/interactive demos and toys
[21:02:02] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[21:03:41] <ytain> well there's possibility that freetype2 can generate the bitmap glyphs on a 4 bit channel or 2 bit channel so there would be more texture atlases to be held in a big RGBA16/32 texture
[21:05:27] <bvssvni> wat http://blog.ebopp.de/blog/2015/04/23/interactive-2d-apps/
[21:05:30] <WindowsBunny> ytain: I think I'd rather question your sanity
[21:05:38] <bvssvni> aepsilon is awesome
[21:05:39] <ytain> and use a fragment shader to use a 1D texture for glyph lookups
[21:05:50] <ytain> WindowsBunny he he
[21:15:09] *** Quits: lenstr (lenstr@moz-1vt.vju.25.171.IP) (Quit: Leaving...)
[21:16:00] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[21:26:19] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[21:26:43] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[21:27:49] *** Quits: erz (erz@moz-83ijfr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:27:50] *** Quits: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[21:29:24] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[21:29:29] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[21:31:02] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[21:31:04] *** Joins: KdotJPG (KdotJPG@moz-0bh9fp.ncstate.net)
[21:40:54] *** Quits: lyra2 (raikis@moz-0pbl66.static.zebra.lt) (Quit: Leaving)
[21:40:56] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[21:41:17] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[21:42:27] *** bvssvni is now known as bvssvni_
[21:44:48] *** Quits: sillesta (sillesta@moz-501od2.business.telia.com) (A TLS packet with unexpected length was received.)
[21:45:19] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[21:46:28] *** Joins: kazimuth (james@moz-8fb.l9t.189.18.IP)
[21:47:45] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[21:50:45] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (Quit: Leaving)
[21:54:07] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Quit: Leaving)
[22:00:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:03:12] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[22:03:31] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[22:04:35] *** Quits: ty (ty@moz-i6c4to.wa.comcast.net) (Quit: leaving)
[22:05:39] *** Joins: skeuomorf (skeuomorf@moz-pl7.u9l.32.197.IP)
[22:17:16] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[22:17:51] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:24:19] *** Quits: KdotJPG (KdotJPG@moz-0bh9fp.ncstate.net) (Ping timeout: 121 seconds)
[22:24:33] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:28:02] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:29:10] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:33:07] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[22:36:19] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[22:36:46] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[22:37:02] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[22:41:32] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:41:39] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (Connection closed)
[22:42:20] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[22:50:21] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:53:21] <Layl> kvark, does gfx-rs have functions for loading in textures from files or should that be done by glutin?
[22:54:28] <kvark> Layl: piston/gfx_texture has it
[22:54:37] <kvark> https://github.com/PistonDevelopers/gfx_texture
[22:55:09] <Layl> do you have a brief example on how to use it?
[22:57:02] <kvark> can't find anything official, but here is my code - https://github.com/kvark/claymore/blob/master/src/load/lib.rs#L133-L139
[22:57:31] <Layl> thanks that's good enough for now, I'll look at implementing this tomorrow
[23:01:02] *** Quits: kazimuth (james@moz-8fb.l9t.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:01:41] *** Joins: kazimuth (james@moz-8fb.l9t.189.18.IP)
[23:01:52] *** Joins: orangeshark (erik@moz-1cm543.44tj.56ot.0306.2602.IP)
[23:03:13] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:03:41] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[23:05:06] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:05:15] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Quit: Leaving)
[23:15:19] *** Quits: ytain (ytain@moz-aope4o.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:18:57] *** Joins: dche (dche@moz-729.281.185.183.IP)
[23:19:59] *** Quits: dche (dche@moz-729.281.185.183.IP) (Quit: )
[23:31:57] *** Quits: kazimuth (james@moz-8fb.l9t.189.18.IP) (Connection closed)
[23:33:10] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[23:44:22] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:47:29] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[23:50:36] *** Joins: OmniMancer1 (OmniMancer@moz-6m1jrb.xtra.co.nz)
[23:52:44] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[23:53:04] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
