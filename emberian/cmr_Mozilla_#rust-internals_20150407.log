[00:00:13] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:03:56] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[00:06:16] *** Joins: brson (brson@moz-e9i.crj.56.172.IP)
[00:06:16] *** ChanServ sets mode: +o brson
[00:12:55] <Eridius> hrm, why does io::Error use a box-in-a-box for custom errors? The only justification I can think of is to save a single word from the size of io::Error, but is that important?
[00:13:27] <seanmonstar> box in a box?
[00:13:30] <seanmonstar> i thought it was 1 box
[00:13:52] <Eridius> Error contains a field of type Repr, which is an enum where one variant is Custom(Box<Custom>), and Custom is a struct containing Box<error::Error+Send>
[00:14:03] <reem> and the error kind
[00:14:04] <Eridius> Custom also contains a second field (the ErrorKind)
[00:17:38] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Quit: leaving)
[00:18:44] <seanmonstar> i guess the Box<Custom> is smaller than have the boxed traitobject
[00:18:47] <seanmonstar> having
[00:19:42] <seanmonstar> aturon: ha! that solves exhaustive matching in an interesting way https://github.com/rust-lang/rust/blob/master/src/libstd/io/error.rs#L123
[00:20:05] *** Joins: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP)
[00:23:06] *** Quits: brson (brson@moz-e9i.crj.56.172.IP) (Quit: leaving)
[00:25:33] *** Quits: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:26:14] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:32:59] <reem> Eridius: It actually shrinks the struct by three words, since it replaces (error kind, data, vtable) with (ptr)
[00:34:29] <seanmonstar> reem: (variant, ptr)?
[00:35:23] <reem> seanmonstar: Custom contains a trait object
[00:36:22] <seanmonstar> yes, but CUstom is a variant
[00:37:52] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[00:40:17] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Connection closed)
[00:40:25] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[00:41:11] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[00:46:34] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[00:53:07] <Eridius> reem: well, that's just 2 words (error kind and vtable are both presumably one word each)
[00:54:24] *** Quits: eternaleye (eternaleye@moz-5fh.ehi.245.50.IP) (A TLS packet with unexpected length was received.)
[00:55:48] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[00:56:53] <reem> uh… yes, math is hard
[00:57:36] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:57:38] *** Quits: lfairy (lfairy@moz-kaosf8.vf.net.nz) (Quit: )
[00:57:41] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:00:06] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[01:03:24] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:10:13] *** Joins: tikue (tkuehn@moz-n71.k1b.0.198.IP)
[01:12:05] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[01:15:24] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[01:16:40] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[01:25:11] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:25:41] *** Quits: rkruppe (chatzilla@moz-0sg4un.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[01:32:06] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[01:34:10] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[01:34:20] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[01:35:48] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:38:16] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Ping timeout: 121 seconds)
[01:40:59] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:49:46] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[01:54:16] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[02:02:14] *** Quits: untitaker (untitaker@moz-90gd77.highway.telekom.at) (Ping timeout: 121 seconds)
[02:04:44] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:09:13] *** Joins: untitaker (untitaker@moz-2t42ie.highway.telekom.at)
[02:09:30] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:09:40] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[02:10:23] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:11:27] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:24:09] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[02:24:31] *** Joins: mib_cfjtuo (Mibbit@moz-juv.9o3.252.72.IP)
[02:31:29] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:31:29] *** ChanServ sets mode: +o pcwalton
[02:32:25] *** Joins: brson (brson@moz-jbg.c9m.56.172.IP)
[02:32:25] *** ChanServ sets mode: +o brson
[02:32:39] *** Quits: brson (brson@moz-jbg.c9m.56.172.IP) (Quit: leaving)
[02:34:28] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[02:42:32] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:44:03] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[02:45:01] *** Quits: zz_kimundi (kimundi@moz-4kjois.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:45:20] *** Joins: brson (brson@moz-jbg.c9m.56.172.IP)
[02:45:20] *** ChanServ sets mode: +o brson
[02:47:43] *** Joins: zz_kimundi (kimundi@moz-94ap69.dip0.t-ipconnect.de)
[02:47:45] *** zz_kimundi is now known as kimundi
[02:48:08] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[02:50:20] *** Quits: byteflame (cptaffe@moz-70qpd6.ddns.ualr.edu) (Quit: Lost terminal)
[02:57:56] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[03:00:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[03:06:46] *** Quits: mib_cfjtuo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:08:39] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:08:56] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[03:10:18] <Tobba> hm
[03:10:45] <Tobba> optimizer is still being weird, but I'm somehow getting better performance anyways
[03:10:47] <Tobba> hooray, I guess
[03:11:25] *** Quits: brson (brson@moz-jbg.c9m.56.172.IP) (Quit: leaving)
[03:20:13] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[03:27:34] *** Joins: semarie (semarie@moz-5tr.8eu.157.37.IP)
[03:27:37] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:37:25] *** Joins: singingboyo (holoirc@moz-j4q.v5f.119.199.IP)
[03:39:48] <erickt> aturon: ping
[03:39:50] *** Quits: kmcguire (kmcguire@moz-c955nf.res.rr.com) (Ping timeout: 121 seconds)
[03:41:28] *** Quits: tikue (tkuehn@moz-n71.k1b.0.198.IP) (Client exited)
[03:46:06] <carllerche> Is there no way on stable to create an io::Error from an errno ATM?
[03:46:29] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[03:53:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:54:27] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:56:35] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[04:01:18] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[04:01:21] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[04:03:17] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[04:11:17] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[04:16:31] <erickt> acrichto: or you would work too :)
[04:18:54] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:20:43] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[04:25:18] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[04:30:02] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:34:39] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:35:18] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:36:26] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[04:42:23] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:45:05] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:45:25] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:47:29] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[04:47:48] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:50:18] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[04:50:35] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Ping timeout: 121 seconds)
[04:50:58] *** Quits: marsel (user@moz-33u.06n.234.188.IP) (Ping timeout: 121 seconds)
[04:54:48] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[04:59:17] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[05:08:46] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:09:26] *** Quits: dcuddeback (textual@moz-cb7v53.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:15:24] *** Joins: eerie (eerie@moz-uat8gd.red.bezeqint.net)
[05:20:31] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[05:20:32] *** Quits: O01eg (o01eg@moz-q02.6j7.212.176.IP) (Client exited)
[05:21:40] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[05:23:59] *** Quits: larhat (Adium@moz-9vj.vcf.204.37.IP) (Quit: Leaving.)
[05:25:58] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[05:27:16] *** Joins: bsonnickfail (holoirc@moz-sunivd.bchsia.telus.net)
[05:27:16] *** Parts: pzol (pzol@moz-gr8.fnk.213.194.IP) ("Textual IRC Client: www.textualapp.com")
[05:28:47] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[05:30:46] *** Quits: singingboyo (holoirc@moz-j4q.v5f.119.199.IP) (Ping timeout: 121 seconds)
[05:32:29] *** kimundi is now known as zz_kimundi
[05:32:56] *** Quits: eerie (eerie@moz-uat8gd.red.bezeqint.net) (Connection closed)
[05:34:45] *** Joins: rprichard (rprichard@moz-59ebdh.en8f.d045.0009.2601.IP)
[05:36:03] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:36:11] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[05:36:20] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[05:36:42] *** bsonnickfail is now known as singingboyo
[05:37:36] *** Joins: eerie (eerie@moz-uat8gd.red.bezeqint.net)
[05:44:30] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[05:49:00] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[06:00:46] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[06:01:02] *** Quits: eerie (eerie@moz-uat8gd.red.bezeqint.net) (Connection closed)
[06:02:05] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:02:43] *** Joins: mjboa (mike@moz-g6do7p.dip0.t-ipconnect.de)
[06:02:44] *** Joins: eerie (eerie@moz-uat8gd.red.bezeqint.net)
[06:05:51] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:12:19] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:15:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:15:28] *** Quits: eerie (eerie@moz-uat8gd.red.bezeqint.net) (Connection closed)
[06:16:02] *** Joins: eerie (eerie@moz-uat8gd.red.bezeqint.net)
[06:16:55] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[06:17:21] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:19:16] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[06:24:06] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:31:10] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:32:27] *** Quits: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:36:15] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[06:37:28] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[06:38:39] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[06:38:59] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[06:38:59] *** ChanServ sets mode: +o pcwalton
[06:39:04] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (A TLS packet with unexpected length was received.)
[06:43:09] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[06:47:08] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[06:47:08] *** ChanServ sets mode: +o pcwalton
[06:47:11] *** Joins: eerie_ (eerie@moz-uat8gd.red.bezeqint.net)
[06:48:08] *** Quits: eerie (eerie@moz-uat8gd.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:48:40] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[06:50:23] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:54:21] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[06:57:56] *** Joins: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[07:01:14] <cmr> SimonSapin: the extra-shitty part about using Vec as an allocator is that you can no longer be panic-resillient.
[07:05:48] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:06:25] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[07:07:20] <WindowsBunny> cmr: isn't out of memory an abort, not a panic?
[07:07:54] <cmr> WindowsBunny: well, it might be now... when I wrote this code originally it was a panic at least.
[07:08:21] *** Quits: eerie_ (eerie@moz-uat8gd.red.bezeqint.net) (Ping timeout: 121 seconds)
[07:08:47] <WindowsBunny> I don't know for sure
[07:09:49] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:12:55] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:13:50] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[07:15:24] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:19:27] *** Joins: doener (bs@moz-c061a3.saltation.de)
[07:23:19] *** Quits: doener (bs@moz-c061a3.saltation.de) (Quit: leaving)
[07:23:49] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[07:27:54] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[07:32:50] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[07:33:24] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[07:35:40] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Connection closed)
[07:36:18] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[07:36:22] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[07:37:17] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[07:43:33] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:44:34] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[07:53:51] <bstrie> acrichto aturon pcwalton: going out to impromptu lunch tomorrow with someone from the community, if you're all available and want to come I can invite erickt as well and we'll make it an event :)
[07:56:49] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:57:23] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[08:01:15] *** Joins: doener (bs@moz-c061a3.saltation.de)
[08:01:26] <doener> join #rustc
[08:01:39] <doener> oops
[08:03:27] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[08:04:24] *** zz_kimundi is now known as kimundi
[08:04:52] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[08:06:10] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:06:10] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[08:06:30] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[08:15:00] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:24:30] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[08:26:55] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[08:28:38] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[08:28:48] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[08:29:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:29:35] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:31:27] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[08:32:12] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[08:32:54] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[08:33:13] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[08:33:31] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[08:33:40] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[08:34:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:34:42] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:37:02] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:37:16] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[08:43:03] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:44:55] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[08:45:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:52:56] *** Joins: eibwen (eibwen@moz-bu00v3.dip0.t-ipconnect.de)
[08:55:01] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[08:55:52] *** Quits: rprichard (rprichard@moz-59ebdh.en8f.d045.0009.2601.IP) (Connection closed)
[08:58:11] *** Joins: rclosure (Mibbit@moz-ftv.l1t.146.221.IP)
[09:00:22] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[09:07:37] *** Joins: eerie_ (eerie@moz-p7jjav.red.bezeqint.net)
[09:07:37] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[09:16:19] *** Parts: rclosure (Mibbit@moz-ftv.l1t.146.221.IP) ()
[09:17:00] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[09:21:09] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[09:23:29] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[09:23:50] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[09:25:04] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[09:25:37] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[09:28:27] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:29:31] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[09:30:33] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[09:30:34] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[09:37:49] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[09:40:43] *** Quits: eerie_ (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:47:33] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:48:11] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:57:31] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[09:57:32] *** ChanServ sets mode: +o nrc
[09:59:07] *** Joins: rprichard (rprichard@moz-hrhbcg.en8f.d045.0009.2601.IP)
[10:02:34] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[10:07:26] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[10:07:41] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[10:13:05] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:13:06] *** ChanServ sets mode: +o pnkfelix
[10:13:53] <pnkfelix> nmatsakis: when you get a chance, do try to review (or delegate) gh24021
[10:13:53] <[o__o]> Encode more precise scoping rules for function params: https://github.com/rust-lang/rust/pull/24021
[10:15:08] *** Quits: Kxepal (Miranda@moz-p4p7d0.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[10:15:15] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[10:15:44] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[10:18:43] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[10:19:04] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[10:19:48] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[10:23:59] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:26:11] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:27:41] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[10:28:32] *** Quits: mjboa (mike@moz-g6do7p.dip0.t-ipconnect.de) (Quit: leaving)
[10:29:17] *** Joins: Nosprawls (Mibbit@moz-74t0cs.virginmediabusiness.co.uk)
[10:40:12] <WindowsBunny> Why is PartialEq not defined for Option for pairs of two separate types?
[10:40:45] <WindowsBunny> For example, I can compare two Option<str> or two Option<OsStr> and I can compare OsStr and str, but I cannot compare Option<OsStr> and Option<str>
[10:41:02] <WindowsBunny> Is this just an oversight, intentional, or just couldn't be done due to coherence?
[10:49:03] *** Joins: rkruppe (chatzilla@moz-r2p6r4.diu2.0rth.0908.2a02.IP)
[10:49:31] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:51:04] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[11:00:51] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[11:01:40] *** Quits: jevin_ (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[11:03:39] *** Quits: untitaker (untitaker@moz-2t42ie.highway.telekom.at) (Ping timeout: 121 seconds)
[11:03:49] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[11:09:24] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[11:09:57] *** Joins: untitaker (untitaker@moz-oh9r69.highway.telekom.at)
[11:12:02] *** Joins: ok32_ (ok32@moz-i89.uc8.106.77.IP)
[11:13:56] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[11:15:06] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Ping timeout: 121 seconds)
[11:19:40] <SimonSapin> cmr: how so?
[11:20:52] <cmr> SimonSapin: Vec::with_capacity won't return null on oom like heap::allocate.
[11:21:06] <SimonSapin> oh, I see
[11:22:13] <SimonSapin> cmr: eh, the code I replaced was not checking for null from heap::allocate :/
[11:22:22] <cmr> heh
[11:22:29] <SimonSapin> it just happily wrote to that pointer
[11:23:02] <SimonSapin> at least Vec::with_capacity panics, now
[11:24:00] <cmr> aborts, but yeah
[11:25:27] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[11:25:53] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[11:26:23] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[11:27:02] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[11:27:03] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[11:27:20] <SimonSapin> indeed
[11:28:51] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:30:52] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[11:39:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:44:29] *** Joins: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com)
[11:44:48] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[11:45:09] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:49:11] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:49:16] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:53:10] *** Joins: kushal (kdas@moz-oc5s6d.static.videotron.ca)
[11:55:14] *** kimundi is now known as zz_kimundi
[11:55:44] *** Joins: marsel (user@moz-s2f.due.234.188.IP)
[12:02:31] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[12:03:18] *** Joins: canhtak (canhtak@moz-csi.7d2.251.178.IP)
[12:03:43] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[12:07:38] *** Quits: canhtak (canhtak@moz-csi.7d2.251.178.IP) (Ping timeout: 121 seconds)
[12:08:05] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[12:08:06] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[12:09:11] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[12:09:32] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[12:11:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:13:34] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[12:17:18] *** Joins: cengizIO (textual@moz-qvo.c4h.188.78.IP)
[12:17:44] *** Joins: ff (flaper87Moz@moz-ffa.hhs.128.88.IP)
[12:19:16] *** Quits: ff (flaper87Moz@moz-ffa.hhs.128.88.IP) (Quit: 1.1.1)
[12:20:50] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[12:25:03] *** Quits: rkruppe (chatzilla@moz-r2p6r4.diu2.0rth.0908.2a02.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.1/20150402191859])
[12:31:44] *** Quits: kushal (kdas@moz-oc5s6d.static.videotron.ca) (Ping timeout: 121 seconds)
[12:34:06] *** Joins: simukis (nagisa@moz-pj934t.mif.vu.lt)
[12:35:01] *** Joins: simukis1 (nagisa@moz-pol184.mif.vu.lt)
[12:35:17] *** Quits: simukis1 (nagisa@moz-pol184.mif.vu.lt) (Quit: Leaving.)
[12:35:39] *** Joins: simukis1 (nagisa@moz-pol184.mif.vu.lt)
[12:38:11] *** Quits: simukis (nagisa@moz-pj934t.mif.vu.lt) (Ping timeout: 121 seconds)
[12:39:11] *** Joins: gvfjvhgoy (bjkvgr@moz-deq.rfo.193.197.IP)
[12:39:16] <gvfjvhgoy> .
[12:39:18] <gvfjvhgoy> did usa intelligence supply isis with weapons like they did with al-qaeda to justify creating wars?
[12:39:20] <gvfjvhgoy> did usa excute the creative mess in the middle east like they said they will, does the creative mess include explosions with uncertain responsibles to create wars?
[12:39:22] <gvfjvhgoy> I was prevented on facebook & twitter. So plz, send my qs to help limiting usa & israel aggression against others may then lessen number of people killed in the middle east.
[12:39:24] <gvfjvhgoy> .did usa intelligence supply isis with weapons like they did with al-qaeda to justify creating wars?
[12:39:26] <gvfjvhgoy> did usa excute the creative mess in the middle east like they said they will, does the creative mess include explosions with uncertain responsibles to create wars?
[12:39:28] <gvfjvhgoy> I was prevented on facebook & twitter. So plz, send my qs to help limiting usa & israel aggression against others may then lessen number of people killed in the middle east.
[12:39:30] <gvfjvhgoy> plz, send my qs to help limiting usa&israel aggression against others.
[12:39:48] *** gvfjvhgoy was kicked by pnkfelix ()
[12:43:19] *** Joins: marsel` (user@moz-br4.h9c.147.46.IP)
[12:45:50] *** Quits: marsel (user@moz-s2f.due.234.188.IP) (Ping timeout: 121 seconds)
[12:48:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:49:18] <imperio> WindowsBunny: not sure if this is linked but I cannot impl a trait on a class T and on Option<T>
[12:49:26] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[12:49:50] <WindowsBunny> imperio: Yay
[12:49:57] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[12:50:29] <imperio> I thought, since I impl it on T, it was impl too on Option<T>, seems not
[12:50:48] <WindowsBunny> imperio: Is it your own trait, or one of the std traits?
[12:51:06] <imperio> not, mine
[12:51:24] <imperio> I show you the line, two secs
[12:52:19] <imperio> https://github.com/rust-gnome/glib/blob/master/src/translate.rs#L150 and https://github.com/rust-gnome/glib/blob/master/src/translate.rs#L177
[12:52:41] <imperio> same trait (defined here https://github.com/rust-gnome/glib/blob/master/src/translate.rs#L141)
[12:52:44] *** Quits: apoelstra (username@moz-pvbasl.net) (Ping timeout: 121 seconds)
[12:53:45] <WindowsBunny> imperio: It's because Option<S> might itself implement AsRef<str>
[12:53:53] <WindowsBunny> and thus would get two conflicting trait implementations
[12:53:54] <barosl> acrichto, ping
[12:54:16] <imperio> WindowsBunny: normally the second should overwrite the first one, no ?
[12:54:30] <WindowsBunny> imperio: I don't think Rust lets trait impls overwrite each other
[12:54:50] <WindowsBunny> although I believe something might have changed recently with the #[fundamental] attributes I see recently
[12:54:55] <imperio> WindowsBunny: I thought it was doing it until now... You're sure of that ?
[12:55:17] <imperio> don't know the fundamental attributes, what are they doing ?
[12:55:23] <WindowsBunny> I have no idea :D
[12:55:37] <WindowsBunny> I need to investigate that
[12:55:47] <imperio> haha, we're two then
[12:56:14] <WindowsBunny> imperio: You might be able to use negative trait bounds
[12:56:20] <WindowsBunny> If those have landed yet
[12:56:36] <imperio> negative trait bounds ? Don't know that too
[12:57:43] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[12:58:21] <WindowsBunny> imperio: Who would be the right person to ask about that PartialEq/Option thing?
[12:59:06] <imperio> WindowsBunny: acrichto or Yurume I guess
[12:59:14] *** Quits: simukis1 (nagisa@moz-pol184.mif.vu.lt) (Quit: Leaving.)
[12:59:25] * WindowsBunny nibbles on acrichto and Yurume
[12:59:50] * imperio wish WindowsBunny good luck !
[13:00:02] * WindowsBunny nibbles on imperio
[13:00:12] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[13:00:59] * imperio is fataly wounded...
[13:01:48] *** Joins: kushal (kdas@moz-oc5s6d.static.videotron.ca)
[13:02:14] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[13:02:44] *** Joins: bdero (bran@moz-u8a.gci.189.18.IP)
[13:03:35] *** Quits: bdero (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[13:03:36] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[13:03:56] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:08:34] *** Quits: kushal (kdas@moz-oc5s6d.static.videotron.ca) (Ping timeout: 121 seconds)
[13:12:57] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[13:14:35] *** Quits: ok32_ (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[13:15:17] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[13:18:31] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Connection closed)
[13:18:32] *** Joins: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr)
[13:24:55] *** Joins: doener_ (bs@moz-3ajdi1.fixip.bitel.net)
[13:24:55] *** Quits: doener (bs@moz-c061a3.saltation.de) (Connection closed)
[13:27:56] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[13:32:11] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[13:38:35] *** Joins: doener (bs@moz-c061a3.saltation.de)
[13:38:44] *** Quits: doener_ (bs@moz-3ajdi1.fixip.bitel.net) (Connection closed)
[13:39:10] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:43:49] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[13:45:50] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[13:50:36] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[13:51:52] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[13:56:24] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[13:58:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:06:15] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[14:07:56] *** zz_kimundi is now known as kimundi
[14:10:03] *** Quits: filsmick (filsmick@moz-nn9sf3.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[14:11:33] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[14:15:11] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[14:16:37] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[14:16:41] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Connection closed)
[14:16:43] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[14:17:24] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[14:17:35] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Connection closed)
[14:24:57] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[14:24:57] *** ChanServ sets mode: +o brson
[14:28:55] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[14:30:26] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[14:33:18] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[14:33:27] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:36:22] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[14:36:31] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[14:37:30] <steveklabnik> aturon: you answered this for me before, i think: https://github.com/rust-lang/rust/issues/24140
[14:37:40] *** Quits: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[14:45:45] *** Quits: det (chris@moz-qij3pi.lv.cox.net) (Connection closed)
[14:46:01] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[14:47:30] *** Quits: cengizIO (textual@moz-qvo.c4h.188.78.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:50:33] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[14:51:11] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[14:55:33] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[14:57:17] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[14:58:48] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[15:00:29] *** Joins: det (chris@moz-qij3pi.lv.cox.net)
[15:00:52] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:02:55] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[15:04:17] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[15:04:56] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:07:02] *** Joins: cengizIO (textual@moz-qvo.c4h.188.78.IP)
[15:07:24] *** Quits: cengizIO (textual@moz-qvo.c4h.188.78.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:09:59] *** Quits: doener (bs@moz-c061a3.saltation.de) (Quit: leaving)
[15:10:00] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[15:12:38] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:12:41] <brson> i'm going to run a regression report from the beta to nightly
[15:13:22] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[15:13:36] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:14:24] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[15:18:12] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[15:19:19] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[15:19:40] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[15:19:57] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:22:19] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[15:22:50] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[15:23:11] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[15:24:37] *** kimundi is now known as zz_kimundi
[15:26:43] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[15:29:46] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[15:30:28] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:32:06] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:34:01] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[15:34:03] <brson> is it possible for 'Remove variances from traits and deprecate `PhantomFn`/`MarkerTrait`
[15:34:12] <brson> er, to be a breaking change?
[15:36:40] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:38:27] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:39:01] <nmatsakis> brson: it is possible
[15:39:30] <nmatsakis> brson: in fact we encountered some breakage, though that turned out to be easily resolved
[15:39:48] <brson> cool. thanks
[15:40:10] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[15:40:37] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:41:15] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:42:17] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[15:44:43] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[15:45:10] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[15:45:11] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[15:47:08] <aturon> hey all, regarding the changes to copy and friends, my apologies: http://www.reddit.com/r/rust/comments/31p33q/memcpy_is_backwards/cq473xk
[15:47:16] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[15:47:16] *** ChanServ sets mode: +o pcwalton
[15:48:20] <scott> could anyone point me to the RFC(s) discussing <const N: usize> generic integers?
[15:49:08] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[15:49:24] <steveklabnik> scott: https://github.com/rust-lang/rfcs/issues/1038
[15:49:34] <scott> thanks
[15:50:45] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[15:51:06] <brson> simukis: we really are going to twir today?
[15:51:12] <brson> i mean, no question mark, no question
[15:51:15] <brson> we're twirring
[15:51:27] <brson> things got in the way yesterday, but it's clear sailing today
[15:52:05] <carllerche> aturon: mio needs io::Error::from_os_error (or some other way to create errors without allocating)
[15:52:44] <aturon> carllerche: ok, i think a few others have requested this as well
[15:52:58] <blaenk> awwww yeee twirring
[15:54:14] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[15:57:29] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[15:58:06] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Quit: Leaving)
[15:59:16] *** Joins: slarti (arthi@moz-55rvi2.dclient.hispeed.ch)
[15:59:17] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[15:59:41] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:02:16] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[16:03:52] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:07:12] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:08:19] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Quit: )
[16:10:59] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[16:11:46] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[16:12:35] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[16:13:18] <cgaebel> does any one have a link to the thread about "things you want to be stabilized before 1.0"?
[16:13:20] <aturon> steveklabnik: https://github.com/rust-lang/rust/issues/24140#issuecomment-90626264
[16:13:35] <aturon> cgaebel: https://github.com/rust-lang/rust/issues/24028
[16:13:39] <cgaebel> aturon: thanks <3
[16:14:16] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[16:14:42] <steveklabnik> aturon: was that a mis-ping?
[16:15:01] <aturon> steveklabnik: you pinged me on that issue earlier
[16:15:05] <steveklabnik> oh
[16:15:06] <cgaebel> also is unsafe_destructor still needed in most cases, or has that been fixed yet?
[16:15:13] <steveklabnik> i just COMPLETELY mis-read
[16:15:22] <aturon> steveklabnik: i tried to make a fairly definitive response -- there's probably some latent doc work here
[16:15:27] <steveklabnik> my brain literally thought it was the memcopy thing
[16:15:34] <steveklabnik> yeah, agreed
[16:15:43] <aturon> cgaebel: i believe unsafe_destructor is now a no-op
[16:15:51] <cgaebel> aight.
[16:16:51] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:17:55] <acrichto> barosl: pong
[16:18:14] <acrichto> WindowsBunny: pong (ish)
[16:18:30] <cgaebel> #![feature(xx)] can't be used with the beta, right?
[16:18:47] <cgaebel> specifically, #![feature(unsafe_no_drop_flag)]
[16:18:58] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[16:19:05] <barosl> acrichto, What ['buildbot']['url'] is the Homu instance of the Rust project using? It's just `http://buildbot.rust-lang.org/` without any path segments, right?
[16:19:51] <steveklabnik> cgaebel: no feature flags may be used, yes
[16:20:54] <acrichto> barosl: I believe so yeah
[16:21:14] <scialex> Well. Just spent 2 hours trying to figure out why updating rust sometimes broke Vec.push... Switching the ordering of input and output params is not a nice change. >:-(
[16:21:28] <barosl> Ok, thanks! There was a problem while deploying Homu to the Servo project, so I wanted to know if the configuration was the reason
[16:21:44] <acrichto> cmr: ping
[16:21:50] <acrichto> barosl: hm lemme check
[16:21:54] <scialex> esp. when using custom allocators
[16:22:08] <acrichto> barosl: url = "http://buildbot.rust-lang.org"
[16:22:09] <acrichto> yeah
[16:22:34] <barosl> Okay
[16:23:05] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[16:25:23] <larsberg> acrichto: knocking on wood, we *appear* to now have the Servo homu running and merging things - http://build.servo.org/homu/queue/servo :-)
[16:25:24] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:25:46] <acrichto> larsberg: nice!
[16:27:27] *** zz_kimundi is now known as kimundi
[16:28:16] <nmatsakis> I wish we could build rustc with -g
[16:28:23] <nmatsakis> (occasionally)
[16:30:21] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:30:33] <doener> nmatsakis: is that broken again? I've built it regularly with -g recently
[16:30:50] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[16:30:57] <doener> nmatsakis: thinking about it, that might have been for unoptimized builds only though
[16:31:12] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:33:09] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[16:34:20] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[16:34:41] *** Joins: bdero1 (bran@moz-u8a.gci.189.18.IP)
[16:34:52] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[16:35:34] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[16:36:06] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:36:06] *** ChanServ sets mode: +o pcwalton
[16:36:39] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[16:37:10] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:37:10] *** ChanServ sets mode: +o pcwalton
[16:37:45] <aturon> pnkfelix: can you leave a comment on https://github.com/rust-lang/rfcs/pull/1017 ? would love to get your thoughts
[16:38:13] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[16:38:14] <pnkfelix> aturon: yeah sorry you pinged me about this before
[16:38:34] <aturon> no worries, i also juggle way too many pings :)
[16:38:53] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[16:39:19] <nmatsakis> doener: was lat time I tried
[16:48:59] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:52:36] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[16:53:58] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:55:36] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:58:24] *** Joins: O01eg (o01eg@moz-t1amd1.m4h9.3egh.2698.2a02.IP)
[17:01:38] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[17:08:22] *** Joins: bsonnickfail (holoirc@moz-gn9d1r.eng.wind.ca)
[17:11:22] *** Quits: singingboyo (holoirc@moz-sunivd.bchsia.telus.net) (Ping timeout: 121 seconds)
[17:13:52] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[17:16:10] *** bsonnickfail is now known as singingboyo
[17:19:45] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[17:20:16] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[17:20:49] *** Joins: sprang (sprang@moz-87qm4j.ca.comcast.net)
[17:22:15] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[17:22:38] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[17:22:41] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[17:23:04] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[17:23:52] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[17:25:14] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[17:28:28] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[17:31:26] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[17:31:58] *** Joins: aruns (aruns@moz-b8k.bj8.142.72.IP)
[17:32:16] *** Joins: ok32_ (ok32@moz-i89.uc8.106.77.IP)
[17:33:00] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[17:33:48] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[17:35:13] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Ping timeout: 121 seconds)
[17:37:06] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[17:40:10] <bfops> hm these slightly sketchy trait implementations no longer compile:
[17:40:16] <bfops> https://www.irccloud.com/pastebin/J5EP4uNO
[17:40:47] <bfops> any ideas? I'm trying to write a `Flatten` trait.
[17:41:19] <bfops> (and/or is this a bug?)
[17:41:26] <Eridius> you can't declare an empty trait anymore
[17:41:35] <Eridius> because variance is inferred
[17:41:47] <Eridius> use the PhantomFn marker trait to tell rust what the variance of Self is
[17:42:26] <Eridius> oh there's a second error as well, saying conflicting impls
[17:42:35] <singingboyo> Eridius: PhantomFn is deprecated IIRC
[17:42:44] <bfops> oh yeah sorry, the traits aren't actually empty, that's just for simplicity
[17:42:47] <bfops> the problem is the conflicting impls
[17:42:55] <Eridius> bfops: that should have always conflicted, no?
[17:42:57] <bfops> which didn't used to be conflicting, even though I kind of expected they would be
[17:43:21] <bfops> Well I can see both sides of it. On one hand, the compiler can kind of tell that Vec<T> doesn't implement Copy..
[17:43:36] <Eridius> singingboyo: hmm, the error message still recommends PhantomFn, but you're right, it's deprecated
[17:43:37] <bfops> since Rust doesn't have orphan instances like Haskell, no?
[17:43:44] <Eridius> are you supposed to use PhantomData with a function type?
[17:44:01] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[17:44:41] <singingboyo> Eridius: IIRC 'type _phantom = PhantomData<T>' worked for me.
[17:45:18] <steveklabnik> yes, PhatomData is supposed to replace MarkerTrait and PhantomFn
[17:45:19] <singingboyo> Eridius: so, associated type instead of function,  but same idea.
[17:46:08] <singingboyo> bfops: I feel like that's a bug/limitation in the compiler
[17:47:13] <bfops> singingboyo: hm alright, thanks. I guess I'll go ahead and report it.
[17:47:54] <Eridius> gh24164
[17:47:55] <[o__o]> Unused trait parameter error recommends deprecated PhantomFn: https://github.com/rust-lang/rust/issues/24164
[17:49:36] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[17:52:26] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:53:15] <brson> beta-2015-04-03 vs. nightly-2015-04-06  https://gist.github.com/brson/c75f517f71e92c1f87e6
[17:53:18] <brson> 1 regression
[17:53:49] <steveklabnik> iiinteresting
[17:54:25] *** Joins: Guest63 (textual@moz-82je36.pools.vodafone-ip.de)
[17:56:41] <steveklabnik> brson: tweeted that and https://twitter.com/Argorak/status/585501349288214528
[17:57:01] <singingboyo> brson: what am I looking at here?
[17:58:35] <brson> singingboyo: a comparison of crate build results between beta and nightly
[18:00:17] *** Quits: slarti (arthi@moz-55rvi2.dclient.hispeed.ch) (A TLS packet with unexpected length was received.)
[18:01:10] <singingboyo> brson: is that all the crates on crates.io?
[18:04:47] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[18:07:25] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:07:36] <Eridius> yay my broken alfred crate is there
[18:07:47] *** Joins: tikue (tkuehn@moz-n71.k1b.0.198.IP)
[18:07:50] <Eridius> (it relied on the ability to clone io::Error)
[18:08:03] <Eridius> and I'm currently waiting on resolution of io::Error gaining Sync vs moving to Arc and gaining Clone before fixing :/
[18:08:30] <Eridius> what does "root regression" mean?
[18:13:05] <erickt> acrichto: is it possible to see what projects are using serde on https://crates.io/crates/serde?
[18:13:38] <Eridius> o_O https://crates.io/crates/crates
[18:13:53] <erickt> acrichto: I'm making some breaking changes, and I'd like to see who'd be impacted
[18:13:55] <Eridius> incidentally, searching for "crates" yields 683 results
[18:13:57] <acrichto> erickt: https://crates.io/crates/serde/reverse_dependencies
[18:14:03] <erickt> wonderful
[18:14:44] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[18:14:44] <simukis> I don’t get it. rust-lang/rand specifies libc = "0.1.1" in its dependencies
[18:14:54] <simukis> but cargo build will fetch 0.1.6
[18:15:07] <steveklabnik> ^ is the default, not =
[18:15:18] <steveklabnik> libc = "0.1.1" is libc = "^0.1.1"
[18:15:32] <Eridius> hrm, when I click on a crate, hit back, and click another, it briefly shows the first crate info and then replaces everything with the new info. curious
[18:16:31] <simukis> steveklabnik: that’s pretty insane
[18:17:00] <steveklabnik> naw
[18:17:03] <steveklabnik> it's what you usually want
[18:17:47] <simukis> steveklabnik: no, because it makes my pacakge to not build, while the dependency by itself builds fine
[18:18:16] <Eridius> semver allows all pre-1.0 builds to be breaking builds, but generally, packages usually try and treat the largest non-zero component as the stability component
[18:18:29] <Eridius> so a package that builds against 0.1.1 should usually be expected to build against 0.1.6 as well
[18:18:35] <Eridius> but not all packages actually follow this
[18:18:45] <simukis> Eridius: this is not true in light of rust’s own breaking changes
[18:18:55] <scott> simukis: it's not what you want. it's still *usually* what is wanted in general
[18:18:56] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:18:58] <simukis> you can’t even build 0.1.1 even if it would actually work with rand if it would
[18:19:23] <scott> just go ahead and use the =0.1.1 spec
[18:19:24] <Eridius> simukis: in light of rust's own breaking changes, package 0.1.1 probably doesn't compile anymore
[18:19:54] <Eridius> which is why picking up 0.1.6 instead is a good thing. As long as the package author is treating 0.1 as the API stability component, then 0.1.6 should hopefully compile
[18:20:12] <Eridius> but of course if you know a particular dependency doesn't follow this practice, using = works
[18:20:52] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[18:21:21] <simukis> Eridius: it only picks 0.1.6 when rand is built as a standalone package, though. Not when you use it as a dependency
[18:21:46] *** Quits: aruns (aruns@moz-b8k.bj8.142.72.IP) (Quit: Leaving)
[18:22:35] *** Quits: kimundi (kimundi@moz-94ap69.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[18:22:37] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[18:22:38] <Eridius> simukis: it should still pick up 0.1.6 unless another package constrains it
[18:22:58] <simukis> I should note my pacakge depends *only* on rand and it doesn’t build because libc which rand depends on doesn’t build, because wrongly selected version
[18:23:19] <Eridius> Have you tried `cargo update`?
[18:24:17] <Eridius> I just created a brand new crate, added a single dependency on rand, and `cargo build` built libc v0.1.6
[18:24:18] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[18:24:30] <steveklabnik> right, so if you've built something in the past
[18:24:34] <steveklabnik> the lock will keep it at the same version
[18:24:38] <Eridius> but if you're using an existing crate, you'll need to `cargo update` to make it pick up newer versions of dependencies
[18:24:42] <steveklabnik> ^^^
[18:24:55] <simukis> sighs
[18:24:59] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[18:25:10] <Eridius> basically, cargo won't change the dependencies it uses after you've created Cargo.lock unless you explicitly tell it to
[18:25:14] <Eridius> this lets you have fully reproducible builds
[18:25:56] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[18:26:09] <simukis> Eridius: fully reproducible builds go out the window as soon as I change something in my own Cargo.toml, such as bumping version of rand from 0.1 to 0.3
[18:26:20] <Eridius> I do wish cargo had a command that showed you the full tree of dependencies and any info it has about them (e.g. version from Cargo.lock, version requirements that apply to the crate, and whether `cargo update` would update to a newer version)
[18:26:30] <steveklabnik> Eridius: 'cargo tree' is on github
[18:26:33] <Eridius> oh?
[18:26:36] <steveklabnik> does some of that
[18:26:46] <steveklabnik> see also https://github.com/rust-lang/cargo/issues/1211
[18:26:58] <Eridius> simukis: what do you mean? If you make a change, then it will compile differently of course, but if you backdate your SCM to the older version you can reproduce exactly that older build, if you kept your Cargo.lock
[18:27:08] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[18:27:08] *** Joins: Kxepal (Miranda@moz-8ekfuk.pppoe.mtu-net.ru)
[18:28:05] <Eridius> steveklabnik: hrm, it has a dependency on cargo itself. Will building cargo-ls then build a separate copy of cargo, or does cargo recognize itself and just link against its own libs?
[18:28:24] <steveklabnik> Eridius: any 'cargo-foo' in your PATH can be run as 'cargo foo'
[18:28:26] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[18:28:31] <steveklabnik> but that's unrelated, sorry
[18:28:43] <steveklabnik> i'm unsure about that tbh
[18:29:19] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[18:29:26] <sfackler> iirc cargo statically links
[18:29:33] <steveklabnik> anyway, this whole discussion is probably better had in #cargo
[18:29:37] <Eridius> oh hmm, so it doesn't install any libs on the system?
[18:29:48] <Eridius> yeah looks like it's building cargo in its entirety
[18:29:59] <Eridius> good point
[18:32:42] *** Joins: user7181 (user@moz-6a2pbf.mullvad.net)
[18:34:34] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[18:34:53] *** Joins: user7181_ (user@moz-manmml.mullvad.net)
[18:37:19] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[18:37:32] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:38:04] *** Quits: user7181 (user@moz-6a2pbf.mullvad.net) (Ping timeout: 121 seconds)
[18:39:47] <acrichto> nmatsakis: is ty::Method::provided_source supposed to be used to determine if it's a default method in a trait?
[18:40:27] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[18:40:31] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[18:40:56] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[18:41:27] <binkarus> Howdy, I was going to try to fix this rustdoc issue today https://github.com/rust-lang/rust/issues/23511, but I haven't worked on rust's internals yet, so I was wondering if there's any dev tips?
[18:41:48] <binkarus> Like reducing compile time or testing just rustdoc.
[18:42:44] <aturon> binkarus: you might check with acrichto, who is currently burning down rustdoc bugs
[18:42:44] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[18:43:02] <Eridius> huh, rustup apparently installed the beta on my machine >_<
[18:43:24] <Eridius> I didn't realize it now requires a flag to get the nightly
[18:43:32] <binkarus> aturon, I'm assuming mentioning his name just pinged him, so I just wait right?
[18:43:42] <acrichto> binkarus: I've done some manual tweaks to the build system, but the goal would basically be to build rustdoc unoptimized and also only rustdoc
[18:43:53] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[18:43:54] <acrichto> binkarus: you can build just rustdoc via `make $target/stage2/bin/rustdoc`
[18:44:08] <acrichto> and you can force no-optimization by editing config.mk and adding `CFG_DISABLE_OPTIMIZE=1`
[18:44:12] <aturon> (oh sorry, main point was that i think acrichto may be working on this bug)
[18:44:16] <acrichto> and then using `touch` to put the timestamp in the past
[18:44:21] <acrichto> haven't quite gotten to it just yet!
[18:44:33] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[18:44:54] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[18:45:14] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[18:45:43] <binkarus> acrichto, so you haven't started this bug yet?
[18:45:56] <acrichto> binkarus: not yet :)
[18:45:57] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[18:45:59] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[18:46:00] <acrichto> feel free to have a go!
[18:46:52] <binkarus> acrichto, alrighty then. This is going to be educational.
[18:47:41] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:48:11] *** Quits: ok32_ (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[18:48:38] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[18:48:39] *** ChanServ sets mode: +o nrc
[18:49:09] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[18:50:31] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[18:50:59] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[18:51:02] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[18:52:45] <Eridius> what version of rustc is play.rust-lang.org on?
[18:53:00] <scott> beta
[18:53:26] <Eridius> ah. There's a dropdown at the top that says "master" that I thought was supposed to be a version selector
[18:53:28] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:53:28] *** ChanServ sets mode: +o pcwalton
[18:53:47] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[18:54:34] <scott> hm, not sure what that dropdown is for. it'd be nice if we could choose between beta and nightly, though
[18:54:48] <barosl> I heard it was using master, not beta
[18:54:57] <Eridius> the dropdown is called "version" in the source
[18:55:21] <scott> I had to remove beta-incompatible stuff from the bot because playpen is on beta
[18:55:27] <scott> (and the bot uses playpen)
[18:55:34] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[18:56:20] <steveklabnik> ther'es an open bug related to this
[19:01:34] <binkarus> steveklabnik, TAOBRTT for short since. It's a common enough phrase.
[19:01:49] <aturon> lol
[19:02:02] <steveklabnik> heheh
[19:02:08] <steveklabnik> i do say it a lot
[19:03:30] <binkarus> Soon enough it'll get better. Rust beta => more rustaceans => more possible contributors.
[19:03:55] <simukis> and lots of tech debt
[19:04:04] <binkarus> And possibly more reviewers, which seems to be a project for large projects.
[19:04:10] <binkarus> *problem.
[19:04:42] <Eridius> I wish I had the time to be as involved as I used to be :/
[19:06:35] <steveklabnik> okay, so http://doc.rust-lang.org/reference.html#keywords has a link to which version of rust on the bottom
[19:06:45] <steveklabnik> why isn't that on all the pages?
[19:06:58] <steveklabnik> hmmm
[19:09:13] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[19:09:13] *** ChanServ sets mode: +o pnkfelix
[19:11:46] <binkarus> steveklabnik, it does seem inconsistent.
[19:11:53] *** Quits: sprang (sprang@moz-87qm4j.ca.comcast.net) (Ping timeout: 121 seconds)
[19:16:48] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[19:17:20] *** Joins: larhat (Adium@moz-5oreso.mfe0.h1q1.2168.2a02.IP)
[19:18:16] <acrichto> nrc: ping
[19:18:23] <imperio> Eridius: that a lot of people's case
[19:19:38] *** Joins: kimundi (kimundi@moz-94ap69.dip0.t-ipconnect.de)
[19:19:50] <nrc> acrichto: pong
[19:20:15] <acrichto> nrc: as a heads up, I'm burning down a ton of rustdoc issues right now
[19:20:21] <acrichto> nrc: just don't wanna duplicate too much work
[19:21:00] <nrc> acrichto: cool, I don't have any on my radar, I think cmr was doing the same thing
[19:21:19] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[19:21:21] *** Joins: eerie_ (eerie@moz-p7jjav.red.bezeqint.net)
[19:21:32] <acrichto> yeah trying to let him know as well, but he's not active right now
[19:21:38] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[19:22:11] *** Quits: singingboyo (holoirc@moz-gn9d1r.eng.wind.ca) (Ping timeout: 121 seconds)
[19:23:54] <reem> brson: Not off hand, but I can get one.
[19:24:38] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:25:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:25:45] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[19:26:05] <steveklabnik> acrichto: he said in a threa din response to nrc that he has so much going on he didn't think he'd be doing any work
[19:29:14] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:30:28] <nmatsakis> acrichto: ugh default methods. did you figure out your question?
[19:31:05] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[19:31:36] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[19:31:58] <acrichto> nmatsakis: ah yeah I figured it out
[19:32:12] * nmatsakis wipes brow in exaggerated relief
[19:32:14] <acrichto> nmatsakis: I discovered 2 ways to not learn if it's provided along the way!
[19:32:20] <acrichto> nmatsakis: third time was the charm though :)
[19:32:25] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:33:13] <nmatsakis> we code pretty one day
[19:42:48] <nmatsakis> acrichto: ok, so, found first bit of code that falls afoul of that "temporary" rule
[19:44:06] <nmatsakis> https://github.com/rust-lang/rust/blob/master/src/libcollections/btree/map.rs#L586-L590
[19:44:24] <nmatsakis> in particular, the &mut map.root as *mut _ overlaps with https://github.com/rust-lang/rust/blob/master/src/libcollections/btree/map.rs#L588
[19:44:29] * nmatsakis ponders
[19:45:02] *** Quits: semarie (semarie@moz-5tr.8eu.157.37.IP) (A TLS packet with unexpected length was received.)
[19:47:49] <Gankro> nmatsakis: What's this?
[19:48:17] <brson> reem: nah, don't worry about it. somebody's got to have one
[19:48:26] <brson> i need a 3d-printable rust logo!
[19:48:29] <nmatsakis> Gankro: so at some point, acrichto and I were discussing that when you coerce a &T to a *const T,
[19:48:36] <nmatsakis> Gankro: (or &mut to *mut)
[19:48:58] <nmatsakis> Gankro: this unsafe pointer is only really valid for the lifetime of the `&` pointer you are coercing from
[19:49:14] <imperio> brson: keychain !
[19:49:18] <nmatsakis> Gankro: right now, such a coercion doesn't affect region inference at all
[19:49:35] <nmatsakis> Gankro: this implies that e.g. code like foo(x) where `foo` takes a `*const T` and `x` has type `&T` 
[19:49:36] <Gankro> nmatsakis: Ah yeah. I was weakly on board with that before but now I'm pretty negative against it. If I'm converting to a *mut I'm opting into C-style pointer semantics. I specifically don't want lifetimes.
[19:49:58] <nmatsakis> Gankro: yeah, I'm not sure that is a coherent point of view
[19:50:06] <nmatsakis> it might be but
[19:50:12] <nmatsakis> it's not really in "your" hands as the person doing that coercion
[19:50:35] <Gankro> nmatsakis: the code you linked isn't a coercion anyway?
[19:50:46] <nmatsakis> Gankro: &mut foo as *mut X is a coercion
[19:51:12] <Gankro> What
[19:51:15] <nmatsakis> anyway, I'm not sure, it might be coherent. obviously this boils down to the precise rules on aliasing that (as you've pointed out many times) we haven't exactly written :)
[19:51:18] <nmatsakis> ?
[19:51:19] <nmatsakis> what
[19:51:30] <brson> brson: https://github.com/cmr/rust-logo-3d
[19:51:33] <Gankro> Have coercions and casts been merged?
[19:51:50] <nmatsakis> I didn't say it's an implicit coercion
[19:52:27] <Gankro> nmatsakis:Yeah I suppose my position is based on the assumption that *mut means "no rules", as it does today
[19:52:28] <nmatsakis> anyway, I think that's just terminology? I call that a coercion
[19:52:58] *** Quits: Anchovieshat (cloin@moz-4t5baq.pentaquine.com) (Client exited)
[19:52:59] <Gankro> nmatsakis: I assumed when you first suggested the coercion rule it was only for implicit coercions
[19:53:20] <nmatsakis> ah, ok. there is no difference.
[19:53:47] <Gankro> foo(&mut x) and foo(&mut x as *mut _) seem materially different to me
[19:54:00] <nmatsakis> not to me.
[19:54:04] <nmatsakis> one is writing out explicitly
[19:54:09] <nmatsakis> what happens implicitly in the other case
[19:54:29] <nmatsakis> one just seems more fully annotated
[19:54:50] <nmatsakis> anyway, it's kind of a side point, no?
[19:55:07] <Gankro> nmatsakis: How does one create a lifetime-less pointer?
[19:55:15] *** Quits: bdero1 (bran@moz-u8a.gci.189.18.IP) (Ping timeout: 121 seconds)
[19:55:18] <nmatsakis> "lifetime-less"?
[19:55:28] <Gankro> *mut's have no lifetimes
[19:55:30] <pczarn> nmatsakis: in the current nightly, blanket impls are conflicting with impls for built-in types
[19:55:56] <nmatsakis> pczarn: example?
[19:56:18] <nmatsakis> Gankro: ok? sorry, I'm confused. How do you create a `*mut`?
[19:56:21] <pczarn> if your recent PR added this, I can't tell how and why
[19:56:25] <carllerche> Is it possible for libs to conditionally use unstable features?
[19:56:35] <carllerche> so, a subset of a lib can be marked as unstable as well
[19:56:39] <carllerche> and use unstable std features?
[19:56:41] <steveklabnik> yes
[19:56:48] <carllerche> is that documented somewhere?
[19:57:00] <steveklabnik> i've been meaning to write an example with benchmark but i haven't gotten there yet
[19:57:04] <Gankro> nmatsakis: Your proposal is basically attaching implicit lifetimes to *mut's in some contexts, no?
[19:57:32] <carllerche> steveklabnik: how does one do it?
[19:57:33] <pczarn> nmatsakis: http://is.gd/yDjjj1
[19:57:56] <steveklabnik> carllerche: see http://www.reddit.com/r/rust/comments/31f03s/questions_on_how_to_make_sodiumoxide_rustbeta/cq0yutx
[19:58:09] <steveklabnik> add an empty feature, put all the unstable stuff in it
[19:58:37] <nmatsakis> pczarn: this is intentional -- you can't rely that u32: !Iterator, basically, because you control neither
[19:58:49] <nmatsakis> (and maybe we want to add that impl in the future)
[19:59:07] <nmatsakis> I mean, probably not in that particular case :) but that's what the rules are trying to ensure
[19:59:27] <nmatsakis> Gankro: well, basically transmuting from memory you own (e.g. a Box, or the result of malloc)
[20:00:10] <nmatsakis> Gankro: still, I do lean towards saying we should be conservative; it comes down to what we want to be able to optimize
[20:00:18] <nmatsakis> Gankro: but I think 
[20:00:21] <nmatsakis> *scratch that
[20:00:33] <nmatsakis> Gankro: so there are limits, e.g. if I have
[20:00:35] <nmatsakis> fn foo(x: &T)
[20:00:41] <nmatsakis> I can't reasonable coerce that to a *const T
[20:00:48] <carllerche> steveklabnik: how does one conditionally add the #![feature(...)] attribute?
[20:00:49] <nmatsakis> and have that outlive the (implicit) lifetime parameter
[20:00:49] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:00:59] <Gankro> nmatsakis: The conservative thing to me seems to be "*mut's give you nothing"
[20:01:13] <steveklabnik> carllerche: i forget the exact cfg syntax, maybe someone else knows?
[20:01:20] <nmatsakis> Gankro: sorry, what do you mean by "give you nothing"?
[20:01:38] <Gankro> nmatsakis: Basically they behave like a C-style ptr
[20:01:51] <Gankro> Here is an address to memory. Do with it what you will.
[20:01:57] <nmatsakis> Gankro: the question is more about how the other pointers behave
[20:01:59] <steveklabnik> carllerche: #[cfg(feature = "foo")] <- i think
[20:02:07] <steveklabnik> that feature being the cargo one
[20:02:10] <sfackler> carllerche: #![cfg_attr(the_condition, feature...)]
[20:02:36] <pczarn> ok, that explains it, I have to newtype
[20:02:37] <sfackler> so e.g. #![cfg_attr(feature = "my_cargo_feature", feature(core))]
[20:02:44] <Gankro> nmatsakis: Basically I would expect that as soon as I create *, I expect there to be no side-effects on lifetime/borrow checking
[20:03:06] <carllerche> Is there a builtin cfg to indicate nightly vs. stable?
[20:03:18] <Gankro> I am explicitly opting into managing my own lifetimes
[20:03:22] <nmatsakis> Gankro: ultimately the more freedom we give to *mut, the less we can optimize, particularly if there are fn calls
[20:03:35] <nmatsakis> Gankro: but i think this is somewhat orthogonal
[20:03:43] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:03:44] <nmatsakis> Gankro: from what you are saying
[20:03:48] <Gankro> nmatsakis: Are there any optimizations you can think of conceretely?
[20:03:59] <steveklabnik> carllerche: not that i'm aware of
[20:04:13] <carllerche> Seems like something good to include sooner than later :D
[20:04:16] <nmatsakis> Gankro: sure, absolutely -- can we rely that (e.g.) reading  a value from a &mut will yield same value, if we don't see any writes?
[20:04:18] <steveklabnik> eh
[20:04:30] <nmatsakis> Gankro: if there are no *mut aliasing it, we can.
[20:04:43] <carllerche> #[cfg(channel = "stable")]
[20:04:48] <nmatsakis> Gankro: if there could be *mut's hanging around, we have to assume that a fn call may touch one of those, etc
[20:04:48] <Gankro> nmatsakis: definitely
[20:05:16] <carllerche> aturon: ^^ re a cfg (or something) to indicate the current rust channel
[20:05:20] <nmatsakis> Gankro: (unless we do some kind of interprocedural analysis to rule that out, of course, which given crate-wide compilation is often plausible -- though expensive)
[20:06:04] <Gankro> nmatsakis: I wouldn't be opposed to having aliasing *rules*. But basically I would consider it *my* problem to not violate them
[20:06:56] <nmatsakis> Gankro: so at this point I'm leaning against the rule I proposed, fwiw :)
[20:07:10] <Gankro> nmatsakis: ok :)
[20:07:20] <nmatsakis> Gankro: that is, I'm ... sort of agreeing with you. though I think we're speaking imprecisely enough that it's hard to say :)
[20:07:29] <Gankro> haha, fair enough
[20:07:39] <nmatsakis> Gankro: but if nothing else the temporary scope rule is at best a heuristic,
[20:07:46] <nmatsakis> and basically my feeling is that
[20:07:52] <nmatsakis> I'd rather err on the side of us being conservative
[20:07:54] <nmatsakis> than crashes
[20:08:00] <nmatsakis> due to us being overeager about micro-optimizing
[20:08:18] <nmatsakis> I think that e.g. C's strict aliasing rules are pretty hard to deal with in practice
[20:08:38] <nmatsakis> I remember being told that e.g. Epic turns off -fno-strict-aliasing because it's just too hard to think about and not worth the small perf gain 
[20:09:11] <Gankro> Basically I'd like the language/compiler to get out of my way when I decide to drop down to that level. I generally use *mut's for raw allocations that I'm managing, and temporary pointers to things I'll need "later" but would otherwise (correctly) be disallowed by the borrow checker.
[20:09:33] <nmatsakis> (anyway i'm basically just trying to fix #20791 -- I think I have another idea how to approach it)
[20:09:43] <Gankro> gh20791
[20:09:44] <[o__o]> Can cast an unusable value to a raw pointer: https://github.com/rust-lang/rust/issues/20791
[20:09:47] <nmatsakis> Gankro: that's fine, and I agree, but I think it also oversimplifies to some extent
[20:10:06] <nmatsakis> it's always a trade-off
[20:10:23] <nmatsakis> getting out of your way means getting into someone else's
[20:10:35] <nmatsakis> (but I think in this case it's mostly due to increased conservatism around optimizing)
[20:10:54] <nmatsakis> anyway, I think we're in violent agreement here. :)
[20:10:54] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[20:11:25] <Gankro> nmatsakis: I guess my fatal flaw is always solving the exact issue at hand, but it seems like that issue is just allowing casts of uninit values?
[20:12:03] <nmatsakis> Gankro: the reason they are allowed is due to a flaw in the ExprUSeVisitor, which classifies actions -- I'm trying to find the right classification for casting &T to *const T
[20:12:16] <nmatsakis> Gankro: currently the classificaiton is -- well, nothing. 
[20:12:33] <nmatsakis> Gankro: anyway, I experimented with considering it a borrow for the enclosing temp scope, leading to the error you saw, on the basis of that discussion with acrichto 
[20:12:45] <Gankro> I see
[20:12:46] <nmatsakis> Gankro: but I'm now going with a different, more narrow classification (borrow just for the duration of the `as`)
[20:12:54] <nmatsakis> (calling it a copy/move leads to other problems)
[20:13:25] <Gankro> That seems like a reasonable solution
[20:13:33] <Gankro> Just have to make *mut's first
[20:14:31] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[20:15:28] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[20:15:41] *** Quits: eerie_ (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[20:16:02] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[20:16:27] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:18:11] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[20:18:32] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[20:19:34] *** Joins: jdm (jdm@moz-gh3.gum.189.205.IP)
[20:20:04] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:20:18] *** Joins: sprang (sprang@moz-kh1.7vl.56.172.IP)
[20:20:47] *** Joins: andars (afoote@moz-bsldst.sntcca.sbcglobal.net)
[20:21:18] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:22:18] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[20:22:24] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[20:23:54] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:24:36] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[20:26:27] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[20:30:59] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[20:31:10] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[20:31:39] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:31:58] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[20:35:13] <imperio> steveklabnik: ping
[20:36:05] *** Quits: tikue (tkuehn@moz-n71.k1b.0.198.IP) (Client exited)
[20:36:35] <steveklabnik> imperio: pong
[20:36:39] <steveklabnik> haha nice
[20:36:40] <steveklabnik> smae length
[20:36:42] <steveklabnik> same
[20:36:58] <imperio> not sure to follow you on this...
[20:37:03] <imperio> anyway, here comes...
[20:37:08] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[20:37:11] <imperio> gh24141
[20:37:11] <[o__o]> Calling `.tail()` on a empty slice panics: https://github.com/rust-lang/rust/issues/24141
[20:37:16] <imperio> :D
[20:37:20] <steveklabnik> heh
[20:37:38] *** Quits: Guest63 (textual@moz-82je36.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[20:37:53] <steveklabnik> i didn't read the new comments yet
[20:37:58] <steveklabnik> let me... think about how to reply
[20:40:11] <steveklabnik> aturon: acrichto  re gh24141, didn't we disucss having these methods return Option? 
[20:40:12] <[o__o]> Calling `.tail()` on a empty slice panics: https://github.com/rust-lang/rust/issues/24141
[20:40:20] <imperio> I "fix" that on my own, I'll make the PR when it'll be good
[20:41:13] *** Joins: jculpon (peri@moz-8i8.vsk.251.12.IP)
[20:41:52] *** Joins: Guest63 (textual@moz-82je36.pools.vodafone-ip.de)
[20:44:55] *** Quits: andars (afoote@moz-bsldst.sntcca.sbcglobal.net) (Quit: leaving)
[20:49:31] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:50:14] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:53:14] *** Joins: tikue (tkuehn@moz-n71.k1b.0.198.IP)
[20:53:20] <gleb> if a struct contains a raw pointer how often is it reasonable to derive Copy and Clone for such struct? it feels unsafe
[20:55:43] <kmc> it depends on what the pointer means in context
[20:56:08] *** Joins: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP)
[20:56:13] <kmc> I think you have to consider each case carefully, attaching a feeling / code smell to the pattern is probably not helpful
[20:56:14] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[20:56:15] <imperio> gleb: as long as you have the number of copy, it should be cool
[20:56:27] <kmc> imperio: ?
[20:56:30] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:57:10] <imperio> kmc: wasn't it the question ? "How many time can i copy a struct which contains a raw pointer" ?
[20:57:28] <kmc> not as I read it
[20:57:30] <gleb> imperio: no :)
[20:57:30] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:57:38] <kmc> but also, "number of times" usually isn't relevant
[20:57:43] <kmc> unless you have a refcounting scheme
[20:58:07] <imperio> kmc: that was included yes ^^
[20:58:12] <kmc> a raw pointer could point to a refcounted object, a uniquely owned object, a static object, undefined memory, NULL, the framebuffer, a network card, ...
[20:58:30] <kmc> you can't make blanket rules about what is and isn't safe with raw pointers
[20:58:32] <imperio> gleb: sorry, what did you mean then ? I don't understand any other meaning
[20:59:06] *** Quits: sprang (sprang@moz-kh1.7vl.56.172.IP) (Ping timeout: 121 seconds)
[20:59:09] <kmc> or even useful guidelines really
[20:59:09] <richo> Can someone help me with some Box magic? https://gist.github.com/richo/a3354240e8ee91bd596e
[20:59:32] <kmc> the guidelines are about the scenario you find yourself in (refcounting, ownership, etc.) and not about the type *const T or *mut T, which is the barest of building blocks
[20:59:34] <gleb> imperio: I was thinking, many cases of implementing Copy for a struct with a raw pointer could lead to unsafety. and it's very easy to do
[20:59:34] <richo> I'm assuming that either box is special, or one of these traits causes it to deref magically past the Unique
[20:59:51] *** Joins: gretchenfdfe (Mibbit@moz-juv.9o3.252.72.IP)
[21:00:00] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:00:18] <gleb> there're unsafe traits but Copy isn't one of them
[21:00:19] <kmc> gleb: I'm not a fan of the current "deriving for raw pointer" lint. if you are using raw pointers but you don't understand how few guarantees they have, there are bigger problems than a lint can solve
[21:00:25] <nmatsakis> richo: are you getting coherence errors?
[21:00:30] <imperio> gleb: oh okay ! I totally misunderstood... Well, kmc did say all ^^
[21:00:30] <kmc> and if you do understand what raw pointers are, then the lint is always an annoyance
[21:00:34] <kmc> in my experience
[21:00:43] <richo> nmatsakis: error: attempted tuple index `0` on type `&Box<T>`, but the type was not a tuple or tuple struct
[21:00:51] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:00:53] <richo> (yeah, pre coffee richo didn't think to include the error >.<
[21:01:05] <nmatsakis> richo: oh, I see, yes, Box is special
[21:01:10] <gleb> kmc: ah, so it's not a new idea. nice to know :)
[21:01:25] <nmatsakis> richo: hopefully that'll be fixed sooner or later, but &*self is the right thing probably
[21:01:26] <richo> If I destructruing match it tells me that it's a boxed::Box not a Box
[21:01:37] <richo> is there some way I can work around that? &* blows the stack
[21:01:45] <steveklabnik> box patterns are gated
[21:01:47] <nmatsakis> richo: sorry, &**self
[21:01:48] <steveklabnik> but let you do it, iir
[21:01:49] <kmc> gleb: it's implemented: https://github.com/rust-lang/rust/blob/master/src/librustc_lint/builtin.rs#L536-L616
[21:01:50] <steveklabnik> c
[21:01:53] <richo> nmatsakis: that gives me a T
[21:01:56] <richo> not a Unique<T>
[21:02:08] <richo> (I did try a *lot* of things before asking here, I can add them all the gist if you like)
[21:02:22] <kmc> the lint exists today, and it's annoying and useless (in my opinion)
[21:02:26] <Eridius> "But given the recent events today" what are the recent events today?
[21:02:32] <nmatsakis> richo: why do you want a Unique<T>?
[21:02:34] <gleb> kmc: I'm confused. it seems set to warn but I've never seen such a warning
[21:02:38] *** Quits: Guest63 (textual@moz-82je36.pools.vodafone-ip.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:02:47] <richo> nmatsakis: I'm implementing the Pointer formatter, and Unique is the pointer, no?
[21:02:47] <nmatsakis> richo: you could also do `let data: *const T = &**self;` 
[21:02:59] <nmatsakis> richo: idk I'm kind of half guessing here :)
[21:03:06] <nmatsakis> richo: but yes I missed that you *wanted* Unique<T>
[21:03:09] <richo> oho, I'll give that a stab
[21:03:11] <richo> yeah apologies
[21:03:16] <nmatsakis> richo: still I suspect what you really want is a raw ptr
[21:03:24] <nmatsakis> or at least you can live with it
[21:03:56] <nmatsakis> (Unique<T> is actually a wrapper around a *const T)
[21:04:16] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:04:16] *** ChanServ sets mode: +o pcwalton
[21:04:17] <richo> nmatsakis: https://gist.github.com/richo/a3354240e8ee91bd596e
[21:04:24] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:04:25] *** ChanServ sets mode: +o pnkfelix
[21:04:28] <richo> This looks soooo close. I will try the *const idea though, thanks
[21:05:01] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[21:05:01] <gleb> kmc: I guess it's already been disabled everywhere I might've seen it.. :)
[21:05:11] <gleb> thanks for the info
[21:05:21] <kmc> :)
[21:06:57] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[21:07:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[21:07:14] <richo> yeah, I'm building with the raw ptr now. It compiles, now just to work out if it actuall DTRT
[21:07:15] <gleb> kmc: and I take it, you've found that the assumption behind lint is wrong more often than not in your experience?
[21:07:36] <gleb> *behind this lint
[21:09:40] <kmc> my experience and that of the servo team is that it's wrong 100% of the time
[21:09:47] <kmc> we wouldn't be using raw pointers if we did not understand what they are
[21:10:08] <kmc> the idea that copying/cloning a raw pointer doesn't do anything special to the pointed-to object is pretty fundamental
[21:10:18] *** Quits: jdm (jdm@moz-gh3.gum.189.205.IP) (Quit: )
[21:10:58] <kmc> it's like making the unsafe-code warn by default. it just adds another place where you have to say "yes, I know what I'm doing" without any real value
[21:11:11] <kmc> accordingly, I'd be in favor of keeping the raw pointer deriving lint but making it default-allow :)
[21:11:16] *** Quits: gretchenfdfe (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:11:52] <gleb> isn't saying #[allow(something)] analogous to the unsafe keyword?
[21:11:59] <kmc> no
[21:12:16] <kmc> but also, what I meant is that we don't require #[allow(unsafe)] unsafe fn ...
[21:12:21] <kmc> that's just forcing you to write the word unsafe twice
[21:12:37] <kmc> which is like asking to derive Copy and then saying "yes, I really want the derived instance of Copy"
[21:12:43] <gleb> yes, but derive(Copy) is the word unsafe zero times
[21:12:50] <kmc> it's an analogy =)
[21:13:09] <kmc> you can't invoke undefined behanior through your erroneously-Copied pointer without the 'unsafe' keyword
[21:13:42] <gleb> yeah, that seems fair :)
[21:14:51] <gleb> although... you can do the copying in the safe code...
[21:14:58] <kmc> sure
[21:15:34] <kmc> the point is, holding a value of type *const T or *mut T does not give you ANY guarantees about what you point to, whether it's valid, how it's managed, etc.
[21:15:50] <kmc> you can't say "it's wrong to copy a raw pointer" any more than you can say "it's safe to copy a raw pointer"
[21:16:22] <gleb> I see
[21:16:28] <kmc> it's just a number (mostly)
[21:17:25] <kmc> you can make a Vec and store integer indices into that Vec and do it in a way such that you will segfault if you "copy" an index
[21:17:38] <kmc> with unsafe code, I mean
[21:18:28] <kmc> but we don't warn on every use of usize just because someone might do that
[21:19:03] <Eridius> it's only wrong to copy a pointer if the pointer carries some implicit connotation of "ownership".
[21:19:07] <kmc> also we have Unique<T> now: http://doc.rust-lang.org/std/ptr/struct.Unique.html
[21:19:16] <kmc> so if you do want to label a raw pointer as owning and non-copyable
[21:19:17] <kmc> you can do so
[21:19:51] <kmc> generally, one builds wrappers that assign meaning to raw pointers and restrict their usage accordingly
[21:20:10] <kmc> so it's just silly for the compiler to warn that you're using the tool which one uses to build those wrappers
[21:20:18] <gleb> =)
[21:20:20] <kmc> i'm going on and on about this for some reason but I mostly don't care =)
[21:26:48] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[21:30:20] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:31:11] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[21:35:17] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Ping timeout: 121 seconds)
[21:40:54] *** Quits: tikue (tkuehn@moz-n71.k1b.0.198.IP) (Client exited)
[21:44:09] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:52:25] *** Quits: jculpon (peri@moz-8i8.vsk.251.12.IP) (Connection closed)
[21:53:57] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:55:52] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Connection closed)
[21:56:57] <gleb> if I want to use BufReader<File> and then unwrap it and seek to the position I'd be at without buffering... I believe this can't be done now except by counting all reads manually?
[21:58:44] *** Joins: yourabi (yourabi@moz-q8dqtg.ca.comcast.net)
[21:58:53] *** Quits: yourabi (yourabi@moz-q8dqtg.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:02:01] <Eridius> gleb: you could call .fill_buf(), grab the size of that buffer, unwrap it, and seek backwards by the same length.
[22:02:18] <Eridius> that has the downside where if the BufReader has no data buffered, it will read data into its buffer and yield that, data which you're about to just throw away
[22:02:59] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[22:03:00] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[22:03:02] <gleb> Eridius: hmm, interesting, thanks
[22:03:24] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:03:27] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[22:03:45] <Eridius> alternatively, you could submit a PR that implements io::Seek on io::BufReader where R: Seek, and document it as always discarding the internal buffer on a seek operation (thus allowing you to seek to SeekFrom::Current(0))
[22:04:34] <gleb> I was thinking of that but I'm not sure I'd want to rely on the BufReader not reading until I call read on it
[22:04:35] <Eridius> (the impl would of course subtract the current buffer size from the position when seeking from current)
[22:05:07] <Eridius> just document the Seek impl as not re-filling the buffer. It has no reason to re-fill the buffer anyway until you call read() or fill_buf() on it
[22:05:09] <acrichto> steveklabnik: yeah that was a possibility (hence the unstable-ness!)
[22:05:21] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:05:58] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Quit: )
[22:06:02] <acrichto> nmatsakis: hm in that example, shouldn't the manual corecion mean that no lifetime is attached?
[22:06:17] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:08:06] <nmatsakis> acrichto: well that's the question, isn't it? but the fact that coercion is manual has no impact to the compiler...coercion is coercion
[22:08:12] <nmatsakis> acrichto: anyway i'm pursuing different rules
[22:08:39] <gleb> Eridius: I guess this could work, thanks
[22:08:43] <nmatsakis> acrichto: (which we can--and perhaps should!--discuss separately, gotta run soon)
[22:08:52] <acrichto> nmatsakis: ok
[22:10:14] <gleb> Eridius: does anyone see the documentation attached to trait impls?
[22:10:50] <Eridius> gleb: I don't know offhand
[22:11:17] <gleb> I don't think it's shown anywhere
[22:12:54] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[22:19:49] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[22:21:29] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:22:14] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[22:22:17] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[22:22:27] <Gankro> gleb: Yeah it should show up next to the impl
[22:22:52] <gleb> Gankro: good to know, thanks
[22:24:20] <Gankro> gleb: e.g. https://doc.rust-lang.org/nightly/std/rc/struct.Weak.html#method.drop
[22:24:31] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[22:24:45] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:25:41] <gleb> Gankro: nice
[22:25:42] <richo> any objections to me making fmt::Pointer zero pad to system pointer width?
[22:25:58] <richo> libc::c_void() currently formats as 0x0
[22:26:10] <richo> err, ptr::null() rather, sorry
[22:29:08] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[22:29:52] <aturon> steveklabnik: do you have plans for the reference manual during this cycle? we had talked about divvying up the chapters and having people at least audit for correctness
[22:30:00] <steveklabnik> aturon: so
[22:30:29] <steveklabnik> i'm almost done with this proposal about the book TOC
[22:30:40] <steveklabnik> https://instagram.com/p/1L8iQPBcYA/ <- ha
[22:31:04] <steveklabnik> ... one of the side effects is, it almost makes the reference... less important
[22:31:12] <steveklabnik> that sounds worse/harder than it is
[22:31:24] <steveklabnik> let me write this up and then we can talk after?
[22:31:40] <aturon> steveklabnik: love the pic, and sure!
[22:31:42] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:31:50] <kmc> nice!
[22:32:08] <steveklabnik> _in theory_ i think we end up basically making the reference just part of the book
[22:32:12] <steveklabnik> but that's a strong claim
[22:32:26] <kmc> the book is currently more comprehensive on a lot of things
[22:32:39] <kmc> honestly, maybe we should chuck the reference and reintroduce it after a few cycles
[22:32:47] <kmc> after moving the most important "listing of stuff" sections elsewhere
[22:32:50] <steveklabnik> we'll see how it turns out :)
[22:32:59] <steveklabnik> i'm gonna go get on that right now, hopefully i'll have a PR tonight
[22:33:14] <kmc> if we have a formal grammar online it should be the in-tree one that's checked (?) against most of the test files
[22:33:19] <kmc> cool :)
[22:33:21] <steveklabnik> we do that already iirc
[22:33:22] <steveklabnik> ish
[22:33:25] <steveklabnik> maybe we dont run those tests
[22:33:45] * steveklabnik checks homu's queue to see how many book-related PRs there are
[22:33:46] <kmc> oh, does it test the actual snippets from the reference?
[22:34:15] <steveklabnik> no, they're separate. we were supposed to remove the ones from the reference, i never got aorund to it
[22:34:50] *** Quits: eibwen (eibwen@moz-bu00v3.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:34:57] <kmc> i see
[22:35:40] *** Joins: tcurdt (tcurdt@moz-irokio.dip0.t-ipconnect.de)
[22:36:30] <nrc> I would like to see a separate reference - it used to be really useful for checking the semantics of the compiler, etc. Separate could be just a chapter in the book, but having reference material scattered around chapters seems inconvenient
[22:36:46] <steveklabnik> nrc: yeah, that's why i'm hesitant to suggest it being gone entirely
[22:41:09] <carllerche> Ok, mio, nix, bytes, syncbox, eventual all compile on beta (though, nix & mio have used hacks to get working again)
[22:41:26] <carllerche> well, i guess bytes
[22:41:35] <bstrie> carllerche: what sort of hacks?
[22:42:08] <carllerche> bstrie: https://github.com/carllerche/mio/blob/master/src/io.rs#L181-L191
[22:42:52] <carllerche> bstrie: https://github.com/carllerche/bytes/blob/master/src/bytes.rs#L259-L264
[22:49:48] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:49:59] <bstrie> carllerche: hilarious
[22:50:15] <carllerche> which one?
[22:50:21] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:50:42] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:51:46] <bstrie> the first one especially
[22:56:39] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[22:56:43] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:58:32] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[23:00:43] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[23:02:38] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:02:55] *** Quits: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[23:04:10] <reem> carllerche: the second one should have a #[repr(C)] annotation
[23:04:32] <reem> (the trait object in bytes)
[23:06:08] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:06:21] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[23:06:41] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[23:13:59] *** Quits: tcurdt (tcurdt@moz-irokio.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:15:11] *** Joins: tcurdt (tcurdt@moz-1hor9j.dip0.t-ipconnect.de)
[23:16:32] <nmatsakis> aturon: steveklabnik: re the reference, I printed it out recently -- I was planning to just read through it and take notes
[23:16:56] <nmatsakis> though I wouldn't mind chucking it
[23:16:57] <nmatsakis> :)
[23:17:05] <steveklabnik> nice
[23:24:37] *** Quits: user7181_ (user@moz-manmml.mullvad.net) (Quit: leaving)
[23:28:49] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:29:57] <steveklabnik> what did we decide 'type' is called? a type alias?
[23:30:12] *** Joins: mib_fureec (Mibbit@moz-juv.9o3.252.72.IP)
[23:31:20] <reem> yup
[23:31:53] <steveklabnik> thought so, just double checking, thanks :)
[23:33:00] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[23:33:59] *** Quits: mib_fureec (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:34:29] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:37:32] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[23:57:45] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[23:58:28] <steveklabnik> okay, here's my TOC proposal: https://gist.github.com/steveklabnik/32014557c2013a30dc8e
