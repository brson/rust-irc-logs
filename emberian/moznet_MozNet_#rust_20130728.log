[00:04:04] *** Joins: robarnold (rob@BD56354E.DB510C09.6E370BFC.IP)
[00:04:15] *** Joins: jclements_ (jclements@moz-22594D44.ngn.east.myfairpoint.net)
[00:04:28] *** Quits: jclements (jclements@moz-5399D5B7.ptldme.east.myfairpoint.net) (Ping timeout)
[00:04:28] *** jclements_ is now known as jclements
[00:07:07] *** Joins: z0w0 (zack@moz-E12708D5.lns6.woo.bigpond.net.au)
[00:08:37] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[00:09:24] <saati> is there a way to do haskell monad like stuff with option?
[00:10:03] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[00:10:52] <goffrie> saati: welll, there's no do notation, but there's `chain` which is pretty much bind
[00:11:07] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[00:11:15] <saati> the whole code is in do notation
[00:11:43] <saati> where can i find chain?
[00:11:50] <Eridius> http://static.rust-lang.org/doc/std/option.html#implementation-for-optiont-where-t
[00:11:57] <Eridius> fn chain<U>(self, f: &fn(t: T) -> Option<U>) -> Option<U>
[00:12:27] <goffrie> rusti: Some(5u).chain(|x| x*2)
[00:12:30] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NVAc
[00:12:41] <goffrie> oops
[00:12:44] <goffrie> rusti: Some(5u).chain(|x| Some(x*2))
[00:12:46] -rusti- Some(10)
[00:13:27] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[00:13:28] <saati> this is cool, thanks
[00:14:45] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[00:15:28] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[00:17:19] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[00:23:32] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:24:31] *** Joins: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de)
[00:24:41] <saati> now i see what you mean by no do notation, is it possible to make it a macro somehow?
[00:25:03] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Ping timeout)
[00:25:09] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[00:25:22] *** Quits: tristram (tristram@moz-C498CC41.eu) (Ping timeout)
[00:25:23] *** Quits: Khady (Khady@moz-31F9D77E.khady.info) (Ping timeout)
[00:25:29] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[00:26:27] *** Joins: tristram (tristram@moz-C498CC41.eu)
[00:26:30] *** Joins: Khady (Khady@moz-31F9D77E.khady.info)
[00:26:39] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[00:26:53] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[00:27:16] <goffrie> saati: there's https://mail.mozilla.org/pipermail/rust-dev/2013-May/004182.html (https://github.com/huonw/rust/commit/69d6644c6f2b786c917a5dc19fbd0d4f5b58c83b)
[00:27:23] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[00:27:33] *** Quits: jclements (jclements@moz-22594D44.ngn.east.myfairpoint.net) (Ping timeout)
[00:28:57] *** Joins: jclements (jclements@moz-79B9949E.ptldme.east.myfairpoint.net)
[00:29:02] <bjz> saati: thre is also .map
[00:29:32] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Quit: eholk)
[00:30:00] <maikklein> bjz, the patch for extern function pointers hasn't landed yet right?
[00:30:11] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[00:30:16] <bjz> I don't think so
[00:30:19] <bjz> nmatsakis: ?
[00:30:49] <bjz> maikklein: I have to redo gl-rs to use static muts too
[00:30:53] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[00:31:34] <bjz> maikklein: bug me to make sure I fix that
[00:32:05] <bjz> maikklein: would be good to have it ready for when the patch lands
[00:32:10] <bjz> (if ever :P)
[00:33:33] <saati> rusti: do_!(bind a = Some(1); bind b = Some(2); let r = a*b; Some(r))
[00:33:34] -rusti- <anon>:7:9: 7:12 error: macro undefined: 'do_'
[00:33:34] -rusti- <anon>:7          do_!(bind a = Some(1); bind b = Some(2); let r = a*b; Some(r))
[00:33:34] -rusti-                   ^~~
[00:33:34] -rusti- application terminated with error code 101
[00:35:14] <bjz> saati: do_ is not included in the compiler
[00:36:12] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:36:39] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Ping timeout)
[00:37:22] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[00:40:49] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[00:41:06] *** sam113101 is now known as sam113101_afk
[00:41:08] <jmgrosen> how feasible is it to compile a zero.rs program to javascript using emscripten?
[00:41:30] *** sam113101_afk is now known as sam113101
[00:43:18] <aatch> jmgrosen, shouldn't be too hard.
[00:43:26] <jmgrosen> aatch, has it been done before?
[00:43:41] <aatch> jmgrosen, I'm not sure what extra stuff emscripten might need though
[00:43:46] <aatch> jmgrosen, not as far as I know
[00:43:52] <jmgrosen> aatch, what target should i compile it for, if you know?
[00:44:17] * maikklein bugs bjz
[00:44:21] <aatch> jmgrosen, probably best to use --emit-llvm and compile the bitcode
[00:44:30] <bjz> maikklein: ^_^
[00:44:35] <maikklein> :)
[00:44:43] <jmgrosen> aatch: yeah, but which target? the bitcode is target-dependent
[00:45:22] *** sam113101 is now known as sam113101_afk
[00:45:32] <aatch> jmgrosen, I don't think LLVM bitcode is target dependent.
[00:45:44] *** sam113101_afk is now known as sam113101
[00:45:48] <jmgrosen> aatch, hmm i seem to remember some differencesâ€¦ but ok
[00:46:24] <Ralith> aatch: llvm bitcode isn't, but the program you encode in it is.
[00:46:40] <aatch> jmgrosen, it won't play nice with inline asm and there probably are some other things, but you can probably get away with treating it as independent.
[00:47:44] <aatch> Ralith, yes, but I'm not most of it matters for emscripten unless you do something that obviously won't work.
[00:47:50] <aatch> not sure*
[00:50:31] *** Joins: brson (brson@FA215F65.8CBA6D28.848BB095.IP)
[00:50:31] *** ChanServ sets mode: +o brson
[00:59:37] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:00:18] *** Joins: jeff (jeff@moz-2060093E.nycmny.east.verizon.net)
[01:10:24] *** Quits: jeff (jeff@moz-2060093E.nycmny.east.verizon.net) (Ping timeout)
[01:10:55] * maikklein finally back on archlinux
[01:11:09] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[01:11:12] *** Quits: brson (brson@FA215F65.8CBA6D28.848BB095.IP) (Quit: leaving)
[01:15:49] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[01:18:16] *** Quits: thpickert (thpickert@moz-34341F25.dynamic.dsl.tng.de) (Client exited)
[01:19:15] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[01:22:09] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Ping timeout)
[01:22:28] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[01:22:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/TxhAyg
[01:22:28] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[01:23:07] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[01:25:26] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:25:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Dr7ctw
[01:25:27] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:26:25] *** Quits: jclements (jclements@moz-79B9949E.ptldme.east.myfairpoint.net) (Ping timeout)
[01:27:54] *** Joins: jclements (jclements@moz-3EAC8CCF.phlapa.east.myfairpoint.net)
[01:28:01] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:29:21] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:34:46] *** Quits: etw (john@5ADED2BB.8145FF59.D8D886B.IP) (Ping timeout)
[01:35:43] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[01:44:18] *** Quits: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP) (Quit: lkuper)
[01:45:52] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[01:49:59] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:50:23] *** Quits: jclements (jclements@moz-3EAC8CCF.phlapa.east.myfairpoint.net) (Ping timeout)
[01:50:54] *** Joins: jclements (jclements@moz-D97E5D73.ngn.east.myfairpoint.net)
[01:52:23] *** Joins: null_ (textual@moz-66B120E.triad.res.rr.com)
[01:57:51] <jmgrosen> how do i use a null byte in a string? or is that not legal?
[01:59:14] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[01:59:45] <engla> it should be legal
[02:00:01] *** Joins: deepdog (deepdog@moz-BE31AF27.hr.hr.cox.net)
[02:00:05] *** Quits: deepdog (deepdog@moz-BE31AF27.hr.hr.cox.net) (Quit: deepdog)
[02:00:16] <jmgrosen> but how? "\0" gives me "unknown string escape: 48"
[02:00:32] <strcat> \x00
[02:00:34] <strcat> I guess
[02:00:37] <strcat> rusti: "\x00"
[02:00:38] -rusti- "\x00"
[02:00:40] <jmgrosen> ok
[02:00:43] <engla> rusti: let mut s = ~""; s.push_char(0 as char); s
[02:00:44] -rusti- ~"\x00"
[02:00:48] <engla> ok
[02:00:51] <strcat> it's legal utf8
[02:01:06] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[02:01:59] <jmgrosen> hmm
[02:02:19] <jmgrosen> when i try to compile the bitcode with ./emcc:
[02:02:23] <jmgrosen> WARNING: Linking two modules of different data layouts!
[02:02:28] <jmgrosen> WARNING: Linking two modules of different target triples: /Users/john/.emscripten_cache/libc.bc: 'le32-unknown-nacl' and 'x86_64-apple-darwin'
[02:03:10] <aatch> jmgrosen, ah... Does emcc work with LLVM assembly?
[02:03:28] <jmgrosen> aatch: i think so, let me try a C program
[02:03:38] *** Quits: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de) (Client exited)
[02:04:57] <Ralith> sounds like there is indeed a canonical target
[02:06:52] <jmgrosen> aatch: it works fine with clang-compiled bitcode
[02:07:43] <aatch> jmgrosen, yeah, what about the assembly. Because you could try deleting the datalayout and triple lines in the LLVM assembly
[02:08:36] *** Joins: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de)
[02:09:28] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[02:11:50] <jmgrosen> aatch: hmmâ€¦ rustc doesn't seem to create valid ll files
[02:12:08] <aatch> jmgrosen, what version of LLVM do you have?
[02:12:09] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[02:12:48] <jmgrosen> aatch: the version i'm using with emscripten is 3.2 -- is that too old?
[02:13:05] <aatch> jmgrosen, unfortunately yes. Rust uses 3.3
[02:13:23] <aatch> The new attribute syntax is what throws it.
[02:13:24] <jmgrosen> aatch: ok, hopefully that'll work with emscripten
[02:13:35] <jmgrosen> actually, will 3.4 work?
[02:13:46] <aatch> jmgrosen, it should
[02:13:47] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[02:14:37] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[02:16:18] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[02:19:35] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[02:20:26] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:20:52] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:21:52] *** Joins: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com)
[02:22:27] <zslayton> What's the syntax for bitwise not?
[02:23:01] <bblum> !
[02:23:11] <zslayton> thanks!
[02:24:19] <jmgrosen> aatch: "error: unterminated attribute group"
[02:24:36] <aatch> jmgrosen, no idea sorry.
[02:27:34] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130722172257])
[02:27:46] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[02:33:02] <maikklein> rusti: !5
[02:33:04] -rusti- -6
[02:33:35] <maikklein> rusti: !0
[02:33:36] -rusti- -1
[02:34:31] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:35:43] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[02:38:01] *** Joins: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP)
[02:42:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:42:43] *** ChanServ sets mode: +o dherman
[02:44:33] *** Quits: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP) (Quit: lkuper)
[02:46:20] <jmgrosen> aatch: it seems to be the fixedstacksegment attribute
[02:46:30] <aatch> jmgrosen, that would make sense.
[02:46:40] <jmgrosen> aatch: why? the other attributes are fine
[02:46:58] <aatch> jmgrosen, fixedstacksegment is a rust-specific attribute
[02:47:12] <jmgrosen> aatch, then why is it in the ll?
[02:47:15] *** Joins: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP)
[02:47:29] <aatch> jmgrosen, because it's an attribute that LLVM need to know about
[02:47:47] <aatch> It's one of the reasons rust can't use a system LLVM
[02:48:06] <jmgrosen> aatch, so rust needs its special version of llvm?
[02:48:23] <aatch> jmgrosen, at the moment, yes
[02:48:39] <jmgrosen> aatch, is that compilable to normal binaries, or only as a library?
[02:49:05] <aatch> jmgrosen, what do you mean?
[02:49:28] <jmgrosen> aatch: can i get a `llvm-as` type executable?
[02:49:36] <jmgrosen> or can it only be built as a library?
[02:50:16] *** Quits: jclements (jclements@moz-D97E5D73.ngn.east.myfairpoint.net) (Quit: jclements)
[02:50:23] <aatch> jmgrosen, oh, I think the rust build builds all the tools too, so have a look in the llvm/ directory in the tree.
[02:51:07] <jmgrosen> aatch: will do, but i'll have to build it again, so it might take a while
[02:51:22] *** Quits: kimundi (kimundi@moz-9D73DE18.dip0.t-ipconnect.de) (Ping timeout)
[02:51:30] *** Joins: kimundi_ (kimundi@moz-28396413.dip0.t-ipconnect.de)
[02:51:47] *** kimundi_ is now known as kimundi
[02:54:58] *** Quits: KindOne (KindOne@420E3FC9.B11A32F.EC6A1518.IP) (Ping timeout)
[02:59:01] *** Joins: KindOne (KindOne@moz-E2491E22.dynamic.ip.windstream.net)
[03:01:35] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[03:02:15] *** Quits: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de) (Connection reset by peer)
[03:03:25] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[03:03:34] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[03:04:30] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[03:07:05] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[03:07:15] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[03:10:25] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[03:10:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/FYiM2A
[03:10:26] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[03:12:41] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:13:24] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[03:13:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/F0b9Aw
[03:13:24] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[03:14:30] <cmr> sam113101: I have plans to write a wayland compositor in rust, though that's unlikely to ever materialize since more interesting things have presented themselves which are more important.
[03:14:43] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[03:16:44] <cmr> dbaupp: ping
[03:17:03] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:18:38] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[03:20:33] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[03:21:58] <cmr> nvm, benchmarker running
[03:30:44] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:31:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[03:31:46] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[03:33:25] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:35:13] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[03:35:22] *** Joins: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net)
[03:35:48] *** Quits: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net) (Client exited)
[03:35:54] *** Joins: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net)
[03:35:55] *** Quits: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net) (Client exited)
[03:36:03] *** Joins: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net)
[03:36:04] *** Quits: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net) (Client exited)
[03:41:21] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[03:42:47] *** Quits: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP) (Quit: lkuper)
[03:43:30] *** Joins: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net)
[03:43:32] *** Quits: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net) (Client exited)
[03:45:16] *** Joins: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net)
[03:46:19] <jmgrosen> aatch: even with rust's build of llvm, that fixedstacksegment is throwing it off
[03:46:50] * adu <3 rust
[03:50:33] <erickt> bstrie: I'm coming around to your Unsafe<T> proposal
[03:53:45] <dbaupp> erickt: fwiw, I think that both Unsafe<T> and lifetimes on them would be nice.
[03:53:59] <dbaupp> cmr: (pong?)
[03:56:08] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[03:56:54] <Mindless`> dbaupp: it was suggested to me that you might know why [1] type-checks but [2] doesn't... literally the only difference between the impls for eq and equals are the fn names [1] http://codepad.org/zd2KOMuc [2] http://codepad.org/AXcVKsPe
[03:59:57] *** Joins: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP)
[04:01:03] <jmgrosen> aatch: got any more ideas?
[04:01:14] <aatch> jmgrosen, no sorry
[04:01:32] <jmgrosen> aatch, alright, i'll try to experiment some then
[04:01:39] *** Quits: LU324 (stuff@moz-A17E9A7B.dyn.embarqhsd.net) (Ping timeout)
[04:03:00] <erickt> dbaupp: yeah, it would have saved me a lot of effort going the library route instead of the compiler route :)
[04:06:03] *** Quits: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:07:16] *** Quits: lkuper (lkuper@3E7BB638.A402E718.C082B7DC.IP) (Quit: lkuper)
[04:11:27] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[04:11:56] <mark_edward>  dbaupp: i hate that proposal... what's even the point? everyone knows what an unsafe pointer is. you have to manage them yourself, end of story
[04:13:13] <aatch> mark_edward, I'm glad I'm not alone. Can we just leave the raw pointer alone please? It's simple, understandable and concise. I would have gone insane by now if I needed to write Unsafe<T> everywhere I needed *T
[04:15:19] *** Quits: bytbox (s@moz-DC83764A.washdc.fios.verizon.net) (Ping timeout)
[04:17:44] *** Quits: Earnestly (earnest@CAE8D902.48DC5685.39C00A7A.IP) (Ping timeout)
[04:25:07] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:25:07] *** ChanServ sets mode: +o dherman
[04:26:55] *** Joins: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de)
[04:27:52] *** Quits: adu (ajr@moz-54C2CEAB.washdc.fios.verizon.net) (Quit: adu)
[04:27:59] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[04:27:59] *** ChanServ sets mode: +o brson
[04:28:41] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[04:29:31] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[04:29:38] *** Parts: goffrie (goffrie@moz-1A2DE2C4.dsl.ncf.ca) ()
[04:29:39] *** Joins: goffrie (goffrie@moz-1A2DE2C4.dsl.ncf.ca)
[04:30:44] <dbaupp> Mindless`: it's because ~T doesn't implement Total{Ord,Eq}
[04:30:55] <mark_edward> aatch: yeah, i know what you mean
[04:30:59] <dbaupp> Mindless`: (I've got a branch fixing this, hopefully it'll land in a few days.)
[04:31:13] <dbaupp> mark_edward: which proposal do you hate?
[04:31:16] <mark_edward> aatch: who decides on RFC's? Mozilla employees?
[04:31:30] <mark_edward> dbaupp: that one about the raw pointer syntax
[04:31:35] <dbaupp> mark_edward: the Option<&'unsafe T> one? (That's not mine, and I'm not keen on it either, fwiw.)
[04:31:36] <Mindless`> dbaupp: but what's the reason that it works for the first case?
[04:32:07] <dbaupp> Mindless`: because there's a `impl<T:Eq> Eq for ~T { ... }`
[04:32:28] <Mindless`> ah
[04:34:41] *** Joins: erickt2 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:34:42] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[04:37:03] *** Joins: froystig (froystig@4AB93A85.352137A1.BCED17D.IP)
[04:37:13] <aatch> dbaupp, btw, are you still interested in writing a malloc implementation?
[04:37:29] <dbaupp> aatch: it's already done :P
[04:37:35] <aatch> dbaupp, it is?
[04:37:46] <dbaupp> aatch: https://github.com/huonw/rust-malloc
[04:37:46] <aatch> Awesome.
[04:38:31] <dbaupp> it mostly works, but is pretty horrible (it's mostly an experiment)
[04:38:38] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:38:59] <aatch> dbaupp, ah, how about writing a better one? I'm trying to write a library to make life easier for people running #[no_std]
[04:39:29] <dbaupp> not in the near future
[04:39:44] <aatch> Kinda like a cross between a stripped-down libstd and an implementation of libc.
[04:39:49] <dbaupp> yeah
[04:39:56] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:40:32] *** Quits: froystig (froystig@4AB93A85.352137A1.BCED17D.IP) (Quit: leaving)
[04:40:34] <dbaupp> I think it'd be cool to be able to build std as a zero.rs, since lang items are optional, we can just cfg off everything that's useless. (I may've talked to you about this before?)
[04:40:53] <dbaupp> even just with the useful types/traits/iterators.
[04:40:57] <aatch> dbaupp, that would work too.
[04:41:15] <dbaupp> but, we'd need someway to hook in a new malloc (if we wanted to avoid libc entirely)
[04:41:46] <aatch> I've found that most of what I've needed to re-impl is simple stuff on vectors and strings.
[04:41:52] <dbaupp> so it wouldn't be able to support anything with ~ until we get a way to override things like that (I believe pcwalton had some ideas that way.)
[04:42:20] <dbaupp> but, yeah, it'd provide most of the methods on &str/&[]
[04:42:22] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[04:42:22] *** ChanServ sets mode: +o brson
[04:42:26] <aatch> dbaupp, well I have #[forbid(heap_allocation)] atm.
[04:42:30] <dbaupp> which'd be super helpful.
[04:42:52] <dbaupp> I think that just checks that you don't write `@expression()` anywhere, it doesn't even check for `@` in types.
[04:42:54] <dbaupp> (iirc.)
[04:43:15] <dbaupp> (and ~ presumably too, I guess.)
[04:44:07] <aatch> dbaupp, that's fine. I just don't want to be allocating inside this.
[04:44:57] <dbaupp> yup (just saying that I believe it allows things like `vec::with_capacity(10)` to go unmarked.)
[04:45:07] * dbaupp isn't sure about this though
[04:45:17] <aatch> dbaupp, but I have #[no_std] as well.
[04:45:25] <dbaupp> heh, that solves that :)
[04:46:01] <dbaupp> err, http://huonw.github.io/isrustfastyet/mem/#b027c5f,5109ce6 :S
[04:46:48] <aatch> Huh?
[04:46:58] <dbaupp> I'm guess it's this one, https://github.com/mozilla/rust/commit/098106870e0ebdebb40964624185f304ee7b3d63.
[04:47:39] <aatch> dbaupp, but that's just a refactor.
[04:48:03] <dbaupp> aatch: yeah, but it may mean that things don't get dropped as early as they used to be getting dropped
[04:48:27] <dbaupp> I guess we'll just have to wait until that gap gets filled in.
[04:48:28] <aatch> dbaupp, but all of the extra usage is during the LLVM passes.
[04:48:39] <dbaupp> yeah, I was thinking that too.
[04:49:41] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[04:49:41] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[04:50:06] *** Joins: tcsc (tcsc@moz-7246F5CD.hsd1.ma.comcast.net)
[04:52:43] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[04:53:11] <steven_is_false> I'm getting an issue with my code (here's a sample of the relevant parts http://pastebin.mozilla.org/2727474 ) the RenderLoopMessage isn't being sent even though Send!, and Sent! are being printed. I remember that there's an already an issue for a similar, or the same problem. Does anyone remember that issue's number?
[04:53:38] <mark_edward> dbaupp: who decides on RFC's? Mozilla employees?
[04:54:38] <dbaupp> mark_edward: no one person, they normally get discussed for a while, and then someone (anyone) decides to implement it and opens a pull request
[04:55:00] <dbaupp> mark_edward: and either a consensus was reached and so it gets merged as normal, or discussion restarts
[04:55:20] <mark_edward> dbaupp: ah i see
[04:55:22] <dbaupp> mark_edward: (but it's the core-devs who have the final say, and then graydon has the final-er say.)
[04:55:31] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[04:56:57] <mark_edward> dbaupp: graydon? I thought dherman was the language creator
[04:57:17] <dbaupp> mark_edward: nope, graydon is the bdfl, dherman is his boss (i think)
[04:57:51] <mark_edward> oh ok. i want to work at Mozilla one day...
[04:58:02] *** Quits: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de) (Ping timeout)
[04:58:24] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[04:58:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/5h5GuA
[04:58:24] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[05:00:35] <brson> dherman is more of the local language guru
[05:00:46] <brson> he gives valued council
[05:01:39] <mark_edward> brson: i see darling
[05:01:40] <brson> and the best conference talks
[05:01:45] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[05:01:58] <dbaupp> is there a video of his OSCON talk?
[05:02:15] * dbaupp liked the slides a lot
[05:02:36] <brson> i haven't heard anything about a video yet
[05:04:53] <brson> really though, it didn't cover anything that most people here wouldn't already know cold
[05:05:00] <brson> it was quite introductory
[05:06:08] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[05:08:51] <jensnockert> Yeah, but it is nice to connect people to faces/voices.
[05:14:54] <jmgrosen> aatch, this is really weird -- my llvm source code seems to the fixedstacksegment support, but it's not recognized with the compiled output >.<
[05:15:54] <brson> jmgrosen: there may be a bug on that. one sec
[05:17:03] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Quit: eholk)
[05:19:13] *** Quits: Nefzaoui (chatzilla@DD433556.E0FF0FD3.360EF119.IP) (Ping timeout)
[05:19:21] *** Joins: Nefzaoui_ (chatzilla@5F4647F0.8844F160.7D0E51E.IP)
[05:19:27] *** Nefzaoui_ is now known as Nefzaoui
[05:21:15] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Ping timeout)
[05:21:21] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[05:21:23] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[05:21:36] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[05:24:55] <brson> jmgrosen: https://github.com/brson/llvm/pull/8
[05:25:00] <brson> and https://github.com/mozilla/rust/issues/6367
[05:25:08] <brson> the .ll parser doesn't understand the attribute
[05:26:28] *** Joins: mihneadb (mihneadb@moz-329F29A3.lightspeed.sntcca.sbcglobal.net)
[05:27:23] <jmgrosen> brson: so if i do that one tiny patch that adds the fixedstacksegment stuff, it should work?
[05:27:29] <jmgrosen> (probably)
[05:29:26] <steven_is_false> I thought of a possible use case for the #[doc = ... syntax. Would it make sense to have: pub static my_documentation = "This is the foo bar function"; #[doc = my_documentation] fn foobar() { ... ?
[05:30:48] <aatch> steven_is_false, attributes don't evaluate expressions
[05:31:09] <steven_is_false> aatch: I thought someone wanted a static if for conditionals?
[05:31:09] <aatch> so that would either throw an error or the documentation would be "my_documentation"
[05:31:14] <brson> jmgrosen: yeah, 'probably'
[05:31:25] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[05:31:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Y_wAzQ
[05:31:25] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[05:31:25] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:31:25] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/N92rNQ
[05:31:25] <ghrust> 13rust/06auto 14d0b7515 15Steven Stewart-Gallus: Change concurrency primitives to standard naming conventions...
[05:31:25] <ghrust> 13rust/06auto 1439b3a05 15Steven Stewart-Gallus: Fix nits.
[05:31:25] <ghrust> 13rust/06auto 149325535 15bors: auto merge of #7978 : sstewartgallus/rust/rename_arc, r=bblum...
[05:31:27] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:31:28] <aatch> steven_is_false, yeah, and that's a massive special case
[05:32:03] <steven_is_false> aatch: Oh, okay then.
[05:32:26] <dbaupp> aatch: btw, http://huonw.github.io/isrustfastyet/mem/#32622ce,0981068
[05:33:23] <aatch> dbaupp, ok then...
[05:33:30] <aatch> dbaupp, I got nuffin
[05:33:33] <jmgrosen> brson, aatch, yeah, that fixed that bug
[05:33:35] <dbaupp> aatch: it's very strange :(
[05:33:43] <jmgrosen> but now i'm getting another weird thing from emscripten
[05:34:08] <jmgrosen> i don't think it likes the uwtable attribute
[05:37:49] *** Quits: erickt2 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:38:06] *** Joins: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP)
[05:38:41] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[05:42:45] <jmgrosen> too bad i know practically None about llvm :/
[05:43:40] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:49:11] *** Joins: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net)
[05:52:41] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[05:53:13] *** Quits: null_ (textual@moz-66B120E.triad.res.rr.com) (Ping timeout)
[05:53:32] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:53:35] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:53:36] *** ChanServ sets mode: +o brson
[05:54:29] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:56:32] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[06:11:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[06:11:44] *** Quits: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP) (Quit: Konversation terminated!)
[06:11:54] *** Joins: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP)
[06:16:52] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[06:20:58] <goffrie> what english-name would you give to the "!" type
[06:22:26] <steven_is_false> I've been looking at various ld options, and I'm curious -z noexecstack seems to do exactly what it says on the can (make the stack not executable.) Does Rust require an executable stack, and isn't the stack not executable by default anyways?
[06:22:41] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:22:46] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[06:23:02] <goffrie> steven_is_false: as I understand it, rust should not require an executable stack. not sure about the defaults.
[06:23:14] <steven_is_false> goffrie: Cool.
[06:23:27] <goffrie> hmm, I think on most linux systems stack is executable by default though. gcc just gives a warning saying that it won't work on some systems
[06:23:45] <goffrie> *if it generates code that requires exec-stacks.
[06:23:49] <steven_is_false> Because obviously making the stack nonexecutable will be better security right.
[06:24:00] <goffrie> right. hardened systems typically do this
[06:24:21] *** Quits: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP) (Ping timeout)
[06:25:52] <steven_is_false> So most libraries should work fine with -z noexecstack then?
[06:26:08] <goffrie> hopefully.
[06:26:40] <steven_is_false> I'll give it a try.
[06:26:42] <mark_edward> why don't you try building rustc, libstd, and libextra with that and see?
[06:27:21] *** Joins: Ms2ger (Ms2ger@E39D6ADF.6D359A20.187A1082.IP)
[06:28:21] <steven_is_false> mark_edward: Okay.
[06:28:42] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[06:28:44] <mark_edward> although i don't know how to pass such flags when i've recompiled rust
[06:29:24] <steven_is_false> --link-args=-Wl,-O1,--sort-common,--as-needed,--hash-style,gnu,-z,noexecstack
[06:30:11] <steven_is_false> Most of those flags probably don't do much but every little bit helps.
[06:32:17] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[06:33:01] <sfackler> is the condition system documented anywhere? i just ran into it and it seems iteresting, but the only discussion of it i could find is https://mail.mozilla.org/pipermail/rust-dev/2012-October/002513.html
[06:35:22] <sfackler> condition! is also the only syntax extension that i know of that's wrapped in {} instead of ()
[06:39:18] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:44:43] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:50:18] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[06:51:43] *** Joins: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP)
[06:51:54] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:54:03] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzzzzz)
[07:04:24] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[07:04:33] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[07:05:24] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[07:07:58] *** Joins: Diamond (dick@moz-C01E1CD1.ks.ks.cox.net)
[07:11:35] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[07:16:23] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[07:16:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/N92rNQ
[07:16:23] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[07:18:37] *** Quits: joelteon (joel@moz-317E8D0C.io) (Ping timeout)
[07:19:22] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[07:19:22] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/8oO2lg
[07:19:22] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:19:26] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[07:19:26] <ghrust> 01[13rust01] 15bors pushed 13 new commits to 06auto: 02http://git.io/o32iTg
[07:19:26] <ghrust> 13rust/06auto 14225f1c7 15Erick Tryzelaar: cleanup get_ref
[07:19:26] <ghrust> 13rust/06auto 144eb95f6 15Erick Tryzelaar: cleanup .iter and .iter_err
[07:19:26] <ghrust> 13rust/06auto 14e308167 15Erick Tryzelaar: cleanup .unwrap and .unwrap_err fixing io tests
[07:19:28] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[07:21:38] *** Quits: mihneadb (mihneadb@moz-329F29A3.lightspeed.sntcca.sbcglobal.net) (Input/output error)
[07:21:47] <jensnockert> Foiled!
[07:21:50] *** Joins: joelteon (joel@moz-317E8D0C.io)
[07:23:30] <jensnockert> If I have some traits like https://gist.github.com/jensnockert/6097804, and a @mut StreamSink, is there any good reason why I cannot call methods from EventGenerator on it?
[07:23:48] <jensnockert> "error: type `@mut sinks::sink::StreamSink:'static` does not implement any method in scope named `enqueue_event`"
[07:24:21] <jensnockert> (EventGenerator is in scope btw.)
[07:24:24] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[07:29:26] <dbaupp> jensnockert: trait objects don't implement themselves by default
[07:29:58] <dbaupp> rusti: trait Foo { fn x(&self); } impl Foo for uint { fn x(&self) {} } let x = @1u as @Foo; x.x()
[07:30:00] -rusti- ()
[07:30:06] <dbaupp> ... hm, maybe they do.
[07:30:07] <jensnockert> Ahâ€¦ so I need to do that myself /o\
[07:30:21] <dbaupp> but yeah, something about inheritance 
[07:30:27] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[07:30:52] <dbaupp> jensnockert: https://github.com/mozilla/rust/issues/4100
[07:32:10] <aatch> toddaaro, ping
[07:32:56] <jensnockert> dbaupp: Urghâ€¦
[07:33:11] <jensnockert> So much for my idea of vtables actually being useful :(
[07:34:31] <dbaupp> jensnockert: bugs \o/
[07:36:52] * jensnockert duplicates _all_ the methods.
[07:42:06] <doener> style question: when chaining needs line breaks, break before or after the dot?
[07:43:46] <jensnockert> doener: I use temporaries in that case, but I'm no style-guru.
[07:44:15] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[07:44:30] <aatch> doener, I do it before, but that's just personal preference.
[07:44:45] <jensnockert> Wtfâ€¦ Rust hates me today :(, "error!("need 64-bit foreign calls for seek, sorry");"
[07:44:48] * dbaupp also does before.
[07:44:53] <doener> aatch: iterator.rs agress with you, so I'll use that (I'm dealing with iterators, so... ;-))
[07:45:12] <aatch> Yay for convergent styles!
[07:45:26] <aatch> jensnockert, what's that in?
[07:45:32] <jensnockert> aatch: io.rs
[07:45:42] <jensnockert> Writer-implementation for fd_t
[07:45:55] <aatch> jensnockert, weird.
[07:46:09] *** Quits: yong (chatzilla@89F941DF.4E87ADC2.263D9828.IP) (Connection reset by peer)
[07:46:20] <jensnockert> aatch: That's the whole implementation.
[07:46:48] <jensnockert> Well, technically there is a fail!(); just afterwards.
[07:47:54] <aatch> Sigh. Adding 1 atomic operation, 9 files changed
[07:50:10] * jensnockert hugs aatch.
[07:50:57] <jensnockert> I'll go to bed for a while and think of how I'll work-around that silly lack of code.
[07:51:01] * jensnockert hugs everyone.
[07:51:56] <dbaupp> jensnockert: (change it to not be fail!()?)
[07:52:19] <jensnockert> dbaupp: Yeah, but someone didn't implement it for a reason, so I assume there will be more to it than that.
[07:52:25] *** Joins: yong (chatzilla@89F941DF.4E87ADC2.263D9828.IP)
[07:52:39] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[07:54:40] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[07:57:13] <aatch> Also, adding static initializers for some of the atomic types.
[07:57:49] <aatch> So you can actually have `static mut global_lock : AtomicFlag = INIT_ATOMIC_FLAG;`
[07:57:53] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[07:58:33] <jensnockert> You can have `static mut' ?!?!
[07:58:39] * jensnockert would use it some time.
[07:59:15] <aatch> jensnockert, yep, using them is considered unsafe (or atleast writing it, not sure about the other stuff)
[07:59:30] <dbaupp> aatch: any use is unsafe
[07:59:41] <jensnockert> Shared mutable state is unsafe? I had no ideaâ€¦
[07:59:49] <dbaupp> rusti: static mut foo: uint = 1; foo
[07:59:50] -rusti- <anon>:7:35: 7:38 error: use of mutable static requires unsafe function or block
[07:59:50] -rusti- <anon>:7          static mut foo: uint = 1; foo
[07:59:51] -rusti-                                             ^~~
[07:59:51] -rusti- error: aborting due to previous error
[07:59:51] -rusti- application terminated with error code 101
[07:59:51] * jensnockert mumbles something about Web Audio.
[08:00:16] <aatch> You say "Shared mutable state" I hear "Race conditions and deadlocks"
[08:00:38] <jensnockert> aatch: Don't worry, race conditions are a feature, not a bug, or so I heard.
[08:01:06] <kemurphy> rusti: struct Foo(uint); let f = Foo(42); f
[08:01:08] -rusti- {__field__: 42}
[08:01:13] <kemurphy> rusti: struct Foo(); let f = Foo(); f
[08:01:14] -rusti- <anon>:7:31: 7:37 error: expected function but found `main::Foo`
[08:01:14] -rusti- <anon>:7          struct Foo(); let f = Foo(); f
[08:01:14] -rusti-                                         ^~~~~~
[08:01:14] -rusti- error: aborting due to previous error
[08:01:14] -rusti- application terminated with error code 101
[08:01:28] <dbaupp> rusti: struct Foo(); let f = Foo; f
[08:01:29] -rusti- {}
[08:01:39] <kemurphy> dbaupp: exactly
[08:01:43] <aatch> heh, I didn't realize that was valid syntax.
[08:01:45] <aatch> because:
[08:01:50] * dbaupp thought that struct Foo() was disallowed
[08:01:52] <kemurphy> should we treat struct Foo() the same as Foo{}
[08:01:57] <aatch> rusti: struct Foo { }
[08:01:57] -rusti- <anon>:7:22: 7:23 error: Unit-like struct should be written as `struct Foo;`
[08:01:57] -rusti- <anon>:7          struct Foo { }
[08:01:57] -rusti-                                ^
[08:01:58] -rusti- application terminated with error code 101
[08:02:04] <dbaupp> yeah
[08:02:10] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[08:02:22] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[08:02:31] * kemurphy writes that into heroic-struct-enum-overhaul.patch
[08:02:39] <doener> yay, memory corruption + deadlock turned into a plain ICE. Getting closer :-)
[08:02:58] <aatch> Ugh, memory corruption.
[08:02:59] <Ms2ger> Memory corruption in rust? I thought that was impossible ;)
[08:03:00] <kemurphy> doener: only in compiler engineering would that sound like progress ;)
[08:03:11] *** Quits: z0w0 (zack@moz-E12708D5.lns6.woo.bigpond.net.au) (Quit: z0w0)
[08:03:12] <jensnockert> Ms2ger: You're not using unsafe enough.
[08:03:14] <aatch> Worst problem to diagnose.
[08:03:23] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[08:03:35] <dbaupp> kemurphy: is it compiling yet?
[08:03:38] <aatch> This bit of code broke because some other code, somewhere, did something wrong.
[08:04:39] <Luqman> kemurphy: <3 for doing that struct and enum overhaul
[08:04:43] <Ms2ger> No, the worst problem to diagnose is "where is this mosquito that keeps buzzing around my ear?"
[08:04:47] <doener> aatch: had a stupid use-after-free, dealing with llvm... I'm implementing/copying the ret alloca elimination for functions that have a single store to it from clang. Turns "fn foo() -> int { 5 }" into a single "ret 5" instruction
[08:05:05] <aatch> doener, nice.
[08:05:14] <doener> aatch: but I have to write wrappers for a bunch of LLVM stuff, and constantly fail at that, thus the memory corruption
[08:06:15] *** Joins: thpickert (thpickert@moz-34341F25.dynamic.dsl.tng.de)
[08:06:30] <kemurphy> dbaupp: yeah but i've had weird typecheck errors
[08:06:48] <aatch> dbaupp, "Only useful for segfaulting and generally making programs incorrect" I like it.
[08:06:55] <kemurphy> dbaupp: it stemmed from struct variants and enum variants being looked for in different namespaces
[08:07:04] <dbaupp> aatch: heh :)
[08:07:44] <dbaupp> aatch: (I'm pretty sure the sbrk one is "correct" for single-threaded programs, the mmap prototype one segfaults at will.)
[08:07:53] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[08:07:59] <kemurphy> dbaupp: now i'm overhauling the parser so enum variants and structs are parsed using more shared code, and there won't really be a distinction internally between enum-like and struct-like variants
[08:08:12] <aatch> kemurphy, woo!
[08:08:14] <dbaupp> kemurphy: oh... wow!
[08:08:25] <aatch> so matching on them will work properly?
[08:08:27] <kemurphy> dbaupp: they will all be struct-like, but enum-like will just have unnamed fields, since we have a special token for that
[08:08:38] <dbaupp> kemurphy: patches always seem to run away like that.
[08:08:46] <dbaupp> kemurphy: awesome!
[08:08:56] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[08:09:16] <dbaupp> kemurphy: (while you're there, could you fix the %? to print struct names and not print __field__ for tuple-structs :P )
[08:09:22] <kemurphy> aatch: i'm actually not aware of a current matching failure mode?
[08:09:35] <kemurphy> dbaupp: i intended to, so sure :)
[08:09:47] * dbaupp hugs kemurphy
[08:10:09] <aatch> kemurphy, in some cases, matching on a struct-like variant can cause weird errors.
[08:10:25] <aatch> I can't remember exactly what triggered it though.
[08:10:38] <kemurphy> aatch: let me know if you can find an example so i can try it out
[08:10:52] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[08:12:06] <kemurphy> heh, one of the arguments to the variant-and-struct-code-sharing-fn is of type &fn(Result<Option<@struct_def>, ()>) -> @struct_def
[08:12:20] *** Joins: z0w0 (zack@moz-E12708D5.lns6.woo.bigpond.net.au)
[08:12:24] <aatch> O.o
[08:13:07] <Luqman> hmm, so i have an easy "fix" for https://github.com/mozilla/rust/issues/7617 but it's more like working around a problem that shouldn't be there
[08:13:16] <kemurphy> Ok(Some(def)) if we found fields (either struct- or enum-like), Ok(None) if it might be nullary, and Err if we did something like struct Foo{}
[08:14:09] <kemurphy> er, since it's Err(()), should i just change it to Option<Option<@struct_def>>?
[08:14:49] <dbaupp> um, yes
[08:15:18] <dbaupp> Luqman: using a function to return the string, rather than a static?
[08:15:25] <dbaupp> *vector
[08:16:04] <Luqman> dbaupp: no, changing COMMANDS to be `[Command<'static>, ..7]` instead of `&'static [Command<'static>]`
[08:16:44] <Luqman> and the odd thing is that this is only failing on os x
[08:16:59] <dbaupp> Luqman: ah, neat. people keep asking about it, so a temporary work-around would be ok (from my perspective, at least.)
[08:17:08] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:17:22] <Luqman> the for loop just keeps on going thus hitting garbage values which it tries to pace to malloc
[08:17:52] <Luqman> dbaupp: yea i guess. it just really annoys me though
[08:18:14] <Luqman> and i can't seem to get a small testcase that fails
[08:19:01] <dbaupp> yeah, it's really strange that it works perfectly on linux
[08:19:27] <aatch> Hmm, seems that NO_REBUILD doesn't work if you're testing libstd
[08:20:12] <dbaupp> I thought it *only* worked for libstd and libextra?
[08:20:24] <bjz> dbaupp: how do I do something like:  fn (&[T], &[U], fn(&T, &U) -> T) -> ~[V]
[08:20:25] <dbaupp> aatch: `make check-stage2-std NO_REBUILD=1`?
[08:20:50] <dbaupp> bjz: fn(&T,&U) -> V, right?
[08:21:00] <bjz> oh, ya
[08:21:31] <dbaupp> bjz: t.iter().zip(u.iter()).transform(f).collect::<~[V]>()
[08:21:41] <dbaupp> (hm, .to_owned_vec() probably works too.)
[08:21:43] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[08:23:31] <bjz> ok
[08:23:57] <aatch> dbaupp, yep.
[08:24:12] <bjz> dbaupp: what does that do on differing lengths?
[08:24:28] <dbaupp> bjz: truncate
[08:31:34] <Luqman> r? https://github.com/mozilla/rust/pull/8086
[08:31:35] <aatch> r? https://github.com/mozilla/rust/pull/8087
[08:31:39] <aatch> bahaha
[08:31:46] <Luqman> lol
[08:32:16] <aatch> Luqman, I like how we did it in order too.
[08:32:31] <Luqman> perfect timing
[08:33:12] <dbaupp> aatch: double spacing https://github.com/mozilla/rust/pull/8087/files#L0R1597 ?
[08:34:25] <aatch> dbaupp, seperates it from the other atomic builder functions there.
[08:34:57] <dbaupp> aatch: also, would it be possible to have INIT_ATOMIC_FLAG_{,UN}SET and ..._BOOL_{TRUE,FALSE}?
[08:35:01] <dbaupp> aatch: ok, just checking :)
[08:39:49] <aatch> dbaupp, it's possible yes. But the C++11 versions seem to all start at 0.
[08:39:55] *** Joins: victorporof (victorporo@3A55AFE3.1C233438.79933D60.IP)
[08:40:09] <dbaupp> aatch: ok, sounds like a good reason.
[08:40:29] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[08:40:49] <dbaupp> aatch: https://github.com/mozilla/rust/pull/8087/files#L5R580 missing c in Aquire
[08:41:08] <aatch> dbaupp, Argh
[08:41:17] <aatch> I kept making that mistake
[08:41:44] <dbaupp> aatch: also, 'bother' == 'both' on the next line?
[08:42:09] <aatch> yeap
[08:45:41] <aatch> dbaupp, fixed
[08:45:52] *** Quits: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net) (Ping timeout)
[08:47:16] <aatch> dbaupp, ty
[08:47:29] <aatch> First PR in a while...
[08:47:54] <kemurphy> is there a function that goes from ~[Option<T>] to ~[T]
[08:48:19] *** Joins: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net)
[08:48:20] <aatch> kemurphy, not as far as I'm aware.
[08:48:42] *** Joins: xraycat (Adium@moz-97690522.pool.mediaways.net)
[08:48:45] <aatch> but you can use `.filter()` on an iterator to filter out the Nones
[08:49:19] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[08:50:07] *** Quits: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net) (Ping timeout)
[08:50:49] <dbaupp> kemurphy: I thought there was
[08:51:09] <aatch> kemurphy, try foo.consume_iter().filter_map(|v| v).to_owned_vec()
[08:52:04] <dbaupp> (grep doesn't seem to turn up anything.)
[08:52:25] <Luqman> r? again https://github.com/mozilla/rust/pull/8086 added a FIXME
[08:52:30] <aatch> filter_map takes `fn(A) -> Option<B>`
[08:53:20] <kemurphy> rusti: let lol = ~[Some(1), None, Some(3)]; lol.consume_iter().filter_map(|x| x).collect()
[08:53:21] -rusti- <anon>:7:46: 8:5 error: cannot determine a type for this bounded type parameter: unconstrained type
[08:53:21] -rusti- <anon>:7          let lol = ~[Some(1), None, Some(3)]; lol.consume_iter().filter_map(|x| x).collect()
[08:53:21] -rusti- <anon>:8     };
[08:53:21] -rusti- application terminated with error code 101
[08:53:27] <dbaupp> rusti: [0, .. 1 as uint]
[08:53:29] -rusti- [0]
[08:53:42] <dbaupp> rusti: let lol = ~[Some(1), None, Some(3)]; lol.consume_iter().filter_map(|x| x).collect::<~[int]>()
[08:53:43] -rusti- ~[1, 3]
[08:53:50] <dbaupp> rusti: let lol = ~[Some(1), None, Some(3)]; lol.consume_iter().filter_map(|x| x).to_owned_vec()
[08:53:51] -rusti- ~[1, 3]
[08:53:58] <kemurphy> aatch: ah, to_owned_vec() is probably better than collect(), thanks
[08:54:34] <dbaupp> kemurphy: rust can't infer what you're collecting into (if it's not given help, e.g. being placed into a struct, or returned from a function)
[08:55:01] <kemurphy> dbaupp: right, forgot it was generic
[08:55:11] <aatch> kemurphy, that ^^ is probably why there isn't something for ~[Option<T>] to ~[T]
[08:55:19] <dbaupp> does someone happen to know the PR that made `as` valid in constexprs? (this is closeable, https://github.com/mozilla/rust/issues/4063)
[08:55:36] <kemurphy> aatch: yeah, i figured, i just didn't know the new iterator-based chain for it :)
[08:55:54] <dbaupp> rusti: enum State { ST_NULL, ST_WHITESPACE } ~[ST_NULL, .. ST_WHITESPACE]
[08:55:55] -rusti- <anon>:7:61: 7:74 error: expected constant integer for repeat count but found variable
[08:55:55] -rusti- <anon>:7          enum State { ST_NULL, ST_WHITESPACE } ~[ST_NULL, .. ST_WHITESPACE]
[08:55:56] -rusti-                                                                       ^~~~~~~~~~~~~
[08:55:56] -rusti- error: aborting due to previous error
[08:55:57] -rusti- application terminated with error code 101
[08:56:03] <dbaupp> rusti: enum State { ST_NULL, ST_WHITESPACE } ~[ST_NULL, .. ST_WHITESPACE as uint]
[08:56:03] -rusti- <anon>:7:61: 7:82 error: expected constant integer for repeat count but found variable
[08:56:04] -rusti- <anon>:7          enum State { ST_NULL, ST_WHITESPACE } ~[ST_NULL, .. ST_WHITESPACE as uint]
[08:56:04] -rusti-                                                                       ^~~~~~~~~~~~~~~~~~~~~
[08:56:07] -rusti- error: aborting due to previous error
[08:56:09] -rusti- application terminated with error code 101
[08:56:32] <kemurphy> rusti: enum State { ST_NULL, ST_WHITESPACE }; ~[ST_NULL, .. ST_WHITESPACE as uint]
[08:56:32] -rusti- <anon>:7:62: 7:83 error: expected constant integer for repeat count but found variable
[08:56:33] -rusti- <anon>:7          enum State { ST_NULL, ST_WHITESPACE }; ~[ST_NULL, .. ST_WHITESPACE as uint]
[08:56:33] -rusti-                                                                        ^~~~~~~~~~~~~~~~~~~~~
[08:56:33] -rusti- error: aborting due to previous error
[08:56:34] -rusti- application terminated with error code 101
[08:56:43] <kemurphy> rusti: enum State { ST_NULL, ST_WHITESPACE }; ~[ST_NULL, .. ST_WHITESPACE as int]
[08:56:43] -rusti- <anon>:7:62: 7:82 error: expected constant integer for repeat count but found variable
[08:56:43] -rusti- <anon>:7          enum State { ST_NULL, ST_WHITESPACE }; ~[ST_NULL, .. ST_WHITESPACE as int]
[08:56:43] -rusti-                                                                        ^~~~~~~~~~~~~~~~~~~~
[08:56:44] -rusti- error: aborting due to previous error
[08:56:46] -rusti- application terminated with error code 101
[08:56:53] <kemurphy> :(
[08:56:55] <kemurphy> i'll fix that
[08:56:55] <Luqman> dbaupp: https://github.com/mozilla/rust/pull/5263
[08:57:30] <dbaupp> Luqman: that seems different?
[08:57:36] *** Quits: tcsc (tcsc@moz-7246F5CD.hsd1.ma.comcast.net) (Quit: computer sleeping)
[08:57:37] <Luqman> hmm yea
[08:57:51] <dbaupp> rusti: enum State { ST_NULL = 0, ST_WHITESPACE = 1 }; ~[ST_NULL, .. ST_WHITESPACE as uint]
[08:57:52] -rusti- ~[ST_NULL]
[08:58:02] <dbaupp> kemurphy: it's not broken
[08:58:12] <kemurphy> dbaupp: oh right, it want's explicit disr_exprs
[08:58:15] <kemurphy> wants*
[08:58:19] <dbaupp> kemurphy: it's just a bad error message.
[08:58:33] <aatch> Because otherwise it's not defined.
[08:58:34] <kemurphy> i see
[08:58:37] <kemurphy> right
[08:58:46] <dbaupp> (so maybe 4063 isn't closeable.)
[08:59:07] <aatch> dbaupp, I'd say it's closable as WONTFIX tbh
[08:59:25] <dbaupp> aatch: it seems to have two independant issues
[08:59:37] <dbaupp> aatch: but, either way, it no longer ICEs.
[09:00:25] *** Joins: nano (nano@moz-972880B.superkabel.de)
[09:01:21] <aatch> Implicit discriminant values for enums aren't determined until trans.
[09:01:31] <aatch> And aren't defined anyway.
[09:02:14] <aatch> so without an explicit one, int `[val,..EnumVariant]` EnumVariant could be `-1u` for all we know
[09:02:30] <aatch> rusti: [0,..-1u]
[09:02:31] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[09:04:04] *** Quits: sigma (sigma@2AE71BC1.DC5B0862.37339E3A.IP) (Client exited)
[09:04:30] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[09:04:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/o32iTg
[09:04:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[09:04:33] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[09:04:33] <Luqman> rusti: [0,..18446744073709551615u]
[09:04:34] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[09:04:44] <kemurphy> rusti: struct Foo { a: uint; b: uint };
[09:04:45] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/Mejf
[09:04:47] <kemurphy> rusti: struct Foo { a: uint; b: uint }
[09:04:48] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bUUB
[09:05:34] <kemurphy> can we get rid of that?
[09:05:37] *** Joins: Blub\w (wry@moz-E5B27610.vps.tuwien.ac.at)
[09:05:53] <kemurphy> like, just make it an unexpected token, without the obsolete warning
[09:05:58] <aatch> kemurphy, sure.
[09:06:05] <aatch> There are few like that in the parser.
[09:06:18] <kemurphy> makes it hard to use parse_unspanned_seq
[09:06:53] <aatch> Where the syntax is so old even more established rusters don't know about it.
[09:07:28] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[09:07:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/HgknRw
[09:07:29] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[09:07:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[09:07:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/TtjkDw
[09:07:31] <ghrust> 13rust/06auto 147bd6a92 15Luqman Aden: librust: Stop rust tool from crashing on macos.
[09:07:31] <ghrust> 13rust/06auto 14fe9929e 15bors: auto merge of #8086 : luqmana/rust/rhelp, r=Aatch...
[09:07:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[09:08:43] <aatch> like `let` in field declaration
[09:09:09] <aatch> Which is in a struct definition.
[09:09:28] <dbaupp> rusti: struct Foo { let a: uint; b: uint }
[09:09:29] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FaBe
[09:09:47] <aatch> I didn't know that existed until just now.
[09:10:11] <dbaupp> wow, the queue is empty again!
[09:10:15] <kemurphy> aatch: should i just kill that too?
[09:10:38] <dbaupp> kemurphy: check how old that part of the parser is
[09:10:39] <aatch> kemurphy, would it be annoying if I just went through and culled a ton?
[09:11:42] <kemurphy> aatch: that merge would probably be not fun. i think i can land this in a couple more days, wanna go through it afterward?
[09:11:49] <aatch> kemurphy, sure.
[09:12:13] <aatch> rusti: { unsafe 1 }
[09:12:14] -rusti- <anon>:7:18: 7:19 error: expected `fn`, found `1`
[09:12:14] -rusti- <anon>:7          { unsafe 1 }
[09:12:14] -rusti-                            ^
[09:12:14] -rusti- application terminated with error code 101
[09:12:29] <kemurphy> aatch: i'll leave the let thing in for now, then
[09:12:48] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[09:12:53] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[09:13:47] <dbaupp> does anyone happen to know what a exit-code of 255 means in http://buildbot.rust-lang.org/builders/auto-win-32-nopt/builds/606/steps/compile/logs/stdio?
[09:14:16] *** Joins: jensnock_ (jensnocker@moz-B2C6D4B9.mobileonline.telia.com)
[09:14:35] *** Quits: jensnock_ (jensnocker@moz-B2C6D4B9.mobileonline.telia.com) (Input/output error)
[09:14:36] <kemurphy> did uint::range() disappear?
[09:14:52] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[09:14:55] <dbaupp> kemurphy: nope
[09:15:00] <kemurphy> oh, it's uint::iterate() now
[09:15:00] <aatch> rusti: if true unsafe { 1 }
[09:15:02] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iYJB
[09:15:17] <dbaupp> rusti: for std::uint::range(0, 2) |i| { print(i.to_str()); }
[09:15:18] -rusti- 01()
[09:15:22] <dbaupp> kemurphy: ^?
[09:15:23] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[09:15:31] <aatch> That's another one ^^ took me a while to figure out too.
[09:15:49] <kemurphy> dbaupp: oh. i was just reading docs looking for range; where is it defined?
[09:15:58] <kemurphy> not on uint or num
[09:15:59] <dbaupp> kemurphy: it's a macro
[09:16:08] <dbaupp> *most of std::uint is a macro
[09:16:12] <kemurphy> ah, i see
[09:16:16] <dbaupp> and rustdoc doesn't expand macros
[09:16:21] <kemurphy> that's unfortunate :(
[09:16:28] <aatch> I must admit, I find this one amusing:
[09:16:30] <dbaupp> (libstd/num/uint_macro.rs)
[09:16:33] <aatch> rusti: ~mut 1
[09:16:33] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/EZAD
[09:16:54] <dbaupp> kemurphy: (the new rustdoc does expand macros.)
[09:17:19] <aatch> my favorite is this:
[09:17:23] <kemurphy> dbaupp: oh, cool; how's progress on it? i wasn't aware a new one was in the works
[09:17:26] <aatch> rusti: let a <- 10;
[09:17:27] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YIZY
[09:17:32] <kemurphy> aatch: hah
[09:17:40] <aatch> "Oh ok"
[09:17:46] <aatch> rusti: let a = move 10;
[09:17:46] -rusti- <anon>:7:22: 7:24 error: expected `;` but found `10`
[09:17:46] -rusti- <anon>:7          let a = move 10;
[09:17:46] -rusti-                                ^~
[09:17:46] -rusti- application terminated with error code 101
[09:18:00] <kemurphy> yeah, oops
[09:18:23] <aatch> Bam! obsolete syntax error suggests using obsolete syntax.
[09:18:27] <kemurphy> man, i think that change was from around like 0.2?
[09:18:35] <Luqman> aatch: i kinda miss <- and <-> xD
[09:18:54] <aatch> kemurphy, no idea. Before my time (more-or-less)
[09:18:54] <bjz> Luqman: me too ^_^
[09:19:13] <aatch> Luqman, I don't mind losing <- (since now it's just move-by-default)
[09:19:24] * kemurphy remembers the move keyword at least, from doing ICFP last summer with a snapshot of rust 0.3
[09:19:25] <aatch> I must admit that losing <-> is kinda sad.
[09:19:36] <dbaupp> kemurphy: (it looks like about rustdoc not expanding macros, it does, but doesn't do it properly, or there's some deeper bug, or something.)
[09:19:38] <bjz> kemurphy: classes too?
[09:19:43] <dbaupp> *I was wrong
[09:20:00] <bjz> kemurphy: argument modes? *shudders*
[09:20:12] <dbaupp> kemurphy: https://github.com/cmr/rustdoc_ng btw.
[09:20:24] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[09:20:33] <aatch> rusti: match 0 { { a } => 1 }
[09:20:34] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UTed
[09:20:37] <kemurphy> bjz: yup, both of those. i can't exactly say i miss them haha
[09:20:45] <aatch> Records!
[09:20:45] <bjz> kemurphy: rust has certainly come a long long way since then
[09:20:46] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:20:48] <aatch> Now that's old.
[09:20:48] <kemurphy> dbaupp: ah, awesome
[09:20:52] <bjz> aatch: aye :(
[09:21:01] <bjz> aatch: I do miss those
[09:21:06] <dbaupp> aatch: nice span you've got there :P
[09:21:11] <Luqman> and `alt` instead of `match`
[09:21:18] <bjz> ret!
[09:21:44] <bjz> {|x| ... } (I think that was pre-0.3 though)
[09:21:55] <aatch> rusti: let a : fn&() -> int = 1;
[09:21:56] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/eRhF
[09:22:05] <kemurphy> bjz: i think that changed right before we snapshotted
[09:22:27] <dbaupp> rusti: impl Foo: Bar {}
[09:22:27] -rusti- <anon>:7:19: 7:23 error: attempt to bound type parameter with a nonexistent trait `Bar`
[09:22:28] -rusti- <anon>:7          impl Foo: Bar {}
[09:22:28] -rusti-                             ^~~~
[09:22:28] -rusti- error: aborting due to previous error
[09:22:28] -rusti- application terminated with error code 101
[09:22:30] <kemurphy> of course, you can imagine how hilarious our a* implentation looked
[09:22:36] <kemurphy> *shudder*
[09:22:53] <dbaupp> rusti: struct Foo; impl Foo: Eq {}
[09:22:54] -rusti- <anon>:7:26: 7:33 error: kind bounds can only be used on trait types
[09:22:54] -rusti- <anon>:7          struct Foo; impl Foo: Eq {}
[09:22:54] -rusti-                                    ^~~~~~~
[09:22:54] -rusti- error: aborting due to previous error
[09:22:54] -rusti- application terminated with error code 101
[09:22:59] * bjz thought Rust sounded cool at 0.3, then looked at the tutorial and ran for the hills
[09:23:13] <aatch> dbaupp, haha. That's hilarious. Since there is actually an obsolete entry for that.
[09:23:30] <dbaupp> rusti: fn foo(-x: uint) {}
[09:23:31] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LbXZ
[09:23:42] <dbaupp> "note: replace `-` or `++` mode with `+`"
[09:23:47] <aatch> dbaupp, I saw that.
[09:23:47] <bjz> kemurphy: what's that?
[09:23:58] <aatch> rusti: fn foo(+x:uint) {}
[09:23:59] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iBGX
[09:24:00] <kemurphy> bjz: pathfinding algorithm
[09:24:05] <bjz> ooh
[09:24:16] <bjz> kemurphy: why was it funny?
[09:24:17] <aatch> Hah, that's the best ^
[09:24:22] <jensnockert> Urghâ€¦ Writer bug is closed as no-fixâ€¦
[09:24:30] * jensnockert considers fixing it anyhow.
[09:24:31] <aatch> "Don't do that, do that"
[09:24:34] <bjz> aatch: X)
[09:24:59] <dbaupp> aatch: hahaha :D
[09:25:07] <kemurphy> bjz: a* is mostly straightforward, but the rust version we wrote looked diseased
[09:25:19] <bjz> kemurphy: with all the modes etc?
[09:25:37] <dbaupp> aatch: there's even a pile of stuff that can't possibly trigger any more (e.g. the implicit self one)
[09:26:24] <dbaupp> rusti: fn foo(f: fn(), &a/int) {}
[09:26:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bIHc
[09:26:26] <aatch> dbaupp, and "with" (Which I don't even know about)
[09:26:30] <kemurphy> bjz: between modes and "move" and whatever unsafe and transmute looked like back then
[09:26:42] <kemurphy> and classes
[09:26:54] <dbaupp> aatch: yeah, that's strange.
[09:27:23] <dbaupp> rusti: struct Foo {a:uint, b:uint} let foo = Foo{a:1,b:1}; let bar = Foo{a:1, with foo};
[09:27:23] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/USKZ
[09:27:28] <aatch> dbaupp, it was replaced by Foo { fld: val, .. old field }
[09:27:39] <aatch> dbaupp, there's no mention of ObsoleteWith in the parser
[09:27:59] <dbaupp> aatch: well, it can still be triggered.
[09:28:21] <kemurphy> ah, i remember with
[09:28:33] <kemurphy> that was part of last summer's snapshot
[09:28:46] <dbaupp> rusti: trait Foo { fn x(&&int); }
[09:28:47] -rusti- <anon>:7:26: 7:28 error: expected type, found token ANDAND
[09:28:47] -rusti- <anon>:7          trait Foo { fn x(&&int); }
[09:28:47] -rusti-                                    ^~
[09:28:47] -rusti- application terminated with error code 101
[09:28:56] <dbaupp> rusti: trait Foo { fn x(+int); }
[09:28:56] -rusti- <anon>:7:26: 7:27 error: expected type, found token BINOP(PLUS)
[09:28:56] -rusti- <anon>:7          trait Foo { fn x(+int); }
[09:28:56] -rusti-                                    ^
[09:28:56] -rusti- application terminated with error code 101
[09:29:02] <aatch> Oh... it's in the obsolete code itself
[09:29:26] <dbaupp> rusti: trait Foo { static fn foo(); }
[09:29:27] -rusti- <anon>:7:21: 7:27 error: unexpected token: `static`
[09:29:27] -rusti- <anon>:7          trait Foo { static fn foo(); }
[09:29:27] -rusti-                               ^~~~~~
[09:29:27] -rusti- application terminated with error code 101
[09:30:23] <aatch> rusti: struct foo { priv { %^$%^ } }
[09:30:24] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/aKEY
[09:30:38] <dbaupp> wat
[09:30:52] <aatch> (The parser bails out when it sees priv { ... })
[09:31:11] <dbaupp> there's an "error: expected ident" hiding at the end there
[09:31:18] <aatch> dbaupp, oh yeah.
[09:31:19] * dbaupp missed it
[09:31:19] <aatch> nvm
[09:32:06] * kemurphy waits patiently for this to devolve into a parser fuzzing party
[09:32:21] <aatch> rusti: struct Foo { new fn() { .. } }
[09:32:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZJHM
[09:32:28] *** Joins: doomlord (doomlod@moz-13E69BC8.range86-180.btcentralplus.com)
[09:32:37] <dbaupp> kemurphy: too late, it already has
[09:33:03] <dbaupp> rusti: struct Foo { drop { .. } }
[09:33:04] -rusti- <anon>:7:27: 7:28 error: expected `:` but found `{`
[09:33:04] -rusti- <anon>:7          struct Foo { drop { .. } }
[09:33:04] -rusti-                                     ^
[09:33:04] -rusti- application terminated with error code 101
[09:33:16] <aatch> I find that hilarious too.
[09:33:30] <dbaupp> rusti: struct Foo { new: int }
[09:33:31] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/McMX
[09:33:42] <dbaupp> ... :/
[09:33:50] * dbaupp files a bug
[09:34:02] <aatch> dbaupp, hmm, that's some more motivation for clearing out the obsolete syntax.
[09:34:28] <dbaupp> aatch: yeah, there's a few that were recently added, but pretty much everything else should go
[09:34:56] <aatch> All of the mode stuff, the struct decl stuff.
[09:35:11] <aatch> fixed-length vectors
[09:35:30] <aatch> rusti: let a : [int * 5];
[09:35:31] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/eNJU
[09:35:47] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[09:35:49] <aatch> purity.
[09:36:03] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[09:36:25] <aatch> rusti: enum Foo = int;
[09:36:27] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SdWQ
[09:36:49] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:36:57] <dbaupp> https://github.com/mozilla/rust/issues/8088
[09:37:01] <dbaupp> anyway, dinner time
[09:37:36] <aatch> kemurphy, what's your github handle?
[09:37:47] <kemurphy> aatch: kemurphy
[09:38:06] <aatch> kemurphy, grr, github didn't suggest it.
[09:40:15] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[09:40:48] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[09:41:24] *** Quits: Blub\w (wry@moz-E5B27610.vps.tuwien.ac.at) (Ping timeout)
[09:41:39] *** Quits: jgilbert_ (jgilbert@986623D2.9083A694.9CA62458.IP) (Ping timeout)
[09:41:53] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[09:42:12] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[09:45:33] <aatch> rusti: struct Foo : Clone { }
[09:45:35] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SdFW
[09:46:14] *** Quits: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP) (Ping timeout)
[09:47:02] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[09:47:48] <aatch> rusti: struct Foo : Clone { new fn() {} let field: int; priv { mut foo: uint } }
[09:47:49] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/eQGX
[09:48:13] <aatch> rusti: struct Foo : Clone { new() {} let field: int; priv { mut foo: uint } }
[09:48:14] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/eecU
[09:48:51] <aatch> rusti: struct Foo : Clone { new() {} let field: int; priv { foo: uint } mut bar: int }
[09:48:52] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/eSgV
[09:49:00] <doener> we are spending a lot of time in llvm assertions :-/
[09:49:24] <aatch> doener, how much?
[09:49:37] <kemurphy> rusti: do [1u, 2u, 3u].iter().transform |x| { Some(x) }.collect::<Option<uint>>()
[09:49:38] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/CaTH
[09:49:45] <doener> 25%+, depending on the crate. Disabling assertions in llvm reduces the compile time for librustc from about 2m12s to 1m36s here
[09:49:49] <aatch> kemurphy, you need a temporary.
[09:49:58] <aatch> doener, wow
[09:50:38] <doener> well, not just assertions like "assert", but also some other code that is only active without NDEBUG
[09:50:39] <kemurphy> aatch: oh, gotcha
[09:50:57] <doener> IIRC the multithreading debug code takes 10% of our compile time according to perf
[09:51:09] <aatch> kemurphy, it's a bug.
[09:52:00] <kemurphy> aatch: that's a relief, i thought i was going crazy
[09:52:36] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[09:56:43] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[10:00:39] *** Parts: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) ()
[10:00:39] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[10:01:10] <kemurphy> aatch: i'm gonna kill the try_parse_obsolete_* calls in parse_struct_decl_field, cool?
[10:01:27] <aatch> kemurphy, go for it.
[10:02:09] <aatch> kemurphy, I just assigned myself to it so I hopefully remember to do it.
[10:02:13] *** Joins: Earnestly (earnest@CAE8D902.48DC5685.39C00A7A.IP)
[10:04:30] <kemurphy> aatch: https://gist.github.com/kemurphy/6098120 is what it will look like after landing
[10:04:59] <kemurphy> er, remove line 3 and the stray ] on line 2
[10:05:24] <kemurphy> there, fixed
[10:05:25] <aatch> kemurphy, much nicer
[10:06:31] *** Joins: Ferio (Mibbit@moz-23CDE542.fullrate.dk)
[10:07:13] <aatch> rusti: struct Foo; impl Foo { static fn foo() { } }
[10:07:13] -rusti- <anon>:7:32: 7:38 error: unexpected token: `static`
[10:07:13] -rusti- <anon>:7          struct Foo; impl Foo { static fn foo() { } }
[10:07:13] -rusti-                                          ^~~~~~
[10:07:13] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[10:07:13] -rusti- application terminated with error code 101
[10:07:25] <aatch> yay dead code...
[10:07:31] <aatch> ._.
[10:07:49] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[10:08:44] <aatch> rusti: let pure = 1; pure
[10:08:45] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TLKR
[10:11:05] * doener wonders if snapshots should be compiled with disabled assertions
[10:13:29] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[10:15:57] <doomlord> yikes, single letter type names in your source :)
[10:16:39] <aatch> I'm guessing 'pure' probably shouldn't be a keyword anymore.
[10:16:49] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[10:17:04] <kemurphy> what did pure used to do, anyway?
[10:17:29] <aatch> kemurphy, strange things
[10:18:12] <aatch> it was for marking a function as "pure", but nobody knew the definition of "pure" it was supposed to be.
[10:19:01] * kemurphy would have guessed it would be related to being callable at compile time for constexprs or something, but seeing as we don't have that yet.... :P
[10:21:24] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[10:22:53] *** Quits: slaren (slaren@moz-19C08BB0.red-81-35-226.dynamicip.rima-tde.net) (Ping timeout)
[10:23:00] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[10:23:24] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[10:23:37] <Ferio> Does rust have any instropection tools or is there a list of builtins available? I try to figure out what Some() means but its just used in the tutorial without explanation
[10:24:13] <aatch> Ferio, Some is an enum variant.
[10:24:28] <aatch> rusti: Some(1)
[10:24:29] -rusti- Some(1)
[10:24:38] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:24:51] <aatch> Ferio, it's not a builtin, though it is in the standard library.
[10:25:11] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[10:25:52] *** Joins: orshem (orshem@C5E06B1E.A5B6B765.E3D28531.IP)
[10:26:54] <aatch> if you ignore the mathematic and atomic intrinsics, we only have ~20 "built-in" functions.
[10:27:23] *** Joins: slaren (slaren@moz-BF3399F5.red-95-120-40.dynamicip.rima-tde.net)
[10:28:10] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[10:32:42] <Ferio> aatch: thanks, I see it's defined in std::option which is included by std::prelude. And it lets me conclude that I don't understand rust yet ;)
[10:32:53] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[10:38:18] *** Joins: yuriks (yuriks@9C2CE887.E53EB8F9.8DE25902.IP)
[10:41:54] *** Quits: xraycat (Adium@moz-97690522.pool.mediaways.net) (Quit: Leaving.)
[10:42:35] *** Joins: mcclurmc (mcclurmc@moz-8D61EFD1.cable.virginmedia.com)
[10:50:33] *** Quits: ross (ross@moz-8A84103E.br.br.cox.net) (Quit: )
[10:52:27] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:52:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/TtjkDw
[10:52:28] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:54:09] <dbaupp> doener: what's the configure incantation to build LLVM without debug/asserts?
[10:55:23] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:55:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/aLlQ4A
[10:55:23] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:55:25] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[10:55:25] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/7LqF4Q
[10:55:25] <ghrust> 13rust/06auto 144a1a0fb 15James Miller: Add an atomic fence intrinsic
[10:55:25] <ghrust> 13rust/06auto 145c7e016 15James Miller: Add static initializers for atomics
[10:55:25] <ghrust> 13rust/06auto 14639819f 15James Miller: Fix spelling errors
[10:55:26] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[11:00:04] <doener> dbaupp: https://gist.github.com/anonymous/333e5e80a9ac29c58fd6
[11:00:36] <dbaupp> doener: aha, thanks.
[11:04:17] <Seldaek> you know you haven't been doing enough html lately when you type <foo> {} to open a tag..
[11:04:39] <kimundi> xD
[11:04:40] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:04:43] <kimundi> That's a new one
[11:05:39] <dbaupp> Seldaek: using the `do` sugar would save you the < >'s: `do foo { ... }`.
[11:05:40] <dbaupp> :P
[11:06:10] <Seldaek> yeah no doubt the browser will comply :p
[11:07:03] <dbaupp> haha
[11:08:04] <dbaupp> that might be a neat way do to a basic templating engine: `do html { do body { do div { do h1 { text("Hello world"); } } } } }`
[11:08:24] * dbaupp doesn't think that will be useful for anything more than "basic" though
[11:08:29] <dbaupp> err. s/;//
[11:08:48] <Seldaek> yeah, http://haml.info/ goes in that direction
[11:09:16] <Seldaek> not really my style though :)
[11:09:53] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:11:24] *** Quits: z0w0 (zack@moz-E12708D5.lns6.woo.bigpond.net.au) (Client exited)
[11:16:01] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[11:22:17] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[11:24:15] <true_droid> is there for(i = 0; i < N; i++) loop in Rust?
[11:27:57] <kimundi> true_droid: Nope
[11:28:39] <kimundi> true_droid: We either use the for loop protocol with arbitrary iteraton functions, or construct those loops out of `while` and `loop`
[11:29:45] <true_droid> is while an idiomatic replacement for it? Then I have this question: is it theoretically possible to statically check that i is being mutated in while's body (for the simple case of while i < N or while i != N)?
[11:29:51] <kimundi> true_droid: However, if you just looking for a loop that does the same as `for(i = 0; i < N; i++)` - I think uint::range() or so fits the bill
[11:30:18] <true_droid> I find it easy to forget to add i += 1 at the end of the while's body. It wasn't a problem with C's for because all of the operations on i are close together there
[11:30:32] <true_droid> ah, ok, I should use range then
[11:30:33] <true_droid> thanks
[11:31:22] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[11:31:35] <dbaupp> true_droid: I guess it's possible to say that it *might* be getting mutated in the body (conversely, that it's definitely not getting mutated), but getting the correct result (definitely/sometimes/never) in general is presumably equivalent to the halting problem.
[11:31:58] *** Quits: Ferio (Mibbit@moz-23CDE542.fullrate.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[11:32:59] <true_droid> dbaupp: sure, I'm only referring to the simple case of throwing an error if i is definitely not mutated. But that will probably be too much work for too little gain
[11:33:52] <dbaupp> true_droid: I imagine so, especially as while loops only get used relatively rarely, and mostly only in "complicated" situations
[11:34:14] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[11:34:16] <kimundi> dbaupp: There could be lint though, that warns if your while loop condition just involves one variable that is never mutated in any code path in the loop. "You either have a bug or should use `loop`"
[11:35:14] <kimundi> but yeah, such things are for when the language is finished enough that we can go after the small fries
[11:35:24] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[11:36:22] *** Quits: victorporof (victorporo@3A55AFE3.1C233438.79933D60.IP) (Ping timeout)
[11:36:51] <dbaupp> kimundi: it'd be tricky: `while foo.some_method_that_checks_external_state() { foo.doesnt_mutate_self() }`
[11:37:21] <kimundi> sure, it wouldn't be able to check everycase
[11:37:27] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[11:37:52] <kimundi> would only be usefull for the small "I'm writing a manual forr loop using while"-use case
[11:38:10] <kimundi> which, hovever I think woult be beginner friendly
[11:38:13] <dbaupp> yeah, I'm meaning that you'd get extraneous warnings relatively easily.
[11:38:30] <kimundi> since only beginners would write such toy code
[11:39:03] <kimundi> extra warnings?
[11:40:19] <kimundi> depending on how it's implemneted, that code example either wouldn't warn, or not be considered at all
[11:41:08] *** Joins: LU324 (stuff@moz-A17E9A7B.dyn.embarqhsd.net)
[11:42:03] <dbaupp> if that's not considered/warned about, I fail to see how it would warn about anything at all. (not that it matters, given this would be a lot of effort for little gain: maybe something that attempts to detect `let mut i = lo; while i < hi { ... i += step }` and suggest the appropriate range function would be better at guiding beginners away from (incorrect) while loops.)
[11:43:12] <kimundi> yeah, that was my thinking. Don't make it work in the general case, let it instead detect the simple one with integer counters
[11:43:56] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[11:44:13] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[11:44:24] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:44:24] <dbaupp> cmr: ping
[11:53:37] *** Joins: victorporof (victorporo@3A55AFE3.1C233438.79933D60.IP)
[11:54:37] *** kimundi is now known as zz_kimundi
[12:03:15] *** Joins: sigma (sigma@2AE71BC1.DC5B0862.37339E3A.IP)
[12:05:16] *** Quits: sigma (sigma@2AE71BC1.DC5B0862.37339E3A.IP) (Client exited)
[12:05:21] *** Joins: sigma (sigma@2AE71BC1.DC5B0862.37339E3A.IP)
[12:13:25] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[12:17:45] *** Joins: miloshadzic (miloshadzi@5E9C7FE4.FA4D0618.449B8A48.IP)
[12:18:00] <orshem> are the rules for autoref/deref/auto borrow written down somewhere?
[12:18:51] <doomlord> maybe it would help navigation for newcomers if you lengthened some of the type-names in the compiler source .. i'm thinking of things like mt, t, ty_  
[12:20:01] <doomlord> i think very short names are great  for locals and parameters but not for types
[12:20:05] <dbaupp> doomlord: I think a patch doing so would be accepted.
[12:20:23] <dbaupp> (at least for some of them, dunno for everything.)
[12:20:39] <dbaupp> orshem: unlikely
[12:21:01] <doomlord> i suppose a rolling refactor can be done by putting a type alias in 
[12:21:21] <doomlord> i'd be rather scared of trying to rename code other people are working on 
[12:21:30] <doomlord> chicken/egg situation :)
[12:21:47] <miloshadzic> How can i get/output a binary/hex representation of an integer?
[12:22:50] <dbaupp> doomlord: pssh, breaking changes are fun! ;P
[12:23:06] <dbaupp> doomlord: (at least, they aren't frowned on much at all, if they are improvements.)
[12:23:29] <orshem> dbaupp: :(
[12:23:35] <doomlord> here's how i see it..
[12:23:46] <dbaupp> rusti: (83i.to_str_radix(16), 83i.to_str_radix(2))
[12:23:48] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JFPI
[12:23:57] <doomlord> in the long run the short names are fine, once you get tools that can search/complete that are namespace aware
[12:24:04] <miloshadzic> dbaupp: thanks!
[12:24:32] <dbaupp> rusti: use std::num::ToStrRadix; (83i.to_str_radix(16), 83i.to_str_radix(2))
[12:24:33] -rusti- (~"53", ~"1010011")
[12:24:40] <dbaupp> miloshadzic: you'll need that import.
[12:25:19] <dbaupp> doomlord: personally, I haven't found it that bad; it takes a little while to get used to what's what, but for the most part the short names are ok (rust is eminently grep-able, which helps)
[12:25:32] <dbaupp> doomlord: that said, `t` is bad.
[12:26:07] <doomlord> glad its not just me :)   mt , and even ctxt could be named better IMO
[12:26:29] <Ms2ger> "context" must be the most overloaded name in programming
[12:26:31] * dbaupp thinks ctxt is fine
[12:26:50] <dbaupp> (at least, no worse than expanding it to Context)
[12:27:12] <doomlord> the issue is when you're grepping and there's multiple ctxt's in different modules
[12:27:22] <doomlord> without an IDE that understands modules etc .. its harder to find
[12:27:42] <doomlord> C sources can be easier to deal with with simple tools because they dont have namespaces.. they prefix everything
[12:27:47] <dbaupp> orshem: most of Rust's specification is what the compiler currently does + what the issue tracker says it should do; even the documentation/manual is mostly wrong.
[12:27:59] <dbaupp> doomlord: ah, right, yeah, that is suboptimal.
[12:28:03] <Earnestly> doomlord: Sorry, did you say C doesn't have namespaces?
[12:28:35] <doomlord> well, you can "static" things to keep them out of the global  namespace, but it doesn't really have namespaces, everything is in the same space..
[12:28:55] <Earnestly> What about struct namespaces?  unions, enums?
[12:28:57] <doomlord> .. so C libraries always have blahblah_ prefixes.. messy, but easy to search
[12:29:10] <doomlord> ok point taken,
[12:29:12] <dbaupp> orshem: (well not "wrong", but it is outdated/doesn't capture the subtleties.)
[12:29:34] <doomlord> but its minimal compared to C++ or other languages; you can always find the struct the members are in
[12:29:36] <kemurphy> score, libsyntax compiles with enum/struct changes
[12:29:42] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[12:29:42] <kemurphy> variant_kind is completely gone now :)
[12:29:45] <orshem> dbaupp: that's the problem. i keep trying to learn Rust but it is very slow going for me
[12:30:14] <dbaupp> orshem: yup, #rust is the best documentation :) feel free to ask any/all questions.
[12:30:26] <Earnestly> doomlord: Yeah, C namespaces aren't like C++'s
[12:30:43] <engla> dbaupp: just look at this (if you want) https://github.com/mozilla/rust/pull/8089  it's the rt::io / StringWriter thing I talked about. I'm mostly testing the waters with this PR
[12:30:56] <Earnestly> doomlord: But the idea of a "namespace" is fairly general.  Unix paths can be considered namespaces where ~/ is the namespace and .vimrc is the local name
[12:31:05] <doomlord> ok fair enough
[12:31:06] <dbaupp> engla: am I allow to comment on it too, or just look? :P
[12:31:14] <doomlord> maybe sometimes i use terms imprecisely
[12:31:26] <Earnestly> I have no idea what sort of term you'd use :P
[12:31:35] <doomlord> i see what you mean about struct members being a "namespace" for sure
[12:31:58] <engla> dbaupp: allright. just this once
[12:32:09] *** Joins: Blub\w (wry@moz-81ABD137.dip0.t-ipconnect.de)
[12:32:22] <dbaupp> engla: initial thoughts, to_str_writer sounds like it converts the data type itself into a str writer; maybe `write_str`?
[12:33:18] <engla> .write_str() was the first name, but since the StringWriter method was named that too, it was too confusing
[12:33:41] <Earnestly> doomlord: I think the big difference and the point you were making (which I pedantically ignored) was that C has a fixed number of namespaces where as C++ it can be arbitrary :p
[12:33:52] <engla>  object.write_str(writer)    writer.write_str("hi")   <-- the first version used this
[12:34:31] <dbaupp> engla: aha, yes, that is also bad. in any case, i'm registering my vote for not being called to_str_writer (since `to_` is becoming a stand prefix for conversion functions.)
[12:34:57] <engla> ok
[12:35:05] <dbaupp> engla: also, https://github.com/mozilla/rust/pull/8089/files#L5R288 means that one can't implement StringWriter for anything other than Writer; is this intended?
[12:35:07] <dbaupp> *standard
[12:35:34] <engla> dbaupp: I assume the restriction will be lifted at some point
[12:35:43] *** Quits: Blub\w (wry@moz-81ABD137.dip0.t-ipconnect.de) (Quit: and out again; bbl)
[12:35:43] <dbaupp> engla: maybe/hopefully
[12:37:23] <dbaupp> engla: looks good!
[12:37:50] <dbaupp> engla: although: #[deriving(ToStr)] will need to be changed too.
[12:37:50] <engla> that's good. the Repr thing is not really pretty
[12:38:02] <engla> yes
[12:38:19] <dbaupp> (should be very mechanical)
[12:38:31] <dbaupp> what's the problem with Repr?
[12:38:57] <engla> switching from @Writer   to @mut W  where W is a type param
[12:39:15] <dbaupp> ah, yes
[12:40:27] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[12:40:27] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/7LqF4Q
[12:40:27] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[12:43:38] <dbaupp> does anyone have any PRs? bors' queue is currently empty.
[12:46:19] <engla> I have another one, strcat wanted to see if there were any objections to it (Renaming MapIterator -> Map  etc)
[12:48:25] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:50:52] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[12:55:31] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[12:55:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/p9d2hQ
[12:55:31] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[12:56:44] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Ping timeout)
[13:00:34] *** Joins: gr00vy (asdasdfsda@moz-4892F148.hsd1.il.comcast.net)
[13:00:41] *** Quits: gr00vy (asdasdfsda@moz-4892F148.hsd1.il.comcast.net) (Client exited)
[13:01:53] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[13:05:44] *** Joins: victorporof_ (victorporo@3A55AFE3.1C233438.79933D60.IP)
[13:06:22] *** Quits: victorporof (victorporo@3A55AFE3.1C233438.79933D60.IP) (Ping timeout)
[13:17:48] *** Joins: firestorme (dsqldsld@285C565D.8DE164B8.96B18764.IP)
[13:18:31] *** Quits: firestorme (dsqldsld@285C565D.8DE164B8.96B18764.IP) (Quit: )
[13:20:24] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[13:21:41] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[13:21:41] *** ChanServ sets mode: +o dherman
[13:21:56] *** Joins: dew (Instantbir@moz-8A63B53.dhcp.stls.mo.charter.com)
[13:23:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[13:25:16] *** Joins: Mowah (Mowah@moz-436C35C5.cust.bredbandsbolaget.se)
[13:25:54] *** Joins: bytbox (s@moz-DC83764A.washdc.fios.verizon.net)
[13:27:10] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Connection reset by peer)
[13:27:23] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[13:28:46] <doomlord> node_type_table= HashMap<int,...>    node_id=  int ... i thought i'd index the former with the latter but is that wrong?
[13:32:44] <doener> doomlord: seems right. node_id_to_type() does just that
[13:33:32] <doomlord> ok. (sorry , i wrote the above wrong too - node_id is **uint** which is where my confusion came from
[13:33:51] <doomlord> oops no it isn't 
[13:33:56] <doomlord> one is uint, the other is int
[13:34:26] <doomlord> (i'll use node_id_to_type instead..)
[13:34:56] <doener> yeah, there are casts involved. No idea why
[13:35:39] <doomlord> the acccessor makes it cleaner
[13:39:08] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[13:44:45] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Ping timeout)
[13:47:28] *** zz_kimundi is now known as kimundi
[13:48:26] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[13:51:58] *** Quits: KindOne (KindOne@moz-E2491E22.dynamic.ip.windstream.net) (Ping timeout)
[13:53:43] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[13:56:03] *** Joins: KindOne (KindOne@moz-9A5BAA92.dynamic.ip.windstream.net)
[13:58:23] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[13:58:23] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14892073b to 145842ab3: 02http://git.io/N3iJvQ
[13:58:23] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:58:24] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[13:58:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bpfuVw
[13:58:24] <ghrust> 13rust/06auto 14b92d1ea 15Stepan Koltsov: ReaderUtil::each_byte shouldn't include EOF byte -- Issue #5056
[13:58:24] <ghrust> 13rust/06auto 14293ec2c 15bors: auto merge of #8081 : stepancheg/rust/each_byte, r=huonw...
[13:58:25] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[14:00:15] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:00:15] *** ChanServ sets mode: +o dherman
[14:00:28] *** Joins: xraycat (Adium@moz-97690522.pool.mediaways.net)
[14:15:18] *** Quits: bytbox (s@moz-DC83764A.washdc.fios.verizon.net) (Ping timeout)
[14:18:11] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:18:29] *** Joins: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de)
[14:19:18] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:20:55] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[14:23:25] *** Joins: jfbk (textual@moz-EEA9CFB3.nyc.res.rr.com)
[14:27:27] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:27:34] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[14:29:13] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:29:35] <maikklein> hm we have 1337 issues
[14:30:17] <kimundi> :)
[14:35:51] *** Joins: bytbox (s@moz-DC83764A.washdc.fios.verizon.net)
[14:37:44] *** Quits: xraycat (Adium@moz-97690522.pool.mediaways.net) (Quit: Leaving.)
[14:38:46] *** Quits: StarLight (StarLight@moz-A8098C85.dynamic.avangarddsl.ru) (Ping timeout)
[14:39:20] <bjz> maikklein: x]
[14:39:26] *** Quits: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net) (Ping timeout)
[14:40:53] *** Joins: robertknight (robertknig@moz-AB0E96D7.range86-162.btcentralplus.com)
[14:43:12] *** Joins: StarLight (StarLight@moz-49A655B2.dynamic.avangarddsl.ru)
[14:45:18] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[14:46:37] *** Quits: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de) (Ping timeout)
[14:52:09] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[14:56:45] *** Joins: mixi (mixi@moz-DBD8904A.org)
[14:57:04] *** Joins: tcsc (tcsc@moz-7246F5CD.hsd1.ma.comcast.net)
[14:57:37] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:57:37] *** ChanServ sets mode: +o dherman
[15:04:27] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:05:40] *** Joins: jclements (jclements@moz-13DD56FF.ngn.east.myfairpoint.net)
[15:08:54] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:09:55] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[15:15:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:18:46] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[15:26:08] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[15:26:11] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:29:21] <doener> ouch, mem usage went through the roof
[15:29:42] *** Joins: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl)
[15:29:48] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (No route to host)
[15:29:56] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[15:32:02] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[15:32:02] *** ChanServ sets mode: +o dherman
[15:33:07] *** Quits: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl) (No route to host)
[15:33:09] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:35:27] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[15:36:17] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[15:36:28] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:37:18] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[15:40:06] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[15:40:24] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[15:40:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/bpfuVw
[15:40:24] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[15:40:25] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:40:38] *** Joins: dylukes (dylukes@moz-C91F9CBF.home.otenet.gr)
[15:44:57] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:45:32] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:46:48] *** Joins: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl)
[15:46:48] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[15:47:29] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[15:52:11] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[15:53:10] *** Joins: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de)
[15:56:04] *** Quits: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP) (Quit: Konversation terminated!)
[16:02:57] <cmr> doener: `let lib_result = dl::DynamicLibrary::open(Some(&x));` didn't prevent the segfault.
[16:07:21] <doener> cmr: ok
[16:08:24] <doener> cmr: btw, did you change anything about your benchmark setup? 
[16:08:30] <doener> cmr: http://huonw.github.io/isrustfastyet/mem/#0981068,32622ce -- makes no sense at all to me
[16:08:34] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[16:08:56] <cmr> doener: ugh, I forgot to turn off turbo
[16:09:04] <cmr> but that shouldn't affect memory profiling
[16:09:24] <doener> yeah, I'm more concerned about the memory usage
[16:09:24] *** Quits: heftig (heftig@6573ED45.9A77AED9.3663C14F.IP) (Connection reset by peer)
[16:09:45] <doener> I don't see why LLVM would suddenly start to allocate more memory
[16:09:47] *** Joins: heftig (heftig@327C8F30.EBDCAFC6.FEC4A986.IP)
[16:10:07] <doener> hm, unless there's GC or refcounting involved and we now somehow keeps things alive
[16:10:26] <doener> heh, always good to talk about stuff, helps to understand the situation
[16:10:38] <cmr> #rust is the best rubber duck, I've found ;)
[16:14:47] <doomlord> any quck pointers on how to get from source:line/column to source span positions... is that information kept around (codemap?) ... before i write something to calculate that
[16:15:18] <cmr> What do you mean?
[16:15:37] <cmr> You want to take a filename + line/column and calculate a span?
[16:15:42] <doomlord> yes
[16:16:50] <doomlord> i think the values in spans are byte offsets? from file start
[16:16:59] <cmr> they are
[16:17:07] <cmr> there is nothing in the codemap that lets you do this
[16:17:18] <cmr> if you write a function to do it, add it to codemap and send a pull request!
[16:17:30] <doomlord> ok fine
[16:18:21] <doomlord> i'd be nervous writing code *within* the compiler source tree at this stage, i was just going to write that seperately, 
[16:18:50] <doomlord> but i can see that the compiler source would have stages that deal with that, since it *does* report errors as lines  and so on..
[16:19:31] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:19:31] *** ChanServ sets mode: +o dherman
[16:19:57] <doomlord> i'll just write "get_byte_offset(text:~str, line:int, column:int)-> int"
[16:21:13] *** Quits: maikklein (maik@moz-21601AB7.dip0.t-ipconnect.de) (Connection reset by peer)
[16:25:42] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[16:27:27] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[16:28:03] *** Joins: jclements_ (jclements@moz-D8739642.ngn.east.myfairpoint.net)
[16:28:08] *** Quits: jclements (jclements@moz-13DD56FF.ngn.east.myfairpoint.net) (Ping timeout)
[16:28:08] *** jclements_ is now known as jclements
[16:29:19] *** Joins: Ferio (Mibbit@moz-23CDE542.fullrate.dk)
[16:29:48] *** Quits: Ferio (Mibbit@moz-23CDE542.fullrate.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[16:33:33] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[16:38:59] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[16:39:58] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[16:41:48] *** Quits: dylukes (dylukes@moz-C91F9CBF.home.otenet.gr) (Quit: ["Textual IRC Client: www.textualapp.com"])
[16:43:02] *** Joins: Blub\w (wry@moz-CCEAC63.vps.tuwien.ac.at)
[16:47:17] *** Quits: Blub\w (wry@moz-CCEAC63.vps.tuwien.ac.at) (Ping timeout)
[16:48:05] *** Joins: Blub\w (wry@moz-CCEAC63.vps.tuwien.ac.at)
[16:49:17] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[16:51:05] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[16:51:45] *** Quits: Blub\w (wry@moz-CCEAC63.vps.tuwien.ac.at) (Ping timeout)
[16:52:04] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[16:52:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:52:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/i3pw6Q
[16:52:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:52:28] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[16:52:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/7bwqGw
[16:52:28] <ghrust> 13rust/06auto 14ead77e9 15Do Nhat Minh: Added %p directive to fmt!, which expects *T as argument
[16:52:28] <ghrust> 13rust/06auto 14ec0aaa0 15bors: auto merge of #8085 : mrordinaire/rust/percent-p, r=alexcrichton...
[16:52:28] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:52:29] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[16:53:34] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:53:35] *** ChanServ sets mode: +o dherman
[16:57:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[16:58:14] *** Joins: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP)
[16:59:34] *** Quits: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP) (Quit: Konversation terminated!)
[16:59:40] *** Joins: geomyidae (cole@DD6F7E3A.21468E9A.30200F38.IP)
[17:09:29] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[17:12:13] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:17:11] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[17:20:32] *** Joins: nano (nano@moz-972880B.superkabel.de)
[17:24:04] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[17:26:13] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[17:28:45] *** Quits: sigma (sigma@2AE71BC1.DC5B0862.37339E3A.IP) (Ping timeout)
[17:29:15] *** Joins: sigma (sigma@moz-BE11A887.range109-151.btcentralplus.com)
[17:29:41] *** Joins: erickt2 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:29:41] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[17:36:01] *** Quits: erickt2 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:37:10] *** Joins: UnderW0rld (underw0rld@moz-2F71BA15.cable.virginmedia.com)
[17:38:04] <miloshadzic> enums in Rust are something like algebraic datatypes?
[17:38:06] *** Quits: UnderW0rld (underw0rld@moz-2F71BA15.cable.virginmedia.com) (Quit: )
[17:38:22] *** kimundi is now known as zz_kimundi
[17:38:45] <doomlord> i know them as 'tagged unions'
[17:38:59] <doomlord> i think the jargon is indeed ADTs
[17:41:34] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[17:44:12] <Ms2ger> doomlord, Abstract Data Types? ;)
[17:44:23] <doomlord> yes
[17:44:37] <doomlord> sorry if that wasn't clear that i was agreeing :)
[17:45:50] <miloshadzic> thanks :)
[17:46:20] <jaen> Ms2ger: I think it's Algebraic in this case
[17:46:21] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[17:47:00] <doomlord> it did surprise me that they made enums that.. but it fits with everything else
[17:47:17] <engla> the choice of keyword name you mean, doomlord?
[17:47:18] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[17:47:20] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[17:47:24] <engla> it's algebraic data types
[17:47:26] <doomlord> its discoverable for a c programmer, who is going to switch on enums
[17:47:41] <engla> algebra as in sum types (Either) or product types (tuples) etc
[17:47:47] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[17:47:51] <jaen> Yeah, the choice of keyword feels off for someone who is familiar with ADTs
[17:47:58] <jaen> But it's good for ye olde c programmer
[17:48:21] <doomlord> its enum/switch on steroids
[17:50:58] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[17:51:52] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[17:52:49] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Ping timeout)
[17:56:26] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[17:58:25] <doener> r? https://github.com/mozilla/rust/pull/8092
[18:00:55] <acrichto> doener: just one small comment, then I'd r+
[18:02:41] <doener> acrichto: done
[18:02:46] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[18:03:20] <acrichto> doener: r+
[18:03:25] <acrichto> nice catch
[18:04:14] *** Joins: dbp (user@moz-72A193C2.ri.ri.cox.net)
[18:04:29] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[18:04:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ec0aaa0 to 14293ec2c: 02http://git.io/N3iJvQ
[18:04:29] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[18:04:30] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:04:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/GM3H-Q
[18:04:30] <ghrust> 13rust/06auto 14075560a 15BjÃ¶rn Steinbrink: Free intermediate translation results as soon as possible...
[18:04:30] <ghrust> 13rust/06auto 1485b5513 15bors: auto merge of #8092 : dotdash/rust/peak_mem, r=alexcrichton...
[18:04:30] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:07:02] <engla> rusti: printf!("test")
[18:07:03] -rusti- "test"()
[18:07:08] <engla> rusti: printf!("%s", "test")
[18:07:09] -rusti- test()
[18:07:37] <doener> hm, we even seem to be down to 200M less than before the regression because there's one more level of nesting now. Sweet :-)
[18:07:57] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:07:58] <engla> nice
[18:09:30] <doomlord> does anyone know off hand what is actually in ctxt_.def_map - i see a HashMap of id's -> somethings.. but what is the ID?
[18:09:53] <doomlord> (context , i'm trying to write a libsyntax driven jump-to-definition tool)
[18:10:16] <doomlord> https://github.com/dobkeratops/rustfind
[18:11:33] <doomlord> i can get the ast node from a source location, and various bits of debug.. but still have some way to go to get to a "definition" for that node (of course, not all nodes will refer to some 'definition')
[18:12:42] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[18:13:00] <doomlord> I dont think its as simple as "ctxt.def_map.find(my_node_id)"
[18:13:04] <acrichto> doomlord: I haven't messed around with it too much, but I think that it's any node id of a usage of a variable to the definiton of that variable
[18:13:48] <doomlord> so its possible it IS what i want .. for *variables* at least?
[18:13:54] <acrichto> I'm probably wrong though, if I were you I'd just try it out and see what happens
[18:14:20] <doomlord> I figure i have some real work to do other than calling a libary function since this tool doesn't exist yet (unless i'm missing somethign..)
[18:14:40] <doomlord> yes i've got some debug from it - i'm none the wiser really..
[18:15:31] <doomlord> (i've tested my current code by asking it what it finds at random locations.. it dumps what it can about the node, and dumps def_map.find(nodeid)
[18:15:47] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Client exited)
[18:15:48] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[18:16:27] <doomlord> It needs to know about module paths etc..
[18:20:35] <acrichto> engla: you're blake2-ppc, right?
[18:20:51] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:20:57] <engla> yes
[18:21:09] <acrichto> you might be able to rebase 8023 now
[18:21:28] <acrichto> (the queue is almost empty!)
[18:21:43] <engla> it conflicts with removing the Iterator suffixes
[18:22:02] <engla> I hope that one will go ahead instead
[18:22:13] <engla> maybe not now
[18:22:23] <acrichto> oh ok, nevermind then :). I think with that one maybe a core dev should weigh in
[18:22:54] <engla> yeah
[18:23:08] <engla> It's a shame we are barely keeping up with bors
[18:23:09] <engla> :)
[18:23:21] *** Quits: victorporof_ (victorporo@3A55AFE3.1C233438.79933D60.IP) (Quit: victorporof_)
[18:23:23] <acrichto> man this doesn't happen very often
[18:23:34] <acrichto> although I guess it is the weekend so things are a bit slower
[18:23:57] *** Joins: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP)
[18:27:39] *** Joins: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net)
[18:27:46] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[18:31:13] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:33:50] *** Joins: nano (nano@moz-972880B.superkabel.de)
[18:34:09] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Client exited)
[18:34:16] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[18:34:30] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[18:34:39] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[18:36:18] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Ping timeout)
[18:37:15] <jmgrosen> acrichto: for #8093, should StrStrSplitIterator be named StrSplitIterator or SplitIterator?
[18:38:09] <bblum> spliterator
[18:38:15] <bblum> the clear winner here
[18:38:15] <strcat> splat
[18:39:33] <jmgrosen> how did someone sanely name it StrStrSplitIterator in the first place?
[18:40:26] <jmgrosen> the only reason i would think StrSplitIterator instead of SplitIterator is because there's also a CharSplitIterator
[18:42:20] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[18:45:43] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:46:03] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[18:46:37] *** Joins: victorporof (victorporo@AF497F7E.60E0D239.9B1E38F4.IP)
[18:47:44] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[18:47:49] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: alisdair)
[18:49:21] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[18:50:49] <mark_edward> hey, i heard there were some problems for fixed size vectors not implementing any traits properly
[18:51:15] *** Parts: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (bye)
[18:53:36] <strcat> mark_edward: you can't implement a trait for all fixed-size vectors
[18:53:47] <strcat> only a certain size
[18:53:51] <strcat> like [T, ..2]
[18:53:57] <mark_edward> strcat: i have an idea for what you guys could do
[18:54:12] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Ping timeout)
[18:54:55] <engla> in many cases it's not a problem because you just borrow it as &[T]
[18:55:41] <mark_edward> strcat: you could use things along this guys stuff: https://gist.github.com/jfager/5936197 and just implement it for each size that's actually used
[18:55:46] <mark_edward> at compile time
[18:55:49] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[18:56:47] <strcat> mark_edward: you can't implement traits from another crate for a type in another crate
[18:57:32] <strcat> all sizes will essentially be used
[18:58:17] <strcat> at least up to a reasonable size like 2 million
[18:58:20] <mark_edward> but your the compiler authors, couldn't you just have so that when the user does impl Foo for [T, ..N] only the needed sizes get the stuff generated?
[18:58:42] <strcat> where are they generated?
[18:59:01] *** Quits: nielsle_ (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[18:59:28] <strcat> we don't have integers in the type system
[18:59:48] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[18:59:50] <strcat> and it's not clear where you would put the generated code
[19:00:32] <jmgrosen> acrichto: should VecIterator still be called VecIterator?
[19:00:34] <mark_edward> that seems like a solvable problem though...
[19:01:49] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[19:02:20] *** Quits: orshem (orshem@C5E06B1E.A5B6B765.E3D28531.IP) (Quit: Leaving)
[19:02:36] <mark_edward> cause right now those vectors don't implement anything really, do they?
[19:02:50] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:03:00] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:03:22] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[19:17:07] <doomlord> fixed size vectors.. personally i've only regularly used a few sizes eg 2,3,4, maybe 8
[19:17:39] <doomlord> i haven't found it crippling to manually create Array2, Array4 etc
[19:19:47] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[19:22:13] *** Quits: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu) (Ping timeout)
[19:24:30] *** Joins: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com)
[19:24:34] *** Joins: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu)
[19:24:50] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[19:25:06] *** Joins: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com)
[19:29:41] *** Quits: tcsc (tcsc@moz-7246F5CD.hsd1.ma.comcast.net) (Quit: computer sleeping)
[19:30:33] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[19:34:21] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[19:34:22] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[19:42:25] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:42:44] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[19:45:06] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[19:46:35] *** Quits: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:46:54] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Ping timeout)
[19:49:32] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[19:49:32] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/GM3H-Q
[19:49:32] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[19:49:46] *** Quits: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net) (Ping timeout)
[19:52:27] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:52:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Ka7gCg
[19:52:27] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:52:29] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[19:52:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/F_M3Sg
[19:52:29] <ghrust> 13rust/06auto 14d0f54a5 15Keegan McAllister: Warn about unused RUST_LOG specs
[19:52:29] <ghrust> 13rust/06auto 146dc5e2c 15bors: auto merge of #8046 : kmcallister/rust/unused-log, r=pcwalton
[19:52:29] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[19:54:36] *** Quits: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP) (Connection reset by peer)
[19:55:14] *** Joins: Nefzaoui (chatzilla@5F4647F0.8844F160.7D0E51E.IP)
[19:56:02] <LU324> hi, any idea how to fix this error? http://pastebin.com/TZYVnasM
[19:56:47] <LU324> i tried adding lifetime names to the impl line and removing them from the struct, and it only causes different errors
[19:57:35] <engla> you need ExampleIter<'self> in both the struct line and impl line
[19:58:16] <engla> impl<'self> Iterator<int> for ExampleIter<'self> {
[19:58:59] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[19:59:47] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[20:00:04] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:00:47] <LU324> engla: thanks, that worked once i fixed some other errors
[20:00:52] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[20:00:53] *** ChanServ sets mode: +o brson
[20:01:42] *** Quits: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP) (Ping timeout)
[20:02:01] <LU324> is there any case where you wouldn't put <'self> after impl and the type?
[20:02:10] *** Joins: km (quassel@FDBAF0A0.DBF71E41.29C67456.IP)
[20:03:40] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Ping timeout)
[20:07:29] <engla> The type has one region parameter in this case, so it must be therer
[20:07:38] <engla> ExampleIter has one region parameter
[20:08:07] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:08:07] *** ChanServ sets mode: +o brson
[20:08:45] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Client exited)
[20:08:59] *** Joins: montezuma (Mibbit@moz-D237BF79.cpe.net.cable.rogers.com)
[20:09:08] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[20:09:27] *** Quits: montezuma (Mibbit@moz-D237BF79.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:09:40] *** Joins: Blub\w (wry@moz-4677509E.vps.tuwien.ac.at)
[20:11:20] *** Joins: eholk (eholk@moz-B3DA889E.public.wayport.net)
[20:12:21] <LU324> engla: what i mean is if the type has a region parameter, is "impl<'self> SomeTrait for SomeType<'self>" the only way to implement a trait for it?
[20:12:53] <LU324> if not, then why would it require writing the <'self> in the first place?
[20:13:18] <LU324> s/if not/if so/
[20:13:24] *** Joins: mib_fq9s6n (Mibbit@DE0F2285.182A64CC.742F8E62.IP)
[20:14:03] <engla> that's the only way I know
[20:17:20] *** Joins: henrikhodne (henrikhodn@moz-F3A92B1C.hsd1.ca.comcast.net)
[20:20:37] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[20:23:08] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[20:23:08] *** ChanServ sets mode: +o dherman
[20:24:49] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[20:26:03] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[20:27:26] *** Joins: lkuper (lkuper@51A850CA.A402E718.C082B7DC.IP)
[20:32:01] <jmgrosen> so should StrStrSplitIterator be called SplitIterator or StrSplitIterator (in contrast to CharSplitIterator)
[20:32:16] <jmgrosen> acrichto: ping
[20:32:59] <jmgrosen> I'm thinking StrSplitIterator for consistency with CharSplitIterator
[20:33:52] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[20:36:44] *** zz_kimundi is now known as kimundi
[20:37:09] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:38:26] <engla> I agree with you jmgrosen 
[20:38:56] *** Quits: lkuper (lkuper@51A850CA.A402E718.C082B7DC.IP) (Quit: lkuper)
[20:41:38] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[20:42:39] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[20:42:45] <jmgrosen> acrichto: sent a PR to fix #8093 if you wanted to know
[20:47:00] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Client exited)
[20:47:20] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[20:48:12] *** Quits: Blub\w (wry@moz-4677509E.vps.tuwien.ac.at) (Quit: bbl)
[20:49:08] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Ping timeout)
[20:50:00] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[20:50:08] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[20:50:55] <Thad> darn... same _context.o error even with my own built LLVM 3.3 and Clang ... https://github.com/mozilla/rust/issues/8096
[20:51:35] *** Quits: wilfred (uid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:51:39] *** Quits: Aetherspawn_BNC (uid6924@moz-31ABA2C0.irccloud.com) (Ping timeout)
[20:57:07] <jmgrosen> rusti: "(foo   (  blah  asdf ) )".split_iter(' ').collect()
[20:57:10] -rusti- <anon>:7:9: 8:5 error: cannot determine a type for this bounded type parameter: unconstrained type
[20:57:10] -rusti- <anon>:7          "(foo   (  blah  asdf ) )".split_iter(' ').collect()
[20:57:10] -rusti- <anon>:8     };
[20:57:10] -rusti- application terminated with error code 101
[20:57:37] <jmgrosen> rusti: let blah: ~[~str] = "(foo  (  blah  asdf ) )".split_iter(' ').collect(); blah
[20:57:39] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/IAEP
[20:58:02] <jmgrosen> rusti: let blah: ~[~str] = ~"(foo  (  blah  asdf ) )".split_iter(' ').collect(); blah
[20:58:03] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/XLLc
[21:00:39] <jfbk> i'm a little surprised that extra::ringbuf::RingBuf grows.  "ring buffer" implies fixed-size in my mind.  
[21:02:47] <jmgrosen> rusti: let blah: ~[&str] = "(foo  (  blah  asdf ) )".split_iter(' ').collect(); blah
[21:02:49] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:02:49] -rusti- <anon>:1 #[allow(default_methods)];
[21:02:49] -rusti-                  ^~~~~~~~~~~~~~~
[21:02:49] -rusti- ~["(foo", "", "(", "", "blah", "", "asdf", ")", ")"]
[21:03:21] *** Quits: dbp (user@moz-72A193C2.ri.ri.cox.net) (Ping timeout)
[21:08:15] *** Quits: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu) (Ping timeout)
[21:10:04] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[21:11:43] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[21:12:01] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[21:12:57] *** Quits: Crnobog (uid1041@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:12:57] *** Quits: geomyidae__ (uid214@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:12:57] *** Quits: gazoombo (uid6629@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:13:09] *** Quits: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:13:26] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130722172257])
[21:13:28] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[21:14:38] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:15:36] <doomlord> does the existing rustdoc generate a call-graph
[21:15:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:15:43] *** ChanServ sets mode: +o dherman
[21:16:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:16:32] <cmr> doomlord: no
[21:16:39] <cmr> Nor does rustdoc_ng
[21:16:49] <cmr> it doesn't look into function bodies
[21:17:25] <doomlord> i'm not sure def_map has what i need - someone said it was just variables
[21:17:53] <doomlord> i'm not entirely clear on what its' node_id's represent;
[21:18:03] <cmr> def_map is from the use of a type to its definition
[21:18:56] <doomlord> ok let me look at the debug again.. do i remember correctly that there might be more than one 'def_map' in the compilers' structures..
[21:19:07] <cmr> uhh there shouldn't be
[21:19:17] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[21:19:18] <cmr> it should just be in the middle::ty::ctxt
[21:19:27] <cmr> although the CrateContext (from resolve) also returns it
[21:19:30] <cmr> but it's the same def_map
[21:19:32] <cmr> or should be..
[21:19:51] <jmgrosen> how do you use FromStr? for example, i want a float from a string -- what's the best way of doing that?
[21:20:10] <cmr> rusti: std::from_str::FromStr::from_str::<float>("3.14")
[21:20:12] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:20:12] -rusti- <anon>:1 #[allow(default_methods)];
[21:20:12] -rusti-                  ^~~~~~~~~~~~~~~
[21:20:12] -rusti- Some(3.14)
[21:20:35] <cmr> rusti: FromStr::from_str::<float>("3.14")
[21:20:37] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:20:37] -rusti- <anon>:1 #[allow(default_methods)];
[21:20:37] -rusti-                  ^~~~~~~~~~~~~~~
[21:20:37] -rusti- Some(3.14)
[21:20:41] <cmr> it's in the prelude, forgot about that
[21:20:47] <jmgrosen> cmr: thanks
[21:21:47] *** Joins: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu)
[21:24:10] <jmgrosen> any regex stuff yet?
[21:24:20] <cmr> don't think so?
[21:24:21] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:24:40] <doomlord> ok - for example, i have a node id=40 for a *field reference* , but i dont have key=40 in the 'def_map' .. perhaps i need to go back up the tree to find a nice that *is* inthe defmap
[21:24:50] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[21:25:05] <doomlord> (my search does return the parents )
[21:25:35] <Mindless`> is it expected for the bounds checker to disallow something like "let mut v = ~[1, 2, 3]; v.truncate(v.len() - 1);"?
[21:26:04] <Mindless`> s/bounds/borrow/
[21:26:06] <cmr> Mindless`: it is a bug, it's supposed to work.
[21:26:09] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[21:26:21] <Mindless`> cmr: known bug?
[21:26:34] <cmr> Mindless`: yes
[21:26:42] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Connection reset by peer)
[21:26:44] <Mindless`> okay, thanks
[21:26:56] *** Joins: aatch (aatch@moz-B437F499.pocketrent.com)
[21:27:04] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[21:27:59] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[21:29:02] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[21:29:28] <jmgrosen> does str.slice support negative indices?
[21:29:49] <jmgrosen> wait
[21:30:05] <jmgrosen> rusti: "12345".slice(1, -1)
[21:30:07] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TNeM
[21:30:20] <jmgrosen> guess that's a no
[21:32:42] <engla> it's a no. it takes a uint
[21:32:46] <engla> rusti: -1u
[21:32:46] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:32:47] -rusti- <anon>:1 #[allow(default_methods)];
[21:32:47] -rusti-                  ^~~~~~~~~~~~~~~
[21:32:47] -rusti- 18446744073709551615
[21:33:40] <Ms2ger> That's an... interesting output
[21:35:03] <engla> -1u is the max uint value
[21:35:26] <jmgrosen> rusti: "()".replace("(", "foo")
[21:35:27] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:35:27] -rusti- <anon>:1 #[allow(default_methods)];
[21:35:27] -rusti-                  ^~~~~~~~~~~~~~~
[21:35:27] -rusti- ~"foo)"
[21:35:43] <Seldaek> engla: sucks though, negative indices are really neat for slicing
[21:35:46] <jmgrosen> rusti: "()".replace("(", "foo").replace(")", "bar")
[21:35:47] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:35:47] -rusti- <anon>:1 #[allow(default_methods)];
[21:35:47] -rusti-                  ^~~~~~~~~~~~~~~
[21:35:47] -rusti- ~"foobar"
[21:35:48] <engla> yeah
[21:36:05] <goffrie> rusti: "aaa".replace("a", "b")
[21:36:06] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:36:06] -rusti- <anon>:1 #[allow(default_methods)];
[21:36:06] -rusti-                  ^~~~~~~~~~~~~~~
[21:36:06] -rusti- ~"bbb"
[21:36:18] <goffrie> man, that warning is annoying :p
[21:36:22] <engla> jmgrosen: technically I think you can implement .slice so you can index with either int or uint (via an Index trait), but I don't know how that will work in practice
[21:36:34] <jmgrosen> engla, ok
[21:36:53] <jmgrosen> "()".replace("(", "foo").replace(")", "bar").split_iter(' ')
[21:37:01] <jmgrosen> rusti: "()".replace("(", "foo").replace(")", "bar").split_iter(' ')
[21:37:03] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/THOe
[21:37:16] <jmgrosen> now why doesn't that work?
[21:37:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:37:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/F_M3Sg
[21:37:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:38:35] <engla> jmgrosen: the result of your line has to escape that scope so it can be printed
[21:38:46] <engla> rusti: &1
[21:38:48] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/PhhI
[21:39:00] <engla> so it doesn't work
[21:39:04] <engla> rusti: (&1).to_str()
[21:39:05] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bhEF
[21:39:12] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[21:39:19] <engla> ok that failed for a different reason :)
[21:39:23] <engla> rusti: (&1i).to_str()
[21:39:24] -rusti- <anon>:1:8: 1:23 warning: unknown `allow` attribute: `default_methods` [-W unrecognized-lint (default)]
[21:39:25] -rusti- <anon>:1 #[allow(default_methods)];
[21:39:25] -rusti-                  ^~~~~~~~~~~~~~~
[21:39:25] -rusti- ~"1"
[21:39:32] <jmgrosen> rusti: let r: ~[&str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').collect(); r
[21:39:33] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LLMI
[21:40:02] <engla> the &str still can't escape for some reason
[21:40:20] <jmgrosen> rusti: let r: ~[&str] = ~"()".replace("(", "foo").replace(")", "bar").split_iter(' ').collect(); r
[21:40:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UgXK
[21:40:40] <jmgrosen> rusti: let r: ~[&str] = (~"()").replace("(", "foo").replace(")", "bar").split_iter(' ').collect(); r
[21:40:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FRSI
[21:40:53] *** Quits: robertknight (robertknig@moz-AB0E96D7.range86-162.btcentralplus.com) (Ping timeout)
[21:40:53] <jmgrosen> o_O
[21:41:41] *** Quits: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[21:42:22] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[21:43:00] <jmgrosen> engla: any idea?
[21:43:19] *** Quits: Ms2ger (Ms2ger@E39D6ADF.6D359A20.187A1082.IP) (Quit: nn)
[21:44:14] <engla> i'll check
[21:44:52] <Mindless`> rusti: assert_eq!(); // another known bug?
[21:44:52] -rusti- <anon>:1:0: 1:0 error: Unexpected end of macro invocation
[21:44:52] -rusti- <anon>:1 #[allow(default_methods)];
[21:44:53] -rusti-          ^
[21:44:53] -rusti- application terminated with error code 101
[21:45:01] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Quit: leaving)
[21:45:06] <cmr> Mindless`: not a bug
[21:45:12] <cmr> assert_eq requires arguments
[21:45:21] <cmr> poor error message, and incorrect span, but not a bug
[21:45:33] <Mindless`> cmr: that was what I meant
[21:45:44] <cmr> oh, ok
[21:46:33] <engla> jmgrosen: replace returns a ~str and I don't think rust can correctly chain methods on owned values
[21:46:36] <engla> not sure
[21:46:53] *** Joins: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de)
[21:47:09] <engla> jmgrosen: anyway, split_iter will produce string slices (&str) that refer into the last replace return value, which definitely doesn't live long enough
[21:47:48] <jmgrosen> engla, ok, i'll play around some more
[21:48:01] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[21:49:52] <jmgrosen> i was expecting vec.transform to be called map -- is that just temporary while that one bug is worked out?
[21:50:06] <engla> the iterator method .transform yes
[21:50:20] <engla> should be named .map
[21:51:48] *** Joins: paupau (textual@417F0514.289B9BF9.F20F0C5A.IP)
[21:53:37] <miloshadzic> i was confused by that just now as well :)
[21:56:39] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:57:42] <strcat> it could be called map_ for now
[21:57:44] <strcat> doesn't really matter
[21:57:57] *** Joins: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP)
[21:58:51] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[21:59:45] *** Quits: int3_ (int3_@821905EE.3F6DCB94.50E15D33.IP) (Ping timeout)
[22:00:07] <Mindless`> is there a way to grant a test module access to a private function?
[22:00:16] <cmr> Mindless`: no
[22:00:49] <cmr> well, maybe you could have a #[cfg(test)] pub fn private_fn_wrapper(...) -> ... { private_fn(...) }
[22:00:58] *** Quits: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de) (Ping timeout)
[22:01:00] <cmr> but tests aren't special, they don't get to break the rules
[22:01:04] *** Quits: yuriks (yuriks@9C2CE887.E53EB8F9.8DE25902.IP) (Connection reset by peer)
[22:01:09] *** Joins: yuriks (yuriks@9C2CE887.E53EB8F9.8DE25902.IP)
[22:01:11] <Mindless`> cmr: good enough for me
[22:02:30] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:03:54] <jmgrosen> rusti: let r = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').transform(|token| token.to_owned()).collect(); r
[22:03:56] -rusti- <anon>:7:17: 7:124 error: cannot determine a type for this bounded type parameter: unconstrained type
[22:03:56] -rusti- <anon>:7          let r = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').transform(|token| token.to_owned()).collect(); r
[22:03:56] -rusti-                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[22:03:56] -rusti- application terminated with error code 101
[22:04:16] <jmgrosen> engla, why doesn't that work?
[22:05:34] <doomlord> with a ctxt_, can i get from a node_id to a span ?
[22:05:39] <strcat> there's nowhere to infer what you want from collect
[22:05:57] <strcat> HashSet? TreeSet? ~[]?
[22:06:40] <cmr> doomlord: I don't think so
[22:06:54] <cmr> doomlord: Usually things with a span associated with them are spanned<T> or have the span in the enum variant with them
[22:07:12] <doomlord> ok i can build such a table, when i visit the ast.
[22:07:24] <doomlord> node_id->Option<span>
[22:07:32] <cmr> not positive.. there might be something I haven't seen (which isn't unlikely)
[22:08:23] <doomlord> HashMap<node_id,Option<span>> ... is what i'm after.. i do walk the ast so i can build it.
[22:08:57] <doomlord> would that have been un--necasery bloat in ctxt_
[22:09:13] <engla> jmgrosen: the error message is for missing hint for r, to deduce the type for collect
[22:09:30] <jmgrosen> engla, oh oops
[22:09:34] <engla> jmgrosen: you can use .to_owned_vec() now
[22:10:09] <jmgrosen> rusti: let r: ~[~str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').collect().to_owned_vec(); r
[22:10:09] <doomlord> one suggestion i had was to copy the compiler warnings from some C++ compilers where they put "see definition of ..." when you try to acess a member that isn't there (you get to navigate to the definition easily when you have jump -to-error)
[22:10:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/PZXK
[22:10:13] *** Quits: thpickert (thpickert@moz-34341F25.dynamic.dsl.tng.de) (Client exited)
[22:10:28] <jmgrosen> engla: ?
[22:10:37] <engla> now you forgot the transform
[22:10:50] <jmgrosen> engla: oh, i thought that was what you meant by the to_owned_vec
[22:10:50] * engla still doesn't know if it will work
[22:11:11] <jmgrosen> rusti: let r: ~[~str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').transform(|token| token.to_owned()).collect().to_owned_vec(); r
[22:11:12] <engla> no it does the same thing as collect but restricted to ~[]
[22:11:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bTbZ
[22:11:21] <strcat> it calls collect
[22:11:31] <strcat> it's equivalent to collect with a type hint
[22:11:37] <jmgrosen> rusti: let r: ~[~str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').to_owned_vec(); r
[22:11:37] -rusti- <anon>:7:26: 7:102 error: mismatched types: expected `~[~str]` but found `~[&str]` (str storage differs: expected ~ but found &)
[22:11:38] -rusti- <anon>:7          let r: ~[~str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').to_owned_vec(); r
[22:11:38] -rusti-                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[22:11:38] -rusti- error: aborting due to previous error
[22:11:39] -rusti- application terminated with error code 101
[22:11:48] <jmgrosen> rusti: let r: ~[&str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').collect().to_owned_vec(); r
[22:11:51] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dFYD
[22:11:54] <engla> hehe
[22:12:02] <jmgrosen> derp, forgot the transform
[22:12:07] <strcat> our IR is very weird
[22:12:22] <jmgrosen> rusti: let r: ~[~str] = "()".replace("(", "foo").replace(")", "bar").split_iter(' ').transform(|token| token.to_owned()).to_owned_vec(); r
[22:12:22] <strcat> we output the entry point and *two* versions of the main function now
[22:12:23] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bQae
[22:12:51] <jmgrosen> engla, seems it still doesn't work :(
[22:13:08] <kimundi> strcat: Redunancy. For safety!
[22:13:41] *** Quits: mcclurmc (mcclurmc@moz-8D61EFD1.cable.virginmedia.com) (Quit: Leaving.)
[22:14:59] *** Quits: ipc (ipc@moz-76ED5036.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[22:17:38] <jmgrosen> i think i may have found a type checker / bounds checker bug
[22:17:58] <engla> jmgrosen: yeah, I'd try to put the last ~str into a variable. so before you call split_iter
[22:18:11] *** Joins: igl1 (igl@moz-299512C5.adsl.alicedsl.de)
[22:18:14] <jmgrosen> engla, yeah, i did that
[22:18:23] <jmgrosen> but now when i print it out i get some null bytes randomly
[22:18:23] *** Quits: igl (igl@moz-CE89F295.adsl.alicedsl.de) (Ping timeout)
[22:18:59] <jmgrosen> engla, i'll get you a gist
[22:19:31] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[22:19:38] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[22:19:48] *** Joins: ipc (ipc@moz-76ED5036.lightspeed.cicril.sbcglobal.net)
[22:20:27] <jmgrosen> engla: https://gist.github.com/jmgrosen/6100505
[22:20:47] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:20:47] *** ChanServ sets mode: +o dherman
[22:21:09] <jmgrosen> engla, pass in something lisp-y
[22:21:55] <engla> that shouldn't typecheck
[22:22:04] <jmgrosen> engla, exactly
[22:22:19] <jmgrosen> which is why i get null bytes :P
[22:22:25] <engla> great!
[22:22:40] <jmgrosen> yay for finding bugs :3
[22:24:06] <jmgrosen> adding in a .transform(|token| token.to_owned()) makes it work fine though (when i change the fn to return ~[~str])
[22:28:03] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[22:28:28] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[22:28:35] <doomlord> just encountered "trait ast_node" which seems helpful..
[22:30:32] <engla> jmgrosen: https://github.com/mozilla/rust/issues/7713
[22:31:56] *** Quits: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:31:57] <jmgrosen> engla, interesting, thanks
[22:33:35] *** Joins: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de)
[22:34:02] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Connection reset by peer)
[22:34:05] *** Joins: maxli1 (maxli@B5559308.9C54E60.2FA4EA88.IP)
[22:35:31] <maikklein> why is compiling Rust so slow if you compare it to something like Go? Is it because Rust has type checks etc?
[22:37:12] <aatch> maikklein, this has been explained over and over. It's because we produce rather bloated IR that takes LLVM a long time to optimize. We don't have incremental recompilation and we don't parallelize building at all.
[22:37:17] <strcat> what exactly are you comparing though?
[22:37:36] <aatch> Also, the go compiler is written in C++
[22:37:43] <strcat> the standard Go compilers aren't modern optimizing compilers
[22:38:11] <strcat> they don't do any optimization passes, they just translate
[22:38:35] <maikklein> ah okay, thanks
[22:39:02] <strcat> I don't think anyone has actually compared compiling a similar program in rust and another language with the same LLVM backend
[22:39:11] <strcat> for compile-time
[22:39:35] *** Quits: dew (Instantbir@moz-8A63B53.dhcp.stls.mo.charter.com) (Ping timeout)
[22:39:53] <aatch> The 2 minutes and 1.5GB or so it takes for building rustc (on my machine anyway) seems like a long time, but rustc is a huge amount of code.
[22:40:40] <aatch> A C++ file ~8000 lines long can take a similar amount of time with an up-to-date version of GCC
[22:41:02] *** Joins: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com)
[22:41:07] <jensnockert> Yeah, my experience puts it somewhere between C and C++.
[22:42:05] <aatch> And building rust itself only takes a long time because it's actually building 12 rust libraries.
[22:42:16] <strcat> 3 times
[22:42:21] <maikklein> :)
[22:42:22] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[22:42:28] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:42:29] <aatch> strcat, yes, 4 libraries, 3 times
[22:42:47] <strcat> well it also builds librustdoc, librusti, etc. ;p
[22:43:06] <strcat> those aren't very big though
[22:43:14] *** Quits: eholk (eholk@moz-B3DA889E.public.wayport.net) (Quit: eholk)
[22:43:21] <aatch> strcat, yeah, I don't count those because they take a fraction of the time and most rely on code in the other 4 libs
[22:43:28] <aatch> mostly*
[22:44:09] <aatch> Also, building libstd on my machine takes ~25s, at -O
[22:44:43] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[22:45:14] <Jesse> what are the four big ones?
[22:45:38] <aatch> Jesse, syntax, rustc, std and extra
[22:46:39] <aatch> Jesse, to understand, look at this: http://huonw.github.io/isrustfastyet/mem/#15310ba
[22:46:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:46:39] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/aipZfQ
[22:46:39] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:46:40] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[22:46:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/-XRdRA
[22:46:40] <ghrust> 13rust/06auto 14a0f0f30 15jmgrosen: Refactored vec and str iterators to remove prefixes
[22:46:40] <ghrust> 13rust/06auto 144cc3bbb 15bors: auto merge of #8095 : jmgrosen/rust/no-iterator-prefixes, r=pcwalton...
[22:46:41] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[22:46:57] <aatch> That flat bit? All LLVM passes.
[22:46:57] <jmgrosen> cool, i now have a commit in rust :D
[22:47:02] <maikklein> where does rust tokenize the source code, in syntax?
[22:47:17] <aatch> maikklein, yep, all parsing is in syntax
[22:47:25] <maikklein> aatch, okay thanks
[22:48:06] <aatch> both rustdoc and rustpkg use libsyntax as a standalone lib
[22:49:36] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[22:50:10] <jmgrosen> is there a push_all that instead returns a new vector?
[22:50:39] <strcat> wouldn't that not be push_all?
[22:50:52] <strcat> you'd just be concatenating the vectors
[22:50:53] <aatch> strcat, ahh, double negative.
[22:51:12] <engla> + on vectors does that
[22:51:53] <jmgrosen> engla, oh, thanks
[22:53:35] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:53:52] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130725195523])
[23:01:09] <jmgrosen> how do you unpack a tuple into mutable types?
[23:02:01] <strcat> you can't directly
[23:02:07] <jmgrosen> then how?
[23:02:09] <strcat> until 'mut' is supported alone in patterns
[23:02:17] <strcat> let (a, b) = x; let mut a = x;
[23:02:19] <strcat> er
[23:02:21] <strcat> let (a, b) = x; let mut a = a;
[23:02:26] <jmgrosen> ah >.<
[23:03:26] *** Quits: Diamond (dick@moz-C01E1CD1.ks.ks.cox.net) (Client exited)
[23:04:40] *** Quits: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com) (Quit: webber46)
[23:08:42] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[23:09:59] <jmgrosen> is it possible to run code at compile time in a macro?
[23:10:08] <cmr> jmgrosen: not really
[23:10:18] <jmgrosen> cmr: only if it's builtin, i assume?
[23:10:32] <strcat> the built-in macros are still just macros
[23:10:39] <strcat> there are separate things that are syntax extensions
[23:10:49] <jmgrosen> oh
[23:11:01] <jmgrosen> so, for example, fmt! is a "syntax extension" and not a macro?
[23:11:15] <strcat> yes
[23:11:18] *** Joins: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net)
[23:11:23] <jmgrosen> huh, alright then
[23:11:56] <cmr> (macros are a type of syntax extension, implemented with a syntax extension)
[23:12:27] <bjz> macros only work with the ast, they have no understanding of types
[23:12:39] <strcat> same with syntax extensions though
[23:12:44] <bjz> they are run before typechecking occurs
[23:12:47] *** Joins: Crnobog (uid1041@moz-E77DEB21.irccloud.com)
[23:12:47] *** Joins: geomyidae__ (uid214@moz-E77DEB21.irccloud.com)
[23:12:48] *** Joins: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com)
[23:12:48] <strcat> they're just able to run rust code to manipulate the AST
[23:13:51] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[23:14:00] <bjz> jmgrosen: CTFE support has been mentioned in passing by pcwalton, but I don't know much
[23:14:15] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:14:15] *** ChanServ sets mode: +o brson
[23:14:37] <jmgrosen> bjz, CTFE?
[23:14:39] <sam113101> does the C++11 switch statement bring anything new?
[23:14:44] *** Quits: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de) (No route to host)
[23:14:46] <strcat> sam113101: no
[23:14:55] <bjz> jmgrosen: compile time function evaluation
[23:14:56] <cmr> jmgrosen: compile time function evaluation
[23:15:05] <bjz> jmgrosen: like in D
[23:15:09] <jmgrosen> ah, yes, that would certainly be very cool
[23:15:21] <sam113101> strcat: you still can't switch strings for example?
[23:15:29] <jmgrosen> that's actually been one of my wants from pretty much all compiled languages i've worked with
[23:15:32] *** Quits: mib_fq9s6n (Mibbit@DE0F2285.182A64CC.742F8E62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:15:42] <strcat> sam113101: still the same old switch
[23:15:48] <bjz> jmgrosen: super powerful - allows you to do ahead-of time computation - important for systems languages
[23:15:53] <sam113101> ;(
[23:16:05] <strcat> sam113101: C++ as a language doesn't have strings, the libraries do
[23:16:11] <bjz> jmgrosen: llvm can do lots of optimisations already, but it's finicky
[23:16:30] <jmgrosen> bjz: yeah, being able to control that kind of stuff would be amazing
[23:16:57] <cmr> The JSON for documenting libstd is 3.3MiB
[23:17:09] <cmr> And rustdoc_ng doesn't include traits or implementations yet.
[23:17:40] <bjz> brson: pcwalton mentioned CTFE in passing on reddit. do you know of any plans? I'm guessing it'd add another layer of complexity on your workload :(
[23:18:03] <cmr> bjz: pcwalton was actually in here the other day with a fairly concrete idea of how to pull it off
[23:18:08] <cmr> inspired by template haskell I believe?
[23:18:12] <bjz> cmr: ooh
[23:18:20] <bjz> cmr: that's exciting
[23:18:30] <cmr> He said it's definitely not 1.0 though
[23:18:32] <brson> bjz: far future imo
[23:18:42] <bjz> yup, thought so
[23:18:51] <miloshadzic> I'm curious about the switch from internal to external iterators. What is the benefit?
[23:19:10] <bjz> brson: would introduce lots of bugs
[23:19:17] <cmr> miloshadzic: flexibility, composability, efficiency, partial iteration, less magic, more consistent
[23:19:38] <strcat> there's a lot written on it
[23:19:46] <bjz> miloshadzic: strcat is the main crazy fellow behind it
[23:19:54] <miloshadzic> ah cool
[23:20:00] <bjz> miloshadzic: http://journal.stuffwithstuff.com/2013/01/13/iteration-inside-and-out/
[23:20:28] <miloshadzic> bjz: thanks, I'll read it
[23:20:37] <bjz> miloshadzic: he is our resident mad scientist on iteration stuffs :) (strcat)
[23:20:52] <strcat> bjz: it's not great for showing the relevance to rust though (that blog post)
[23:20:57] <olsonjeffery> brson: have time to talk about futures/async?
[23:21:06] <strcat> there are issues with internal iterators in rust you don't have in other languages
[23:21:07] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[23:21:11] <bjz> yup
[23:21:29] <sam113101> why are variables immutable by default?
[23:21:37] <bjz> strcat: maybe we need a version of that blog post tailored to Rust :)
[23:21:54] <bjz> sam113101: because that's what you normally need
[23:22:07] <doomlord> (channel looks busier) .. anyone know if there is an exisitng libsyntax functoin/table to get a span  from node_id eg in ctxt_
[23:22:18] <doomlord> (i'm partway through building this myself)
[23:22:26] <bjz> sam113101: reduces logic bugs from when you change a value under yourself
[23:22:31] <strcat> his tree iterator is far worse than it has to be too
[23:22:35] <miloshadzic> actually that's what I was curious about. I come from ruby and i enjoy it's iterators so a switch to iterator types is not what i expected
[23:22:36] <brson> olsonjeffery: yes
[23:22:37] <sam113101> bjz: what do you mean? most variables in most programs don't change?
[23:23:08] <bjz> sam113101: also the crazy const issues in function args in C++
[23:23:13] <SiegeLord> No nice 3 letter argument for "immutable" ;)
[23:23:16] <bjz> sam113101: correct
[23:23:32] <SiegeLord> Err... argument=contraction
[23:23:39] <sam113101> bjz: never really thought of thatâ€¦ interesting
[23:23:54] <strcat> miloshadzic: https://mail.mozilla.org/pipermail/rust-dev/2013-June/004364.html https://mail.mozilla.org/pipermail/rust-dev/2013-June/004599.html
[23:23:57] <olsonjeffery> brson: so im just thinking of moving extra::future in std::task, for now as get_future, alongside spawn..
[23:23:57] <bjz> sam113101: it also makes you think about what you mutbalise
[23:23:57] <cmr> sam113101: additionally, it helps expose logic bugs.
[23:24:08] <cmr> If you write something `mut` and never mutate it... you probably meant to but forgot
[23:24:08] <bjz> cmr: I said that :)
[23:24:22] <cmr> bjz: different class of logic bug
[23:24:31] <bjz> ahh, yeah
[23:24:35] <miloshadzic> strcat: thank you
[23:24:36] <olsonjeffery> would we want it to always take Scheduler information? because the future would have to run on the scheduler that the handle/watcher underlying our IO was spawned on, right?
[23:24:44] <bjz> sam113101: there is a lint to tell you if you forgot to mutate a var
[23:24:56] <bjz> rusti: let mut x = 0; x
[23:24:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FPgb
[23:25:06] <SiegeLord> You could have a "unnecessarily mutable" warning no matter what the default
[23:25:22] <SiegeLord> You'd just... hit it more often with default mutability
[23:25:24] <olsonjeffery> and keep the future sendable..
[23:25:25] <bjz> sam113101: look^
[23:25:35] <bjz> sam113101: ignore the first thingy
[23:25:52] <sam113101> I see
[23:25:53] *** Quits: zslayton (Mibbit@moz-14AA87A9.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:26:03] *** Joins: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de)
[23:26:12] <olsonjeffery> task::future(), create_future(), deferred_value()? i dunno.
[23:26:21] <bjz> sam113101: does that make sense?
[23:26:27] <sam113101> bjz: yes it does
[23:26:50] <cmr> I don't know if you all saw, but http://seld.be/rustdoc/rustdoc_ng/index.html is a functioning prototype of rustdoc_ng
[23:27:03] <bjz> sam113101: I don't know if you've used C++ before, but it's usually reccomended to const every function arg you can
[23:27:05] <cmr> (By Seldaek)
[23:27:16] <bjz> sam113101: if your not planning to mutate them
[23:27:16] <brson> olsonjeffery: why do futures need to be coupled to tasks like that?
[23:27:21] <strcat> miloshadzic: because iterators are a generic trait, you get 30 algorithms as adaptors just by implementing it
[23:27:38] <strcat> including lazy chain, map, zip, filter, etc.
[23:27:44] <bjz> sam113101: and you quickly realise that it really should just be the default
[23:27:49] <strcat> and you can zip/chain any two types of iterators, not just 2 of the same
[23:28:03] <bjz> sam113101: that's the feeling I got from D anyway
[23:28:27] <brson> I guess it depends on what the design is, but i would not expect a general future to always run on a specific scheduler
[23:28:41] <bjz> sam113101: you want to make declaring immutables ergonomically easier than declaring a mutable
[23:29:04] <olsonjeffery> brson: if you had Task A, where a TcpStream was created and then sent it to Task B on another scheduler.. wouldn't you need to run a future's body on the same scheduler as Task A, because of the uv loop?
[23:29:20] <bjz> sam113101: in D for example, you have to use the `immutable` keyword, so not many folks do
[23:29:43] <olsonjeffery> the std::rt::io types are sendable, right? or that's an eventual goal?
[23:30:02] <SiegeLord> cmr: What's up with the ID:101797 and stuff?
[23:30:14] <cmr> SiegeLord: prototype
[23:30:19] <cmr> will eventually be name+link to the type
[23:30:29] <cmr> but it's the type's id
[23:30:38] <SiegeLord> So what aspects are wip and which are not? :P
[23:30:45] <cmr> all of them are :p
[23:30:48] * strcat wishes method resolve wasn't so finicky
[23:31:03] <sam113101> will we ever have the ++, -- operators? not that I find them terribly usefulâ€¦
[23:31:12] <bjz> sam113101: doubt it
[23:31:15] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[23:31:24] <Seldaek> SiegeLord: mostly the structure of the whole thing is in place now, but many details are missing or incomplete
[23:31:34] <bjz> sam113101: there is += 1
[23:31:52] <bjz> sam113101: but it fits with the focus on immutability
[23:31:58] <SiegeLord> Seldaek: Structure of what? The program or the web output?
[23:32:17] <bjz> sam113101: making the mutation style ergonomically harder
[23:32:24] <SiegeLord> Like if I said I wasn't a fan of every function being on a separate page... is that just a WIP thing?
[23:32:47] <bjz> sam113101: also ++x vs x++ can ofuscate behaviour
[23:33:05] *** Quits: paupau (textual@417F0514.289B9BF9.F20F0C5A.IP) (Ping timeout)
[23:33:05] <Seldaek> SiegeLord: web output, well nothing is set in stone of course, but I still think it's good to have one per page, given the side-bar allows you to quickly switch
[23:33:07] <brson> olsonjeffery: rt::io types are sendable, yes, and I/O does need to be performed on a specific scheduler, but futures are not i/o specific. rt::io is going to manage the running of I/O on specific schedulers through requests to reschedule on the correct scheduler. So if a task is running on the wrong scheduler, goes to do I/O and sees that the I/O requires a different scheduler, it will deschedule itself and send a message to the other scheduler reques
[23:33:19] <sam113101> what do you mean obfuscate behavior?
[23:33:22] <bjz> sam113101: I'm sure there are other reasons though
[23:33:44] <cmr> Seldaek: A page with all the functions listed with their docs might be good (I imagine you can use the same template as the function page)
[23:33:44] <brson> olsonjeffery: there isn't a message for this purpose quite yet, but there are some other scheduler messages in rt::sched, like Shutdown, PinnedTask
[23:33:45] <geomyidae> Couldn't it be like go where it's a statement rather than an expr?
[23:33:53] <maikklein> cmr, does rustdoc still compile on the newest master?
[23:33:57] <cmr> maikklein: yes
[23:34:11] <strcat> geomyidae: kind of pointless, what's wrong with += 1 there?
[23:34:18] <Seldaek> SiegeLord: might just be one of those things where not everyone can agree, or it might be a matter of habit, or might be because right now the docs are very poor so it doesn't make much sense 
[23:34:21] <jmgrosen> could someone help me with this? i'm out of ideas >.< https://gist.github.com/jmgrosen/6100721
[23:34:28] <strcat> geomyidae: especially since you shouldn't be using it for looping, etc.
[23:34:31] <geomyidae> strcat: no clue. not advocating anything really
[23:34:45] <dbaupp> jmgrosen: error?
[23:34:51] <strcat> I think we'd be fine without << and >> as operators too
[23:35:11] <geomyidae> I just know that I hate ++ and -- because of how often I see them in expressions where I spend a stupid amount of time trying to figure out what's going on.
[23:35:20] <geomyidae> I knew what someone meant when they said "obscure behavior" :(
[23:35:29] <bjz> geomyidae: ++ is mostly used for iteration
[23:35:32] <jmgrosen> dbaupp: commented
[23:35:38] <jmgrosen> dbaupp: wait, derp
[23:35:39] <bjz> geomyidae: in C
[23:36:07] <bjz> geomyidae: but rust has iterators, which abstract that kind of thing, so it isn't as needed
[23:36:09] <jmgrosen> dbaupp: now commented
[23:36:29] <SiegeLord> Seldaek: I don't think the sidebar is as fast as scrolling :P It's not really an either-or thing
[23:36:38] <cmr> SiegeLord: #rustdoc-wg !
[23:36:43] <strcat> bjz: iterators are faster than indexing anyway, since there are bounds checks on indexing
[23:37:05] <strcat> and they rarely all get removed
[23:37:10] <dbaupp> jmgrosen: it might work with `get<'a>(&'a self, &str) -> Option<&'a thing>` (don't know.)
[23:38:05] <maikklein> cmr, are you sure? I am jsut asking because there is no compile_upto in driver.rs
[23:38:10] <jmgrosen> dbaupp: that didn't do it, but &self -> &'self self worked -- thanks!
[23:38:17] <cmr> maikklein: update your master, it's not new enough :)
[23:38:22] <cmr> maikklein: oh, I didn't push my changes yet
[23:38:24] <cmr> sorry!
[23:39:15] <brson> olsonjeffery: somebody opened an issue on improved futures recently https://github.com/mozilla/rust/issues/7798
[23:42:39] *** Quits: maikklein (maik@moz-EDC31EF0.dip0.t-ipconnect.de) (Ping timeout)
[23:47:37] <olsonjeffery> brson: that's handy, thanks
[23:47:54] <olsonjeffery> brson: at what level would you recommend i interact with the scheduler?
[23:48:14] <olsonjeffery> and the whole sendability thing..
[23:50:53] <doomlord> i finally have a table to get span from node_id, but can't help but feel i've replicated work the compiler already does
[23:52:48] *** Joins: Jesin (Jessin_@moz-3AD6F09F.res.lehigh.edu)
[23:52:56] <brson> olsonjeffery: similarly to the code in rt::uv::uvio I would expect most of the scheduler interaction to be descheduling tasks and setting up callbacks
[23:53:11] <brson> have to go skype with mom. bbiab
[23:53:11] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[23:53:55] *** Parts: Earnestly (earnest@CAE8D902.48DC5685.39C00A7A.IP) (WeeChat 0.4.2-dev)
[23:57:07] *** Joins: gavinb (gavinb@moz-CA19A0CF.vic.adsl.internode.on.net)
