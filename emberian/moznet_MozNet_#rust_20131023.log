[00:01:20] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[00:01:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:01:34] <SiegeLord> The quality of the community is really a great feature of Rust in itself
[00:01:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:02:15] <maikeru> installing mingw/msys... made sure to include rust prereqs.
[00:02:21] <maikeru> I foresee pain in my future
[00:02:49] *** Quits: mib (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:03:49] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:04:39] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: hoverbear)
[00:04:56] *** Joins: SilverKey (SilverKey@moz-39762A31.sw.biz.rr.com)
[00:05:05] <kmc> SiegeLord: I hope so! I really hope we can keep it that way as we grow
[00:06:16] <tjc> kmc: to do that we have to work, not hope :-)
[00:06:19] <kmc> yep
[00:06:52] *** Quits: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:08:09] *** jorendorff_away is now known as jorendorff
[00:08:18] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:08:33] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[00:09:48] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[00:10:36] *** Joins: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net)
[00:10:54] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[00:12:24] *** Quits: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net) (Quit: Leaving.)
[00:14:48] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[00:15:41] *** Quits: lfox (lfox@moz-375F543E.nyc.biz.rr.com) (Quit: ZZZzzz…)
[00:18:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:20:04] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:20:50] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[00:23:47] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[00:24:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:24:24] *** Joins: ofeldt (ofeldt@moz-13C5EAB0.dip0.t-ipconnect.de)
[00:25:07] *** Quits: ofeldt- (ofeldt@moz-7CB3A2F3.dip0.t-ipconnect.de) (Ping timeout)
[00:28:46] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:31:12] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[00:32:48] *** jld is now known as jld|errand
[00:36:34] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[00:36:36] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[00:38:20] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[00:40:49] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[00:42:18] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:43:29] *** jorendorff is now known as jorendorff_away
[00:44:37] *** jorendorff_away is now known as jorendorff
[00:46:55] *** Quits: nkoep (nik@moz-EBE37ECC.pool.mediaways.net) (Client exited)
[00:50:03] *** Quits: echristo (echristo@B3AA7BA8.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[00:54:19] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:56:08] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[00:57:01] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[00:57:37] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[00:57:53] <kmc> trying to compile this no_std example http://ix.io/8fH I get undefined reference to `rust_stack_exhausted'
[00:58:01] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:58:03] <kmc> even if I define an extern "C" fn of that name
[00:58:04] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[00:58:48] <strcat> kmc: you have to compile to bytecode and link with clang atm
[00:58:53] *** Quits: eagen (eagen@moz-92A457CB.hsd1.mn.comcast.net) (Quit: Leaving)
[00:59:43] <kmc> ah right
[01:01:00] *** Joins: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net)
[01:01:24] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:01:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:01:51] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[01:03:31] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:04:39] *** Joins: sdfihua (Mibbit@54B0D324.D4DDBED4.B3490680.IP)
[01:05:54] <sdfihua> i want to use "3" as int,it said error: non-scalar cast: `&'static str` as `int`
[01:06:08] <sdfihua> should i use from_str
[01:06:21] <sdfihua> or if have other method?
[01:06:27] <kmc> use from_str yeah
[01:07:14] <sdfihua> from_str and match
[01:07:28] <sdfihua> more codes
[01:08:48] <kmc> if you're ok with the program crashing on parse error, you can use the .unwrap() method of Option
[01:08:53] <kmc> or .expect("useful error message")
[01:08:58] <kmc> instead of match
[01:09:59] *** jorendorff is now known as jorendorff_away
[01:10:50] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:11:36] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[01:11:42] *** Quits: lmandel (lmandel@125EF623.B2666F0E.66399531.IP) (Quit: lmandel)
[01:15:57] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:15:59] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:17:00] *** Quits: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net) (Quit: Leaving.)
[01:19:08] *** Joins: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net)
[01:19:36] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Ping timeout)
[01:20:15] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:20:21] <sdfihua> thank you kmc
[01:21:43] *** Quits: nejucomo (Adium@moz-FC8B8F66.hsd1.ca.comcast.net) (Ping timeout)
[01:22:55] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:22:56] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[01:28:58] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:31:57] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:32:41] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[01:33:18] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:33:42] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:35:25] *** jld|errand is now known as jld
[01:38:47] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[01:39:35] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[01:40:33] <SiegeLord> You know what would be neat? If you could expand macros inside type bounds
[01:40:55] <elly> meaning what?
[01:40:56] <SiegeLord> Like Type<lots_of_types!()> type;
[01:41:24] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[01:42:04] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[01:42:56] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[01:43:22] <jdsanders> I'm struggling with using ~[u8] - I have a function `bytes() -> ~[u8]`, and I'm trying to get an iterator. If I do `let iter = bytes().iter();`, I get a "borrowed value does not live long enough", but if I do `let bytes = bytes();` and use that instead, it works fine. Is there a way I can I do it without the variable?
[01:43:23] <sdfihua> if i knows the x and y number,how to make two-dimensional vec ?
[01:43:26] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[01:43:39] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[01:44:33] *** Joins: MrOrdinaire (Mibbit@5C68C0A1.6BCC7DAD.FD383126.IP)
[01:45:00] <Eridius> jdsanders: it's a known issue
[01:45:22] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[01:45:37] <jdsanders> Eridius: oh ok! so I'm not just confused - there's a first time for everything
[01:45:38] <jdsanders> thanks
[01:47:14] *** Quits: joone_ (joone@moz-C50DC051.jf.intel.com) (Ping timeout)
[01:47:58] *** Joins: joone_ (joone@2678A73.2160464A.A34EC3BB.IP)
[01:48:54] *** Quits: MrOrdinaire (Mibbit@5C68C0A1.6BCC7DAD.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:49:30] <sdfihua> if i knows the x and y number,how to make two-dimensional vec and fill data?
[01:49:54] <sdfihua> [[1,2,3],[0,0,0]]
[01:52:25] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[01:52:55] <kmc> do you know the dimensions at compile time?
[01:53:35] <kmc> rusti: [[0, ..3], ..2]
[01:53:39] -rusti- [[0, 0, 0], [0, 0, 0]]
[01:54:03] <sdfihua> can dynamic create it?
[01:54:34] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[01:54:35] <strcat> sdfihua: sure, but do you know the dimensions at compile-time?
[01:55:20] <sdfihua> get dimensions from file
[01:55:46] *** Quits: Amaranth (travis@moz-A1FA2E6B.sxct.qwest.net) (Quit: Linkinus - http://linkinus.com)
[01:56:01] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[01:56:02] <strcat> sdfihua: use ~[T] then
[01:56:03] <sdfihua> compile-time will have no infomation about it
[01:56:18] <kmc> rusti: use std::vec; vec::from_elem(2, vec::from_elem(3, 0))
[01:56:19] -rusti- ~[~[0, 0, 0], ~[0, 0, 0]]
[01:56:29] <strcat> if it's a fixed NxM dimension, it's more efficient to allocate a single ~[T]
[01:56:32] <strcat> without inner ones
[01:56:36] <strcat> if you care about efficiency that is ;p
[01:56:51] <kmc> sdfihua: note that the first example has a fixed size and is all packed together in memory; the second example is a dynamic resizeable vector of pointers to dynamic resizeable vectors
[01:56:55] <strcat> you can just index by row * n_col + col
[01:57:00] <kmc> strcat: I wish we (and C++) had sugar for that
[01:57:02] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Ping timeout)
[01:57:14] <strcat> kmc: well in C++ you can make sugar for it pretty easily.
[01:57:19] <kmc> especially because it could catch "out of bounds" access that doesn't go outside the whole array
[01:57:21] <strcat> we don't have proper overloading for []
[01:58:02] <kmc> strcat: I'm having trouble doing anything useful in a no_std crate... for example, how would I coerce my &'static str literal (with explicit NUL) to a *i8 in order to call puts()?
[01:58:14] <kmc> can't import std::cast or std::unstable::intrinsics
[01:58:23] <strcat> kmc: https://github.com/thestinger/rust-core
[01:58:46] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[01:58:47] <kmc> cool
[01:58:52] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[01:58:56] <strcat> it has transmute in core::mem
[01:59:02] <strcat> although you could also just expose it yourself
[01:59:36] <kmc> I guess I will read mem.rs to see how :)
[01:59:47] <kmc> ah the secret sauce is extern "rust-intrinsic"
[01:59:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:01:14] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:01:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:01:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:01:47] *** strcat1 is now known as strcat
[02:01:51] * strcat wishes his internet worked
[02:02:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:02:15] <mcpherrin> strcat: You know how I fixed my Rogers internet?
[02:02:16] <maikeru> uh oh.. rust-lang.org is down
[02:02:19] <mcpherrin> Moved to california.
[02:02:33] <strcat> maikeru: up here
[02:02:37] <maikeru> err.. nevermind
[02:02:40] <maikeru> it JUST came up
[02:02:54] <maikeru> it was showing a 503 with a guru meditation /literally/ two seconds ago
[02:02:57] <sp3d> I got a 503 for a second or two
[02:03:07] <kmc> strcat: it works! thanks so much
[02:03:11] <mcpherrin> maikeru: yeah, after you said that I got a guru and then immediately reloaded to working
[02:04:22] <maikeru> Could be a sign that something's unstable or something.. :/ 
[02:04:29] <maikeru> or it was just a hiccup
[02:07:36] * strcat wonders if this irc server supports ssl certs or sasl...
[02:07:50] <strcat> tired of identifying manually from these disconnections ;p
[02:09:07] *** Quits: SilverKey (SilverKey@moz-39762A31.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:09:15] <kmc> strcat: is the rust-core maintainer here? are you this person?
[02:09:36] <strcat> kmc: yeah I maintain it
[02:09:46] * strcat == thestinger
[02:09:49] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[02:10:38] <kmc> sweet
[02:11:33] * kmc is still learning the mapping between irc, github, and "old-style" names :)
[02:11:38] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:11:38] *** ChanServ sets mode: +ao dherman dherman
[02:12:19] <strcat> kmc: /whois often helps, I have realname set to my real name ;p
[02:12:41] <kmc> :)
[02:12:52] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: .)
[02:13:45] <Luqman> kmc: old-style?
[02:14:36] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[02:14:50] *** ozten is now known as ozten|afk
[02:15:08] <kmc> Luqman: well I hesitate to say "real name" because it's up to the individual which name is more "real" for them... but that's the one i mean
[02:15:36] <Luqman> ah
[02:15:40] <kmc> it might not match a name assigned at birth and it might not match the name(s) that various government(s) have on record, either
[02:15:46] <kmc> conclusion: naming kinds of names is hard :)
[02:16:09] <shachaf> most reals are unnameable
[02:16:13] <kmc> it's true!
[02:16:17] <shachaf> s/most/almost all/
[02:16:20] <Luqman> kmc: my approach is just the same name everywhere (well + an 'a' at the end for github) :P
[02:16:44] *** Quits: heftig (heftig@moz-5027243A.dip0.t-ipconnect.de) (Ping timeout)
[02:17:41] *** Quits: zz_kimundi (kimundi@moz-CF2827B0.dip0.t-ipconnect.de) (Ping timeout)
[02:17:59] <ercxx> The world needs more web frameworks! Here's my toy: https://github.com/eerden/lale 
[02:18:21] <kmc> strcat: I'm interested in writing some Rust code to make Linux system calls directly, without libc; do you think that would fit with rust-core (behind appropriate cfg() flags)?
[02:18:48] *** Joins: heftig (heftig@moz-EEDBA899.dip0.t-ipconnect.de)
[02:19:05] <strcat> kmc: yes
[02:19:24] <aatch> kmc, oo, I might be able to help a bit with that.
[02:19:25] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:20:09] <aatch> kmc: https://github.com/Aatch/grease-bench/blob/master/src/sys/mod.rs#L8
[02:20:19] <strcat> kmc: rust-core doesn't have ffi overhead but it would probably be nice to offer stuff like that without libc
[02:20:22] * strcat isn't entirely sure
[02:21:01] <kmc> aatch: nice
[02:21:04] *** Joins: zz_kimundi (kimundi@moz-DBB29B3E.dip0.t-ipconnect.de)
[02:21:22] *** zz_kimundi is now known as kimundi
[02:21:32] <aatch> Getting stuff like vsyscall and 32-bit support is harder though.
[02:21:41] <kmc> yeah
[02:21:47] *** Joins: mib_qiyuit (Mibbit@moz-D52FC861.dclient.hispeed.ch)
[02:21:50] <strcat> aatch: vdso you mean? I think vsyscall is deprecated
[02:22:02] <aatch> strcat, yeah, thats the one
[02:22:05] <kmc> the Linux kernel people don't bother having consistent terminology here
[02:22:18] <kmc> some of the system calls served through the vDSO are "vsyscalls" meaning they happen entirely in userspace
[02:22:41] <kmc> on amd64 that is its only purpose
[02:22:41] <strcat> mmm, time
[02:23:01] <kmc> but there's also a legacy "vsyscall page" which was the old way of doing these things
[02:23:17] <kmc> and these days is actually slower than just making a real syscall :)
[02:23:40] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[02:26:33] <aatch> The issue is that getting proper vdso support requires more control over the entry sequence for an exe, since you have to scan through to some special structure just beyond the environment variables to get where the vdso is
[02:26:59] <kmc> if you don't have dynamic linking, yeah
[02:27:11] <kmc> using vsyscalls from a static binary requires parsing ELF but it's not too bad: https://github.com/torvalds/linux/blob/v3.11/Documentation/vDSO/parse_vdso.c
[02:27:27] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:27:34] <aatch> kmc, that said, I could never figure out how to get the dynamic linking bit to work properly.
[02:28:58] <kmc> however that's not necessary for just making ordinary system calls on i386, because there the special structure beyond the environment variables (the ELF auxv) contains the entry point for the system call routine, as well as the start of the DSO itself
[02:29:18] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[02:29:48] *** ozten|afk is now known as ozten
[02:30:38] <kmc> aatch: can I adapt your syscall code for rust-core? looks like grease-bench is BSD licensed and rust-core has... no license :(
[02:30:56] <aatch> kmc, go for it.
[02:31:20] <aatch> kmc, could be worse, I could have GPL'd it
[02:31:41] <mcpherrin> no license is arguably worse than GPL.  At least with GPL you know what you're getting :P
[02:33:02] *** Parts: mib_qiyuit (Mibbit@moz-D52FC861.dclient.hispeed.ch) ()
[02:38:41] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[02:39:26] <sdfihua> if have a functon convert "1233 45 78" to [1233,45,78]?
[02:39:54] <sdfihua> or use word_iter and push
[02:40:03] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Ping timeout)
[02:40:25] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[02:41:21] *** Quits: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP) (Quit: Leaving)
[02:41:58] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:42:45] <aatch> rusti: let v : ~[int] = "123 456 789".word_iter().map(|x| from_str(x).unwrap()).collect(); v
[02:42:47] -rusti- ~[123, 456, 789]
[02:43:09] <sp3d> what would one that dumps non-numeric words look like?
[02:43:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[02:44:08] <aatch> rusti: let v : ~[int] = "123 456 789".word_iter().filter_map(|x| from_str(x)).collect(); v
[02:44:09] -rusti- ~[123, 456, 789]
[02:44:18] <aatch> rusti: let v : ~[int] = "123 456 purple 789".word_iter().filter_map(|x| from_str(x)).collect(); v
[02:44:19] -rusti- ~[123, 456, 789]
[02:44:21] *** Parts: mshal (mshal@moz-A890D35A.washdc.fios.verizon.net) ()
[02:44:22] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[02:44:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:46:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:46:18] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[02:47:30] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[02:48:13] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:48:13] *** ChanServ sets mode: +ao dherman dherman
[02:50:11] *** ION is now known as ion
[02:50:29] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[02:52:17] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[02:52:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:52:53] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[02:53:49] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:55:05] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[02:55:42] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[02:59:19] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[02:59:38] *** Joins: geomyidae_ (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:59:54] *** Quits: geomyidae_ (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:00:16] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[03:00:50] *** sam113101 is now known as sam113101_afk
[03:00:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:01:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:02:05] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[03:02:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:02:35] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:03:22] *** sam113101_afk is now known as sam113101
[03:03:51] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[03:06:42] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[03:06:44] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[03:08:24] *** Joins: tjc (tjc@moz-390C33E4.hsd1.ca.comcast.net)
[03:08:24] *** ChanServ sets mode: +o tjc
[03:08:37] *** Quits: tjc (tjc@moz-390C33E4.hsd1.ca.comcast.net) (Quit: Places to go, people to annoy)
[03:12:38] <kmc> strcat: some of the code generated by rustc wants to call memset(); do you have a preferred solution when not using a libc? does compiler-rt provide that?
[03:14:12] <strcat> kmc: atm you have to define memset in a library crate, compile it to bytecode and link it in (huge pain)
[03:14:29] <strcat> it will also want memcpy/memmove and maybe other things
[03:14:51] <kmc> why not just an extern "C" fn in my same crate?
[03:15:08] <strcat> kmc: because it's dumb and will remove it as unused
[03:15:15] <strcat> before looking for it
[03:15:34] <kmc> heh
[03:15:35] <kmc> unless i use it :)
[03:16:15] <strcat> kmc: I would just put those in another .rs file and compile it with --lib --emit-llvm 
[03:16:17] <pcmattman> if you use it once with -O it'll special-case the emitted assembly for the mem* function to the parameters passed in to that single use
[03:16:23] <strcat> then link it with your crate with clang -flto
[03:16:55] <strcat> for the moment
[03:17:02] *** Quits: JanC_ (janc@moz-9D7B166B.dsl.scarlet.be) (Ping timeout)
[03:17:02] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[03:17:28] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[03:17:45] <myname> aren't exten functions for calling from the outside, too?
[03:18:10] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[03:18:10] <pcmattman> extern "C" is a foreign ABI function
[03:18:40] <pcmattman> (maybe the syntax should actually be 'foreign "C"' to say "use the C ABI instead of the Rust ABI", so it doesn't have the word "extern" in it...)
[03:18:44] <strcat> myname: all top-level functions are 'extern fn'
[03:18:58] <strcat> rusti: fn foo() {} let x: extern fn() = foo; x()
[03:19:01] -rusti- ()
[03:19:09] <strcat> rusti: extern "C" fn foo() {} let x: extern "C" fn() = foo; x()
[03:19:15] -rusti- pastebinned 7 lines of output: http://ix.io/8I5
[03:19:50] <myname> strcat: if that's the case, why does -O optimizes that away?
[03:20:04] <strcat> extern has nothing to do with visibility
[03:20:09] <kmc> because i'm building an exe and not a lib crate, I would guess
[03:20:40] <kmc> I guess we are inheriting a weird use of the word "extern" from C++, which chose it because it was already a C keyword (with a totally different meaning)
[03:20:44] <kmc> isn't history fun
[03:21:13] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[03:21:13] <myname> so you could build a library and a simple executable that just calls main from that library?
[03:21:45] <strcat> that's somewhat backwards ;p
[03:22:02] <strcat> or do you mean defining the main function in the library?
[03:22:09] <myname> yeah
[03:22:15] <strcat> it's not necessary
[03:22:23] <strcat> you can define mem* and the other stuff LLVM wants in a lib crate
[03:22:30] <strcat> and link them together with static linking or LTO
[03:22:30] <myname> ah
[03:22:33] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[03:22:37] <strcat> have to go through clang
[03:23:08] <strcat> (or if you use .o files, just a linker)
[03:23:36] <strcat> could also just llvm-link them together and call llc, I guess
[03:23:37] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[03:23:49] <myname> what does extern do in C?
[03:23:52] <pcmattman> strcat: it's not possible to build a static library crate yet, or is it?
[03:24:00] <strcat> pcmattman: --lib -c
[03:24:08] <pcmattman> oh, cool
[03:24:13] <kmc> myname: used to declare a variable which is defined in another compilation unit
[03:24:13] <strcat> pcmattman: it's not really a 'crate'
[03:24:26] <myname> ah
[03:24:30] <strcat> pcmattman: rust doesn't know how to read metadata from it, so you have to use extern {} to define the functions from there
[03:24:40] <myname> oh, i just remember sing it
[03:24:55] <pcmattman> strcat: ah
[03:25:14] <strcat> C defaults to extern though
[03:25:26] <strcat> so it's somewhat pointless
[03:25:31] <kmc> for function declarations yes
[03:25:35] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:25:37] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[03:25:40] <kmc> for uninit global variables I think the story is more complicated
[03:25:52] <myname> well, the c++ usage sounds confusing
[03:25:56] <strcat> kmc: I think they are still extern in C
[03:26:02] <strcat> in C++, const implies static at file-level by default
[03:26:03] <kmc> also you can have extern local variables, which is weird, but a coherent concept
[03:31:30] *** Joins: JanC_ (janc@moz-8317BF25.dsl.scarlet.be)
[03:33:35] *** Joins: jordyd (jordyd@moz-94D43367.seg45.ucf.edu)
[03:35:20] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[03:37:24] <geomyidae> hm, I have an idea for a rust project. Could I build a networking component of a rust game lib?
[03:37:45] <geomyidae> would it be possible to genericize the network component of multiplayer games, or are they generally optimized per-game?
[03:37:45] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[03:38:12] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[03:39:06] <tiffany> you can write a generic version, but many games will make their own hardcoded protocols on top of tcp
[03:39:09] <tiffany> it's not a pretty solution
[03:39:16] <tiffany> nor a very efficient one
[03:39:40] <SiegeLord> There are some low-level libraries that see relatively wide use
[03:40:25] <tiffany> I think the most difficult thing when it comes to game networking is moving state across the network
[03:40:34] <tiffany> rather than the protocol and connection stuff itself
[03:40:39] <tiffany> especially for larger games
[03:42:34] <kmc> sometimes on top of UDP instead
[03:43:56] <SiegeLord> The common wisdom says to use UDP, but I've seen many question that common wisdom
[03:44:17] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[03:44:31] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[03:47:03] <pcmattman> TCP is good for critical game state, UDP is nice for movement and such, unless consistent movement is critical
[03:47:29] <SiegeLord> Classically, you implement a reliable protocol on top of UDP
[03:47:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:47:33] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[03:48:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:49:02] <kmc> yeah, you might implement a reliable state-sync protocol rather than an in-order stream protocol
[03:49:06] <kmc> like Mosh's SSP
[03:49:48] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:53:25] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[03:54:54] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[03:55:20] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:55:34] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[03:59:29] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[03:59:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:01:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:01:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:02:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:02:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:03:16] *** Joins: lmandel (lmandel@moz-54BA123E.hfc.comcastbusiness.net)
[04:04:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:08:48] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[04:10:08] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[04:12:25] *** Joins: Guest_ (textual@moz-E64A54F3.nyc.res.rr.com)
[04:12:36] *** Joins: olegon (Mibbit@moz-B00DF61F.dsl.telesp.net.br)
[04:17:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:17:13] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:19:43] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[04:20:10] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[04:20:55] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[04:21:23] *** Quits: Guest_ (textual@moz-E64A54F3.nyc.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[04:21:52] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[04:22:34] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[04:23:10] *** Quits: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP) (Ping timeout)
[04:24:28] *** Joins: cta (Mibbit@moz-37705B5.hsd1.va.comcast.net)
[04:25:01] <cta> is there any support for regular expressions in rust?
[04:25:50] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:26:27] <mcpherrin> cta: Somebody had a binding to libpcre at some point
[04:26:57] <mcpherrin> cta: But other than loading C libraries, not really.  I've been meaning to experiment with that...  Started a few times but I'm too busy
[04:27:13] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[04:27:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:28:40] *** Joins: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP)
[04:29:15] *** Quits: olegon (Mibbit@moz-B00DF61F.dsl.telesp.net.br) (Quit: http://www.mibbit.com ajax IRC Client)
[04:30:06] <Luqman> mcpherrin: i've been waiting on that regex support...
[04:30:13] *** Joins: eddyb9 (eddy@D20E6F85.8E4D8E22.4A6B528C.IP)
[04:31:18] <mcpherrin> Luqman: Maybe after the feature I'm working on at work is done...
[04:42:26] <steveklabnik> there's two libpcre bindings, yeah
[04:42:37] <steveklabnik> if you search github they should come up quick
[04:45:23] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:45:28] *** Quits: eddyb9 (eddy@D20E6F85.8E4D8E22.4A6B528C.IP) (Ping timeout)
[04:46:30] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Connection reset by peer)
[04:46:39] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[04:49:57] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[04:50:20] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:53:56] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[04:54:09] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[04:54:14] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[04:56:00] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[04:57:22] <cmr> bstrie: hahah
[04:57:33] <cmr> bstrie: if only!
[04:58:08] <pcmattman> is there a sane way to find out how visible a symbol is while in trans?
[05:00:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:00:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:00:54] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[05:01:20] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:01:43] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:01:43] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[05:01:58] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:02:29] <killerswan> hmm, so rustpkg became more confusing since I last played with it
[05:03:59] <killerswan> what needs to go inside of main.rs / test.rs / etc.?
[05:04:28] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[05:04:30] <killerswan> the doc doesn't seem to have any details: https://github.com/mozilla/rust/blob/master/doc/rustpkg.md
[05:04:54] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[05:05:04] <Heather> how to join Mozilla? :D
[05:05:44] <klutzy> type /join #mozilla
[05:06:06] <Heather> klutzy I mean org
[05:06:14] <klutzy> :p
[05:06:21] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[05:07:34] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[05:08:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:11:32] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[05:12:27] *** Joins: jweinberg (jweinberg_@3E5CF971.9533F93D.26E46D7D.IP)
[05:12:33] <steveklabnik> killerswan: http://static.rust-lang.org/doc/master/tutorial-rustpkg.html
[05:13:04] * dbaupp is mildly amused by the variety of different wordings of "fmt! -> format!" in the latest commits on Rust-CI
[05:13:22] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[05:15:20] <killerswan> Heather: https://github.com/mozilla/rust/wiki/Note-development-policy
[05:15:43] <killerswan> http://careers.mozilla.org/en-US/
[05:16:09] <killerswan> http://careers.mozilla.org/en-US/position/oMiEXfwp
[05:16:32] *** Quits: Kxepal (Miranda@moz-65DA6C76.pppoe.mtu-net.ru) (Ping timeout)
[05:16:59] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:17:03] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[05:17:03] <killerswan> https://mail.mozilla.org/pipermail/rust-dev/2013-October/006036.html
[05:17:16] <Heather> killerswan payed job...
[05:17:43] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:17:44] <killerswan> I assume the internships are paid
[05:17:48] *** Quits: ksf (ksf@moz-3A3C5416.adsl.hansenet.de) (Ping timeout)
[05:17:49] *** Joins: ksf (ksf@moz-6A1B6BE9.adsl.hansenet.de)
[05:18:35] <dbaupp> "OPW is an opportunity for women to take on a paid, full-time, three-month internship"
[05:18:42] <dbaupp> so yes, they are paid
[05:19:46] *** Joins: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru)
[05:19:55] <killerswan> the full time Research Engineer (Rust) position(s) look like a pretty awesome thing
[05:20:08] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[05:20:13] <Heather> killerswan yes )
[05:21:01] <sam113101> I'm going to become a trans I think
[05:21:14] *** Quits: lmandel (lmandel@moz-54BA123E.hfc.comcastbusiness.net) (Quit: lmandel)
[05:21:31] <sam113101> being a woman is advantageous in this day and age
[05:23:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:23:20] <killerswan> sam113101: 51% of the population
[05:23:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:24:03] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[05:24:04] <sam113101> yes, and they have feminism
[05:24:34] <Heather> sam113101 well you can't get all the features being trans...
[05:24:47] <sam113101> Heather: what do you mean?
[05:24:47] <killerswan> sam113101: as do we all have feminism
[05:25:07] *** kimundi is now known as zz_kimundi
[05:25:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:25:37] <Heather> sam113101 nevermind...
[05:26:05] <killerswan> sam113101: my co-workers are quite happy with their maternity- AND paternity-leave
[05:26:35] <killerswan> dunno how our grandparents got by without that kind of stuff
[05:30:17] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:32:37] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[05:33:09] *** Joins: eddyb9 (eddy@42C90577.8D069E5A.4A6B528C.IP)
[05:34:29] <sam113101> not sure what you mean
[05:35:11] <killerswan> sam113101: well, if we were stuck with the gender roles proscribed by rich old white dudes at IBM 100 years ago, life would suck!
[05:35:36] <eddyb9> don't forget the blue
[05:35:46] <sam113101> killerswan: I agree with you on that point, but I just think feminists are going too far now
[05:35:51] <killerswan> I'd have to wear freaking suits and goofy hats every day just to program!
[05:36:10] <eddyb9> (and fortran)
[05:36:43] <eddyb9> oh, feminists... they're trying so hard they're failing to get a point across
[05:36:49] <sam113101> white females are about the most privileged people in society now
[05:36:56] <killerswan> sam113101: that is what my disturbing cousins in the midwest always say, but most of it comes down to straw feminism
[05:36:58] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:37:05] <sam113101> yet they still want more
[05:37:07] <Heather> I'm not feminist...
[05:37:09] <dbaupp> can we not have a discussion about this on #rust please
[05:37:19] <killerswan> sam113101: http://www.harkavagrant.com/?id=341 :D
[05:37:26] <eddyb9> dbaupp: but.. flamewars...
[05:37:44] <dbaupp> eddyb9: feel free to set up #rust-flames for that :P
[05:37:51] <eddyb9> hahaha
[05:37:52] <killerswan> dbaupp: hahaha
[05:38:04] <eddyb9> #rust+aluminum
[05:38:10] <eddyb9> #thermite
[05:38:44] <eddyb9> (if someone uses that name, please be something awesome :D)
[05:38:53] <killerswan> ++
[05:39:40] <dbaupp> eddyb9: you came up with it, so it's up to you to use it for something :P
[05:40:15] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[05:40:17] <eddyb9> I don't have the time to do anything cool :(
[05:40:20] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[05:40:43] *** Joins: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu)
[05:40:46] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:42:16] <sam113101> killerswan: haha, great one
[05:42:35] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[05:44:28] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[05:44:43] <killerswan> sam113101: it perfectly captures the paranoia :D
[05:45:42] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[05:46:44] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[05:49:25] *** Joins: leaper (Mibbit@6B962E2C.8176CF49.D16F30BC.IP)
[05:49:45] *** Parts: leaper (Mibbit@6B962E2C.8176CF49.D16F30BC.IP) ()
[05:50:09] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:50:19] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[05:51:22] <killerswan> sam113101: I think the topic is actually relevant to #rust, though
[05:51:34] <killerswan> we're trying to build a good community here
[05:52:31] *** Joins: pongad (Mibbit@6ABC2E61.4671019F.DB2023DD.IP)
[05:52:41] <killerswan> something better than some of the places we've worked, for example, where there were some macho grey-bearded jerks who scared away all the talented interview candidates
[05:53:30] <killerswan> 51% of the population === 51% of the potentially gifted hackers
[05:53:41] <pongad> Sorry, stupid question: I understand that all vectors have a .len() function. I cannot seem to be able to find this in the documentation. Did I miss it somehow?
[05:53:41] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:53:42] <killerswan> hiring is everyone's #1 problem
[05:53:51] <pongad> killerswan: That I agree :D
[05:53:52] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:53:56] <dbaupp> pongad: it's a method on the Container trait
[05:54:03] <dbaupp> pongad: which the vector types do implement
[05:54:26] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[05:54:33] <SiegeLord> Documentation of built-in types is not as good as it could be
[05:54:35] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:54:51] <pongad> dbaupp: I take it it's the      impl<T> Container for ~[T]    line?
[05:55:05] <mcpherrin> There was some talk of making a "here is everything you can do with a T" page in rustdoc
[05:55:29] <pongad> The documentation layout is quite ... strange if I may say so
[05:55:58] <pongad> dbaupp: And thanks a lot for your help :D
[05:56:02] <eevee> 22:21 < sam113101> I'm going to become a trans I think
[05:56:10] <eevee> words cannot rightly express how much is wrong with this
[05:56:13] <SiegeLord> mcpherrin: That already exists for non-built in types
[05:56:34] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[05:56:51] *** Joins: sharvey (sharvey@moz-C3551BB3.metaether.net)
[05:56:56] * geomyidae raises his eyebrows
[05:58:25] <mcpherrin> It ended a few minutes ago.
[05:58:37] <mcpherrin> wait, wrong channel
[05:59:00] <mcpherrin> SiegeLord: oh?
[05:59:36] <mcpherrin> I think I've only ever looked at built-in types :P
[05:59:44] <killerswan> eevee: yeah, there are a bunch of hyperlinks we should make sam113101 read, probably
[05:59:59] *** Quits: cta (Mibbit@moz-37705B5.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:00:06] <SiegeLord> mcpherrin: E.g. take a look at http://static.rust-lang.org/doc/master/std/hashmap/struct.HashMap.html
[06:00:18] <SiegeLord> It shows all the traits that type implements
[06:00:33] <SiegeLord> What is needed is the same sort of page for ~[]
[06:00:33] <sam113101> what?
[06:00:56] <mcpherrin> SiegeLord: oh, yeah, that's exactly the sort of page I want for ~[] :p
[06:01:00] <pongad> Rust is, at the moment, so confusing to me that I don't dare look at things outside of std :P
[06:01:13] <SiegeLord> That is in std ;)
[06:01:23] <mcpherrin> pongad: well that is in the std, but it's not "built in" to the compiler in teh way ~[T] is
[06:01:26] <pongad> SiegeLord: shhhhh
[06:01:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:30] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:49] <Luqman> SiegeLord: http://static.rust-lang.org/doc/master/std/vec/trait.OwnedVector.html ?
[06:02:01] <dbaupp> pongad: yes
[06:02:08] <SiegeLord> Luqman: That's a trait
[06:02:20] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[06:02:28] <dbaupp> pongad: unfortunately the only way to see the implementations for the built in types is on the traits themselves
[06:02:34] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[06:02:34] <Heather> when I filter original array and then get first item from filtered array how can I get it's number in first array?
[06:02:41] <pongad> dbaupp: Is it possible to like make a page of built-in's?
[06:02:45] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[06:02:56] <dbaupp> pongad: in theory, yes; but someone would have to implement it
[06:03:05] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[06:03:08] <mcpherrin> pongad: thanks for volunteering :)
[06:03:10] <pongad> dbaupp: I meant, manually, since we probably won't need to do it so many times
[06:03:12] <SiegeLord> There are some design issues associated with it
[06:03:26] <eevee> sam113101: scoffing about feminists and "females" like this is a backroom boys' club and none could possibly be present is pretty uncool and unwelcoming
[06:03:30] <pongad> mcpherrin: If I can find the time between classes :D
[06:03:31] <dbaupp> pongad: not easily
[06:04:02] <SiegeLord> pongad: Thing is, you can implement traits for built-in types in 3rd party libraries
[06:04:18] <SiegeLord> So the manual solution isn't very satisfactory
[06:04:23] <dbaupp> Heather: do you just want to find the first element in an array that satisfies some condition?
[06:04:35] <Heather> dbaupp yes
[06:04:52] <dbaupp> Heather: v.iter().position(|x| ...) on the unfiltered array
[06:04:58] <Heather> dbaupp thanks
[06:05:21] <Heather> dbaupp what it will return if it will find nothing?
[06:05:27] <Heather> dbaupp 0 ?
[06:05:30] <dbaupp> None
[06:05:33] <pongad> SiegeLord: You're right, of course, snap
[06:05:38] <Heather> dbaupp ah thanks
[06:05:39] <dbaupp> Heather: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.position
[06:05:45] * geomyidae just /joined #rust-flames and feels like an idiot. 
[06:05:56] <killerswan> sam113101: I think this is a good summary of some actual statistics on the topic: http://www.transequality.org/PDFs/Executive_Summary.pdf (via https://twitter.com/msfromm, who also has a ton of good cryptography advice...)
[06:06:26] <mcpherrin> Heather: It's an Option, so None if not found, or Some<uint>(index) (of course dbaupp has already linked the document)
[06:06:46] <Heather> mcpherrin I get it
[06:06:50] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Client exited)
[06:06:51] <killerswan> sam113101: basically, a lot of workplaces discriminate even more against people-of-complicated-gender than they do against anyone else
[06:07:10] <killerswan> sam113101: and it is really quite frustrating to see
[06:07:16] <pongad> One thing confuses me: I can implement traits for built in types. What happens if I define the same function twice?
[06:07:32] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:09:19] <SiegeLord> It won't let you call that method... I don't think there's a way around it atm
[06:10:44] <SiegeLord> You could selectively import one of the two traits though
[06:10:46] <pongad> SiegeLord: Hmm.....Is there a plan to look into it? :P
[06:11:12] <pongad> SiegeLord: But that's kind of a double inheritance problem, right?
[06:11:19] <killerswan> geomyidae: I imagine that rust-flames is the future destination of all the threads we'll have of people asking if semicolons can be optional :)
[06:11:38] <SiegeLord> pongad: No, it's unrelated
[06:11:59] <SiegeLord> I actually don't know of the proposed solution
[06:12:01] <geomyidae> killerswan: that sounds, less toxic/dangerous, equally tedious and also just ohdeargodwut
[06:12:18] <killerswan> geomyidae: monads
[06:12:21] <geomyidae> is there a better example for rust? it's basically semantically vital, no?
[06:12:24] <pongad> SiegeLord: As in, if I need methods of both classes A and B and they both define a some_method(some_arg), there is a "inheritance" conflict
[06:12:24] *** Joins: Ms2ger (Ms2ger@moz-8F01DF4A.ugent.be)
[06:12:43] <SiegeLord> pongad: There is no conflict except when you try to use it
[06:13:10] <SiegeLord> (in Rust that is)
[06:13:12] <pongad> Oh crud, of course. I blame 2AM for making me stupid
[06:13:32] <SiegeLord> I think there's some magical <for T> syntax
[06:13:36] <SiegeLord> But I don't know what that's for
[06:14:17] <dbaupp> SiegeLord: not quite yet
[06:14:32] <SiegeLord> Right, it's in planning
[06:14:36] <dbaupp> (it will be for giving a type hint  about the Self type of a trait implementation)
[06:14:37] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[06:14:45] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[06:14:52] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[06:14:54] <sam113101> how many of you actually work for mozilla?
[06:14:55] <SiegeLord> That sounds like a different type of ambiguity
[06:15:28] <SiegeLord> The best I can think of is that you'll be able to do let t = Type; Trait::<for Type>::foo(t);
[06:15:36] <dbaupp> SiegeLord: (I wasn't only addressing the <for T> syntax, not the context of the discussion, fwiw)
[06:15:48] <SiegeLord> I.e. using the type hint and the universal method call syntax
[06:15:53] <SiegeLord> Both of which are planned
[06:16:09] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[06:17:46] <SiegeLord> Damn, spent 3 hours fiddling with my plasma theme in KDE >_<
[06:17:58] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:17:58] <pongad> I would love to contribute something useful to Rust some day, hopefully sooner than later
[06:18:08] <pongad> But now I must sleep....because....class tomorrow
[06:18:12] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:18:13] <pongad> more like today
[06:18:23] <pongad> Anyways, see y'all later
[06:19:08] *** Quits: pongad (Mibbit@6ABC2E61.4671019F.DB2023DD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:19:24] <dbaupp> sam113101: I think no-one who has spoken in the last half-hour or more is a mozilla employee
[06:19:32] <SiegeLord> I think I'll use Rust to make some demos for a talk I'll be giving in a week... will be nice practice
[06:20:39] <killerswan> :)
[06:23:06] *** Joins: fabiand (fabiand@moz-AC10FF3.adsl.alicedsl.de)
[06:24:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:28:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:29:08] <killerswan> if I have one file (simple project) which has both my main function, and my tests, do I have to create a separate test.rs to run them?
[06:29:17] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[06:29:18] <killerswan> (with rustpkg commands, that is)
[06:31:39] *** Joins: nrc (nrc@moz-BAE8D951.pck.nerim.net)
[06:33:14] *** Quits: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net) (Ping timeout)
[06:33:35] <cmr> killerswan: with rustpkg, I think so
[06:34:30] <killerswan> this seems unnecessary
[06:35:17] *** Joins: dbaupp (Thunderbir@moz-F00696E.lns20.syd6.internode.on.net)
[06:36:50] <cmr> It is
[06:37:16] *** Joins: doomlord__ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[06:37:25] *** Quits: doomlord__ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Client exited)
[06:39:09] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Ping timeout)
[06:40:14] *** Quits: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:40:26] <sdfihua> in a loop ,i find task <unnamed> failed at 'index out of bounds: the len is 8 but the index is 8'
[06:40:36] *** Joins: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru)
[06:41:04] <mcpherrin> sdfihua: The last index in a vector of length 8 is 7.
[06:41:10] <sdfihua> Random appearance
[06:41:16] <sdfihua> I know
[06:41:34] <mcpherrin> So that is an error that you've indexed beyond the end of a vector
[06:41:43] <mcpherrin> Causing the task to fail
[06:42:06] <sdfihua> let mut marix = vec::from_elem(m as uint, vec::from_elem(n as uint, 0)); 	let rows = text.len(); 	let mut row = 1; 	while row < rows { 		let v : ~[int] = text[row].word_iter().map(|x| from_str::<int>(x).unwrap()).collect(); 		println(v.to_str()); 		let i = v[1] -1; 		let j = v[0] -1; 		println(i.to_str() + j.to_str()); 		marix[i][j] = v[2];//random error task
[06:42:47] *** Quits: nrc (nrc@moz-BAE8D951.pck.nerim.net) (Ping timeout)
[06:42:55] <sdfihua> [2, 1, 1] 01 task <unnamed> failed at 'index out of bounds: the len is 8 but the index is 8', 
[06:43:28] <dbaupp> what's the value of `row`?
[06:44:03] <FreeFull> Lowest index is 0 and highest 7
[06:44:32] <dbaupp> in any case, one would normally use `for words in text.iter() { let v: ~[int] = words.word_iter().map(|x| ...).collect(); ...`
[06:44:33] <sdfihua> let text = read_file(filein);
[06:47:57] <sdfihua> the error occur randomly
[06:48:18] <sdfihua> on random rows
[06:48:32] <sdfihua> there are no index > 7
[06:48:37] <dbaupp> you're getting i and j from v, aren't you?
[06:48:55] <sdfihua> yes
[06:49:13] <dbaupp> are you sure about which line the failure happens?
[06:49:41] <sdfihua> i am not sure, random occur,but occur every time
[06:49:57] <sdfihua> one of lines
[06:50:23] <sdfihua> [2, 1, 1] 01 task <unnamed> failed at 'index out of bounds: the len is 8 but the index is 8', E:\inspurhua\bus.rs:69 [3, 1, 1]
[06:50:34] <sdfihua> [4, 3, 4]task <unnamed> failed at 'index out of bounds: the len is 8 but the index is 8', E:\inspurhua\bus.rs:69  23
[06:50:43] <sdfihua> so randomly
[06:51:10] <dbaupp> you should work out exactly which line it is failing on, e.g. put a print before every array indexing, or compile with -Z extra-debug-info and run it in GDB with `catch throw` to stop when fail!() is called.
[06:51:11] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[06:51:42] <dbaupp> (-Z debug-info might work better, if extra-debug-info crashes the compiler)
[06:52:07] <cmr> dbaupp: have you had crashed with extra-debug-info recently?
[06:52:49] <SiegeLord> Anybody use Geany for coding Rust here?
[06:52:52] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[06:53:23] <dbaupp> cmr: no, but I *very* rarely use either debug-infos
[06:54:42] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:54:51] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[06:56:49] <sdfihua> i cant use the debug tools
[06:57:02] *** Joins: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net)
[06:57:45] *** Quits: dbaupp (Thunderbir@moz-F00696E.lns20.syd6.internode.on.net) (Ping timeout)
[07:01:19] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:01:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:01:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:01:41] <killerswan> hmm, is #[bench] documented anywhere?
[07:01:41] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[07:01:58] <mcpherrin> Does anybody have preferred networking libraries?
[07:02:04] <mcpherrin> Things they really like?
[07:02:38] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[07:03:09] <dbaupp> killerswan: https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[07:03:22] *** Quits: jordyd (jordyd@moz-94D43367.seg45.ucf.edu) (Ping timeout)
[07:03:44] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[07:03:46] <dbaupp> sdfihua: ah; you've just got printlns for debugging then
[07:03:51] <cmr> mcpherrin: I very much like zeromq, but that's not really general purpose networking
[07:03:56] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:03:58] <cmr> I hear enet is nice.
[07:04:57] <mcpherrin> I'm actually looking to write a tool for inspecting/generating network traffic, but figured looking at other related libs is worthwhile for inspiration
[07:05:03] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[07:05:47] <mcpherrin> scapy being my biggest inspiration. Target use-case being things like ping, traceroute, wireshark-style dissectors, traffic generators for fuzzing/testing
[07:05:53] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[07:06:10] <cmr> scapy is the only thing like that I've seen used yeah
[07:06:31] <mcpherrin> I figure it needs a bit of competition ;)
[07:07:59] <mcpherrin> Also, this is my plan to ninja rust into my employer :-P
[07:08:14] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:08:26] <cmr> heh
[07:09:20] <mcpherrin> You can't run python in the kernel easily ;)
[07:09:37] <mcpherrin> And sometimes that's a handy place to splooge packets out.
[07:09:54] <Heather> when I use ~ variable two times, is there better way to handle conflicts instead of cloning it each time... error says to use ref but I can't figure out how
[07:10:33] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[07:10:35] <cmr> Heather: example?
[07:10:57] <Heather> let shade = ... / match shade { } ... match shade { } // it cause error
[07:11:08] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Client exited)
[07:11:13] <Heather> cmr shade is ~str
[07:11:44] <Heather> cmr 01let shade = ... / match shade.clone() { } ... match shade { } // it fixes error01
[07:11:51] <cmr> Heather: match &shade ?
[07:11:56] <strcat> well
[07:12:00] <strcat> you want 'ref' in the match binding
[07:12:04] <Heather> cmr I think I tested it...
[07:12:04] *** Joins: oberstet (quassel@moz-95821774.dynamic.mnet-online.de)
[07:12:08] <strcat> matching on &shade won't help
[07:12:19] <strcat> you're moving the ~str into the match, change it to taking the binding by-ref
[07:12:31] <Heather> strcat how?
[07:12:34] <dbaupp> or `match shade.as_slice() { ... }`
[07:12:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:12:49] <cmr> match ... { Foo(ref x) => ... }, for example
[07:13:09] <Heather> dbaupp it's better than clone(), right ?
[07:13:13] <dbaupp> rusti: let s = ~"foo"; match s { ~"bar" => println("bar"), _ => {} }; match s { ~"foo" => println("foo"), _ => {} }
[07:13:14] -rusti- foo
[07:13:14] -rusti- ()
[07:13:19] <dbaupp> Heather: much better
[07:13:42] <cmr> oh shade is ~str
[07:13:44] <cmr> sorry
[07:13:47] <cmr> completely missed that detail :)
[07:13:59] <Heather> cmr sorry, shade is Option<~str> )
[07:14:08] <Heather> dbaupp ^
[07:14:29] <strcat> so make the binding you're getting from Some by-ref
[07:14:31] <strcat> Some(ref x)
[07:14:33] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Quit: victorporof)
[07:14:37] *** Quits: Ms2ger (Ms2ger@moz-8F01DF4A.ugent.be) (Ping timeout)
[07:14:59] <mcpherrin> strcat: what type is x?
[07:15:05] <mcpherrin> in Some(ref x)
[07:15:09] <mcpherrin> &~str?
[07:15:11] <strcat> yes
[07:15:21] <strcat> can deref it to get &str
[07:15:43] *** Quits: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu) (Quit: Leaving)
[07:16:09] <dbaupp> "can deref it to get something that will coerce to &str in some circumstances"
[07:16:22] <dbaupp> (an explicit .as_slice() is still necessary in some instances)
[07:16:26] <mcpherrin> You deref to get a ~str which you can borrow into a &str?
[07:16:40] <mcpherrin> dbaupp: Can you provide an example where the as_slice is needed?
[07:16:44] <strcat> mcpherrin: yes
[07:16:55] <dbaupp> generic methods/functions that can take either &str or ~str
[07:16:56] <strcat> as_slice just does the ~str -> &str coercion, it can be done implicitly
[07:17:39] <sdfihua> This application has requested the Runtime to terminate it in an unusual way. Please contact the application's support team for more information. [Finished in 0.1s with exit code 3]
[07:17:39] *** Joins: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu)
[07:17:51] <sdfihua> let m = 1000000000; 	let n = 1000000000; 	let mut marix = vec::from_elem(m as uint, vec::from_elem(n as uint, 0)); 	marix[0][0] = 100;
[07:18:23] <dbaupp> sdfihua: you're allocating and 8GB array of 8GB arrays
[07:18:46] <dbaupp> i.e. the first one is 1 billion pointers, and the latter ones are 1 billion elements each
[07:18:50] <Heather> deref by to_owned?
[07:19:25] <sdfihua> ~pub fn from_elem<T: Clone>(n_elts: uint, t: T) -> ~[T]
[07:19:29] <strcat> Heather: no
[07:19:36] <strcat> to_owned creates a copy of the string
[07:19:37] <dbaupp> sdfihua: i.e. you're attempting to allocate 7 exabytes
[07:19:39] <strcat> you dereference with *
[07:20:14] <Heather> strcat ah thanks
[07:20:27] <Heather> strcat seems like it works...
[07:20:57] <Heather> strcat I will try to use minimal clone() things now ...
[07:21:52] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[07:22:07] <ercxx> Are there any performance related issues when using functions vs lambdas?
[07:22:31] *** Quits: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu) (Input/output error)
[07:23:21] <strcat> ercxx: not really, as long as you mean stack closures
[07:24:13] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[07:24:21] <Heather> ercxx strcat  I think that even in C++ lambdas create additional steps ...
[07:24:37] <strcat> 'even in C++'?
[07:24:52] <strcat> C++ lambdas are just a unique type - they aren't even a function pointer, there's no overhead
[07:24:56] <ercxx> nope, I'm burying them in a hashmap that's in an Arc that's in a struct that should be on heap
[07:25:12] <ercxx> I am not a clever man :)
[07:25:15] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[07:25:29] <strcat> ercxx: well, I wouldn't worry about functions vs. closures then
[07:25:45] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[07:25:55] <Heather> strcat I used to test them by checking asm generated by simple [] -> { } and it was some horrible calls generated :) I'm glad if that's different in rust
[07:25:57] <ercxx> you're right
[07:25:58] *** Joins: ash_136 (ashvini@65AFF8FC.D5329915.422D491.IP)
[07:26:04] <strcat> Heather: with which compiler?
[07:26:08] *** Parts: ash_136 (ashvini@65AFF8FC.D5329915.422D491.IP) (Leaving)
[07:26:13] <Heather> strcat msvc
[07:26:14] <dbaupp> Heather: with optimisations turned on?
[07:26:20] <Heather> dbaupp yes
[07:26:35] <strcat> Heather: there's 0 overhead for lambdas in gcc/clang
[07:26:41] <strcat> you can look at the IR with clang
[07:26:57] <strcat> a lambda has a unique type, and the code is associated with it via that unique type - there is no function pointer, or anything like that
[07:27:15] <Heather> I see
[07:28:08] <eddyb9> MSVC is not a compiler
[07:28:10] <strcat> std::function has a lot of overhead, since it has to actually do type erasure
[07:28:18] <eddyb9> just like Windows is not an OS
[07:28:44] *** Joins: Ferreus (ferreus@moz-1773A8DF.dip0.t-ipconnect.de)
[07:28:51] <eddyb9> and Microsoft isn't... well, 
[07:29:12] <strcat> rust is currently missing stack closures at a type system level, they're borrowed to &fn immediately
[07:29:15] <eddyb9> in retrospective, should've changed my name to 2015 or future_eddyb first :P
[07:30:07] <eddyb9> strcat: so many fancy words, I wish I would understand :/
[07:30:41] <strcat> so, a C++11 lambda is basically an empty struct with operator() overloaded
[07:30:44] <strcat> each one has a unique type
[07:30:50] *** Joins: Ms2ger (Ms2ger@moz-C2F340D8.ugent.be)
[07:30:57] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[07:30:59] <strcat> calling it is just a static function call, capturing stuff is essentially just adding fields
[07:32:04] <eddyb9> aaaah, I see what you mean
[07:32:12] <strcat> and C++ also has std::function, to box an arbitrary callable
[07:32:17] *** Quits: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il) (Ping timeout)
[07:32:37] <strcat> it has to erase the difference between callable structs of different sizes, function pointers, etc.
[07:32:39] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[07:33:07] <strcat> so, it has to do a heap allocation, and it has to do some twiddling based on the type of the thing it captured and then call it via a ptr
[07:33:09] <strcat> that has overhead
[07:33:11] *** Joins: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu)
[07:33:24] <eddyb9> so type-parametric, not std::function-parametric, templated functions that receive closures are more effiecient?
[07:33:33] <strcat> yes
[07:33:38] <eddyb9> like all the generic iterator stuff in std
[07:33:54] <eddyb9> that's neat :D
[07:33:57] <strcat> if it receives a generic type, it does a static call (with either a struct or a lambda, and a function ptr is trivial to inline)
[07:34:20] <strcat> std::function is a bit higher overhead than just a heap allocation + virtual method call
[07:34:37] <eddyb9> it will inline the code of the closure, not an actual call
[07:34:41] <strcat> anyway, rust currently has a) function pointers, b) borrowed closures, c) unique closures
[07:34:49] <strcat> we'll ignore 'a'
[07:35:01] <strcat> so, a borrowed closure is a pair of ptrs, a function ptr and an env
[07:35:07] <strcat> and it passes the env to the function
[07:35:47] <strcat> unique closures are the same kind of thing, but they own the environment (ptr to malloc'ed block)
[07:36:04] <strcat> rust does have stack closures, like C++, but they don't exist at a type level, so they become &fn immediately
[07:36:12] <eddyb9> strcat: the unique type thing in C++ is similar to the macro trick I told you about
[07:36:25] <strcat> LLVM will split them into scalars with SROA, then figure out the ptr is constant and inline
[07:36:42] <strcat> the *problem* is that you can't treat them as values (move them around) and they take much longer to compile
[07:36:43] <eddyb9> strcat: create an empty struct that implements Allocator, proxying to a static Allocator instance
[07:36:56] *** Quits: gareth0 (gareth0@7B67FAFD.7B34A6AE.2653C6EC.IP) (Input/output error)
[07:37:47] *** jorendorff_away is now known as jorendorff
[07:37:54] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[07:37:58] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[07:38:21] <eddyb9> with a Fn trait you can do the same thing, anonymous context-sized structs
[07:38:27] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[07:38:34] <eddyb9> strcat: I guess that's waiting on variadic generics :P
[07:38:41] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Ping timeout)
[07:39:58] <eddyb9> (seeing Rust evolve is pretty cool :D)
[07:40:15] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[07:40:36] <eddyb9> did anyone use "hematite" yet?
[07:40:51] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[07:40:55] <cmr> https://github.com/rustedgrail/Hematite
[07:42:00] <Heather> there is something alike fail! ?
[07:42:03] <cmr> eddyb9: (github has a search by repo name)
[07:42:15] <cmr> Heather: what do you mean?
[07:42:27] <Heather> cmr die and say failing message
[07:42:40] <cmr> Heather: that... is what fail!() does?
[07:42:47] *** Joins: autra_ (augustin@moz-2EA7A1DF.fullsix.com)
[07:42:57] <dbaupp> rusti: fail!("foo")
[07:42:58] <Heather> cmr I don't know
[07:43:01] -rusti- pastebinned 10 lines of output: http://ix.io/8Ih
[07:43:08] <cmr> Heather: fail! exists and does exactly that
[07:43:09] <dbaupp> rusti: if true { fail!("foo") }
[07:43:10] -rusti- task '<unnamed>' failed at 'foo', <anon>:9
[07:43:10] -rusti- application terminated with error code 101
[07:43:24] <Heather> cmr good )
[07:44:09] <Heather> oh I even used it )
[07:44:55] *** Quits: Ms2ger (Ms2ger@moz-C2F340D8.ugent.be) (Quit: bbl)
[07:46:02] <dbaupp> cmr: your commit message is bad and you should feel bad ( https://github.com/huonw/multibuilder/commit/1b66238db734476e1b19552883e1c33c4405324d ) :P
[07:46:14] <dbaupp> no occurance of fmt! to format! in that at all
[07:46:22] <cmr> pffft
[07:46:32] <cmr> but it's what all the cool kids are doing!
[07:47:03] <dbaupp> Oh! I want to be cool
[07:47:23] * dbaupp makes hundreds of fmt!->format! commits
[07:48:38] *** jorendorff is now known as jorendorff_away
[07:49:11] *** Quits: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu) (Input/output error)
[07:49:13] <Heather> dbaupp for long time I used to have an commit alias with some lyrics in commit message ...
[07:49:57] <sdfihua> our exam is Two-dimensional array compute，the given data dimension is 1000000000,
[07:49:58] <Heather> dbaupp but then I discovered that my commit log looks alike "Dead bodies everywhere Dead bodies everywhere Dead bodies everywhere Dead bodies everywhere ....
[07:49:58] *** pmoore|away is now known as pmoore
[07:50:27] <sdfihua> i find the program will out when the memory reach 2g
[07:50:39] <sdfihua> how i can do?
[07:51:03] <dbaupp> sdfihua: avoid doing the whole thing in one go
[07:51:11] *** Quits: autra_ (augustin@moz-2EA7A1DF.fullsix.com) (Ping timeout)
[07:51:14] <dbaupp> Heather: hahaha, nice :P
[07:51:17] <Luqman> Heather: :| what songs do you listen to?
[07:51:51] <mcpherrin> I do the same thing!  My commit logs are just "meow meow meow" though
[07:52:07] <dbaupp> mcpherrin: what songs do you listen to??
[07:52:26] <sdfihua> what 's your meaning?
[07:52:37] <Luqman> dbaupp: obviously a variation of nyan cat
[07:52:48] <sdfihua> deal the big matrix
[07:52:49] <mcpherrin> dbaupp: http://youtube.com/watch?v=vc3JWo2iiGc
[07:52:53] <strcat> rusti: 2
[07:52:54] -rusti- 2
[07:53:03] *** jorendorff_away is now known as jorendorff
[07:53:40] *** Joins: autra (augustin@moz-2EA7A1DF.fullsix.com)
[07:54:03] <Heather> -__'
[07:54:05] <sdfihua> @dbaupp
[07:54:27] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[07:54:31] *** Parts: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Gone)
[07:54:50] <cmr> mcpherrin: interesting contribution to my morning..
[07:54:54] <dbaupp> sdfihua: if you've got 1,000,000,000 pieces of data and you can only allocate 2GB then there is literally nothing you can do to handle that all in memory at once (if the data is more than 2 bytes each)
[07:55:02] <Heather> Luqman song is named same way...
[07:55:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:55:17] <dbaupp> sdfihua: you have to break it into pieces, e.g. process 100,000,000 at once
[07:55:33] <Heather> how to deal with fail!("Error: impossible case #2")
[07:56:02] <dbaupp> mcpherrin: erm, nice?
[07:56:15] <Heather> okay... can I extract Value from Option avoiding match?
[07:56:25] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[07:56:28] <Heather> opt.Value ?
[07:56:37] <dbaupp> no
[07:56:50] <Heather> dbaupp then?
[07:56:52] <dbaupp> .unwrap(), .expect(), .unwrap_or()
[07:57:04] <Heather> dbaupp what difference...
[07:57:07] <dbaupp> http://static.rust-lang.org/doc/master/std/option/index.html
[07:57:11] <Heather> dbaupp thanks
[07:57:11] <mcpherrin> dbaupp: I am a machine for converting 8 bit music, caffeine, and sugar into code
[07:57:14] *** Joins: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu)
[07:57:23] <dbaupp> Heather: (specifically http://static.rust-lang.org/doc/master/std/option/enum.Option.html )
[07:57:52] <dbaupp> mcpherrin: hahaha
[07:58:43] <cmr> mcpherrin: I often wish for carbonated, caffeinated water.
[07:58:48] <cmr> I don't care for the sugar :p
[07:58:50] <sdfihua> @dbaupp,i use c#,find it deal it quickly
[07:59:43] <dbaupp> sdfihua: well you must be doing something different in C# and in Rust
[08:00:32] <mcpherrin> cmr: I don't care for carbonation :)
[08:00:39] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:00:49] <mcpherrin> My preferred intake vector is black tea and chocolate chip cookies
[08:01:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:01:07] *** strcat1 is now known as strcat
[08:01:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:01:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:01:31] <strcat> sdfihua: what exactly are you allocating?
[08:01:52] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[08:03:31] <sdfihua> 1000,000,000*1000,000,000
[08:03:33] *** zz_kimundi is now known as kimundi
[08:03:50] <strcat> sdfihua: of what?
[08:04:02] <sdfihua> int
[08:04:31] <sdfihua> [[~int,..M], ..M]
[08:04:47] <strcat> sdfihua: are you on 64-bit? I can't really understand how you would be allocating that in C#
[08:05:40] <sdfihua> 32BIT
[08:05:49] <sdfihua> i find only use 2g
[08:05:53] <cmr> sdfihua: what problem are you trying to solve, exactly?
[08:06:01] <strcat> 1,000,000,000 * 1,000,000,000 * 4 is 4000000000000000000 bytes
[08:06:17] <strcat> i.e. 3725290298 gigabytes
[08:06:22] <strcat> I highly doubt you are allocating that
[08:06:28] <strcat> are you really sure those are the dimensions?
[08:06:37] <sdfihua> an Algorithmic problems
[08:07:16] <strcat> what's the code you are using to create the array in C#?
[08:07:39] <sdfihua> SortedList
[08:07:59] <strcat> yes, but what is the code you are using to create the array
[08:08:42] <sdfihua> int[,] arr = new int[n + 1, m + 1];
[08:09:30] <strcat> sdfihua: and where do n and m come from?
[08:09:39] *** Quits: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP) (Quit: )
[08:09:42] <strcat> SortedList is a key-value map so that's not going to be equivalent (it will remove duplicates)
[08:11:02] <sdfihua> this is the problem
[08:11:44] <sdfihua> it is my algorithmic problems
[08:13:04] *** Quits: sdfihua (Mibbit@54B0D324.D4DDBED4.B3490680.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:13:50] *** Joins: richard|s (mindginati@moz-BB341173.dyn.cust.vf.net.nz)
[08:13:54] *** Quits: richard|s (mindginati@moz-BB341173.dyn.cust.vf.net.nz) (Quit: richard|s)
[08:13:54] *** jorendorff is now known as jorendorff_away
[08:15:34] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[08:16:40] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[08:18:12] *** Joins: nkoep (nik@moz-29487685.pool.mediaways.net)
[08:21:27] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[08:21:27] *** ChanServ sets mode: +o jdm
[08:23:52] *** Quits: oberstet (quassel@moz-95821774.dynamic.mnet-online.de) (Connection reset by peer)
[08:24:55] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Quit: Coyote finally caught me)
[08:25:03] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[08:28:00] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[08:30:32] *** Parts: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) ()
[08:31:16] *** Joins: Ms2ger (Ms2ger@moz-57A277A9.ugent.be)
[08:31:29] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[08:31:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:32:25] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[08:34:07] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[08:34:30] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:35:41] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:35:44] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[08:36:32] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[08:36:44] *** Quits: StarLight (StarLight@moz-ED9027EE.pppoe.avangarddsl.ru) (Ping timeout)
[08:37:18] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[08:39:26] <mcpherrin> You know what I miss?
[08:39:31] <mcpherrin> visual basic style returns
[08:39:41] <mcpherrin> Rust should get those.  Do away with the "return" keyword
[08:39:45] <mcpherrin> we hate keywords, right?
[08:40:31] <mcpherrin> fn foo(do_early: bool) -> int { if(do_early) { foo = 1 }  println("Didn't return early!"); 2 }
[08:40:57] <strcat> please no ;p
[08:41:05] <dbaupp> doesn't go do something similar for multiple returns (or am I misinformed... ?)
[08:41:06] *** Joins: StarLight (StarLight@moz-2CB27D18.dynamic.avangarddsl.ru)
[08:41:18] <strcat> dbaupp: no, they just have named return values
[08:41:34] <dbaupp> strcat: oh, without the shortcircuiting?
[08:41:35] <strcat> it doesn't actually return early unless I'm remembering totally wrong
[08:41:57] <dbaupp> ah, ok. (that's satisfies "similar" in my book :P )
[08:41:59] <mcpherrin> I forget if VB actually returns early
[08:42:04] <mcpherrin> now that I think of it
[08:42:28] <strcat> dbaupp: http://golang.org/doc/effective_go.html#named-results
[08:43:03] <dbaupp> strcat: neat; thanks
[08:43:11] * strcat hates it ;p
[08:43:18] <strcat> evil zero-init and nullable everywhere
[08:43:20] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:43:54] <mcpherrin> we should go full mozilla
[08:43:55] <mcpherrin> XPIDL
[08:44:00] <mcpherrin> in, out, and inout parameters!~
[08:44:31] <mcpherrin> Rust functions don't "innovate" enough!
[08:44:43] <strcat> yes, lets give them a pay cut
[08:45:05] <strcat> they'll have to downsize to further from 'fn' to 'f'
[08:46:04] <mcpherrin> or we could make them more fun
[08:46:14] <strcat> damn, the buildbot history cleared
[08:46:18] <mcpherrin> by calling them "fun"
[08:46:21] <strcat> I guess I need to do the snapshot again ;\
[08:46:23] <dbaupp> f[n], l[et], t[rait], i[mpl], e[num], s[truct], easy
[08:46:31] <dbaupp> code is so much sorter now
[08:46:36] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:46:49] <mcpherrin> I'm going to fork rust and replace all keywords with unicode symbols
[08:46:56] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[08:46:57] <strcat> faster than light improvised explosive shoes
[08:47:06] <mcpherrin> and require identifiers be one letters
[08:47:08] <dbaupp> strcat: http://buildbot.rust-lang.org/builders/snap3-bsd/builds/163 ?
[08:47:21] <strcat> dbaupp: yay!
[08:47:31] <dbaupp> strcat: http://buildbot.rust-lang.org/builders
[08:47:38] <strcat> yeah I thought it was gone
[08:47:52] <dbaupp> nah, they just get pushed of the console page
[08:48:24] <KokaKiwi> Hello chan
[08:48:33] <dbaupp> KokaKiwi: hello port
[08:48:41] <KokaKiwi> stream()
[08:48:49] <KokaKiwi> :)
[08:48:55] <mcpherrin> That was way too funny, so I am very certain I need to sleep
[08:49:13] * dbaupp doesn't believe mcpherrin: there's never a need to sleep
[08:49:29] <dbaupp> (at least, not while there's still Rust bugs to fix \o/ )
[08:50:03] <mcpherrin> dbaupp: The only rust "bug" I want to fix right now is adding more unicode so ;)
[08:50:13] <dbaupp> mcpherrin: do it!
[08:50:28] * dbaupp wants to call an integrator ∫
[08:50:32] <strcat> we can have buggy unicode support written by a half asleep mcpherrin 
[08:51:06] <mcpherrin> I'm *supposed* to be writing kernel code for work but I'm lost in the skbs
[08:51:15] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[08:51:16] <mcpherrin> so sleep I must
[08:52:07] <pcmattman> oh goodness not the unicode variable names
[08:52:13] * strcat is overly amused by the name 'feature gate'
[08:52:32] <strcat> I imagine a pompous little gated community of experimental features
[08:52:51] *** Joins: mib_3ru5p0 (Mibbit@6EB9D10.20CC70E6.92EB3D3E.IP)
[08:53:29] <eddyb9> flood gate for the feature creep
[08:53:36] <eddyb9> must stop zerg rush
[08:54:32] <eddyb9> pcmattman: I would like things like sup/sub digits to work in variables, that would be cool
[08:54:59] <pcmattman> and then next thing you know you have let π = 3.1415....;
[08:55:00] <mcpherrin> I should probably not allow ASCII characters in comments either
[08:55:17] <cmr> pcmattman: unicode identifiers are allowed right now.
[08:55:20] <eddyb9> I would give a neat example, but I'm on the phone, I don't have that keymap here
[08:55:26] <eddyb9> pcmattman: pi works
[08:55:27] <pcmattman> hey cool
[08:55:31] <cmr> Following http://www.unicode.org/reports/tr31/
[08:55:48] <pcmattman> do they normalise or can I have several variables with names that look the same but are different codepoints?
[08:55:49] <eddyb9> rusti: let π = 3.1415; π
[08:55:50] -rusti- 3.1415f64
[08:56:13] <cmr> I don't remember. I recall seeing a PR for... NKFD? I don't remember if it was ever resolved though/
[08:56:23] <eddyb9> pcmattman: I don't think the codepoints that make sense with normalization are allowed. but maybe I'm wrong
[08:56:27] <dbaupp> we don't normalise yet, IIRC
[08:56:56] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[08:57:13] <pcmattman> rusti: let Ｍ = 0x123; M
[08:57:16] -rusti- pastebinned 7 lines of output: http://ix.io/8Ii
[08:57:22] <eddyb9> so, what about sub/sup 0-9?
[08:57:24] <klutzy> relevant issue: https://github.com/mozilla/rust/issues/2253
[08:57:29] <klutzy> (on normalization)
[08:57:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:58:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:58:09] <dbaupp> rusti: let ä = 1; ä
[08:58:12] -rusti- pastebinned 7 lines of output: http://ix.io/8Il
[08:58:23] <eddyb9> dbaupp: change the order
[08:58:34] <dbaupp> rusti: let ä = 1; ä
[08:58:36] -rusti- pastebinned 7 lines of output: http://ix.io/8Im
[08:58:38] <pcmattman> dbaupp: same codepoint or different codepoints?
[08:58:50] <Luqman> haha >> unresolved name `ä`. Did you mean `ä`
[08:59:09] <dbaupp> pcmattman: the first one (of the second) is a single codepoint ä, while the second is a + combining diaresis
[08:59:11] <eddyb9> dbaupp: no, I mean, you can have two codepoints a, and the dots, and...
[08:59:16] <pcmattman> right, cool
[08:59:18] <mcpherrin> rusti: let area = 𝜋 * r²
[08:59:21] -rusti- pastebinned 6 lines of output: http://ix.io/8In
[08:59:32] <dbaupp> eddyb9: I don't understand... ?
[08:59:44] <eddyb9> dbaupp: hmpf, the combining diaresis doesn't work here
[08:59:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:59:51] <eddyb9> I thought you did it wrong
[08:59:56] <dbaupp> Luqman: that error message has so many bugs :P (e.g. the span is wrong)
[08:59:59] <mib_3ru5p0> hi! wanted to ask, can you have recursive closures in rust? what i'm trying to do is https://www.refheap.com/20092 and the `aux` is not being recognized inside the closure
[09:00:25] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:00:26] <dbaupp> (fwiw, https://github.com/mozilla/rust/issues/8706 )
[09:00:27] <pcmattman> so I think the answer to my question is "no, there's no normalisation, and therefore more or less identical-looking glyphs with different code points can be used to write horrific code" :)
[09:00:27] <eddyb9> rusti: let x² = 4; x²
[09:00:42] <eddyb9> pcmattman: yay obfuscation
[09:00:48] <pcmattman> (which klutzy pointed out is in #2253)
[09:00:50] <eddyb9> no need to use chinese :P
[09:00:50] <dbaupp> pcmattman: "there's no normalisation yet, ..."
[09:01:01] <Heather> wait
[09:01:02] <pcmattman> right, yet
[09:01:05] <eddyb9> wtf, rusti?
[09:01:09] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:01:14] <Heather> rust support utf8 symbols from out the box?
[09:01:18] <dbaupp> mib_3ru5p0: not directly like that
[09:01:20] <dbaupp> Heather: yes
[09:01:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:01:34] <Heather> dbaupp it's really awesome and also perlish :D
[09:01:49] <dbaupp> mib_3ru5p0: the variables declared by a let are only "available" after the entire let statement
[09:01:59] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[09:02:07] <dbaupp> Heather: well, it's not the entire unicode range for identifiers
[09:02:28] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:02:34] * strcat sighs
[09:02:36] <mib_3ru5p0> dbaupp: is there a solution for this? i mean, i can't declare a normal function in this case b/c it won't capture anything from the outer fn
[09:02:37] <eddyb9> where do sub/sup demical digits go in?
[09:02:42] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:02:43] <eddyb9> strcat: rusti, too, pls
[09:02:45] <eddyb9> derp
[09:02:49] <eddyb9> rusti: let x² = 4; x²
[09:02:52] <strcat> rusti reconnects, in theory
[09:02:57] -rusti- failed to pastebin 6 lines of output
[09:03:05] <eddyb9> pfffft
[09:03:05] <kimundi> Heather: It only those unicode codepoints that are regular alphabets in some language.... which is quite a lot still.
[09:03:06] <dbaupp> mib_3ru5p0: yes, give me a second
[09:03:11] <strcat> except when python throws inexplicable exceptions
[09:03:13] <eddyb9> rusti: let x² = 4; x²
[09:03:15] -rusti- pastebinned 6 lines of output: http://ix.io/8Io
[09:03:29] <pcmattman> strcat: inexplicable exceptions are the best kind!
[09:03:29] <Heather> kimundi I see...
[09:03:33] <eddyb9> strcat: use node.js :P
[09:03:51] <strcat> the important part is in C anyway
[09:04:11] <kimundi> Which means you can have greek math symbols, but not PILE_OF_POO :P
[09:04:13] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Connection reset by peer)
[09:04:18] <Heather> dbaupp can I write something alike https://github.com/Heather/emo/blob/master/emo.fs :D
[09:04:53] <kimundi> dbaupp: I reworked the bool PR btw
[09:04:53] <Heather> rusti: let ☠ = 4; ☠
[09:04:55] -rusti- pastebinned 6 lines of output: http://ix.io/8Iq
[09:05:06] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[09:05:20] <Heather> 01rusti: let x☠ = 4; x☠01
[09:05:43] <kimundi> rusti: let ب_ب = 42; ب_ب
[09:05:44] -rusti- 42
[09:06:04] *** Quits: eddyb9 (eddy@42C90577.8D069E5A.4A6B528C.IP) (Ping timeout)
[09:06:17] <Heather> rusti: let z✞ = 5; z✞
[09:06:26] -rusti- failed to pastebin 6 lines of output
[09:06:34] <Heather> ...
[09:06:37] <strcat> stupid ix.io
[09:06:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:06:59] <Heather> I killed it :(
[09:07:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:07:08] <strcat> no I just switched it back to sprunge
[09:07:16] <Heather> strcat ah, good
[09:07:25] <strcat>     r = requests.post("http://sprunge.us", {"sprunge": b"".join(lines)})
[09:07:36] <strcat> alternative suggestions welcome ;p, but most seem to ban you if you keep posting
[09:07:54] <dbaupp> mib_3ru5p0: sorry, I can't get it to work very well at all :( you may just have to use a normal `fn` rather than a closure for now
[09:08:03] <strcat> rusti: 5+++++++++
[09:08:04] -rusti- pastebinned 6 lines of output: http://sprunge.us/gSdj
[09:08:11] <strcat> sprunge is so much faster too
[09:08:21] <dbaupp> strcat: hosting the last 100 (or so) locally?
[09:08:28] * dbaupp shrugs
[09:08:46] <strcat> I could put them on my paste.xinu.at account ;s
[09:09:02] <mcpherrin> rusti: P̯͍̭O̚​N̐Y̡H̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ  = 1; P̯͍̭O̚​N̐Y̡H̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ 
[09:09:02] -rusti- pastebinned 6 lines of output: http://sprunge.us/eGdV
[09:09:25] <mcpherrin> rusti: aP̯͍̭O̚​N̐Y̡H̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ  = 1; aP̯͍̭O̚​N̐Y̡H̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ 
[09:09:26] -rusti- pastebinned 6 lines of output: http://sprunge.us/fAUJ
[09:09:40] <pcmattman> oh goodness what have I started
[09:09:49] <strcat> rusti: 2
[09:09:49] -rusti- 2
[09:09:54] <Ms2ger> Ahem.
[09:09:56] <mib_3ru5p0> dbaupp: that's too bad but thanks for sorting that out. is there a way i could pass the parameter values from the outer `max_idx` to `aux` if `aux` is a normal function?
[09:10:06] <strcat> that's cool, weechat actually supports proper unicode now.
[09:10:12] <mcpherrin> rusti: aH̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ  = 1; aH̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ 
[09:10:13] -rusti- pastebinned 10 lines of output: http://sprunge.us/eCjb
[09:10:18] <dbaupp> mib_3ru5p0: yeah, as explicit parameters
[09:10:24] <KokaKiwi> mcpherrin: You broke my weechat :(
[09:10:24] <strcat> it used to only support a subset of ucs4 and discarded combining characters :(
[09:10:37] <pcmattman> mcpherrin: you forgot the let!
[09:10:42] <strcat> KokaKiwi: upgrade ;p
[09:10:49] <mcpherrin> rusti: let aH̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ  = 1; aH̸̡̪̯ͨ͊̽̅̾̎Ȩ̶̧̨̬̩̱̹̭̯̾͛ͪ̈́̀́ͧ̾ͬ͘C̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ 
[09:10:50] -rusti- 1
[09:10:54] <mcpherrin> yay :)
[09:10:57] <dbaupp> mib_3ru5p0: you could also have a "manual" closure, by defining a struct where the fields are the things you want captured, and using a method on that struct as your function
[09:11:04] <dbaupp> mcpherrin: well done
[09:11:26] <KokaKiwi> strcat: I have the dev version of Weechat (and I don't like irssi :( )
[09:11:29] <pcmattman> mcpherrin: I kind of both like and hate that that works.
[09:11:31] <tiffany> hexchat renders that really oddly
[09:11:37] <strcat> KokaKiwi: oh, maybe it's a bug in trunk then
[09:11:38] <tiffany> trying to select it changes what is displayed
[09:11:39] <strcat> *shrug*
[09:11:56] <dbaupp> mib_3ru5p0: in this case, you'd pass `a` as either &~[T] or &[T]
[09:12:04] <strcat> KokaKiwi: my upgrade I meant use the latest stable, because there was no problem here ;p
[09:12:43] <Heather> )
[09:12:44] <KokaKiwi> strcat: Oh, maybe my encoding settings aren't good too :o
[09:12:45] <mib_3ru5p0> dbaupp: that seems very massive, compared to e.g. ocaml (i'm porting a linalg package from that and I'd like to stick close to the recursive algorithms there just to try how that sort of thing works on rust). could you show how to do that via explicit params?
[09:13:01] <mcpherrin> pcmattman: I hosed my terminal emulator a few times trying to get those diacritics on there :P
[09:13:04] <KokaKiwi> (My terminal is in UTF-8 normall)
[09:13:07] <KokaKiwi> normally*
[09:13:34] <pcmattman> mcpherrin: that reminds me of the unicode which was found to break various programs on OSX
[09:13:34] <dbaupp> mib_3ru5p0: `fn aux(a: &[T], m: uint, c: uint) -> uint { ... aux(a, m, c + 1) ... }`
[09:13:46] <dbaupp> mib_3ru5p0: the first call would be `aux(a, i - 1, i)`
[09:13:56] <pcmattman> at work it got pasted into IRC, suddenly all the OSX users' clients crashed
[09:14:02] *** Joins: Blub\w (wry@moz-93AC4665.wireless.dyn.drei.com)
[09:14:16] <mcpherrin> pcmattman: I considered pasting it here :P and did see it pasted to #ruby
[09:14:29] <mcpherrin> ruby was hilarious, 3/4 of the channel quit
[09:15:02] <pcmattman> I also put it into my terminal to test another piece of software and discovered the terminal emulator handled it as a paste, but not when loaded out of shell history
[09:15:12] <strcat> pcmattman: it also prevented OS X devices from using wifi, if you exposed it as an SSID
[09:15:40] <mib_3ru5p0> dbaupp: oh, right, *that*. do I have to re-declare the <T> for the inner fn as well?
[09:15:41] <pcmattman> oh yeah, I remember reading that
[09:16:02] <mcpherrin> I should put it in my email signature.  Find out if anybody at work hasn't upgraded :-P
[09:16:06] <mib_3ru5p0> as in, do i have to do `aux<T: Num>` or can I just stick to `aux`?
[09:16:13] <dbaupp> mib_3ru5p0: oh, yes
[09:16:22] <dbaupp> no scoped type parameters
[09:18:06] *** Quits: eevee (eevee@moz-B20A74DC.evrt.wa.frontiernet.net) (Ping timeout)
[09:18:21] <kimundi> strcat: How about just adding a list of pastebin sites, with rusti trying each one till it finds one that will work :P
[09:18:53] *** Joins: Boreeas (SirWelling@moz-B218DA2C.triple-a.uni-kl.de)
[09:21:04] <kimundi> Well, we kinda have scoped type parameters with impl blocks
[09:22:05] <dbaupp> kimundi: well, yeah, but not for inner items
[09:23:28] *** Joins: eevee (eevee@moz-B20A74DC.evrt.wa.frontiernet.net)
[09:25:16] <Boreeas> The documentation in std::str::StrSlice says that byte_iter() returns ByteIterator<'self>, but when printing the result of byte_iter(), I get a std::iter::Map<,&u8,u8,std::vec::VecIterator<,u8>>{iter: std::vec::VecIterator<,u8>{ptr: (0x7f476441f170 as *()), end: (0x7f476441f174 as *()), lifetime: None}, f: fn(&u8) -> u8}
[09:25:38] <Boreeas> Am I looking at this wrong?
[09:27:38] <strcat> dbaupp: what's going to happen with check-fast tests using feature? ;\
[09:29:06] *** Quits: mib_3ru5p0 (Mibbit@6EB9D10.20CC70E6.92EB3D3E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:30:44] <kimundi> Boreeas: ByteIterator is a typedef
[09:31:01] <kimundi> Boreeas: If you click on it in the documentation, you'll see the definition
[09:31:44] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[09:32:29] <utkarsh> I'm getting this error https://gist.github.com/utkarshkukreti/1e8668cf427ae6f27858 when building https://github.com/utkarshkukreti/parley.rs
[09:32:42] <utkarsh> The only place in the source where I could find this error message is this: https://github.com/mozilla/rust/blob/master/src/librustc/util/ppaux.rs#L449
[09:32:57] <utkarsh> Should I report this as a bug?
[09:34:03] <kimundi> utkarsh: The fact that it prints 'BUG[0u]' as a type doesn't sound good xD
[09:34:10] <kimundi> As in, I think this is a compiler bug
[09:34:42] <kimundi> Report it
[09:34:50] <utkarsh> Alright, thanks
[09:35:44] *** Joins: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net)
[09:35:44] *** ChanServ sets mode: +o pnkfelix
[09:36:00] <kimundi> "// This should not happen ..." - well apparently it did! :D
[09:36:24] <Luqman> oops :P
[09:39:00] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:40:55] * pcmattman loves comments like that
[09:41:08] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[09:42:23] *** Quits: autra (augustin@moz-2EA7A1DF.fullsix.com) (Quit: by!)
[09:42:26] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Connection reset by peer)
[09:42:32] *** Joins: autra (augustin@moz-2EA7A1DF.fullsix.com)
[09:42:46] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[09:43:10] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Connection reset by peer)
[09:43:26] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[09:44:53] <dbaupp> strcat: xfailed
[09:45:20] <dbaupp> strcat: (well, xfail-fast'd)
[09:45:52] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[09:53:16] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[09:55:13] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[09:55:49] *** Joins: ash_136 (ashvini@88890FB4.767E090D.1FAF9555.IP)
[09:55:58] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:56:14] <jdm> rusti: match 1 { 1 => { println!("first") } _ => { println!("second") }
[09:56:15] -rusti- pastebinned 9 lines of output: http://sprunge.us/HSfO
[09:56:24] <jdm> rusti: match 1 { 1 => { println!("first") } _ => { println!("second") } }
[09:56:25] -rusti- first
[09:56:25] -rusti- ()
[09:56:28] <jdm> rusti: match 2 { 1 => { println!("first") } _ => { println!("second") } }
[09:56:29] -rusti- second
[09:56:29] -rusti- ()
[09:56:32] <jdm> ash_136: ^
[09:58:04] <Heather> rusti: let ♥ = 1;
[09:58:04] -rusti- pastebinned 6 lines of output: http://sprunge.us/MAEh
[09:59:12] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Input/output error)
[10:00:28] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[10:01:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:01:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:05:23] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[10:06:44] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Client exited)
[10:10:07] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[10:11:30] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[10:11:50] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:14:33] <Heather> how to shell execute?
[10:15:44] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[10:17:10] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:17:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:17:48] <pnkfelix> Heather: What are you asking for more specifically?
[10:18:20] <Ms2ger> run::process_output, maybe?
[10:22:24] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[10:23:20] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:23:25] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[10:24:05] *** Joins: oberstet (quassel@moz-95821774.dynamic.mnet-online.de)
[10:24:20] <Heather> pnkfelix Ms2ger no, process_output is different, it shows me execution result only in final, I want to see whole process as in shell
[10:25:26] <Heather> python and C# got switches for shell exection as argument
[10:25:31] <Heather> boolean
[10:25:59] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[10:26:15] <pnkfelix> Heather: have you looked at the other functions in `std::run` yet?  E.g. Process::new ?
[10:26:41] <Heather> pnkfelix not
[10:27:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:27:26] <dbaupp> Heather: http://static.rust-lang.org/doc/master/std/run/index.html, http://static.rust-lang.org/doc/master/std/run/struct.Process.html
[10:28:23] <dbaupp> you probably want to create a ProcessOptions that maps stdout/stderr to their "normal" locations (i.e. file-descriptor 1 and 2) and use that with Process::new
[10:29:43] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:31:03] *** Quits: Boreeas (SirWelling@moz-B218DA2C.triple-a.uni-kl.de) (Ping timeout)
[10:31:46] *** kimundi is now known as zz_kimundi
[10:32:06] <SimonSapin> Hi. What’s the replacement for fmt!("%?", anything) ?
[10:32:10] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[10:32:43] <Heather> SimonSapin 01format!("{:?}", anything) ?01
[10:32:56] <SimonSapin> thanks Heather 
[10:33:21] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[10:33:39] <Heather> 01SimonSapin but there is also 01format!("{}", anything) ? for smart auto-detection
[10:35:01] <dbaupp> (well, trait-based formatting: anything that implements the std::fmt::Default trait can be used with {})
[10:35:07] <SimonSapin> Heather: what’s smart auto-detection? I tried something similar with println!() and got "failed to find an implementation of trait std::fmt::Default"
[10:38:02] *** Joins: dreuge (Mibbit@moz-ACD5F5F6.dcs.shef.ac.uk)
[10:40:15] <dreuge> Hi, I've been following the rust development from afar, and I'm very excited about it. However, I read somewhere that it's not possible in rust to have a heterogeneous vector without using garbage collection. Is this true? Are there any plans to work around it?
[10:40:19] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Ping timeout)
[10:40:28] <dbaupp> No, it's not true
[10:41:05] <dbaupp> you can use owned pointers (that is, ~), which are essentially the same as C++'s unique_ptr (or a paired malloc/free in C)
[10:41:27] <dbaupp> you do need an allocation, but this allocation doesn't have to be a garbage collected allocation
[10:41:28] <strcat> dreuge: by a heterogenous vector you mean a vector with various types of objects?
[10:41:33] <dreuge> ahh, well that resolves that rather easily =)
[10:41:33] <strcat> rust has sum types
[10:41:44] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[10:41:59] *** Quits: Ms2ger (Ms2ger@moz-57A277A9.ugent.be) (Quit: bbl)
[10:42:04] <dbaupp> (I was referring to "trait objects", btw. what strcat is saying allows you to avoid the allocations entirely.)
[10:42:10] <strcat> you could also use traits as boxed objects, but neither forces gc
[10:42:29] <strcat> rust doesn't actually have a gc implemented atm anyway
[10:42:38] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[10:43:25] <dreuge> Oh I see
[10:44:24] <dreuge> Slide 41 of this pdf catamorphism.org/Writing/Rust-Tutorial-tjc.pdf seemed to imply that, so I got confused
[10:44:46] <dreuge> Well that's awesome! =)
[10:44:51] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:44:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:44:58] <strcat> rusti: enum Foo { Arr(~[Foo]), Num(f64), Bool(bool) } Arr(~[Num(5.5), Num(2.2), Bool(true)])
[10:45:08] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[10:45:11] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:45:36] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:45:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:45:57] <dreuge> strcat: aren't @ pointers garbage collected?
[10:45:59] <strcat> rusti: enum Foo { Arr(~[Foo]), Num(f64), Bool(bool) } Arr(~[Num(5.5), Num(2.2), Bool(true)])
[10:46:00] -rusti- Arr(~[Num(5.5f64), Num(2.2f64), Bool(true)])
[10:46:07] <strcat> dreuge: only in theory
[10:46:28] <strcat> rusti: enum Foo { Arr(~[Foo]), Num(f64), Bool(bool) } Arr(~[Num(5.5), Num(2.2), Arr(~[Bool(false)]), Bool(true)])
[10:46:29] -rusti- Arr(~[Num(5.5f64), Num(2.2f64), Arr(~[Bool(false)]), Bool(true)])
[10:47:07] <dbaupp> dreuge: ~Drawable, or &Drawable would also be valid there
[10:47:17] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[10:47:48] <dreuge> So, the same way as in Haskell then?
[10:47:50] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[10:48:04] <strcat> dreuge: enums are sum types, like 'data' in haskell
[10:48:13] <dreuge> ahh
[10:48:40] <strcat> dreuge: traits can be used like type classes (always static dispatch in rust), or you can use the trait itself as an object for dynamic dispatch
[10:48:49] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[10:48:56] <strcat> trait objects are *always* boxed in ~/&/@
[10:48:58] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[10:49:00] <strcat> since the size varies per type
[10:49:11] <strcat> enums are just plain old unboxed types
[10:49:41] <strcat> rusti: enum Foo { A(int), B(int), C(f64), D(f32) } std::mem::size_of::<Foo>()
[10:49:42] -rusti- 16u
[10:49:54] <strcat> rusti: enum Foo { A(i16), B(u32), C(f32), D(f32) } std::mem::size_of::<Foo>()
[10:49:55] -rusti- 16u
[10:50:13] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[10:50:24] <strcat> er, that was supposed to be 8, but the PR making the discriminant only as large as needed isn't merged yet...
[10:50:40] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:51:01] <dbaupp> strcat: didn't you delay it with your immediacy changes? :P
[10:51:10] <strcat> dbaupp: yes
[10:52:05] <dreuge> sorry, why 8? the largest type in the second example is 4, no?
[10:52:13] <strcat> yeah and then the discriminant
[10:52:18] <dreuge> ahh
[10:52:19] <strcat> and the padding
[10:52:19] <dreuge> of
[10:52:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[10:54:00] <dreuge> so, if @ pointers don't use garbage collection atm, how are they implemented?
[10:54:41] <strcat> dreuge: implicit reference counting and cycle clean up at the end of the task - they are meant to be gc'ed
[10:54:50] <strcat> fwiw, they are now hidden behind an experimental feature flag
[10:55:06] <dbaupp> rusti: @1
[10:55:07] -rusti- @1
[10:55:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[10:55:16] <dbaupp> (you added that feature to rusti?)
[10:55:23] <strcat> no it needs to land still ;p
[10:55:25] <strcat> from the snapshot
[10:55:31] <dbaupp> oh, right.
[10:55:40] * dbaupp "loves" these snapshot dances sometimes
[10:55:55] <dbaupp> have you got that one in the queue yet?
[10:56:16] <dreuge> isn't that a form of garbage collection?
[10:56:41] <strcat> dreuge: you could call it that, but it's not a garbage *collector*
[10:56:48] <strcat> dreuge: std::rc is a 'proper' reference counted type
[10:57:04] <strcat> it still has move semantics, like a normal type with a destructor
[10:57:21] <strcat> every reference count is an explicit method call, splitting the ownership
[10:57:38] <strcat> ends up freeing much sooner than the current crappy @ implementation, and it's much faster
[10:57:46] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:58:40] <strcat> anyway the @ syntax will likely be removed
[10:59:14] <strcat> in favour of Gc
[10:59:18] <dbaupp> strcat: do you have hard numbers for how much faster?
[10:59:27] <dbaupp> (Rc vs. @, that is)
[10:59:38] <strcat> dbaupp: well I know how they compile down, precisely
[10:59:44] <strcat> { count, object }
[10:59:46] <strcat> vs.
[11:00:48] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:01:00] <strcat1> { { count, tydesc, next, prev }, object }
[11:01:09] <strcat1> every time you allocate a @, it has to link it into the doubly-linked list of them
[11:01:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:37] <strcat1> and by-value for @ will do a refcount, so it will never be freed before all the bindings it was ever used with go out of scope
[11:01:41] <strcat1> and you have refcounts everywhere.
[11:01:54] *** strcat1 is now known as strcat
[11:02:01] <strcat> dbaupp: Rc is nearly as fast as ~
[11:02:22] <strcat> Rc::new(x) vs. ~x where you never call clone on either, the Rc just has the 1-word header overhead
[11:02:57] <strcat> when you do call clone, it does a refcount (and a paired refcount decrement when it's gone) instead of allocating a new one
[11:03:21] <strcat> it's only with the mutable ones that you end up also paying the dynamic check overhead ;p
[11:03:28] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[11:03:30] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[11:05:23] <dbaupp> yeah, that's much nicer... now we just need the placement-new & the Pointer traits and Rc will be first-class.
[11:05:50] <strcat> I don't think placement new really solves it
[11:05:58] <strcat> unless it's usable with any expression
[11:06:03] <strcat> unlike C++
[11:06:17] <strcat> once functions could replace placement new
[11:06:45] <dbaupp> I should've used quotes, but yes, something that gives us "write directly to pre-allocated memory"
[11:06:52] <strcat> although it would be hard to deal with failure
[11:07:01] <dbaupp> yup
[11:07:26] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[11:07:26] <strcat> you'd have to make sure the allocation would get cleaned up but not try destroying the inner part
[11:07:48] <dbaupp> more traits...
[11:08:17] <dbaupp> unsafe fn nonvalid_interior_drop() or something
[11:08:28] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[11:08:38] * dbaupp thinks this might be very complicated...
[11:09:04] <strcat> it's not that bad, you just need a malloc'ed ptr wrapper
[11:09:07] <strcat> with a dtor
[11:09:26] <strcat> you call a function and write the result to it
[11:09:38] <dbaupp> and unwrap it into a *
[11:09:41] <dbaupp> hm, yeah, that works
[11:09:42] <strcat> yup
[11:10:06] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[11:11:12] <strcat> dbaupp: the hard part will be how a GC exposes rooting APIs for stuff like this ;\
[11:11:22] <strcat> since you can put a managed ptr inside something like this
[11:11:26] <strcat> or inside a custom vector impl
[11:14:04] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[11:15:12] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[11:15:43] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[11:15:46] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:15:46] *** ChanServ sets mode: +o jdm
[11:15:58] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[11:16:49] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[11:17:02] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[11:17:24] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Input/output error)
[11:17:50] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[11:18:08] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:18:42] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[11:19:28] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[11:19:56] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:21:21] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:26:20] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[11:28:58] *** Joins: Boreeas (SirWelling@moz-8F10D11.wohnheim.uni-kl.de)
[11:32:02] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[11:33:45] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[11:34:17] *** Joins: maik (maik@moz-2ED290F4.dip0.t-ipconnect.de)
[11:34:42] <maik> has anyone ported a db client to rust?
[11:35:54] <dbaupp> maik: google says https://github.com/sfackler/rust-postgres and https://github.com/linuxfood/rustsqlite
[11:36:45] <dbaupp> also, http://hiho.io/rust-ci/ is a little bit like a package listing now (and it even shows which packages build with current master)
[11:38:05] <maik> dbaupp, ah cool, didn't know about that
[11:38:41] *** Joins: dissimile (dissimile@moz-141B07E7.static.as13285.net)
[11:42:17] *** Quits: dissimile (dissimile@moz-141B07E7.static.as13285.net) (Quit: ttfn)
[11:44:06] *** Joins: alonlevy (alon@71905AFE.57E8CAEB.4966A68C.IP)
[11:44:24] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[11:44:33] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[11:45:14] *** Quits: alonlevy (alon@71905AFE.57E8CAEB.4966A68C.IP) (Connection reset by peer)
[11:46:47] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:48:09] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[11:49:44] *** Quits: Boreeas (SirWelling@moz-8F10D11.wohnheim.uni-kl.de) (Client exited)
[11:50:04] *** Joins: mib_07xyyk (Mibbit@CB8E9405.D48FACBD.57DA49D3.IP)
[11:50:32] *** Quits: mib_07xyyk (Mibbit@CB8E9405.D48FACBD.57DA49D3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:52:05] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[11:53:19] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[11:56:39] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[11:57:24] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[12:00:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:01:26] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:01:26] *** ChanServ sets mode: +o jdm
[12:03:53] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[12:05:12] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[12:10:53] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[12:10:55] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:10:56] *** ChanServ sets mode: +o jdm
[12:11:33] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[12:13:07] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[12:15:10] *** Quits: Blub\w (wry@moz-93AC4665.wireless.dyn.drei.com) (Quit: back in a bit)
[12:16:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:17:47] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[12:17:52] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[12:24:08] <Heather> how to simply loop something n times?
[12:24:12] <Heather> for x in range ?
[12:24:41] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[12:25:13] <Heather> oh there is do 100.times |num| {
[12:25:30] <dbaupp> http://static.rust-lang.org/doc/master/tutorial-container.html#for-loops
[12:25:50] <sp3d> last I saw recommended was "for _ in range"
[12:25:55] *** zz_kimundi is now known as kimundi
[12:26:18] <Heather> 01 100.times |num| {01 deprecated ?
[12:27:07] <dbaupp> closures are much harder for LLVM to optimise than `for` loops
[12:29:01] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[12:29:30] <Heather> dbaupp I see...
[12:29:56] <eddyb> rusti: let $foo = 2; $foo
[12:29:57] -rusti- pastebinned 6 lines of output: http://sprunge.us/SGjj
[12:30:22] <eddyb> I know it has a meaning in macros, but $ could be useful sometimes...
[12:30:32] <eddyb> (not as a sigil, this isn't PHP)
[12:31:55] *** Joins: alonlevy (alon@moz-29263FE5.red.bezeqint.net)
[12:31:59] *** Joins: kermi (Mibbit@E64CF1B7.AF1E8F54.5921209C.IP)
[12:33:30] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[12:36:03] *** bhearsum|afk is now known as bhearsum
[12:37:47] <Heather> dbaupp 01may you run rust dance?01
[12:37:50] <Heather> rusti: dance
[12:37:51] -rusti- pastebinned 7 lines of output: http://sprunge.us/bihI
[12:38:02] <Heather> dbaupp I need inline animation set )
[12:38:31] <dbaupp> huh?
[12:38:46] <Heather> dbaupp there was <(o_o)< ... etc
[12:38:54] <dbaupp> oh
[12:39:03] <dbaupp> rust-buildbot: dance
[12:39:04] <rust-buildbot> <(^.^<)
[12:39:05] <rust-buildbot> <(^.^)>
[12:39:06] <rust-buildbot> (>^.^)>
[12:39:06] <rust-buildbot> (7^.^)7
[12:39:08] <rust-buildbot> (>^.^<)
[12:39:13] <Heather> dbaupp thanks )
[12:40:52] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[12:41:18] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[12:41:50] <Heather> dbaupp https://github.com/Heather/Mirana/blob/master/src/Butterfly.rs
[12:41:51] *** Joins: jamil_1 (kvirc@24EAB10E.6E6A72E7.E86700E.IP)
[12:43:32] <dbaupp> haha awesome!
[12:43:57] <Heather> dbaupp >_< it works fine
[12:44:14] <Heather> dbaupp also need add animation speed as paramenter
[12:45:09] *** kimundi is now known as zz_kimundi
[12:45:40] *** Joins: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP)
[12:45:54] <eddyb> Heather: console gif pls :D
[12:46:23] <Heather> eddyb for what ) git->clone && make, it's safe to run
[12:46:40] <eddyb> Heather: but... lazy... :P
[12:46:56] <Heather> eddyb and I never used to create gifs
[12:47:29] <eddyb> I think they're online tools that take a few static images and make a gif
[12:47:34] <eddyb> *there are
[12:47:48] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[12:47:59] <Heather> eddyb nono ) better clone & make )
[12:50:04] *** Joins: jensnockert (jensnocker@moz-F4150BAB.wireless.lu.se)
[12:51:06] *** Joins: themgt (themgt@8DD3FFCF.E4336CA7.D5E2EC3A.IP)
[12:51:19] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[12:51:24] <eddyb> and with, for example, KSnapshot, you can screenshot the same rectangular region multiple times, you don't even need to have the thing animated....
[12:52:19] <bjz_> Heather: why the &"..."?
[12:52:22] *** Quits: maik (maik@moz-2ED290F4.dip0.t-ipconnect.de) (Connection reset by peer)
[12:52:29] <Heather> eddyb it will be truly easier to compile ) you even can grab this simple file and add fn main with do rustbuildbotdance { io::stdin().read_line(); }
[12:52:33] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[12:52:49] <Heather> bjz_ else way it will be array of static strings
[12:52:53] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[12:53:03] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[12:53:22] <bjz_> Heather: oh does that kick in the inference?
[12:53:32] <Heather> bjz_ hm... maybe I will be fine with array of static strings also :S
[12:54:10] <Heather> bjz_ what ? static strings? :) I guess no
[12:54:27] <Heather> bjz_ but just & looks more general
[12:54:34] <bjz_> rusti: fn print_strs(strs: &[&str]) { for s in strs.iter() { print(*s) } { print_strs(["a", "bb", "c"]);
[12:54:35] -rusti- pastebinned 12 lines of output: http://sprunge.us/ieCW
[12:54:51] <bjz_> rusti: fn print_strs(strs: &[&str]) { for s in strs.iter() { print(*s) } } print_strs(["a", "bb", "c"]);
[12:54:52] -rusti- abbc()
[12:54:59] <bjz_> ^ Heather
[12:55:09] <bjz_> no need for the &
[12:55:31] <dbaupp> &"foo" and "foo" are literally identical (afaik)
[12:55:33] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:55:46] <bjz_> dbaupp: yeah I thought so
[12:56:03] <Heather> r01usti: fn print_strs(strs: &[&str]) { for s in strs.iter() { print(*s) } } let z = ["a", "bb", "c"]01; print_strs(z);
[12:56:15] * bjz_ whishes for a ghci-like `:t` thingy
[12:56:27] <dbaupp> Heather: anyway, why would being an array of static strings be bad?
[12:56:33] <Heather> damn colors :S
[12:56:39] <dbaupp> bjz_: `let () = <expression>;`
[12:57:15] <bjz_> rusti: let () = &"hi";
[12:57:16] -rusti- pastebinned 7 lines of output: http://sprunge.us/MNYD
[12:57:20] <bjz_> heh
[12:57:20] <Heather> dbaupp what if I will want to pass & string to such array ?
[12:57:38] <bjz_> dbaupp: haha, that's cute
[12:57:43] <Heather> dbaupp ok, it's time to run, see you
[12:57:43] <dbaupp> Heather: I don't understand the question
[12:57:44] <bjz_> rusti: let () = "hi";
[12:57:44] -rusti- pastebinned 7 lines of output: http://sprunge.us/SJPX
[12:57:47] <dbaupp> bye
[12:57:56] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[12:57:58] <bjz_> Heather: o/
[12:58:07] <dbaupp> bjz_: oh, it is different...
[12:58:27] <bjz_> dbaupp: so &"..." is &str, "..." is &'static str
[12:58:32] <dbaupp> apparently
[12:58:41] <bjz_> :)
[12:58:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: Textual IRC Client: www.textualapp.com)
[13:00:41] <eddyb> bjz_: :t should be implementable in Rust
[13:01:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:01:52] <bjz_> eddyb: no, but we have 'let () = ...;'!
[13:02:10] <eddyb> what's with that?
[13:02:18] <dbaupp> error messages!
[13:02:24] <bjz_> yes!
[13:02:49] <dbaupp> eddyb: it's doing a pattern match on () and most expressions (of interest) don't have type (), so the compiler complains about mismatched types
[13:03:07] <dbaupp> also works as e.g. `let a: () = ...;`
[13:03:23] <dbaupp> (or `let _: () = ...` to avoid the warnings)
[13:03:46] <eddyb> so does it do antyhing useful?
[13:03:51] <bjz_> no
[13:03:59] <bjz_> but it shows you the type
[13:04:04] <dbaupp> which is pretty useful
[13:04:06] <eddyb> ah lol
[13:04:06] <bjz_> which is what I wanted
[13:04:09] <bjz_> :)
[13:04:15] <bjz_> so yes, useful!
[13:04:24] <eddyb> bjz_: but... you can do it (kinda) at runtime :P
[13:04:39] <eddyb> rusti: format!("{?:}", Option(Option(7u)))
[13:04:57] <eddyb> oh great it's dead
[13:05:31] <bjz_> strcat's laptop has gone to sleep or something :P
[13:05:43] <eddyb> bjz_: no, his internet has been shitty lately :(
[13:05:53] <bjz_> oh
[13:05:58] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[13:06:12] <FreeFull> rust-buildbot: let () = println("Moo"); ()
[13:06:26] <dbaupp> fwiw, the tydesc contains a string with the type name too
[13:06:29] <eddyb> FreeFull: *oops*
[13:06:44] <dbaupp> so you can actual query a "real" representation at runtime
[13:06:47] <FreeFull> Ok, that's not the right bot renamed then
[13:06:48] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Quit: victorporof)
[13:06:53] <eddyb> dbaupp: std::repr and {:?}
[13:07:36] <dbaupp> eddyb: kinda, but not entirely
[13:08:26] <bjz_> dbaupp: we need a fn ty_str<T>(_: &T) { ... } ?
[13:09:06] <dbaupp> fn ty_str<T>(_: &T) -> &'static str { unsafe { (*get_tydesc::<T>()).name } }
[13:09:33] <dbaupp> (std::unstable::intrinsics::get_tydesc, that is.)
[13:09:43] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[13:11:24] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[13:12:14] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[13:12:59] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[13:13:15] *** Joins: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:13:30] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[13:13:56] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[13:13:59] *** jorendorff_away is now known as jorendorff
[13:14:42] *** Quits: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[13:17:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:18:10] *** zz_kimundi is now known as kimundi
[13:18:23] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[13:22:23] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[13:22:43] *** Parts: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net) ()
[13:22:53] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[13:23:34] *** Joins: jeffm (Mibbit@moz-BC76AEE3.no.no.cox.net)
[13:25:07] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:25:31] <eddyb> rusti: format!("{?:}", Option(Option(7u)))
[13:25:32] -rusti- pastebinned 7 lines of output: http://sprunge.us/WMOM
[13:25:49] <eddyb> rusti: format!("{:?}", Option(Option(7u)))
[13:25:50] -rusti- pastebinned 18 lines of output: http://sprunge.us/aBEU
[13:26:03] <eddyb> rusti: format!("{:?}", Some(Some(7u)))
[13:26:03] -rusti- ~"Some(Some(7u))"
[13:26:06] <eddyb> (derp)
[13:26:16] <eddyb> rusti: format!("{:?}", print)
[13:26:17] -rusti- ~"fn(&str)"
[13:26:37] <eddyb> bjz_: this is pretty close
[13:27:10] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[13:28:42] <dbaupp> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } (ty_str(&1i), ty_str(&Some(Some(~"foo"))))
[13:28:43] -rusti- ("int", "std::option::Option<std::option::Option<~str>>")
[13:28:52] <eddyb> :D
[13:28:59] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Client exited)
[13:29:17] <dbaupp> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } ty_str(&(Some(Some(~"foo"))), ~["foo", "bar"]))
[13:29:18] -rusti- pastebinned 6 lines of output: http://sprunge.us/QdKU
[13:29:20] <eddyb> rusti: match Some(Some(7u)) {Some(Some(i)) => i, _ => 0}
[13:29:20] -rusti- 7u
[13:29:35] <dbaupp> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } ty_str(&(Some(Some(~"foo")), ~["foo", "bar"]))
[13:29:36] -rusti- "(std::option::Option<std::option::Option<~str>>,~[&'static str])"
[13:29:41] <kimundi> ... reading backlog
[13:29:48] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:29:57] <kimundi> "foo" is equal to &"foo"
[13:30:02] <kimundi> both have 'static lifetime
[13:30:09] <dbaupp> why do they print differently then?
[13:30:32] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[13:30:59] <kimundi> But the the &str in &[&str] can be both 'static and some other lifetimes, as the lifetimes just get conflated to the shortest common one
[13:31:04] <dbaupp> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } ty_str(&("foo", &"bar"))
[13:31:05] -rusti- "(&'static str,&str)"
[13:31:12] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[13:31:21] <kimundi> Ah, becuase they _have_ different type constructors
[13:31:26] <kimundi> Er, descriptors
[13:31:31] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:31:35] <kimundi> And I thing &'static str is sendable
[13:32:05] <dbaupp> any &'static is sendable
[13:32:08] *** Joins: ksf_ (ksf@moz-348A346D.adsl.hansenet.de)
[13:32:08] *** Quits: ksf (ksf@moz-6A1B6BE9.adsl.hansenet.de) (Ping timeout)
[13:32:12] <kimundi> But for most matters and purposes they are identical, and "foo" and &"foo" are both static. No idea why the repr interprets them differently
[13:32:21] <dbaupp> (well, almost any)
[13:32:37] *** Quits: kermi (Mibbit@E64CF1B7.AF1E8F54.5921209C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:32:41] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[13:33:10] <kimundi> rusti: let x: &'static str = "foo"; let y: &'static str = &"bar"; println!("{:?}", (x, y));
[13:33:10] -rusti- ("foo", "bar")
[13:33:11] -rusti- ()
[13:33:37] *** Joins: dbaupp1 (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[13:33:58] <kimundi> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } let x: &'static str = "foo"; let y: &'static str = &"bar"; println!("{:?}", ty_str(&(x, y)));
[13:33:59] -rusti- "(&'static str,&'static str)"
[13:33:59] -rusti- ()
[13:34:02] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Ping timeout)
[13:34:09] *** dbaupp1 is now known as dbaupp
[13:34:21] <kimundi> rusti: fn ty_str<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } let x = "foo"; let y = &"bar"; println!("{:?}", ty_str(&(x, y)));
[13:34:22] -rusti- "(&'static str,&str)"
[13:34:22] -rusti- ()
[13:34:34] <dbaupp> inconsistencies \o/
[13:34:38] <kimundi> Yeah
[13:36:31] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[13:39:10] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:40:03] <eddyb> http://img.gawkerassets.com/img/193wd3kkl9w9mpng/original.png well, this seems accurate - "Download Speed"
[13:40:34] <eddyb> dbaupp: mmmaybe it's correct :D. what about borrowing statics to anonymous lifetimes?
[13:40:45] <kimundi> works
[13:41:18] <kimundi> There is no problem with that
[13:42:25] *** Quits: jensnockert (jensnocker@moz-F4150BAB.wireless.lu.se) (Input/output error)
[13:42:28] <eddyb> I mean, that's what it looks like to me
[13:42:52] <eddyb> rusti: &&"foobar"
[13:42:53] -rusti- pastebinned 6 lines of output: http://sprunge.us/jChP
[13:43:10] <eddyb> rusti: &(&"foobar")
[13:43:11] -rusti- pastebinned 18 lines of output: http://sprunge.us/VfLA
[13:43:32] <eddyb> hehe, that's interesting
[13:44:13] <kimundi> rusti: "foo"
[13:44:14] -rusti- "foo"
[13:44:16] <kimundi> rusti: &"foo"
[13:44:17] -rusti- "foo"
[13:44:21] <kimundi> rusti: & &"foo"
[13:44:22] -rusti- pastebinned 18 lines of output: http://sprunge.us/HRhE
[13:44:48] <kimundi> the last one creates a hidden variable and takes the address to that, which does nothave the static lifetime
[13:46:01] * ksf_ ponders whether the least painfull way to get hold of a gui is really using a lua gui toolkit.
[13:46:26] <eddyb> lua? :nope:
[13:46:29] <kimundi> which one do you have in mind
[13:46:33] <ksf_> tekui
[13:46:47] <ksf_> http://tekui.neoscientists.org/index.html
[13:47:37] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Quit: Leaving.)
[13:49:00] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[13:49:13] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Client exited)
[13:49:23] <ksf_> the *ideal* situation, of course, would be servo having progressed enough to provide all our gui needs.
[13:50:53] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[13:51:41] *** jorendorff is now known as jorendorff_away
[13:54:25] *** Joins: Ms2ger (Ms2ger@moz-BA6CF360.ugent.be)
[13:56:28] *** Quits: Ms2ger (Ms2ger@moz-BA6CF360.ugent.be) (Ping timeout)
[13:57:06] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[13:58:34] *** Joins: Ms2ger (Ms2ger@moz-3A6634DE.ugent.be)
[13:58:34] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[13:59:28] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:00:26] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[14:01:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:01:30] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:02:28] *** Joins: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca)
[14:02:50] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:05:20] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[14:10:44] *** Quits: Ms2ger (Ms2ger@moz-3A6634DE.ugent.be) (Quit: bbl)
[14:10:47] *** Parts: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Textual IRC Client: www.textualapp.com)
[14:10:53] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:11:03] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[14:12:43] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[14:16:23] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[14:17:18] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[14:17:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:21:26] *** Parts: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) ()
[14:22:21] *** jorendorff_away is now known as jorendorff
[14:23:28] *** Joins: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net)
[14:25:13] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[14:29:21] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[14:29:39] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[14:31:26] *** Joins: Ms2ger (Ms2ger@moz-E52F68D1.ugent.be)
[14:32:13] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[14:33:16] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:34:30] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:35:45] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:42:10] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[14:43:17] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[14:43:19] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[14:45:31] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[14:46:52] *** Joins: jyanovski (jyanovski@moz-7B61DF4.dsl.static.sonic.net)
[14:48:00] *** jyanovski is now known as Sharp
[14:48:02] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[14:49:31] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[14:49:57] <cmr> ksf_: probably. either that or something like iup or whatever it is enlightenment has
[14:50:08] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[14:50:22] *** Quits: heftig (heftig@moz-EEDBA899.dip0.t-ipconnect.de) (Quit: Quitting)
[15:01:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:02:22] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:03:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:03:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:05:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:06:06] *** Quits: Sharp (jyanovski@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[15:06:21] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[15:07:20] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[15:08:02] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[15:08:59] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Ping timeout)
[15:10:05] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[15:10:42] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[15:11:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:11:41] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:12:13] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:12:23] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:12:24] *** ChanServ sets mode: +o jdm
[15:12:55] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[15:13:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:15:13] <ksf_> ugh. I had a look at IUP, but the interface right-out boycotts static typing.
[15:15:49] <ksf_> enlightenment is a great candidate, but it comes with a lot of baggage consisting of a c standard library.
[15:16:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:16:54] <ksf_> another option would be any gobject-based tk, given proper gobject bindings and bindings generator (via introspection)
[15:19:05] *** Quits: ash_136 (ashvini@88890FB4.767E090D.1FAF9555.IP) (Quit: Leaving)
[15:20:21] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:21:23] <nwmcsween> gobject as in glib?
[15:21:53] <nwmcsween> glib is amazingly ugly and bad
[15:24:23] <ksf_> yeah, but it's got introspection.
[15:26:35] <ksf_> all in all, using a lua tk really *does* seem to be the best alternative. to set things up you only need generic lua bindings, plus some application-specific protocol. most of the gui stuff can stay completely inside lua, completely isolating application and UI.
[15:26:50] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[15:27:16] <ksf_> and once you have that separation, doing different frontents (say, remote via web) has a clear interface to bind, to, too.
[15:27:21] <ksf_> yay decoupling.
[15:28:11] *** Quits: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net) (Quit: Leaving.)
[15:29:50] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[15:35:16] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[15:36:03] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:36:38] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[15:37:42] *** Quits: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net) (Quit: Leaving.)
[15:38:35] *** Joins: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net)
[15:39:14] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[15:40:54] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:40:54] *** ChanServ sets mode: +o jdm
[15:42:29] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[15:42:35] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:43:23] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[15:43:36] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[15:51:47] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:51:47] *** ChanServ sets mode: +ao dherman dherman
[15:52:43] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[15:54:03] *** Joins: earlzlap (earlz@636F8C2E.F04AFED0.49B48A1E.IP)
[15:55:43] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:55:43] *** ChanServ sets mode: +o jdm
[15:55:57] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[15:56:41] *** Quits: earlzlap (earlz@636F8C2E.F04AFED0.49B48A1E.IP) (Ping timeout)
[15:56:42] *** Quits: jeffm (Mibbit@moz-BC76AEE3.no.no.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:58:44] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Ping timeout)
[15:58:53] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[15:58:53] *** ChanServ sets mode: +o pnkfelix
[15:58:56] *** Quits: Ms2ger (Ms2ger@moz-E52F68D1.ugent.be) (Quit: bbl)
[15:59:01] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[15:59:52] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[16:00:57] <sfackler> why were the fields in extra::time::{Tm, Timespec} made private? it makes it kind of impossible to use them
[16:01:23] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[16:02:14] <ksf_> it's definitely lacking a way to create a time that isn't now, yes.
[16:02:14] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[16:02:32] *** Joins: earlzlap (earlz@636F8C2E.F04AFED0.49B48A1E.IP)
[16:02:36] <ksf_> but private fields in general are a good thing in the stdlib. just needs proper constructors, accessor functions etc.
[16:02:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:03:16] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[16:03:29] *** bhearsum is now known as bhearsum|food
[16:04:19] <ksf_> also, time_t is implementation-defined in c.
[16:04:36] <bstrie> sfackler: because our philosophy is to make it private until someone has an excuse to make it public
[16:04:53] <bstrie> public apis become our maintenance burden after 1.0
[16:04:58] <sfackler> bstrie: well, it's currently not possible to figure out what time it is
[16:05:09] <cmr> bstrie: no they don't
[16:05:19] <cmr> bstrie: 1.0 doesn't define library stability, only language.
[16:05:40] <sfackler> ksf_: struct timespec is defined to contain at least tv_sec and tv_nsec
[16:05:41] <bstrie> sfackler: we recently went through and made *all* struct fields private, as long as it passed the test suite. the goal, indeed, was to see which complaints arise :)
[16:05:55] <bstrie> cmr: you can say that all you want, but people will expect 1.0 to mean library compatibility as well
[16:06:34] <bstrie> the backlash from any breaking changes at that point will be enough to deter us from actually making any meangingful breaking changes
[16:06:37] <ksf_> bstrie, then just put everything in libstd into libextra :)
[16:07:14] <ksf_> libstd is definitely not ready for 1.0
[16:07:16] <bstrie> sfackler: in any case, not being able to know the time is a bug! file it please :)
[16:07:51] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[16:07:52] <bstrie> ksf_: libstd will have to be ready for 1.0. if it's not, the language is fucking sunk
[16:07:53] <ksf_> maybe just desynchronise the library and language versions?
[16:08:06] <bstrie> that would be nice
[16:08:32] <bstrie> but the fact remains that people expect modern languages to have complete, functional, nice standard libraries
[16:08:41] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[16:08:42] <ksf_> ...or vastly thin out libstd. which at the moment would include io and iters, as they're not properly integrated into each other.
[16:09:03] <bstrie> if you *don't* have that, then competing stdlibs pop up, which completely negate the advantages of having a stdlib at all
[16:09:17] <bstrie> then the community fragments and you spend years falling softly into irrelevance
[16:09:41] <ksf_> haskell doesn't have a big standard library. and to the little it has, there's competitors.
[16:10:00] <bstrie> irrelevance is one of the goals of haskell, god damn it :P
[16:10:05] <ksf_> the haskell platform is a bit bigger, but TBH there's not a lot useful in it.
[16:10:37] <bstrie> in any case, we're not launching 1.0 any time soon
[16:10:41] <ksf_> personally, I wouldn't expect rust to be actually stable before servo is done.
[16:10:51] <bstrie> unless the devs magically materialize DST and fn reform in the next week
[16:11:02] <bstrie> it will be months still until we're anywhere close to a release candidate
[16:11:22] <ksf_> gamedev will want to have their wishes fulfilled, too.
[16:11:31] <bstrie> it's not about fulfilling wishes, here
[16:11:34] <ksf_> not to mention all those haskell coders which are invading.
[16:11:41] <bstrie> it's about providing standard components that don't need a million different implementations
[16:11:58] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:11:59] <bstrie> just having a platform to build on to multiply our productivity that would otherwise be spent reinventing the wheel
[16:12:19] <ksf_> but those need a language to be based on. time to deburr.
[16:12:24] <ksf_> a bad stdlib is worse than none.
[16:12:25] <bstrie> and we will have that
[16:12:30] <bstrie> we will not launch with a bad stdlib
[16:12:36] <bstrie> I guarantee it
[16:12:48] <bstrie> I will yell at brson loudly if he tries to
[16:12:59] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[16:13:03] <bstrie> and I will completely abandon the project if he does
[16:13:08] <bstrie> that's how strongly I feel about this :)
[16:13:35] <ksf_> so I guess I should just file every small inconveniece I feel?
[16:13:40] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:13:42] <cmr> ksf_: yes, actually.
[16:13:42] <bstrie> we're not here to "just make a language"
[16:13:58] <bstrie> because a language is 10% semantics and 90% the library ecosystem
[16:14:00] <ksf_> but to achieve world domination, I know.
[16:14:01] *** Quits: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net) (Ping timeout)
[16:14:32] <bstrie> ksf_: I file every small inconvenience I feel. was that supposed to be sarcastic? https://github.com/mozilla/rust/issues/9995
[16:14:39] <bstrie> file issues
[16:14:43] <bstrie> we need to know where the pain points are
[16:14:54] <ksf_> nah, it wasn't sarcastic
[16:15:06] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[16:15:24] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:15:24] *** ChanServ sets mode: +o pnkfelix
[16:15:28] <bstrie> again, please do file bugs for every little thing :)
[16:15:45] <bstrie> although bugs for i/o might become irrelevant as they continue to work on things
[16:16:19] <bstrie> in any case, usability is a *feature* of a language, and this includes crafting usable library APIs
[16:16:41] <cmr> bstrie: the core dev team doesn't seem to share your idea of what 1.0 is going to be. you should bring it up in #rust-internals when they're around.
[16:16:48] <bstrie> I will ball my hands into fists and windmill my arms furiously at anyone who attempts to argue otherwise
[16:17:25] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[16:17:25] <bstrie> cmr: I certainly will. I'm not feeling any pressure at the moment because of how many features we're still lacking, but I have my eye on it
[16:17:37] <ksf_> monads!
[16:17:45] <cmr> bstrie: I'm getting the impression 1.0 is going to be <= 6 months
[16:17:46] <bstrie> cmr: one of the reasons I'm holding off is the same old reason as ever, which is that we *need* a lot of those new features to implement the libraries idiomatically
[16:18:21] <bstrie> cmr: I'm getting the impression that 1.0 is ~9 months away. but it would be better to ask than to guess
[16:18:41] <ksf_> one option would be a chain of 1.0-preXXXX releases of mplayer proportions.
[16:18:44] <bstrie> I might still try to convince brson not to go to 1.0 at all
[16:19:07] <bstrie> I know he wants to get us to "stable", but unless we have good benchmarks at that point we're DOA
[16:19:24] <ksf_> more or less like "stuff is still changing, but we're not changing back and forth, any more"
[16:19:28] <cmr> bstrie: I don't think that's true.
[16:19:34] <cmr> go wasn't amazing at launch
[16:19:39] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[16:19:40] <cmr> neither was c++
[16:19:43] <bstrie> cmr: go didn't have performance as a goal
[16:19:45] <cmr> or c#
[16:19:46] <ksf_> you can't count on a hype like with go
[16:19:50] <ksf_> and c++ had no alternative.
[16:19:51] <bstrie> go just needed to be "faster than python", which wasn't hard
[16:19:51] <pnkfelix> or java
[16:19:59] <cmr> pnkfelix: well java still isn't :p
[16:20:01] <bstrie> java also didn't have performance as a goal
[16:20:10] <ksf_> c# was a guaranteed sucess due to microsoft-fanboys.
[16:20:13] <bstrie> java just needed to be "easier than C++", which wasn't hard
[16:20:28] <cmr> I'm not disagreeing, I just don't think 1.0 needs to be considered "production ready", just "language stable"
[16:20:42] <ksf_> java has a gigantic billboard saying "run once, run anywhere" on it that managers ate for breakfast.
[16:20:50] <bstrie> cmr: c++, as ever, was only competing with C. we're competing with C++. we don't have the luxury of C++'s long incubation period
[16:21:10] <ksf_> *write once
[16:21:13] <bstrie> cmr: I'm not saying 1.0 has to be the fastest language ever. but it can't have any embarrasingly bad points
[16:21:17] <benh> 1.0 sounds more "production ready" than "stable" to me tbh
[16:21:55] * ksf_ thinks rust can't rank lower than #3 in the shootout at 1.0
[16:21:57] <bstrie> cmr: java's actually a great example here. people *still* accuse it of being slow, based on the initial reception it received in 199-fucking-5
[16:22:07] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[16:22:11] <bstrie> D as well
[16:22:14] <bstrie> D will *never*
[16:22:15] <bstrie> *ever*
[16:22:18] <bstrie> live down the GC thing
[16:22:27] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[16:22:48] <bstrie> people can try to clarify all they like, D will always be "a language with GC" in the popular imagination
[16:22:51] <james4k> people think java is slow because there are too many java apps that 'feel' sow
[16:23:00] <james4k> slow*
[16:23:06] <eddyb> because it causes people to write bad code :P
[16:23:22] <skade> eddyb also because it boots horribly slow
[16:23:31] * kimundi thinks bstrie seems a bit agitated today
[16:23:35] <benh> even my least technical pals are all "ugh, why is minecraft written in java, it's so slow" :D
[16:23:39] <nwmcsween> imo because all the abstractions allow you to write bad code
[16:23:40] <skade> e.g. jruby is a great interpreter, but no one wants to use it on the commandline
[16:24:14] <bstrie> kimundi: because I should have left half an hour ago, before getting drawn into a debate :P
[16:24:17] * bstrie away!
[16:24:20] <kimundi> haha#
[16:25:36] <ksf_> ideally, rust should beat c in the shootouts. as code length is included in the measure I think that's a definite possibility.
[16:25:49] <ksf_> because of, say, automagic block io.
[16:25:57] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[16:26:13] *** Quits: ofeldt (ofeldt@moz-13C5EAB0.dip0.t-ipconnect.de) (Ping timeout)
[16:26:40] <eddyb> benh: even automatic rewrite of the entire minecraft codebase would be painful, and improvements are doubtful
[16:27:13] <benh> yeah, just talking about the widespread perception of java==slow
[16:27:16] <ksf_> it's not proper software engineering to optimise for benchmarks, but it's proper social engineering :)
[16:27:16] <eddyb> Java is slow, but you can't just take the same code and expect much better performance somewhere else, unless it's a specific pathological case, like GC overflow
[16:27:32] *** Quits: alonlevy (alon@moz-29263FE5.red.bezeqint.net) (Quit: Leaving)
[16:27:46] <ksf_> java has an uncanny tendency to result in code bloat.
[16:28:22] * ksf_ blames OO and the gang of four
[16:29:04] <ksf_> they should've all just followed greenspun's tenth, instead :)
[16:29:12] <nwmcsween> anything that abstracts how the machine works has code bloat
[16:29:27] <ksf_> but not to the same architectural heights as java
[16:29:34] <eddyb> LLVM actually works
[16:29:53] <eddyb> PNaCl could have some success, but right now it's shadowed by other cool stuff, methinks
[16:30:12] <cmr> nwmcsween: the x86 ISA abstracts how the machine works.
[16:30:18] <ksf_> mozilla didn't adapt pnacl, did they?
[16:30:22] <cmr> ksf_: no
[16:30:30] <ksf_> well, there you have one reason.
[16:30:34] <eddyb> nor "adopt"
[16:30:47] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Quit: Leaving)
[16:30:51] <nwmcsween> can't fix something you can't control
[16:31:17] <bjz_> benh: The issue I see most with minecraft is not so much java being slow, but the unpredictable performance characteristics.
[16:31:29] <ksf_> in the current market, you need at least two browsers supporting something to push it.
[16:32:00] <ksf_> bjz_, those are solveable with large enough amounts of static allocation.
[16:32:14] <bjz_> yep
[16:32:16] <ksf_> ...and that's standard gamedev procedure.
[16:33:21] <bjz_> ksf_: that's probably what they are moving towards
[16:33:32] <cmr> I doubt it
[16:33:37] <cmr> minecraft's implementation is awful
[16:34:08] <cmr> but this conversation isn't really productive
[16:34:14] * cmr goes back to linalg
[16:34:48] <bjz_> cmr: they've done lots of overhauls in this last cycle, apparently performance is much better
[16:34:57] *** pmoore is now known as pmoore|away
[16:35:00] <cmr> bjz_: oh? that's good
[16:35:19] <cmr> once the last line of notch-written code is gone it'll probably be better ;)
[16:35:32] <bjz_> heh
[16:35:38] <eddyb> "cycle" - you mean inter-version space?
[16:35:41] <eddyb> no, that's still weird
[16:35:44] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:35:47] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[16:36:01] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[16:36:03] <eddyb> cmr: they rewrote the entire network protocol and the network primitives, using Netty
[16:36:06] <bjz_> cmr: The issue I see most with minecraft is not so much java b
[16:36:11] <bjz_> woops
[16:36:16] <bjz_> copy paste
[16:36:38] <eddyb> it's actually kinda like WoW's protocol, somewhat-variable-length size field, before the actual data
[16:37:17] <bjz_> cmr: notch is a great, creative, programmer and game dev, but I'm not sure architecture and performance are his strong points
[16:37:32] <bjz_> (not saying I'm better though)
[16:38:02] <bjz_> eddyb: I mean 1.6-1.7
[16:38:15] <eddyb> bjz_: yeah, I know :P
[16:38:19] <bjz_> eddyb: maybe 'cycle' is not the best word
[16:38:45] *** Quits: ksf_ (ksf@moz-348A346D.adsl.hansenet.de) (Quit: Leaving)
[16:39:26] <bjz_> cmr: if you see some videos of him working, he seems to like modifying stuff in debug mode
[16:39:48] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[16:40:17] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[16:40:27] <bjz_> cmr: but that might be better served using scripting
[16:42:01] <cmr> "unresolved name `T`. Did you mean `i`?" so close rustc, I actually meant j
[16:42:14] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[16:42:49] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:43:02] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:43:08] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:43:25] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[16:43:44] <bjz_> ha
[16:45:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:45:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:47:12] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:47:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:47:16] <cmr> I feel like our operator traits need a huge overhaul, but I don't know what that overhaul would be.
[16:47:22] <cmr> They just *feel wrong* to me.
[16:47:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:47:37] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:48:02] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[16:48:24] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:48:43] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[16:49:02] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:49:21] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:49:50] *** Quits: dolphinling (andrew@moz-80A1E448.uvm.edu) (Ping timeout)
[16:51:00] *** Joins: oberstet_ (quassel@moz-D1CA48B.dynamic.mnet-online.de)
[16:51:58] *** Quits: oberstet (quassel@moz-95821774.dynamic.mnet-online.de) (Ping timeout)
[16:52:14] *** Joins: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP)
[16:53:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:53:41] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[16:55:28] *** Quits: Ferreus (ferreus@moz-1773A8DF.dip0.t-ipconnect.de) (Ping timeout)
[16:55:42] *** Joins: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[16:56:38] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[16:57:30] <eddyb> wait, so, setting up event handlers could look like this:
[16:57:59] <eddyb> do button.on("click") {...}; or do button.on(Click) {...}
[16:58:17] <eddyb> yay no more trailing closing parens :P
[16:58:39] *** Joins: ofeldt (ofeldt@moz-FFC3CA50.dip0.t-ipconnect.de)
[16:59:40] <eddyb> ooooooh, I think I know how to do extensible enums
[16:59:50] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[17:00:35] <eddyb> instead of enum foobar {Foo, Bar(int), Baz(~str)}, you would have struct Foo; struct Bar(int); struct Baz(~str);, all implementing the foobar trait
[17:00:46] <cmr> That's not an enum
[17:00:56] <cmr> You'd need to use trait objects to use them homogenously
[17:01:25] <cmr> And since you don't statically know which varaints there are, you get not-as-much typing
[17:01:28] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[17:02:01] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:02:37] *** Quits: nkoep (nik@moz-29487685.pool.mediaways.net) (Client exited)
[17:03:30] *** Joins: fyolnish (fyolnish@moz-5781EAFC.uqwimax.jp)
[17:03:52] <eddyb> cmr: I know, just like you'd use the enum type for a normal enum. I think the best part is that you don't need to generate tags, and you can almost use them the same way. especially the empty structs, they're appealing for this (I included more examples just for the sake of it)
[17:04:03] <eddyb> cmr: can you pattern-match trait objects?
[17:04:08] <cmr> eddyb: no, of course not.
[17:04:13] <cmr> there's nothing to match against
[17:04:13] <eddyb> that would be awesome :D
[17:04:58] <cmr> You're going to be adding indirection everywhere
[17:05:04] <eddyb> syntax sugar for .is_a::<...>() and casting...
[17:05:07] <cmr> This sounds like an all-around bad-idea.
[17:05:11] <eddyb> hmpf
[17:05:17] <cmr> The language will not require RTTI
[17:05:22] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[17:05:34] *** Joins: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be)
[17:05:48] <eddyb> cmr: maybe in a similar way to the way you're required to only define the lang items you need?
[17:06:09] <cmr> eddyb: RTTI would be a feature of the compiler, though, not a library.
[17:06:15] <kimundi> We will get a Any type very soon :P
[17:06:16] <cmr> slash runtime
[17:06:23] <eddyb> there would be no extra cost for today's use of match blocks
[17:06:36] <eddyb> cmr: and you can already use trait objects like that anyway
[17:06:51] <eddyb> pretty sure repr is RTTI
[17:07:04] <cmr> eddyb: yes, and Any uses the tydescs, but the language doesn't require them. pure library.
[17:07:12] <kimundi> eddyb: Well, how would it be implemented? And where does it keep the performance identical?
[17:07:50] *** Quits: earlzlap (earlz@636F8C2E.F04AFED0.49B48A1E.IP) (Ping timeout)
[17:07:57] <eddyb> kimundi: providing a desugared example would be a pain, that's the reason I want sugar. you're both right it would be costly :(
[17:08:17] <cmr> eddyb: Can you not do it with a macro?
[17:08:29] *** Joins: Blub\w (wry@moz-93AC4665.wireless.dyn.drei.com)
[17:09:09] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:10:00] <eddyb> cmr: well... it would probably be used in conjunction with "virtual" methods, so pattern matching might be useless for me, I was going on a tangent there
[17:10:30] <eddyb> there's a lot of things you can do with macros, I'm now trying to think of a specific use case and what I need from it
[17:10:42] <kimundi> I plan to add a macro for the Any type
[17:10:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:11:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:11:16] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Lost terminal)
[17:11:24] <kimundi> match_any!(foo: int => {...} ~str => {...})
[17:11:55] <eddyb> okay, there's a worse problem: I have a gap that's bridged with raw data transfers. the code on both sides can be compiled at the same time, even reuse a crate
[17:12:04] <kimundi> Would use dynamic dispatch and runtime type comparison magic
[17:12:44] <kimundi> eddyb: Is that a question? :)
[17:12:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:13:07] <eddyb> kimundi: my questions span on multiple lines and they can get unreadable if I don't split them. oh, and I think slow :(
[17:13:20] <kimundi> ah, no worry
[17:13:39] <kimundi> I think slow too
[17:13:42] *** Joins: vk (chatzilla@moz-760B8023.dsl.dynamic.sonic.net)
[17:13:46] <eddyb> in C++, my best solution was to use either a constexpr hash or a FOURCC (/8CC) for tags (where I didn't have a restricted space, like an enum with known variants)
[17:14:05] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:14:14] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[17:14:19] <eddyb> I'm not sure what I want. extensible enums with synchronization across a raw data bridge?
[17:14:32] <kimundi> what is a raw data bridge?
[17:14:35] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:14:50] *** Joins: jeffdb (jeff@9782ABE9.E8A0C4C2.E25FE9C.IP)
[17:14:50] <eddyb> kimundi: I tried to be as generic as possible. unix/tcp sockets, for example
[17:14:56] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:15:07] <cmr> so a stream?
[17:15:33] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:15:33] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:15:53] <eddyb> cmr: not really, but it doesn't matter
[17:15:55] <kimundi> a stream of binary data?
[17:15:56] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Quit: echristo)
[17:16:01] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[17:16:01] *** ChanServ sets mode: +o pnkfelix
[17:16:09] <eddyb> a channel for binary data, I guess :)
[17:16:51] <cmr> eddyb: I don't really understand the question but I think the old flatpipes does what you want
[17:17:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:18:14] <cmr> You want to transfer serialized objects?
[17:18:33] <eddyb> kiiiinda, but it's more tangled than that
[17:18:37] <eddyb> so let's say we have something like udevd. a server and a client, doing things with devices. and both the server and the client can dynamically load modules
[17:19:07] *** bhearsum|food is now known as bhearsum
[17:19:55] <eddyb> I load an usb module, on both the server and the client. that would add an UsbDevice type to the DeviceType "extensible enum" (whatever that may be). I need to handle that for each side, and for the communications between them
[17:20:21] <eddyb> what if there's two modules, and they're loaded in different orders on the server and the client?
[17:20:47] *** Quits: autra (augustin@moz-2EA7A1DF.fullsix.com) (Ping timeout)
[17:21:22] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[17:21:38] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:22:07] <kimundi> This sounds like a complcated case. I've been thinking about similar things, except just inside one process, and even that would involve some trickery to make the dynamically loaded types usable as trait objects
[17:22:30] <eddyb> it's one instance I have for "flexible but efficient"
[17:22:53] <eddyb> kimundi: I guess that would work nicely, just like classes with virtual methods in C++
[17:23:07] *** Joins: jordyd (jordyd@moz-D4DFFE62.seg44.ucf.edu)
[17:23:44] <kimundi> Well, except that those virtual methods are dynmaically loaded, which eans the trait objects that use them need to be somehow bound to the lifetime of the dynamicaly loaded object
[17:24:36] <eddyb> if I have the same kind of hash table on both sides and I cache the hash for each type/variant/whatever (even at compile type. looking at you, CTFE), that might work with even long strings
[17:24:59] <eddyb> and I could also have a linter to check for hash collisions :P
[17:25:07] <eddyb> but it seems like such a hack
[17:25:27] <kimundi> well, if you can include all types in the executable beforehand, then great. that's not dynamically loading anymore, though
[17:25:33] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[17:25:42] <kimundi> Not sure what you mean with strings and hashes though
[17:25:57] <eddyb> kimundi: I can use simple enums at that point for a lot of things. but it needs to be dynamically loaded and flexible
[17:26:10] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:26:15] <kimundi> well, _what_ of it should be flexible?
[17:26:45] <cmr> can add variants
[17:26:48] <cmr> (dynamically)
[17:26:51] <eddyb> the variants of an enum, I'd say. gah I'm confusing :(
[17:27:27] <Sharp> Personal opinion time: virtual methods don't really belong in C++ anyway.
[17:27:33] <eddyb> abstracting to a trait is fine, but it still doesn't solve the problem of the binary data stream
[17:27:59] <kimundi> eddyb: So dynamically adding types. that means dynamically adding machine code so that you can actually interface with them, which has the issues I talked about
[17:28:15] <cmr> Or have it stringly typed.
[17:28:26] <eddyb> kimundi: I mentioned I considered FOURCC. that could be "USBD" for usb devices in the usb module, in my example. that's ugly. using an actual long string would be a performance issue
[17:28:45] <kimundi> which would not be native rust types anymore, but a runtime system that build on them. If you do that, then it becomes easier
[17:28:57] <Sharp> eddyb: Are you arguing for Lisp atoms?
[17:29:01] <eddyb> hashing it would work, but it has to be an identical hash on both sides and collisions are bad
[17:29:19] <eddyb> Sharp: hehe, kinda. but only in my limited use cases, not for the language
[17:30:06] <cmr> eddyb: go COM: UUID's everywhere
[17:30:24] <eddyb> cmr: it's... too much :(
[17:30:31] <kimundi> eddyb: I think for what you're talking about using a string that's longer than 4 bytes is not much of an issue :P
[17:30:33] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Ping timeout)
[17:30:42] <eddyb> 32 bits is already wasteful
[17:30:59] <Sharp> This sort of thing is usually resolvable at link time, if you really want to be hardcore about it.
[17:32:05] <eddyb> now, I've already considered using the stack instead of only some registers, for syscalls, but I'm not sure how much I can throw at it before it becomes unusable :(
[17:32:35] <eddyb> (yeah, you've caught me. trying to have a type-safe efficient and concisely written syscall gate)
[17:32:41] <eddyb> s/safe/safe,/
[17:33:13] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:33:51] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:33:55] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[17:34:05] <eddyb> apart from returning variable-length data to userspace, it's not that hard to do, for a fixed set of functions (like only VFS)
[17:34:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:34:22] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:34:26] <eddyb> once you have pluggable interfaces, it gets messy :(
[17:34:50] <Sharp> I don't see what's wrong with hashing in this case.  You say it seems like a "hack" but I'd be shocked if union types aren't mapped via a symbol (aka hash) table to their values during the compilation phase anyway.
[17:35:04] *** Quits: jeffdb (jeff@9782ABE9.E8A0C4C2.E25FE9C.IP) (Ping timeout)
[17:35:05] <cmr> Sharp: they aren't.
[17:35:09] <Sharp> Really?
[17:35:12] <cmr> not at link time at least.
[17:35:13] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:35:15] <eddyb> enums are linear
[17:35:57] <eddyb> well, there's one way I could do it with hashing and not waste space: combine both the "subsystem" and the function in the hash. but I'm asking for more collisions :(. dammit
[17:36:00] <Sharp> Well, sure, but whenever you use one in the initial scanned document it has to be looked up to be type checked and I imagine the location to find out its value is determined via a hash table.
[17:36:10] <cmr> Probably
[17:36:37] <eddyb> Sharp: but that's inside the AST/trans
[17:37:09] <Sharp> Yeah, I know… I get what you're saying, but it's basically trying to solve the same thing you are, isn't it?  Just at a different stage of compilation.
[17:37:18] <eddyb> it's not compilation, it's runtime
[17:37:53] <eddyb> and hash tables with collisions are DoSing yourself. they lead to costly string comparisons
[17:38:19] <eddyb> hmm, how about linear, but generated via a handshake?
[17:39:05] <eddyb> that's indirection without JIT :(
[17:39:13] <Sharp> Is the issue that the user / kernel space need to calculate the same value?  Who are you performing the handshake with?
[17:39:43] <eddyb> Sharp: last idea is "kernel hands over syscall maps on process startup"
[17:40:00] <eddyb> possibly cached. wait, what if you put the JIT in the kernel
[17:40:20] *** Quits: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net) (Quit: geoffhill)
[17:40:32] <eddyb> that reminds me of the vdso or whatever it's called. hmpf. maybe you don't need JIT
[17:40:59] *** Quits: sharvey (sharvey@moz-C3551BB3.metaether.net) (Ping timeout)
[17:41:05] <eddyb> cmr: I'm just making it worse and worse for myself
[17:41:06] *** Joins: sharvey (sharvey@moz-C3551BB3.metaether.net)
[17:45:07] <eddyb> a static solution would be pretty efficient, and finding a more flexible strategy should involve benchmarks and pretty graphs and we can have JIT in the kernel if we need that extra speed :P
[17:45:14] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[17:45:14] *** Joins: lmandel (lmandel@383121B7.B2666F0E.66399531.IP)
[17:45:53] <eddyb> the static solution would be just rust enum variants, with the fields as parameters. maybe the first field could be return "cell" or something
[17:47:27] <eddyb> variable-length return is still a problem. strings could use the entire capacity available and even expand the capacity to the maximum possible allocation space (like in zero-copy realloc)
[17:47:29] *** Joins: echristo (echristo@B3AA7BA8.D6CCE4AE.77834EAA.IP)
[17:48:47] <eddyb> but if you need more, what do you do? 1) error with the required capacity 2) trigger an event to userspace to allocate enough memory 3) a result system, through which userspace code can retrieve the rest of the string
[17:49:43] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Quit: Leaving.)
[17:50:26] <eddyb> the result system thing can happen automatically in userspace, using a second syscall to get the rest, and doesn't require too many resources in the kernel
[17:50:52] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:51:31] <eddyb> yeah, that seems sensible :D (it's actually what smartcard I²C - or whatever serial protocol they use - does to get data)
[17:52:25] * eddyb is curious if he can get a syscall gate to work like normal function calls, at least with a matching ABI on both sides
[17:54:54] <sw17ch> How hard would it be to add annotations to Rust that would allow me to do things like #[monotonic_reduction] on a function that would cause Rust to drop an error if it can't guarantee a recursive function will eventually terminate?
[17:55:43] <ianj> if Rust doesn't already have a termination analysis, hard.
[17:56:20] <sw17ch> okay, assuming said analysis could be done in Rust, would such an annotation be possible? :)
[17:56:32] <Ms2ger> It's software, so, yes ;)
[17:56:34] <sw17ch> i guess i don't know at all how the annotation stuff works in rust
[17:56:40] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[17:57:09] <sw17ch> I'd really like to have a compiler that tells me if it can't demonstrate some condition _even if the code meets that condition_.
[17:58:10] *** Quits: oberstet_ (quassel@moz-D1CA48B.dynamic.mnet-online.de) (Client exited)
[17:58:13] <sw17ch> So, things like #[ensure_stack_consumption_less_than(512)], or #[does_not_dynamically_allocate], or #[some_other_overly_wordy_condition]
[17:58:37] <eddyb> oooh, I have a good one #[no_stack]
[17:59:00] <sw17ch> eddyb: ooooo yes!
[17:59:15] <sw17ch> really useful for error-handling in embedded systems
[17:59:24] <sw17ch> especially for detecting things like stack overruns ;P
[17:59:32] <eddyb> I would have that on a stack-check prelude lang item
[17:59:45] <eddyb> (that would get inlined in every function ever)
[18:00:06] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:00:06] *** ChanServ sets mode: +ao brson brson
[18:01:59] <eddyb> the current morestack one, on x86, would be fn get_stack_limit() {let limit : uint; asm!("mov %gs:0x30, $1" : "=r"(limit)); limit}
[18:02:04] <sw17ch> an annotation that causes an error if the function can't be proven to be non-blocking
[18:02:05] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Connection reset by peer)
[18:02:21] <eddyb> sw17ch: you would have to annotate blocking functions
[18:02:50] <eddyb> sw17ch: that might be implementable in Rust code if/when we get effects
[18:02:58] <eddyb> (define a "blocking" effect and use it)
[18:03:07] <sw17ch> mmm, <3
[18:03:31] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[18:03:38] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[18:04:06] <eddyb> code wrapped in "cli" and "sti" would be thread/SMP-safe, I guess
[18:04:28] <eddyb> atomics can be safe, but only if labeled so
[18:04:41] <eddyb> (these last two make sense with global static mutable storage)
[18:08:23] <cmr> So I apparently wrote code that uses flatpipes
[18:08:36] <cmr> Is there any replacement for it?
[18:09:44] <cmr> https://github.com/cmr/doc_builder/blob/master/main.rs#L42
[18:10:10] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[18:11:10] *** Joins: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP)
[18:11:11] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[18:12:10] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[18:13:36] *** Joins: kud1ing (Mibbit@moz-1264A445.pools.arcor-ip.net)
[18:14:12] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[18:16:27] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[18:18:20] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:19:53] *** Quits: kud1ing (Mibbit@moz-1264A445.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:20:04] <utkarsh> is it possible to make rustc output assembly in intel syntax when doing "-S"?
[18:22:22] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[18:22:43] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[18:22:55] <cmr> utkarsh: I don't think so. emit llvm and use llc --x86-asm-syntax=intel
[18:25:30] <utkarsh> cmr, nice! thanks!
[18:25:48] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:26:57] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[18:27:34] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:28:40] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:28:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:29:23] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[18:31:49] <eddyb> cmr: there's --link-args, and another one... you can actually put "-help" in there and see what arguments you can pass via rust :D
[18:32:24] <cmr> eddyb: assembler output is not the linker.
[18:32:31] <cmr> the link args go to gcc when we run it.
[18:32:31] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:33:16] <eddyb> cmr: I got llc -help output out of one of those. it might not be --link-args. maybe --llvm-args?
[18:33:30] <ercxx> I have a BufferedStream<std::rt::io::net::tcp::TcpStream> ant compiler says it doesn't implement eof()
[18:34:30] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[18:35:21] <eddyb> cmr: echo 'fn main(){}' | rustc --llvm-args -help - | grep -C2 intel
[18:35:45] <ercxx> neither it implements inner_mut_ref() do I have to tell it somehow it's supposed to implement those? Docs say it should.
[18:36:04] <cmr> eddyb: cool, undocumented features!
[18:36:38] <eddyb> cmr: --llvm-args -help is pretty much llc's help, but it's missing some hardcoded rustc-specific stuff (like relocation-model)
[18:36:43] <eddyb> utkarsh: echo 'fn main(){}' | rustc --llvm-args -x86-asm-syntax=intel -S -o /dev/stdout -
[18:38:20] <nif> beginner question: does rust have an operator like python's "pass" that indicates that things should be skipped over?
[18:38:38] <eddyb> nif: depends what kind of things
[18:39:08] <eddyb> python's pass is confusing at a first glance to the C/C++/Java/C#/JS/whatever model
[18:39:14] <cmr> nif: 'pass' only exists so you can have blocks with empty bodies. sincewe use braces, we don't really need them.
[18:39:20] <eddyb> ah, hehe
[18:39:35] <nif> cmr: oh, alright! well then.  I guess that makes sense.
[18:40:15] *** Joins: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net)
[18:40:15] *** ChanServ sets mode: +o pnkfelix
[18:40:27] <nif> cmr: but what if I wanted to write code and indicate that I had done some work, but that it wasn't quite ready to be used? could there be a "pass" or something at the top of the function?
[18:40:57] <cmr> nif: that doesn't make sense in rust, the expression needs to typecheck.
[18:41:19] *** Joins: mihneadb (textual@8C8B418E.9331FB69.E16F0CF5.IP)
[18:41:25] <nif> cmr: okay. thanks.  sorry, I have only been looking at this stuff for a few days, so there are a few things I still haven't gotten yet.
[18:41:53] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[18:47:01] *** Quits: fabiand (fabiand@moz-AC10FF3.adsl.alicedsl.de) (Quit: Verlassend)
[18:48:37] <eddyb> brson: I saw your comment on reddit. damn I would love to be a Rust research intern... but I haven't finished highschool yet and I'm all the way around the globe (Romania) :(
[18:50:30] <eddyb> oh, strcat is not here. I wanted to discuss getting something like std::fmt into rust-core :/
[18:50:51] <eddyb> rusti: mod std {} format!("{}", 5)
[18:50:52] -rusti- ~"5"
[18:51:02] <eddyb> rusti: mod std {mod fmt {}} format!("{}", 5)
[18:51:03] -rusti- ~"5"
[18:51:06] <eddyb> does it use ::?
[18:51:17] <eddyb> rusti: #[no_std] format!("{}", 5)
[18:51:18] -rusti- pastebinned 7 lines of output: http://sprunge.us/fSYi
[18:51:51] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:51:54] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:52:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:52:15] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[18:52:15] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[18:52:19] <ercxx> pub type X = Y; is this a typedef?
[18:52:20] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:52:45] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[18:52:45] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[18:53:06] <eddyb> ercxx: yupp
[18:53:12] <ercxx> thanks
[18:53:22] <eddyb> rusti: #[no_std]; format!("{}", 5)
[18:53:23] -rusti- pastebinned 7 lines of output: http://sprunge.us/UeEG
[18:53:39] <eddyb> bah, you half-assed REPL :(
[18:53:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:54:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:55:44] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[18:55:48] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:56:15] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:57:29] <kimundi> eddyb: Not half assed, the input you give just is inlined in a function body :)
[18:58:07] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:58:09] <eddyb> kimundi: I know and you know what I mean
[18:58:29] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[18:59:08] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:01:17] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:01:59] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:02:59] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[19:02:59] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[19:03:30] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[19:03:30] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[19:04:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[19:04:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[19:05:59] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:06:51] <eddyb> well... rusti could do without the last 4 lines, here for example: http://sprunge.us/UeEG
[19:07:41] <benh> fwiw rustc could also do without the "task failed" lines
[19:07:44] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:10:50] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:13:21] *** Quits: Jackneill (Jackneill@moz-B3691EFF.pool.digikabel.hu) (Input/output error)
[19:16:29] *** Joins: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP)
[19:17:50] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Konversation terminated!)
[19:17:54] *** victorporof_ is now known as victorporof_|away
[19:17:59] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:20:06] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[19:21:48] *** ozten is now known as ozten|afk
[19:23:04] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:24:27] <eddyb9> rusti: format!("{}", None)
[19:24:29] -rusti- pastebinned 10 lines of output: http://sprunge.us/WcHM
[19:25:06] <eddyb9> oh that's a lil bit silly
[19:25:13] <eddyb9> rusti: format!("{}", Some(8))
[19:25:14] -rusti- pastebinned 10 lines of output: http://sprunge.us/BZWe
[19:25:50] <eddyb9> that's it, Default. hmpf
[19:26:12] *** Quits: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP) (Ping timeout)
[19:26:19] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:26:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:28:55] *** Joins: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP)
[19:32:36] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[19:32:39] <eddyb9> the docs in std/fmt/mod.rs do not seem to distinguish between {} and {:?}
[19:33:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[19:33:45] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[19:33:49] *** Quits: sk (sk@6C023EB2.83606D1B.1FCE22BB.IP) (Quit: Leaving)
[19:33:52] *** victorporof_|away is now known as victorporof_
[19:33:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:35:21] <SiegeLord> Any particular spot where you see that?
[19:35:40] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[19:35:57] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:36:01] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[19:36:24] <SiegeLord> I only see this one wrong sentence: "This is allowed, and if all references to one argument do not provide a type, then the format ? is used (the type's rust-representation is printed)."
[19:36:28] *** victorporof_ is now known as victorporof
[19:37:11] <eddyb9> SiegeLord: there's one or two more, and it doesn't mention Default
[19:40:49] *** Quits: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be) (Quit: nn)
[19:41:05] <eddyb9> the Char impl is broken, lol
[19:41:05] <FreeFull> rusti: format!("{:?}", Some(8))
[19:41:06] -rusti- ~"Some(8)"
[19:41:32] <eddyb9> rusti: format!("{}", -1 as char)
[19:41:33] -rusti- pastebinned 11 lines of output: http://sprunge.us/QjLe
[19:42:27] <eddyb9> rusti: format!("{}", unsafe {cast::transmute(-1) as char})
[19:42:28] -rusti- pastebinned 25 lines of output: http://sprunge.us/MIhj
[19:42:37] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:42:44] <eddyb9> rusti: format!("{}", unsafe {std::cast::transmute(-1) as char})
[19:42:45] -rusti- pastebinned 11 lines of output: http://sprunge.us/IVPf
[19:42:49] <eddyb9> ffs
[19:43:25] <eddyb9> rusti: unsafe {std::cast::transmute(-1) as char}
[19:43:26] -rusti- pastebinned 7 lines of output: http://sprunge.us/AiVf
[19:43:32] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:43:34] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[19:43:36] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:43:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:43:52] <eddyb9> rusti: let c : char = unsafe {std::cast::transmute(-1)}; c
[19:43:53] -rusti- pastebinned 6 lines of output: http://sprunge.us/PZOg
[19:43:53] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:44:11] <eddyb9> rusti: let c : char = unsafe {std::cast::transmute(-1i32)}; c
[19:44:12] -rusti- '\Uffffffff'
[19:44:30] <eddyb9> rusti: format!("{}", '\Uffffffff')
[19:44:31] -rusti- pastebinned 6 lines of output: http://sprunge.us/UiUR
[19:44:51] <eddyb9> lol, that's broken too
[19:45:07] <eddyb9> rusti: let c : char = unsafe {std::cast::transmute(-1i32)}; format!("{}", c)
[19:45:08] -rusti- pastebinned 2 lines of output: http://sprunge.us/aDhJ
[19:45:39] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[19:47:06] <eddyb9> I was seriously expecting a buffer overflow
[19:47:14] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:48:24] <eddyb9> rusti: let c : char = unsafe {std::cast::transmute(-1i32)}; c.encode_utf8([0u8, ..8])
[19:48:24] -rusti- 4u
[19:48:45] <eddyb9> that's... unexpected. pretty sure it has to take about 6 bytes
[19:48:55] <eddyb9> rusti: let c : char = unsafe {std::cast::transmute(-10000i32)}; c.encode_utf8([0u8, ..8])
[19:48:56] -rusti- 4u
[19:49:02] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[19:49:11] <SiegeLord> No codepoint requires more than 4 bytes to encode
[19:50:00] <eddyb9> SiegeLord: but.... utf8 can't fit 32bits in 4 bytes
[19:50:31] <eddyb9> (as an encoding scheme)
[19:51:04] <SiegeLord> Not all 32bit patterns are valid codepoints
[19:51:49] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[19:51:51] <eddyb9> if you say so...
[19:51:58] <SiegeLord> There's only ~1000000 valid codepoints
[19:52:08] *** ozten|afk is now known as ozten|reallyreallyafk
[19:52:24] <mcpherrin> Damn that UTF-16
[19:52:37] <mcpherrin> Before 2003, UTF-8 could encode 31 bits!
[19:53:01] <shachaf> Unicode codepoints are ≤21 bits.
[19:53:02] <mcpherrin> And then RFC3629 had to rain on the parade
[19:53:16] <FreeFull> UTF-8 can go up to 6 bytes, but it's not necessary
[19:53:27] <FreeFull> Unless that changed
[19:53:33] <SiegeLord> It changed
[19:54:13] <mcpherrin> It's the same encoding, but when we used it to encode Unicode instead of UCS, codepoints past some upper limit were no longer valid
[19:54:17] <FreeFull> Of course it's no use trying to encode any codepoints above 1114111
[19:56:38] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:57:25] *** Joins: nkoep (nik@moz-29487685.pool.mediaways.net)
[19:57:35] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:57:58] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[19:58:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:58:16] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[19:58:27] <kimundi> These days, only the values 0 - 0xD800 and 0xDFFF - 0x10FFFF are valid unicode codepoints
[19:58:28] <mcpherrin> rusti: print!("{:x}", 1114111u32)
[19:58:29] -rusti- 10ffff()
[19:58:51] <mcpherrin> decimal is such an inconvenient base :p
[19:58:54] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:58:55] <eddyb9> that looks odd
[19:58:57] <kimundi> rusti: std::char::from_u32(0x10ffff)
[19:58:57] -rusti- Some('\U0010ffff')
[19:59:01] <ercxx> I don't understand this : error: type `std::rt::io::net::tcp::TcpStream` does not implement any method in scope named `eof`.
[19:59:05] <kimundi> rusti: std::char::from_u32(0x110000)
[19:59:05] -rusti- None
[19:59:09] <eddyb9> it's also a palindrome
[19:59:15] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Quit: Leaving)
[19:59:22] <eddyb9> kimundi: :(
[19:59:30] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[19:59:40] <kimundi> eddyb9: hm?
[19:59:51] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Quit: Leaving)
[19:59:51] <kimundi> oh, I made a mistake
[19:59:59] <mcpherrin> How many charpoints did the old UCS / ISO10646 encode?
[20:00:06] <ercxx> Here it says it implements Reader : http://static.rust-lang.org/doc/master/std/rt/io/net/tcp/struct.TcpStream.html
[20:00:15] <eddyb9> 31bits said someone
[20:00:15] <kimundi> These days, only the values 0 - 0xD7FF and 0xE000 - 0x10FFFF are valid unicode codepoints
[20:00:53] <kimundi> Fun fact, actually asigned of those range of values are only ~10% or so
[20:01:11] <kimundi> So, it's not like limiting them to 21 bits is somehow a problem
[20:02:10] *** Joins: heftig (heftig@moz-EEDBA899.dip0.t-ipconnect.de)
[20:02:16] <eddyb9> say that to someone who wants one pile of poo per animal species (that has poo)
[20:02:20] <mcpherrin> kimundi: Really, only 10%? I would have thought it higher
[20:02:23] <strcat> mcpherrin: they didn't have any extra characters, but the original standard was 32-bit and the original proposed UTF-8 had up to 6-byte sequences
[20:02:35] <mcpherrin> Yeah, reading standard now
[20:02:42] <kimundi> As of September 2013, only 110,187 codepoints of the 1,114,111 possible values are used
[20:02:43] <mcpherrin> Nothing was ever assigned that high so it is mostly a moot point
[20:02:57] <eddyb9> I was the 4-long vector and I thought "wasn't it 6 for 32bit?"
[20:02:58] <strcat> then they capped it at 21-bit due to UTF-16 not being able to do more, and UTF-8 was officially defined as having 4-byte max sequences (and they don't even use the whole 4-byte range)
[20:03:00] <kimundi> (source: wikipedia)
[20:03:14] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:03:17] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[20:03:22] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[20:03:32] <FreeFull> Well, 21 bits is more than enough for now
[20:03:35] <Earnestly> mcpherrin: http://www.cl.cam.ac.uk/~mgk25/ucs/utf-8-history.txt
[20:03:46] <mcpherrin> Alright, I just wasted my whole lunch break reading unicode specifications, so I'm off to go do something useful :P
[20:03:57] <kimundi> Learning _is_ useful :P
[20:04:00] <eddyb9> strcat: I came across this while looking at std::fmt. what do you think about having some std::fmt stuff in rust-core?
[20:04:20] <kimundi> - said the one who succesful avoided doing his uni assignments the last few days
[20:04:27] <strcat> eddyb9: dunno, I'm avoiding complicated stuff like that for the moment :)
[20:04:37] <FreeFull> Let me try manually encoding a character as UTF-8
[20:05:10] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[20:05:16] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[20:05:21] <eddyb9> strcat: mkay... it has nasty parts, I agree, but I'd love to be able to log!(...) in rustic
[20:05:35] <kimundi> FreeFull: Why do it manually?
[20:05:44] <eddyb9> wait, can you implement C++ "streaming" operators with rust traits
[20:05:51] <strcat> eddyb9: log won't ever work because it needs weird runtime support
[20:06:07] <eddyb9> kimundi: to test Rust decoding, I'd guess
[20:06:11] <strcat> regular printing could ofc
[20:06:19] *** Joins: vodik (simon@moz-369801B5.net.uwaterloo.ca)
[20:06:21] <strcat> but all those syntax extensions depend on paths like std::...
[20:06:25] <strcat> need to fix that
[20:06:34] <acrichto> strcat: eddyb9: if you guys are interested if moving std::fmt into rust-core, I'd be more than willing to help
[20:06:42] <strcat> acrichto: not yet ;p
[20:06:44] <acrichto> there are actually very few runtime dependencies that it has
[20:06:58] <eddyb9> strcat: err, I meant notice!(...) or something else, using format_args!
[20:07:00] * strcat doesn't even have slice/iterator stuff in it yet
[20:07:30] <strcat> because I like using it as a sandbox to figure out better ways of doing stuff in libstd...
[20:07:32] <acrichto> eddyb9: log!() is entirely a macro, there's no runtime component it's tied to and you could redefine log! to be whatever you needed it to be (it's all built on format_args!)
[20:08:30] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:08:56] <eddyb9> acrichto: I meant, my own log macro
[20:09:02] <FreeFull> U+3752 㝒 should be 11100000 10111010 10101000
[20:09:15] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[20:09:17] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[20:09:24] <eddyb9> I'm pretty sure we can have core::shim::std::fmt :P
[20:09:33] <mcpherrin> now utf-7, that's a fun encoding scheme
[20:09:36] <eddyb9> (if the paths aren't absolute)
[20:09:44] <acrichto> eddyb9: yeah that's totally possible, it would look very similar to log!() I believe
[20:09:50] <kimundi> rusti: bytes!("\u3752")
[20:09:50] -rusti- &[227u8, 157u8, 146u8]
[20:10:03] <acrichto> eddyb9: it all boils down to fmt::println(some_args)
[20:10:03] <FreeFull> I did it wrong
[20:10:40] *** Quits: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[20:10:54] <eddyb9> rusti: [0b11100000u8, 0b10111010u8, 0b10101000u8]
[20:10:55] -rusti- [224u8, 186u8, 168u8]
[20:10:58] <strcat> FreeFull: well, lets just be glad you're a human and not a UTF-8 encoder in a mission critical piece of software somewhere
[20:11:20] <strcat> at least... I hope you aren't? :)
[20:11:41] <kimundi> rusti: let b = bytes!("\u3752"); b.iter(|&b| b.to_str_radix(2)).to_owned_vec()
[20:11:42] <sw17ch> Unicode implementation gains sentience, names self FreeFull.
[20:11:42] -rusti- pastebinned 10 lines of output: http://sprunge.us/chSF
[20:12:07] <kmc> you can inject security holes into webapps by convincing the user (or the browser's auto-detection) to change the character encoding setting
[20:12:11] <kmc> pretty scary stuff
[20:12:17] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[20:12:32] <kimundi> rusti: let b = bytes!("\u3752"); b.iter().map(|&b| b.to_str_radix(2)).to_owned_vec()
[20:12:33] -rusti- ~[~"11100011", ~"10011101", ~"10010010"]
[20:12:47] <FreeFull> oh, I see where I went wrong
[20:12:57] <kimundi> rusti: let b = bytes!("\u3752"); b.iter().map(|&b| b.to_str_radix(2)).to_owned_vec().connect(" ")
[20:12:58] -rusti- ~"11100011 10011101 10010010"
[20:13:05] <FreeFull> I actually encoded U+EA8
[20:13:21] <eddyb9> rusti: 0xea8
[20:13:22] -rusti- 3752
[20:13:25] <eddyb9> hehe
[20:15:24] <FreeFull> 11100011 10011101 10010010 is the right encoding
[20:15:45] <FreeFull> Which I got once I actually used 0x3752 =P
[20:16:00] <FreeFull> I can encode UTF-8 after all!
[20:17:22] *** ozten|reallyreallyafk is now known as ozten
[20:18:21] <jvns> I'm thinking of trying to add benchmarks for std::path as a first contribution to Rust (from a suggestion on the OPW wiki page), but I'm not sure how to start -- the wiki page says that Rust has a built-in benchmark runner, but I can't find any mention of it by searching rust-lang.org
[20:18:30] <jvns> I'm also not sure which functions need benchmarking -- should methods like exists() have benchmarks? Or is the intention to bench path-manipulation methods like normalize()? Or both?
[20:19:33] *** Quits: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP) (Client exited)
[20:20:20] <SiegeLord> Maybe the first contribution should be documenting the benchmark runner then ;)
[20:20:48] <cmr> jvns: Hi! I created that issue.
[20:20:58] <cmr> jvns: The benchmark runner is documented with unit testing on the wiki.
[20:21:05] <eddyb9> jvns: I think I saw something in src/bench. or src/test/bench
[20:21:13] <cmr> jvns: https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[20:21:18] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[20:21:27] <jvns> ah ha! there is another wiki! =)
[20:22:11] <osa1> use std::hashmap::HashSet; HashSet.new() throws "unresolved name HashSet" error, why?
[20:22:38] <tiffany> try HashSet::new()
[20:22:50] <osa1> tiffany: thanks
[20:23:13] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[20:23:16] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:23:18] <jvns> cmr: do you know which would be the most useful part of std::path to benchmark first?
[20:23:23] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[20:23:24] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[20:26:14] *** Quits: vodik (simon@moz-369801B5.net.uwaterloo.ca) (Ping timeout)
[20:27:48] *** Quits: Blub\w (wry@moz-93AC4665.wireless.dyn.drei.com) (Quit: back tomorrow)
[20:28:27] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[20:29:05] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:29:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:29:41] <cmr> jvns: push, pop, join, and creation for sure. After that, in order of importance (to me, at least): the comparisons (is_ancestor_of, is_absolute, etc), dirname and friends (getting the different components of the path), the mutators (set_*), and the iterators.
[20:29:48] *** Joins: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[20:30:10] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[20:31:03] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[20:31:28] <jvns> cmr: thanks very much! :)
[20:31:43] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[20:32:17] *** Quits: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[20:33:04] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[20:35:41] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[20:36:17] *** Joins: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca)
[20:36:19] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[20:36:22] <cmr> jvns: no problem! good luck :)
[20:40:08] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[20:40:10] *** Joins: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com)
[20:41:11] *** Quits: mihneadb (textual@8C8B418E.9331FB69.E16F0CF5.IP) (Quit: Bye)
[20:41:50] *** Quits: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:42:52] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[20:43:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[20:46:32] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[20:46:37] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[20:49:01] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:49:26] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[20:50:10] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[20:52:08] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Input/output error)
[20:52:21] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[20:53:13] <ercxx> Does anything look weird here: fn eof(&mut self) -> bool { fail!() }  
[20:53:59] <cmr> ercxx: yeah, fail!()'s type is bottom
[20:54:18] <cmr> The function diverges, so it needs to be fn eof(&mut self) -> ! { fail!() }
[20:54:30] <cmr> Actually wait
[20:54:39] <cmr> rusti: let x: bool = fail!(); x
[20:54:40] -rusti- pastebinned 10 lines of output: http://sprunge.us/NaDW
[20:54:51] <cmr> rusti: let x: bool = fail!(); x
[20:54:52] -rusti- pastebinned 10 lines of output: http://sprunge.us/BcFA
[20:55:01] <cmr> strcat: why does sprunge say not found? ;\
[20:55:27] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[20:55:37] *** Joins: happy4cr_ (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[20:55:46] *** Joins: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu)
[20:55:47] <ercxx> that is in : libstd/rt/io/net/tcp.rs:87
[20:56:08] *** Quits: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Connection reset by peer)
[20:56:12] <cmr> I think I'm wrong, bottom's always a subtype
[20:56:41] * cmr sits in the curner
[20:56:50] <ercxx> I'm confused now. 
[20:57:02] <cmr> Anyway eof is unimplemented, that's why fail is there
[20:57:23] <ercxx> :)
[20:57:37] <ercxx> I thought I was getting dumber by the minute here.
[20:58:17] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[20:58:21] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[20:58:34] *** Parts: happy4cr_ (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Leaving...)
[21:00:47] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Ping timeout)
[21:01:20] <ercxx> Sometimes I forget that rust's still in progress.
[21:01:30] <cmr> :)
[21:02:05] <ercxx> Thanks to you guys I didn't hit my head to a wall or a sharp corner yet :)
[21:02:29] <Sharp> Fun Rust story: the first time I tried compiling a Rust program, it crashed.  Not the program--the Rust compiler :D
[21:03:08] <nwmcsween> so rust is going to implement posix in rust? or just wrappers for libc?
[21:03:11] <ercxx> I would feel proud if my first program crashed the compiler.
[21:03:17] *** bhearsum is now known as bhearsum|afk
[21:05:32] <Sharp> I'm super excited for Rust.  The list of design principles reads like a list of solutions to isuses I have with other languages.  I just can't justify it for production code right now :P
[21:06:16] <cmr> nwmcsween: probably the first, at least for tier 1 platforms, with a libc wrapper for generic posix
[21:06:22] <mcpherrin> rusti: "abc".char_iter()
[21:06:23] -rusti- pastebinned 7 lines of output: http://sprunge.us/LhFV
[21:06:24] <cmr> (making our own syscalls like Go does)
[21:06:31] <mcpherrin> ^ how do I get a characterIterator?
[21:06:32] *** Joins: ksf (ksf@moz-B43054F4.adsl.alicedsl.de)
[21:06:42] <cmr> rusti: "abc".iter()
[21:06:43] -rusti- std::str::CharIterator<>{string: "abc"}
[21:06:53] <mcpherrin> For some reason I thought iter() gave me a byte iterator
[21:06:54] *** Parts: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu) ()
[21:06:57] <nwmcsween> ok well simd types should get done sometime
[21:06:58] <cmr> rusti: "abc".bytes_iter()
[21:07:00] -rusti- pastebinned 7 lines of output: http://sprunge.us/DiAX
[21:07:04] <Sharp> Why would you need a byte iterator?  Don't you get that just by looping?
[21:07:07] <cmr> nwmcsween: already done
[21:07:10] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[21:07:10] <cmr> nwmcsween: #[simd]
[21:07:10] *** Joins: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu)
[21:07:19] <cmr> Sharp: because iterators also have chaining and composing.
[21:07:29] <mcpherrin> Sharp: iterators are nice because you can do other operations on them, like mapping and chaining and skipping
[21:07:30] <sfackler> and std::unstable::simd
[21:07:31] <strcat> Sharp: iterators can be composed and you don't pay any overhead for bounds checks in safe code
[21:07:37] <nwmcsween> what does it use intrinsics or something less of a pain?
[21:07:38] <cmr> rusti: "abc".byte_iter().map(|x| 95).all(|x| x == 95)
[21:07:39] -rusti- <anon>:9:32: 9:33 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[21:07:39] -rusti- <anon>:9          "abc".byte_iter().map(|x| 95).all(|x| x == 95)
[21:07:39] -rusti-                                          ^
[21:07:39] -rusti- true
[21:07:52] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[21:07:55] <Sharp> How smart is Rust about decomposing them?  I imagine it should be pretty well-optimized since it's a well-explored problem.
[21:08:04] <nwmcsween> can you show me some simd within rust?
[21:08:22] <strcat> Sharp: LLVM does it, it's hard to actually find a case where it won't compile to the same code as a manually written loop in C
[21:08:25] <ksf> stream fusion for iters would be great, yes.
[21:08:25] <cmr> nwmcsween: I don't remember exactly. the samsung people worked on it iirc. look at some IR
[21:08:28] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[21:08:36] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[21:08:37] <Sharp> So I can have my functional cake and eat it too?
[21:08:38] <strcat> ksf: LLVM already vectorizes them
[21:08:47] <strcat> Sharp: it's not really functional
[21:08:48] <ksf> strcat, the question isn't so much "the same loop as in c" but "only one huge big loop"
[21:09:05] <strcat> composed iterator adaptors become one loop
[21:09:11] <strcat> whether or not you optimize
[21:09:18] <ksf> \o/
[21:09:29] <strcat> although there *are* ones like filter with embedded loops
[21:09:35] <Sharp> Is that language macro magic going on behind the scenes, or does the same occur if I write a function that does the same thing as an iterator?
[21:09:36] <strcat> but they vanish after trivial LLVM optimizations
[21:09:44] <strcat> Sharp: no macro magic, no intrinsic magic
[21:09:46] <cmr> Sharp: it's just normal optimizations
[21:09:59] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[21:10:06] <nwmcsween> hmm I wouldn't mind doing a posix lib in rust
[21:10:08] <strcat> LLVM will inline a call like filter(), then it will split up the Filter struct with SROA, and end up with just a single sleek loop
[21:10:20] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[21:10:29] <Sharp> filter() is always inlined because it's small, or for some other reason?
[21:10:31] <nwmcsween> the simd looks great
[21:10:39] <strcat> Sharp: inlining is based on thresholds
[21:10:49] <strcat> it adds up the size cost of instructions, and inlines if it's below the threshold
[21:10:54] <strcat> it's fully deterministic/guaranteed
[21:11:14] <strcat> although for cross-crate inlining you do need #[inline] since we don't yet have support for LTO
[21:11:23] <Sharp> Ah, was about to ask
[21:11:27] <Sharp> Whether there was such a hint.
[21:11:40] <Sharp> So it's not antithetical to Rust to give compiler hints like that?
[21:11:43] <strcat> Sharp: well, #[inline] makes it output an AST for xcrate inlining
[21:12:01] <strcat> it *also* adds an inlinehint, but you're rarely if ever going to want inline hints
[21:12:14] <Sharp> Well, no--odds are low that you're going to outsmart LLVM
[21:12:26] <Sharp> I was more asking about it as a design philosophy thing.
[21:12:48] <strcat> Sharp: as a design philosophy thing, rust will expose all the tools you get in C + GNU extensions performance-wise
[21:12:53] <strcat> we have attributes so it's easy
[21:13:09] <strcat> (all *useful* things)
[21:13:13] <Sharp> Like I said above… every Rust design decision is awesome!
[21:13:27] <Sharp> Well, except for lack of TCO but I understand why.
[21:14:42] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[21:14:50] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[21:14:50] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[21:14:55] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[21:16:08] *** Joins: lmandel_ (lmandel@383121B7.B2666F0E.66399531.IP)
[21:16:59] *** Quits: lmandel (lmandel@383121B7.B2666F0E.66399531.IP) (Ping timeout)
[21:16:59] *** lmandel_ is now known as lmandel
[21:17:02] *** Quits: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com) (Connection reset by peer)
[21:17:37] *** Joins: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com)
[21:19:11] *** Joins: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[21:19:17] <Sharp> Actually… I do have one question re: performance.  C++ templates do inline expansion for polymorphic types, which leads to some nontrivial performance improvements.  Is there an option for doing that in Rust?  It's kind of the only thing I miss from C++ when I'm writing C.
[21:19:36] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[21:20:09] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[21:20:10] <cmr> Sharp: if you're using generics, it's all inlined.
[21:20:20] <kmc> Rust generics are implemented by generating code for each instantiation, same as C++ templates
[21:20:25] <Sharp> Oh, interesting.  So they aren't "generics" in the Java sense.
[21:20:26] <cmr> if you're using trait objects, you're getting dynamic dispatch.
[21:20:30] <cmr> there's a wiki post about it somewhere
[21:20:32] <Sharp> Ah, okay.
[21:20:33] <kmc> Sharp: correct
[21:20:42] <Sharp> So traits = virtual functions, generics = templates, both are available.
[21:20:48] <kimundi> yes
[21:20:52] <cmr> generics use traits
[21:20:56] <cmr> trait objects = virtual
[21:21:04] <kimundi> well, trait objects vs trait bounds
[21:21:12] <kmc> Sharp: we can't do it the Java way because we don't have a uniform representation of values; you can instantiate the same generic function for unboxed ints and for some huge struct by value
[21:21:25] <cmr> fn foo<T: Foo>(x: T) monomorphized, fn foo(x: &Foo) virtual
[21:21:35] <kmc> or e.g. for unique and for managed pointers, which will generate different implicit destructor code
[21:21:38] <Sharp> Well, you could use smart boxing/tagging but I suppose that doesn't work when you give people the level of access to values we do
[21:21:56] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Quit: WeeChat 0.4.2)
[21:21:57] <kmc> right
[21:22:02] <SiegeLord> rusti: /*/**/*/
[21:22:03] -rusti- ()
[21:22:33] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[21:26:14] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[21:26:41] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[21:28:25] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[21:29:01] <SiegeLord> Are there any other syntactical changes on the horizon?
[21:29:20] <SiegeLord> I know of /*^ Are there others?
[21:30:04] <Jesse> i want more infix operators
[21:30:26] <Jesse> e.g. for overflowing [int mod 2^n] arithmetic
[21:31:27] <Jesse> i suggested using (a ++ b) for mod-on-overflow and (a + b) for fail-on-overflow
[21:31:31] <SiegeLord> Err... I meant on a lexer level mostly
[21:31:32] <Jesse> ++ -- ** but not //
[21:31:37] <SiegeLord> What's that called... grammar?
[21:31:57] <Sharp> I'm pretty sure new infix operators would be in the lexer phase since they're tokenized there.  Maybe not though.
[21:32:23] <Jesse> my first choice for overflowing infix operator is ⊕ but apparently some people want their code to be ASCII
[21:32:25] * ksf votes for arbitrary user-definable operators
[21:32:38] <ksf> ...and fixity.
[21:32:46] <ksf> come on, it's not *that* hard, from a grammar perspective.
[21:32:48] <kmc> mixfix like agda!
[21:33:32] <Jesse> eh, i think you want to decide up front what's an operator and what the precedence is
[21:33:33] <doomlord_> a.foo(b) is aproximation to infix already
[21:33:34] <cmr> ksf: the reason we don't have it isn't grammar.
[21:33:43] <Sharp> If I wanted to read code and have no idea what it was doing, why wouldn't I just stick with C++?
[21:33:50] <cmr> Sharp++
[21:34:05] <Jesse> associativity can be left for a later stage, perhaps
[21:34:24] <ksf> custom operators are not any more opaque than the subtle differences between to_bytes() and into_bytes() etc.
[21:34:30] <kimundi> I still like making a `foo` b sugar for a.foo(b)... but I guess there are to many issues with that, starting with markdown syntax, fixed priority, and fixed fixivity
[21:34:35] <ksf> after lexing, definitely.
[21:34:42] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:34:55] <ksf> first lex, then parse the top level, containing fixity information, then parse expressions with shunting yard.
[21:34:57] <doomlord_> maybe you can setup a text editor to shorten symbols for you - like emacs pretty-mode
[21:35:04] <Jesse> oh, no programming language can use backticks because markdown?
[21:35:26] <kmc> Jesse: yeah, deciding up front is good, which is why you'd define your new operators in traits and set their fixity there
[21:35:31] <kmc> as is often done in Haskell
[21:35:48] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[21:35:58] <kmc> C++ has the worst of both worlds: the set of operators and their fixities is baked into the language, but the overloading is totally untyped and unstructured
[21:36:24] <Sharp> kmc, under your scheme would there be restrictions on operator names?
[21:36:44] <kmc> so libraries like Boost.Spirit get to abuse the existing operators however they like, yet they can't define new ones and adjust fixity to make actually nice EDSL syntax
[21:36:45] <doomlord_> i always remember the arguments about operator| for dot product..
[21:36:56] <kmc> Sharp: I don't have a specific scheme in mind
[21:36:59] <jvns> what does the "||" mean in spawn( || println("Hi!") );? I'm having trouble finding a definition in the tutorial
[21:37:01] <FreeFull> I wouldn't have the ability to make stuff infix without the ability to specify fixity
[21:37:09] <kmc> jvns: it's a lambda
[21:37:10] <ksf> jvns, lambda without arguments
[21:37:25] <kmc> rusti: (|x,y| x + y)(2, 3)
[21:37:27] -rusti- pastebinned 7 lines of output: http://sprunge.us/bYMd
[21:37:36] <kmc> even in the future nothing works :(
[21:37:40] <FreeFull> rusti: (|(x,y)| x + y)(2,3)
[21:37:41] -rusti- pastebinned 10 lines of output: http://sprunge.us/Ifig
[21:37:43] <Sharp> To me it's sort of like macros--I could see infix operators if they were clearly identified as such, but then that would be inconsistent with existing infix operators.
[21:37:45] <FreeFull> rusti: (|(x,y)| x + y)((2,3))
[21:37:46] -rusti- pastebinned 7 lines of output: http://sprunge.us/IaAP
[21:37:47] <kimundi> rusti: (|x: uint,y: uint| x + y)(2, 3)
[21:37:47] <Sharp> (Or *fix)
[21:37:48] -rusti- 5u
[21:38:01] <FreeFull> I should have looked at the error
[21:38:09] <nwmcsween> same sort of syntax as in ruby
[21:38:20] <ksf> Sharp, infix operators are everything that's symbols, letters are prefix.
[21:38:24] <ksf> that's how haskell does it.
[21:38:44] <kmc> Sharp: I think it would be nice if + were somehow defined as part of the Add trait, rather than being baked in and then putting #[lang="add"] on Add
[21:38:48] <FreeFull> Haskell has it defined in terms of Unicode categories
[21:38:52] <ksf> and foo x y == x `foo` y as well as a + b == (+) a b
[21:39:08] <doomlord_> <$> .. wtf
[21:39:21] <ksf> <$> is just short for fmap
[21:39:27] <kmc> in Haskell you can also define operators that aren't part of a typeclass (i.e. trait)... but you only get to define them once, not overload them for each type
[21:39:40] <kmc> in other words whether something is overloadable is orthogonal to whether it's infix or prefix
[21:39:43] <ksf> useful to have it as a symbol, otherwise you'd use `fmap` quite often.
[21:39:50] <kmc> typeclasses for the former, simple syntactic distinction for the latter
[21:39:51] <Sharp> I agree that without overloading the problem becomes less severe.
[21:40:33] <ksf> <$> might be illegal in rust, though, because generics and macros.
[21:40:35] <Sharp> How do you specify associativity?  Or did you mention that above?
[21:40:51] <ksf> Sharp, as top-level definitions.
[21:40:51] <kmc> you just make a fixity declaration
[21:40:58] <kmc> infixl 3 * -- or such
[21:41:07] <ksf> because they're top level they can be parsed before you need to resolve fixity in expressions.
[21:41:21] <ksf> though technically speaking, having associativities for let-bindings would work.
[21:41:32] <kmc> doomlord_: there's a systematic meaning to the operators  <$> <$ <*> <* *>  which makes them fit together into a little domain-specific language for composing effects
[21:41:35] <ksf> probably bad software design to use that, though, so who cares.
[21:41:46] <kmc> doomlord_: for example you can write BNF-like grammar productions very concisely with these operators
[21:42:02] <Sharp> Actually, it occurs to me that unknown associativity is probably as big of a problem with custom infix operators as anything.  Moreso, even.
[21:42:11] <ksf> on another note, I'm surprised noone on this channel yet confused kmc and me.
[21:42:51] <Sharp> Again, just from a "reading the code" perspective.  It's a problem that just doesn't occur with a fixed set of operators and prefix calls.
[21:43:11] <ksf> Sharp, with a fixed set you still get overloads and *completely unexpected* behaviour.
[21:43:12] <doomlord_> i guess like anything is familiarity
[21:43:15] <SiegeLord> ksf: Yay for different colors ;)
[21:43:18] <ksf> to the point that it's confusing.
[21:43:19] *** Joins: vertexclique (vertexcliq@9895FAA6.A706E518.1826D296.IP)
[21:43:21] <Sharp> Why do you have to have overloads?
[21:43:30] <Sharp> Because double + vs int +?
[21:43:47] <doomlord_> overloading + etc is really useful for 3d programming
[21:43:51] <doomlord_> linear algebra
[21:44:01] <ksf> not only that. If I have struct Euros { euros: BigInt } then I want to overload + on them.
[21:44:01] <strcat> Sharp: operators are just sugar for using the operator traits
[21:44:07] <mcpherrin> Abstract algebra!
[21:44:12] <benh> Because there's only so many operators, but everybody wants shorter syntax for their operations?
[21:44:16] <strcat> Sharp: (at least for most of them)
[21:44:16] <Sharp> strcat: well, you could go the full LISP route :P
[21:44:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[21:44:37] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[21:44:44] <mcpherrin> Hmm, I should go the other way.  Implement a language with only binary infix operators
[21:44:44] <FreeFull> Haskell makes partial application real easy
[21:44:45] <ksf> going full lisp *does* actually make sense, but in a different way: as a baseline onto which you can plug arbitrary syntaxes.
[21:44:52] <ksf> syntaxen? syntaxi?
[21:44:58] <Sharp> Syntax, I think.
[21:45:04] <strcat> I think it's possible we could get sugar for infix function calls but not custom operators and the syntax for calls isn't going to change
[21:45:08] <doomlord_> we've got lisp for that :)
[21:45:11] <FreeFull> Idris lets you define your own syntax but is nowhere near Lisp languagewise
[21:45:12] <kmc> when a Haskell library defines a bunch of different infix operators, there should be some system to the names, as there is with <$> <$ <*> <* *>
[21:45:29] <kmc> people miss this when they flip out over the number of "comic strip characters swearing" operators that some libraries define :)
[21:45:34] <FreeFull> kmc: lens has a million different operators
[21:45:38] <FreeFull> But they do have a system
[21:45:39] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:45:40] <kmc> of course it is possible to write bad libraries with bad APIs in Haskell as well ;)
[21:46:03] <FreeFull> No language protects you from bad code
[21:46:14] <ksf> properly written libraries also define their operators in terms of named functions.
[21:46:14] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:46:14] *** ChanServ sets mode: +ao brson brson
[21:46:16] <kmc> (the type system isn't yet advanced enough to reject bad aesthetics)
[21:46:16] <FreeFull> Other than a language where all code does the same thing
[21:46:20] <doomlord_> mixfix is an interesting idea
[21:46:23] <Sharp> What would be a really readable solution (in my opinion) would be if a new operator had to carry its associativity around with it
[21:46:28] <Sharp> Syntactically
[21:46:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:46:36] *** Joins: dn (Mibbit@moz-2DE4F6D5.dynamic.hispeed.ch)
[21:46:37] <kmc> doomlord_: in Agda you can define a function named if_then_else_ and call it like   if 3 then 4 else 5
[21:46:42] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Quit: WeeChat 0.4.2)
[21:46:51] *** Quits: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[21:46:53] <cmr> whoa, that's cool.
[21:46:58] <ksf> yep. the only weekness I see in Agda's syntax is parenthesis.
[21:47:06] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[21:47:09] <ksf> ...but you can fix that by treating them specially.
[21:47:11] <kmc> ksf: also you need to insert spaces in places where you wouldn't otherwise
[21:47:13] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[21:47:19] <ksf> ...exactly because of that.
[21:47:22] <kmc> Sharp: honestly, I think if the associativity isn't blindingly clear from the *meaning* of the operators, programmers should write parentheses anyway
[21:48:04] <kmc> if someone who's reading your code has to look at a table of associativity and precedence, you've failed
[21:48:14] <ksf> it should be illegal to define [(_)], so that one doesn't need spaces.
[21:48:20] <kmc> ah I see ksf 
[21:48:45] <Sharp> kmc: Well, yeah, that was sort of my original point.  I think that outside of a few use cases it is rarely the case that operators are used for the "correct" thing.
[21:48:53] *** Joins: nrc (nrc@moz-BAE8D951.pck.nerim.net)
[21:48:54] <kmc> how do you mean?
[21:49:02] <Sharp> I honestly can't think of any language which allows operator overloading where it's restricted to something like vector addition in practice.
[21:49:18] <ksf> it always gets abused.
[21:49:34] <ksf> and if stuff is prone to get abused it's better just to liberalise it.
[21:49:36] <doomlord_> hehe bitshift operators and streams...
[21:49:38] <Sharp> Often by standard libraries, which doesn't help...
[21:49:41] <kmc> right
[21:49:47] <ksf> otherwise we're talking bondage and discipline.
[21:49:50] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:49:52] <kmc> this is an argument in favor of new user defined operators, yeah?
[21:50:05] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:50:16] <Sharp> To me, nonoverloadable new user defined operators are a much easier sell than overloadable fixed operators.
[21:50:24] <strcat> kmc: or just infix call syntax
[21:50:26] *** Joins: jeffdb (jeffbelg@9782ABE9.E8A0C4C2.E25FE9C.IP)
[21:50:35] <Sharp> I like strcat's idea.
[21:50:45] <kmc> I think focusing on "overloading" might be bad... we already have a feature for overloading in rust, namely traits, and if a user-defined operator is to be overloadable then it should be declared as part of a trait
[21:50:50] <kmc> like any other function
[21:50:55] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[21:50:59] * ksf agrees
[21:51:04] <strcat> kmc: well, operators are currently sugar for traits
[21:51:09] <cmr> kmc: overloading with traits is awful though
[21:51:13] <kmc> but they're sugar you can't hook up yourself
[21:51:20] <benh> did someone make the "so why didn't haskell use a new operator instead of overloading rightshift-assign for monads" joke yet
[21:51:22] <kmc> cmr: isn't that what traits are for? so traits are awful?
[21:51:31] <kmc> benh: nope you're the first!
[21:51:34] <kmc> :D
[21:51:34] <strcat> I just don't want more of them, because each new operator adds more precedence/associativity to remember
[21:51:37] <benh> \o/
[21:51:42] <cmr> kmc: no, they're quite useful, just not for function overloading.
[21:51:53] <strcat> function overloading is evil
[21:51:56] <strcat> just give things names
[21:51:59] <cmr> I disagree.
[21:52:09] <strcat> if you can't use traits for it, it's not doing the same thing
[21:52:11] <kmc> I probably have a broader definition of what "function overloading" is, because it seems like any use of traits is function overloading by definition
[21:52:13] <cmr> And naming is hard
[21:52:41] <strcat> cmr: learning APIs where many different operations are done with the same function (but not really the same function) is harder
[21:52:50] <cmr> Probably
[21:52:51] <doomlord_> i like function overloading because it leverages the type system to reduce the amount of naming you have to do
[21:52:57] <benh> I'm glad that we have named non-overloaded "::new" functions rather than C++ constructors anyway
[21:53:06] <strcat> function overloading doesn't leverage the type system
[21:53:08] <strcat> traits do
[21:53:43] <kimundi> So, would a scheme using traits that allows both `option_value.expect("foo")` and `option_value.expect(|| "foo")` be seen as good or bad?
[21:53:45] <Soft> Do I really have to implements traits separately for lets say T and &T
[21:54:05] <cmr> kmc: anyway the reason operating overloading with traits right now is bad is I can't have Mul for, say, a matrix and a matrix, and a matrix and a scalar at the same time.
[21:54:16] <strcat> cmr: that's unrelated to them being defined with traits
[21:54:22] <benh> That'd work in haskell afaik
[21:54:22] <kmc> strcat: see I would describe that as "traits are a principled form of function overloading which leverages the type system"
[21:54:34] <ksf> cmr, you should use a different operator for matrix-scalar, anyway.
[21:54:34] <kimundi> Soft: Depends on what you want to do
[21:54:40] <cmr> ksf: Which operator?
[21:54:43] <ksf> cmr, so just define a new one :)
[21:54:45] <strcat> cmr: you're talking about a temporary limitation of the trait system that afaik pcwalton said we would fix
[21:54:46] <Luqman> cmr: i thought there was a workaround for that
[21:54:48] <ksf> dunno. *. or something.
[21:54:52] <cmr> strcat: oh he did? goody.
[21:55:14] <benh> The first trait I tried to write was Convertible<From, To> and I didn't get far with it :)
[21:55:19] <dbaupp> strcat: do you know if there is an issue about that?
[21:55:20] <doomlord_> i think you can do it with double-dispatch ?
[21:55:22] <strcat> cmr: I interpret function overloading as meaning you define multiple methods in the same implementation with the same name and the compiler uses magic to figure out which to call
[21:55:24] <Sharp> Matrix * Matrix is a different operation from Matrix * scalar...
[21:55:38] <kmc> strcat: so I guess we just use the term differently, *shrug*
[21:55:40] <ksf> cmr, the reason is that it should be apparant from "m*m" and "m*.v" that m is a matrix and v a vector.
[21:55:46] <benh> Matrix * Matrix should be written as Matrix x Matrix imo, someone get the grammar on that
[21:56:00] <kmc> Perl has an infix x operator
[21:56:05] <Sharp> Agreed, but apparently operators can't have alphanumeric characters
[21:56:07] <Sharp> Or something
[21:56:09] <strcat> no more operators please. add generic infix call syntax ;p
[21:56:19] <strcat> a `dot` b
[21:56:20] <benh> unicode has an x operator, don't they
[21:56:24] <cmr> Infix call syntax would be super awesome.
[21:56:27] <strcat> and be happy that you don't need to learn more precedence layers
[21:56:31] <cmr> Yeah
[21:56:36] <cmr> I do agree about that
[21:56:37] <kmc> really you should use U+2062 'INVISIBLE TIMES'
[21:56:47] <Sharp> Generic infix call syntax is a great solution because it eliminates special casing, other than associativity.
[21:56:53] <ksf> how about we get rid of all the bikeshedding by providing a universial syntax that everyone can write their own frontend for?
[21:57:08] <cmr> ksf: let's call it risp
[21:57:09] <doomlord_> a.dot(b) :)
[21:57:11] <kmc> strcat: again I don't think learning the precedence is a real issue; how many C progarmmers have the whole C precedence table memorized? readable code doesn't rely on obscure details of the precedence ordering
[21:57:12] <cmr> (since rusp is taken)
[21:57:15] <benh> ksf: we'll need to fix the pretty printer first
[21:57:32] <ksf> what's wrong with {:?} ?
[21:57:32] <kmc> strcat: I'd support taking that one step further and making most situations that mix precedence today into compile-time errors
[21:57:38] <Sharp> I think most C programmers use parentheses where they aren't sure, actually
[21:57:40] <Sharp> At least in my experience
[21:57:43] <kmc> strcat: with only a few well-known things like a*b+c allowed
[21:57:53] <kmc> Sharp: yeah, and that's a good thing
[21:57:58] <ksf> Sharp, clang has extensive warnings regarding using enough parens.
[21:58:15] <ksf> it'll tell you to paranthise x << y + 1 , for example.
[21:58:25] <Sharp> Yes, they're somewhat irritating at times but I understand why they are there.  But at that point why even keep the precedence the same in a new language?
[21:58:32] <ksf> which is another issue: operator precedence shouldn't be transitive.
[21:58:40] <benh> https://github.com/mozilla/rust/issues/7590 might be the right issue for the thing with being unable to have multiple impls for generic traits?
[21:58:51] <cmr> strcat: it's not really magic? It looks at the types you called it with, and matches it up with the definition that has that type. I miss them, but I don't think Rust should have them.
[21:58:57] <Sharp> If you're going to ask for parens anyway, just make them required and be done with it :P
[21:58:59] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[21:59:01] <kmc> http://cm.bell-labs.com/who/dmr/chist.html has an interesting historical note regarding the precedence of & and == in C
[21:59:06] <kmc> (and is also a generally interesting article)
[21:59:12] <Sharp> Or make everything left associative, or something.
[21:59:27] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:59:49] <ksf> lisp solved the syntax problem by throwing an OS (emacs) on it.
[22:00:04] <cmr> I don't even know what associativity means.
[22:00:22] <ksf> cmr, is 1+2+3 (1+2)+3 or 1+(2+3)?
[22:00:22] <Sharp> cmr: does a + b + c bind as (a + b) + c or a + (b + c)?
[22:00:24] <cmr> kmc: I get "Object not found"
[22:00:30] <Sharp> Precedence is about interactions with other operators.
[22:00:35] <cmr> Ah
[22:00:41] <cmr> I thought they were the same
[22:00:43] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Quit: WeeChat 0.4.2)
[22:00:51] <kmc> cmr: on that URL? works for me
[22:00:58] <ksf> cmr, depending on algebra, yes.
[22:01:14] <cmr> kmc: hm, works for me now too
[22:01:22] <ksf> though I'd actually expect + to always be commutative.
[22:01:22] <cmr> ksf: no, I mean precedence and associativity
[22:01:40] <benh> We still have string addition, don't we
[22:01:46] <benh> rusti: "foo" + "bar"
[22:01:46] <ksf> well, they're related. associativity is precedence within a single operator, so to speak.
[22:01:47] -rusti- ~"foobar"
[22:02:13] <benh> no commutativity for you :(
[22:02:18] <Sharp> It would be nice™ if you could actually enforce associativity for the + operator somehow.  Probably impossible though.
[22:02:19] <ksf> rusti: "1" + "2" // witness perl programmers whince
[22:02:19] -rusti- ~"12"
[22:02:35] <Sharp> Er, commutativity.
[22:02:56] *** Quits: nrc (nrc@moz-BAE8D951.pck.nerim.net) (Ping timeout)
[22:03:10] <kmc> Sharp: what if I want to write a non-commutative group using additive syntax?
[22:03:11] <ksf> there could be the one or other compiler optimisation in that.
[22:03:34] <Sharp> How often have you had to do that?
[22:03:37] <Sharp> Or wanted to?
[22:03:40] <kmc> 0 times so far :)
[22:03:42] <Sharp> And is Rust really a good language for that sort of system? :P
[22:03:58] <kmc> for cryptography maybe
[22:04:03] <kmc> but i'm fishing here ;P
[22:04:04] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[22:04:33] <kmc> and in Agda when you define overloadable operators you can define some laws they need to satisfy... because Agda has dependent types
[22:04:52] *** Quits: canhtak (jeremy@moz-652E7CA4.wl.t.ulaval.ca) (Quit: canhtak)
[22:05:10] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:05:26] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[22:06:16] <FreeFull> What about Idris?
[22:06:21] <Sharp> Is Agda's type system decidable?
[22:06:36] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:07:00] <ksf> Sharp, if what you feed it is total, yes.
[22:07:33] <Sharp> Total as in total recursive?
[22:07:34] <ksf> FreeFull, edwinb's answer to "linear types a la rust" was "make an edsl"
[22:07:43] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[22:08:12] <ksf> Sharp, total as in decidable :)
[22:08:28] <Sharp> So basically: the type system is decidable provided you only give it decidable types? :D
[22:08:34] <ksf> yep.
[22:09:03] <Sharp> I would probably not call it decidable then :P
[22:09:21] <ksf> well, you can statically assert that things are decidable.
[22:09:23] *** Quits: dn (Mibbit@moz-2DE4F6D5.dynamic.hispeed.ch) (Quit: http://www.mibbit.com ajax IRC Client)
[22:09:34] <ksf> that is, agda will yell at you if it can't figure that out on its own.
[22:09:49] <ksf> so you don't get nasty surprises like non-terminating builds.
[22:09:49] <Sharp> Oh, interesting.  So you have to at least know you're doing something wrong.
[22:09:55] <Sharp> Well, potentially wrong.
[22:10:01] *** Joins: tikue_ (tikue_star@5D962672.CD72397.689607DE.IP)
[22:14:00] <kmc> my vague understanding is that Agda separates unrestricted recursion from the rest of the language, much like how Haskell separates IO execution from function evaluation
[22:15:13] <Sharp> Just for the type system, or for the entire language?
[22:15:29] <ksf> agda is dependently typed, so both are one and the same.
[22:16:48] <kimundi> Does anyone know why I can no longer update my github comments?
[22:17:11] * kimundi hopes he is not shadowbanned again
[22:17:40] <kimundi> Is the ~3min old comment of me visible here: https://github.com/mozilla/rust/pull/9967 ?
[22:17:53] <kmc> yes
[22:18:07] <kimundi> hm, okay
[22:18:29] <Sharp> is the type of an Agda program the return value of the program?
[22:18:30] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[22:19:17] <ksf> erm... no. but please don't ask me to explain it.
[22:19:46] *** Joins: nejucomo (Adium@moz-CF6292E.tmodns.net)
[22:20:23] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[22:20:52] <kmc> Sharp: no, but you can call arbitrary functions within a type expression
[22:20:57] <kmc> and types are values so you can pass them to/from functions
[22:21:31] <Sharp> So in theory, I could run any terminating portion of my program during compilation, provided I specified it as a type.
[22:21:50] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[22:21:53] *** Joins: nejucomo1 (Adium@moz-CF6292E.tmodns.net)
[22:22:05] *** Quits: nejucomo (Adium@moz-CF6292E.tmodns.net) (No route to host)
[22:22:09] <kmc> http://www.cse.chalmers.se/~ulfn/papers/afp08/tutorial.pdf is a nice introduction to Agda that's pretty accessible if you have some background in languages like Haskell or ML
[22:22:14] <kmc> (preferably Haskell + GADTs)
[22:22:22] <kmc> although it's pretty old by now and there may be something better out there
[22:22:32] *** Quits: nejucomo1 (Adium@moz-CF6292E.tmodns.net) (Quit: Leaving.)
[22:23:05] <Sharp> I'm pretty familiar with Hindley-Milner but my understanding was that what was nice about it was that it is, in fact, always decidable (and nearly always quickly decidable, at that).
[22:23:24] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[22:23:42] <kmc> I don't really understand why people care so much about decidability of typechecking... plenty of things a compiler does are undecidable in theory, the issue is whether it comes up in practice
[22:23:44] <strcat> Sharp: until you add subtyping? and we have subtyping ;p
[22:23:52] <strcat> lifetimes!
[22:23:56] <kmc> C++ compilers just put a bound on template expansion depth and that seems to work OK
[22:24:25] <Sharp> Template expansion depth isn't actually an issue with H-M though, it's an issue with inlining.
[22:24:36] <kmc> sure, it's just another example of "undecidable type system"
[22:24:44] <strcat> Sharp: it doesn't have to do with inlining
[22:24:49] <kmc> to me the nice thing about H-M is that it's pretty expressive and yet inference works reliably
[22:24:55] <strcat> templates aren't necessarily inlined any more than regular functions
[22:25:04] <bjz_> nmatsakis: what is the semantics of `extern "C stdcall"` again?
[22:25:14] <Sharp> Yes, it does.  If you passed around types you wouldn't have to worry about maximal depth (though it would cost you some time checking class membership)
[22:25:23] <ksf> inference for subtyping is decidable.
[22:25:30] <strcat> Sharp: it's not inlining, is all I can say
[22:25:36] <ksf> it's nastly, but not even unfeasible.
[22:25:54] <strcat> if you compile without optimizations and have a function template recursing 17 levels deep at a type level, you will have 17 functions
[22:26:01] <strcat> they don't get inlined as part of template expansion
[22:26:08] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:26:45] <Sharp> Does C++ allow for recursive polymorphic datatypes?  That *is* undecideable I think.
[22:27:13] <dbaupp> bjz_: git-grep tells me "none" ("C stdcall" doesn't exist anywhere), I guess you meant just plain "stdcall"
[22:27:14] <strcat> templates are a purely typed functional language with knowledge of C++ types
[22:27:20] <strcat> it's a turing complete language
[22:27:31] <strcat> so I doubt it counts as decidable in any way ;p
[22:27:39] <Sharp> Then I have the same issues with it :P
[22:27:54] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:28:02] <bjz_> dbaupp: apparently, according to h3r3tic you can stack the abi thingies
[22:28:03] <Luqman> dbaupp: no, that's valid afaik
[22:28:32] <strcat> Sharp: http://ix.io/612 for example, computing sums with types
[22:28:36] <dbaupp> bjz_, Luqman: oh, neat
[22:28:39] <strcat> you could also write higher-order functions in types
[22:28:41] <Sharp> Actually, I take that back, strcat… templates may be Turing Complete but if the functions are defined at runtime they can still be compiled deterministically
[22:28:44] <strcat> and then call fold
[22:28:44] <Sharp> It's just that that's not how C++ does it
[22:28:46] <bjz_> I remember nmatsakis has talked about it on irc too
[22:29:05] <strcat> Sharp: hm?
[22:29:16] *** kimundi is now known as zz_kimundi
[22:29:31] <strcat> Sharp: templates aren't type checked from their definition though
[22:29:39] <strcat> they're type-checked as you instantiate them
[22:29:43] <strcat> and this is all tied into parsing and so on
[22:29:44] <bjz_> duck typed
[22:29:46] <strcat> it's all done at the same time
[22:29:58] <strcat> to parse C++, you need to type check C++
[22:30:04] <strcat> to type check C++, you obviously need to parse C++
[22:30:14] <strcat> fwiw, the C++ standard doesn't even define a full grammar
[22:30:18] <dbaupp> Luqman, bjz_: Hm, it seems like ABIs would make more sense as `extern (C, stdcall) fn ...` rather than strings
[22:30:23] <Luqman> bjz_: i think for "C stdcall" it would pick stdcall over C where it can depending on arch
[22:30:27] <strcat> it defines an approximation and then lists a bunch of reasons it's not the full grammar
[22:30:31] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:30:38] <Sharp> That doesn't surprise me too much
[22:30:42] <bjz_> dbaupp: yep
[22:30:44] <Sharp> A lot of languages don't specify a full grammar :P
[22:30:57] <strcat> Sharp: yeah but it's basically because they don't even know what the grammar is
[22:31:13] <strcat> or if it can have a well-defined grammar
[22:31:22] <bjz_> dbaupp: or #[extern(C, stdcall] fn ...
[22:31:22] <Luqman> bjz_: so stdcall on x86[_64] and C otherwise
[22:31:30] <bjz_> Luqman: coolies
[22:31:48] <bjz_> Luqman: yeah, I'm adding it to gl-rs
[22:31:53] <strcat> Sharp: http://stackoverflow.com/a/14589567/1009916 this is pretty scary
[22:32:00] <bjz_> Luqman: for compat with win32
[22:32:01] <Sharp> Ew.
[22:32:14] <dbaupp> bjz_: I feel like that wouldn't work: how does one pass extern fns around in the type system
[22:32:23] <bjz_> dbaupp" true
[22:32:27] <Luqman> bjz_: but not sure if that's what you want then, since it's not OS based but just the arch
[22:32:33] <bjz_> dbaupp: yep, you're right
[22:32:39] <bjz_> Luqman: ah
[22:32:44] <strcat> 'This summary of C++ syntax is intended to be an aid to comprehension. It is not an exact statement of the language.'
[22:32:52] <strcat> you know you're in trouble when a massive standard document says this
[22:33:05] <Sharp> template<bool no, bool yes, int f, int p> struct IsPrimeHelper  : IsPrimeHelper<p % f == 0, f * f >= p, f + 2, p> {}; -- wait, this works?
[22:33:07] <Sharp> Whaaat?
[22:33:17] <mcpherrin> strcat: If it's a summary, then I would expect a disclaimer like that :P
[22:33:18] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[22:33:26] <strcat> Sharp: C++11 added variadic templates too (lists), and yes, it works
[22:33:51] <strcat> ofc you could still define type-level lists before but now they are first-class ;p
[22:33:58] <Sharp> And this is supposed to convince me that undecidable type systems are a good thing?
[22:34:02] <strcat> no
[22:34:06] <strcat> just that C++ is weird
[22:34:17] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[22:34:24] <Sharp> Fair enough.
[22:34:41] <cmr> heh
[22:34:46] <strcat> templates were added to allow generic code but not really thought through, and it took ages for compilers to half-implement them
[22:35:04] <strcat> and then people started using them to compute stuff at compile-time, or do crazy metaprogramming stuff
[22:35:15] <strcat> and *then* they started added features to support that more...
[22:35:19] <strcat> yay insanity ;p
[22:35:28] <Sharp> People should have just learned m4
[22:35:30] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[22:35:37] <strcat> templates aren't like macros at all though
[22:35:38] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[22:35:43] <cmr> the more I learn around pldi the more I see that rust's name is very well-deserved.
[22:35:49] <strcat> you can implement a type-safe variant type with templates for example
[22:35:56] <strcat> even though C++ doesn't have a built-in variant type
[22:35:57] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:36:30] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[22:37:02] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:37:23] <bjz_> strcat: but it's also given the language the ability to meet the demands of people who want to do things the language designers didn't think of. if you can do that in a way that is less.... absolutely insane, that would be great. perhaps dependant types could meet that need?
[22:37:40] <strcat> you can do dependent typing with templates
[22:37:52] <Sharp> Yeah, they seem one and the same based on that code snippet.
[22:37:55] <strcat> bjz_: templates are terrible *because* they allow these things and are also *awesome* because they allow these things
[22:38:05] <bjz_> strcat: exactly
[22:38:07] <strcat> Sharp: they aren't textual or AST-based in any way
[22:38:13] <strcat> they're fully integrated into the type system
[22:38:20] <Sharp> Dependent types, not m4.
[22:38:23] <strcat> oh
[22:38:58] <bjz_> strcat: dependent types very much has the smell of templates written all over it
[22:39:33] <strcat> Sharp: one example would be that you can use them to define measurement systems and compose that into measurements with arbitrary dimensions
[22:39:44] <bjz_> strcat: but they have a theoretical basis behind them (from my albeit limited understanding)
[22:39:49] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[22:40:11] <strcat> Sharp: http://www.boost.org/doc/libs/1_54_0/doc/html/boost_units/Examples.html#boost_units.Examples.DimensionExample ;p
[22:40:32] <strcat> it's a special mix of insanity and an awesome feature
[22:41:26] <kmc> C++ templates are such a unique feature that I don't think one should use them to argue about the general desirability of metaprogramming or dependent types or whatever else
[22:41:54] <Sharp> How does static_rational work?
[22:42:04] <dbaupp> black magic
[22:42:06] <bjz_> strcat: proper, statically checked dimensional analysis is something that should be able to be expressed in a library, not as a language feature like in F#
[22:42:39] <dbaupp> Sharp: 
[22:42:41] <strcat> bjz_: you couldn't express it in a rust library though
[22:42:42] <dbaupp> Sharp: ... http://www.boost.org/doc/libs/1_53_0/doc/html/boost/units/static_rational.html
[22:42:47] <Sharp> Yeah, I'm reading it.
[22:42:49] <bjz_> strcat: no
[22:43:03] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[22:43:23] <bjz_> strcat: believe me I am aware :)
[22:43:25] <strcat> Sharp: the way you think about this kind of thing in a C++ mindset is that you have associated constants and associated types, and you can define those in terms of other templates
[22:43:48] <strcat> usually everything interesting is defined recursively against a base case type
[22:43:49] <Sharp> typedef typeof((typeof_::make< X >()/typeof_::make< Y >()));
[22:43:54] <Sharp> lol
[22:44:04] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[22:44:16] <bjz_> Sharp: it's basically a really ugly pure functional language that can be run at compile time
[22:44:40] <bjz_> (to generate code)
[22:44:55] <strcat> it's less ugly in C++11 since you have decltype, first-class lists (variadic templates, parameter packs) and so on
[22:45:15] <bjz_> strcat: concepts will greatly improve things in C++14
[22:45:17] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Ping timeout)
[22:45:22] <strcat> bjz_: they dropped concepts
[22:45:30] <strcat> they scaled back to 'concepts lite'
[22:45:34] <bjz_> strcat: yes
[22:45:47] <strcat> and it's still probably not going to be in C++14 ;p
[22:46:10] <bjz_> strcat: that is bjane's marketing ploy to appease the commitee
[22:46:20] <bjz_> "Concepts Lite"
[22:46:43] <bjz_> strcat: he really wants axioms, but is saving that for another day :)
[22:47:09] <strcat> and keep in mind there are already enable_if and static_assert
[22:47:12] <Sharp> I understand the desire for a type system to do things like this, I guess.  Certainly, it's more reliable than unit testing.
[22:47:29] *** Quits: vertexclique (vertexcliq@9895FAA6.A706E518.1826D296.IP) (Ping timeout)
[22:47:29] *** Joins: vertexcl_ (vertexcliq@57F87315.6F179107.1826D296.IP)
[22:47:52] <bjz_> strcat: how up to date are you?
[22:47:58] <strcat> on concepts? I'm not
[22:48:12] <bjz_> strcat: apparently it's been accepted
[22:48:31] <strcat> bjz_: runtime sized arrays were also accepted in 2 forms and are being removed and maybe readded
[22:48:40] <strcat> they can hit undo
[22:48:46] <bjz_> heh
[22:49:01] <strcat> and yes, they added 2-3 kinds of runtime-sized arrays
[22:49:14] <pcwalton> I personally feel that like C++ templates are the engineering approach to Haskell (+ GHC extensions) typeclasses
[22:49:16] <strcat> in addition to what they already have (C arrays, std::array, std::vector, std::valarray)
[22:49:20] <benh> (I completely forgot what concepts were supposed to do, are they basically the non-trait-object bits of our traits?)
[22:49:21] <pcwalton> they needed something *now*
[22:49:27] <pcwalton> when they were designing the language
[22:49:36] <strcat> the stuff people use them for now wasn't intended
[22:49:38] <pcwalton> instead of waiting for the theoreticians to make it all concept-y
[22:49:58] <bjz_> pcwalton: wasn't it stepanov that championed them?
[22:50:15] <SiegeLord> Those "concepts lite" look very much like D's template constraints
[22:50:16] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[22:50:18] <pcwalton> I forget the history
[22:50:42] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:51:02] *** Quits: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com) (Ping timeout)
[22:51:25] *** Joins: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net)
[22:51:32] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[22:52:13] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[22:54:11] <bjz_> pcwalton: I think with the stl they have the idea of concepts, but they're just not language constructs
[22:54:27] <pcwalton> yup, they do
[22:54:40] <pcwalton> I think the machinery for concepts at the language level wasn't invented at the time
[22:54:41] <bjz_> pcwalton: it was interesting watching stepanovs A9 lectures
[22:54:59] <pcwalton> I should watch those
[22:55:04] <bjz_> pcwalton: yeah
[22:55:15] <bjz_> pcwalton: really beautiful stuff
[22:55:15] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Input/output error)
[22:55:19] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:56:01] <bjz_> pcwalton: I find it beautiful, even if it's trapped in an ugly implementation
[22:56:21] <pcwalton> I think concepts/typeclasses are really elegant
[22:56:26] <pcwalton> I consider them basically the same thing
[22:56:45] <bjz_> http://www.youtube.com/watch?v=aIHAEYyoTUc
[22:56:52] <bjz_> pcwalton: yeah
[22:57:36] <bjz_> pcwalton: if they can be implemented in a way that monomorphises down to lovely assembly, I would find that extremely beautiful
[22:57:51] <pcwalton> agreed
[22:57:57] <bjz_> pcwalton: his definition of 'pair' is really lovely
[22:58:13] <pcwalton> MLton pioneered the monomorphization approach
[22:58:20] <pcwalton> for generics
[22:58:22] <bjz_> oh cool
[22:58:28] <bjz_> will have to look into that
[22:58:29] <pcwalton> although it's nothing that new, obviously C++ was doing it too
[22:58:36] <bjz_> yep
[22:59:00] <bjz_> pcwalton: that A9 series is long, but it's worth it
[22:59:11] <pcwalton> yeah, I'll take a look when I get a chance
[22:59:49] * strcat has to figure out allocators for rust-core :|
[22:59:51] <bjz_> pcwalton: I think we could learn a bit from how he desined the stl
[23:00:02] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[23:00:02] <pcwalton> how so?
[23:00:02] *** Joins: bodie (bodie@moz-10569756.cmdnnj.fios.verizon.net)
[23:00:08] <bodie> hullo!
[23:00:19] <bodie> I am here because I can't seem to get Rust to build on CentOS 6.4
[23:00:23] <pcwalton> I agree with not using abbreviations so much btw ;)
[23:00:27] <pcwalton> I know that was one of his design goals
[23:00:50] <strcat> bodie: it should work, what error(s) do you get?
[23:01:03] <strcat> I am pretty sure the snapshot builder is CentOS6
[23:01:14] <bjz_> pcwalton: hah, he actually says in the lecture series that one of his friends convinced him that sometimes short identifiers are ok
[23:01:22] <bodie> http://pastebin.centos.org/5266/
[23:01:38] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[23:01:41] <strcat> bodie: that's just an out-of-memory failure
[23:01:45] <strcat> how much memory do you have available?
[23:01:53] <bodie> Oh....  *looks again*
[23:02:05] <strcat> also, master uses a lot less than 0.8 iirc
[23:02:05] <bodie> not much, it's a 512MB VPS
[23:02:09] <strcat> bodie: ah that's not enough
[23:02:20] <bjz_> pcwalton: one thing, how he defined things in terms of less than - I found that extremely enlightening. we probably already do lots of that though
[23:02:22] <strcat> it would need an enormous amount of swapping (I think it currently peaks at ~1.3GiB)
[23:02:26] <bodie> isn't there some way to do it in chunks?  I guess I could add a bunch of swap...   
[23:02:34] <strcat> bodie: not really a way to do it in chunks
[23:02:35] <bodie> Gotcha
[23:02:46] <strcat> there's a lot of work to do on rustc performance/memory-usage
[23:02:50] <bodie> Thought 0.8 was the current version?  Or is master more stable?
[23:02:54] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:03:03] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[23:03:04] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:03:05] <bodie> gotcha
[23:03:10] <bjz_> pcwalton: I wonder if we also might want to try to consolidate our traits, use less of them - boil them down into more fundamental concepts
[23:03:10] <strcat> bodie: master is more stable, 0.8 was just a tag on master and lots of stuff has been fixed since then (even though it was recent!)
[23:03:17] <bodie> Oh!  Cool.
[23:03:21] <pcwalton> I agree that in general we should try to use fewer traits when possible
[23:03:32] <strcat> bodie: we run the tests on every pull request before merging, so master pretty much always works better than the last stable
[23:03:36] <pcwalton> I worry about trait explosion, it leads to things like Scala's TraverableLike and whatnot
[23:03:43] <bodie> I see
[23:03:56] <bjz_> pcwalton: fixing vec and str was really good
[23:04:11] <strcat> vec/str are still really bad
[23:04:18] <strcat> API is enormous, and they are slow
[23:04:24] <bjz_> pcwalton: it would be nice if we could begin to think more about the design side of things
[23:04:28] <bodie> I'm really turned on by Rust but I'm not sure it's right for my project.  Is this a suitable place to discuss this sort of thing?
[23:04:30] <strcat> and there are too many levels of things that need to get inlined
[23:04:34] <bjz_> pcwalton: agreed, but its better
[23:04:42] <strcat> bodie: yes
[23:04:43] <bjz_> bodie: sure
[23:04:48] <bodie> My main concern being interoperability with tools that have bindings for many languages, for example ZeroMQ
[23:04:50] <bjz_> bodie: what's your project?
[23:05:17] <bjz_> bodie: rust has an *extremely* good ffi for C apis
[23:05:35] <bodie> Ummm, a bit complicated, it's an AGPL series of standalone server applications that work together to process event data from user behaviors
[23:05:39] <bjz_> bodie: I've written lots of rust bindings
[23:05:41] <strcat> bodie: well, you can use C libraries in rust essentially as easily as you can use them from C++ (except that you need to use bindgen instead of just referring to a header, atm)
[23:05:49] <SiegeLord> I wouldn't call it extremely good... can't bind varargs
[23:05:49] <bodie> I may lurk here
[23:05:50] <bodie> forever
[23:05:51] <bodie> lol
[23:05:55] <kmc> or bitfields :/
[23:06:04] <kmc> it's at least as good as any FFI i've used, though
[23:06:11] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[23:06:12] <SiegeLord> D's can bind varargs
[23:06:20] <strcat> libraries that are designed to be used from other languages don't use varargs/bitfields
[23:06:21] <Sharp> What's the issue there?  Calling convention?
[23:06:22] <SiegeLord> Still no bitfields though
[23:06:29] <bodie> so basically, lots of little data points coming in, getting dumped into a db, then retrieved and filtered
[23:06:39] <Sharp> (Re: varargs)
[23:06:39] <bjz_> pcwalton: one thing I've been thinking of is global trait impls
[23:06:43] <bodie> Loving that this channel is somewhat active
[23:06:49] <bodie> I find Rust really quite exciting
[23:06:54] <bjz_> pcwalton: like Feild
[23:07:02] <bodie> I've been worrying there isn't enough community interest 
[23:07:22] <bjz_> pcwalton: base it on the fundamental operators and identities
[23:07:46] <pcwalton> strcat: that's not true sadly
[23:07:48] <pcwalton> objc_msgSend
[23:08:03] <bjz_> bodie: it's got a ton more lievely here
[23:08:03] <pcwalton> if we want to add Field and Ring I think I'm probably ok with that
[23:08:05] <bodie> bjz_, I'm new to writing bindings between languages -- where would I start?
[23:08:08] <strcat> pcwalton: well if they use varargs I wouldn't say it is designed to be used from other languages :)
[23:08:13] <bjz_> pcwalton: yeah, simple stuff
[23:08:14] <pcwalton> strcat: Obj-C is
[23:08:26] <bodie> C is my first language, but I have strayed. lol
[23:08:32] <pcwalton> Apple ships several bindings to other languages
[23:08:33] <bjz_> pcwalton: I had an PR proposed but looking back it was rushed
[23:08:44] <pcwalton> and it's all based on varargs :(
[23:08:50] <pcwalton> it makes me sad in servo
[23:08:50] <strcat> :s
[23:09:05] <bjz_> pcwalton: If traits impls could be specialised, then that would help alot
[23:09:37] <pcwalton> it may be worth looking into rewrite rules
[23:09:40] <bjz_> pcwalton: but field and Ring would probably just be 'bag' traits, ver akin to the C++ concepts
[23:09:46] <pcwalton> I would hope that autovectorization helps a lot
[23:10:02] <pcwalton> but I think maybe ghc rewrite rules are the way to go
[23:10:32] <bjz_> pcwalton: you could even maybe have some macrofied unittests that could help verify the properties for you
[23:10:38] *** Joins: newbatthis (Mibbit@6C6ED161.589CEA99.B7830B68.IP)
[23:10:38] <pcwalton> sure
[23:10:39] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[23:10:47] <doomlord_> do you have any measure of the size of the rust community ?
[23:10:49] <bodie> anywho, thanks for the pingback :) appreciate a nice active irc channel
[23:10:59] <bjz_> pcwalton: sort of like how fortress did
[23:11:02] *** Parts: bodie (bodie@moz-10569756.cmdnnj.fios.verizon.net) (Leaving)
[23:11:35] <strcat> xdelta3 is so disappointing
[23:11:48] * strcat doesn't understand how a day of rust commits can be a 13MiB delta
[23:12:26] <kmc> bjz_: yeah, disable rewriting and turn every rewrite rule into a QuickCheck test... I wonder if anyone has tried that for Haskell
[23:12:33] <kmc> that's a really good idea
[23:12:40] <bjz_> pcwalton: like, I doubt Rust's type system will ever be able to check for associativity etc, but a battery of auto unittests could help
[23:12:50] <Sharp> I have a very small encoding for Rust, it's called the Rust source code.  The diff is the text diff, and the decompression algorithm is rustc :P
[23:13:39] <bjz_> pcwalton: one thing I liked with stepanov was, 'if a type impls an operator, you should expect those properties to hold'
[23:14:18] <strcat> Sharp: I'm talking about the binary delta
[23:14:19] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[23:14:28] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:14:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:14:52] <newbatthis> hello, im trying to use extra::arc::RWArc to access data in order to bypass unsafe blocks. but im not sure how to do this
[23:15:12] <Sharp> I'm aware, but my point is that you're choosing a suboptimal algorithm because it decompresses faster rather than because it compresses really efficiently.
[23:15:31] <newbatthis> i have unsafe_count.write( |arg| *arg +=1), but i dont think thats quite right
[23:16:00] <newbatthis> its for a static immutable counter variable
[23:16:20] <aatch> newbatthis, immutable counter is a contradiction
[23:16:27] <bjz_> pcwalton: here was something crude I knocked up as an idea for cgmath: https://gist.github.com/bjz/bc7f44dca4826202daf4
[23:16:33] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:17:01] <bjz_> pcwalton: 'field' is basically the proper name for our current 'Num'
[23:18:09] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[23:18:13] <bjz_> pcwalton: it kind of displays some of the issues with our current syntax for generics :(
[23:18:22] *** Quits: nkoep (nik@moz-29487685.pool.mediaways.net) (Ping timeout)
[23:18:30] <bjz_> pcwalton: it's super hard to arrange them nicely
[23:18:44] <newbatthis> sorry that was a bad explanation. in my code, we originally used unsafe blocks around the counter. and we're supposed to change that to a safe counter. my instructor hinted that we should use RWArc
[23:18:53] <steven_is_false> Hi. I'm having trouble figuring out how to select from multiple ports. In particular, I have PortOne, and a Port. How do I select between them?
[23:19:10] *** Joins: nkoep (nik@moz-29487685.pool.mediaways.net)
[23:19:14] <bjz_> steven_is_false: what do you mean by 'select'?
[23:19:31] <steven_is_false> bjz_: Wait on two, or more ports at once.
[23:19:39] *** Joins: Tanner (Tanner@moz-CAA98E97.xxx)
[23:19:53] *** Parts: Tanner (Tanner@moz-CAA98E97.xxx) (WeeChat 0.3.8)
[23:20:06] <steven_is_false> In terms of futures. firstOf: fn(Future<A>, Future<B>) -> Future<A+B>
[23:20:22] <steven_is_false> A+B is shorthand for either A, or B
[23:20:24] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[23:21:29] <bjz_> pcwalton: re concepts/traits, I found this an extremely useful point: http://youtu.be/0avh39CI_ls?t=33m10s
[23:21:31] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:22:04] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[23:22:51] *** Quits: smarter (smarter@moz-1D179AD0.cust.bluewin.ch) (Ping timeout)
[23:23:09] *** Joins: smarter (smarter@moz-C232E8D9.cust.bluewin.ch)
[23:24:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:25:16] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:25:25] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:25:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:25:46] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[23:25:57] <bjz_> pcwalton: https://gist.github.com/bjz/7128601
[23:26:56] *** Quits: nkoep (nik@moz-29487685.pool.mediaways.net) (Ping timeout)
[23:27:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:27:59] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:28:58] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Ping timeout)
[23:29:57] *** Joins: nkoep (nik@moz-29487685.pool.mediaways.net)
[23:30:48] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[23:32:15] *** Quits: nkoep (nik@moz-29487685.pool.mediaways.net) (Ping timeout)
[23:32:34] *** Joins: marc (marc@E31B39DA.F9D61A8.416A0103.IP)
[23:32:44] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[23:33:36] *** Joins: pongad (Mibbit@6ABC2E61.4671019F.DB2023DD.IP)
[23:33:59] *** Joins: nkoep (nik@moz-29487685.pool.mediaways.net)
[23:35:21] <ercxx> Do the traits not get imported automatically when an object implementing them is imported?
[23:35:54] <SiegeLord> No
[23:36:41] <ercxx> grrrr, that's in docs with huge letters somewhere probably :)
[23:36:55] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:37:59] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[23:38:32] <steven_is_false> Anyone have some code examples for std::select::select? I don't seem to be able to use it.
[23:39:58] <sfackler> I don't think std::select is done. bblum was working on it I think
[23:40:20] <steven_is_false> Oh.
[23:40:21] <pongad> A question, for some reason      fn partition<T>(a: &mut[T], f: &fn(&T) -> bool)         let mut a = [0,1,2,3,4,5,6,7,8,9];  partition(a, |i| i%2 == 0);     gives an error because it doesn't know what type i is. But when I say  <T: Clone> it works...?
[23:40:22] *** jorendorff is now known as jorendorff_away
[23:40:34] *** Quits: nkoep (nik@moz-29487685.pool.mediaways.net) (Ping timeout)
[23:41:26] *** Quits: elly (elly@18D20C19.2A2E1A6B.EA806F19.IP) (Quit: gone)
[23:43:05] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:43:15] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[23:43:58] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:44:29] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[23:45:19] <bjz_> steven_is_false: make sure to import std::select::select::select::Select
[23:45:29] <cmr> you're kidding right
[23:45:33] <FreeFull> select all the selects
[23:46:29] <bjz_> cmr: would I?!
[23:46:30] *** Joins: nkoep (nik@moz-39443700.pool.mediaways.net)
[23:47:04] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:47:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:48:26] *** Quits: echristo (echristo@B3AA7BA8.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:49:33] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[23:49:36] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:51:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:52:06] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[23:52:33] <steven_is_false> bjz_: That doesn't actually work.
[23:52:58] <bjz_> steven_is_false: you might need to upgrade your rust
[23:53:28] <newbatthis> i can't work out how to implement the write method here. http://static.rust-lang.org/doc/0.8/extra/arc/struct.RWArc.html
[23:53:32] <steven_is_false> bjz_: I'm on a Rust nightly repo actually.
[23:53:57] <steven_is_false> newbatthis: You mean use it?
[23:53:57] <newbatthis> i have: unsafe_count.write( |arg| *arg += 1) but its not actually incremeting the variable?
[23:54:04] *** Quits: lmandel (lmandel@383121B7.B2666F0E.66399531.IP) (Ping timeout)
[23:54:27] <steven_is_false> newbatthis: What kind of Arc are you using?
[23:54:31] <bjz_> steven_is_false: I actually got added std::select::select::select::Select added today
[23:54:40] <steven_is_false> bjz_: Okay thanks then.
[23:54:49] <bjz_> steven_is_false: you are lucky, maybe tonight it will be in
[23:54:56] <FreeFull> newbatthis: You're taking a value
[23:54:56] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[23:54:57] <newbatthis> the RWArc? let unsafe_count=arc::RWArc::new(visitor_count);
[23:55:02] <FreeFull> The value gets copied, then you increment the copy
[23:55:06] <FreeFull> And the original value doesn't change
[23:55:17] * bjz_ wonders if there is a sarcmark in unicode yet
[23:55:22] *** Joins: echristo (echristo@4241698A.2E4FD3DD.225F4543.IP)
[23:55:23] * Earnestly just looked at this buffer and saw "std::select::select::select::select::Select", is this the real life?
[23:55:25] *** Joins: lmandel (lmandel@125EF623.B2666F0E.66399531.IP)
[23:55:28] <FreeFull> Wait, maybe that's not it
[23:55:32] <FreeFull> Nevermind
[23:55:40] <FreeFull> I'm not awake right now
[23:56:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:56:16] <bjz_> Earnestly: yes, I am cleaning up std
[23:56:47] <Earnestly> bjz_: http://catb.org/jargon/html/B/banana-problem.html
[23:57:04] <newbatthis> wait so, it should change the original value?
[23:57:14] *** Parts: garthk (garth@moz-B118B14A.static.internode.on.net) ()
[23:57:48] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[23:57:49] <newbatthis> it doesnt seem to update the original for me
