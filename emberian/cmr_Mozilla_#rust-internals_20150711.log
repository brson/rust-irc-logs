[00:06:56] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[00:07:34] <huon> playbot: fn no_params() {} no_params::<>()
[00:07:34] -playbot- ()
[00:08:03] <huon> exciting stuff in the world of obfuscation ^
[00:11:41] <steveklabnik> heh
[00:11:46] *** Joins: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net)
[00:12:01] * steveklabnik can't wait for the first underhanded rust competition
[00:12:45] *** Quits: goyox86 (textual@moz-9ct.il3.161.192.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:12:47] <huon> erm
[00:12:53] <huon> playbot: let x = 1; x::<>
[00:12:54] -playbot- 1
[00:14:28] *** Quits: brson_ (brson@moz-bro.mg6.56.172.IP) (Ping timeout: 121 seconds)
[00:14:51] <nagisa> unsafe {…}
[00:15:03] <nagisa> is my entry
[00:15:34] <huon> I think the more interesting underhanded things will be craziness that uses no `unsafe` at all :)
[00:20:47] *** Quits: mlrutherford (mlrutherfor@moz-1hrqkl.3fkl.4isk.6000.2605.IP) (Connection closed)
[00:24:10] <pcwalton> what does "fatal runtime error: Could not unwind stack, error = 5"
[00:24:11] <pcwalton> mean
[00:25:47] <blaenk> the trait `std::error::Error` is not implemented for the type `Box<std
[00:25:48] <blaenk> ::error::Error + Send + Sync>`
[00:25:50] <blaenk> what
[00:27:57] <huon> acrichto: pcwalton's error ^
[00:28:40] <nagisa> pcwalton: you unwinded through the whole stack, but didn’t find a landing pad/handler
[00:32:42] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:40:29] *** chmanchester is now known as chmanchester|afk
[00:41:25] *** Quits: RC9 (RCIX@moz-ior.dfa.8.198.IP) (Ping timeout: 121 seconds)
[00:43:08] <acrichto> pcwalton: panics in situations where you're not in a catch_panic block, e.g. calling into Rust from C, TLS destructors, etc
[00:43:32] *** Quits: yjv_ (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[00:44:36] <pcwalton> acrichto: ok, thanks
[00:46:11] <Gankro> Anyone know about debug-info tests? I evidently broke them by changing the repr of Vec
[00:46:35] <blaenk> trying to figure out how log works. why does it Box the result of the make_logger closure, which itself returns a trait object Box<Log>?
[00:46:38] <blaenk> https://github.com/rust-lang/log/blob/master/src/lib.rs#L586
[00:47:43] <blaenk> also why does it use an AtomicUsize instead of an AtomicPtr
[00:54:53] <reem> blaenk: Box<Log> is (ptr, vtable), Box<Box<Log>>> is just (ptr)
[00:55:02] <blaenk> ohhhh okay :D
[00:55:04] <blaenk> duh
[00:55:20] <blaenk> any idea why they used atomicusize instead of atomicptr? never used the latter, just seems more relevant?
[00:55:46] <blaenk> my guess is cause they do their own logic for derefing/transmuting it
[00:57:03] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:57:09] <blaenk> yeah I think it's cause they want to keep it there, or something
[00:57:19] <blaenk> and atomicptr would require them to swap out or load another thing in in order to get it, I think
[00:58:38] <blaenk> aight I guess imma try to replicate this
[00:59:08] <reem> blaenk: AtomicPtr is kind of a weird type
[00:59:29] <reem> blaenk: most of its uses are quite unsafe already
[00:59:32] <blaenk> ahh
[00:59:49] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[01:00:57] <blaenk> if I want to do something like this but with a ThreadPool, should I do something like mem::forget or whatever and keep its address in the global static, or should I box it and then just transmute the box
[01:01:08] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:01:13] <reem> seems like the same thing?
[01:01:17] <blaenk> yeah that's what I'm thinking
[01:01:28] <blaenk> except box you save the allocation I guess
[01:01:32] <blaenk> without box I mean
[01:02:14] <blaenk> gonna try without box first
[01:06:40] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[01:10:48] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[01:12:55] *** Joins: blank_na1e (blank_name@moz-ms6nj1.mi.frontiernet.net)
[01:15:04] *** Quits: blank_name (blank_name@moz-ttfeua.mi.frontiernet.net) (Ping timeout: 121 seconds)
[01:19:57] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:23:59] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[01:25:04] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:39:59] *** Joins: RC9 (RCIX@moz-279.dfa.8.198.IP)
[01:47:10] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150630154324])
[01:48:57] *** Quits: swgillespie (swgillespie@moz-767.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:51:21] *** Quits: aepsil0n (eduard@moz-s0kqa7.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[01:52:06] *** Quits: amphibulus (Mibbit@moz-cscfp6.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:52:32] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[01:55:02] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:59:29] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:12:51] *** Quits: kimundi (kimundi@moz-l9v88u.dtlu.8ps3.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:16:33] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[02:17:40] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:18:04] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:19:34] *** Joins: kimundi (kimundi@moz-v038uj.nbov.7sqf.4fe2.2002.IP)
[02:20:42] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:22:32] *** Quits: cyndis (cyndis@moz-bmdn13.kapsi.fi) (Ping timeout: 121 seconds)
[02:23:08] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Ping timeout: 121 seconds)
[02:24:47] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[02:25:56] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[02:28:57] *** Joins: cyndis (cyndis@moz-bmdn13.kapsi.fi)
[02:42:49] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[02:52:48] *** Joins: avikpal (avikpal@moz-18c.fgm.194.117.IP)
[02:52:51] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[02:57:07] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[03:03:35] *** Joins: brson (brson@moz-3ki2he.tmodns.net)
[03:03:35] *** ChanServ sets mode: +o brson
[03:06:23] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[03:07:36] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[03:11:56] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[03:15:40] *** Quits: avikpal (avikpal@moz-18c.fgm.194.117.IP) (Ping timeout: 121 seconds)
[03:17:03] *** Joins: semarie (semarie@moz-77lsi6.bpv6.bg1u.41d0.2001.IP)
[03:21:28] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[03:25:30] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[03:27:26] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:29:56] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:34:10] *** Joins: keret (Mibbit@moz-hu6.nja.252.72.IP)
[03:35:21] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:37:53] *** Joins: avikpal (avikpal@moz-18c.fgm.194.117.IP)
[03:38:00] *** Quits: keret (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:39:58] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:40:41] *** Joins: waffles (wafflespean@moz-ogr.43b.136.123.IP)
[03:42:11] *** Quits: avikpal (avikpal@moz-18c.fgm.194.117.IP) (Ping timeout: 121 seconds)
[03:46:11] *** Joins: bdero (bran@moz-8jqdvf.hfc.comcastbusiness.net)
[03:46:31] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:48:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[03:53:10] *** Quits: brson (brson@moz-3ki2he.tmodns.net) (Ping timeout: 121 seconds)
[03:54:32] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[03:59:20] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[04:06:23] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:08:38] *** Joins: gavin_ (gavin@irc.mozilla.org)
[04:08:46] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:10:44] *** Quits: gavin (gavin@irc.mozilla.org) (Ping timeout: 121 seconds)
[04:16:58] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:23:18] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:23:57] <blaenk> hey is there a way to tell a function about a static variable? like so that it can refer to it on its own
[04:24:03] <blaenk> I don't think I'm making sense
[04:24:58] <blaenk> so for example I have this function, and it has a function within it that it uses to register a libc::at_exit handler. that handler needs to be able to access an arbitrary static
[04:25:20] <blaenk> if I did it by passing a parameter, then the parameter would be passed to the outer function but then the inner function, the handler, wouldn't be able to refer to it
[04:25:34] <blaenk> the only other way I can think of is if I could create a static Arc<AtomicUsize>
[04:27:01] <blaenk> like if I could tell it of the 'path' to the static, then it could refer to it on its own, since it's global
[04:27:17] <blaenk> will see if a refernce works
[04:27:30] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[04:28:22] <huon> blaenk: doesn't std::rt::at_exit take a closure?
[04:28:28] <blaenk> yeah it does
[04:28:33] <blaenk> well a function is what I'm passing it
[04:28:37] <blaenk> i got this code from rust-lang/log
[04:28:45] <blaenk> it's an extern fn
[04:28:58] <huon> can you make a closure out of it?
[04:29:09] <blaenk> https://github.com/rust-lang/log/blob/master/src/lib.rs#L590
[04:29:14] <huon> oh... wait. you said libc::at_exit
[04:29:28] <blaenk> look see line 597
[04:29:32] <blaenk> how the handler does LOGGER.SWAP
[04:29:43] <huon> you'll need to use a global `static`
[04:29:46] <blaenk> I'd like to be able to make it generic on the static, so consumers of the library can specify their own static
[04:29:49] <blaenk> that's what it is
[04:29:58] <blaenk> hmmm let me restate my situation
[04:30:34] <blaenk> so imagine it like this, a library has some do_something() fn, it needs access to some global static, I'd like the user to be able to specify their own global static
[04:30:45] <blaenk> so at first I figured ok pass it as parameter then, but then that would pass it by value, not sure if that's possible
[04:30:50] <blaenk> do_something(GLOBAL)
[04:31:05] <blaenk> will try I guess
[04:31:43] <huon> associated statics would solve it
[04:31:49] <blaenk> ;_;
[04:31:51] <huon> maybe you could use a macro
[04:31:55] <blaenk> ohh yeah
[04:33:19] <blaenk> yeah I can get partly there by taking a refernce instead
[04:33:25] <blaenk> do_something(&GLOBAL)
[04:33:33] <blaenk> but the handler is what trips me up
[04:33:38] <blaenk> I'll use a macro
[04:34:08] <huon> you basically need to monomorphise over which static you are using, so the two options are generics, or a macro
[04:34:08] <blaenk> I'm toying around with a global shared thread pool package, learning from the `log` package. except instead of only haveing a single global pool defined by the package,
[04:34:14] <huon> oh, you could use generics like:
[04:34:30] <huon> `trait Foo { fn get_static() -> &'static TheType; }`
[04:34:44] <blaenk> I wanted to be able to let the user specify different pools, so they could say: static DRAW_POOL: AtomicUsize = ATOMIC_USIZE_INIT; and then do something like get_pool(&DRA_POOL)
[04:34:56] <blaenk> but I'm gonna use a macro cause it'd make it neater too I think, no need to write the & that way
[04:34:57] <huon> and then make things generic over `T: Foo`
[04:35:11] <blaenk> ok that generic thing sounds interesting
[04:35:15] <blaenk> will try to parse it
[04:35:18] <huon> (that's basically manually encoding associated constants)
[04:36:08] <blaenk> yeah not very sure I follow the generics approach
[04:36:14] <blaenk> but no worries, I'll attempt this with a macro for now
[04:37:45] *** Quits: gavin_ (gavin@irc.mozilla.org) (Connection closed)
[04:38:50] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:42:10] <huon> blaenk: this probably has a few typos, https://gist.github.com/huonw/c9b85b38e1292fd92633
[04:42:28] <blaenk> oooo
[04:57:26] <blaenk> problem is creating impls for a given GLOBAL on the fly, not sure how I can generate a random hygenic name for a proxy
[04:58:33] <blaenk> not sure that this is possible with a macro either
[04:59:19] <blaenk> this is the problem area https://gist.github.com/blaenk/f33685da88bd5efff27c
[05:00:36] <blaenk> don't think there's a way to define shutdown() like that
[05:00:53] <blaenk> maybe if I used a macro and passed a $p:path to the static, but I'm not sure
[05:01:05] <blaenk> I think :path is for like use statement paths no?
[05:02:41] <blaenk> gonna try with a path
[05:08:26] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[05:08:34] *** Quits: RC9 (RCIX@moz-279.dfa.8.198.IP) (Ping timeout: 121 seconds)
[05:11:07] <blaenk> lament no namespaced macros tho
[05:12:41] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[05:16:31] *** Joins: gavin (gavin@irc.mozilla.org)
[05:17:32] *** Joins: RC9 (RCIX@moz-vnmep7.ph.cox.net)
[05:39:04] <JustAPerson> Does llvm optimize based of rustc's aliasing semanticsc?
[05:40:24] <Elaine> JustAPerson: yes.
[05:40:52] <Elaine> though we don't emit TBAA metadata yet I think
[05:41:07] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[05:41:17] <Elaine> but we do emit noalias for &mut and &T where T does not contain UnsafeCell anywhere.
[05:41:41] <JustAPerson> neat
[05:41:47] <JustAPerson> Elaine: thanks :)
[05:45:01] *** Joins: avikpal (avikpal@moz-18c.fgm.194.117.IP)
[05:45:47] *** Quits: untitaker (untitaker@moz-rv6gfj.highway.telekom.at) (Ping timeout: 121 seconds)
[05:46:40] *** Joins: untitaker (untitaker@moz-l4lg7t.highway.telekom.at)
[05:47:44] *** Joins: figaro (Mibbit@moz-hu6.nja.252.72.IP)
[06:00:17] *** Joins: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP)
[06:04:38] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[06:11:24] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[06:16:58] *** Quits: avikpal (avikpal@moz-18c.fgm.194.117.IP) (Ping timeout: 121 seconds)
[06:17:48] *** Joins: avikpal (avikpal@moz-18c.fgm.194.117.IP)
[06:24:00] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[06:25:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[06:27:22] *** Quits: figaro (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:29:37] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[06:32:37] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[06:32:44] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[06:32:56] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[06:37:47] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:39:12] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[06:49:36] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[06:50:46] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:57:07] *** Joins: p1start (p1start@moz-nftjhe.org)
[07:01:11] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[07:01:39] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[07:09:27] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[07:13:35] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[07:13:57] *** Joins: eerie_ (eerie@moz-bn66jk.red.bezeqint.net)
[07:13:57] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (NickServ (RECOVER command used by eerie_))
[07:13:57] *** eerie_ is now known as eerie
[07:14:46] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:16:19] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[07:21:17] *** Quits: RC9 (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[07:22:19] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:23:53] *** Joins: RC9 (RCIX@moz-3e2j9t.ph.cox.net)
[07:25:50] *** Quits: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP) (Connection closed)
[07:26:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[07:30:17] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[07:33:29] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[07:34:56] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[07:42:35] *** Joins: dp (dp@moz-9s6mok.gb4f.8ao9.0e35.2a01.IP)
[07:51:58] *** Joins: avikpal_ (avikpal@moz-crv.qfq.251.117.IP)
[07:52:18] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[07:54:51] *** Quits: avikpal (avikpal@moz-18c.fgm.194.117.IP) (Ping timeout: 121 seconds)
[08:01:23] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[08:01:24] *** Joins: avikpal (avikpal@moz-18c.fgm.194.117.IP)
[08:04:25] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[08:04:56] *** Quits: avikpal_ (avikpal@moz-crv.qfq.251.117.IP) (Ping timeout: 121 seconds)
[08:07:17] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:11:05] *** Joins: Tobba (Tobba@moz-oecqnu.plus.com)
[08:12:26] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[08:12:33] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:15:48] *** Quits: avikpal (avikpal@moz-18c.fgm.194.117.IP) (Connection closed)
[08:17:37] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[08:22:22] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[08:22:22] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[08:22:35] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[08:26:28] <eddyb> Gankro: looking over your RawVec abstraction, it looks good
[08:26:50] <eddyb> Gankro: but I see you kept ptr::read for deallocation
[08:26:52] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[08:27:15] <eddyb> Gankro: there's a drop_in_place intrinsic now, which should be used wherever possible
[08:28:19] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:31:49] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:31:55] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:31:56] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:41:12] *** Quits: ebfull (ebfull@moz-8vb.66e.34.73.IP) (Ping timeout: 121 seconds)
[08:44:09] *** Joins: ebfull (ebfull@moz-8vb.66e.34.73.IP)
[08:46:21] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[08:48:46] *** Quits: ebfull (ebfull@moz-8vb.66e.34.73.IP) (Ping timeout: 121 seconds)
[08:48:53] *** Joins: ebfull (ebfull@moz-8vb.66e.34.73.IP)
[08:49:37] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[08:52:22] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[08:52:38] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[08:53:10] *** Quits: ebfull (ebfull@moz-8vb.66e.34.73.IP) (Ping timeout: 121 seconds)
[08:56:20] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[08:57:12] *** Joins: manishea1th (manishearth@moz-uc30rq.anapnea.net)
[08:58:10] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (NickServ (RECOVER command used by manishea1th))
[08:58:10] *** manishea1th is now known as Manishearth
[08:58:11] *** ChanServ sets mode: +ao Manishearth Manishearth
[09:00:04] *** Joins: ebfull (ebfull@moz-8vb.66e.34.73.IP)
[09:01:19] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[09:04:13] *** Quits: ChrisMorgan (ChrisMorgan@moz-g2hg6v.tpgi.com.au) (Ping timeout: 121 seconds)
[09:10:28] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[09:12:29] *** Quits: dlight (dlight@moz-dfg.304.135.177.IP) (A TLS packet with unexpected length was received.)
[09:14:40] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[09:14:46] *** Quits: Tobba (Tobba@moz-oecqnu.plus.com) (A TLS packet with unexpected length was received.)
[09:14:55] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:18:48] *** Quits: O01eg (o01eg@moz-cq5vcs.9ps9.4n8f.2698.2a02.IP) (Client exited)
[09:19:33] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[09:25:19] *** Joins: avikpal (avikpal@moz-4ks.onn.194.117.IP)
[09:26:35] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[09:30:37] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Ping timeout: 121 seconds)
[09:38:02] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[09:43:24] *** Joins: X67r (user@moz-p6g0p6.mullvad.net)
[09:46:58] <eddyb> huon: r? https://github.com/rust-lang/rust/pull/26783
[09:47:36] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[09:47:49] *** Quits: bgamari (bgamari@moz-gfcbko.hsi8.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:48:17] *** Joins: bgamari (bgamari@moz-nnir0g.vpn.uni-mannheim.de)
[09:51:45] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:54:19] *** Quits: bgamari (bgamari@moz-nnir0g.vpn.uni-mannheim.de) (Ping timeout: 121 seconds)
[09:57:02] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:57:08] *** Quits: RC9 (RCIX@moz-3e2j9t.ph.cox.net) (Connection closed)
[09:59:48] *** Joins: bgamari (bgamari@moz-gfcbko.hsi8.kabel-badenwuerttemberg.de)
[10:05:47] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[10:07:32] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[10:09:34] *** Joins: mukilan (mukilan@moz-ggd.0ov.164.122.IP)
[10:09:48] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:10:50] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:13:50] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[10:16:23] *** Quits: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com) (Quit: Leaving)
[10:17:19] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:17:39] *** Joins: eerie_ (eerie@moz-bn66jk.red.bezeqint.net)
[10:17:39] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (NickServ (RECOVER command used by eerie_))
[10:17:39] *** eerie_ is now known as eerie
[10:22:53] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:23:36] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:23:51] *** Joins: arielb1 (Ariel@moz-jqrrgl.red.bezeqint.net)
[10:25:16] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[10:25:24] <Manishearth> eddyb: static methods are not object safe
[10:25:25] <Manishearth> why?
[10:25:34] <Manishearth> There's no way to call them from a trait object anyway
[10:26:16] <Manishearth> or is there?
[10:26:23] * Manishearth tried ufcs, couldn't get it
[10:26:59] <WindowsBunny> Manishearth: how would the syntax for a virtual static method work?
[10:27:07] <WindowsBunny> you can't call it on an instance since there's no self
[10:27:55] <Manishearth> WindowsBunny: yeah, so there's no way of calling the methods
[10:27:57] <Manishearth> *method
[10:28:01] <Manishearth> there's no syntax for it
[10:28:13] <Manishearth> why should something that can't be done affect object safety?
[10:28:27] <Manishearth> I'm suggesting static methods should just be ignored from the object safety POV
[10:28:34] <Manishearth> they can't be called on trait obbjects *anyway*
[10:28:39] <Manishearth> *objects
[10:29:20] * Manishearth basically just wrote a blog post as a diagnostics code
[10:29:21] <Manishearth> oops
[10:29:48] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[10:30:10] <WindowsBunny> Manishearth: That said, there's no reason static methods can't work virtually
[10:30:35] <WindowsBunny> It's just someone needs to come up with syntax for it
[10:30:44] <Manishearth> true
[10:31:09] <Manishearth> but until we have that, why hinder object safety ?
[10:31:16] <Manishearth> And when we have that, we won't need the rule anyway
[10:31:34] <eddyb> Manishearth: <Trait as Trait>::static_method
[10:31:40] <eddyb> that works
[10:32:01] <eddyb> (but it doesn't take `self` so it couldn't go through the vtable)
[10:32:15] <eddyb> Manishearth: also, the way to deal with object-unsafe methods is `where Self: Sized`
[10:32:28] <Manishearth> eddyb: I know
[10:32:42] <eddyb> so?
[10:33:02] <Manishearth> was wondering why the restriction exists i nthe first place
[10:33:13] <Manishearth> <Trait as Trait> tells me that Trait doesn't implement Trait
[10:33:14] <Manishearth> yo dawg
[10:33:22] <eddyb> [13:28] <Manishearth> they can't be called on trait obbjects *anyway*
[10:33:24] <eddyb> except they can
[10:33:37] <Manishearth> that's not a trait object
[10:33:49] <eddyb> Manishearth: object unsafety is about Trait: Trait
[10:33:52] <Manishearth> yes
[10:33:57] <Manishearth> and <Trait as Trait> doesn't work
[10:34:00] <Manishearth> I tried that
[10:34:01] <eddyb> sure it does
[10:34:08] <Manishearth> I tried that with a static method actually
[10:34:08] <eddyb> you just disabled it intentionally
[10:34:13] <Manishearth> sorry, non static
[10:34:23] <eddyb> probably via trait Trait: Sized
[10:34:44] <Manishearth> eddyb: wait got it
[10:35:31] *** Joins: Tobba (Tobba@moz-4l45on.skybroadband.com)
[10:36:08] <eddyb> fn make_boxed<T: ?Sized+MakeBoxed>() -> Box<T> { <T as MakeBoxed>::make_boxed() }
[10:36:20] <Manishearth> yep
[10:44:06] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[10:45:46] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[10:45:51] <bluss> ok we should have a website that just tells when the next train is leaving (read: release)
[10:48:32] <Manishearth> eddyb: https://github.com/Manishearth/rust/commit/0c2a660e1aac5355555ac38bdbf7e25f46a899cd
[10:48:38] <Manishearth> point out errors please
[10:48:56] <eddyb> that whole thing?!
[10:49:08] <Manishearth> yes please
[10:49:24] <Manishearth> like I said, I probably should have just written a blog post on it :p
[10:49:26] <eddyb> is the book going to link to the error registry? otherwise we might end up with duplicate *chapters* :P
[10:49:38] <Manishearth> eddyb: it can
[10:49:44] <Manishearth> eddyb: the reverse can be done too I guess
[10:49:45] <Manishearth> meh
[10:49:56] <Manishearth> the book doesn't talk of this stuff
[10:50:18] <Manishearth> we can add stuff to the error index parser so that links to the doc are converted into bare links instead of markdown
[10:50:23] <Manishearth> when printing to the terminal
[10:50:44] <nagisa> Manishearth: nit: why you use 3rd level headings without there being 2nd or 1st level headings in the whole thing?
[10:50:59] <Manishearth> nagisa: the error index uses 1st level headings I think
[10:51:18] <nagisa> its the responsibility of renderer to lower the level of headings in content
[10:51:31] <nagisa> (not sure why it doesn’t if it doesn’t)
[10:51:35] <Manishearth> "There's nothing in this book about object safety" "here, try compiling this code, and then run --explain on the code" :P
[10:51:37] <eddyb> Manishearth: the last bit is harder to assess
[10:51:52] <Manishearth> nagisa: renderer just feeds to rustdoc
[10:52:00] <Manishearth> it doesn't parse anything
[10:52:14] <Manishearth> nagisa: this is not markdown
[10:52:17] <Manishearth> (this is sparta)
[10:53:21] <Manishearth> eddyb: you mean the supertrait stuff?
[10:53:58] <Manishearth> If you hit *that* error you're probably doing some strange gymnastics with traits and should be fed to dropck
[10:54:31] <eddyb> oh I see what it's talking about
[10:55:03] <eddyb> Manishearth: passing Self to a supertrait makes that supertrait not object safe
[10:55:07] <Manishearth> eddyb: hey, I don't design the errors, I just write about them
[10:55:08] <Manishearth> eddyb: yep
[10:55:16] <eddyb> I think that would make it relatively clear
[10:55:23] <Manishearth> I did write that, now?
[10:55:25] <eddyb> substitution should be not be a hard thing to understand
[10:55:26] <Manishearth> *no?
[10:55:39] <eddyb> > ### The trait cannot use `Self` as a type parameter in the supertrait listing
[10:55:44] <Manishearth> > However, if it derives from `Super<Self>`, the method `get_a()` would return an
[10:55:47] <Manishearth> object of unknown type when called on the function, _even though `Super` is
[10:55:50] <Manishearth> object safe_. `Self` type parameters let us make object safe traits no longer
[10:55:53] <Manishearth> safe, so they are forbidden when specifying supertraits.
[10:55:56] <eddyb> oh, right
[10:56:09] <eddyb> Manishearth: but it's hidden in a dense paragraph!
[10:56:10] <Manishearth> are you saying that the short error text itself is confusing?
[10:56:22] <eddyb> oh it's an actual error message?
[10:56:23] <Manishearth> eddyb: I like dense paragraphs
[10:56:46] <Manishearth> eddyb: > the trait cannot use `Self` as a type parameter  in the supertrait listing
[10:56:50] <Manishearth> is the actual error
[10:56:54] <eddyb> grr
[10:57:06] <Manishearth> remember that whoever hits this error has written their code denser than my paragraphs :p
[10:57:24] <Manishearth> (if you have suggestions on how to rarify that paragraph or make that more prominent, let me knoq :) )
[10:57:27] <Manishearth> *know
[10:57:38] <Manishearth> we can also rewrite the error message
[10:58:13] <Manishearth> "Traits with a substituted Self parameter are not object safe and cannot be used as supertraits"
[10:59:15] <eddyb> "supertrait `Super<Self>` is not object-safe due to `Self` being used as a type parameter"
[10:59:17] <eddyb> ugh
[10:59:24] <eddyb> not sure I can do better than that
[10:59:27] <eddyb> it's still suboptimal
[11:01:37] <Manishearth> yeah
[11:03:13] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[11:07:22] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:10:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:11:25] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[11:14:33] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[11:15:12] *** Quits: stl (stl@moz-stg.7dk.15.176.IP) (Ping timeout: 121 seconds)
[11:15:40] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[11:24:24] <bluss> does every new impl Trait for Foo block have to have a stable tag? It seems like a waste to have to add a new feature name
[11:30:39] *** Quits: Tobba (Tobba@moz-4l45on.skybroadband.com) (A TLS packet with unexpected length was received.)
[11:32:56] *** Joins: aepsil0n (eduard@moz-s0kqa7.hsi8.kabel-badenwuerttemberg.de)
[11:35:46] *** Quits: waffles (wafflespean@moz-ogr.43b.136.123.IP) (Quit: C'yall soon...)
[11:36:15] *** Quits: bdero (bran@moz-8jqdvf.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[11:41:26] *** Joins: waffles (wafflespean@moz-ogr.43b.136.123.IP)
[11:53:14] *** Quits: avikpal (avikpal@moz-4ks.onn.194.117.IP) (Ping timeout: 121 seconds)
[11:54:53] *** Quits: X67r (user@moz-p6g0p6.mullvad.net) (Quit: leaving)
[11:54:58] *** Quits: Syneh (quassel@moz-948.gp8.139.37.IP) (Ping timeout: 121 seconds)
[11:56:38] *** Joins: Syneh (quassel@moz-948.gp8.139.37.IP)
[11:57:20] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[11:59:40] *** Joins: stl (stl@moz-al5.8pf.15.176.IP)
[12:00:46] *** Quits: Syneh (quassel@moz-948.gp8.139.37.IP) (Ping timeout: 121 seconds)
[12:01:46] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:02:18] *** Joins: Syneh (quassel@moz-948.gp8.139.37.IP)
[12:06:27] *** Quits: Syneh (quassel@moz-948.gp8.139.37.IP) (Ping timeout: 121 seconds)
[12:07:57] *** Joins: Syneh (quassel@moz-948.gp8.139.37.IP)
[12:09:30] <Manishearth> Can anyone trigger E0079 without triggering https://doc.rust-lang.org/error-index.html#E0308 ?
[12:11:14] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:15:16] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[12:18:47] *** Joins: avikpal (avikpal@moz-eml.cra.194.117.IP)
[12:30:14] *** Quits: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net) (Quit: Leaving)
[12:31:29] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[12:32:53] <bluss> arielb1: I understand the panic vs oom abort issue like you understand it, and I have the same suggestion: it's tempting to abort on overflow
[12:32:53] *** Quits: avikpal (avikpal@moz-eml.cra.194.117.IP) (Ping timeout: 121 seconds)
[12:33:21] <arielb1> bluss: that would also improve code-size
[12:33:26] *** Joins: avikpal (avikpal@moz-4j2.36b.194.117.IP)
[12:33:56] <bluss> yes I was discussing with Gankro. I think it's obvious it should make the code leaner, but maybe it's in a cold path so it doesn't matter?
[12:34:24] <arielb1> from a perf standpoint not
[12:34:30] <arielb1> from a "fat executable" standpoint
[12:34:36] *** Joins: ChrisMorgan (ChrisMorgan@moz-g2hg6v.tpgi.com.au)
[12:34:39] *** Quits: dp (dp@moz-9s6mok.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[12:34:56] <bluss> ok. That can be a perf issue too though?
[12:35:22] <arielb1> depends on how well the optimizer places the code
[12:38:02] *** Quits: arielb1 (Ariel@moz-jqrrgl.red.bezeqint.net) (Connection closed)
[12:42:09] *** Joins: dp (dp@moz-9s6mok.gb4f.8ao9.0e35.2a01.IP)
[12:45:18] *** Quits: avikpal (avikpal@moz-4j2.36b.194.117.IP) (Ping timeout: 121 seconds)
[12:49:29] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:54:12] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:55:30] *** Joins: avikpal (avikpal@moz-7v0.ti7.194.117.IP)
[13:01:09] *** Joins: avikpal_ (avikpal@moz-l6g.0kg.194.117.IP)
[13:01:21] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[13:01:31] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[13:01:33] *** Quits: avikpal (avikpal@moz-7v0.ti7.194.117.IP) (Ping timeout: 121 seconds)
[13:03:29] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[13:07:10] *** Quits: avikpal_ (avikpal@moz-l6g.0kg.194.117.IP) (Ping timeout: 121 seconds)
[13:07:44] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:10:31] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[13:12:17] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[13:16:04] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[13:16:39] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[13:17:03] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[13:19:46] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[13:27:38] *** Joins: avikpal (avikpal@moz-qup.0kg.194.117.IP)
[13:31:34] *** Joins: eerie_ (eerie@moz-bn66jk.red.bezeqint.net)
[13:31:34] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (NickServ (RECOVER command used by eerie_))
[13:31:34] *** eerie_ is now known as eerie
[13:33:46] *** Joins: avikpal_ (avikpal@moz-o9s.uhm.194.117.IP)
[13:34:35] *** Quits: avikpal (avikpal@moz-qup.0kg.194.117.IP) (Ping timeout: 121 seconds)
[13:36:31] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[13:39:43] *** Joins: goyox86 (textual@moz-rvv.00r.255.109.IP)
[13:39:57] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:43:19] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:43:24] <nagisa> I reliably get https://gist.github.com/nagisa/205ff773b840645e1dea failures on linux? Also some form of local state?
[13:43:31] <nagisa> s/?/./
[13:53:43] *** Quits: avikpal_ (avikpal@moz-o9s.uhm.194.117.IP) (Ping timeout: 121 seconds)
[13:55:25] *** Joins: tamird (textual@moz-rv0.545.167.190.IP)
[14:01:39] *** Joins: eerie_ (eerie@moz-bn66jk.red.bezeqint.net)
[14:01:39] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (NickServ (RECOVER command used by eerie_))
[14:01:39] *** eerie_ is now known as eerie
[14:09:21] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[14:20:35] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[14:21:42] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:24:34] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (Ping timeout: 121 seconds)
[14:27:06] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[14:27:06] *** ChanServ sets mode: +o huon
[14:28:36] *** Quits: aepsil0n (eduard@moz-s0kqa7.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[14:34:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:37:05] *** Quits: tamird (textual@moz-rv0.545.167.190.IP) (Connection closed)
[14:37:28] *** Joins: tamird (textual@moz-rv0.545.167.190.IP)
[14:40:03] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[14:43:11] *** Quits: dp (dp@moz-9s6mok.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[14:44:29] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[14:54:51] *** Joins: manishea1th (manishearth@moz-uc30rq.anapnea.net)
[14:57:39] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[15:01:53] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:13:15] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[15:17:27] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[15:23:05] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[15:27:15] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Connection closed)
[15:33:42] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[15:34:34] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:38:26] *** Joins: rovar (rovar@moz-96effg.dyn.optonline.net)
[15:38:58] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[15:40:17] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:41:41] *** Joins: avikpal (avikpal@moz-ipp.loq.194.117.IP)
[15:42:30] *** Joins: xarcus (Mibbit@moz-hu6.nja.252.72.IP)
[15:51:48] *** Quits: tamird (textual@moz-rv0.545.167.190.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:54:42] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[15:57:25] *** Quits: waffles (wafflespean@moz-ogr.43b.136.123.IP) (Ping timeout: 121 seconds)
[15:58:29] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[15:58:56] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:04:50] *** Joins: avikpal_ (avikpal@moz-kqg.0pm.194.117.IP)
[16:05:38] *** Quits: avikpal (avikpal@moz-ipp.loq.194.117.IP) (Ping timeout: 121 seconds)
[16:10:52] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[16:16:32] *** Quits: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[16:16:47] *** Joins: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net)
[16:18:56] <nagisa> https://aur.archlinux.org/packages/ru/rust-nightly-bin/PKGBUILD ah the irony of the second-to-last line
[16:19:40] *** Joins: dlight (dlight@moz-d7n.hlq.135.177.IP)
[16:25:27] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[16:28:17] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[16:35:31] *** Quits: xarcus (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:37:14] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[16:40:22] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:43:38] *** Joins: filsmick (filsmick@moz-gf7g4q.abo.wanadoo.fr)
[16:45:06] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[16:46:29] <nagisa> I always forget RUST_BACKTRACE is completely useless if used on windows :
[16:46:30] <nagisa> :(
[16:49:09] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[16:55:27] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[16:59:42] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:04:17] *** Quits: avikpal_ (avikpal@moz-kqg.0pm.194.117.IP) (Connection closed)
[17:06:20] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[17:07:16] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[17:14:07] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[17:17:42] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[17:18:17] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[17:22:39] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:26:34] *** Joins: pierre_m (pierre_m@moz-2vs15r.slkc.qwest.net)
[17:26:55] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[17:29:09] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:34:01] *** Joins: arielb1 (Ariel@moz-jqrrgl.red.bezeqint.net)
[17:37:19] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[17:41:37] *** Joins: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP)
[17:43:38] *** Quits: Syneh (quassel@moz-948.gp8.139.37.IP) (Client exited)
[17:43:42] *** Joins: Syneh (quassel@moz-948.gp8.139.37.IP)
[17:49:34] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[17:50:04] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:53:57] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:54:29] *** Joins: waffles (wafflespean@moz-g2q.9ac.136.123.IP)
[17:54:46] *** Quits: pkondzior (sid768@moz-nrgp4s.highgate.irccloud.com) (Quit: )
[17:59:05] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[18:01:40] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:02:53] *** Joins: betterlill (Mibbit@moz-hu6.nja.252.72.IP)
[18:03:13] *** Quits: betterlill (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:09:49] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:10:46] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:14:42] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:14:44] *** Joins: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com)
[18:16:47] <blaenk> hey if a crate defines a global static, and you are creating create A with deps B and C, where B and C depend on crate D that defines its own global static, will there only be one global static?
[18:16:57] *** Joins: kermit (Mibbit@moz-hu6.nja.252.72.IP)
[18:17:23] <blaenk> especially if B and C depend on different versions of D, would that create two statics?
[18:17:44] *** Quits: kermit (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:17:54] <blaenk> cause I want to try to ensure there's only one. take the log crate for example, it has a LOGGER global static, and no matter how many deps you have that depend on log, they all seem to use the same logger that you initialized it with
[18:18:18] <blaenk> so I'm trying to figure out if the log crate did something special to accomplish that, there being only one LOGGER static
[18:19:54] <blaenk> I _think_ it ends up working out because of the use of $crate in the logger macros
[18:23:07] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[18:24:33] <blaenk> you around sfackler 
[18:24:44] <blaenk> just realized it seems like you wrote most of `log`
[18:25:49] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:27:04] *** Joins: laumann (thomas@moz-anc.lag.199.62.IP)
[18:35:12] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Quit: leaving)
[18:36:01] <steveklabnik> burntsushi: did you ever write that post about regex? seems like it did make it upstream finally, yeah?
[18:39:44] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[18:40:28] <nagisa> blaenk: try to see list output by nm -C
[18:40:37] <blaenk> ok
[18:40:56] <nagisa> I’m pretty sure the static will be unique, regardless of how many times the crate is linked, but can’t guarantee
[18:41:14] <blaenk> when you do cargo test does it build the test binary and put it somewhere? anyone know?
[18:41:28] <blaenk> oh I see it I think
[18:41:35] <blaenk> yeah
[18:41:58] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:41:58] <blaenk> alright thanks nagisa I see it, gonna test it now
[18:43:32] *** Quits: waffles (wafflespean@moz-g2q.9ac.136.123.IP) (Ping timeout: 121 seconds)
[18:44:31] <bluss> blaenk: cargo test outputs the name of the binary it runs
[18:48:18] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:49:14] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[18:50:18] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[18:54:38] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:00:29] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:01:06] *** Quits: mukilan (mukilan@moz-ggd.0ov.164.122.IP) (A TLS packet with unexpected length was received.)
[19:02:08] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:08:36] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:15:04] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[19:16:47] *** Joins: Pierre_M_ (Pierre_M@moz-2vs15r.slkc.qwest.net)
[19:19:16] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[19:22:18] *** Joins: dp (dp@moz-9s6mok.gb4f.8ao9.0e35.2a01.IP)
[19:25:22] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[19:25:24] *** Quits: Pierre_M_ (Pierre_M@moz-2vs15r.slkc.qwest.net) (Connection closed)
[19:25:46] <imperio> eddyb: ping
[19:26:20] <eddyb> imperio: pong
[19:26:40] <imperio> eddyb: I finished replacing the resolve_error functions
[19:26:54] <imperio> however, i have issue with error code numbers
[19:27:16] <imperio> some of thmen don't have description so how am I supposed to know which one to pass ?
[19:27:35] <eddyb> imperio: grep for the error code to find where it's used
[19:27:54] <eddyb> generally you won't be able to use the existing codes for anything new
[19:28:09] <imperio> E0157 isn't called anywhere for example
[19:28:16] <eddyb> and there's no warning?
[19:28:54] <imperio> nope
[19:28:56] <eddyb> imperio: I would comment it out and only add new codes
[19:29:13] <imperio> I'll check others...
[19:29:40] <imperio> E0153 isn't called either
[19:29:56] <imperio> E0253 is called somewhere \o/
[19:31:51] *** Joins: Guest53 (textual@moz-rvv.00r.255.109.IP)
[19:34:54] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[19:35:15] *** Joins: imperio_ (Mibbit@moz-0ebgt2.fbx.proxad.net)
[19:37:05] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:44:25] *** Joins: eerie (eerie@moz-bn66jk.red.bezeqint.net)
[19:44:35] *** Quits: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu) (Quit: Leaving)
[19:48:45] *** Quits: eerie (eerie@moz-bn66jk.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:49:18] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[19:49:26] *** Joins: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu)
[19:56:21] *** Joins: RC9 (RCIX@moz-2vc.dfa.8.198.IP)
[19:58:17] *** Joins: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP)
[20:03:41] *** Quits: semarie (semarie@moz-77lsi6.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[20:03:49] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[20:04:50] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[20:07:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[20:16:12] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[20:22:54] *** Joins: goyox86 (textual@moz-rvv.00r.255.109.IP)
[20:25:35] *** Joins: ytain (ytain@moz-gslvdm.cpe.pppoe.ca)
[20:29:13] *** Quits: quantheory (quantheory@moz-pjo3s1.36gq.r6rv.0280.2601.IP) (Quit: Leaving)
[20:30:00] *** Joins: kxlzz` (kxlzz@moz-a3bguo.vc.shawcable.net)
[20:30:34] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[20:35:06] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: Textual IRC Client: www.textualapp.com)
[20:46:11] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[20:46:36] *** Quits: dlight (dlight@moz-d7n.hlq.135.177.IP) (A TLS packet with unexpected length was received.)
[21:00:30] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:01:01] *** Quits: laumann (thomas@moz-anc.lag.199.62.IP) (Ping timeout: 121 seconds)
[21:04:44] *** Quits: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[21:05:36] *** Joins: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net)
[21:09:08] *** Joins: amyers (amyers@moz-osiar4.md.comcast.net)
[21:10:31] <nagisa> acrichto: ping
[21:10:40] <acrichto> nagisa: pong
[21:10:56] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:10:59] <nagisa> should I also keep tail/init on SliceExt defined in core?
[21:11:33] <acrichto> nagisa: eh may as well for consistency
[21:11:36] <acrichto> but it's not super critical
[21:11:48] <nagisa> gotcha
[21:11:48] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:13:10] <blaenk> alright yeah there's only one global static no matter how many times a crate that defines it is depended on
[21:13:17] <blaenk> just got back and tried it :D
[21:13:21] <blaenk> thanks nagisa for nm -C
[21:14:18] <nagisa> glad it helped :)
[21:15:56] *** Quits: arielb1 (Ariel@moz-jqrrgl.red.bezeqint.net) (Connection closed)
[21:16:03] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[21:16:22] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:20:24] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[21:20:25] *** Quits: Guest53 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:22:27] *** Joins: laumann (thomas@moz-anc.lag.199.62.IP)
[21:26:40] *** Quits: laumann (thomas@moz-anc.lag.199.62.IP) (Ping timeout: 121 seconds)
[21:30:12] <jethrogb> https://github.com/rust-lang/rust/blob/master/src/libstd/sys/windows/mod.rs#L128
[21:30:23] <jethrogb> shouldn't that be k>n? on k==n you just keep setting k=n in a loop
[21:30:41] <jethrogb> you just keep setting n=k*
[21:33:04] *** Quits: imperio_ (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:34:04] *** Quits: filsmick (filsmick@moz-gf7g4q.abo.wanadoo.fr) (Quit: )
[21:35:55] <eddyb> Manishearth: what you do that for? :P
[21:36:07] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[21:36:27] <eddyb> Manishearth: pro tip: don't use an ssh remote for upstream
[21:43:42] <manishea1th> eddyb: yes, I undid it :)
[21:44:10] *** Manishearth is now known as Guest1111
[21:44:10] *** manishea1th is now known as Manishearth
[21:45:29] <Manishearth> eddyb: isn't ssh faster though?
[21:45:55] <eddyb> oh, I don't know
[21:46:10] <eddyb> maybe you can set it to ssh and fetch-only
[21:46:13] <Manishearth> git remote set-url --push origin https://github.com/rust-lang/rust.git
[21:46:15] <Manishearth> better
[21:46:41] <Manishearth> eddyb: I'm surprised you caught that though :)
[21:46:57] <WindowsBunny> jethrogb: the winapi functions are documented as only returning k == n when it is ERROR_INSUFFICIENT_BUFFER
[21:47:00] <eddyb> yeah, https is what I use, asks me for my github password every time
[21:47:12] <eddyb> Manishearth: #rust-bots
[21:47:55] <WindowsBunny> jethrogb: Except on Windows XP
[21:48:46] <jethrogb> WindowsBunny: ok, wow...
[21:48:57] <WindowsBunny> jethrogb: So on Windows XP that code might actually break
[21:49:16] <jethrogb> WindowsBunny: yeah and I thought xp is a target now
[21:49:22] <WindowsBunny> hmmm, this function needs to be more robust
[21:49:32] <jethrogb> WindowsBunny: also, the case k==n with ERROR_INSUFFICIENT_BUFFER is already covered in the case before
[21:49:34] <Manishearth> eddyb: yes, and I'm surprised you watch that
[21:49:55] <eddyb> I click the tab so it stops being highlighted
[21:50:54] <Manishearth> heh
[21:51:08] <WindowsBunny> jethrogb: Did you intend on making that function more robust?
[21:51:27] <jethrogb> WindowsBunny: no I was just reading through it for no particular reason and this cought my eye
[21:51:39] <jethrogb> WindowsBunny: I don't have a Windows setup for development
[21:51:51] <WindowsBunny> jethrogb: Well, I'll put it on my todo list of things to fix up :P
[21:52:03] <jethrogb> WindowsBunny: cool :)
[21:53:36] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:55:43] *** Joins: dcb_ (textual@moz-j72nfe.ca.comcast.net)
[21:55:43] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Connection closed)
[22:00:25] <jethrogb> WindowsBunny: yeah I can't get it to error on Windows 7 using GetEnvironmentVariableW\
[22:07:00] *** Joins: swgillespie (swgillespie@moz-9bk0j1.spectrumnet.us)
[22:07:54] *** dcb_ is now known as dcb
[22:09:28] *** Quits: swgillespie (swgillespie@moz-9bk0j1.spectrumnet.us) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:12:18] *** Quits: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP) (Connection closed)
[22:13:02] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[22:15:23] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[22:20:26] *** Joins: Guest53 (textual@moz-rvv.00r.255.109.IP)
[22:23:10] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[22:24:12] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[22:24:36] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[22:24:50] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[22:25:15] *** Quits: Guest53 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:28:17] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[22:31:47] <burntsushi> steveklabnik: sadly no, my attention has diverted to concurrency in Rust. but it is a temporary distraction.
[22:32:18] *** Joins: X67r (user@moz-pee3l9.mullvad.net)
[22:33:29] <steveklabnik> :)
[22:33:39] <steveklabnik> it's all good, just wonderinf i i'd missed it
[22:39:24] <blaenk> burntsushi: hey are you working on some package for that or something?
[22:39:47] <burntsushi> blaenk: trying to mpmc channels w/ unrestricted select
[22:39:52] <blaenk> oo
[22:39:57] <burntsushi> blaenk: select is... proving difficult
[22:40:00] <blaenk> :/
[22:40:40] <WindowsBunny> burntsushi: It's quite easy if you use the winapi stuff, although the syscall overhead might be a bit much, and its platform specific
[22:40:51] <blaenk> is there a special purpose to having: pub struct T(()); vs pub struct T; ? wondering cause of some code I'm looking at in the log crate
[22:41:06] <blaenk> https://github.com/rust-lang/log/blob/master/src/lib.rs#L607-L610
[22:41:12] <WindowsBunny> blaenk: the former has a private field?
[22:41:28] <burntsushi> WindowsBunny: i'm not doing anything remotely that fancy. just mutexes and condition variables.
[22:41:37] <blaenk> yeah I don't see any field being used here, so does that have some implicit effect?
[22:41:50] <WindowsBunny> burntsushi: WaitForMultipleObjects
[22:42:02] <blaenk> I'm pretty sure it has some implicit effect but I can't think of what
[22:42:26] <burntsushi> WindowsBunny: i need more context then that, unfortunately. what are the semantics of WaitForMultipleObjects? what are its inputs and outputs? docs?
[22:42:50] <WindowsBunny> burntsushi: an array of HANDLE and a timeout
[22:42:55] <burntsushi> blaenk: i think `pub struct T(())` is impossible to construct by a client?
[22:43:08] <blaenk> ohhh yeah that sounds like it
[22:43:22] <blaenk> thanks man
[22:43:38] <burntsushi> WindowsBunny: what is a handle? i'm looking at: https://msdn.microsoft.com/en-us/library/windows/desktop/ms687025(v=vs.85).aspx
[22:44:11] <WindowsBunny> burntsushi: a HANDLE is a handle to any object the kernel allocates for you
[22:44:35] <WindowsBunny> things like files
[22:44:53] <benh> If you're happy with syscalls inbetween, can you just use sockets or something :P
[22:44:55] <WindowsBunny> threads, processes, mutexes, semaphores, waitable timers
[22:45:10] <burntsushi> WindowsBunny: that's not what i want. i want CSP select. something that can synchronize arbitrary events on channels.
[22:45:46] <WindowsBunny> If you used a semaphore for each channel, then you can wait on all the semaphores
[22:45:50] <burntsushi> WindowsBunny: i don't.
[22:45:55] <WindowsBunny> but if you did ;)
[22:46:45] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[22:47:14] <burntsushi> WindowsBunny: that doesn't work because there's no way to wake up receivers. if more than one receiver is blocking and all the senders are closed, the semaphore will never change and the receiver will always block. the semantics i want: the receiver should return immediately when no more sends are possible.
[22:47:34] <burntsushi> WindowsBunny: any way, i will write it how i know first. when i'm done, i will link you and you can make suggestions. :-)
[22:47:51] <WindowsBunny> channels that don't block when there are no more senders? thats tricky
[22:48:01] <burntsushi> WindowsBunny: it's not with a mutex and a condition variable.
[22:48:26] <burntsushi> WindowsBunny: well, on their own, anyway. but as i said... implementing select is tricky. i think i know how to do it. just lots of pain.
[22:50:31] <WindowsBunny> one day I'll write a library with all sorts of cool winapi stuff
[22:50:48] <burntsushi> WindowsBunny: yeah, my other goal is: no unsafe.
[22:51:32] *** Quits: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP) (Ping timeout: 121 seconds)
[22:55:26] *** Joins: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP)
[23:03:34] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[23:03:58] *** Quits: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP) (Ping timeout: 121 seconds)
[23:09:51] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[23:12:06] <nagisa> there’s always unsafe under the wraps
[23:13:04] *** Quits: ytain (ytain@moz-gslvdm.cpe.pppoe.ca) (Connection closed)
[23:13:06] *** Joins: dlight (dlight@moz-d7n.hlq.135.177.IP)
[23:13:24] *** Joins: ytain (ytain@moz-gslvdm.cpe.pppoe.ca)
[23:17:00] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[23:17:07] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:18:24] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[23:21:17] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[23:23:56] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[23:32:49] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[23:35:46] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[23:36:04] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[23:38:24] *** Quits: Yurumechan (23f9939a@moz-eg6.d6u.78.121.IP) (Ping timeout: 121 seconds)
[23:41:49] *** Joins: Yurumechan (23f9939a@moz-eg6.d6u.78.121.IP)
[23:44:56] *** Joins: p1start (p1start@moz-nftjhe.org)
[23:57:51] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Ping timeout: 121 seconds)
[23:57:56] *** Joins: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp)
[23:58:29] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
