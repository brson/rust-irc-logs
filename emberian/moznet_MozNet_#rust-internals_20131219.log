[00:03:11] <cmr> and actually if the patch is accepted I'd like to sneak in another commit changing #[no_split_stack] to #[no_stack_check_prelude]
[00:05:45] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[00:07:46] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[00:07:51] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:08:08] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:10:33] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[00:10:58] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[00:11:32] *** jdm is now known as jdm|f00ding
[00:28:01] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
[00:29:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[00:31:56] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[00:31:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/WVhh3g
[00:31:56] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[00:32:37] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Ping timeout)
[00:36:38] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:36:38] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/WII7PA
[00:36:38] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:36:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:36:41] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ItoaHQ
[00:36:41] <ghrust> 13rust/06auto 1434efe17 15Patrick Walton: librustc: Add missing case for the `Pod` bound in `tydecode`.
[00:36:41] <ghrust> 13rust/06auto 148ca16bb 15bors: auto merge of #11060 : pcwalton/rust/tydecode-pod, r=brson...
[00:36:41] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:38:39] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:43:12] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[00:50:05] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:51:40] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[00:56:58] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:58:06] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[01:01:39] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:01:39] *** ChanServ sets mode: +qo brson brson
[01:01:56] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:11:43] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:11:43] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 148ca16bb to 14b6933f8: 02http://git.io/N3iJvQ
[01:11:43] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:11:44] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:11:44] <ghrust> 01[13rust01] 15bors pushed 1 new commit to 06auto: 02http://git.io/NVqnSg
[01:11:44] <ghrust> 13rust/06auto 143c2c13b 15bors: auto merge of #11029 : huonw/rust/rm-vec-as-buf, r=cmr...
[01:11:44] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[01:12:45] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[01:19:38] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[01:35:38] <vadimcn> acrichto: What happens if two Rust crates, which were linked to std statically, then end up in the same process?   Does the process end up with two copies of std?
[01:36:25] <acrichto> vadimcn: that's the reason we don't allow mixed dynamic/static linking
[01:36:39] <acrichto> if everything is static, that won't happen, and if everything is dynamic, that also won't hapen
[01:36:46] <acrichto> if you start mixing you have to be very careful for that not to happen
[01:37:40] <vadimcn> so I can't have a .dll/.so crate that statically links to other crates?
[01:39:58] <acrichto> no
[01:40:25] <acrichto> in the future I want to support that, but it will require much though to do in a sane way
[01:43:32] <vadimcn> acrichto: asking 'cause I was wondering what to do about unwind info registration.  so it would be safe to have all crates register unwind info with std without requiring it to be a shared library?
[01:44:06] <acrichto> vadimcn: "unwind info registration" <- this isn't something we do today, so it's something we may expand into doing for windows?
[01:44:39] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Client exited)
[01:45:26] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:45:26] *** ChanServ sets mode: +qo brson brson
[01:45:51] <vadimcn> on linux, etc, all shared libs somehow magically get linked to the same copy of __register_frame_info() function
[01:46:05] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[01:46:16] <vadimcn> ... because dynamic linker is smart
[01:46:22] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[01:46:22] *** ChanServ sets mode: +qo brson brson
[01:46:43] <acrichto> this happens today?
[01:46:55] <acrichto> if so this is all news to me
[01:48:20] <vadimcn> I read it here: http://www.airs.com/blog/archives/166
[01:48:52] <vadimcn> don't know if that's true, linux is not my area of expertise
[01:49:31] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[01:49:35] <vadimcn> but I know for sure that on Windows you need to link to shared libgcc for cross-dll exceptions to work
[01:52:27] <vadimcn> acrichto: if Rust is to get rid of libgcc_s_dw2-1.dll dependency, __register_frame_info() needs to go somewhere else
[01:52:42] <nmatsakis> pcwalton: neat. btw, did you see my comment re: pod?
[01:52:56] <nmatsakis> pcwalton: (neat re: de-@mut of Block)
[01:53:00] <pcwalton> nmatsakis: re managed? I had a test case for that
[01:53:06] <pcwalton> but maybe I got it wrong?
[01:53:09] <acrichto> vadimcn: hm, that must be windows specific because I've never seen that anywhere else
[01:53:25] <nmatsakis> pcwalton: let me investigate maybe I am confused
[01:53:28] <pcwalton>     assert_pod::<@int>();   //~ ERROR does not fulfill `Pod`
[01:53:32] <pcwalton> nmatsakis: ^
[01:54:02] <vadimcn> acrichto: is libgcc linked statically on linux?
[01:54:21] <acrichto> vadimcn: i dont believe so
[01:54:49] <nmatsakis> pcwalton: ok, re-reading I see that it does have the "owns managed" bit -- so actually code is correct. sorry for confusion!
[01:54:54] <pcwalton> no problem :)
[01:55:12] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:55:48] <nmatsakis> pcwalton: however the comment "same as Moves" is incorrect
[01:55:52] <pcwalton> yeah
[01:55:55] <pcwalton> that should be fixed, sorry
[01:56:32] <pcwalton> nmatsakis: are you planning to expand borrow scopes to an entire method chain?
[01:56:41] <pcwalton> this is getting pretty annoying refcelling HashMap
[01:56:51] <nmatsakis> yeah, i've got a patch that expands temp scope to the enclosing stmt
[01:56:52] <pcwalton> because every single find or insert requires a temporary
[01:56:54] <pcwalton> cool
[01:56:57] <nmatsakis> I've been pushing on it this week
[01:57:09] <nmatsakis> not quite there yet, but I hope soon.
[01:57:12] <pcwalton> no rush
[01:57:17] <pcwalton> I'm just adding temporaries
[01:57:40] <jack> pcwalton: that PR failed
[01:57:50] <pcwalton> I'll look into it.
[01:58:00] <pcwalton> nmatsakis: also, do you envision that the Deref/MutDeref trait will be sufficient to convert .borrow().get() or .borrow_mut().get()?
[01:58:02] <pcwalton> into
[01:58:06] <jack> pcwalton: amusing on the test that you added for it :)
[01:58:07] <pcwalton> .borrow()/.borrow_mut()
[01:58:10] <pcwalton> yeah, I didn't run the test
[01:58:41] <pcwalton> I am exceedingly impatient when it comes to backwards incompatible language changes
[01:58:44] <nmatsakis> pcwalton: this is for RefCell ?
[01:58:47] <pcwalton> yes
[01:58:52] <pcwalton> sorry, should have made that clear
[01:59:08] <nmatsakis> pcwalton: I think we can handle that, but we'll need multiple Deref/MutDeref traits
[01:59:11] <pcwalton> ok
[01:59:32] <nmatsakis> where a smart pointer implements at most one kind of thing
[01:59:40] <pcwalton> it's fairly annoying without those two features, although I think it's still better than @mut
[01:59:44] <pcwalton> because it's now totally explicit
[01:59:55] <pcwalton> I know what's happening by looking at the code now
[02:00:15] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:00:27] <vadimcn> acrichto: well, anyhow, using libstd as a central point for registration would be the simplest solution on Windows.   But if it isn't guaranteed to be a singleton, we'll have to do something more elaborate
[02:01:09] <acrichto> vadimcn: I don't really understand the problem at hand, but yes I believe that we will continue to guarantee that there is only one copy of each rust library in th eprocess
[02:01:45] <vadimcn> acrichto: I can explain if you care...
[02:02:03] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[02:02:03] <acrichto> sure!
[02:04:34] <vadimcn> ok, so unwind info is stored in the ".eh_frame" section of each executable or dynamic library.   the info  is basically a table of (minPC, maxPC) -> { how to restore registers }
[02:05:05] <vadimcn> each eh_frame contains entries that cover the whole code segment for that module
[02:07:03] <vadimcn> when exception is thrown, unwinder looks up current PC in the tables *in knows about*, uses this info to unwind top stack frame, then looks up the new PC value and so on
[02:07:37] <vadimcn> if at any point it cannot find current PC in any unwind table, unwinding fails
[02:08:27] <acrichto> hm, so somehow whenever you load a dynamic library it has to register all of its exception handling tables?
[02:08:54] <vadimcn> not that in order to throw exceptions across modules, unwinder needs to know about all of them (or, rather, about where their unwind tables are located in memory)
[02:09:36] <vadimcn> acrichto: right, every dll calls __register_frame_info exported from libgcc with a pointer to its' unwind table
[02:10:36] <acrichto> jeez whomever wrote a dynamic linker is crazy
[02:10:42] <vadimcn> but if two dlls are linked to libgcc statically, they get separate copies of unwinder, __register_frame_info, etc, and they don't know about each other
[02:11:10] <cmr> acrichto: dynamic linking is fine, it's unwinding that's crazy :p
[02:11:24] <vadimcn> so then unwinding works if both throw and catch points are in the same dll, but if not - kaboom!
[02:11:26] <acrichto> so how is this a problem with libstd and not just making sure libgcc only appears once?
[02:12:19] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[02:12:33] <vadimcn> acrichto: right now libgcc must be linked as a shared lib (for cross-dll excpetions to work) and everything is fine
[02:13:07] <acrichto> not necessarily though, we could link it statically once, right?
[02:13:20] <acrichto> like link it statically to libstd and then tell nothing else to link against it
[02:14:05] <brson> as long as we don't support unwinding across language stacks
[02:14:06] <vadimcn> acrichto: correct, that's why I am asking if there will be only one copy of libstd in a process 
[02:14:34] <vadimcn> brson: right
[02:14:48] <acrichto> I figured that we'd consider our unwinding implementation to be "rust specific" in that it's only guaranteed to unwind rust frames
[02:15:48] <vadimcn> acrichto: that's option #1
[02:15:57] <cmr> that's what I would expect tbh
[02:16:20] <vadimcn> #2 is to keep libgcc.dll dependency
[02:16:58] <acrichto> from what I understand the only problematic dependency is libstdc++, I think relying on libgcc in the near future is fine
[02:17:16] <vadimcn> #3 is to enumerate all modules in the current process and check if they have a ".eh_frame" section
[02:17:16] <acrichto> pcwalton: r? https://github.com/mozilla/rust/pull/11057
[02:18:14] <vadimcn> btw, why libstdc++ is considered problematic, but not libgcc?
[02:18:42] <acrichto> I think that people in the past have been worried about the abi of libstdc++ and how much of a large dependency it brings in, but the abi of libgcc I guess is fairly stable?
[02:18:48] <acrichto> I'm all for eliminating dependencies though
[02:19:03] <cmr> I think both should be eliminated, but libgcc is the lesser evil.
[02:19:16] <acrichto> that's a good way to put it
[02:19:17] <strcat> vadimcn: libgcc can be mostly replaced by compiler-rt, and should be to fix some bugs
[02:19:27] <strcat> vadimcn: but it provides unwinding, and there isn't a replacement yet
[02:19:37] <acrichto> you mean it doesn't?
[02:19:47] <strcat> talking about libgcc
[02:19:58] <acrichto> aww, I got really hopeful there for a sec
[02:21:12] <vadimcn> strcat: but it would have to be called exactly "libgcc_s_dw2-1.dll"
[02:21:41] <strcat> compiler-rt is statically linked only
[02:22:49] <vadimcn> strcat: but existing C++ dlls depend on libgcc_s_dw2-1.dll (for C runtine, but more importantly as a central point for unwind info registration)
[02:23:26] <acrichto> we would have other reasons for compiler-rt though, libgcc doesn't provide all the intrinsics that llvm wants
[02:23:27] <vadimcn> strcat: if we don't care about those then we have option #1 above
[02:23:31] <acrichto> so it wouldn't be just for unwinding
[02:24:37] <vadimcn> acrichto: understood, but most everything else can tolerate multiple instances of C runtime in the process
[02:24:42] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[02:25:20] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:26:16] <strcat> vadimcn: LLVM is moving towards using the MSVC++ ABI/headers
[02:27:46] <vadimcn> and SEH-32 for unwinding?
[02:32:32] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:33:10] <vadimcn> So I have a change that gets rid of libstdc++ (mostly).  I guess we can leave libgcc dependency in for now?
[02:36:38] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:36:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/feeiEw
[02:36:38] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:41:40] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:41:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/MFZuGg
[02:41:40] <ghrust> 13rust/06auto 1405395cb 15g3xzh: Fix `sum()` accuracy...
[02:41:40] <ghrust> 13rust/06auto 14b4ed6f9 15bors: auto merge of #10927 : g3xzh/rust/sum_bugfix, r=huonw...
[02:41:41] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:41:48] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[02:42:30] <cmr> This 544 line file is one function.
[02:42:36] <cmr> (trans_intrinsic)
[02:49:59] <aatch> cmr, oh yeah. That function.
[02:50:13] <aatch> cmr, be glad it's in it's own file now, used to be in foreign.rs
[02:50:19] <cmr> heh
[02:51:51] * aatch is responsible for the horrible 'lets parse the function name' code in there too.
[03:00:36] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[03:01:05] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:02:08] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[03:02:41] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:02:42] *** ChanServ sets mode: +qo brson brson
[03:02:51] <brson> looks like there won't be another rust meeting until 1/7
[03:03:04] <dbaupp> https://github.com/mozilla/rust/pull/11061 r?
[03:04:22] <brson> dbaupp: have acrichto's changes to the metric uploads helped?
[03:05:03] <dbaupp> brson: I'm downloading them, but haven't got around to handling them yet
[03:05:52] <dbaupp> I could then use the filenames from to download many of the historical (non-zipped) ones, so I've got 500 MB of json.
[03:19:53] <pcwalton> demuting wip https://github.com/pcwalton/rust/commits/demuting
[03:21:16] <acrichto> my god
[03:26:00] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:29:54] <brson> i sure don't want to rewrite std::comm again
[03:30:30] <acrichto> it made me a little sad to see how much pushback there is to unbounded channels
[03:30:40] <acrichto> I don't think anyone had anything good to say about them :(
[03:31:08] <brson> i haven't seen any really solid arguments though, just assertions
[03:32:00] <jack> go and erlang have unbounded channels right?
[03:32:06] <acrichto> go doesn't
[03:32:17] <jack> does go have blocking send?
[03:32:18] <acrichto> sounds like erlang does though
[03:32:20] <acrichto> yeah
[03:32:43] <jack> I've been bitting by the Erlang unbounded thing, but ew only have a fraction of hte problem. Also, that hasn't stopped people from building massive and reliable systems there.
[03:32:43] <acrichto> someone was saying that there's some research paper that says the flavor of channels that go has allow for creation of like any other primitive
[03:33:05] <acrichto> it's not like having a blocking send is a silver bullet
[03:33:11] <acrichto> you have lots of problems in both camps if you don't use them right
[03:33:26] <jack> We should talk to Ulf Wiger, who was CTO of Erlang Solutions and did consulting on huge systems with erlang
[03:33:39] <jack> he also wrote a lot of the crazy infrastructure management stuff around this issue
[03:34:08] <jack> I should ping him anyway to see what he's up to.
[03:40:58] <strcat> acrichto: I don't really think non-blocking send saves you - you need some sort of bound, somewhere
[03:41:05] <strcat> or 'non-blocking' just means 'out-of-memory'
[03:41:23] <acrichto> see brson's responses on the mailing list
[03:44:55] <strcat> brson: btw it's possible to leak via stuff like channels too
[03:45:05] <strcat> which is the rationale for giving up on statically preventing it for Rc
[03:45:17] <strcat> unless we want a T: Freeze bound on every shared concurrent data structure
[03:45:38] <strcat> which I think would be a fine choice too... but I don't think people like it
[03:46:05] <strcat> and lots of things are non-Freeze (any mutable shared thing)
[03:46:23] * strcat shrugs
[03:48:03] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[03:49:48] <cmr> Freeze everywhere is inconvenient.
[03:50:17] <cmr> I'm coming to consider cycles as unfortunate bugs that we should try to make it easy to avoid but not value avoidance over convenience.
[03:50:25] <strcat> the problem is that things like SharedChan or other concurrent data structures are Send
[03:50:35] <strcat> so the only way to stop you from making cycles is a hard Freeze bound
[03:54:46] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:54:57] *** Quits: zz_kimundi (kimundi@moz-D3B44B8E.dip0.t-ipconnect.de) (Ping timeout)
[03:56:36] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:56:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/MFZuGg
[03:56:36] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:58:27] *** Joins: zz_kimundi (kimundi@moz-31F6BD2.dip0.t-ipconnect.de)
[03:58:29] *** zz_kimundi is now known as kimundi
[04:01:52] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:01:53] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/__fZRg
[04:01:53] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:05:24] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[04:06:35] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:06:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/__fZRg
[04:06:35] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:15:05] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[04:16:13] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[04:16:36] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[04:16:46] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[04:25:33] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:41:42] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:41:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:41:52] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:41:59] <cmr> acrichto: nice talk
[04:55:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[05:11:54] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:20:39] <cmr> whaaaaaaaaat trans_intrinsic is called from monomorphize
[05:21:14] <cmr> if only this module had docs so I knew what its job was :(
[05:21:35] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[05:21:36] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:21:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0dItuA
[05:21:36] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:22:19] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[05:26:34] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[05:26:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/t4XHpA
[05:26:34] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[05:26:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:26:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ql1e_w
[05:26:35] <ghrust> 13rust/06auto 14e51dd32 15Alex Crichton: Upgrade libuv to fix a leak on OSX...
[05:26:35] <ghrust> 13rust/06auto 141496dd3 15bors: auto merge of #11038 : alexcrichton/rust/fix-osx-leak, r=cmr...
[05:26:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:00:39] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:01:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:15:57] <dbaupp> https://github.com/mozilla/rust/pull/11064 r?
[06:18:55] <eddyb> cmr: monomorphize?
[06:19:18] <eddyb> though I'm slow
[06:19:26] <cmr> eddyb: rustc::middle::trans::monomorphize::monomorphic_fn
[06:20:02] <eddyb> AFAIK, it mainly instantiates generic functions
[06:20:12] <cmr> dbaupp: so, quick3 seems to be faster, by a fair bit?
[06:20:18] <eddyb> does it do something more magic-y than that?
[06:20:30] <cmr> oh I should have read more
[06:25:14] <dbaupp> cmr: yes, but not for sorted arrays
[06:25:43] <dbaupp> cmr: (although that could be ameliorated with a better pivot-choosing algorithm, but there will always be O(n^2) inputs.)
[06:26:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:26:36] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141496dd3 to 14b760ed6: 02http://git.io/N3iJvQ
[06:26:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:26:38] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[06:26:38] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/eQz9sA
[06:26:38] <ghrust> 13rust/06auto 142990cbb 15Corey Richardson: Rename pkgid to crate_id...
[06:26:38] <ghrust> 13rust/06auto 143042ce6 15Corey Richardson: teach rustc to print various crate-id related things....
[06:26:38] <ghrust> 13rust/06auto 1446272f6 15Corey Richardson: Remove --crate-hash, add --crate-name, make --crate-file-name print all files
[06:26:40] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[06:27:56] <eddyb> dbaupp: v8 does something tricky for Array#sort - insertion sort for small arrays (including small partitions, when recursing in qsort) - and a pivot-choosing algorithm by sorting a small subset, for large arrays
[06:28:36] <dbaupp> eddyb: that PR is doing merge sort with insertion sort for small arrays
[06:28:53] <eddyb> oh, I didn't look
[06:30:49] <eddyb> I think it's gotten more complicated since I last saw it https://github.com/v8/v8/blob/master/src/array.js#L880-L1167
[06:30:54] <dbaupp> eddyb: even so, I'm sure you can construct examples that are quadratic for v8's algorithm, they're just less obvious.
[06:31:11] <dbaupp> geeez, that's a lot of sorting
[06:31:39] <eddyb> this is the in-place quick sort https://github.com/v8/v8/blob/master/src/array.js#L932-L1016
[06:32:00] <dbaupp> right, just median-of-3
[06:32:11] <eddyb> dbaupp: if (to - from > 1000)
[06:32:23] <dbaupp> eddyb: huh?
[06:32:33] <eddyb> https://github.com/v8/v8/blob/master/src/array.js#L941
[06:32:38] <dbaupp> yes
[06:32:44] <dbaupp> I mean, what's the relevance?
[06:32:58] <dbaupp> oh, I see
[06:33:37] <dbaupp> it becomes median-of-(2 + n/200)
[06:34:28] *** jdm|f00ding is now known as jdm
[06:37:01] <eddyb> dbaupp: I'm not sure how efficient it is, but if you're benchmarking, you can add that method to it and see how it performs for large arrays of, let's say, 128KB of random numbers
[06:37:56] <dbaupp> eddyb: I was just benchmarking against the things in extra... if you were to provide me with a quick-sort with that implementation I'm happy to benchmark it ;)
[06:38:30] <dbaupp> r? https://github.com/mozilla/rust/pull/11065
[06:39:02] <eddyb> it's just this function to translate, right? https://github.com/v8/v8/blob/master/src/array.js#L919-L930
[06:39:30] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[06:39:33] <dbaupp> yeah, and hook it into a quick_sort
[06:39:57] <dbaupp> also, you're not allowed to use Clone (to be fair against the mergesort)
[06:40:00] <eddyb> window_iter, collect, but I spent a day optimizing simpler things
[06:40:25] <eddyb> dbaupp: borrowed references ;)
[06:40:58] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[06:41:20] <dbaupp> eddyb: true
[06:41:39] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:41:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149864dcd to 14b760ed6: 02http://git.io/N3iJvQ
[06:41:39] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:43:29] <dbaupp> eddyb: (and to be even fairer, it needs to stable & the entire algorithm needs to be Clone-less; you are allowed `unsafe` though.)
[06:49:07] <eddyb> do we have a clone_iter?
[06:49:32] <eddyb> (something unrelated to the sort, I'm working with bytes)
[06:49:49] <eddyb> I've heard the Pod kind got merged - could we have copy_iter?
[06:50:06] <eddyb> or value_iter. that sounds nicer. .values()?
[07:13:55] <eddyb> I really want to write f(x, ..unsafe {(*a, *b, *c)}) right now :P
[07:14:01] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[07:21:13] <dbaupp> eddyb: rather than the shorter and clearer `unsafe {f(x, a, b, c)}`?
[07:22:00] <eddyb> dbaupp: f is safe
[07:22:31] <eddyb> dbaupp: I don't like allowing unsafe {...} to encompass more than I meant to abstract away
[07:23:46] <dbaupp> eddyb: I agree, but you've got to make concessions to sanity sometimes :P
[07:24:32] <eddyb> let (a, b, c) = unsafe {...} for now
[07:26:10] <dbaupp> is anyone else seeing `make[1]: Circular libuv.a <- libuv.a dependency dropped.  COPY libuv.a` when building?
[07:27:18] <sfackler> dbaupp: I've seen that for a while on osx. everything still seems to work though
[07:27:39] <dbaupp> yeah, it all works fine
[07:27:44] <dbaupp> (on linux)
[07:28:26] <ktt3ja> I have been seeing something similar, too (on linux)
[07:29:27] * dbaupp files a bug
[07:30:00] <dbaupp> ktt3ja: no dead_code bugs recently... it's perfect \o/
[07:30:32] <ktt3ja> a day went by without dead_code bugs
[07:30:36] * ktt3ja shed tears
[07:31:02] <dbaupp> https://github.com/mozilla/rust/issues/11067 fwiw
[07:36:52] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Connection reset by peer)
[07:39:57] <sfackler> ktt3ja: not yet! https://github.com/mozilla/rust/issues/10914
[07:41:31] <dbaupp> sfackler: that's from a week ago, so doesn't count :P
[07:46:00] <acrichto> dbaupp: I was halfway through writing up why we should close 11067 as wontfix
[07:46:03] <acrichto> then I found the fix
[07:46:32] <dbaupp> acrichto: hahaha :)
[07:46:50] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:46:55] <dbaupp> that's a peculiar little bug
[07:47:14] <acrichto> dunno
[07:47:18] <acrichto> I'm chalking it up to magic
[07:47:38] <dbaupp> it could also be fairies
[07:47:50] <ChrisMorgan> dbaupp: aren't fairies magic?
[07:47:53] <eddyb> stop it, you two :P
[07:47:57] <eddyb> (you three now?)
[07:48:15] <ChrisMorgan> Which three? acrichto, dbaupp, ChrisMorgan?
[07:48:15] <eddyb> rust-png ./configure makes cp complain it won't copy a file over itself
[07:48:45] <eddyb> that is, when you build it outside of servo
[07:49:47] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[07:49:53] <eddyb> meh, it's just really easy to end up in that state when you're only testing in one way (node.js for libuv, I'm guessing)
[07:49:55] *** Quits: Kxepal (Miranda@moz-28D48906.pppoe.mtu-net.ru) (Ping timeout)
[07:50:58] * acrichto can't figure why metadata speedups won't land
[07:51:40] <eddyb> acrichto: bors likes being lazy
[07:52:13] <dbaupp> eddyb: opposite of being lazy; he likes sitting there doing a pile of extra work
[07:52:41] <eddyb> dbaupp: isn't bors "the boss", with the individual build servers doing the actual work :P?
[07:53:32] <ChrisMorgan> bors is the master
[07:53:48] <acrichto> oh man I never thought of it that way
[07:53:53] <acrichto> we have a buildbot master
[07:53:59] <acrichto> but it's not really the master, bors is at the wheel
[07:54:14] <acrichto> we have a master on github, but bors completely control sthat
[07:54:33] <dbaupp> we might as well start giving ranks, to get a proper chain of command around here.
[07:56:22] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:56:33] <ChrisMorgan> And speaking of chains, I loved pcwalton's `let heavy_iron_ball = (), f(LayoutNode { node: node, chain: &heavy_iron_ball, })`
[07:56:43] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:56:43] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/xZJLJA
[07:56:43] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:57:44] <eddyb> ohhhh, that's it, it's over?
[07:58:06] * eddyb enjoys these meetings. maybe one day he'll be in tvland :)
[07:58:50] <ChrisMorgan> eddyb: what's it, what's over?
[07:59:39] <eddyb> ChrisMorgan: the video of the meetup
[08:00:18] <ChrisMorgan> You can watch that streaming live, no need for being in tvland for those things. Or you can volunteer to erickt to give a talk.
[08:01:20] *** Joins: Kxepal (Miranda@moz-2ECA0CCA.pppoe.mtu-net.ru)
[08:01:37] <eddyb> I meant, like you were. skypeland, maybe? I might volunteer, but I need a proper subject to talk about and spend a few days in front of a mirror >_>
[08:02:01] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[08:02:01] <ghrust> 01[13rust01] 15bors pushed 45 new commits to 06auto: 02http://git.io/XBvG_w
[08:02:01] <ghrust> 13rust/06auto 14948b544 15Patrick Walton: librustc: Change `@mut Block` to `@Block`.
[08:02:01] <ghrust> 13rust/06auto 14411ef45 15Patrick Walton: librustc: De-`@mut` `FnCtxt`.
[08:02:01] <ghrust> 13rust/06auto 14a5b498d 15Patrick Walton: librustc: De-`@mut` the type interner
[08:02:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:02:23] <eddyb> holy unsquash!
[08:03:55] * eddyb should de-@ the visitor. which means two visitors, just because of ast_map
[08:04:14] * ChrisMorgan was in skypeland due to not having the required camera on his own laptop to be properly in tvland and not having permissions to install the software on the laptop he borrowed which had a camera, and because WebRTC was a little too risky
[08:06:05] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Connection reset by peer)
[08:06:23] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[08:06:28] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Client exited)
[08:06:54] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[08:07:00] <eddyb> is there a folder which replaces dummy nodes ids with the ones the ast map?
[08:13:40] <ktt3ja> sfackler: I guess dead-code lint should be allowed when running unit test?
[08:15:44] <eddyb> because then that folder can be merged with the @T/P<T> visitor required by ast_map and it's all better. but I don't know
[08:16:38] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:16:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yA0KKg
[08:16:38] <ghrust> 13rust/06auto 149578af8 15Alex Crichton: Upgrade libuv to fix a leak on OSX...
[08:16:38] <ghrust> 13rust/06auto 14ac28718 15bors: auto merge of #11038 : alexcrichton/rust/fix-osx-leak, r=cmr...
[08:16:38] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:30:14] <dbaupp> eddyb: yes
[08:30:20] <dbaupp> eddyb: it runs just after expansion
[08:31:05] <eddyb> dbaupp: hmpf. you can't fold to assign IDs after mapping the AST because you lose correspondence
[08:31:35] <dbaupp> eddyb: exactly; everything would be under the -1 key
[08:31:57] <eddyb> and you can't fold to assign IDs before, because... you have no IDs - unless it's folded with increasing IDs then mapped, that would work. is that what happens right now?
[08:32:35] <dbaupp> yes
[08:32:49] <eddyb> because that means visitor *really* doesn't need @T/P<T>
[08:33:19] <eddyb> the folding process is where you should put things in ast_map
[08:36:30] *** flaper87|afk is now known as flaper87
[08:56:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:06:50] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:08:40] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[09:31:56] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[09:31:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/yA0KKg
[09:31:56] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[09:36:38] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:36:38] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/YgEfoQ
[09:36:38] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:36:43] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[09:36:43] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/eVBPRg
[09:36:43] <ghrust> 13rust/06auto 145ef2098 15Palmer Cox: Remove remainder field from MutChunkIter...
[09:36:43] <ghrust> 13rust/06auto 14b722bf0 15Palmer Cox: Update next() and size_hint() for MutSpliterIterator...
[09:36:43] <ghrust> 13rust/06auto 1468839ee 15Palmer Cox: Implement size_hint() for ByRef iterator
[09:36:45] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[09:51:39] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[09:51:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146072064 to 14ac28718: 02http://git.io/N3iJvQ
[09:51:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[09:54:59] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:08:31] <acrichto> wow, if we don't copy metadata, reading the metadata takes < 1ms
[10:08:51] <acrichto> it's basically free
[10:09:44] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[10:15:32] <dbaupp> acrichto: \o/
[10:15:39] <dbaupp> that's without decompression?
[10:15:58] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:18:31] <acrichto> yeah
[10:18:59] <acrichto> 61ms for a 'fn main() {}' compile with dynamic linking
[10:19:22] <acrichto> about 140ms for static linking
[10:19:30] <acrichto> but I suppose writing a 3MB file takes a second
[10:20:04] <acrichto> time: 0.002 s   external crate/lib resolution
[10:20:13] <acrichto> time: 0.028 s running linker
[10:20:27] <acrichto> anyway, I should sleep now
[10:26:39] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[10:26:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143ee30eb to 14ac28718: 02http://git.io/N3iJvQ
[10:26:39] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[10:36:38] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:36:38] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145c09839 to 14ac28718: 02http://git.io/N3iJvQ
[10:36:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:36:39] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[10:36:39] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/kQ056Q
[10:36:39] <ghrust> 13rust/06auto 14cacf58c 15Huon Wilson: std::str: fix .slice_chars example. Fixes #11014.
[10:36:39] <ghrust> 13rust/06auto 14b3cee62 15bors: auto merge of #11065 : huonw/rust/slice-chars-example, r=cmr
[10:36:39] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[10:38:16] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[11:05:34] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:07:45] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:08:46] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:22:29] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[11:23:26] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[11:27:34] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[11:29:12] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[11:46:36] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:46:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/kQ056Q
[11:46:36] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[12:04:03] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[12:05:36] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[12:06:29] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[12:26:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[12:26:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/npXNsA
[12:26:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[12:26:37] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:26:37] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/VXCIGQ
[12:26:37] <ghrust> 13rust/06auto 148163251 15Huon Wilson: std::vec: replace .insert with a small amount of unsafe code....
[12:26:37] <ghrust> 13rust/06auto 14acd2be4 15Huon Wilson: std::vec: use some unsafe code to optimise `remove`....
[12:26:37] <ghrust> 13rust/06auto 14e86cdaf 15bors: auto merge of #11061 : huonw/rust/opt-unsafe-vec, r=alexcrichton...
[12:26:39] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[12:29:47] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[12:35:37] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Client exited)
[12:36:12] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[12:37:19] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[12:37:32] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[12:41:51] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[12:47:57] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[13:27:47] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[13:43:46] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[13:51:40] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[13:51:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/VXCIGQ
[13:51:41] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[13:53:01] <cmr> eddyb: dbaupp: all the benches are done rerunning, uploading now.
[13:58:52] <dbaupp> cmr: so I should start the graph anew?
[13:59:55] <cmr> dbaupp: dunno, what does that mean? :) I just re-did the last 70 or so since LTO landed.
[14:02:07] <dbaupp> cmr: as in, just show those 70
[14:02:30] <eddyb> IIRC, it shouldn't break the main memory graph, trans was the peak
[14:02:38] <cmr> hrm. no, I think it *should* be fine..
[14:02:58] <cmr> we'll see though
[14:03:01] <eddyb> there might be a drop in the main CPU time graph, but not that big
[14:04:34] <cmr> (I'll let you know when it's done uploading)
[14:18:12] <dbaupp> r? https://github.com/mozilla/rust/pull/11071
[14:26:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:26:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/T1dVzQ
[14:26:36] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:26:39] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[14:26:39] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/5wXeig
[14:26:39] <ghrust> 13rust/06auto 14aed7d01 15Huon Wilson: std: silence warnings when compiling test.
[14:26:39] <ghrust> 13rust/06auto 14e6ba1b5 15Huon Wilson: extra: silence warnings during testing.
[14:26:39] <ghrust> 13rust/06auto 1466bc6f7 15bors: auto merge of #11071 : huonw/rust/quiet-test, r=cmr
[14:26:41] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[14:28:52] <cmr> dbaupp: <3 cleanup
[14:29:54] * dbaupp think he raced with bors... hopefully bors won't get stuck...
[14:31:57] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[14:31:57] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1466bc6f7 to 14e86cdaf: 02http://git.io/N3iJvQ
[14:31:57] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[14:31:58] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[14:31:58] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/1phkrw
[14:31:58] <ghrust> 13rust/06auto 142990cbb 15Corey Richardson: Rename pkgid to crate_id...
[14:31:58] <ghrust> 13rust/06auto 143042ce6 15Corey Richardson: teach rustc to print various crate-id related things....
[14:31:59] <ghrust> 13rust/06auto 141d76bff 15Corey Richardson: Remove --crate-hash, add --crate-name, make --crate-file-name print all files
[14:32:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[14:32:23] <cmr> dbaupp: what.. justhappened?
[14:33:32] <dbaupp> cmr: magic
[14:33:56] <dbaupp> cmr: I forgot something and pushed a new branch about 10 seconds after bors merged that PR
[14:34:35] <cmr> that's ok, I had meant to r+ mine befoer yours anyway, so it worked out in the end ;P
[14:35:33] <dbaupp> getting impatient? :P
[14:35:43] <cmr> no, just selfish
[14:35:47] <cmr> :D
[14:36:10] * dbaupp closes that PR just to spite cmr
[14:36:17] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:39:38] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[15:08:18] <cmr> dbaupp: upload done.
[15:08:32] <cmr> kicking t he builder back off.
[15:08:35] <cmr> on?
[15:08:38] <cmr> it's on :p
[15:11:49] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:11:50] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1460e8e23 to 14e86cdaf: 02http://git.io/N3iJvQ
[15:11:50] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:17:49] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:17:49] *** ChanServ sets mode: +ao dherman dherman
[15:28:18] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:35:09] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:37:21] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:37:21] *** ChanServ sets mode: +ao dherman dherman
[15:51:37] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[15:51:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14275a8af to 14e86cdaf: 02http://git.io/N3iJvQ
[15:51:37] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[15:51:38] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:51:38] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/8BWaYQ
[15:51:38] <ghrust> 13rust/06auto 14dee1107 15Corey Richardson: Rename pkgid to crate_id...
[15:51:38] <ghrust> 13rust/06auto 14b25a052 15Corey Richardson: Add some things to inspect crate-id's
[15:51:39] <ghrust> 13rust/06auto 14d760f99 15bors: auto merge of #11041 : cmr/rust/pkgid_changes, r=cmr,metajack
[15:51:41] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[16:30:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[16:33:33] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[16:33:33] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14b906a8b to 14147d40d: 02http://git.io/k471pw
[16:33:33] <ghrust> 13rust/06try 148c6315f 15Alex Crichton: Adding tests for closed issues...
[16:33:33] <ghrust> 13rust/06try 145c1e0df 15klutzy: llvm: Disable pthread on mingw...
[16:33:34] <ghrust> 13rust/06try 14df29745 15klutzy: mklldeps.py: Write to file instead of print...
[16:33:36] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[16:39:06] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[16:42:41] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[16:49:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:51:48] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:03:32] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[17:05:36] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[17:06:41] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:06:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/8BWaYQ
[17:06:41] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:08:03] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[17:11:42] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:11:42] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/S5J1Rw
[17:11:42] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:11:43] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[17:11:43] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/dLoSeQ
[17:11:43] <ghrust> 13rust/06auto 146ef99e9 15Alex Crichton: Purge @-boxes from the reading half of EBML...
[17:11:43] <ghrust> 13rust/06auto 14e697294 15bors: auto merge of #11057 : alexcrichton/rust/no-at-in-ebml, r=pcwalton...
[17:11:43] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[17:15:17] <erickt> eddyb: you should present something at the meetup! I think January is booked up now, but February is wide open!
[17:16:14] <eddyb> I don't have anything major right now
[17:16:22] <eddyb> (only time :P)
[17:17:06] <erickt> you can use that time to figure out something to present :)
[17:20:32] <eddyb> a no-failure checker? though LLVM doesn't feel powerful enough for that, yet
[17:21:16] <sfackler> ktt3ja: tests could ignore dead_code, but what'd be better is to treat all pub stuff as reachable even if it isn't used. That way test infrastructure that isn't used will still be flagged
[17:21:26] <sfackler> I don't know how feasible that is though
[17:21:28] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[17:23:59] <acrichto> sfackler: I found it pretty useful actually to have dead_code turned on in tests
[17:24:06] <acrichto> it found like 10 test that had forgotten the #[test] annotation
[17:24:10] <sfackler> yeah
[17:25:01] <sfackler> I guess what I want is for it to treat the crate as a library wrt visibility when running tests, though I guess that'll cause some weirdness if it isn't normally a library
[17:25:16] <acrichto> right now that only affects visibility
[17:25:21] <acrichto> but I can see where it would be nice
[17:25:42] <sfackler> right now it kind of acts as a code coverage tool :P
[17:25:49] <acrichto> hehe
[17:33:28] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[17:42:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:50:05] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[17:51:41] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[17:51:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e697294 to 14d760f99: 02http://git.io/N3iJvQ
[17:51:41] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[17:51:42] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:51:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/nXlLqA
[17:51:42] <ghrust> 13rust/06auto 146ad1c8e 15Edward Z. Yang: Generalize item_span into node_span, which works on more types....
[17:51:42] <ghrust> 13rust/06auto 14bc17e4f 15bors: auto merge of #11070 : ezyang/rust/better-errors, r=alexcrichton...
[17:51:42] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:57:00] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:07:43] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:07:43] *** ChanServ sets mode: +qo brson brson
[18:08:57] <cmr> Does anyone know the trademark information associated with the Rust logo? I found https://www.mozilla.org/en-US/styleguide/identity/mozilla/innovations/ but it doesn't tell me if I can sell artful copper verions of it.
[18:10:27] <cmr> brson: https://botbot.me/mozilla/rust-internals/msg/8996235/
[18:14:16] <brson> cmr: Mozilla definitely reserves some rights, but I don't know the details. I can look into it. Personally, I don't have any problem with you selling artful copper versions but I'm not the final word
[18:32:13] <eddyb> cmr: aaaaah that's why you were etching stuff
[18:32:36] <cmr> eddyb: well the one (well, two now) I'm etching/etched are for myself
[18:32:49] <cmr> I kinda forgot to mirror the image on the first one... so it came out backwards
[18:32:52] <eddyb> inb4 mass production
[18:38:26] <SiegeLord> I want a Rust mug
[18:38:40] <SiegeLord> I guess I could probably do that myself... >.>
[18:39:03] * eddyb played with melting a lightbulb today
[18:39:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[18:39:49] <eddyb> thermite in the right shape (and small quantities) could produce a very interesting result
[18:41:32] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[19:02:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:02:49] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[19:05:50] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[19:07:22] *** Joins: gwty (gwtypc@2E2F71B6.36BA38AF.F44414AF.IP)
[19:16:42] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:16:42] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/nXlLqA
[19:16:42] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:21:42] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:21:42] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xXsHdA
[19:21:42] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:21:44] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:21:44] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/mvlQsg
[19:21:44] <ghrust> 13rust/06auto 14c00104f 15Huon Wilson: std: silence warnings when compiling test.
[19:21:44] <ghrust> 13rust/06auto 14f13d57f 15Huon Wilson: extra: silence warnings during testing.
[19:21:45] <ghrust> 13rust/06auto 147379cf5 15bors: auto merge of #11071 : huonw/rust/quiet-test, r=cmr
[19:21:47] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:22:25] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:28:35] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[19:36:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:40:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:47:27] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[19:48:27] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[19:49:51] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[20:02:00] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:02:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147379cf5 to 14bc17e4f: 02http://git.io/N3iJvQ
[20:02:00] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:02:01] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:02:01] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/un6ysQ
[20:02:02] <ghrust> 13rust/06auto 14a1ca745 15Chris Morgan: Remove many false positives from the ctags results...
[20:02:02] <ghrust> 13rust/06auto 143906823 15bors: auto merge of #11072 : chris-morgan/rust/ctags-tweaks, r=cmr...
[20:02:02] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:09:17] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:09:38] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:10:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:11:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:15:57] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[20:19:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:21:53] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[20:22:14] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[20:29:45] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[20:31:47] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[20:36:05] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[20:42:42] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[21:12:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:18:23] <jdm> so we may want to look into the unwinding library being developed for gecko in https://bugzilla.mozilla.org/show_bug.cgi?id=938157
[21:18:32] <jdm> it's got arm and x86/x64 support
[21:18:59] <jdm> acrichto: ^ I think you've put thought into these things before
[21:26:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:26:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/un6ysQ
[21:26:39] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:31:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[21:31:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IjXfNA
[21:31:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[21:31:58] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[21:31:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/EvAwig
[21:31:58] <ghrust> 13rust/06auto 14d2a5b89 15Alex Crichton: Purge @-boxes from the reading half of EBML...
[21:31:58] <ghrust> 13rust/06auto 14a4ec62d 15bors: auto merge of #11057 : alexcrichton/rust/no-at-in-ebml, r=pcwalton...
[21:31:58] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[21:36:05] <nmatsakis> jdm: neat.
[21:44:19] *** Quits: Kxepal (Miranda@moz-2ECA0CCA.pppoe.mtu-net.ru) (Ping timeout)
[21:45:38] *** Joins: Kxepal (Miranda@moz-FDC1ADF0.pppoe.mtu-net.ru)
[21:52:32] <acrichto> jdm: interesting!
[21:52:34] <acrichto> thanks!
[22:02:10] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:02:43] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:07:10] <acrichto> brson: r? https://github.com/mozilla/rust/pull/11069
[22:08:36] <brson> cmr: i think that page you found is the authority on how the rust logo can be used. do you think it doesn't address the way you want to use it/l
[22:10:01] <ktt3ja> what are ty_desc and opaque? https://github.com/mozilla/rust/blob/master/src/librustc/middle/lang_items.rs#L257
[22:10:05] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:10:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:11:49] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:11:49] *** ChanServ sets mode: +o tjc
[22:14:45] <ChrisMorgan> brson/cmr: "use our logos in a way that suggests any type of association or  partnership with Mozilla or approval, sponsorship or endorsement by   Mozilla (unless allowed via a license from us)" is the only clause that *might* not permit selling Rust branded merchandise. I reckon it's not quite clear.
[22:16:37] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:16:37] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rMC4Jw
[22:16:37] <ghrust> 13rust/06auto 14d2a5b89 15Alex Crichton: Purge @-boxes from the reading half of EBML...
[22:16:37] <ghrust> 13rust/06auto 148f67e70 15bors: auto merge of #11057 : alexcrichton/rust/no-at-in-ebml, r=pcwalton...
[22:16:38] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:16:40] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:16:40] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a4ec62d to 143906823: 02http://git.io/N3iJvQ
[22:16:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:41:46] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[22:41:46] *** ChanServ sets mode: +ao dherman dherman
[22:46:25] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:48:48] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[23:01:26] <dbaupp> https://github.com/mozilla/rust/pull/11071 has segfaulted mac twice, but I don't understand why
[23:01:35] <dbaupp> it seems unrelated
[23:04:58] *** flaper87 is now known as flaper87|afk
[23:06:41] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[23:06:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 148f67e70 to 143906823: 02http://git.io/N3iJvQ
[23:06:41] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[23:06:42] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[23:06:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/lOMAAg
[23:06:42] <ghrust> 13rust/06auto 14b982f08 15Patrick Walton: librustc: Add missing case for the `Pod` bound in `tydecode`.
[23:06:42] <ghrust> 13rust/06auto 14d069d58 15bors: auto merge of #11060 : pcwalton/rust/tydecode-pod, r=pcwalton...
[23:06:42] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:07:58] *** nrc is now known as nrc|lunch
[23:11:56] <Eridius> cmr: `rustc --crate-file-name` doesn't seem to work
[23:12:09] <Eridius> it's spitting out "lua" for my rust-lua instead of the expected "liblua-7c2188a3-0.1.rlib"
[23:12:51] <cmr> Eridius: hm, that's no good.
[23:12:55] <cmr> I wonder if I misrebased it.
[23:13:39] <Eridius> incidentally, I also find it interesting that `rustc --crate-id` can fail for reasons other than syntax errors
[23:13:53] <Eridius> (notably, if I have a `pub mod foo;` but no foo.rs, it fails with "file not found")
[23:14:09] <cmr> that's from the parser.
[23:14:21] <Eridius> yeah, it's not shocking, it's just curious and unfortunate
[23:14:48] <cmr> you notice that a lot when you using --parse-only based squiggies in editors.
[23:15:07] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/11079 (fixing ctags regressions introduced by finishing that work at 1:30am)
[23:22:23] <acrichto> Eridius: https://github.com/mozilla/rust/pull/11077
[23:22:44] <acrichto> Eridius: also, does the file you're passing to --crate-file-name have #[create_type = Xlib"]?
[23:23:01] <Eridius> acrichto: nice
[23:23:07] <Eridius> acrichto: it has #[crate_type = "rlib"]
[23:34:30] <cmr> acrichto: aha, I didn't realize 1. that attributes in a mod must come before all other items, 2. that the parser exposed that interface.
[23:34:33] <cmr> I also didn't look very far!
[23:34:51] <acrichto> hehe I didn't either until I looked :P
[23:48:12] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:52:06] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[23:58:26] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
