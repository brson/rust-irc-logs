[00:18:53] <Ilari> bascule: You looked into the proposals at all?
[00:26:03] <bascule> Ilari: a little bit
[00:33:47] *** Quits: Lurkin (Lurkin@moz-a8i1kp.mpls.qwest.net) (Quit: Leaving)
[00:50:58] <Ilari> "Clearly we need to discuss this more, but you're right about the browsers , and we're okay with SHA-1 being dropped from TLS 1.3"
[01:18:48] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[01:50:17] <Ilari> Oh, here's the list of things I don't like in other proposals: http://codepad.org/WcjlSNxD
[01:52:16] <Ilari> (Some are admittedly pretty minor)
[01:53:54] <Ilari> "Just read that next AMD microarch features inclusive LLC. Thanks guys, exclusive LLC was kind of a problem for cross-core side channels :)"
[01:58:03] <Ilari> And that list doesn't include signature scheme blowing up if used on NNPOT curves.
[02:08:02] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[02:09:08] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:10:44] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:16:25] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:59:02] *** Quits: skeuomorf (skeuomorf@moz-a3f.lok.32.197.IP) (Ping timeout: 121 seconds)
[03:18:07] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:19:29] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[07:26:02] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[08:09:41] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[10:44:38] <eternaleye> Huh; I didn't know StrongSwan had its own independently-implemented libtls
[10:44:45] <eternaleye> https://wiki.strongswan.org/projects/strongswan/wiki/EapTls
[11:34:50] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:20:23] <fkr> hey ho
[13:02:50] *** Joins: skeuomorf (skeuomorf@moz-a3f.lok.32.197.IP)
[13:41:29] *** Quits: blank_name (blank_name@moz-b62.iv2.183.192.IP) (Ping timeout: 121 seconds)
[14:13:03] *** Joins: brson (brson@moz-bjsp1u.tmodns.net)
[14:15:54] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[14:46:47] *** Quits: skeuomorf (skeuomorf@moz-a3f.lok.32.197.IP) (A TLS packet with unexpected length was received.)
[15:17:27] <Ilari> Hmm... https://eprint.iacr.org/2015/394 ... Unfortunately that's only record layer, which is easy, and not authentication theorems, which would be really useful. As for the improvement proposals: 1&2 are done, 3 is not (AFAIK, preceived as compat hazard).
[15:55:33] *** Joins: Tobba (Tobba@moz-oecqnu.plus.com)
[16:28:41] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[16:40:21] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[16:40:24] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[16:40:28] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[16:40:30] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[16:40:33] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[16:40:37] <bascule>                                         
[16:45:28] <Ilari> Can you figure some usecase for doing key management (key encryption, key agreement, key transport, etc...) with Message Authentication Codes?
[16:46:21] <bascule> Ilari: Yubikey's U2F implementation uses HMAC as a KDF to derive ECC keys?
[16:50:02] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:50:40] <Ilari> bascule: Well, that doesn't involve decrypting or agreeing to HMAC key?
[16:51:10] <Tiffany> seems pretty esoteric
[16:51:35] <Tiffany> I mean, you could use a MAC as a stream cipher, by putting it into counter mode
[16:53:07] <Ilari> It seems to me that doing any sort of asymmetric key management with MACs is quite unsafe.
[16:53:43] <Ilari> Since if one knows the public key, one can forge the MAC.
[16:56:06] <Ilari> That mostly leaves key wrapping and password-based schemes (boo).
[16:59:54] *** Joins: blank_name (blank_name@moz-ttfeua.mi.frontiernet.net)
[17:36:28] *** Quits: Tobba (Tobba@moz-oecqnu.plus.com) (A TLS packet with unexpected length was received.)
[17:47:35] <Ilari> Oh fun, apparently newest Apple stuff has >=2048b DHE limit...
[18:00:42] <Ilari> (If one wants any sort of reliable FS, use ECDHE. :-) )
[18:00:55] <bascule> exactly
[18:04:06] <Ilari> Now if there was Curve25519 ECDHE...
[18:07:57] <Ilari> Hmm... Does that draft need some prodding?
[18:08:08] <eternaleye> Ilari: I was just clued in on that, ever since nrc's DST coercions stuff landed, there's a way to make type parameters only accept arrays (and monomorphize on size)
[18:08:37] <eternaleye> Ilari: A: std::marker::Unsize<[T]>
[18:13:43] <Ilari> eternaleye: You have looked at the signature proposals from coding, deployment or security angle?
[18:17:16] <eternaleye> Ilari: No; I lack the necessary expertise.
[18:17:42] <eternaleye> Ilari: I'm reasonably familiar with symmetric crypto primitives and their shape; constructions built from those I can reason about effectively
[18:18:06] <eternaleye> Ilari: But I haven't built the knowledgebase/intuition for asymmetric yet
[18:40:32] <Ilari> Where "coding" mainly doing something that is difficult to implement and "deployment" means doing something that causes problems with integrating the scheme into various protocols.
[18:41:42] <Ilari> Also, looks like TLS WG agenda @IETF93 does not include Curve25519 nor Chacha20.
[18:51:20] <Ilari> bascule: Also, have you looked at TLS WG Chacha20 and Curve25519 drafts?
[18:52:43] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:59:33] *** Joins: vks (quassel@moz-6l2cft.pools.vodafone-ip.de)
[19:00:23] <bascule> Ilari: not in depth
[19:04:56] <Ilari> Also, EKR submitted TLS13 wg-07... With all kinds of funk borkage.
[19:06:51] <Ilari> *fun
[19:07:08] <Ilari> (It changed how handshake works)
[19:16:49] *** Joins: Tobba (Tobba@moz-4l45on.skybroadband.com)
[19:21:35] *** Quits: vks (quassel@moz-6l2cft.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[19:22:08] *** Joins: vks (quassel@moz-42n5l0.pools.vodafone-ip.de)
[19:37:21] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[19:55:11] <Ilari> Ugh, ARIN: 13x/23+412x/24 remaining...
[19:55:33] <Ilari> The /23s might all go today...
[20:02:01] *** Joins: brson_ (brson@moz-bro.mg6.56.172.IP)
[20:04:39] *** Quits: brson (brson@moz-bjsp1u.tmodns.net) (Ping timeout: 121 seconds)
[20:12:34] *** Quits: Tobba (Tobba@moz-4l45on.skybroadband.com) (A TLS packet with unexpected length was received.)
[20:24:57] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[20:28:41] <Ilari> Example of stuff that is not even considered broken: If server enables 0-RTT, it needs key that enables server impersonation, with seemingly no way to revoke the key (before it expires).
[20:51:47] *** Quits: vks (quassel@moz-42n5l0.pools.vodafone-ip.de) (Quit: No Ping reply in 180 seconds.)
[20:52:48] *** Joins: vks (quassel@moz-42n5l0.pools.vodafone-ip.de)
[22:08:53] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:27:16] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:36:28] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[22:47:31] <Ilari> Oh, what came out from some discussions. Apparently Static-Static DH can be useful (and in this context "DH" really means ECDH).
[22:47:53] <Ilari> Curve25519 (if they can get a ref for it) and such.
[23:05:27] <Ilari> Also, if one wants to make programming rust real "fun": Try to write code that handles OOM gracefully (looks to need nightly). :-)
[23:19:41] <vks> llari: Wouldn't your process be killed by the OS anyway if it uses too much memory?
[23:22:11] <Tiffany> if overcommit is enabled you're kind of screwed
[23:25:44] * bascule always gives up on handling OOM correctly, lol
[23:36:37] <Tiffany> same
[23:46:24] <eternaleye> vks: There are four options when dealing with limited memory: Reservation, Reduction, Repetition, and Termination.
[23:46:39] <eternaleye> vks: If overcommit is enabled, the OS chooses Termination without asking you
[23:46:56] <eternaleye> vks: But if it's disabled, the others may be (situationally) more advantageous
[23:47:48] <eternaleye> bascule: I'll also note that Repetition, at least (retry allocation until success) merely requires an alternate allocator, which can be done with the linker even on stable
[23:48:33] <vks> eternaleye: Linux seems to default to Termination.
[23:48:49] <eternaleye> vks: Yes, because overcommit is enabled by default.
[23:49:40] <eternaleye> vks: /proc/sys/vm/overcommit_{memory,ratio,kbytes} can be used to alter that
[23:50:40] <eternaleye> vks: Documentation can be found in the proc(5) manpage
[23:51:02] <vks> eternaleye: Thanks, did not know that.
[23:52:07] <eternaleye> It's part of why I'm getting more and more fond of stuff that's O(1) in space
[23:52:37] <eternaleye> Because then you can preallocate, and in the absence of concurrency have deterministic guarantees of not failing allocations
[23:53:04] <eternaleye> (mainly by not _making_ them)
[23:54:09] <vks> You don't really need O(1) for that. Just make sure you preallocate enough memory.
[23:54:11] <eternaleye> I listed the options in the order I like to resort to them - if you can pre-reserve and _know_ it's enough, that works well. If you can shrink your usage when an allocation fails and retry, that can save you. If you keep trying, someone else might give way.
[23:54:30] <eternaleye> vks: O(1) means you only need to preallocate _once_, regardless of if the workload changes.
[23:54:49] <eternaleye> vks: If the workload changes, you're right back in the zone of potentially-failed allocations.
[23:54:51] <bascule> eternaleye: I generally like writing software that can always survive kill -9 in which case just crashing on OOM seems like the most foolproof approach to me, unless you *really* don't want to do that for some reason
[23:55:15] <eternaleye> bascule: The problem there is that if the memory pressure is external, you may not be able to _start_ again.
[23:55:21] <bascule> *shrug*
[23:55:31] <bascule> this is why you have multiple copies / disaster recovery / high availability!
[23:55:35] <eternaleye> Sure
[23:55:43] <eternaleye> But if you're the kernel, that's a bit tricky :P
[23:55:50] * bascule is not the kernel! :o
[23:55:53] <eternaleye> And there are other cases like that.
[23:56:16] <eternaleye> (Plus, redundancy costs money for places to put it)
[23:56:21] <eternaleye> (Not always an option)
[23:56:44] <eternaleye> If one _can_, I agree it's a good idea to do so.
[23:56:53] <bascule> I live in a world where being single-homed is not an option ;)
[23:56:54] <eternaleye> But it should be one more hedge, not the only one.
[23:57:10] <bascule> or like, it is, but you will make everybody sad and shouldn't do it ;)
[23:57:38] <mcpherrin> handling OOM usually means to me "don't lose any data while the system reboots" :p
[23:57:51] <mcpherrin> (and make sure your watchdog doesn't get killed)
[23:58:59] <eternaleye> In terms of "don't lose data under memory pressure", it's hard to beat a good choice of data structures in an mmap'ed file.
[23:59:21] <eternaleye> After all, memory pressure is _exactly_ when stuff will get on disk Soonest.
