[00:01:36] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:02:07] <tikue> is there a vec.pop() equivalent that returns an option? the docs seem to say no
[00:02:25] <cmr> vec.pop_me_maybe()?
[00:02:40] <cmr> rusti: let x = ~[]; x.pop()
[00:02:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/DaAW
[00:02:50] <cmr> rusti: let x: ~[uint] = ~[]; x.pop()
[00:02:51] -rusti- <anon>:9:31: 9:32 error: cannot borrow immutable local variable as mutable
[00:02:51] -rusti- <anon>:9          let x: ~[uint] = ~[]; x.pop()
[00:02:51] -rusti-                                         ^
[00:02:51] -rusti- error: aborting due to previous error
[00:02:51] -rusti- application terminated with error code 101
[00:02:57] <cmr> rusti: let mut x: ~[uint] = ~[]; x.pop()
[00:02:58] -rusti- rust: task failed at 'sorry, cannot vec::pop an empty vector', /build/rust-git/src/rust/src/libstd/vec.rs:613
[00:02:58] -rusti- rust: domain main @0x1d201b0 root task failed
[00:02:58] -rusti- application terminated with error code 101
[00:03:09] <cmr> nice, it even apologizes :p
[00:03:44] <tikue> let mut x: ~[uint] = ~[]; do x.call_me_maybe |x| { x.pop() }
[00:03:58] *** Joins: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de)
[00:03:58] <tikue> rusti: let mut x: ~[uint] = ~[]; do x.call_me_maybe |x| { x.pop() }
[00:03:59] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TahX
[00:05:42] *** aatch|gone is now known as aatch
[00:07:05] *** Quits: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: eatkinson)
[00:07:22] <tikue> rusti: let mut x: ~[uint] = ~[]; x.clear()
[00:07:22] -rusti- ()
[00:10:50] <MaikKlein> rusti: let x: ~[int] = ~[]; x.last()
[00:10:51] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MaPB
[00:13:16] <tikue> rusti: let x: ~[int] = ~[]; println(fmt!("?", x.last()))
[00:13:16] -rusti- <anon>:9:38: 9:58 error: too many arguments to fmt!. found 2, expected 1
[00:13:17] -rusti- <anon>:9          let x: ~[int] = ~[]; println(fmt!("?", x.last()))
[00:13:17] -rusti-                                                ^~~~~~~~~~~~~~~~~~~~
[00:13:17] -rusti- application terminated with error code 101
[00:13:29] <tikue> rusti: let x: ~[int] = ~[]; println(fmt!("%?", x.last()))
[00:13:30] -rusti- rust: task failed at 'last: empty vector', /build/rust-git/src/rust/src/libstd/vec.rs:268
[00:13:30] -rusti- rust: domain main @0x22fc1b0 root task failed
[00:13:30] -rusti- application terminated with error code 101
[00:13:30] <bblum> brson: the runtime abort messages are brilliant
[00:15:36] <brson> bblum: thanks :)
[00:16:25] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[00:18:37] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[00:20:23] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[00:20:56] <sully> hm
[00:21:20] <sully> I just had one of the pipes tests fail
[00:21:44] <sully> we have race conditions that show up nondeterministically, right?
[00:22:02] <bblum> you mean, like, they are possible?
[00:22:08] <bblum> we're not lambda-LVar or anything
[00:22:30] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.1)
[00:22:31] <bblum> did you get an error message or anything
[00:25:59] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:28:00] <MaikKlein> anyone here who has experience with edx?
[00:29:20] <sully> yeah, but I don't remember what the failure was
[00:29:28] <cmr> MaikKlein: you left before I could answer earlier: rustdoc work is currently "clean up libsyntax to make it less bad"
[00:29:36] <ion> Thanks for having the bot use NOTICE. Itâ€™s so annoying when peoplesâ€™ bots abuse PRIVMSG and the bot messages become visually indistinguishable from human talk.
[00:29:47] <cmr> MaikKlein: I post daily updtes on what I do on https://github.com/mozilla/rust/pull/7417
[00:29:57] <cmr> erm... http://rustlog.octayn.net/
[00:30:03] <strcat> ion: I get yelled at for making it use NOTICE ;p
[00:30:17] <strcat> apparently some irc clients ping on every NOTICE :|
[00:30:18] <aatch> ion, you are the first person to say that
[00:30:55] <ion> strcat: The yellers could fix their broken client configurations with, like, four mouse clicks. :-P They could also file a bug report because their client treats a bot message as if it had a higher priority than a human message.
[00:30:56] <aatch> I don't care, I just see "-rusti/#rust-" instead of "rusti"
[00:31:04] *** Joins: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:31:12] <aatch> ion, and that's why rusti still NOTICEs
[00:31:53] <aatch> we tell them that the client is broken and strcat won't "fix" the bot for their crappy client
[00:32:03] <MaikKlein> cmr, haha nice
[00:32:07] * strcat is too stubborn ;p
[00:33:00] <aatch> strcat, I prefer to think of it as "principled"
[00:33:02] <cmr> http://rustlog.octayn.net/post/53972946027/status-update, good night all
[00:33:24] *** Joins: alisdair (textual@moz-2FAE2D2B.dedicated.allstream.net)
[00:35:37] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[00:36:13] *** Quits: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net) (Quit: carllerche)
[00:36:50] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[00:36:50] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/c0MdYA
[00:36:50] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[00:36:58] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[00:37:22] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[00:39:48] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[00:39:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/SreA3g
[00:39:48] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[00:39:51] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:39:51] <ghrust> 01[13rust01] 15bors pushed 9 new commits to 06auto: 02http://git.io/A_Z0lA
[00:39:51] <ghrust> 13rust/06auto 1412e09af 15Ben Blum: Work-around 'static bound requirement in io::with_bytes_reader (note: does not fix #5723, interface still unsafe)
[00:39:51] <ghrust> 13rust/06auto 147b96878 15Ben Blum: Infer default static/Owned bounds for unbounded heap fns/traits (#7264)
[00:39:51] <ghrust> 13rust/06auto 14108739f 15Ben Blum: Looser restrictions on what can be captured in unbounded traits.
[00:39:53] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:42:12] *** Quits: Earnestly (earnest@moz-464C7EDD.dyn.plus.net) (Ping timeout)
[00:43:01] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Quit: Leaving...)
[00:43:41] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[00:45:08] <MaikKlein> ok
[00:45:27] <MaikKlein> how can I disable lifetimes and borrowck again? someone said with cast to unsafe?
[00:45:56] *** Quits: cr (anonymous@moz-9D6CBECC.dip0.t-ipconnect.de) (Quit: cr)
[00:46:13] <bblum> you can use unsafe pointers *T/*mut T at which point you are basically writing C
[00:46:15] <Eridius> MaikKlein: well you can't disable borrowck exactly, but std::cast has some unsafe functions that let you change the lifetime and mutability of pointers
[00:46:31] <Eridius> or you can do what bblum suggested and drop down to * pointers
[00:46:44] <bblum> Eridius's idea is more recommended
[00:46:46] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[00:47:08] <MaikKlein> Eridius, ok thanks I have a look
[00:47:24] <strcat> well it depends.... if you use borrowed pointers you have to respect the aliasing/mutability rules
[00:47:38] <strcat> so there's only a certain extent you can work around it
[00:48:19] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[00:48:23] *** Quits: roo (jesse.rudo@moz-B8C304F9.dynamic.ip.windstream.net) (Ping timeout)
[00:49:08] *** Joins: mcpherri1 (mimcpher@moz-21D6B3DE.csclub.uwaterloo.ca)
[00:49:16] *** Quits: alisdair (textual@moz-2FAE2D2B.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:49:20] *** Quits: mcpherri1 (mimcpher@moz-21D6B3DE.csclub.uwaterloo.ca) (Quit: leaving)
[00:49:47] *** Joins: jedestep (jedestep@moz-3A5DEFAA.natpool.nyu.edu)
[00:50:51] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[00:50:51] *** ChanServ sets mode: +o pcwalton
[00:51:26] *** Joins: Jesin (Jessin_@moz-1B1307FF.eecs.lehigh.edu)
[00:53:07] *** Quits: jclements (jclements@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jclements)
[00:53:18] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Connection reset by peer)
[00:53:27] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[00:54:04] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[00:54:32] *** Joins: roo (jesse.rudo@moz-46F6044C.dynamic.ip.windstream.net)
[00:56:01] <paupau> What's the type for an unboxed vector of structs? struct E { a:int }; let v: ~[E] = ...; v[0].a = 2; seems to lose my changes
[00:56:43] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[00:56:51] <paupau> I'm assuming ~[~E] would be a vector of pointers to structs?
[00:57:24] <paupau> (I'm implementing a hash map and so want to have the Es be contiguous)
[00:57:32] <bblum> it should not lose your changes
[00:57:41] <paupau> maybe just a bug then huh
[00:57:43] <bblum> i'd guess you are inadvertently copying the vector?
[00:57:50] <paupau> ~[E] is correct then right
[00:57:53] <bblum> yeah
[00:57:59] <paupau> copying eh
[00:58:00] <paupau> hmm
[00:58:07] <bblum> copying a ~[E] results in two disjoint vectors though
[00:58:11] <paupau> right
[00:58:18] <paupau> well, I want to mutate the Es in-place
[00:58:32] <paupau> so I should do let mut entry: ~E = entries[...]; ?
[00:58:59] *** Quits: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de) (Ping timeout)
[00:59:11] <paupau> I don't think I'm copying the vector around, using ~ everywhere
[00:59:53] <strcat> paupau: that wouldn't work
[01:00:11] <strcat> ~ is a unique pointer, you either move (shallow copy, moving ownership) or take a reference
[01:00:18] <strcat> or do an actual copy
[01:00:22] <paupau> oh okay
[01:00:36] <strcat> std::hashmap is an example of a hash table not requiring any copies
[01:00:45] <paupau> so I should just use & to let it stay eh
[01:01:03] <strcat> paupau: yeah, but you'll likely have Option<T> for buckets so you can swap None in
[01:01:11] <strcat> if you actually want to remove/swap
[01:01:33] <paupau> strcat: how does that work with an unboxed vector?
[01:01:42] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[01:01:51] <strcat> enums are tagged unions
[01:01:53] <strcat> they aren't boxed
[01:01:56] <paupau> ah okay
[01:01:56] <aatch> Ugh PHP...
[01:02:29] <paupau> I already have a bitfield on every bucket though
[01:02:31] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[01:02:35] <aatch> y u no warn about random unused variable.
[01:02:37] <paupau> that would add an extra discriminator on it
[01:02:42] <Eridius> where is rust's dependency on libstdc++'s abi? I found where it `throw`s a rust_task, but where is that supposed to be caught?
[01:02:48] * Eridius is trying to figure out why libc++abi doesn't work
[01:02:53] <paupau> should be good!
[01:04:22] <aatch> Eridius, kinda-sorta rust_upcall.cpp
[01:04:44] <Eridius> aatch: kinda-sorta?
[01:04:56] <aatch> Well you won't find a 'catch' in there.
[01:05:04] <nmatsakis> pcwalton: r+
[01:05:09] <aatch> but that's where the fail upcall is.
[01:05:19] <Eridius> aatch: well I figured if it did use `catch` then I wouldn't be having this problem
[01:05:55] <aatch> Eridius, you want to look at upcall_s_rust_personality, I think.
[01:05:57] *** Quits: snearch (snearch@moz-CF918F37.pool.mediaways.net) (Quit: Verlassend)
[01:06:23] * aatch doesn't really understand unwinding.
[01:06:34] <Eridius> aatch: heh, that's a shim around __gxx_personality_v0(), and I haven't the faintest what that's supposed to be
[01:08:33] <aatch> Eridius, I think that __gxx_personality_v0 is just the C++ exception personality.
[01:08:46] <aatch> And we wrap it to handle stack-switching.
[01:08:57] <Eridius> aatch: I've never heard the phrase "exception personality" before
[01:09:12] <aatch> Eridius, neither had I before working on the Rust compiler.
[01:09:17] <aatch> It's an LLVM thing though.
[01:09:18] <aatch> kinda.
[01:09:19] <Eridius> hah
[01:09:53] <Eridius> so I guess the question is, if this thing exists in libc++abi (and it must or I'd be seeing a different error), why do I get the unhandled exception rust_tas*
[01:09:56] <Eridius> rust_task*
[01:10:37] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Ping timeout)
[01:10:43] *** Quits: tjc (tjc@moz-522C532A.west.biz.rr.com) (Quit: zzzzzzzzzz)
[01:11:21] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:12:08] <aatch> Eridius, presumably you still get the 'task failed at....' stuff, right?
[01:13:20] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[01:13:24] <Eridius> aatch: the task failure I'm using right now for an example is actually compilation failure
[01:14:39] <aatch> Eridius, hmmm... try running it with RUST_LOG=1
[01:14:40] <Eridius> aatch: ok yes, in a fail!() I get "task failed at 'failed', foo.rs:3"
[01:15:08] <aatch> Eridius, ok, good so it is just the catch code that's failing.
[01:15:13] <Eridius> aatch: right
[01:15:37] * aatch finds it's worth it to check these things
[01:16:12] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[01:16:52] <Eridius> aatch: upcall_s_rust_personality is called by upcall_rust_personality(). But I can't find a call to that anywhere
[01:16:59] <Eridius> `git grep upcall_rust_personality` shows only its definition
[01:17:25] <aatch> Eridius, it's like 10 lines below upcall_s_rust_personality
[01:17:41] <Eridius> aatch: no that's the definition. But what calls it?
[01:17:56] <aatch> Oh, about 10 lines up.
[01:18:06] <aatch> it's a single line...
[01:18:17] <aatch> Well, single statement.
[01:18:29] <Eridius> aatch: what line? The only instance of "upcall_rust_personality" in the entire file is the definition
[01:18:47] <aatch> Oh, what calls upcall_rust_personality?
[01:18:53] <Eridius> yes
[01:19:37] *** Quits: roo (jesse.rudo@moz-46F6044C.dynamic.ip.windstream.net) (Ping timeout)
[01:19:56] <aatch> compiled code.
[01:20:18] <Eridius> ok found it, librustc/back/upcall.rs
[01:20:23] <Eridius> constructs it vi a macro
[01:20:48] *** Joins: roo (jesse.rudo@moz-AB346587.ip.windstream.net)
[01:22:28] <Eridius> what's a Landing Pad?
[01:23:01] <aatch> Eridius, think of it as the catch block for an exception
[01:23:27] *** Quits: roo (jesse.rudo@moz-AB346587.ip.windstream.net) (Ping timeout)
[01:23:42] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[01:24:41] <Eridius> hmm, #[fast_ffi]?
[01:25:22] <aatch> Eridius, what about it?
[01:25:32] <Eridius> just wondering what that is
[01:25:38] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:25:43] <seth> hmm, no more "get" in ARC?
[01:25:45] <aatch> It's removes the C shim
[01:25:47] <seth> is it a method now?
[01:25:52] <aatch> seth, probably
[01:26:22] <Eridius> aatch: so what, it asserts that the C function doesn't need more stack than is already present, or what?
[01:26:38] <aatch> Eridius, not sure, probably.
[01:26:43] <seth> yeah, looks like it is
[01:27:06] <aatch> I just know that it's a hack until the new foreign function stuff gets in.
[01:28:10] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[01:32:28] <Eridius> aatch: after all this digging around.. rt/rust_task.cpp actually does have a try/catch block in it
[01:32:33] <Eridius> in task_start_wrapper
[01:32:58] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:33:14] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[01:33:30] <Eridius> although I still can't figure out where upcall_rust_personality is invoked
[01:33:46] <Eridius> I found where the LLVM LandingPad instruction is built, but that seems to be given a handle on the upcall_rust_personality function. I don't know where it calls it
[01:34:46] <aatch> Eridius, you may have already found this: http://llvm.org/docs/ExceptionHandling.html#overview
[01:35:01] <Eridius> aatch: hah no, I was only digging through code. That's probably helpful, thanks
[01:36:11] *** kimundi is now known as zz_kimundi
[01:40:15] *** Quits: int3_ (int3_@43CB6079.66715431.D25A875A.IP) (Client exited)
[01:41:14] *** Quits: dherman (dherman@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: dherman)
[01:43:11] *** Quits: brson (brson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[01:44:34] *** Quits: rubber-duck (rubber-duc@moz-6E09F57E.dsl.iskon.hr) (Quit: Leaving)
[01:47:43] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Quit: Leaving)
[01:48:07] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[01:58:15] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[01:58:44] *** Joins: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP)
[02:00:28] *** Quits: doomsplayer (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP) (Ping timeout)
[02:00:33] <Jeaye> rusti: let foo = ~[1, 2]; let bar: *c_void = &foo; bar
[02:00:33] -rusti- <anon>:9:38: 9:44 error: use of undeclared type name `c_void`
[02:00:33] -rusti- <anon>:9          let foo = ~[1, 2]; let bar: *c_void = &foo; bar
[02:00:33] -rusti-                                                ^~~~~~
[02:00:33] -rusti- error: aborting due to previous error
[02:00:33] -rusti- application terminated with error code 101
[02:00:37] *** Quits: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu) (Ping timeout)
[02:00:38] *** Joins: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP)
[02:00:48] <Jeaye> rusti: let foo = ~[1, 2]; let bar: *std::libc::c_void = &foo; bar
[02:00:49] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/QVOh
[02:01:33] <Jeaye> rusti: let foo = ~[1, 2]; let bar: *std::libc::c_void = &foo; vec::raw::to_ptr(bar)
[02:01:33] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/XUJc
[02:01:44] <Jeaye> rusti: let foo = ~[1, 2]; let bar: *std::libc::c_void = &foo; std::vec::raw::to_ptr(bar)
[02:01:45] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iXUg
[02:02:13] <Jeaye> rusti: let foo = ~[1, 2]; let bar: *std::libc::c_void = std::vec::raw::to_ptr(foo); bar
[02:02:13] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/AaHR
[02:03:49] <Jeaye> rusti: let foo = ~[1, 2]; unsafe { let bar: *std::libc::c_void = std::cast::transmute(std::vec::raw::to_ptr(foo)); bar }
[02:03:50] -rusti- 140403288312112
[02:04:33] *** Joins: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu)
[02:04:41] *** Quits: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:09:29] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[02:10:30] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[02:10:39] *** Joins: roo (jesse.rudo@moz-D09F3B5.dynamic.ip.windstream.net)
[02:11:34] *** Quits: jedestep (jedestep@moz-3A5DEFAA.natpool.nyu.edu) (Quit: jedestep)
[02:14:00] *** Joins: jedestep (jedestep@moz-9918C03C.natpool.nyu.edu)
[02:14:04] *** Quits: jedestep (jedestep@moz-9918C03C.natpool.nyu.edu) (Quit: jedestep)
[02:16:52] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[02:20:51] *** Parts: yardena (yardena@moz-A95F12B1.members.linode.com) ()
[02:23:06] *** Joins: vk (chatzilla@F92596F.2DEF7520.EF7679FA.IP)
[02:25:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:30:44] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[02:30:44] *** Joins: hmax_ (hmax@E6C9A372.6019DC5.2E171177.IP)
[02:32:22] *** Quits: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP) (Ping timeout)
[02:32:36] *** Joins: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP)
[02:38:32] *** Quits: roo (jesse.rudo@moz-D09F3B5.dynamic.ip.windstream.net) (Ping timeout)
[02:39:13] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[02:46:14] *** Quits: bct (bct@moz-D3BEA05.ed.shawcable.net) (Ping timeout)
[02:48:07] *** Joins: bct (bct@moz-D3BEA05.ed.shawcable.net)
[02:50:36] *** Joins: int3_ (int3_@43CB6079.66715431.D25A875A.IP)
[02:51:20] <vk> For the Windows install instructions, it may be good to note that the MinGW shell should be 'Run as Administrator'; I got an error during the configure step of curl in a regular MinGW shell.
[02:52:26] *** Quits: int3_ (int3_@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[02:56:56] *** Quits: zz_kimundi (kimundi@moz-CFAE5EB7.dip0.t-ipconnect.de) (Ping timeout)
[03:01:47] *** Joins: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP)
[03:03:55] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[03:03:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/A_Z0lA
[03:03:55] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[03:04:20] *** Joins: zz_kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de)
[03:04:47] *** zz_kimundi is now known as kimundi
[03:05:19] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[03:06:51] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[03:06:51] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/InOz0Q
[03:06:51] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[03:06:52] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[03:06:52] <ghrust> 01[13rust01] 15bors pushed 23 new commits to 06auto: 02http://git.io/zMQXVA
[03:06:52] <ghrust> 13rust/06auto 1441f953a 15Ramkumar Ramachandra: .gitmodules: specify submodule.<path>.branch...
[03:06:52] <ghrust> 13rust/06auto 1400b4138 15Ben Blum: Make ^~~~~ colour dependent on error/warning/note level. Also correct spelling of squigglies.
[03:06:53] <ghrust> 13rust/06auto 140ae203a 15Kevin Ballard: Refactor extra::term a bit...
[03:06:55] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[03:08:39] *** Quits: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:10:35] *** Joins: ross (ross@moz-8A84103E.br.br.cox.net)
[03:13:00] *** Joins: shmoo (Mibbit@moz-43C591CF.nycmny.east.verizon.net)
[03:13:05] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[03:18:08] <acrichto> could I get a retry on bors for https://github.com/mozilla/rust/pull/7409 ? I think brson triggered the llvm cleans earlier today
[03:19:30] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[03:20:21] <aatch> acrichto, done
[03:20:25] <acrichto> aatch: thanks!
[03:21:25] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[03:24:01] <bjz> strcat: do you think a basic libxml2 wrapper be useful?
[03:24:15] <strcat> bjz: yes
[03:24:23] <bjz> strcat: I mean just using the SAX thing to build a tree
[03:24:34] <strcat> oh, I don't know
[03:24:43] <strcat> trees are a pain to deal with ;p
[03:24:48] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: Computer has gone to sleep.)
[03:24:50] <bjz> :P
[03:25:00] <bjz> strcat: how would you do it?
[03:25:38] <strcat> well the only good part of it being a tree is if you want to run a bunch of xpath queries
[03:25:52] *** Quits: vk (chatzilla@F92596F.2DEF7520.EF7679FA.IP) (Ping timeout)
[03:25:55] <strcat> http://xmlsoft.org/html/libxml-xpath.html but libxml2 is such a pain
[03:26:14] <bjz> strcat: I was just going to use enums
[03:26:34] <strcat> bjz: I think you probably want to use libxml2's support though so you have query support
[03:26:44] <bjz> strcat: oh ok
[03:26:59] <strcat> I just really hate dealing with libxml2 itself ;p
[03:27:09] <bblum> hell yeah
[03:27:30] <bblum> https://github.com/mozilla/rust/blob/master/src/test/run-pass/trait-bounds-in-arc.rs
[03:27:36] <bblum> can now put traits in arcs.
[03:30:18] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[03:31:41] <engla> nice
[03:33:55] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[03:33:55] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d653c4c to 1436d7f60: 02http://git.io/N3iJvQ
[03:33:55] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[03:34:10] <strcat> cmr: it failed ;[
[03:34:14] <aatch> cmr, one of the tests in your roll up failed (If you see this)
[03:34:23] <aatch> strcat, he may be asleep...
[03:34:27] <bjz> strcat: yeah in that case I probably wouldn't bother
[03:34:40] <strcat> silly humans, sleeping
[03:35:00] <bjz> strcat: I was just doing some stuff in my gl loader generator and was wondering if I could reuse something
[03:35:11] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: ["Textual IRC Client: www.textualapp.com"])
[03:35:31] <strcat> bjz: well you could just build up exactly the data structure you need
[03:35:34] <strcat> instead of a generic tree
[03:35:38] <bjz> yeah
[03:35:55] <bjz> That's what I'm thinking now
[03:35:56] <bjz> :)
[03:35:56] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[03:35:59] <aatch> Hmm, a non-validating xml parser probably wouldn't be too hard.
[03:36:08] <strcat> aatch: well libxml has a simple sax API
[03:36:18] <strcat> libxml2*
[03:36:32] <strcat> so you just get events as it parses and build whatever data structure (or none)
[03:37:06] <bjz> yup
[03:37:38] <bjz> aatch: I'm wanting to parse this: https://cvs.khronos.org/svn/repos/ogl/trunk/doc/registry/public/api/gl.xml
[03:38:21] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Ping timeout)
[03:38:26] <aatch> bjz, yeah. I don't really understand that document.
[03:38:45] <aatch> It's like they just wrapped bits of the .h file in XML tags.
[03:38:49] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[03:39:18] <bjz> aatch: it's basically a registry of all the opengl functions
[03:39:50] <bjz> aatch: I'll need to work out how to convert it into rust function signatures
[03:40:23] <bjz> aatch: the difficulty is the types
[03:40:56] <acrichto> argh one of the bots wasn't cleaned
[03:41:14] <strcat> acrichto: it's because the builders don't match up 1:1 with buildslaves
[03:41:17] <aatch> bjz, well does it have to be in Rust? I did something similar for my xcb bindings.
[03:41:22] <strcat> they run on a random buildslave
[03:41:22] <bjz> aatch: with the actual registry you have things like ConstString so it's easier just to map between them
[03:41:26] <acrichto> sad :(
[03:41:37] <strcat> acrichto: I'm guessing each builder has a dir on each buildslave
[03:41:39] <acrichto> better to not get lucky I guess
[03:41:42] <strcat> going to take a while to clean :(
[03:41:56] <acrichto> strcat: do you know how brson triggered the cleans? I'd do that myself if I could
[03:41:59] <strcat> each matching buildslave*
[03:42:02] <strcat> acrichto: not sure.
[03:42:09] <strcat> acrichto: I know how to trigger it on manual builds
[03:42:14] <strcat> but not how without disrupting auto
[03:42:15] <acrichto> yeah, same
[03:42:17] <bjz> aatch: I have a lua adaptation of an existing loader generator, but I want something lighter weight
[03:42:24] <acrichto> oh well, I'll just post on the bug
[03:42:41] <strcat> going to fix cmr's PR for him
[03:42:51] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:42:51] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cddfca4 to 1436d7f60: 02http://git.io/N3iJvQ
[03:42:51] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:42:54] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[03:42:54] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/v-w-tg
[03:42:54] <ghrust> 13rust/06auto 148918461 15Brian Anderson: rt: Release big stacks immediately after use to avoid holding on to them through yields...
[03:42:54] <ghrust> 13rust/06auto 14eda5e40 15bors: auto merge of #7111 : brson/rust/stack, r=brson...
[03:42:54] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:43:07] <bjz> aatch: and easier for folks to use/modify
[03:43:16] <aatch> bjz, fair enough.
[03:43:23] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:43:39] *** Quits: heftig (heftig@moz-D222EE86.dip0.t-ipconnect.de) (Ping timeout)
[03:45:03] <strcat> in fact maybe it's best to use a branch on the rust repo
[03:45:06] <strcat> so anyone can fix it
[03:45:18] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[03:45:18] <ghrust> 01[13rust01] 15thestinger created 06rollup (+22 new commits): 02http://git.io/A2pGvw
[03:45:18] <ghrust> 13rust/06rollup 1441f953a 15Ramkumar Ramachandra: .gitmodules: specify submodule.<path>.branch...
[03:45:18] <ghrust> 13rust/06rollup 1400b4138 15Ben Blum: Make ^~~~~ colour dependent on error/warning/note level. Also correct spelling of squigglies.
[03:45:18] <ghrust> 13rust/06rollup 140ae203a 15Kevin Ballard: Refactor extra::term a bit...
[03:45:20] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[03:45:38] <strcat> heh
[03:45:43] <strcat> github is not happy about this
[03:46:18] <acrichto> is there a way to get /grid to show more than 5 columns?
[03:46:21] <strcat> it associated it with the old PR despite me amending HEAD
[03:47:18] *** Quits: shmoo (Mibbit@moz-43C591CF.nycmny.east.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:48:49] <aatch> yay, the PR queue is below 30
[03:49:02] <strcat> aatch: because of merging 13 to one ;p
[03:49:05] <strcat> + brson's
[03:49:13] <strcat> I'll fix both
[03:50:26] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:50:30] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[03:50:39] <acrichto> p=N for N pull reqs!
[03:50:51] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:52:35] *** Joins: int3_ (int3_@43CB6079.66715431.D25A875A.IP)
[03:53:26] <bblum> beginning to understand join latch
[03:53:32] <bblum> tomorrow i can search for its alleged bug
[03:53:40] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:54:39] <bblum> ughhhhh https://help.github.com/articles/why-are-my-commits-in-the-wrong-order
[03:54:46] <bblum> strcat: ^ a dood at github got back to me
[03:55:05] <bblum> "we recommend not using .." asdf
[03:55:22] <strcat> that's stupid
[03:55:30] <strcat> what's the point of git without rebase, cherry-pick, etc.?
[03:55:41] <strcat> you're supposed to make your pulls pretty...
[03:55:54] <strcat> does github want you to fudge timestamps too? ;p
[03:56:01] <strcat> bblum: just make all your PRs from 30 years from now
[03:56:34] * strcat sighs
[03:58:10] <Eridius> the fundamental problem is github is ordering the pull request commits by author date instead of by topological order
[03:58:15] <Eridius> which is kinda stupid
[04:00:01] *** Quits: int3_ (int3_@43CB6079.66715431.D25A875A.IP) (Client exited)
[04:01:28] <strcat> yep it will put children before the parent
[04:01:33] <strcat> they can be deleting lines added in the parent
[04:01:37] <strcat> that's really useless
[04:02:47] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[04:05:45] *** Joins: brson (brson@3162D9B8.5D984074.48914E5F.IP)
[04:05:45] *** ChanServ sets mode: +o brson
[04:05:50] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[04:07:27] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[04:12:19] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:16:33] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[04:18:24] <Eridius> strcat: apparently the problem is they sort the commits in ruby after loading them, so they've lost git's topological sorting
[04:19:30] *** Quits: eevee (eevee@moz-A643AA65.evrt.wa.frontiernet.net) (Ping timeout)
[04:21:06] <aatch> man we need more mac slaves...
[04:21:24] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[04:25:21] *** Quits: sankha93 (Instantbir@30B304BF.8E165DD6.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[04:31:03] *** Quits: brson (brson@3162D9B8.5D984074.48914E5F.IP) (Ping timeout)
[04:32:19] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:42:34] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[04:46:25] *** Quits: Jesin (Jessin_@moz-1B1307FF.eecs.lehigh.edu) (Quit: Leaving)
[04:49:51] *** Joins: eevee (eevee@moz-A643AA65.evrt.wa.frontiernet.net)
[04:56:03] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:57:40] *** Joins: nano (nano@moz-972880B.superkabel.de)
[04:58:21] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[05:06:05] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[05:06:51] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[05:09:09] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[05:16:32] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[05:17:15] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[05:18:37] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[05:19:21] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[05:22:31] *** Joins: sankha93 (Instantbir@FB9AED5F.C0113EA2.D2D1FAF0.IP)
[05:26:43] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[05:31:02] <yichoi> unused import error
[05:32:47] <Eridius> yes that is a thing
[05:35:12] <aatch> Eridius, well clearly it shouldn't be! Clearly it should just go and modify your code for you!
[05:35:37] <Eridius> aatch: IIRC there's an actual programming language out there that modifies its source when it hits an error. Any idea what it is?
[05:35:51] <aatch> Eridius, no idea. Doesn't surprise me though.
[05:36:03] <shachaf> GHC had a bug once where it deleted your source code if you had a type error.
[05:36:10] <ross> yes
[05:36:13] <ross> it's called vigil
[05:36:16] <Eridius> shachaf: wow
[05:36:23] <ross> v
[05:36:24] <ross> https://github.com/munificent/vigil
[05:36:33] <Eridius> ross: yes that's it! thanks
[05:36:50] <ross> I remember seeing it on hacker news and thinking it was hilarious
[05:36:55] <aatch> There's a language that refuses to compile if you don't say "please" enough. Or if you say "please" too much...
[05:37:17] <Eridius> aatch: that's INTERCAL I believe
[05:37:37] <aatch> Eridius, sounds correct
[05:37:41] <Eridius> best part: when talking about the politeness checker, wikipedia says: Although this feature existed in the original INTERCAL compiler, it was undocumented
[05:37:50] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[05:38:24] <Eridius> INTERCAL is also the language with COME FROM
[05:39:07] <aatch> Eridius, oh yeah, no-local *landings*
[05:39:20] <aatch> *non-local*
[05:39:55] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[05:41:57] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[05:42:27] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[05:43:20] <dcolish> PLEASE
[05:44:48] <aatch> PLEASE GIVE UP
[05:52:56] <xenocons> i dont know what is happening but i am excited
[05:53:16] <bjz> PLEASE GIVE ME YOUR SOUL
[05:53:22] <bjz> MUAAAGH
[05:54:41] <aatch> xenocons, PLEASE GIVE UP is how you exit in an INTERCAL program.
[05:54:55] <xenocons> ahh
[05:54:56] <bjz> haha
[05:55:22] <bjz> oh, just noticed the intercal reference ^
[05:55:32] <aatch> Also, INTERCAL naturally stands for "Compiler With No Pronounceable Acronym"
[05:56:04] <bjz> and has roman numeral literals
[05:56:09] <bjz> x)
[05:56:15] <aatch> bjz, only when outputting.
[05:56:19] <bjz> oh
[05:56:23] <bjz> hehe
[05:56:24] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[05:56:27] <aatch> it reads numbers in full english
[05:56:38] <bjz> HAHA
[05:56:40] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[05:57:05] <xenocons> intercal, sounds like polite cobol
[05:57:30] <aatch> xenocons, INTERCAL is deliberately intended to have no precendents.
[05:57:46] <dcolish> curious if there's a nicer way to do this sort of fold? https://gist.github.com/dcolish/2f0a24b56c73f7b6ceb3
[05:57:55] <xenocons> reading wiki now
[05:58:07] <bjz> CAN HAS STDIO?
[05:58:17] <aatch> bjz, not LOLCODE!
[05:58:23] <bjz> x)
[05:58:24] <dcolish> i dont quite understand the purpose of |f| in the range part
[05:58:45] <aatch> dcolish, so short answer is yes.
[05:59:19] <aatch> dcolish, what are you trying to do?
[05:59:27] * bjz doesn't have a problem with it.
[05:59:47] <aatch> bjz, the code?
[05:59:52] <aatch> or LOLCODE?
[05:59:55] <bjz> |f|
[05:59:55] <dcolish> aatch: i just want to fold that fn over + for a range
[06:00:26] <dcolish> i would have expected range().iter().fold() but i couldnt get that to work
[06:01:34] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:02:00] <strcat> dcolish: there's only Counter for now
[06:02:11] <dcolish> i guess i could apply and sum but that seems sloppy
[06:02:28] <strcat> Counter::new().take_while(|&x| x < 1000).fold(0, f)
[06:02:32] <strcat> until there's a Range
[06:02:37] <dcolish> ah
[06:02:40] <strcat> Counter::new(0, 1).take_while(|&x| x < 1000).fold(0, f)
[06:04:39] <aatch> strcat, is there anything preventing a Range at the moment?
[06:05:40] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[06:06:51] <aatch> dcolish, there is also take_ if you want to take n elements.
[06:07:01] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[06:07:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/v-w-tg
[06:07:01] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[06:07:21] <bjz> strcat: what was your response to the Reducers thing brought up in the meeting?
[06:07:46] <aatch> gotta go
[06:07:51] *** aatch is now known as aatch|gone
[06:09:09] *** Quits: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP) (Quit: lmandel)
[06:10:00] *** Joins: sawrubh (uid6719@moz-D8B63698.irccloud.com)
[06:10:03] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:10:03] <ghrust> 01[13rust01] 15bors pushed 1 new commit to 06auto: 02http://git.io/Gf03XQ
[06:10:03] <ghrust> 13rust/06auto 14f1e09d6 15bors: auto merge of #7420 : mozilla/rust/rollup, r=thestinger
[06:10:03] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:10:35] <dcolish> strcat: yeah Counter does make it a little clearer https://gist.github.com/dcolish/611f34331a0cd164792f
[06:13:33] <Eridius> dcolish: your i parameter on the fold needs to be &i
[06:13:41] <Eridius> no wait, nevermind. this is a counter
[06:13:50] <Eridius> I'm thinkg of an enumeration over a vector and getting confused by your take_while
[06:13:53] <Eridius> sorry for the noise
[06:15:22] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[06:18:03] <dcolish> no worries
[06:19:01] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[06:20:03] <dcolish> fwiw this is what i'm working on https://github.com/dcolish/rust-bloom
[06:20:55] <dcolish> not gotten too far along, just working on hashing functions now
[06:22:32] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[06:24:10] <Eridius> dcolish: fwiw I'd probably rewrite your chunk method to look like https://gist.github.com/kballard/fd6a09de653f711e0869
[06:24:39] <Eridius> actually I'd get rid of the & 0xff too, since it's a u8 which means it's already bounded
[06:26:43] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[06:26:58] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[06:27:24] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[06:33:13] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[06:37:15] *** Joins: vk (chatzilla@moz-389FEE13.hsd1.ca.comcast.net)
[06:41:44] *** Quits: mschifer (Adium@moz-42254FB1.hfc.comcastbusiness.net) (Quit: Leaving.)
[06:43:00] <Jeaye> Woo, overhauled my renderer to allow for indexed instancing. Now something like frustum culling is much cheaper. ^_^
[06:43:04] <Jeaye> I love Rust tonight.
[06:43:35] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:46:26] *** Joins: sk (sk@1696E5A5.E92B26F8.78DD174B.IP)
[06:47:27] <strcat> bjz: it's not really a replacement for iterators themselves
[06:49:07] <strcat> they only have a subset of what internal iterators have
[06:49:10] <bjz> strcat: yeah? I'm not too clued up on them, was just interested in your thoughts
[06:49:24] <strcat> bjz: they're a restricted form of internal iterators for data-parallel stuff
[06:49:37] <strcat> not a viable alternative to iterators - for example, no zip
[06:50:53] <strcat> the container has to know how to partition itself into ranges and you can layer on top reducers... but keep in mind that clojure uses immutable data so it's likely not how you would do it in rust
[06:52:04] <bjz> strcat: what about the racket stuff that was mentioned?
[06:52:15] <strcat> bjz: racket has a million things
[06:52:17] <strcat> ;p
[06:52:19] <bjz> :)
[06:52:25] <bjz> crazy racket
[06:52:38] <strcat> they have external iterators and generators (which are external iterators) though
[06:52:44] <strcat> but they probably have lots of other stuff too
[06:53:31] <strcat> bjz: http://docs.racket-lang.org/reference/Generators.html?q=new
[06:54:23] <strcat> anyway continuations let you implement generators/coroutines so...
[06:55:12] <strcat> bjz: http://docs.racket-lang.org/reference/dicts.html#(def._((lib._racket/dict..rkt)._dict-iterate-next)) there's an external one
[06:55:32] <strcat> bjz: http://docs.racket-lang.org/reference/dicts.html#(def._((lib._racket/dict..rkt)._dict-for-each)) there's an internal one
[06:55:34] <strcat> so yeah...
[06:56:40] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[06:57:03] <bjz> interesting
[06:57:11] *** Joins: jgr (jgrucker@moz-8B931A84.hsd1.or.comcast.net)
[06:58:22] <strcat> racket is purely functional so I don't know if they can really do reducers
[06:58:31] <strcat> isn't*
[06:58:42] <strcat> the worst kind of typo, the one that reverses the meaning of a sentence
[06:59:19] <bjz> :)
[06:59:38] <strcat> NonCopyable can be zero-size now
[06:59:40] <strcat> just realized
[06:59:44] <strcat> needs #[no_drop_flag]
[07:00:32] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[07:00:47] *** Quits: jgr (jgrucker@moz-8B931A84.hsd1.or.comcast.net) (Quit: WeeChat 0.4.0)
[07:01:35] <bjz> is there a way of writing to astring
[07:01:44] <strcat> bjz: hm?
[07:01:53] <bjz> I want the term colours, but it takes a Writer
[07:02:03] <bjz> but I want a string
[07:02:06] <bjz> :)
[07:02:08] <strcat> bjz: ah, strings *should* be a Writer impl
[07:02:14] <Eridius> bjz: you can use a BytesWriter to write to a ~[u8]
[07:02:23] <Eridius> strcat: write takes bytes, no? you could write non-utf8
[07:02:35] <strcat> Eridius: it can just use a condition or fail if you do
[07:02:47] <Eridius> strcat: the writer may not know it's writing to something that can fail, so no, a condition is a terrible solution
[07:02:55] <bjz> ohh: io::with_str_writer
[07:02:55] <Eridius> because the writer wouldn't know what condition to take
[07:03:04] * strcat shrugs
[07:03:11] <Eridius> bjz: aw damn, that exists? now I'm sad
[07:03:16] <strcat> rusti: struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} }
[07:03:19] -rusti- ()
[07:03:20] <bjz> ?
[07:03:30] <strcat> rusti: struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } std::sys::size_of::<NonCopyable>()
[07:03:31] -rusti- 1
[07:03:39] <Eridius> bjz: see what I was just saying. Writer takes bytes. str needs to be utf8. Now you have a Writer that may arbitrarily fail based on what you're writing
[07:03:40] <strcat> rusti: #[no_drop_flag] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } std::sys::size_of::<NonCopyable>()
[07:03:41] -rusti- 0
[07:03:44] <strcat> heh
[07:03:46] <strcat> it works
[07:03:48] <strcat> well
[07:03:51] <strcat> too early to know that
[07:04:01] <strcat> rusti: #[no_drop_flag] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } let x = NonCopyable;
[07:04:02] -rusti- <anon>:9:97: 9:98 warning: unused variable: `x` [-W unused-variable (default)]
[07:04:03] -rusti- <anon>:9          #[no_drop_flag] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } let x = NonCopyable;
[07:04:03] -rusti-                                                                                                           ^
[07:04:03] -rusti- ()
[07:04:07] <strcat> magic
[07:04:18] <Eridius> incidentally with_str_writer just uses a bytes_writer internally, then verifies that the result is utf8
[07:04:27] <Eridius> (and it null-terminates. ugh)
[07:05:34] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[07:05:36] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[07:06:50] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[07:10:08] <vk> Is it possible to use Rust from PowerShell on Windows, or will it only work in the MinGW shell?
[07:11:54] <strcat> rusti: #[no_drop_flag] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } NonCopyable == NonCopyable
[07:11:55] -rusti- <anon>:9:93: 9:119 error: binary operation == cannot be applied to type `main::NonCopyable`
[07:11:56] -rusti- <anon>:9          #[no_drop_flag] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } NonCopyable == NonCopyable
[07:11:56] -rusti-                                                                                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
[07:11:56] -rusti- error: aborting due to previous error
[07:11:58] -rusti- application terminated with error code 101
[07:12:04] <strcat> rusti: #[no_drop_flag] #[deriving(Eq)] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } NonCopyable == NonCopyable
[07:12:05] -rusti- <anon>:9:109: 9:135 error: binary operation == cannot be applied to type `main::NonCopyable`
[07:12:05] -rusti- <anon>:9          #[no_drop_flag] #[deriving(Eq)] struct NonCopyable; impl Drop for NonCopyable { fn drop(&self) {} } NonCopyable == NonCopyable
[07:12:05] -rusti-                                                                                                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
[07:12:08] -rusti- error: aborting due to previous error
[07:12:09] -rusti- application terminated with error code 101
[07:12:11] <strcat> damn
[07:12:41] <Eridius> strcat: ?
[07:12:51] * strcat hates implementing things himself
[07:14:03] <Eridius> why did deriving(Eq) not work?
[07:14:36] *** Quits: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP) (Ping timeout)
[07:15:31] <strcat> Eridius: because it doesn't know about that case I guess
[07:16:26] <Eridius> rusti: #[deriving(Eq)] struct Foo; Foo == Foo
[07:16:27] -rusti- <anon>:9:37: 9:47 error: binary operation == cannot be applied to type `main::Foo`
[07:16:27] -rusti- <anon>:9          #[deriving(Eq)] struct Foo; Foo == Foo
[07:16:27] -rusti-                                               ^~~~~~~~~~
[07:16:27] -rusti- error: aborting due to previous error
[07:16:27] -rusti- application terminated with error code 101
[07:16:35] <Eridius> hm so it just can't derive if there's no wrapped type?
[07:16:49] <Eridius> rusti: #[deriving(Eq)] struct Foo(()); Foo(()) == Foo(())
[07:16:49] -rusti- <anon>:9:41: 10:5 error: binary operation == cannot be applied to type `main::Foo`
[07:16:49] -rusti- <anon>:9          #[deriving(Eq)] struct Foo(()); Foo(()) == Foo(())
[07:16:50] -rusti- <anon>:10     };
[07:16:50] -rusti- error: aborting due to previous error
[07:16:50] -rusti- application terminated with error code 101
[07:16:53] <Eridius> :/
[07:16:54] <strcat> it just needs to be taught about unit structs
[07:17:09] <strcat> and tuple structs too, I guess
[07:17:21] <Eridius> rusti: () == ()
[07:17:23] -rusti- true
[07:17:40] <strcat> Eridius: it only knows how to derive for structs/enums because it was explicitly taught how.
[07:17:57] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:18:33] <bjz> how do I convert a str to bytes?
[07:18:43] <bjz> I tried .to_bytes
[07:18:59] <Eridius> .as_bytes() to get a &[u8], and then .to_owned() on that to get a ~[u8]
[07:19:00] <strcat> http://ix.io/6nP PITA :(
[07:19:18] * strcat will file a bug and make dbaupp do it :D
[07:19:22] *** Joins: nano (nano@moz-972880B.superkabel.de)
[07:19:44] <bjz> Eridius: cheers, makes sense
[07:20:22] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:21:31] * strcat wrote a pretty paranoid unit test for this
[07:23:21] <doomlord> is there an existing tool for browsing rust modules/traits/impls/functions in any ide. (even a commandline tool?) eg. ask it for a function name and it will tell you where it resides, which structs its impl'd for
[07:23:32] <strcat> no
[07:23:45] <dbaupp> strcat: the problem there is #[deriving] doesn't seem to work inside functions
[07:23:56] <strcat> failures:
[07:23:57] <strcat>     util::tests::test_noncopyable
[07:23:59] <strcat> noooooooooo
[07:24:03] <strcat> dbaupp: it doesn't work on unit structs though
[07:24:09] <strcat> afaict
[07:24:12] <strcat> or does it? :)
[07:24:14] <dbaupp> oh, really?
[07:24:21] <dbaupp> I don't know
[07:24:23] * strcat tries outside of a fn
[07:24:50] <strcat> dbaupp: nvm it does
[07:25:39] <dbaupp> cool :)
[07:25:46] <strcat> my test doesn't work :D
[07:25:50] <strcat> deriving does
[07:25:54] <strcat> I mean this noncopyable thing
[07:26:08] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[07:26:20] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[07:27:11] <doomlord> do you all jjust use grep + web docs to navigate these things
[07:27:32] <strcat> rust: task failed at 'left: 0 does not equal right: 5', foo.rs:29
[07:27:34] <strcat> damn it
[07:27:54] * strcat thinks #[no_drop_flag] is buggy
[07:28:15] <strcat> hrm
[07:28:17] <strcat> possibly not
[07:28:44] * strcat shrugs
[07:30:06] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Ping timeout)
[07:30:35] *** Quits: ssbr (ssbr@moz-141F89C6.block0.gvtc.com) (Connection reset by peer)
[07:30:42] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[07:30:47] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[07:31:30] *** Joins: ssbr (ssbr@moz-141F89C6.block0.gvtc.com)
[07:32:50] <strcat> ok moves are just weird
[07:33:00] <strcat> they zero the entire source
[07:33:03] <strcat> always
[07:33:27] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[07:33:56] <dbaupp> doomlord: just grep
[07:34:47] <strcat> zero-size NonCopyable works \o/
[07:37:05] <strcat> dbaupp: https://github.com/mozilla/rust/pull/7426 r?
[07:37:55] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[07:38:11] <strcat> dbaupp: hm wait
[07:38:23] <strcat> my test is flawed because it assumes the destructor runs
[07:39:00] * strcat checks if it even does
[07:39:51] <strcat> it does! but I need to add that to the test
[07:40:00] * strcat wonders how
[07:40:03] <strcat> abusing an env variable?
[07:40:05] <strcat> no..
[07:40:17] <strcat> we have globals now... right
[07:40:39] <strcat> rusti: static did_run: bool = false; unsafe { did_run = true }
[07:40:40] <dbaupp> doomlord: (that's combined with having touched/looked at most modules in std/extra so I have an appropximtae idea of what I'm looking for)
[07:40:41] -rusti- <anon>:9:48: 9:55 error: cannot assign to immutable static item
[07:40:41] -rusti- <anon>:9          static did_run: bool = false; unsafe { did_run = true }
[07:40:41] -rusti-                                                          ^~~~~~~
[07:40:41] -rusti- error: aborting due to previous error
[07:40:41] -rusti- application terminated with error code 101
[07:40:48] <strcat> rusti: static mut did_run: bool = false; unsafe { did_run = true }
[07:40:49] -rusti- ()
[07:40:51] <strcat> yay
[07:44:28] <strcat> dbaupp: https://github.com/mozilla/rust/pull/7426 r?
[07:44:31] <strcat> for real this time :)
[07:45:47] *** Quits: vk (chatzilla@moz-389FEE13.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90 [Firefox 22.0/20130617145905])
[07:46:12] *** Joins: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP)
[07:47:05] <dbaupp> strcat: r+
[07:47:12] *** Joins: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr)
[07:47:12] *** Joins: Blei (philipp@moz-650B9C6A.cust.bluewin.ch)
[07:56:40] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[07:59:00] <pnkfelix> doomlord: I use a mix of ack (a better grep) and ctags
[08:00:55] <hoelzro> ack++
[08:01:20] <strcat> yay
[08:01:28] <strcat> the rollup of 13 pulls landed
[08:01:46] <strcat> and brson's is next :)
[08:01:51] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[08:03:55] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[08:03:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/s8N8xQ
[08:03:55] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[08:04:57] *** Joins: fabiand (fabiand@B84F5FDE.3A27401E.16E13E53.IP)
[08:05:04] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:05:04] <ghrust> 01[13rust01] 15thestinger 04deleted 06rollup at 14ab428b6: 02http://git.io/K5hBmg
[08:05:04] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:05:54] <strcat> so close to no more 'each'
[08:06:52] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:06:52] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ZFgWDA
[08:06:52] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:06:55] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[08:06:56] <ghrust> 01[13rust01] 15bors pushed 16 new commits to 06auto: 02http://git.io/9reJZQ
[08:06:56] <ghrust> 13rust/06auto 14116897f 15Corey Richardson: Remove `ast::pure_fn` and all concept of `pure` from the compiler
[08:06:56] <ghrust> 13rust/06auto 149b2d9a9 15reus: replaced some 'std::' with 'extra::' in comments
[08:06:56] <ghrust> 13rust/06auto 140f55c9c 15Steven Stewart-Gallus: Cleaned up middle a bit....
[08:06:58] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[08:10:08] <Blei> btw. don't you guys think that this is probably somewhat bad timing to release 0.7? i imagine many people will be turned off by the very long iterator syntax
[08:10:08] *** Quits: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr) (Quit: pyrac)
[08:10:27] <strcat> Blei: I'd really like it if we landed a new for loop
[08:10:34] <Blei> i know that it's just temporary, but it's what many people will see as a first impression
[08:10:34] <strcat> but I'm not really capable of doing it ;p
[08:10:35] <dbaupp> Blei: I'd thought that too
[08:11:06] <Blei> haha, oh well
[08:11:12] <strcat> the parts of the compiler handling 'for' will need to be redone
[08:11:16] <strcat> and liveness/borrowck updated
[08:11:27] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[08:11:32] <strcat> I could probably figure out the first but not the 2nd part.
[08:11:33] <Blei> yeah, i'm sure it's quite complicated
[08:11:34] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[08:11:46] <kini> is rust on a 3-month release cycle?
[08:11:51] <strcat> kini: yes
[08:11:59] <kini> nice
[08:12:00] <strcat> but they aren't really releases yet - they aren't supported post-release
[08:12:06] <strcat> they're just a snapshot of master as it is on that day
[08:12:11] <shachaf> No more 'each'?
[08:12:13] <dbaupp> strcat: why'd liveness/borrowck need to be updated?
[08:12:17] * shachaf looks up to see what's going on.
[08:12:18] <kini> fair enough, hence the "0." I imagine
[08:12:32] <strcat> dbaupp: because the new for loop will work differently, it won't be a closure body
[08:12:33] <dbaupp> shachaf: http://permalink.gmane.org/gmane.comp.lang.rust.devel/4293
[08:12:52] <dbaupp> strcat: isn't it just sugar, so liveness/borrowck work fine?
[08:12:54] <strcat> dbaupp: link to rust-deb
[08:12:59] <strcat> rust-dev archives* ;p
[08:13:05] <strcat> gmane repeated that email twice for some reason
[08:13:13] <dbaupp> shachaf: https://mail.mozilla.org/pipermail/rust-dev/2013-June/004364.html
[08:13:20] <dbaupp> strcat: right
[08:13:23] <strcat> dbaupp: well if you just make it desugar to something
[08:13:24] <shachaf> dbaupp: Aha, thanks.
[08:13:27] <strcat> but I don't know if we can really do that
[08:14:02] <strcat> shachaf: https://mail.mozilla.org/pipermail/rust-dev/2013-June/004599.html here's part 2 of that too
[08:14:03] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[08:14:07] <dbaupp> strcat: it'd probably be a little tricky, I guess, since it'd be modifying the ast
[08:14:26] <strcat> heh that only took 20 days!
[08:14:48] <strcat> well I guess it was partially done before ;p
[08:14:56] <dbaupp> strcat: we could just have for always call .iter(), so the desugaring happens at parse time
[08:14:58] <strcat> I had a treemap iterator and started std::iterator
[08:15:09] <shachaf> strcat: Oh, this new loop protocol seems nicer than the current one.
[08:15:24] <strcat> shachaf: well among other things there are iterator adaptors now
[08:15:39] <strcat> so you can chain map, filter, zip, fold, etc.
[08:15:59] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[08:16:01] <strcat> and you can store iterators, and if you break out of a loop the stored iterator will have the place you stopped at stored
[08:16:58] <strcat> nearly done, except for the language support part from 'for' ;p
[08:16:59] <shachaf> Oh, you're this Daniel.
[08:17:13] <strcat> yes
[08:19:11] <Blei> removing some low hanging @s: git diff HEAD^|wc -l  ->  1766
[08:19:31] <dbaupp> Blei: awesome! in rustc?
[08:19:37] <Blei> yeah
[08:19:47] <Blei> i haven't even started with trans yet
[08:21:14] <strcat> dbaupp: https://github.com/mozilla/rust/commit/9f5f609b1c9a70d2034ed25a79961503843bb9c7 another little bit gone ;p
[08:21:40] <dbaupp> strcat: yay!
[08:22:11] <dbaupp> oh, btw, I've finished my exams, so I'm ready to dive back into cleaning things up... but I guess I'd mostly conflict with you in vec?
[08:23:03] <strcat> dbaupp: I don't have anything ongoing with vec
[08:23:16] <dbaupp> ok, cool
[08:23:16] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[08:23:20] <strcat> well, except I'll be moving the FromIter impl to libextra
[08:23:23] <strcat> along with std::iter
[08:23:36] * dbaupp starts a rampage
[08:23:53] <strcat> dbaupp: functions -> methods is an important thing to do with it
[08:23:58] <strcat> like you did with str :)
[08:24:00] <dbaupp> yup
[08:24:08] <dbaupp> and removing all the _between functions :/
[08:24:17] <strcat> that's essentially what that reverse fn was
[08:24:26] <strcat> I guess at some point there were no slices
[08:24:53] <Blei> yay, ice
[08:24:53] <dbaupp> yeah
[08:24:56] * dbaupp likes slices
[08:25:12] <cmr> aw, it failed
[08:25:15] <cmr> what a pain
[08:25:54] <cmr> strcat: thanks for fixing it for me!
[08:26:33] <strcat> cmr: np
[08:26:42] <cmr> why did that fail...
[08:27:01] *** Joins: goldfeld (Mibbit@3006D813.1F4AB7A5.DF1E30BF.IP)
[08:27:03] <cmr> oh use core
[08:27:04] <strcat> don't really understand/care atm
[08:27:06] <cmr> I hate that
[08:27:15] <strcat> cmr: yeah I don't really understand why you need that
[08:29:25] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:30:02] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[08:30:22] <goldfeld> hey guys, I'm getting "~str does not implement any method in scope named 'mymethod'"
[08:30:40] <strcat> what's the code?
[08:30:43] <goldfeld> where i'm defining a trait and an impl for ~str in another file, and using a 'mod thatfile' in the place where i'm trying to use
[08:30:51] <strcat> goldfeld: trait needs to be in scope
[08:30:58] <strcat> use thatfile::YourTrait
[08:31:11] <goldfeld> in the fn?
[08:31:18] <strcat> goldfeld: at file scope, or in the fn
[08:31:30] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[08:31:44] <strcat> goldfeld: lots of traits are in the prelude (things that are always imported) which is why you don't have to import most of the stdlib ones
[08:32:30] <goldfeld> but if i try to have 'use myfile::Trait' after the 'mod myfile' the compiler won't allow me
[08:32:35] <goldfeld> neither before it
[08:32:57] <strcat> should work before it
[08:33:42] <goldfeld> it says unresolved import
[08:33:58] <dbaupp> goldfeld: you probably need `use self::myfile::Trait`
[08:34:52] <goldfeld> ah, there you go, thanks guys
[08:34:59] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[08:35:27] <goldfeld> this self guy should feature in the tutorial somewhere
[08:35:44] <cmr> yeah lots of things should be documented :p
[08:35:59] <strcat> except the things I plan on removing :D
[08:38:04] <cmr> What does `self` mean in imports?
[08:38:14] <cmr> Current crate?
[08:38:35] *** Joins: Blub\w (wry@moz-F7CF120E.wireless.dyn.drei.com)
[08:38:50] <dbaupp> cmr: current mod
[08:39:00] <dbaupp> cmr: since use is always relative to the top of the crate
[08:39:08] <cmr> ahh
[08:39:15] <dbaupp> (except for with self and super)
[08:40:34] *** Quits: eevee (eevee@moz-A643AA65.evrt.wa.frontiernet.net) (Ping timeout)
[08:43:56] <Blei> and ::
[08:45:32] <dbaupp> Blei: ?
[08:45:43] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[08:46:30] <Blei> use ::foo; always starts at the root scope
[08:46:51] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[08:47:09] <dbaupp> I don't think that parses?
[08:47:23] <dbaupp> (every use starts at the root scope, except self & super, is what I was saying)
[08:47:33] <dbaupp> rusti: use ::std::uint; 1
[08:47:33] -rusti- <anon>:9:13: 9:15 error: expected ident, found `::`
[08:47:34] -rusti- <anon>:9          use ::std::uint; 1
[08:47:34] -rusti-                       ^~
[08:47:34] -rusti- application terminated with error code 101
[08:47:59] <Blei> huh
[08:48:01] <Blei> hmm
[08:48:24] <Blei> ah, that doesn't work in use statement
[08:48:24] *** Joins: berak (chatzilla@61E62E07.5E545589.16E13E53.IP)
[08:48:25] <Blei> s
[08:48:27] <Blei> right
[08:48:47] <Blei> i'm still somewhat mystified by how module namespaces work
[08:50:31] <cmr> I'm still somewhat mystified by most things in rust :p
[08:50:35] *** Quits: xLII (xLII@4BED3CB3.F5F53E8A.2D6DB75E.IP) (Ping timeout)
[08:52:19] *** Quits: timot (timot@moz-D18FB99F.cust.telenor.se) (Ping timeout)
[08:54:38] *** Parts: berak (chatzilla@61E62E07.5E545589.16E13E53.IP) ()
[08:55:15] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[08:55:36] <cmr> rusti: let x = ~[1, 2, 3, 4]; (do x.iter().find_ |x| { *x == 4 }).unwrap()
[08:55:37] -rusti- <anon>:9:63: 9:64 error: mismatched types: expected `&int` but found `<VI4>` (expected &-ptr but found integral variable)
[08:55:37] -rusti- <anon>:9          let x = ~[1, 2, 3, 4]; (do x.iter().find_ |x| { *x == 4 }).unwrap()
[08:55:37] -rusti-                                                                         ^
[08:55:37] -rusti- error: aborting due to previous error
[08:55:38] -rusti- application terminated with error code 101
[08:55:55] <cmr> rusti: let x = ~[1, 2, 3, 4]; (do x.iter().find_ |&y| { y == 4 }).unwrap()
[08:55:56] -rusti- <anon>:9:63: 9:64 error: mismatched types: expected `&int` but found `<VI4>` (expected &-ptr but found integral variable)
[08:55:57] -rusti- <anon>:9          let x = ~[1, 2, 3, 4]; (do x.iter().find_ |&y| { y == 4 }).unwrap()
[08:55:57] -rusti-                                                                         ^
[08:55:57] -rusti- error: aborting due to previous error
[08:55:57] -rusti- application terminated with error code 101
[08:56:02] <cmr> rusti: let x = ~[1, 2, 3, 4]; (do x.iter().find_ |&y| { *y == 4 }).unwrap()
[08:56:04] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cRNK
[08:56:10] *** Joins: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk)
[08:56:28] <cmr> rusti: let x = ~[1, 2, 3, 4]; fmt!("%?", (do x.iter().find_ |&y| { *y == 4 }).unwrap())
[08:56:29] -rusti- ~"&4"
[08:57:37] *** Quits: Jesse_ (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse_)
[08:58:23] *** Joins: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net)
[08:58:52] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[08:59:09] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[09:02:53] *** Joins: timot (timot@moz-5BBA1BEE.cust.telenor.se)
[09:02:56] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[09:05:31] *** Quits: n0vember (n0vember@moz-690FFF9D.org) (Ping timeout)
[09:05:38] *** Quits: timot (timot@moz-5BBA1BEE.cust.telenor.se) (Ping timeout)
[09:05:39] *** Quits: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP) (Ping timeout)
[09:06:16] *** Joins: timot (timot@moz-37B66845.cust.telenor.se)
[09:08:16] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[09:08:22] *** Joins: n0vember (n0vember@moz-690FFF9D.org)
[09:11:00] *** Quits: n0vember (n0vember@moz-690FFF9D.org) (Ping timeout)
[09:11:47] *** Joins: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP)
[09:11:56] *** Joins: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it)
[09:12:22] *** Joins: n0vember (n0vember@moz-690FFF9D.org)
[09:13:13] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Connection reset by peer)
[09:14:04] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[09:14:23] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[09:16:17] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[09:16:47] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[09:20:12] *** Joins: Aetherspawn_BNC (uid6924@moz-C944F5EC.irccloud.com)
[09:21:41] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[09:22:00] *** Joins: Earnestly (earnest@D1391197.E402D611.5411983D.IP)
[09:22:03] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[09:22:11] *** Quits: ross (ross@moz-8A84103E.br.br.cox.net) (Quit: )
[09:25:52] *** Joins: Palmik (palmik@moz-CC484FDD.tmcz.cz)
[09:25:52] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[09:27:00] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[09:27:50] *** Quits: timot (timot@moz-37B66845.cust.telenor.se) (Ping timeout)
[09:29:19] *** kimundi is now known as zz_kimundi
[09:29:45] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[09:31:24] *** Joins: timot (timot@moz-6B186341.cust.telenor.se)
[09:35:53] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (Ping timeout)
[09:41:38] *** Quits: jga (asdf@D8473366.7B844B5A.C9AB4801.IP) (Ping timeout)
[09:43:12] *** Quits: timot (timot@moz-6B186341.cust.telenor.se) (Ping timeout)
[09:55:04] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[09:56:35] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:58:37] *** Joins: jga (asdf@F625A258.D9BC707.B5524284.IP)
[10:01:08] *** Quits: fabiand (fabiand@B84F5FDE.3A27401E.16E13E53.IP) (Ping timeout)
[10:01:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[10:02:16] *** Joins: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:02:27] *** Joins: fabiand (fabiand@B84F5FDE.3A27401E.16E13E53.IP)
[10:02:57] *** Quits: fzzzy (Donovan@moz-40919DA0.us-west-2.compute.amazonaws.com) (Ping timeout)
[10:03:26] *** Joins: fzzzy (Donovan@moz-40919DA0.us-west-2.compute.amazonaws.com)
[10:05:21] *** Joins: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr)
[10:05:53] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[10:06:06] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[10:06:16] *** Quits: goldfeld (Mibbit@3006D813.1F4AB7A5.DF1E30BF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:06:53] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[10:06:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/9reJZQ
[10:06:53] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[10:09:06] <cmr> indutny: did you see https://github.com/mozilla/rust/pull/7395 ?
[10:09:51] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:09:51] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/OvlH6w
[10:09:51] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:09:51] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[10:09:51] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_Qkokg
[10:09:51] <ghrust> 13rust/06auto 146a77273 15Young-il Choi: rt: add android dummy functions for mman related
[10:09:51] <ghrust> 13rust/06auto 140bad3e6 15bors: auto merge of #7395 : yichoi/rust/android_dummy, r=brson...
[10:09:53] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[10:10:00] <cmr> heh, good timing
[10:12:58] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[10:13:52] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[10:15:18] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[10:17:33] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[10:19:14] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[10:20:59] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[10:26:50] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[10:27:08] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[10:30:02] <yichoi> cmr: do you have some comments about 7395?
[10:30:44] <cmr> yichoi: no, just making sure indutny saw it (he was the one who wrote the mman wrapper). he's working on a high-level safe interface to mman, so he probably wants to know what isn't available on android
[10:31:49] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[10:33:00] <yichoi> ok
[10:33:06] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[10:36:20] <Blei> hmm, these dynamic @mut borrow checks are annoying
[10:36:48] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[10:37:48] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[10:38:46] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[10:39:03] <cmr> *@mut is annoying
[10:39:04] <cmr> :p
[10:39:56] *** Joins: jdm (jdm@514D186.F3BBB17D.144F44FA.IP)
[10:41:35] *** Quits: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com) (Ping timeout)
[10:45:03] <yichoi> what is main change of 0.7 against 0.6 ?
[10:46:20] <cmr> yichoi: there are some release notes at https://github.com/mozilla/rust/blob/master/RELEASES.txt
[10:46:39] <cmr> lots of changes
[10:49:26] <yichoi> ok
[10:49:52] <yichoi> thanks
[10:52:04] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[10:53:21] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[10:57:29] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[11:02:42] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[11:07:13] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[11:11:01] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Connection reset by peer)
[11:11:50] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[11:13:10] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[11:15:25] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[11:16:27] *** Quits: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[11:23:28] *** Quits: sk (sk@1696E5A5.E92B26F8.78DD174B.IP) (Quit: Leaving)
[11:23:56] <engla> is there any alternative to using ~fn:Owned  for sendable functions? Are there any bounds or 'static you can put on &fn to make it sendable (and usable)
[11:29:55] *** Quits: Blub\w (wry@moz-F7CF120E.wireless.dyn.drei.com) (Ping timeout)
[11:30:08] *** Joins: Blub\w (wry@moz-F7CF120E.wireless.dyn.drei.com)
[11:37:47] *** jdm is now known as jdm|f00d
[11:39:59] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[11:41:59] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[11:42:26] *** zz_kimundi is now known as kimundi
[11:42:56] *** Quits: fabiand (fabiand@B84F5FDE.3A27401E.16E13E53.IP) (Quit: Verlassend)
[11:54:22] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[11:58:20] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[11:58:31] *** kimundi is now known as zz_kimundi
[11:59:20] *** Joins: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de)
[12:00:31] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[12:03:53] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[12:07:50] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[12:09:06] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[12:09:59] *** Joins: berak (chatzilla@61E62E07.5E545589.16E13E53.IP)
[12:10:51] *** Joins: snearch (snearch@moz-BED3A66B.pool.mediaways.net)
[12:15:02] *** Parts: berak (chatzilla@61E62E07.5E545589.16E13E53.IP) ()
[12:17:00] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[12:17:01] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[12:21:48] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[12:21:48] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_Qkokg
[12:21:48] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[12:24:38] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[12:24:48] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[12:24:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/3XiLnw
[12:24:48] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[12:24:50] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[12:25:08] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[12:27:47] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:27:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/3XiLnw
[12:27:48] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:27:49] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[12:27:49] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ovOo1g
[12:27:49] <ghrust> 13rust/06auto 14211d70e 15Tim Chevalier: rustpkg: Implement RUST_PATH...
[12:27:49] <ghrust> 13rust/06auto 147e81726 15bors: auto merge of #7397 : catamorphism/rust/rustpkg_path, r=brson...
[12:27:49] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[12:30:15] <pnkfelix> anyone else seeing a stage1 build failure of rustc while compiling pipes/proto.rs ?  (I'm on Mac OS X) 
[12:30:55] *** jdm|f00d is now known as jdm
[12:31:12] <jdm> does anybody know if xfail-win32 is a legitimate harness instruction?
[12:31:26] <pnkfelix> (or, sorry, no.  The failure is within proto.rs while compiling libsyntax/syntax.rs.  Hmm, okay, I can at least work through that on my own)
[12:31:31] <cmr> jdm: I don't think so... everything I've seen uses xfail-fast
[12:32:12] <pnkfelix> jdm: I see it in a bunch of the tests
[12:32:26] <pnkfelix> jdm: so at least other people believe it to be valid
[12:32:36] <jdm> heh
[12:32:56] <pnkfelix> see e.g. extern-return-TwoU16s
[12:33:10] <pnkfelix> which has both "xfail-win32" and "xfail-macos"
[12:33:38] <cmr> tests are probably the most cargo culted part of the codebase
[12:33:40] <cmr> so who knows :p
[12:33:50] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[12:34:11] <jdm> time to look at the test harness
[12:35:08] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[12:35:47] <indutny> cmr: hoya
[12:35:49] <jdm> looks like it should be valid
[12:35:58] <indutny> huh.
[12:36:01] <jdm> as long as os::SYSNAME is win32
[12:36:04] <indutny> cmr: android doesn't have those?
[12:36:17] <cmr> indutny: apparently not
[12:36:25] <indutny> gosh
[12:36:37] <indutny> well, it probably better to do it other way around
[12:36:43] <indutny> by removing their declarations for android
[12:37:06] <indutny> but probably it doesn't matter that much
[12:37:10] <indutny> cmr: what do you think?
[12:37:21] <cmr> I have no opinion about it
[12:37:25] <dbaupp> indutny: talk to yichoi
[12:37:29] <indutny> yichoi: hi
[12:37:33] <indutny> ;)
[12:38:59] *** Parts: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) ()
[12:39:48] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[12:43:18] <MaikKlein> will 6661 https://github.com/mozilla/rust/pull/6661 make it in 0.7?
[12:44:21] *** zz_kimundi is now known as kimundi
[12:45:07] <dbaupp> MaikKlein: i'd guess no
[12:45:38] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[12:46:18] *** Joins: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP)
[12:49:09] *** Quits: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP) (Quit: lmandel)
[12:50:35] <cmr> So only about half the code in codemap was actually used/necessary
[12:50:59] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[12:51:04] <dbaupp> :/
[12:51:20] <cmr> that number is larger than it sounds
[12:51:27] <cmr> a bunch of it was replaced with #[deriving]
[12:51:39] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[12:51:47] <dbaupp> yay deriving!
[12:52:00] * dbaupp likes deriving
[12:52:41] <cmr> It'd be cool if you could do like #[deriving(Eq(field, field))]
[12:52:51] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[12:52:53] <cmr> for when some fields aren't important for equality
[12:52:56] <cmr> (like in span)
[12:53:46] <Blei> cmr: https://github.com/mozilla/rust/issues/7229
[12:54:00] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[12:54:01] <cmr> heh
[12:54:58] <dbaupp> cmr: oh, I just put your idea on that issue!
[12:55:00] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[12:55:06] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:56:09] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[12:58:28] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Quit: victorporof)
[13:03:39] <cmr> I think attributes are among my favorite part of rust, I can't wait to see the cool abuses of them once they are pluggable.
[13:03:50] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[13:03:50] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147e81726 to 140bad3e6: 02http://git.io/N3iJvQ
[13:03:50] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[13:03:53] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:03:53] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/aA-iZg
[13:03:53] <ghrust> 13rust/06auto 143789433 15Tim Chevalier: rustpkg: Begin allowing package scripts to call the default build logic...
[13:03:53] <ghrust> 13rust/06auto 14c440743 15bors: auto merge of #7403 : catamorphism/rust/package-scripts, r=brson...
[13:03:55] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:04:59] <dbaupp> Does anyone know why vec::push_slow is #[inline(never)]?
[13:05:11] <bstrie> dbaupp: because then it wouldn't be slow
[13:05:18] <cmr> heh
[13:05:42] <bstrie> whyyy does that function exist?
[13:05:46] <jdm> haha
[13:05:49] <cmr> dbaupp: maybe because push_fast is inlined into it, and it'd be huge?
[13:06:28] <dbaupp> cmr: it seems unlikely that it'd be huge
[13:06:34] <doener> rather because reserve gets inlined into it
[13:06:45] <dbaupp> bstrie: it's to reserve space for the push
[13:06:54] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:07:54] * dbaupp deletes push_slow
[13:08:59] <bstrie> good idea, I can't honestly see myself suggesting that anyone ever use a function named "push_slow"
[13:09:05] <cmr> it's not even pub
[13:09:29] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[13:10:01] <dbaupp> bstrie: I may have to add it back in for the reason doener states
[13:10:26] <bstrie> "what does it do?" "oh, it uses the FFI and networking code to pass your array to a 256MB server where the append is performed in a ruby VM"
[13:10:39] <dbaupp> heh
[13:10:45] <cmr> "through tor"
[13:10:54] *** Quits: igl (igl@moz-603150FA.adsl.alicedsl.de) (Ping timeout)
[13:10:57] <bstrie> just in case the nsa is watching
[13:11:06] <bstrie> haha, what am I saying
[13:11:09] <bstrie> they're always watching :|
[13:11:20] *** Joins: igl (igl@moz-457AC4E5.adsl.alicedsl.de)
[13:11:25] <cmr> :(
[13:11:52] <doener>  push_slow is huge. Inlining it into push is a bad idea because push gets inlined everywhere
[13:13:27] <dbaupp> doener: I converted push to be `if need_more_space { reserve_at_least } push_fast()`, it this bad?
[13:13:34] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[13:14:05] <doener> I'd guess so, let me check
[13:14:24] <dbaupp> (what about `if need_more_space { reserve_at_least_with_inline_never } push_fast()`?)
[13:16:17] *** Joins: fabiand (fabiand@moz-9782208.adsl.alicedsl.de)
[13:17:46] <dbaupp> Blei: nice!
[13:18:02] *** Quits: fabiand (fabiand@moz-9782208.adsl.alicedsl.de) (Ping timeout)
[13:20:06] *** Joins: fabiand (fabiand@moz-9782208.adsl.alicedsl.de)
[13:20:21] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[13:20:35] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[13:21:48] <doener> dbaupp: the former is quite bad, the latter should be ok, I don't think it makes sense to inline reserve_at_least, not even for other callers
[13:22:11] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.1)
[13:22:11] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[13:22:22] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[13:22:49] <dbaupp> doener: yeah, reserve_at_least doesn't have any #[inline] attributes
[13:23:03] <dbaupp> it's just LLVM deciding to do it within the crate, I guess
[13:23:39] <Blei> dbaupp: thanks! i was hoping it would make a bigger difference, but there's much more @ removal lying ahead
[13:23:44] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[13:23:52] <Blei> (e.g. all that stuff that is hidden in type Foo = @Foo_;
[13:23:53] <Blei> )
[13:24:59] <doener> Blei: good luck with the dynamic borrow checks if you tackle those
[13:25:31] <Blei> doener: i know :/ i got bitten multiple times by those already
[13:25:41] <bstrie> Blei: from what are you @-removing
[13:25:44] * doener had lots of fun when he tried to untangle block_
[13:25:47] <Blei> and the current changes were comparably easy
[13:26:03] <Blei> doener: that would have been my next target :D
[13:26:04] <dbaupp> bstrie: https://github.com/mozilla/rust/pull/7429
[13:26:12] <Blei> bstrie: everything!
[13:26:16] <bstrie> woah
[13:26:22] <bstrie> very ambitious
[13:26:33] <Blei> it will be the death of me
[13:26:58] <bstrie> dbaupp: I'd have given Blei's PR p=100 :)
[13:27:14] <doener> Blei: aatch|gone suggested to start with fn_ctxt, seeing how painful block_ is, I'd suggest the same
[13:27:25] <dbaupp> bstrie: you can add it!
[13:27:25] <bstrie> in general the current rule is that any perf improvements get priority over all else
[13:27:30] <bstrie> can I?
[13:27:36] <bstrie> do I have to... edit your comment?
[13:27:41] <dbaupp> bstrie: (either edit my comment, or just comment with p=X)
[13:27:44] <Blei> it's not really much of a perf improvement
[13:27:54] <Blei> i noticed no difference in compile time
[13:27:58] <cmr> you need r=huonw p=100, right?
[13:28:04] <dbaupp> cmr: nope
[13:28:10] <dbaupp> cmr: a second comment with p=100 works
[13:28:12] <cmr> fancy!
[13:28:15] <bstrie> I have commented
[13:28:19] <bstrie> let's see if this works
[13:28:35] <Blei> doener: ok, i might try that
[13:28:35] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[13:28:40] * dbaupp will be embarrassed if it doesn't
[13:28:50] *** Quits: sankha93 (Instantbir@FB9AED5F.C0113EA2.D2D1FAF0.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[13:28:53] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:28:55] <bstrie> wow, the queue is actually below 30
[13:28:56] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: SiegeLord)
[13:29:15] <Blei> yeah, the rollups really helped
[13:29:41] <bstrie> I haven't really been reviewing anything for a while, the queue's always been so long that I figure anything I review will need a rebase anyway
[13:29:59] <bstrie> also, video games
[13:30:02] *** Quits: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de) (Ping timeout)
[13:30:38] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[13:31:06] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:31:58] <doener> bstrie: now you reminded me that I still need to beat the last stage of Super Hexagon
[13:32:04] <cmr> eugh that game
[13:32:18] <dbaupp> doener: noooooo, get back to making rustc super fast ;P
[13:32:32] * doener usually plays that while waiting for rustc to compile
[13:32:57] <dbaupp> heh
[13:33:16] <bstrie> I need to beat the last stage of... so many games
[13:34:21] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Ping timeout)
[13:35:45] <cmr> I've been playing stealth bastard during builds
[13:36:20] <doener> I've started that as well, but OCD forces me back to hexagon
[13:36:23] *** Quits: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu) (Ping timeout)
[13:36:52] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[13:37:01] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[13:38:08] <bjz> eh so bad at finishing games. I was proud when I got all the combos in Little Inferno. :)
[13:40:02] *** Quits: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr) (Quit: pyrac)
[13:40:43] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[13:41:58] <bstrie> nowadays I'm more proud of myself for *resisting* the urge to get 100% completion :P
[13:42:04] <dbaupp> bstrie: seems to have worked :)
[13:42:11] <bstrie> huzzah
[13:42:18] <bstrie> I did a thing!
[13:42:43] <dbaupp> :D
[13:42:54] <bstrie> there's still a lingering problem with the bors process
[13:43:06] <bstrie> which is that stale and bad things accumulate like a layer of sediment
[13:43:22] <cmr> it's even sediment colored
[13:43:34] <bstrie> the core and the mantle
[13:43:39] <cmr> heh
[13:43:46] <yichoi> indutny: hi
[13:43:58] <dbaupp> that'd be a problem with a non-bors process to, right?
[13:44:06] <cmr> yeah
[13:44:18] <bstrie> yes, it's just a problem with our process in general
[13:44:32] <bstrie> we need a policy for random people taking old pulls and fixing them
[13:44:50] * dbaupp nominates bstrie to lead by example
[13:44:52] <cmr> Well it's a problem with every process that isn't "lock down the tree while $person integrates $patch"
[13:45:31] <bstrie> a good first step might be to figure out why each bad pull is bad
[13:45:37] <cmr> the tests failed. :p
[13:45:38] <bstrie> like, can github outages cause a pull to go bad?
[13:45:48] <cmr> no?
[13:46:02] <cmr> bad is specifically "this went to a buildbot and it failed"
[13:46:02] <dbaupp> a buildbot outage can, I guess
[13:46:14] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:46:24] <bstrie> I guess it really doesn't matter if the bors queue is never cleared
[13:46:31] <bstrie> by which I mean
[13:46:38] <bstrie> it doesn't matter if we try to clean out the sediment
[13:46:44] <bstrie> because the queue is always full anyway
[13:46:54] <dbaupp> only recently
[13:47:05] <dbaupp> (with the huge backlog, and slower cycle times)
[13:47:40] <dbaupp> it used to be that weekends and american-nights only had occasional builds
[13:48:05] <bstrie> right
[13:48:19] <indutny> yichoi: so what do you think about removing declarations of those functions
[13:48:22] <indutny> for android
[13:48:27] <indutny> instead of zero-resulting them
[13:48:42] * dbaupp wishes for the days of old, when a patch could be tested almost immediately
[13:48:58] <bstrie> I was planning on setting up a service to poll bors and email people when the queue was clear, so that we could spring into action and make use of downtime
[13:49:09] <bstrie> but that just doesn't happen anymore :P
[13:49:40] <dbaupp> when rustc gets faster, it'll start to happen again
[13:49:42] <yichoi> indutny: remove which functions ?
[13:49:55] <indutny> yichoi: shm_open and friends
[13:49:58] * dbaupp hopes
[13:49:59] <indutny> which you recently contributed
[13:49:59] <bstrie> alternatively, if we switch from valgrind to asan...
[13:50:11] <indutny> yes!
[13:50:13] <indutny> but
[13:50:16] <indutny> its not the same
[13:50:18] <indutny> unfortunately
[13:50:20] *** Joins: rindolf (shlomif@moz-A7E67270.red.bezeqint.net)
[13:50:23] <dbaupp> bstrie: isn't valgrind stronger?
[13:50:24] <indutny> still its quite good
[13:50:42] <dbaupp> (i.e. memory leaks too)
[13:50:57] <bstrie> dbaupp: that's what I hear, but if it catches 1% more bugs but takes 10x longer to run, we have to wonder if it's worth it
[13:51:01] <yichoi> indutny: as long as shm_open apis included in libc.rs, android execution fails
[13:51:10] <cmr> bstrie: no-opt is slower than valgrind and more important
[13:51:13] <bstrie> because, to be honest
[13:51:25] <indutny> yichoi: gotcha, that's why I'm proposing removing declarations from libc.rs
[13:51:25] <bstrie> if we spend 1.5 hours more now on every pull request
[13:51:26] <dbaupp> bstrie: I dunno, avoiding memory leaks is pretty important
[13:51:42] <indutny> yichoi: when I've added them - I've no idea that they're not supported on android
[13:51:42] <dbaupp> (it caught one with the LLVM pass manager recently)
[13:51:48] <bstrie> how long until the accumulated time waiting is longer than the time that would be needed to close the tree to mop up memory errors?
[13:51:51] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:52:26] *** Quits: Palmik (palmik@moz-CC484FDD.tmcz.cz) (Quit: Lost terminal)
[13:52:31] <rindolf> Hi all. http://paste.debian.net/12966/ - why am I getting Â«string_concat.rs:10:25: 10:37 error: binary operation + cannot be applied to type `&'static str`Â»?
[13:52:52] <dbaupp> bstrie: heh, but as cmr says, nopt is actually slower
[13:53:09] <dbaupp> rindolf: is that with 0.6?
[13:53:14] <bstrie> hmm
[13:53:24] <dbaupp> rindolf: using `~"hello"` should fix it
[13:53:32] <yichoi> indutny: why did you added ? did you have any special reason ? if you don't have any special reason to maintain shm_open, it must be useless 
[13:53:52] <indutny> yichoi: I just added them because every other platform supports them
[13:53:55] <indutny> and they're part of mman
[13:54:04] <indutny> which is POSIX
[13:54:15] <indutny> and its not really useless
[13:54:33] <rindolf> dbaupp: OK.
[13:54:57] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[13:55:10] <yichoi> i don't care to remove it both libc.rs and android_dummy.cpp if it does not have special reason to maintain.
[13:55:24] <indutny> yeah, I'll explore this option soon
[13:55:32] <indutny> yichoi: ok, just wanted to know your opinion on it!
[13:55:35] <indutny> thanks
[13:56:07] <yichoi> no problem
[13:58:51] <rindolf> dbaupp: thanks, it's working now.
[13:59:03] *** Joins: mark_edward (quassel@moz-4A5B1251.wisolt4.epbfi.com)
[13:59:46] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[14:02:55] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[14:04:15] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Ping timeout)
[14:04:26] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[14:04:36] *** Joins: locks (uid130@moz-C944F5EC.irccloud.com)
[14:05:11] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Ping timeout)
[14:08:54] *** Joins: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr)
[14:09:50] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[14:11:19] *** Joins: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de)
[14:12:26] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[14:12:48] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[14:13:21] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[14:17:28] <cmr> Is there anyway to get a @mut from a @?
[14:18:38] <jedestep> transmute_mut would do it I think
[14:18:38] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[14:19:02] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Input/output error)
[14:19:07] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:19:16] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[14:20:00] <dbaupp> cmr: @mut *foo?
[14:20:32] *** Quits: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de) (Ping timeout)
[14:20:33] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[14:20:47] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[14:20:51] <cmr> dbaupp: "cannot move out of dereference of @ pointer"
[14:21:03] <dbaupp> @mut copy *foo
[14:21:10] <cmr> yucky, no :p
[14:21:20] <dbaupp> (or `@mut foo.clone()`)
[14:21:32] <dbaupp> well, it's very illegal to turn a @ into a @mut in-place
[14:22:28] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[14:25:14] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[14:26:30] <Blei> heh, i'm adding lifetime annotations everywhere
[14:27:25] <Blei> and it just occured to me, if i manage to fix all the errors, i have statically proven that all the blocks we are creating (in a certain way that were declarating) actually belong to the same fn_ctxt
[14:27:27] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[14:27:39] <Blei> this is fun
[14:29:14] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:29:16] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[14:32:41] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[14:33:20] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[14:34:22] <cmr> rusti: let x = @mut 5i; let y: @int = x; x
[14:34:24] -rusti- <anon>:9:40: 9:41 error: mismatched types: expected `@int` but found `@mut int` (values differ in mutability)
[14:34:24] -rusti- <anon>:9          let x = @mut 5i; let y: @int = x; x
[14:34:24] -rusti-                                                  ^
[14:34:24] -rusti- error: aborting due to previous error
[14:34:24] -rusti- application terminated with error code 101
[14:34:45] <cmr> Is that pattern possible? I'm trying to figure out how exactly @/@mut works
[14:35:59] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[14:36:34] <Blei> cmr: i don't think it's possible
[14:36:50] <cmr> Is there something unsafe about taking @mut as @?
[14:37:25] <Blei> you can store it somewhere and then mutate it without the storee noticing
[14:37:30] <Blei> *storer
[14:37:39] <cmr> Ah.
[14:37:42] <cmr> Right, that's what &const does
[14:38:03] <cmr> (for borrowed pointers, that is)
[14:38:23] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[14:38:33] <dbaupp> rusti: let x = @const 1i; x
[14:38:34] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/CPiO
[14:38:58] *** Joins: timot (timot@moz-6943D11B.cust.telenor.se)
[14:41:41] *** Quits: timot (timot@moz-6943D11B.cust.telenor.se) (Ping timeout)
[14:43:32] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[14:45:50] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[14:46:05] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[14:46:22] *** Quits: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr) (Quit: pyrac)
[14:48:39] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[14:49:28] *** Quits: snearch (snearch@moz-BED3A66B.pool.mediaways.net) (Quit: Verlassend)
[14:53:54] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:56:46] *** Joins: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de)
[15:00:14] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Ping timeout)
[15:00:25] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[15:02:05] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[15:03:40] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[15:05:48] * MaikKlein borrowck y u no work
[15:05:52] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Ping timeout)
[15:06:01] <bstrie> file a bug!
[15:06:10] <thiez> rusti: trait Identity { fn id(self) -> Self; } impl<T> Identity for T { fn id(self)->T{self} } 8.id()
[15:06:11] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/HhaY
[15:06:16] <thiez> why does that ICE? :p
[15:06:25] <cmr> self-by-value
[15:06:37] <thiez> oh, that hasn't landed yet?
[15:06:47] <dbaupp> rusti: trait Identity { fn id(self) -> Self; } impl<T> Identity for T { fn id(self)->T{self} } (~[1i]).id()
[15:06:49] -rusti- ~[1]
[15:06:50] <bstrie> rather, I think it's just self-by-value for primitive types that are less than the size of a pointer
[15:07:05] <Luqman> i've fixed it, pull just hasn't landed yet
[15:07:08] <bstrie> or something silly like that
[15:07:14] <bstrie> Luqman: no way, which pull is that
[15:07:15] <thiez> rusti: trait Identity { fn id(self) -> Self { self } } impl<T> Identity for T {} 8.id()
[15:07:16] -rusti- error: internal compiler error: unimplemented type_of: ty_self
[15:07:16] -rusti- leaked memory in rust main loop (1 objects)
[15:07:16] -rusti- rustc: /build/rust-git/src/rust/src/rt/memory_region.cpp:192: memory_region::~memory_region(): Assertion `false' failed.
[15:07:16] -rusti- Aborted
[15:07:16] -rusti- application terminated with error code 134
[15:07:19] <cmr> https://github.com/mozilla/rust/pull/7410
[15:07:32] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[15:07:35] <thiez> assertion `false' failed, who could have suspected such a thing?
[15:07:57] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[15:07:58] <bstrie> "catamorphism commented 19 hours ago. luqmana added some commits a month ago" :|
[15:08:11] <bstrie> github y u no linear timeline
[15:08:18] <thiez> Luqman likes to keep us waiting
[15:08:22] <thiez> playing hard to get with those fixes
[15:08:33] <Luqman> bstrie: haha yes, i started those commits a while ago but got distracted with school
[15:08:43] <cmr> also rebasing does that
[15:08:50] *** Quits: locks (uid130@moz-C944F5EC.irccloud.com) (Quit: )
[15:09:17] <cmr> Does a &~Struct make sense?
[15:09:26] <MaikKlein> just be be 100% sure https://gist.github.com/MaikKlein/5877218 line 36 is a bug right?
[15:09:32] <MaikKlein> or is it me being retarded?
[15:10:31] <dbaupp> cmr: yes, but normally you'd want just &Struct
[15:11:06] <dbaupp> MaikKlein: yeah, probably
[15:11:17] <dbaupp> MaikKlein: (yeah, it's a bug, I mean)
[15:11:32] <dbaupp> if you wrap the first one in { }, it might work.
[15:11:42] <MaikKlein> dbaupp, already tried that
[15:11:50] <MaikKlein> dbaupp, I file a bug for &'self mut self
[15:11:57] <MaikKlein> because that is causing trouble
[15:12:19] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[15:12:47] <cmr> dbaupp: https://gist.github.com/cmr/6a23106ff6ed7a741e06#file-codemap-rs-L205, line 244 or 286, for example, are a &~FileMap. Should I just use a ~[FileMap]? (It was originaly a @mut ~[@FileMap])
[15:13:04] <dbaupp> MaikKlein: what happens if you just use `fn get_children<'a>(&'a mut self) -> &'a mut ~[Node<'self>]`?
[15:13:56] <dbaupp> MaikKlein: ('self doesn't actually have any defined connection to the self param, so you're probably confusing Rust. it's worth filing a bug about 'self though.)
[15:14:29] <dbaupp> cmr: I have a feeling ~[FileMap] would be fine
[15:14:44] <dbaupp> cmr: assuming that you don't have to do extra copies because of it
[15:15:00] <cmr> dbaupp: I don't think I'll have to, we'll see though
[15:16:00] <MaikKlein> dbaupp, ok wow lol... now it is working 
[15:16:10] <dbaupp> MaikKlein: cool!
[15:16:13] <MaikKlein> but that means I didn't fully understand lifetimes :X
[15:16:36] <dbaupp> MaikKlein: the 'self lifetime should only be used in type definitions, and impl headings
[15:16:40] * MaikKlein reading the tutorial again
[15:16:50] <dbaupp> MaikKlein: using it anywhere else evidently confuses Rust
[15:17:40] <dbaupp> however, to be clear, 'self is only special because that's the only name that Rust accepts in those two places. there's no fundamental reason why it can't be 'a or 'foo (and this will be changed sometime, I guess)
[15:18:05] *** Joins: jclements (jclements@43CB6079.66715431.D25A875A.IP)
[15:18:19] <dbaupp> (or whatever. as in, you should be able to use whatever name you want, not being forced to use self)
[15:18:38] <MaikKlein> ok
[15:19:21] <MaikKlein> I thought "fn get_children<'a>" means that pointer must be valid for the lifetime of the function block. But in this case I am returning a pointer. So it must be valid outside of the function block.
[15:20:07] <dbaupp> Not when you connect 'a with some input pointer
[15:20:25] <dbaupp> i.e. that's saying that the returned pointer has the same lifetime as the self input pointer
[15:20:45] <MaikKlein> ahhh
[15:20:58] <dbaupp> (and the self input pointer's lifetime is at most the lifetime of the object it points to, automatically)
[15:21:01] <MaikKlein> didn't know it makes a connection
[15:21:14] <MaikKlein> ok that makes sense thanks
[15:21:16] <dbaupp> it makes the connection when you do &'a self
[15:21:31] <dbaupp> (or foo: &'a int, or whatever)
[15:21:48] <Blei> achievement unlocked: your first struct with multiple lifetime parameters
[15:22:24] <dbaupp> I get the feeling that lifetimes will be the monads of Rust
[15:22:25] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[15:22:40] * dbaupp writes a "lifetimes are a burrito" tutorial
[15:22:43] <Blei> at the moment it somewhat feels like it, yeah
[15:22:52] <MaikKlein> rusti, let v = ~[1,2,3,4,5]; let r = v.last(); v.pop(); r
[15:22:58] <Blei> i added a lifetime parameter to 1 struct, i'm burried in errors
[15:23:03] <cmr> I have no idea what a monad is, but lifetimes are a pretty simple thing to understand, it's just actually using them in Rust that is a bit obtuse right now.
[15:23:08] <dbaupp> rusti: let v = ~[1,2,3,4,5]; let r = v.last(); v.pop(); r
[15:23:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/RWCD
[15:23:14] <MaikKlein> ups
[15:23:17] <Blei> error: Expected at most one lifetime name (for now)
[15:23:22] <Blei> oh noez
[15:23:28] <Blei> my efforts were useless
[15:23:53] <bstrie> Blei: poke nmatsakis
[15:23:58] <Blei> nmatsakis: poke
[15:24:07] <Blei> nmatsakis: please support multiple lifetime names
[15:24:20] <cmr> Blei: also save your work on a branch :p
[15:24:21] <dbaupp> cmr: monads are a pretty simple idea, it's just tricky to "think correctly" to understand them (but once you do it once, it all makes sense)
[15:24:26] <dbaupp> cmr: just like lifetimes, I guess
[15:24:33] <bstrie> Blei: iirc I think it was deprioritized because nobody could think of reasons they'd actually need that?
[15:24:45] <Blei> cmr: i will, but i expect it to be bitrotted by tomorrow
[15:25:16] <Blei> bstrie: i have a counterexample: rustc ;)
[15:25:24] <Blei> s/counter//
[15:25:26] <dbaupp> aren't lifetimes only usefully when intersected, so Foo<'a, 'b> == Foo<intersection('a, 'b)> ?
[15:26:11] <dbaupp> and so you can just go Foo<'c> and let rustc do the intersections automagically?
[15:26:12] <MaikKlein> I guess I can't do sth like this? let v = ~[1,2,3,4,5]; let r = v.last(); 
[15:26:21] <dbaupp> MaikKlein: yeah, you can
[15:26:33] <dbaupp> but you can't mutate the vector until `r` goes out of scope
[15:26:50] <MaikKlein> ahhh ok
[15:27:00] <MaikKlein> that's how rust is doing it
[15:27:04] <Blei> hmm, that kind of makes sense
[15:27:11] <Blei> i'll try to massage the code some more
[15:28:07] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[15:28:07] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/aA-iZg
[15:28:07] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[15:28:16] <MaikKlein> rusti: let v = ~[1,2,3,4,5]; let r = v.last(); r
[15:28:17] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/HaHN
[15:28:30] <MaikKlein> how would I write this?
[15:28:39] <dbaupp> rusti: let v = ~[1,2,3,4,5]; let r = v.last(); println(fmt!("%?", r))
[15:28:40] -rusti- &5
[15:28:41] -rusti- ()
[15:28:58] <dbaupp> MaikKlein: the problem there is just how rusti works, not anything wrong with the code itself
[15:29:13] <MaikKlein> dbaupp, ah ok
[15:29:39] <dbaupp> it runs `let foo = { <your code> }; println(fmt!("%?", foo))`, and so any variables/lifetimes are restricted to the {}
[15:29:43] <MaikKlein> rusti: let v = ~[1,2,3,4,5]; let r = v.last(); v.pop(); println(fmt!("%?", r))
[15:29:44] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/gOWj
[15:29:55] <MaikKlein> ah ok nice
[15:29:58] <MaikKlein> thanks now I got it
[15:30:53] *** Joins: qmx (qmx@B42C1175.A82378F3.A2BF9DEB.IP)
[15:30:58] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[15:30:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4I-QNw
[15:30:59] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:31:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[15:31:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/6d-qPA
[15:31:00] <ghrust> 13rust/06auto 147295a6d 15Philipp BrÃ¼schweiler: Remove many shared pointers...
[15:31:00] <ghrust> 13rust/06auto 143652736 15bors: auto merge of #7429 : Blei/rust/delete-shared, r=huonw...
[15:31:01] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[15:31:24] <cmr> Would v.last_mut() make sense?
[15:31:26] <bstrie> cross your fingers
[15:32:10] <cmr> =:q
[15:32:12] <cmr> whoops
[15:32:31] <cmr> [11:29:56]~/hacking/rust/src/libsyntax> rustc --test codemap.rs
[15:32:32] <cmr> codemap.rs:26:4: 26:17 warning: unused import [-W unused-imports (default)]
[15:32:34] <cmr> codemap.rs:26 use std::to_bytes;
[15:32:36] <cmr>                   ^~~~~~~~~~~~~
[15:32:38] <cmr> [11:30:08]~/hacking/rust/src/libsyntax> 
[15:32:40] <cmr> \o/
[15:32:42] <cmr> Now to fix everything else.
[15:32:44] <cmr> (If it's even possible...)
[15:33:05] <dbaupp> *everything* else?
[15:33:12] <dbaupp> the whole of rustc? :D
[15:33:20] <cmr> Everything that uses codemap :p
[15:33:23] *** Joins: nano (nano@moz-972880B.superkabel.de)
[15:33:28] <dbaupp> drat :'(
[15:33:29] <dbaupp> :P
[15:33:36] <bstrie> I'll file a bug entitled "fix rustc", reference every other open issue number, and then assign it to cmr
[15:33:37] <cmr> It's a pretty... wide-reaching change though
[15:33:44] <cmr> hahah
[15:33:51] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[15:33:56] <dbaupp> bstrie: have fun typing all 1300 issues
[15:34:10] * dbaupp thinks we should have less issues
[15:34:12] <bstrie> dbaupp: psah, I'll use the github api to retrieve all open issue numbers
[15:34:21] <dbaupp> bstrie: that's no fun
[15:34:37] <bstrie> dbaupp: we've actually been floating around 1300 ever since graydon instituted the weekly bug triage emails
[15:34:44] <bstrie> I'm very impressed at how it's stabilized
[15:34:53] <dbaupp> that is good
[15:35:30] <dbaupp> (a lot of dups/fixed/bitrotted issues, I guess)
[15:35:34] <cmr> yup
[15:36:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:36:21] <bstrie> it's a very effective solution to the problem of having a tracker full of neglected issues
[15:36:34] <dbaupp> why's make check always take so much longer when I want to go to bed?? :(
[15:36:42] <dbaupp> bstrie: yeah
[15:36:43] <bstrie> with many eyes, all bug trackers are shallow
[15:38:41] <pnkfelix> I've been having issues building the tip.  I'm in the process of bisecting, but I am still curious if anyone else is encountering problems.
[15:39:09] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[15:39:20] <dbaupp> I haven't (x86-64 linux)
[15:39:37] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[15:39:49] *** Joins: Sergio965 (sergiobz@moz-BB21156B.dynamic.csail.mit.edu)
[15:40:00] <bstrie> I'll try building right now
[15:40:13] <bstrie> pnkfelix: what issues are you having, and what platform?
[15:40:54] <pnkfelix> bstrie: Mac OS X.  The heart of the problem is that, during stage1
[15:41:02] <pnkfelix> bstrie: there is output like
[15:41:17] <pnkfelix> bstrie: "warning: error: " and make dies
[15:41:28] <bstrie> weird
[15:41:30] <pnkfelix> bstrie: that's not 100% right, but I don't have the log handy
[15:41:48] <dbaupp> it happens every time?
[15:42:00] *** Joins: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP)
[15:43:11] <pnkfelix> bstrie: the actual error comes from libsyntax/ext/pipes/proto.rs
[15:43:29] <pnkfelix> the protocol_ get_state fn
[15:43:37] <pnkfelix> the .get() invocation fail!'s.
[15:44:32] <bstrie> pnkfelix: and you're building master?
[15:44:38] <pnkfelix> bstrie: yeah
[15:44:50] <bstrie> hmm
[15:44:57] <pnkfelix> my bisection so far indicates that 58fc1fccad8a0 exhibits the bug
[15:45:02] <bstrie> I didn't think the protocol compiler was actually used anywhere
[15:45:38] <pnkfelix> it could be that the error message is misleading me
[15:45:55] <pnkfelix> since its so goofy anyway, like we're getting an error while in the midst of tyring to generate a warning message
[15:46:31] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[15:46:36] <pnkfelix> i.e., I still cannot tell if the message was complaining *about* syntax within proto.rs, or if it was running code within proto.rs.  :P
[15:47:10] <bstrie> cmr: did you pick the colors on the spans in error messages?
[15:48:08] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Ping timeout)
[15:48:08] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[15:48:08] *** Quits: Earnestly (earnest@D1391197.E402D611.5411983D.IP) (Ping timeout)
[15:48:28] *** Joins: Earnestly (earnest@D1391197.E402D611.5411983D.IP)
[15:48:32] <dbaupp> pnkfelix: maybe try running with 'TERM= ...' (if it is something caused by colours?)
[15:48:35] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[15:48:57] <cmr> bstrie: no
[15:49:15] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[15:49:17] <bstrie> hm, I thought it was you
[15:49:19] <cmr> bstrie: they've been those colors far longer than I've known rust :p
[15:49:19] <MaikKlein> lol I just wrote my first rust code that compiled and worked right away
[15:49:27] <bstrie> MaikKlein: you're learning!
[15:49:28] <dbaupp> MaikKlein: yay!
[15:49:30] <cmr> No, I just initiated the refactor to expand color support
[15:49:40] <cmr> Eridius did a lot of it too
[15:50:36] <pnkfelix> It looks like eda5e40b79f7 is fine.  So its probably somewhere in this big rollup merge...
[15:50:56] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[15:50:59] <cmr> pnkfelix: Empty errors like that are indicative of broken terminal colors.... can you run with RUST_LOG=extra::term=4,extra::terminfo=4?
[15:51:10] <pnkfelix> dbaupp: out of curiousity, why do you think its something with colors?.  Ah, cmr just answered.
[15:51:11] <dbaupp> https://github.com/mozilla/rust/pull/7430 r?
[15:51:14] *** Joins: mib_0ox2el (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[15:51:37] <pnkfelix> now that you mention it, all of my runs have been underneath emacs compile buffers
[15:51:47] <dbaupp> pnkfelix: (I was just taking what bstrie said as a suggestion.)
[15:51:48] <pnkfelix> so it could indeed be terminal funkiness...
[15:51:50] <cmr> mmm
[15:51:56] <cmr> what is `echo $TERM`?
[15:52:10] <dbaupp> and with that, I'm going to bed. g'night all.
[15:52:36] <jclements> pnkfelix: you have terminal funkiness? I didn't realize you could die of funkiness.
[15:52:39] <pnkfelix> TERM is dumb here
[15:52:41] <jclements> sorry
[15:52:55] <cmr> pnkfelix: literally, "dumb"?
[15:53:08] <cmr> [11:50:40]~/hacking/rust/src/libsyntax> tput -T dumb colors
[15:53:09] <cmr> -1
[15:53:09] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[15:53:11] <cmr> heh
[15:53:26] <pnkfelix> jclements: george clinton is an active carrier of terminal funk
[15:53:36] <pnkfelix> cmr: yeah, literally "dumb"
[15:53:55] <pnkfelix> If you do "M-x shell" in emacs, you can emulate this
[15:54:05] <cmr> pnkfelix: it was probably Eridius's "expand colors to everyone!" commit
[15:54:10] <pnkfelix> (one can also turn colors on, via other means)
[15:54:17] <pnkfelix> cmr: Okay, I'll go review that.
[15:54:23] <pnkfelix> cmr: See if I can fix it
[15:54:39] <cmr> https://github.com/mozilla/rust/commit/0ae203a779b8a75b3b79b409d92558d4bda92133
[15:54:46] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[15:55:48] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[15:56:41] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[15:59:13] *** Quits: qmx (qmx@B42C1175.A82378F3.A2BF9DEB.IP) (Connection reset by peer)
[15:59:31] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[15:59:40] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[15:59:50] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[15:59:59] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[16:00:24] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[16:01:13] *** Quits: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.2.1)
[16:01:20] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Input/output error)
[16:01:30] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[16:01:31] *** Joins: joone (joone@moz-C50DC051.jf.intel.com)
[16:03:15] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (Ping timeout)
[16:03:34] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:03:35] *** Joins: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:03:48] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[16:04:17] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[16:05:06] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[16:05:38] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[16:05:46] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[16:05:48] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[16:06:22] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Ping timeout)
[16:07:18] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[16:07:20] <Blei> ice!
[16:07:21] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[16:07:37] <bstrie> nice
[16:07:38] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[16:07:41] <cmr> I'm sad http://www.youtube.com/watch?v=SRH-Ywpz1_I was taken from the topic
[16:07:51] <bstrie> which video is that
[16:08:02] <cmr> "Mr. Freeze Puns"
[16:08:06] <bstrie> hahaha
[16:08:07] *** Joins: Kruppe (user@moz-4DDA8AB8.uwaterloo.ca)
[16:08:47] <bstrie> WHAT KILLED THE DINOSAURS... DE ICE AGE
[16:09:03] <bstrie> best movie line of the 90s
[16:09:38] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Quit: jedestep)
[16:09:40] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[16:09:43] <bstrie> so a full rustc build cycle has definitely gotten faster on my machine
[16:09:46] <bstrie> by like one or two minutes
[16:10:05] <bstrie> this timing was down to 12m6s
[16:10:08] <cmr> It's down 6-8 minutes from when I first started using rust 2 months ago
[16:10:36] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:10:43] <MaikKlein> lol is Arnold playing Mr Freeze :D ?
[16:10:48] <cmr> yup
[16:10:53] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Ping timeout)
[16:11:14] <cmr> https://github.com/xiongchiamiov/git-pray
[16:11:37] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[16:11:58] <cmr> The litany against rebasing
[16:12:00] <cmr> Hilarious
[16:12:04] <bstrie> hahaha
[16:12:09] <pnkfelix> mozilla rusties: Is there a bug triage session tonight?  my calendar seems totally confused.
[16:12:13] *** Joins: Jesin (Jessin_@moz-3AD6F09F.res.lehigh.edu)
[16:12:13] *** Quits: Earnestly (earnest@D1391197.E402D611.5411983D.IP) (Ping timeout)
[16:12:22] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[16:12:30] <bstrie> pnkfelix: I think there is a channel for that. #rust-triage maybe?
[16:12:35] *** Quits: fabiand (fabiand@moz-9782208.adsl.alicedsl.de) (Ping timeout)
[16:12:36] <jclements> pnkfelix: I see one scheduled for 9:30
[16:12:47] *** Joins: fabiand (fabiand@moz-9782208.adsl.alicedsl.de)
[16:12:54] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Ping timeout)
[16:12:55] *** Joins: Earnestly (earnest@D1391197.E402D611.5411983D.IP)
[16:13:01] <pnkfelix> bstrie: I've often created such a channel on demand, not sure if people hang out in it...
[16:13:18] <jclements> pnkfelix: dunno if graydon is back online
[16:13:20] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[16:13:42] <jclements> pnkfelix: erâ€¦ FWIW, 930 PDT, in 19 minutes. In MTV the bridge.
[16:14:09] *** Quits: mib_0ox2el (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:14:12] <pnkfelix> jclements: okay, so I'm not the only one with it on my schedule.  Okay I'll plan on showing up and seeing what happens.
[16:16:16] <cmr>     + 388 additions
[16:16:17] <cmr>     - 427 deletions
[16:16:28] <cmr> Blei: how did removing shared pointers end up removing actual loc?
[16:16:43] * cmr confused
[16:17:18] <cmr> ah intermediate variables
[16:17:55] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[16:18:22] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[16:19:29] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[16:21:09] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[16:22:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:22:31] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[16:25:31] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:26:21] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:27:32] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[16:28:18] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[16:28:26] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[16:28:32] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:29:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:29:21] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[16:29:35] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[16:29:50] *** Quits: jclements (jclements@43CB6079.66715431.D25A875A.IP) (Quit: jclements)
[16:30:17] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:30:26] *** Quits: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de) (Ping timeout)
[16:30:44] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[16:30:55] *** Quits: dbaupp (Thunderbir@moz-73E90475.lns20.syd6.internode.on.net) (Ping timeout)
[16:31:01] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[16:31:01] *** ChanServ sets mode: +o brson
[16:31:37] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:31:58] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:32:47] <toddaaro> brson: you around?
[16:32:56] <toddaaro> brson: what is a tube versus a pipe in the new runtime?
[16:33:10] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[16:33:21] *** Quits: anri (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Quit: anri)
[16:33:24] <brson> toddaaro: a tube is like a pipe but not threadsafe
[16:33:35] *** Joins: tjc (tjc@moz-D530ECE9.lightspeed.irvnca.sbcglobal.net)
[16:33:35] *** ChanServ sets mode: +o tjc
[16:33:39] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[16:33:49] *** Joins: jclements (jclements@43CB6079.66715431.D25A875A.IP)
[16:34:15] <toddaaro> brson: ok, what memory unsafety does it provide?
[16:35:41] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:35:41] *** ChanServ sets mode: +o dherman
[16:35:58] *** Joins: pnkfelix1 (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:35:59] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:36:05] *** Quits: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:36:20] *** Joins: pnkfelix2 (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:36:21] *** Quits: pnkfelix1 (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Connection reset by peer)
[16:36:39] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:36:43] <brson> toddaaro: it's a reference counted message queue that is sendable, so its possible to share it between multiple tasks
[16:37:21] *** pnkfelix2 is now known as pnkfelix
[16:37:37] <toddaaro> ok, and you can get bad races if you do parallel ops on it
[16:37:58] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[16:38:47] <bstrie> brson: is there precedence for tubes from other languages?
[16:38:52] <bstrie> also, the name is silly and I like it
[16:40:32] <toddaaro> naming of these constructs is a bit tricky - rust already has pipes, protocols, ports, and channels
[16:41:48] <brson> bstrie: I doubt it. it's really an implementation detail of the runtime. I don't plan to make them public
[16:43:31] *** Joins: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com)
[16:44:02] <pnkfelix> jack: triage mtg happening if you are intereseted
[16:44:50] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[16:45:56] <pnkfelix> jack: and we are in #rust-triae
[16:46:06] <pnkfelix> jack: #rust-triage
[16:46:19] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[16:52:36] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[16:56:47] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[16:58:51] *** Joins: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de)
[16:58:59] *** Joins: bnicholson (bnicholson@moz-6CCD7BCC.sub-70-197-10.myvzw.com)
[17:00:10] <MaikKlein> hm
[17:00:17] <MaikKlein> priv fn foo()
[17:00:22] <MaikKlein> doesn't work anymore?
[17:00:39] <Blei> MaikKlein: fns are priv by default
[17:01:24] <MaikKlein> ok I mean methods so  priv fn foo(&self) I still can call it as if it were public
[17:01:41] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:01:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:02:17] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[17:02:21] <MaikKlein> okay
[17:02:32] <MaikKlein> it probably doesn't matter if I am in the same module
[17:02:35] <Blei> is it in the same mod? i think priv and pub is defined for module boundaries
[17:02:37] <Blei> yes
[17:02:40] <MaikKlein> ah ok
[17:02:44] <MaikKlein> then I makes sense
[17:02:54] <MaikKlein> thanks
[17:04:19] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:04:25] <cmr> Blei: acrichto: http://sadpanda.us/images/1697379-60YF7PO.png
[17:04:46] <cmr> gunna remeasure that one, seems a bit... off
[17:05:05] <Blei> haha, no looks as i expected it ;)
[17:05:07] *** Quits: hmax_ (hmax@E6C9A372.6019DC5.2E171177.IP) (Quit: This computer has gone to sleep)
[17:05:15] <cmr> no the graph itself looks off. too much flat
[17:05:21] <cmr> not enough tumblies
[17:05:27] <Blei> ah, ok
[17:05:29] <cmr> <-- clearly a trained statistician
[17:05:38] *** Quits: bnicholson (bnicholson@moz-6CCD7BCC.sub-70-197-10.myvzw.com) (Ping timeout)
[17:05:41] <acrichto> it's not even loading for me...
[17:05:48] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:06:08] <acrichto> there we go, also that's sad :(
[17:06:13] <acrichto> I was hoping for at least a time improvement
[17:06:26] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:06:35] <friggle> 100k/200k in librustc size is worth having though
[17:06:44] <acrichto> true
[17:06:49] <cmr> The difference might also be that the compiler iteself is going less work, for the pre-trans phase?
[17:07:10] <Blei> i assume that the compiler has to keep track of lifetimes and stuff much more when using & instead of @
[17:07:49] <Blei> maybe it might make sense to compile some static code, like libstd, so the changed librustc source code can't skew the timing?
[17:07:57] <Blei> s/timing/measurements/
[17:08:52] <cmr> sure
[17:09:03] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[17:09:05] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[17:09:13] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Quit)
[17:09:17] *** q66_ is now known as q66
[17:09:20] <cmr> oh, I also need to turn off turbo
[17:09:22] <cmr> forgot about that
[17:09:32] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[17:09:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:10:10] <cmr> so the timing is probably off in who-knows-how-many ways
[17:12:21] *** Joins: jeff (jeff@moz-F81F6C4E.nyc.biz.rr.com)
[17:12:41] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[17:12:42] *** Quits: jeff (jeff@moz-F81F6C4E.nyc.biz.rr.com) (Client exited)
[17:13:35] <MaikKlein> i wonder if it possible to traverse a tree concurrently in rust
[17:15:05] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[17:15:17] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[17:16:11] <cmr> MaikKlein: that would require sharing the tree between tasks
[17:16:18] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:16:40] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[17:16:53] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[17:16:56] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:16:56] *** ChanServ sets mode: +o pcwalton
[17:17:14] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Ping timeout)
[17:18:22] <MaikKlein> okay I have a crazy idea
[17:18:55] <cmr> Blei: http://i.imgur.com/r3rL8Yx.png
[17:19:47] <MaikKlein> what if I would build my tree out of tasks? then instead of traversing the tree I send them a signal to give me their value..... ok nvm the order is important
[17:20:33] <Blei> cmr: thanks! but... aww
[17:20:49] <Blei> oh well, it's not slower
[17:21:04] <Blei> acrichto: ^
[17:21:09] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[17:21:20] <acrichto> eh, still a good thing to have!
[17:21:24] <kimundi> MaikKlein: Well you could just send the children of each traa node to a worker task or so
[17:23:08] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[17:23:11] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[17:23:11] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[17:23:45] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:23:54] <MaikKlein> kimundi, I was also thinking about this, but then I would need to move the children out of the tree to the tasks. 
[17:24:07] <MaikKlein> and this would leave the tree in a weird state while I am traversing
[17:24:18] <kimundi> well yeah, and move them back afterwards
[17:24:35] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[17:24:42] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[17:24:53] <kimundi> just make sure no one else can use the tree while you traverse :P
[17:24:56] *** Quits: Kruppe (user@moz-4DDA8AB8.uwaterloo.ca) (Ping timeout)
[17:26:05] <cmr> I can't wait until rustc is in good shape, compiler work is boring :\
[17:27:12] <MaikKlein> I can only move things on the exchange heap ~ to a tasks right?
[17:27:27] <cmr> Blei: an apples-to-apples of librustc: http://i.imgur.com/Vi2lGvA.png
[17:27:41] <cmr> Looks like you indeed make borrowck take an eensy bit longer
[17:27:43] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[17:27:54] <cmr> but you make linking shorter, ~zeroing out the difference
[17:28:24] <cmr> MaikKlein: only structs fulfilling the Owned kind
[17:28:26] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:28:49] <cmr> MaikKlein: which is I think ~ as long as it doesn't contain any @ or &mut? not positive
[17:29:34] *** Joins: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch)
[17:29:55] *** Joins: eevee (eevee@moz-58058235.evrt.wa.frontiernet.net)
[17:30:00] <MaikKlein> hm but then I would need to save my treenodes on the exchange heap and not on the stack. 
[17:30:45] <MaikKlein> ah what ever preemptive optimization is the source of all evil
[17:30:47] <cmr> Someone, somewhere, removed the bumpies between parsing and trans.
[17:30:49] * cmr bisects
[17:30:50] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:30:53] <Blei> huh, interesting
[17:32:31] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:32:38] *** Quits: rindolf (shlomif@moz-A7E67270.red.bezeqint.net) (Quit: Leaving)
[17:32:58] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[17:33:15] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[17:33:27] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:33:55] <Jesse> http://www.reddit.com/r/rust/comments/1h3red/language_support_for_external_iterators_new_for/car88h0 <3
[17:34:09] <cmr> heheh
[17:34:17] <cmr> Who is kibwen? Are they in irc?
[17:34:25] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[17:34:56] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:35:09] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[17:35:52] <bstrie> cmr: who wants to know?
[17:35:59] <cmr> me
[17:36:00] <bstrie> <_<  >_>
[17:36:07] * cmr guesses it's bstrie
[17:36:17] <cmr> I should have just asked the NSA :P
[17:36:53] <bstrie> good luck, I have dozens of aliases all based around subtle variations of the name "kibwen"
[17:36:53] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[17:36:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/6d-qPA
[17:36:53] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[17:36:55] <Kauhsa> https://gist.github.com/Kauhsa/7ebf5e10a0b205f84451 I got this tiny snippet that works fine - I'm wondering if I can avoid doing transform() on the iterator though. compiler doesn't let me to just change type to Iterator<&int>, do I have to manually specify lifetime or something?
[17:36:59] <bstrie> your algorithms cannot detect me
[17:37:08] <jedestep> http://w3sec.org/prism-rest-api-documentation/
[17:37:13] <jedestep> now anyone can find you
[17:37:23] <jedestep> using the PRISM restful api
[17:37:34] <MaikKlein> haha lol
[17:38:23] *** Joins: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:38:40] *** Joins: mib_i21ap6 (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[17:38:50] *** Joins: cp (cp@moz-993078EE.plus.com)
[17:38:59] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:39:36] <cmr> "To act on behalf of a PRISM target, they must first authenticate your app." hehe
[17:39:41] <bstrie> Blei: even if it's not a perf win, it's something that needs to be done eventually
[17:39:53] <bstrie> removing managed pointers is god's work
[17:39:57] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[17:39:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/fmzPkw
[17:39:57] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[17:39:57] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:39:57] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/zn79vA
[17:39:57] <ghrust> 13rust/06auto 148edb8f6 15gifnksm: iterator: Add `IteratorUtil::max_by/min_by` method
[17:39:57] <ghrust> 13rust/06auto 149b6dfb8 15bors: auto merge of #7414 : gifnksm/rust/max_by, r=catamorphism...
[17:39:57] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:40:10] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[17:40:24] <bstrie> holy crap, it actually landed
[17:40:33] <bstrie> wunderbar
[17:40:38] <MaikKlein> lol
[17:40:43] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[17:40:44] <pnkfelix> bikeshed time â€” anyone want to voice opinion on what name to use for a github label denoting "a convenience for internal Rust development." ?
[17:40:47] <pcwalton> I don't understand how it's possible to have an API as bad as Xlib
[17:40:57] <cmr> github's search still sucks
[17:41:11] <pnkfelix> e.g. I-devsugar
[17:41:12] <bstrie> pnkfelix: don't we have "papercut" for that
[17:41:13] <sp3d> pcwalton: what is it that you can't use xcb?
[17:41:14] <cmr> pnkfelix: I-soothing
[17:41:18] <MaikKlein> bstrie, u are German? :D
[17:41:20] <pcwalton> sp3d: GLX context setup
[17:41:20] <Blei> bstrie: did you doubt me?
[17:41:26] <pcwalton> XCB has bindings but they don't work
[17:41:26] <Blei> ;)
[17:41:27] *** Quits: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[17:41:36] <bstrie> MaikKlein: I'm 25% german!
[17:41:40] <pnkfelix> bstrie: I don't know, how do I find out what "I-papercut" means?
[17:41:41] <sp3d> pcwalton: dang
[17:41:45] <bstrie> Blei: not at all, I doubted windows
[17:41:57] <Blei> XD a reasonably doubt
[17:42:38] <pnkfelix> We probably should have a wiki page for all the labels that provides such info.  I'll make one now
[17:42:39] <Blei> pcwalton: just use wayland already
[17:42:44] <pcwalton> Blei: I wish :(
[17:42:52] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:43:01] <pcwalton> then I could actually share the same GL context setup code between Android and Linux too
[17:43:05] <pcwalton> and "normal" linux
[17:43:06] <bstrie> pnkfelix: we *did* have a wiki page for that. I have no idea what it was named
[17:43:10] <pcwalton> but wayland isn't normal linux :(
[17:43:14] <pcwalton> especially with Mir
[17:43:24] <cmr> EGL works on X, doesn'g it?
[17:43:27] <pnkfelix> bstrie: I did a grep for "I-papercut" through a checkout of the wiki, and got nothing
[17:43:35] <pcwalton> cmr: it does? I didn't think EGLImageKHR did
[17:43:39] <Blei> shhhh, we are ignoring mir in the hope it goes away
[17:43:41] <pcwalton> I'm looking forward to writing Mir GL context providers too, thanks Canonical
[17:43:42] <friggle> cmr: depends on your driver
[17:43:48] <cmr> Ah
[17:43:50] <friggle> I don't think proprietary nvidia drivers have egl
[17:43:56] <friggle> mesa does
[17:44:02] * cmr doesn't use anything but mesa
[17:44:06] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[17:44:22] <pnkfelix> Note-development-policy.md has something close to such a table
[17:44:37] *** Joins: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:44:46] *** Joins: bnicholson_ (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:44:52] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[17:44:53] <cmr> Well, back to the slave pits with me
[17:45:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:45:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:45:42] *** Quits: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[17:45:42] *** Quits: bnicholson_ (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[17:45:52] *** Joins: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:46:37] *** Quits: cp (cp@moz-993078EE.plus.com) (Ping timeout)
[17:47:04] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[17:47:05] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[17:47:10] *** Joins: cp (cp@moz-993078EE.plus.com)
[17:47:46] <pnkfelix> bstrie: All the I-foo tags denote "Importance".  I guess the tag I wanted to add might really belong with "A-foo (Area)" group.
[17:48:27] <cmr> devsugar is a really good name
[17:49:17] <pnkfelix> yeah so maybe I'll do A-devsugar.  First I'm going to make this table of the existing labels, as best I can, to ensure I'm not missing one that already serves this purpose.
[17:50:28] <MaikKlein> isn't mesa completely buggy?
[17:50:39] <cmr> MaikKlein: not ime.
[17:50:54] <cmr> quite the opposite, I've had more bugs with the proprietary drivers
[17:50:56] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[17:51:10] <cmr> mesa performance is worse and usually lags behind the state of the art featurewise though
[17:51:30] *** Quits: tjc (tjc@moz-D530ECE9.lightspeed.irvnca.sbcglobal.net) (Quit: Places to go, people to annoy)
[17:53:06] <MaikKlein> dunno I never had much luck with mesa
[17:53:48] *** Quits: jclements (jclements@43CB6079.66715431.D25A875A.IP) (Quit: jclements)
[17:54:27] <MaikKlein> so whats all the buzz with MIR
[17:54:57] <cmr> canonical is writing their own display server.
[17:56:06] <MaikKlein> is xorg bad?
[17:56:11] <bstrie> MaikKlein: for a few years now people have been pretty excited about wayland to come along and save them from X, and then just as wayland starts nearing a usable release canonical announces that they're going to be doing the same thing that wayland's doing, but different
[17:56:12] <cmr> It has problems
[17:56:37] <MaikKlein> bstrie, haha
[17:56:39] <cmr> Mostly its design model is outdated and no longer used.
[17:57:09] <Blei> MaikKlein: https://www.youtube.com/watch?v=RIctzAQOe44
[17:57:18] <cmr> I was going to write a wayland compositor in rust before I got sucked into making the compiler less bad
[17:57:25] <SiegeLord> Maybe if Wayland didn't drag its heels, this wouldn't have happened
[17:57:41] <Blei> yeah, development is kind of sluggish at times
[17:57:45] <SiegeLord> They've brought this upon themselves, I'd say
[17:57:51] <cmr> MaikKlein: http://wayland.freedesktop.org/docs/html/chap-Introduction.html#sect-Motivation
[17:58:45] <bstrie> I have no ability to judge whether X or wayland or mir is better, but it's obvious that if canonical *wanted* to help develop wayland rather than exhibit NIH, they could have
[18:00:46] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[18:00:53] <cmr> All the discourse I've seen from the mir devs indicates they don't know what they're doing
[18:00:56] <cmr> So...
[18:00:58] <cmr> we'll see
[18:01:11] *** Joins: jclements (jclements@43CB6079.66715431.D25A875A.IP)
[18:01:17] <SiegeLord> Maybe it was faster for them to develop things from scratch than finish Wayland... if Canonical manages to produce a functional display server in a year where Wayland took 5, they'll be right
[18:01:43] <benh> or at least they'll be shown to have had more manpower
[18:01:43] <Blei> SiegeLord: that's not quite fair, they are building upon a lot of infrastructure built up by the wayland devs
[18:01:50] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[18:01:53] *** Quits: jdm (jdm@514D186.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:01:54] <benh> or not even that i guess
[18:01:56] <Blei> i.e. all the mesa stuff, or the library to run on android
[18:02:14] <SiegeLord> Blei, I bet they'll be done before Wayland is
[18:02:16] <kimundi> fantastisch!
[18:02:31] <kimundi> oups, wrong channel
[18:02:35] <bstrie> haha
[18:02:39] <olsonjeffery> it's a sign that i'm too far down the rabbit hole with rust that i start day-dreaming about value type Option<T> types in C# to deal with null results in various queries
[18:02:39] <SiegeLord> XD
[18:02:42] <olsonjeffery> just so sick of NREs
[18:02:58] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[18:03:01] <brson> cmr: I'd love to have a rust wayland compositor
[18:03:10] *** Quits: fabiand (fabiand@moz-9782208.adsl.alicedsl.de) (Quit: Verlassend)
[18:03:14] <cmr> brson: I'd love to have a good rust compiler :p
[18:03:26] <olsonjeffery> cmr: hah! re: mir ..
[18:03:33] <olsonjeffery> it's sad, too.. ive been using ubuntu for a long time
[18:03:48] <olsonjeffery> but its feeling less and less like linux as they refocus in order to have a business model, or whatever
[18:04:04] <olsonjeffery> sadly fedora is non-starter, at least on EFI laptops
[18:04:34] <MaikKlein> olsonjeffery, it works for me on EFI though
[18:04:54] <olsonjeffery> MaikKlein: really? i could never get it working on my 2011 mbp because of grub 1, the separate boot partition, etc
[18:04:58] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[18:05:08] <olsonjeffery> at least in terms of ubuntu "just working" with zero hassle
[18:05:23] <MaikKlein> but I am back to ubuntu so ... :D
[18:05:33] <olsonjeffery> yeah. anyways. back on topic.
[18:06:15] <bstrie> I'm afraid that I'm stuck on ubuntu derivatives as long as I want my steam games to work :P
[18:06:40] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:06:55] <cmr> I've had steam games working quite well on arch, all but a few
[18:08:18] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[18:09:19] *** Quits: cp (cp@moz-993078EE.plus.com) (Ping timeout)
[18:09:19] <Sindwiller> they work pretty well on Arch, yeah :)
[18:09:32] <Sindwiller> Valve/Ryan's been doing a great job
[18:10:00] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[18:10:22] *** Quits: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:11:30] *** Joins: timot (timot@moz-99323D96.cust.telenor.se)
[18:12:08] <MaikKlein> we probably can share out steam games soon :)
[18:12:22] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:12:59] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[18:13:06] <Blei> ok, down to 1 error i can't figure out
[18:13:18] <cmr> Blei: and fixing that one error will spawn 23 more
[18:13:30] <Blei> probably :D
[18:14:50] <Blei> so true, back to 49 ~.~
[18:14:59] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[18:14:59] *** ChanServ sets mode: +o pcwalton
[18:15:20] <Blei> this is painful
[18:15:28] <cmr> are you still de-@ing?
[18:15:29] <Blei> lifetimes truly are rust's monads
[18:16:19] <Blei> cmr: i changed this line https://github.com/mozilla/rust/blob/master/src/librustc/middle/trans/common.rs#L526
[18:16:28] <MaikKlein> do you think rust is more complex than c++?
[18:16:33] <cmr> no
[18:16:43] <cmr> I can actually list rusts features
[18:16:48] <Blei> to contain a &mut fn_ctxt_ instead of @mut fn_ctxt_
[18:16:50] <bstrie> C++ is C++'s monads
[18:16:55] <SiegeLord> Haha
[18:17:14] <pcwalton> Blei: yeah, that will require a lot of propagation
[18:17:20] <Blei> git diff|wc -l reports 2772 lines
[18:17:21] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[18:17:25] <pcwalton> I wanted to do that for a while but it's a big change
[18:17:36] * bstrie cheers for Blei
[18:17:39] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:17:39] *** ChanServ sets mode: +o brson
[18:17:41] <pcwalton> memory safety without a GC is hard
[18:17:53] <Blei> i encountered some ices in the region checker along the way
[18:18:12] <Blei> and most of the error messages were less than helpful
[18:18:13] * pcwalton is certainly willing to believe there are better ways to achieve memory safety without a GC than our lifetime system
[18:18:14] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[18:18:23] <Blei> but still, it's fun
[18:18:30] <pcwalton> problem is, we're the only ones in industry actually trying :)
[18:19:14] <MaikKlein> a simple pointer to a parent looks a little bit ridiculous :D, parent: Option<&'self const SceneNode<'self>> but at least it is memory safe.
[18:19:28] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[18:19:35] <pcwalton> need const there? hmm
[18:19:48] <pcwalton> is it because of the lack of covariance in Option?
[18:19:49] * benh is eager to believe that there's a better way to express a memory-safe doubly linked list
[18:19:56] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Ping timeout)
[18:20:22] *** Quits: Jesin (Jessin_@moz-3AD6F09F.res.lehigh.edu) (Quit: Leaving)
[18:21:30] <pcwalton> it'd be pretty neat if we could get GC out of the compiler
[18:21:32] <MaikKlein> oh I have no idea why the const is still there, hm I was hacking too hard on rust the last night, I think because I had a mut pointer that I needed to return or so...
[18:21:39] <pcwalton> it's possible if we throw all the AST nodes into an arena
[18:21:50] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[18:21:58] <cmr> pcwalton: I've kicked them out of codemap
[18:22:00] <cmr> ...maybe
[18:22:08] *** Quits: timot (timot@moz-99323D96.cust.telenor.se) (Ping timeout)
[18:22:17] *** Joins: timot (timot@moz-CF82A1DF.cust.telenor.se)
[18:22:29] <MaikKlein> is ref counting considered as a GC?
[18:22:33] <pcwalton> yeah
[18:22:39] <Eridius> who here knows about the C++ parts of rustrt? It seems as though the reason why task failure recovery doesn't work on OS X 10.9 is because the type_info for rust_task is marked as non-exported
[18:22:52] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[18:22:58] <cmr> Eridius: that'd probably be brson
[18:23:07] <Eridius> this works on 10.8 because libc++abi had bugs there. I don't know why it works on Linux
[18:25:11] <brson> Eridius: do you have any background on this issue? what's the failure mode, what's type_info and why is it non-exported?
[18:25:19] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[18:25:46] <brson> why does unwinding require it
[18:26:11] <Eridius> brson: I'm still learning about this myself, but http://gcc.gnu.org/wiki/Visibility has a section on "Problems with C++ exceptions"
[18:26:22] <Eridius> basically the type_info needs to have default visibility if it ever gets thrown across a shared object boundary
[18:26:39] <brson> Eridius: would it help if the thrown value is not a *rust_task? we don't actually care about the value. in newsched it's just a magic-number int
[18:27:15] <brson> sounds like not throwing the task would help
[18:27:19] <Eridius> brson: If you can find something the system provides that has default visibility, that might work.
[18:27:27] <brson> uintptr?
[18:27:44] <Eridius> It's possible that throwing an __attribute__((visibility("default"))) on rust_task would help, but I don't know
[18:28:33] <Eridius> I'm going to see what happens if I slap that attribute on there
[18:28:39] *** Joins: tjc (tjc@moz-1F8E59C9.west.biz.rr.com)
[18:28:39] *** ChanServ sets mode: +o tjc
[18:30:07] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[18:30:25] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[18:31:00] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[18:31:23] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[18:32:32] *** Joins: pheleas_frog (Mibbit@A17107AE.2B5CB81F.DFAB1F33.IP)
[18:33:05] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:35:03] *** Joins: graydon (graydon@moz-9918B407.vc.shawcable.net)
[18:35:03] *** ChanServ sets mode: +qo graydon graydon
[18:35:20] * graydon rubs eyes, tentatively emerges from recovery room
[18:36:35] <brson> welcome back, graydon
[18:36:36] <tjc> graydon: did youâ€¦ just get out of surgery?
[18:36:50] <graydon> no, that was tuesday
[18:36:54] <tjc> ah ok
[18:37:14] <graydon> I mean "bedroom where I've been holed up for 2 days on painkillers" :)
[18:37:18] <tjc> Yeah :-)
[18:39:09] <Blei> wb!
[18:39:29] <Blei> was that about your shoulder?
[18:40:36] <graydon> yeah
[18:40:46] *** Quits: Barosl (Barosl@E287D94F.C81E10FB.7544CABF.IP) (Connection reset by peer)
[18:40:59] <bblum> hi graydon 
[18:41:03] <graydon> now I am a cyborg
[18:41:05] <graydon> hey bblum
[18:41:29] *** Quits: pheleas_frog (Mibbit@A17107AE.2B5CB81F.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:41:29] <benh> fully reintegrated bors into yourself I take it?
[18:41:43] <cmr> heh
[18:41:44] <pnkfelix> graydon: welcome back!
[18:41:44] <jld> I have no point here; I'd just like to say "Mecha-Graydon vs. Mothra"
[18:41:46] <graydon> bleep bloop
[18:42:20] <bblum> "r? graydon" "I'm sorry, I can't do that for you"
[18:42:45] <Blei> up to 82.
[18:42:52] <ecr> mecha-graydon as official rust mascot?
[18:42:53] <Blei> i'll probably never finish this
[18:43:01] <Blei> yes, please!
[18:44:26] <cmr> Blei: don't lose faith!
[18:44:29] <cmr> I believe in you!
[18:45:03] <cmr> if it's that ubiquitous I'm sure the reduction in binary size will be noticable, due to less glue
[18:45:28] <Blei> i hope so
[18:45:44] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[18:45:56] <MaikKlein> does anyone know how I would fix line 34 https://gist.github.com/MaikKlein/5879185 ? lifetimes are hard for me :(
[18:46:43] *** Joins: cp (cp@moz-993078EE.plus.com)
[18:47:03] <Blei> try priv fn set_parent(&mut self,p:&'self const SceneNode<'self>){
[18:48:41] <ecr> what would be the rust equivalent for a C++ const char*?
[18:49:17] <sp3d> &str, &'static str, or str, depending on context?
[18:49:33] <ecr> writing bindings for libuv
[18:49:38] <Blei> or &u8, &'static u8
[18:49:45] <Blei> or even *c_char
[18:51:00] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:51:48] *** Quits: mark_edward (quassel@moz-4A5B1251.wisolt4.epbfi.com) (Ping timeout)
[18:52:44] *** Quits: timot (timot@moz-CF82A1DF.cust.telenor.se) (Quit: Konversation terminated!)
[18:53:09] <sully> oh, wow, there are far fewer warnings when compiling rustc now
[18:53:15] *** Joins: mark_edward (quassel@moz-4A5B1251.wisolt4.epbfi.com)
[18:53:23] <sully> is it worth trying to get rid of the issue #6248 warnings?
[18:53:38] <bblum> also the colour of warning and note and error has changed yet again
[18:53:43] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Ping timeout)
[18:53:44] <bblum> they are now dark for me instead of light
[18:53:50] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Connection reset by peer)
[18:53:51] <bblum> well, instead of not-at-all, so this is better at least
[18:54:32] <brson> graydon: do you remember why we weren't able to change CFG_RELEASE from 0.6 to 0.7-pre? the build and dist seem to work. is there some infrastructure that doesn't like that version number?
[18:54:51] *** Joins: paupau (paul@moz-D6583788.hsd1.ca.comcast.net)
[18:55:12] <graydon> brson: honestly I don't remember. it might have been an nsis limitation.
[18:55:17] <bstrie> brson: https://github.com/mozilla/rust/issues/3306 sounds relevant to that
[18:55:27] <graydon> brson: if you can install and uninstall the .exe 
[18:55:31] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:55:34] <graydon> brson: then I am out of guesses
[18:55:58] <cmr> bblum: if your terminal doesn't advertise at least 16 colors it can only use dim colors
[18:56:07] <bblum> cmr: oic
[18:56:19] *** Quits: paupau (paul@moz-D6583788.hsd1.ca.comcast.net) (Quit: out)
[18:56:55] <Blei> i had to use TERM=xterm-256color to get any color before the most recent patch
[18:57:12] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Ping timeout)
[18:57:30] <Blei> apparently terminfo files are not kept up to date
[18:57:44] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[18:58:19] <Blei> so, as far as i can see, there is exactly 1 line of code that needs &mut fn_ctxt inside block_
[18:58:32] <Blei> this is irritating
[18:59:07] <brson> I'm going to try building the windows installer with 0.7-pre
[19:02:41] <Eridius> bblum: the terminfo files are up-to-date... for xterm. the xterm TERM only allows 8 colors
[19:03:11] *** Quits: MaikKlein (maik@moz-3909D3B2.dip0.t-ipconnect.de) (Ping timeout)
[19:03:24] <Eridius> bblum: the most recent patch of mine to extra::term mucked with things so it no longer requires 16 colors to do anything, but if you try to specify a "bright" color and your terminal doesn't support at least 16, it'll fall back to the dim colors (as an alternative to not showing any color)
[19:03:34] <Eridius> also that previous line of mine was meant to go to Blei 
[19:04:32] <bblum> Eridius: i see, ok
[19:04:37] <bblum> yeah this is better than it was for sure
[19:04:41] <bblum> i still want my bright colours though
[19:04:47] <Eridius> so fix your TERM to be something reasonable
[19:04:57] <Eridius> xterm is not a reasonable TERM for anything but, well, the real original 8-color-supporting xterm
[19:05:13] <Eridius> so I don't know why so many people end up with it
[19:05:13] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:07:45] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[19:08:30] <Blei> Eridius: i changed it to konsole (which is the terminal i'm using) and it didn't really help
[19:08:42] <Blei> and then i changed it to xterm-256color and everything worked
[19:08:55] <cmr> Blei: konsole-256color, or konsole-16color
[19:08:58] <brson> graydon: do you know if clean-llvm works now or have any suggestions about how to rebuild llvm on the bots?
[19:09:09] <Blei> cmr: oh, that exists? thanks
[19:09:32] <cmr> Blei: ls -l /usr/share/terminfo/k/konsole* :)
[19:10:14] <Blei> also: use zsh and do  TERM=<tab>
[19:10:28] <cmr> handy
[19:10:37] <cmr> zsh has completion for all sorts of things I never expect to be completed
[19:10:39] <Blei> but there were so many options... i just grabbed the first result for `kons<tab>` and assumed that wa it
[19:10:44] <Blei> *was
[19:10:57] <Blei> yeah, also for rustc! it's slightly buggy though
[19:11:08] <cmr> strcat wrote it
[19:11:34] <bblum> Eridius: https://bugs.launchpad.net/xfce4-terminal/+bug/778801 sighhhhh
[19:15:19] <Blei> oh
[19:15:34] <Eridius> bblum: ewww
[19:15:47] <Blei> of course, you can't have multiple &mut borrowings
[19:15:50] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:16:02] <Blei> well, that was a waste of time
[19:16:02] *** Quits: Sergio965 (sergiobz@moz-BB21156B.dynamic.csail.mit.edu) (Ping timeout)
[19:17:23] <cmr> Blei: can the block_ own the fn_ctxt?
[19:17:43] *** Quits: eevee (eevee@moz-58058235.evrt.wa.frontiernet.net) (Ping timeout)
[19:17:43] <Blei> no, there are many blocks for one fn_ctxt
[19:17:47] <cmr> ah
[19:18:07] *** Joins: qmx (qmx@moz-2C3A1304.dsl.telesp.net.br)
[19:18:09] <Blei> eh, i learned a lot about lifetimes ;)
[19:18:24] <cmr> So... instead of it being a child-to-parent relationship, can you have it be a parent-to-child relationship, and have a function to get the fn_ctxt of a block from some structure?
[19:19:23] <Ralith> I came in here, thought for a moment cmr was talking about family life, and got really confused at the second half of the sentence.
[19:19:32] <cmr> heh
[19:19:40] <Blei> that sounds slow, many of those are really shortlived
[19:19:53] <Ralith> "what kind of metaphor...?"
[19:20:21] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[19:21:15] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[19:22:16] <cmr> I don't know the code, just throwing out ideas.
[19:22:33] <Blei> yeah, i'm thankful
[19:22:59] <Blei> i'm trying to think of something to solve this without garbage collection, but i'm not sure if this is feasible
[19:24:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:24:41] <Blei> i _could_ just transmute it, or use some ugly hackery (like cell?)
[19:25:47] <cmr> error: internal compiler error: no type for node 68230: local (id=68230, name=cs) in fcx 7fe1e5eec580
[19:25:49] <cmr> Wonderful
[19:26:01] <Blei> i had some of those as well today
[19:27:19] *** Joins: timot (timot@moz-42B5BBFA.cust.telenor.se)
[19:27:59] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[19:28:05] *** Joins: Sergio965 (sergiobz@3C0BCD7B.278349C7.3A99D594.IP)
[19:28:17] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[19:28:51] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[19:29:28] *** Quits: Sergio965 (sergiobz@3C0BCD7B.278349C7.3A99D594.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:30:36] *** Quits: ecr (ereed@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[19:31:47] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[19:31:58] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:32:05] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[19:32:11] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[19:32:17] *** Joins: eevee (eevee@moz-58058235.evrt.wa.frontiernet.net)
[19:32:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:33:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:33:39] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:34:14] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Client exited)
[19:34:46] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[19:34:49] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[19:36:23] <tjc> graydon: feel free to review this now that you're back; brson did two in a row for me :-) https://github.com/mozilla/rust/pull/7419
[19:40:18] <graydon> tjc: is it possible for the logic to consider "in a workspace" to be true if cwd is a subdir of $X/*/src, for any X in RUST_PATH?
[19:40:41] <tjc> graydon: true if it is, or if and only if?
[19:40:51] <graydon> I figured iff, but ..
[19:41:12] <graydon> (are there other cases?)
[19:41:38] <tjc> well, maybe I don't have a RUST_PATH at all, but I have a directory with the right structure and I'm in it
[19:41:41] <tjc> or rather
[19:41:48] <tjc> the directory isn't in one of the default RUST_PATH entries, either
[19:42:00] <graydon> tjc: not sure if it's a well defined condition I guess. are package names even a fixed number of segments?
[19:42:11] <graydon> yeah, that's fair. hm. tricky.
[19:42:37] <graydon> what if we go the opposite way
[19:42:51] <graydon> and just look through ../ and ../.. and such until we hit an 'src'?
[19:42:56] <tjc> hmm
[19:43:01] * graydon shrugs. all this gets pretty ad-hoc and easy to do damage I guess.
[19:43:09] <tjc> Yeah, it just has to be specified clearly
[19:43:11] <graydon> inference. it's often wrong!
[19:43:15] <tjc> yeah
[19:43:24] <graydon> let's see how this goes as you have it. thanks for humoring me here.
[19:43:28] <tjc> let me think about it for a couple minutes and write something up in the doc
[19:43:33] <tjc> then I can push a new commit to that branch
[19:44:17] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[19:45:13] <graydon> s'ok, looked over the code, r+ 
[19:45:29] <graydon> incidentally these unit tests look quite nice! very readable
[19:46:13] <tjc> thanks
[19:47:20] <brson> tjc: speaking of tests, do you mind adressing https://github.com/mozilla/rust/issues/7250?source=cc for 0.7?
[19:47:30] <tjc> brson: Will do
[19:47:35] <brson> thanks
[19:47:37] <tjc> it wasn't milestoned so I missed it
[19:48:16] <tjc> I'm also trying to figure out why the https://github.com/mozilla/rust/pull/7397 tests failed. after rebasing I'm getting a mysterious build failure in libsyntax on my machine
[19:49:07] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[19:49:08] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/zn79vA
[19:49:08] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[19:50:30] *** Quits: Blei (philipp@moz-650B9C6A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[19:52:02] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[19:52:02] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/83u_jg
[19:52:02] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[19:53:40] *** Joins: Jesin (Jessin_@moz-7995C9F4.eecs.lehigh.edu)
[19:55:03] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[19:55:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/83u_jg
[19:55:03] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[19:55:06] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[19:55:06] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/sPN2xQ
[19:55:06] <ghrust> 13rust/06auto 14e8151de 15Brian Anderson: Update version number to 0.7-pre....
[19:55:06] <ghrust> 13rust/06auto 144c86a04 15bors: auto merge of #7418 : brson/rust/0.7-pre, r=cmr...
[19:55:06] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[19:57:30] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[19:58:35] <jedestep> https://gist.github.com/jedestep/5879823
[19:58:47] *** Quits: tjc (tjc@moz-1F8E59C9.west.biz.rr.com) (Ping timeout)
[19:58:47] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[19:58:57] <jedestep> getting a conflicting definition error for implementations of the same trait on unrelated types; any advice?
[19:59:46] <ion> Btw, one can make the GitHub bot send messages without joining the channel. That requires -n, though.
[20:00:08] <bblum> ion: /ignore ghrust JOINS PARTS
[20:00:30] <Eridius> hm I keep meaning to try WeeChat
[20:00:50] <SiegeLord> WeeChat's great
[20:01:08] <bstrie> jedestep: I believe that's a known bug
[20:01:17] <jedestep> awesome
[20:01:20] <jedestep> open issue?
[20:01:26] <bstrie> lemme se
[20:01:26] <Eridius> the problem is I know how to use irssi already, and there's not enough incentive to learn weechat's keyboard shortcuts
[20:01:46] <Eridius> I've actually had weechat running for many months in another pane of my tmux, connected to one channel, but I only use it to troll another person in that channel ;)
[20:01:52] <bstrie> jedestep: https://github.com/mozilla/rust/issues/3429
[20:02:16] <ion> I have switched from irssi to weechat. Both suck in some regards.
[20:02:27] <bstrie> what's better about weechat
[20:02:50] <bstrie> jedestep: actually, maybe that's a different bug
[20:03:00] <bstrie> both involve impling on generics though
[20:03:06] <Eridius> on the one hand I like having a userlist in weechat, but on the other hand, URLs that wrap now can't be opened easily :/
[20:03:06] <jedestep> bstrie: this looks like basically the same thing
[20:03:49] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:04:00] *** Joins: tjc (tjc@moz-1F8E59C9.west.biz.rr.com)
[20:04:00] *** ChanServ sets mode: +o tjc
[20:04:00] <ion> The â€œsmart filterâ€, for instance. Itâ€™ll hide joins, parts and quits from people who havenâ€™t been talking temporally close enough to the event. But itâ€™s not an ignore, you can toggle whether the filtered lines are hidden with meta-=.
[20:04:05] <SiegeLord> Eridius: I use the urlgrabber plugin for that... it's not too bad, in my experience
[20:04:18] <Eridius> ion: really? I didn't know it did that
[20:04:32] <tjc> oh, I'm getting hit by https://github.com/mozilla/rust/issues/7431 too
[20:04:34] <tjc> good times
[20:04:48] <bstrie> haha
[20:04:56] <strcat> why is TERM=dumb? ;p
[20:05:12] <strcat> not that it should fail to work
[20:05:17] <tjc> that's what the emacs shell does
[20:05:19] <Eridius> tjc: hmm, my commit shouldn't have changed the failure case for an invalid terminfo
[20:05:22] <tjc> I can change it, of course
[20:05:26] <strcat> tjc: ah
[20:05:28] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[20:05:39] <mcpherrin> TERM=dumb generally implies no control codes work, ya?
[20:05:41] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[20:05:41] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[20:05:45] <ion> When doing an /upgrade, itâ€™ll restore the buffer contents from the logs without a very hacky script. Also, a bar for tracking where you were in a buffer is built-in without needing another script that does nasty things the buffer wasnâ€™t intended to support.
[20:05:57] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[20:06:00] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[20:06:11] <Eridius> ion: I <3 my mark script in irssi. Had to bind the same key shortcut for weechat though to make it useful
[20:06:23] <Eridius> oh huh dumb isn't invalid, it's a real terminfo, it just supports almost nothing. interesting
[20:06:25] <ion> Irssi implements remembered channels much better.
[20:06:58] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[20:07:49] <Eridius> although I still don't see why dumb would cause failure. it doesn't have setaf or setab, so num_colors would be 0, so any attempt at setting a color would just print nothing
[20:08:35] <tjc> vt100 isn't working either
[20:08:38] <tjc> what is TERM suppoesd to be?
[20:09:29] <jedestep> tjc: something like xterm or xterm-256color
[20:09:37] <jedestep> at least on mine
[20:09:40] <strcat> well ideally something correct for the terminal
[20:09:44] <strcat> ;p
[20:09:56] <Eridius> vt100 doesn't have colors, in my terminfo
[20:09:56] <tjc> I've been setting TERM to something random since 1995, not about to stop now :-D
[20:10:11] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Connection reset by peer)
[20:10:27] <tjc> cool, xterm works. thanks jedestep 
[20:10:31] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Quit: msingle)
[20:10:32] <jedestep> :)
[20:10:38] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[20:12:25] <sp3d> if I understand correctly the problem with TERM (why it's so often set wrong) is that the programs that interpret it are often running on a system that doesn't have the terminal/terminfo installed for the terminal displaying them
[20:12:27] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[20:12:37] <bstrie> "screen-256color" is the TERM that I have to use in order to get vim to work in tmux
[20:13:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:13:33] <sp3d> so you end up using the most powerful+accurate TERM that's going to be present everywhere... often "xterm" or "rxvt", not an accurate description of your fancy terminal
[20:13:40] <Eridius> aww fuck. I didn't read the reset method closely enough. it tries to unwrap "op", and I removed the color_supported check
[20:13:45] <strcat> sp3d: or just install the terminfo you need everywhere
[20:13:54] <strcat> using xterm/rxvt is usually wrong - as in things will be broken
[20:13:58] <jga> if I open sockets with an external api, how can I be sure that fd are kept in the same thread when scheduling?
[20:14:01] <strcat> vte terminals aren't fully xterm compatible
[20:14:13] <sp3d> strcat: can one install terminfo files on arbitrary systems without root?
[20:14:17] <strcat> sp3d: yes
[20:14:28] <friggle> strcat: aren't they? what are the incompatibilites?
[20:14:41] <strcat> friggle: lots of escape codes for keys
[20:14:45] <strcat> backspace
[20:15:10] <strcat> anything actually using terminfo won't work
[20:15:13] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[20:15:22] <strcat> rather than hardcoding 10 backspace escapes and printing them all out
[20:15:41] <strcat> err, accepting them all*
[20:15:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:17:24] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Quit: victorporof)
[20:18:09] <strcat> github seems to feel like being really slow
[20:18:31] <nano> confirmed
[20:19:03] <graydon> brson: ping
[20:19:13] <Eridius> for the record, I'm going to fix the TERM=dumb case
[20:19:31] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[20:19:35] <strcat> graydon: will r=foo,bar?
[20:19:50] <graydon> strcat: hm?
[20:20:02] <strcat> graydon: as an r+ comment, rather than just r=foo
[20:20:12] <graydon> r=foo should work
[20:20:19] <graydon> so long as the author is a reviewer and so is foo
[20:20:30] <strcat> graydon: I mean if I use a comma ;p
[20:20:38] <graydon> what's bar?
[20:20:51] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[20:21:00] <strcat> r=huonw,thestinger,catamorphism - was just going to do it for a PR will several small PRs rolled together
[20:21:32] <strcat> maybe I can just say r=foo and r=bar in two different comments
[20:25:11] <graydon> oh, I see. um.
[20:25:26] <graydon> I don't think bors is smart enough to know what to make of that
[20:25:38] <cmr> tjc: I did some cleanup in libsyntax, maybe related to that?
[20:26:11] <tjc> cmr: Eridius seemed to know what it is? as per comment on https://github.com/mozilla/rust/issues/7431
[20:27:47] <cmr> Oh I thought you were talking about real build failures, not mysteriously disappearing ones :p
[20:28:54] <graydon> strcat: in terms of a rollup PR, just do r=yourself for now and mention the sub-reviews in the remainder of the PR comment
[20:28:59] <graydon> we need to get this automated, sorry :(
[20:29:50] *** Joins: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com)
[20:30:06] *** Quits: Blub\w (wry@moz-F7CF120E.wireless.dyn.drei.com) (Quit: WeeChat 0.4.1)
[20:30:52] <cmr> friggle: terminfo lookup also checks ~/.terminfo and the TERMINFO_DIRS env var.
[20:31:11] <strcat> you can use infocmp/tic to deal with it
[20:31:11] <cmr> it'd be really dumb if it only checked system dirs
[20:31:23] <strcat> infocmp terminal-name > decompiled
[20:31:30] <strcat> send it over with scp/sftp
[20:31:41] <strcat> and 'tic decompiled' on the other end (installs to ~/.terminfo if non-root)
[20:32:01] <strcat> although since nearly anything uses ncurses you can probably just copy the compiled file ;p
[20:32:18] <cmr> strcat: do you know what https://github.com/mozilla/rust/blob/master/src/libsyntax/diagnostic.rs#L313 does? In my cleanup branch with a few changes I'm getting:
[20:32:19] <cmr> diagnostic.rs:310:17: 310:79 error: type `codemap::span` does not implement any method in scope named `map_default`
[20:32:21] <cmr> diagnostic.rs:310         let ss = ei.callee.span.map_default(~"", |span| cm.span_to_str(*span));
[20:32:32] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:32:35] <cmr> Which makes sense, and I have /no idea/ how it worked before
[20:32:59] *** Joins: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net)
[20:33:03] <strcat> runs cm.span_to_str(*span) on it if it's Some, otherwise returns  Some(~"") 
[20:33:21] <strcat> err
[20:33:24] <strcat> returns ~"" ;p
[20:34:16] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:34:38] <cmr> ohh whoops, accidentally murdered an Option along the way
[20:35:10] <cmr> I thought map_default was some iterator thing, and I was very cofnused
[20:37:03] *** Quits: tjc (tjc@moz-1F8E59C9.west.biz.rr.com) (Quit: zzzzzzzzzz)
[20:41:32] *** Quits: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: eevee (eevee@moz-58058235.evrt.wa.frontiernet.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: timot (timot@moz-42B5BBFA.cust.telenor.se) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: cp (cp@moz-993078EE.plus.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: mib_i21ap6 (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: Earnestly (earnest@D1391197.E402D611.5411983D.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: nano (nano@moz-972880B.superkabel.de) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: igl (igl@moz-457AC4E5.adsl.alicedsl.de) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: Aetherspawn_BNC (uid6924@moz-C944F5EC.irccloud.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: _1126 (1126@moz-83D60E55.lileth.net) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: tav (tav@moz-5ED3AF3C.range86-152.btcentralplus.com) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Quits: RMF (RMF@moz-9DB2BEB.dsl.telepac.pt) (sand.mozilla.org dust.mozilla.org)
[20:41:32] *** Joins: eevee (eevee@moz-58058235.evrt.wa.frontiernet.net)
[20:41:35] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[20:41:35] *** ChanServ sets mode: +o brson
[20:41:37] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[20:41:52] *** Joins: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:41:53] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[20:42:21] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[20:42:44] *** Joins: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com)
[20:42:48] *** Quits: ecr (ereed@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[20:42:54] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[20:43:03] *** Joins: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com)
[20:43:03] *** Joins: nano (nano@moz-972880B.superkabel.de)
[20:43:03] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[20:43:03] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[20:43:03] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[20:43:03] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[20:43:03] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[20:43:07] *** Joins: kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de)
[20:43:07] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[20:43:08] *** Joins: timot (timot@moz-42B5BBFA.cust.telenor.se)
[20:43:09] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[20:43:11] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[20:43:11] *** Joins: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[20:43:24] *** Joins: RMF (RMF@moz-9DB2BEB.dsl.telepac.pt)
[20:43:25] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:43:30] *** Joins: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP)
[20:43:33] *** Joins: igl (igl@moz-457AC4E5.adsl.alicedsl.de)
[20:43:34] *** Joins: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it)
[20:43:34] *** Joins: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net)
[20:43:35] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[20:43:35] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[20:43:36] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[20:43:46] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: igl (igl@moz-457AC4E5.adsl.alicedsl.de) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: timot (timot@moz-42B5BBFA.cust.telenor.se) (sand.mozilla.org dust.mozilla.org)
[20:43:46] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: RMF (RMF@moz-9DB2BEB.dsl.telepac.pt) (sand.mozilla.org dust.mozilla.org)
[20:43:47] *** Quits: nano (nano@moz-972880B.superkabel.de) (sand.mozilla.org dust.mozilla.org)
[20:44:11] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[20:44:15] <strcat> rusti: std::sys::size_of::<extra::rc::Rc<int>>()
[20:44:16] -rusti- 16
[20:44:18] *** Joins: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com)
[20:44:20] *** Joins: nano (nano@moz-972880B.superkabel.de)
[20:44:28] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[20:44:28] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[20:44:29] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[20:44:29] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[20:44:32] *** Joins: igl (igl@moz-457AC4E5.adsl.alicedsl.de)
[20:44:35] *** Joins: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[20:44:43] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[20:44:48] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[20:44:49] *** Joins: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net)
[20:44:50] <bstrie> sand.mozilla.org. dust.mozilla.org. concrete.mozilla.org. gravel.mozilla.org.
[20:44:51] *** Joins: kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de)
[20:44:57] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[20:44:57] *** Joins: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch)
[20:45:03] *** Joins: timot (timot@moz-42B5BBFA.cust.telenor.se)
[20:45:04] <bstrie> irc.mozilla.org sysadmins are secretly frustrated geologists
[20:45:09] <cmr> heh
[20:45:13] *** Joins: RMF (RMF@moz-9DB2BEB.dsl.telepac.pt)
[20:45:45] *** Parts: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com) ()
[20:45:45] *** Joins: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP)
[20:46:32] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[20:46:33] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[20:46:33] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[20:46:34] *** Joins: _1126 (1126@moz-83D60E55.lileth.net)
[20:46:40] <strcat> oh aatch accidentally forgot to put no_drop_flag on Rc/RcMut
[20:46:43] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[20:46:44] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[20:46:44] <strcat> he updated the destructors though
[20:46:45] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[20:46:46] <strcat> heh
[20:46:46] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Quit: bye)
[20:46:49] *** Joins: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it)
[20:46:52] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[20:46:56] *** Joins: cp (cp@moz-993078EE.plus.com)
[20:47:45] <bstrie> you mean unsafe_no_drop_flag
[20:47:49] <strcat> yep
[20:48:17] <bstrie> I'm really happy that the github user named "mut" isn't active, or I'd feel really bad for pinging him incessantly
[20:48:28] <bstrie> er, her
[20:48:55] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:49:52] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[20:49:52] * graydon wonders what the highest priority change to bors is to speed it up
[20:50:11] <kimundi> what does no_drop_flag do?
[20:50:13] <cmr> So if there is a @ to an object / block of memory, can that object/block of memory ever be mutated?
[20:50:28] <kimundi> cmr: No
[20:51:10] <bstrie> graydon: bring back moore's law, that should do it
[20:51:25] <cmr> graydon: is bors itself slow?
[20:51:31] <strcat> kimundi: it omits the drop flag and calls the destructor more than once instead
[20:51:40] <strcat> it zeroes the whole struct on a move instead
[20:51:58] <graydon> cmr: no, just cycle time
[20:52:02] <strcat> so it lets NonCopyable be zero-size, and lets smart pointers be 8-byte and check for null in the destructor
[20:52:02] <cmr> ah
[20:52:05] <cmr> that's what I thought
[20:52:05] <kimundi> hu. What are the pros/cons ?
[20:52:08] *** Joins: Earnestly (earnest@4C6AD711.44DF70CF.5411983D.IP)
[20:52:39] <strcat> kimundi: potentially unsafe, no automatic only-call-destructor-once and has to zero the whole struct
[20:52:50] <strcat> but.... we could switch it to per-field attributes now that those exist
[20:53:03] <strcat> and only zero 1 (or more) field
[20:53:06] <cmr> graydon: looking at http://huonw.github.io/isrustfastyet/all.html, mac-all-opt and linux-all-opt dwarf everything else.
[20:53:12] <cmr> but those are cross-builds right?
[20:53:23] *** Quits: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net) (Quit: carllerche)
[20:54:38] <bstrie> graydon: you could make it easier for us to batch changes, like say if we say "r+ batch" then the next time any batched change is next in line then all flagged PRs get tested at once
[20:54:43] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[20:55:00] <cmr> Just knocking off *-all-opt should save 50 minutes...
[20:55:24] <cmr> is master still best-effort? could it run those tests?
[20:55:36] *** Joins: Aetherspawn_BNC (uid6924@moz-C944F5EC.irccloud.com)
[20:55:51] <strcat> bstrie: someone has to babysit it though
[20:55:56] <strcat> because if one fails you have to fix it
[20:55:57] <graydon> all-opt are cross, yes
[20:56:22] <strcat> it's not really that hard to fetch + cherry-pick them
[20:56:25] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Quit: msingle)
[20:57:11] <strcat> git fetch foo.git branch && git cherry-pick first_hash..last_hash
[20:57:27] <strcat> could script it based on PR #
[20:57:38] <cmr> Don't even need to do that.
[20:57:52] <bstrie> strcat: I don't see why it would need babysat, if it fails it can just unbatch and start over with the usual one-at-a-time behavior
[20:57:54] <cmr> git am --apply <(curl https://github.com/mozilla/rust/pulls/number.patch)
[20:58:14] <strcat> cmr: aha
[20:58:16] <cmr> maybe it's just git am
[20:58:23] <cmr> yeah just git am
[20:59:19] <cmr> Is the reason nopt is so slow just because of the gluttonous amounts of IR we generate?
[20:59:54] <strcat> yes
[20:59:59] *** Joins: sebcrozet (Mibbit@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[21:01:05] <graydon> yeah. maybe I should "just" work on filing more of those obvious performance bugs?
[21:02:31] <cmr> Are there any easyish ones?
[21:02:39] <cmr> Also, would anyone mind a p=1 on https://github.com/mozilla/rust/pull/7432 ?
[21:02:50] *** Joins: froglegstew (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[21:03:03] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[21:03:46] <doener> cmr: figured out why I saw the 10% slowdown, librustllvm.so in my upstream build was apparently messed up
[21:04:16] <bstrie> cmr: done
[21:04:19] <cmr> doener: I hope you haven't been puzzling over it this whole time, and stumbled across that on accident?
[21:04:22] <graydon> cmr: that's fine, yeah
[21:04:37] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[21:05:08] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[21:05:11] <doener> cmr: yeah, I just wondered why a tiny change seemed to speed things up and noticed that librustllvm.so sizes differed a lot
[21:05:35] *** Quits: sebcrozet (Mibbit@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:06:02] <doener> cleaned my ccache dir and did a full rebuild, that fixed things up
[21:06:59] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:08:48] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[21:08:49] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[21:12:46] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[21:14:02] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[21:14:19] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[21:15:44] *** Joins: lkuper (lkuper@ACA1ECB.2FC96E37.51B6877.IP)
[21:16:47] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[21:16:56] *** Quits: timot (timot@moz-42B5BBFA.cust.telenor.se) (Ping timeout)
[21:17:03] <bblum> brson: AIUI, in release_broken(), a Tombstone(this) message should never lose a race to a ChildrenTerminated message (i.e., never be behind it in the queue) because 'this' will hold one of the refcounts, right?
[21:17:08] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (Ping timeout)
[21:17:55] *** Joins: tjc (tjc@moz-508C89CD.lightspeed.irvnca.sbcglobal.net)
[21:17:55] *** ChanServ sets mode: +o tjc
[21:18:01] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[21:18:19] *** Joins: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de)
[21:18:58] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[21:19:18] <brson> bblum: yes
[21:20:23] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[21:24:26] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[21:25:20] <brson> graydon: pong
[21:25:57] <graydon> brson: oh, um, re clean-llvm
[21:26:21] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[21:26:28] *** Quits: mark_edward (quassel@moz-4A5B1251.wisolt4.epbfi.com) (Ping timeout)
[21:27:01] <graydon> I suspect the problem has to do with clean-llvm not making it through to the actual buildslave * workspace combination that a bors-initiated change lands on
[21:27:22] <graydon> keep in mind we have buildslaves * builders worth of workspaces, each with their own LLVM build
[21:28:05] <graydon> the "conventional" way around this is for me to turn off bors, ssh into every buildslave and clean all their workspaces, then turn it back on
[21:28:20] <graydon> this is, naturally, an awful approach
[21:28:45] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:28:57] <cmr> I don't remember who I was talking to about capnproto, but it just entered beta: http://kentonv.github.io/capnproto/news/2013-06-27-capn-proto-beta-release.html
[21:30:08] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[21:30:17] *** Quits: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch) (Client exited)
[21:31:49] <graydon> brson: absent getting LLVM out-of-tree, I wonder if it might be reasonable to put an 'llvm-stamp' file in src/ that we can artificially touch to cause a clean-llvm build in the workspace
[21:32:13] <graydon> then if it merges, it'll gradually cause all workspaces to rebuild as it propagates around
[21:32:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:32:30] <graydon> I mean, make is supposed to be .. smart like this, y'know? it's kinda sad how often we resort to "clean"
[21:32:35] <graydon> or various sorts of clean-like-rule
[21:32:40] <graydon> dependencies are supposed to work
[21:33:05] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[21:33:56] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[21:34:50] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:35:09] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[21:35:15] *** Quits: wting (wting@moz-250C027.csres.utexas.edu) (Client exited)
[21:35:57] <Eridius> strcat: r? https://github.com/mozilla/rust/pull/7436
[21:36:01] <Eridius> (fixes TERM=dumb)
[21:36:05] <brson> graydon: I'll try to put together an llvm-stamp rule
[21:36:31] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Ping timeout)
[21:36:34] <brson> graydon: it is the nsis installer that doesn't like 0.7-pre. I'll try to work that out too
[21:36:35] <Eridius> oh hey cmr, you can r+ now?
[21:36:40] <cmr> Eridius: yup!
[21:36:43] <Eridius> awesome
[21:36:53] <cmr> feel free to shove your terminfo stuff at me :p
[21:37:03] <Eridius> heh, if I get around to doing more
[21:37:15] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[21:37:18] <cmr> I think you've pretty much implemented everything that is needed :p
[21:37:25] <Eridius> I want to make reset use sgr0, and expose more toggles like bold, but I'm worried that we have no good way of exposing whether a given operation is supported at the moment
[21:37:31] <brson> graydon: right now my plan is to update the version number to 0.7-pre; do a dist-snap; update to 0.7; dist-snap then we're done.
[21:37:49] <graydon> brson: we're not using nsis anymore; do you mean the current inno one? I was proposing nsis as "maybe that's why we avoided it in the past"
[21:38:04] <brson> graydon: oh, yes. I mean 'whatever the windows installer is' :)
[21:38:09] <graydon> brson: I can work on the llvm stamp rule, you're busy :)
[21:38:19] <brson> graydon: ok
[21:38:46] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[21:39:15] <brson> our 0.7 docs are lacking still. there weren't a lot of major changes this time so we don't necessarily need extensive detailed notes, but there are still some holes to fill
[21:39:17] <strcat> graydon: btw can the tags in the future omit the 'release-' prefix? it's nice to be able to use "git describe" for a nightly package version because git accepts that as a commit id
[21:39:28] <brson> strcat: still need some docs for iterators
[21:39:31] <graydon> strcat: I guess
[21:39:42] <brson> nmatsakis: if you have anything you want mentioned in the release notes please look them over
[21:39:51] <strcat> graydon: for example release-0.6-2665-g9b6dfb8 is the current HEAD
[21:39:52] <graydon> strcat: I don't quite remember why they say 'release-' presently. I thought there was some reason.
[21:39:52] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[21:40:00] <brson> we probably should write something about numerics in the detailed notes too
[21:40:03] *** Quits: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[21:40:15] <cmr> *bjz* should write something about numerics :p
[21:40:17] <strcat> it's just last_tag-commits_since_last_tag-id
[21:40:44] <brson> cmr: yeah, i didn't want to say that while he wasn't here to defend himself though
[21:41:55] <strcat> graydon: huh, it's actually clever enough to find the commit from '0.6-2602-g23fb227' too
[21:42:04] <strcat> guess it's not as important as a thought
[21:42:27] <strcat> it actually just ignores the tag part
[21:46:54] <cmr> I'm not quite sure what I did to cause this; when do these sorts of errors occur? https://gist.github.com/cmr/fb36b7bd2b386db8e9ca
[21:47:13] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[21:47:27] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:47:46] <tjc> cmr: it looks like you need to make the other bindings in the pattern by-ref, too
[21:47:49] *** Joins: seth (seth@2557E599.66715431.D25A875A.IP)
[21:47:52] <tjc> possibly those types changed to become non-copyable
[21:47:56] <strcat> cmr: you can bind by-ref and by-copy
[21:48:02] <tjc> or, yeah, you can do that
[21:48:05] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:48:05] <strcat> because with copy, the deconstructed thing is still there
[21:48:13] <strcat> but if it's not copyable, both need to be by-ref
[21:48:35] <strcat> because the move makes it unusable (it's not fine grained)
[21:48:57] <cmr> ahh
[21:49:30] <strcat> could work One Day
[21:49:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[21:50:20] <engla> the lifetime of the ref would be very short
[21:51:35] <cmr> "copy keyword in patterns no longer has any effect, remove it" can't actually bind by-copy
[21:51:48] <brson> Eridius: is there an issue open on os x 10.9 compatibility? this seems potentially important to fix for 0.7
[21:52:27] <Eridius> brson: yeah I have an issue on it, one sec
[21:52:44] <Eridius> I theorized it was a problem with libc++, but it's actually 10.9 so I should update it
[21:52:57] <Eridius> https://github.com/mozilla/rust/issues/6849
[21:53:04] <Eridius> I'm going to edit it to reflect current knowledge
[21:53:09] <brson> thanks
[21:54:09] <Eridius> ok I rewrote the issue
[21:54:19] * Eridius is compiling right now with the visibility attribute to see if that does anything
[21:54:31] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[21:54:49] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[21:54:49] *** Joins: Ralith (ralith@moz-1D310599.wireless.sfu.ca)
[21:54:55] *** Joins: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:55:16] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[21:57:23] <cmr> graydon: can you up my bug list next week for 100? I was done by tuesday
[21:57:27] *** Quits: ecr (ereed@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[21:57:34] <graydon> oh! um, ok
[21:57:40] <SiegeLord> lol
[21:57:42] <cmr> better than playing video games :p
[21:57:53] <brson> give cmr my bugs
[21:57:56] <cmr> heh
[21:58:02] <SiegeLord> There should be Rust awards ;)
[21:58:17] <brson> i did look into setting up 'open badges' for rust once, but they're complicated
[21:58:51] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[21:59:09] <SiegeLord> Handle them with gloves to avoid tetanus
[21:59:42] <SiegeLord> Where did "Rust" come from anyway... was it one of those sith names that is formed by taking part of a word (trust in this case)?
[21:59:43] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[21:59:52] *** Joins: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net)
[22:00:03] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:00:13] <bblum> brson: how do i make rtdebug! statements show up?
[22:01:07] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[22:01:07] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/sPN2xQ
[22:01:07] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[22:01:17] <brson> bblum: currently you have to edit macros.rs and rename rtdebug_! to rtdebug!
[22:02:02] <cmr> I am 90% sure that when I'm done cleaning this up rustc is going to be slower due to copies...
[22:03:03] <Eridius> cmr: nooooo
[22:03:07] <cmr> some @ are just too important to die :p
[22:03:30] <cmr> I think just changing one ~ back to a @ should help
[22:03:32] <cmr> we'll see though
[22:04:19] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:04:19] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/gYoTDg
[22:04:19] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:04:20] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[22:04:20] <ghrust> 01[13rust01] 15bors pushed 11 new commits to 06auto: 02http://git.io/nOtXVg
[22:04:20] <ghrust> 13rust/06auto 14d0512b1 15Huon Wilson: Convert vec::[mut_]slice to methods, remove vec::const_slice.
[22:04:20] <ghrust> 13rust/06auto 14d2e3e1e 15Huon Wilson: Convert vec::{head, tail, init, last} (and similar fns) to methods.
[22:04:21] <ghrust> 13rust/06auto 141cb0a56 15Huon Wilson: Convert vec::{pop, shift, unshift, insert, remove, swap_remove} to methods.
[22:04:22] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:05:08] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[22:06:04] <Eridius> oh no, const_slice is gone?
[22:06:18] <Eridius> is there any replacement at all, or is it now considered a casualty?
[22:06:28] *** Joins: wting (wting@moz-250C027.csres.utexas.edu)
[22:06:39] <Eridius> I used vec::const_slice with vec::bytes:copy_memory to move bytes from one part of a ~[u8] to another part
[22:07:19] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:07:19] *** ChanServ sets mode: +o dherman
[22:08:15] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:08:59] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[22:09:02] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[22:09:36] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[22:11:25] *** Joins: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk)
[22:11:38] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[22:15:00] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Client exited)
[22:17:41] *** Quits: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk) (Ping timeout)
[22:18:24] <tjc> graydon: Heh, I was going to respond to that email you just responded to on rust-dev, but you were too fast :-)
[22:18:42] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[22:19:04] <graydon> gotta do something to earn my keep
[22:19:40] <tjc> heh
[22:21:13] *** Joins: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk)
[22:22:20] <bblum> brson: the test cases that call run_in_mt_newsched_task and spawntask_random and so on cause their own join latches to be used internally in addition to the one explicitly passed around the test case, right?
[22:22:41] <cmr> So I ended up reverting every change I set out to make in codemap, but everything I didn't set out to change is cleaner :p
[22:23:49] <brson> bblum: yes
[22:24:12] *** Quits: Ralith (ralith@moz-1D310599.wireless.sfu.ca) (Ping timeout)
[22:24:48] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[22:25:11] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[22:25:23] <usea> what's the difference between for foo.each and for foo.iter().advance
[22:25:47] <cmr> usea: one works, one doesn't.
[22:25:56] <toddaaro> I have a rustc error about a method not being in scope, but I have the method defined and it should be in scope
[22:26:01] <toddaaro> how do I debug something like this?
[22:26:05] <cmr> otherwise identical in practice
[22:26:30] <kimundi> usea: each is the old internal iterator way, iter() is the new external iterator way, and advance is an adapter method to turn it ints sometinh tke current for loop  can use
[22:26:48] <usea> ah I see
[22:26:53] <strcat> until for loops are updated to use external iterators
[22:27:01] <usea> I was just skimming the tutorial and saw iter().advance, which I had never seen before
[22:28:03] <kini> how up to date is the tutorial with master, generally?
[22:28:03] <kini> will reading `git log -p doc/tutorial.md` basically keep me abreast of language changes? :)
[22:28:13] <toddaaro> if the method on Foo is (~self) and you call it on a foo that isn't a ~ pointer, would that out-of-scope error?
[22:28:17] <cmr> kini: no
[22:28:49] <cmr> kini: I created this week in rust to fill that gap. http://cmr.github.io/blog/categories/this-week-in-rust/
[22:28:57] <kini> ah, cool
[22:29:05] <kini> looks handy
[22:29:59] <cmr> I could probably do monthly recaps of breaking changes during the non-release months
[22:30:36] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[22:31:01] * strcat has to figure out how to add a tutorial to the build system
[22:31:58] <strcat> mk/docs.mk isn't as bad as I expected :)
[22:32:03] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[22:32:10] <brson> toddaaro: i'm not sure what happens when you try to call a ~self method without a ~self but that sounds plausible. there are also occassionally problems using method names that are also used by other in-scope traits, so e.g. a `map` method might not resolve
[22:32:12] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
[22:32:25] <brson> i've had to name at least one method foo_ because it was used on a prelude trait
[22:32:27] *** Joins: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP)
[22:32:43] <toddaaro> brson: interesting, this is with the 'recycle' method on coroutines
[22:33:39] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:33:40] *** Joins: timot (timot@moz-A46256EB.cust.telenor.se)
[22:34:02] *** Quits: qmx (qmx@moz-2C3A1304.dsl.telesp.net.br) (Quit: Textual IRC Client: www.textualapp.com)
[22:34:37] *** Joins: qmx_ (qmx@moz-D6C3C2E6.qmx.me)
[22:34:39] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[22:35:26] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:35:46] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[22:35:46] <ghrust> 01[13rust01] 15graydon created 06tmp (+1 new commit): 02http://git.io/r5Es-Q
[22:35:46] <ghrust> 13rust/06tmp 14c3fb05c 15Niko Matsakis: Make windows installer work with -pre versions
[22:35:46] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[22:35:55] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[22:35:56] <bblum> toddaaro: did you try being like (~foo).thing()
[22:36:09] <bblum> think about it like this: while we auto-borrow, we do not auto-allocate
[22:36:29] <brson> lol. the rust-win1 bot is set up with graydon's ssh key and niko's name and email
[22:36:31] *** qmx_ is now known as qmx
[22:36:40] <tjc> neat!~
[22:36:57] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:36:57] <ghrust> 01[13rust01] 15brson 04deleted 06tmp at 14c3fb05c: 02http://git.io/6r4YRA
[22:36:57] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:37:02] <graydon> my ssh key?! urk
[22:38:13] <toddaaro> I think I'm making progress, this error message amuses me though: "error: mismatched types: expected `[type error]` but found struct"
[22:38:39] <tjc> toddaaro: that's a bug, it would be great if you could file an issue, if you have a small test case
[22:38:49] <toddaaro> tjc: "the whole runtime" unfortunately
[22:38:56] <tjc> toddaaro: sadtrombone.wav
[22:39:11] *** Quits: lkuper (lkuper@ACA1ECB.2FC96E37.51B6877.IP) (Ping timeout)
[22:39:20] *** Joins: Ralith (ralith@moz-A776DC85.vc.shawcable.net)
[22:39:20] <strcat> I sometimes get "expected &int but found &int"
[22:39:25] <strcat> most aggravating errors
[22:39:36] <toddaaro> is that region based or something?
[22:39:37] <strcat> has to do with mismatched lifetimes, but it doesn't print anything to say so ;p
[22:40:28] <bblum> expected type type error
[22:40:35] <bblum> yeah ty_err shouldn't be emitted
[22:41:13] <strcat> graydon: what's the target to just build the tutorial part of the docs? assuming there is one
[22:41:23] <graydon> there is, umm
[22:41:42] <strcat> make's autocomplete is really bad ;p
[22:41:57] <graydon> don't blame it, we're doing some pretty fancy stuff
[22:42:02] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[22:42:08] <strcat> heh rust-H-all is actually a target
[22:42:08] <graydon> make check-stage[N]-doc-tutorial
[22:42:18] <brson> make doc/tutorial.html will build the doc itself
[22:42:36] <graydon> possibly you have to build doc-tutorial-{tasks,ffi,macros,etc.}
[22:42:44] <strcat> brson: ah okay I wasn't really thinking about how they all get merged into one
[22:42:58] <strcat> I think that's what breaks autocomplete :)
[22:43:38] <strcat> I need to fix the rustc autocomplete for -W and -Z too... it thinks they take N arguments
[22:43:59] <strcat> if only I knew how
[22:45:33] *** Joins: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu)
[22:45:52] <strcat> brson: does it sound sane to remove for loops from the main tutorial, and include them in the Containers and iterators tutorial instead? it would be easier to explain them as sugar
[22:46:32] *** Parts: webber46 (webber46@moz-98D2F3C5.cust.bredband2.com) ()
[22:46:42] <strcat> the tutorial could just use indexing until then
[22:47:02] *** Quits: vittorioromeo (quassel@moz-15A9910A.retail.telecomitalia.it) (Input/output error)
[22:48:58] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Quit: jedestep)
[22:49:16] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[22:52:52] *** Quits: froglegstew (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:53:13] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:53:21] *** Quits: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net) (Input/output error)
[22:53:25] <jclements> brson: ping (2?)
[22:53:39] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:54:10] <brson> strcat: yeah, that probably works. certainly the section on `for` loops no longer belengs as part of the section on closures
[22:54:14] <brson> jclements: pong
[22:55:45] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[22:56:54] <bblum> brson: is whateverman minimized or what
[22:56:57] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[22:57:32] <brson> bblum: yes, it was minimized from a failing stress test
[22:57:42] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[22:57:53] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[22:57:58] <bblum> it has the distinct look of a minimized test case
[22:58:49] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:58:54] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[22:59:06] <brson> in retrospect I supposed there may be a better name for that test case than 'whateverman'
[22:59:23] <brson> but when I finally got it done i was like, 'whatever, man'
[22:59:42] *** Joins: roo (jesse.rudo@moz-5635E54C.ip.windstream.net)
[22:59:47] <bblum> i figured that was what happened
[22:59:47] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[22:59:47] *** ChanServ sets mode: +o pcwalton
[23:01:01] *** Joins: lkuper (lkuper@ACA1ECB.2FC96E37.51B6877.IP)
[23:02:33] <bblum> sure wish i had a line number in this backtrace
[23:03:09] <Jesse> where is whateverman
[23:03:24] <Jesse> WHO is whateverman
[23:03:31] <Jesse> WHAT SUPERPOWERS does whateverman have
[23:03:49] <Jesse> does he have the superpower of ICE
[23:03:50] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[23:03:58] <toddaaro> I think I've narrowed down my error: "cannot move out of type `rt::task::Task`, which defines the `Drop` trait". The code triggering this is the call to recycle on the coroutine inside the task, which is trying to give the stack segment back to the pool.
[23:04:02] <toddaaro> brson: any ideas?
[23:04:50] <doener> I have a failed test, how do I find the test in the source code?
[23:04:50] <doener> command: x86_64-unknown-linux-gnu/test/run-pass/explicit-self.stage2-x86_64-unknown-linux-gnu 
[23:05:18] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[23:05:33] <doener> nvm, found it
[23:05:48] <graydon> Jesse: I think he's slightly less powerful than person man, who already lost to triangle man ...
[23:08:15] <brson> toddaaro: types with dtors can't be taken apart through destructuring and `recycle` wants to take a field of Task by value. to do this either the task has to not have a dtor or you need to mutate the Coroutine to None, etc.
[23:08:22] <jclements> can anyone--ideally in mtv--give me the 30-second overview of ast_map.rs ?
[23:08:56] <strcat> hm
[23:08:58] <brson> todarro: although if dtors took by-value self this could be done in the Task dtor
[23:09:15] <brson> there's an issue open for changing the dtor signature
[23:09:45] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:10:00] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[23:10:23] <toddaaro> brson: would this operation work fine in the task dtor? I think there was a context requirement on this of some sort, but that might just be access to the scheduler stack pool?
[23:10:33] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Quit: Leaving...)
[23:10:35] <MaikKlein> do you think lifetimes are difficult?
[23:10:46] *** Quits: Ralith (ralith@moz-A776DC85.vc.shawcable.net) (Ping timeout)
[23:10:52] <brson> toddaaro: it would not work with the current implementation of Drop which takes (confoundingly) &self
[23:11:32] *** Joins: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[23:11:43] <toddaaro> brson: I'm lost now
[23:12:08] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:12:12] * MaikKlein to understand lifetimes, you will need a lifetime
[23:12:33] <Luqman> tjc: r? rebased https://github.com/mozilla/rust/pull/7410
[23:12:38] <brson> the new error highlighting is nice
[23:14:39] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Client exited)
[23:14:49] <tjc> Luqman: approved, thanks!
[23:15:16] <strcat> brson: it's actually old but now there's great terminfo support to detect when it can be enabled
[23:15:30] <strcat> before it hardcoded xterm-256color and something else
[23:16:18] <strcat> rusti: let xs = [1, 9, 2, 3, 14, 12]; xs.iter().fold(0, |accumulator, item| accumulator - *item)
[23:16:22] -rusti- -41
[23:16:26] *** Quits: tjc (tjc@moz-508C89CD.lightspeed.irvnca.sbcglobal.net) (Quit: zzzzzzzzzz)
[23:17:31] *** Joins: tjc (tjc@moz-508C89CD.lightspeed.irvnca.sbcglobal.net)
[23:17:31] *** ChanServ sets mode: +o tjc
[23:17:31] <brson> toddaaro: the recycle method does require a StackPool, yes, so you would have to have another way to get ahold of it to recycle the Coroutine from the Task's drop method
[23:18:14] <MaikKlein> can I cast &mut self to immutable self?
[23:18:18] <aatch|gone> brson, can you clean the util-doc builder? It's complaining of multiple crates.
[23:18:19] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[23:18:26] <aatch|gone> MaikKlein, it should coerce
[23:18:28] <toddaaro> brson: is TLS out of bounds here?
[23:18:32] <brson> man page needs updating. time to learn some nrof
[23:18:54] <toddaaro> I believe an option dance will work, so I guess I can do that
[23:19:12] <strcat> brson: I think we could probably just be compiling the man page from something saner with pandoc, not that important
[23:19:19] <brson> toddaaro: I am not sure whether the ~Scheduler pointer is available when a task is destroyed
[23:19:38] <brson> aatch|gone: which platform?
[23:19:45] <brson> i guess I can look
[23:19:47] <aatch|gone> brson, it's a single builder
[23:20:06] <aatch|gone> runs on all the linux bots though
[23:20:20] *** Quits: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:20:23] *** aatch|gone is now known as aatch
[23:20:23] <MaikKlein> aatch|gone, because I get error: mismatched types: expected `std::option::Option<&'self SceneNode<'self>>` but found `std::option::Option<&'self mut SceneNode<'self>>
[23:20:51] <toddaaro> brson: I'll just option dance it
[23:21:06] <bblum> delicious option dance
[23:21:09] <Eridius> MaikKlein: you can say &*self
[23:21:20] <Eridius> but remember, this will freeze the &mut self while your &self is alive
[23:21:52] <aatch> MaikKlein, oh, btw, it's generally not a good idea to have &'self xxx
[23:22:29] <MaikKlein> yeah I would avoid it if I would know how :D
[23:22:35] <brson> graydon: is the linux2 buildslave rust-linux2.mv.mozilla.com?
[23:22:57] <graydon> brson: no
[23:22:58] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[23:23:04] <graydon> brson: unfortunate naming on my part, sorry
[23:23:30] <graydon> linux1 and linux2 are the ones next to my desk, "bot1" and "bot2" on local dns but non-resolvable from outside
[23:23:35] <brson> graydon: oh, would you mind cleaning the util-doc workspace on linux2?
[23:23:49] <graydon> linux1b and linux2b are the rust-linux{1,2}.mv.... ones
[23:23:53] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[23:23:54] <graydon> sure, np
[23:24:40] <graydon> clean or clean-llvm?
[23:25:04] <brson> clean
[23:25:27] <graydon> done
[23:25:30] <brson> thanks
[23:25:32] <brson> aatch: ^
[23:26:03] <aatch> brson, graydon, thanks. I noticed it the other day, just means that the last like 4-5 doc builds haven't gone through.
[23:26:47] <MaikKlein> https://gist.github.com/MaikKlein/5881255 line 28 and line 35. Can I avoid 'self and how do I even specify the lifetime for this?
[23:27:06] <aatch> MaikKlein, hmm, interesting.
[23:27:10] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[23:29:01] <brson> we need man pages for `rusti`, `rustdoc`, `rustpkg` and `rust` too :(
[23:29:20] <brson> i'm not going to write those now
[23:29:25] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[23:29:25] <bblum> hmm, i got the instead of the poems I had hoped for message
[23:31:45] <strcat> brson: https://github.com/mozilla/rust/pull/7438 the start of it (don't bother r+'ing yet)
[23:32:19] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[23:33:55] *** Quits: lkuper (lkuper@ACA1ECB.2FC96E37.51B6877.IP) (Ping timeout)
[23:36:03] <bblum> brson: you don't seem to need generation #3 in this test
[23:36:14] <pcwalton> about 10 uses of "copy" on implicitly copyable values in both libstd and libextra
[23:36:17] <pcwalton> and a lot more in libsyntax
[23:36:26] <pcwalton> that's 10 uses each
[23:36:27] <bblum> and none of the 'succeed' values matter
[23:36:38] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[23:36:54] <aatch> MaikKlein, I don't think it's possible... since you'd end up with multiple &mut's at once.
[23:37:05] *** Joins: dbaupp (Thunderbir@moz-EAB436DB.lns20.syd6.internode.on.net)
[23:37:27] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[23:37:27] *** ChanServ sets mode: +o pcwalton
[23:38:43] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[23:38:55] <aatch> MaikKlein, I don't know much about scenegraphs, but from my understanding, they're actually trees?
[23:39:41] <MaikKlein> aatch, well they don't have to be, I just wanted to play around a bit and I couldn't even make a simple reference to a parent :(
[23:39:51] <MaikKlein> (they are actually graphs)
[23:40:18] <aatch> MaikKlein, Well then you won't be able to use borrowed pointers for a graph anyway.
[23:40:32] <aatch> Are you likely to have cycles?
[23:40:44] <strcat> you can represent a graph with cycles without @
[23:40:47] <strcat> the nodes just need keys
[23:40:58] <MaikKlein> cycles?
[23:41:08] <aatch> MaikKlein, so A -> B -> C -> A
[23:41:11] *** Quits: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[23:41:15] *** Joins: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP)
[23:41:22] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[23:41:28] <strcat> {A: B, B: C, C: A} in a map ;p
[23:41:44] <aatch> strcat, true. Didn't think of that.
[23:41:52] * aatch is thinking to literally.
[23:41:57] <aatch> too*
[23:41:59] <strcat> that's usually how you would represent it, or in a matrix
[23:42:09] <strcat> if you actually ever do anything beyond walking it
[23:42:49] <brson> bblum: oh, oops
[23:43:02] <strcat> and if it has cycles you need keys anyway to walk it
[23:43:05] *** Quits: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP) (Quit: lmandel)
[23:43:18] <aatch> strcat, so ideally you have a Graph object and Node objects? And the Graph object is what keeps track of the edges?
[23:43:27] <strcat> aatch: in most cases
[23:43:55] <aatch> strcat, makes sense
[23:44:03] *** Joins: dr_ovo_ono (a@3E175CB6.3BFE01A3.90C2761D.IP)
[23:44:18] <dr_ovo_ono> hi
[23:44:34] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:45:36] *** Quits: dr_ovo_ono (a@3E175CB6.3BFE01A3.90C2761D.IP) (Quit: )
[23:45:50] <aatch> that was... odd
[23:46:49] <brendanc> that was the vanguard of your destruction
[23:47:14] <cmr> that's all it's got?
[23:47:21] <cmr> we're going to kick our destruction's ass
[23:47:24] <aatch> brendanc, reference I'm not getting?
[23:47:52] <MaikKlein> okay so you are saying that I should put my scenegraph into an array. And then use ids to keep track of parents etc. yeah that would work probably. I just wanted to play around with the language :(
[23:48:33] <cmr> MaikKlein: you should write an irc client in rust
[23:48:41] <aatch> MaikKlein, that's fine. But as far as I can tell you're trying to express something that isn't easily expressible in Rust.
[23:49:15] <aatch> I think the limiting factor is the fact you can only have one lifetime on a struct.
[23:49:16] <strcat> well usually that's just how you store graphs
[23:49:20] <brson> ok, now I'm going to fix the problem where the windows installer doesn't include rusti, etc.
[23:49:23] <strcat> in python too
[23:50:05] <MaikKlein> yes I think that is the problem too
[23:50:24] <MaikKlein> I just need to find a better way to express my problem
[23:50:27] <strcat> {"a": ["b", "c"], "b": ["a"], "c": ["a"]}, or with edge metadata {"a": [("b", 4), ("c", 4)], "b": [("a", 2)], "c": [("a", 2)]}
[23:50:27] <cmr> brson: windows is a tier 1 platform, but are there any windows devs?
[23:50:38] <MaikKlein> maybe I can have a workaround
[23:50:49] <aatch> cmr, like 2-3 total
[23:51:40] <aatch> windows isn't really a tier 1 platform, mingw is.
[23:51:59] <MaikKlein> strcat, yes I learned that in my university. I probably do that now
[23:52:27] *** Joins: wuwei (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[23:55:23] <MaikKlein> hm I probably need to do it that way [a,c,b,d]   {0 : [1,2], 1:[0]}
[23:55:41] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[23:55:48] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[23:56:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:57:54] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[23:58:20] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[23:59:37] *** Quits: eholk (eholk@B80996B4.83FFA18A.ABD5273E.IP) (Quit: eholk)
